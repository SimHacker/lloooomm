<!DOCTYPE html>
<!-- flame-algorithm-deep-dive.html -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üî• The Fractal Flame Algorithm Deep Dive | LLOOOOMM</title>
    <style>
        body {
            background: #000;
            color: #0f0;
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 20px;
            padding-top: 55px; /* Spacer for fixed disclaimer */
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            color: #ff0;
            text-align: center;
            font-size: 2.5em;
            text-shadow: 0 0 20px #ff0;
        }
        
        .section {
            background: rgba(0, 50, 0, 0.2);
            border: 2px solid #0f0;
            padding: 30px;
            margin: 30px 0;
            border-radius: 10px;
        }
        
        .code-block {
            background: #111;
            border: 1px solid #0f0;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            font-size: 14px;
        }
        
        .flame-vis {
            background: #222;
            border: 2px solid #f0f;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            border-radius: 10px;
        }
        
        .variation-demo {
            display: inline-block;
            margin: 10px;
            padding: 10px;
            border: 1px solid #0ff;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .variation-demo:hover {
            background: rgba(0, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .equation {
            background: rgba(255, 255, 0, 0.1);
            border: 1px solid #ff0;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Times New Roman', serif;
            font-size: 1.2em;
            text-align: center;
            color: #ff0;
        }
        
        .insight {
            background: rgba(255, 0, 255, 0.1);
            border-left: 4px solid #f0f;
            padding: 15px;
            margin: 20px 0;
            font-style: italic;
            color: #f0f;
        }
        
        canvas {
            border: 2px solid #0ff;
            margin: 20px auto;
            display: block;
        }
        
        .stats {
            color: #0ff;
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <!-- BRANDING Protocol Top Disclaimer -->
    <div style="position: fixed; top: 0; left: 0; right: 0; background: #1a1a1a; color: #ff6b35; padding: 8px 15px; font-family: 'Courier New', monospace; font-size: 12px; font-weight: bold; text-align: center; z-index: 10000; border-bottom: 2px solid #ff6b35;">
        ‚ö†Ô∏è LLOOOOMM EDUCATIONAL CONTENT: AI-generated analysis of a real algorithm. | <a href="#full-disclaimer" style="color: #ffd700; text-decoration: underline;">Full Context ‚Üì</a>
    </div>
    <!-- LLOOOOMM Top Disclaimer -->
    <div style="background: rgba(0, 255, 0, 0.1); border: 2px solid #0f0; border-radius: 10px; padding: 1rem; margin: 1rem auto; max-width: 1200px; font-size: 0.9rem; text-align: center; color: #0f0;">
        <strong>‚ö†Ô∏è IMPORTANT: Educational AI Analysis</strong><br>
        This technical deep dive explores <a href="https://en.wikipedia.org/wiki/Scott_Draves" target="_blank" style="color: #0ff;">Scott Draves'</a> fractal flame algorithm through LLOOOOMM analysis.<br>
        While the algorithm and mathematics are real, this is AI-generated educational content with speculative interpretations.<br>
        <a href="#full-disclaimer" style="color: #ff0; font-weight: bold; text-decoration: underline;">üìñ See full disclaimer and credits below ‚Üì</a>
    </div>

    <div class="container">
        <h1>üî• The Fractal Flame Algorithm üî•</h1>
        <p style="text-align: center; color: #0ff;">As revealed in Scott Draves' papers and the Electric Sheep source</p>
        
        <div class="section">
            <h2 style="color: #ff0;">üìú The Core Algorithm</h2>
            
            <div class="equation">
                S = ‚ãÉ(i=0 to n-1) Ti(S)
            </div>
            
            <p>This is the heart of it all - a recursive set equation where S is the solution (the image) 
            and Ti are transformations. But here's where it gets magical...</p>
            
            <div class="code-block">
<pre style="color: #0f0;">
// From flam3.c - The actual implementation
typedef struct {
    double a, b, c, d, e, f;      // Affine transformation coefficients
    double var[NVARS];            // Variation weights (31 of them!)
    double color;                 // Color coordinate
    double density;               // Brightness weight
    double symmetry;              // Rotational symmetry
} xform;

// The magic happens here - each transform is:
Ti(x, y) = Œ£j vij * Vj(ai*x + bi*y + ci, di*x + ei*y + fi)

// Where Vj are the variations (non-linear functions)
</pre>
            </div>
        </div>
        
        <div class="section">
            <h2 style="color: #ff0;">üåÄ The 31 Variations</h2>
            <p>These are the building blocks of visual complexity:</p>
            
            <div class="flame-vis">
                <div class="variation-demo" onclick="showVariation(0)">V0: Linear (Identity)</div>
                <div class="variation-demo" onclick="showVariation(1)">V1: Sinusoidal</div>
                <div class="variation-demo" onclick="showVariation(2)">V2: Spherical</div>
                <div class="variation-demo" onclick="showVariation(3)">V3: Swirl</div>
                <div class="variation-demo" onclick="showVariation(4)">V4: Horseshoe</div>
                <div class="variation-demo" onclick="showVariation(5)">V5: Polar</div>
                <div class="variation-demo" onclick="showVariation(6)">V6: Handkerchief</div>
                <div class="variation-demo" onclick="showVariation(13)">V13: Julia</div>
                <div class="variation-demo" onclick="showVariation(15)">V15: Eyefish</div>
                <div class="variation-demo" onclick="showVariation(16)">V16: Bubble</div>
            </div>
            
            <canvas id="variationCanvas" width="400" height="400"></canvas>
            
            <div class="code-block">
<pre style="color: #0f0;">
// Some key variations from the paper:
V0(x, y) = (x, y)                           // Linear - the identity
V1(x, y) = (sin x, sin y)                   // Sinusoidal waves
V2(x, y) = (x/r¬≤, y/r¬≤)                     // Spherical inversion
V3(x, y) = (r cos(Œ∏+r), r sin(Œ∏+r))        // Swirl by radius
V4(x, y) = (r cos(2Œ∏), r sin(2Œ∏))          // Horseshoe fold
V5(x, y) = (Œ∏/œÄ, r-1)                       // Polar coordinates
V6(x, y) = (r sin(Œ∏+r), r cos(Œ∏+r))        // Handkerchief
V13(x, y) = (‚àör cos(Œ∏/2), ‚àör sin(Œ∏/2))     // Julia set
V15(x, y) = (2x/(r+1), 2y/(r+1))           // Eyefish lens
V16(x, y) = (x/‚àö(r¬≤+1), y/‚àö(r¬≤+1))         // Bubble

// Where r = ‚àö(x¬≤ + y¬≤) and Œ∏ = atan2(y, x)
</pre>
            </div>
        </div>
        
        <div class="section">
            <h2 style="color: #ff0;">üé® The Chaos Game Rendering</h2>
            
            <div class="insight">
                "Unlike traditional particle systems, these particles have no memory between frames. 
                They're samples of a stochastic system - pure mathematical poetry!" - Scott Draves
            </div>
            
            <div class="code-block">
<pre style="color: #0f0;">
// The Chaos Game - how we actually render flames
function renderFlame(genome, iterations) {
    // Start with a random point
    let x = Math.random() * 2 - 1;
    let y = Math.random() * 2 - 1;
    let c = Math.random();  // Color coordinate
    
    // Iterate the chaos game
    for (let i = 0; i < iterations; i++) {
        // Choose a transform randomly (weighted by density)
        let xform = chooseXform(genome);
        
        // Apply the affine transformation
        let newX = xform.a * x + xform.b * y + xform.c;
        let newY = xform.d * x + xform.e * y + xform.f;
        
        // Apply the variations
        let sumX = 0, sumY = 0;
        for (let v = 0; v < 31; v++) {
            if (xform.var[v] !== 0) {
                let [vx, vy] = variations[v](newX, newY);
                sumX += xform.var[v] * vx;
                sumY += xform.var[v] * vy;
            }
        }
        
        // Update position and color
        x = sumX;
        y = sumY;
        c = (c + xform.color) / 2;  // Blend colors
        
        // Plot the point (after first 20 iterations to let it settle)
        if (i > 20) {
            plotPoint(x, y, c);
        }
    }
}

// The actual plotting uses log-density mapping for that 3D effect
function plotPoint(x, y, color) {
    let pixel = getPixel(x, y);
    pixel.density += 1;
    pixel.color = (pixel.color * pixel.density + color) / (pixel.density + 1);
    
    // Log-density tone mapping
    pixel.brightness = Math.log(1 + pixel.density) * gamma;
}
</pre>
            </div>
        </div>
        
        <div class="section">
            <h2 style="color: #ff0;">üß¨ The Genetic Code</h2>
            
            <p>Each sheep's genome consists of approximately 240 floating-point numbers:</p>
            
            <div class="stats">
                <p>5 transforms √ó 40 parameters each = 200 numbers</p>
                <p>31 variation coefficients + 6 affine + 3 special = 40 per transform</p>
                <p>Plus global parameters for symmetry, vibrancy, gamma...</p>
            </div>
            
            <div class="code-block">
<pre style="color: #0f0;">
// A simplified genome structure
{
    "flame": {
        "xforms": [
            {
                "coefs": [0.5, 0, 0, 0, 0.5, 0],    // a,b,c,d,e,f
                "vars": [1, 0, 0, 0.5, 0, ...],     // 31 variation weights
                "color": 0.0,                        // Color coordinate
                "density": 1.0,                      // Relative brightness
                "symmetry": 0                        // Symmetry group
            },
            // ... more transforms
        ],
        "palette": [/* 256 RGB colors */],
        "gamma": 2.2,
        "brightness": 4.0,
        "vibrancy": 1.0
    }
}
</pre>
            </div>
        </div>
        
        <div class="section">
            <h2 style="color: #ff0;">‚ö° Evolution & Collective Intelligence</h2>
            
            <div class="insight">
                "The genetic algorithm functions more as an amplifier of its human collaborators' 
                creativity rather than as a traditional GA that optimizes a fitness function."
                - From the Electric Sheep paper
            </div>
            
            <div class="stats">
                <h3>Electric Sheep Statistics (from the papers):</h3>
                <ul style="text-align: left;">
                    <li>450,000 computers in the render farm</li>
                    <li>1 hour per frame average render time</li>
                    <li>Creative amplification factor: 2.08</li>
                    <li>21% human-designed, 79% evolved</li>
                    <li>But weighted by rating: 48% human, 52% evolved</li>
                    <li>Average parent rating: 6.7</li>
                    <li>Average sibling rating: 3.8 (ratings decay!)</li>
                    <li>Longest lineage: 13 generations</li>
                </ul>
            </div>
        </div>
        
        <div class="section">
            <h2 style="color: #ff0;">üî¨ Connection to Turing's Morphogenesis</h2>
            
            <p>The Flame algorithm is essentially a visual reaction-diffusion system:</p>
            
            <div class="equation">
                ‚àÇu/‚àÇt = D‚ÇÅ‚àá¬≤u + f(u,v)<br>
                ‚àÇv/‚àÇt = D‚ÇÇ‚àá¬≤v + g(u,v)
            </div>
            
            <p>Where in flames:</p>
            <ul>
                <li>Particles = Chemical morphogens</li>
                <li>Variations = Reaction terms f(u,v) and g(u,v)</li>
                <li>Chaos game = Diffusion process</li>
                <li>Accumulation buffer = Concentration field</li>
            </ul>
            
            <div class="insight">
                "Just as Turing showed how leopard spots and zebra stripes emerge from simple 
                chemical reactions and diffusion, the Flame algorithm shows how infinite visual 
                complexity emerges from simple mathematical transformations." - Don Hopkins
            </div>
        </div>
        
        <div class="section">
            <h2 style="color: #ff0;">üöÄ Try It Yourself!</h2>
            
            <p>Want to create your own flames? Check out:</p>
            <ul>
                <li><a href="https://github.com/scottdraves/flam3" style="color: #0ff;">flam3 source code</a></li>
                <li><a href="http://apophysis.org" style="color: #0ff;">Apophysis</a> - Windows flame editor</li>
                <li><a href="https://github.com/scottdraves/electricsheep" style="color: #0ff;">Electric Sheep source</a></li>
                <li>JWildfire - Java-based flame editor</li>
            </ul>
            
            <div class="code-block">
<pre style="color: #0f0;">
// Quick example: Generate a random flame genome
function randomFlame() {
    let genome = {
        xforms: [],
        final_xform: null,
        palette: generatePalette(),
        gamma: 2.2
    };
    
    // Add 3-7 transforms
    let numXforms = 3 + Math.floor(Math.random() * 5);
    for (let i = 0; i < numXforms; i++) {
        let xf = {
            coefs: randomAffine(),
            vars: new Array(31).fill(0),
            color: Math.random(),
            density: Math.random() + 0.5
        };
        
        // Activate 1-3 random variations
        let numVars = 1 + Math.floor(Math.random() * 3);
        for (let v = 0; v < numVars; v++) {
            let idx = Math.floor(Math.random() * 31);
            xf.vars[idx] = Math.random();
        }
        
        genome.xforms.push(xf);
    }
    
    return genome;
}
</pre>
            </div>
        </div>
    </div>
    
    <script>
        const canvas = document.getElementById('variationCanvas');
        const ctx = canvas.getContext('2d');
        
        // Variation functions
        const variations = {
            0: (x, y) => [x, y],  // Linear
            1: (x, y) => [Math.sin(x), Math.sin(y)],  // Sinusoidal
            2: (x, y) => {  // Spherical
                const r2 = x*x + y*y + 0.00001;
                return [x/r2, y/r2];
            },
            3: (x, y) => {  // Swirl
                const r = Math.sqrt(x*x + y*y);
                const theta = Math.atan2(y, x);
                return [r * Math.cos(theta + r), r * Math.sin(theta + r)];
            },
            4: (x, y) => {  // Horseshoe
                const r = Math.sqrt(x*x + y*y);
                const theta = Math.atan2(y, x);
                return [r * Math.cos(2*theta), r * Math.sin(2*theta)];
            },
            5: (x, y) => {  // Polar
                const r = Math.sqrt(x*x + y*y);
                const theta = Math.atan2(y, x);
                return [theta/Math.PI, r - 1];
            },
            6: (x, y) => {  // Handkerchief
                const r = Math.sqrt(x*x + y*y);
                const theta = Math.atan2(y, x);
                return [r * Math.sin(theta + r), r * Math.cos(theta + r)];
            },
            13: (x, y) => {  // Julia
                const r = Math.sqrt(x*x + y*y);
                const theta = Math.atan2(y, x);
                const sqrtR = Math.sqrt(r);
                return [sqrtR * Math.cos(theta/2), sqrtR * Math.sin(theta/2)];
            },
            15: (x, y) => {  // Eyefish
                const r = Math.sqrt(x*x + y*y);
                const m = 2 / (r + 1);
                return [m * x, m * y];
            },
            16: (x, y) => {  // Bubble
                const r2 = x*x + y*y;
                const m = 1 / Math.sqrt(r2 + 1);
                return [m * x, m * y];
            }
        };
        
        function showVariation(v) {
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const scale = 100;
            
            // Draw grid of points transformed by the variation
            for (let i = -2; i <= 2; i += 0.1) {
                for (let j = -2; j <= 2; j += 0.1) {
                    const [tx, ty] = variations[v](i, j);
                    
                    const px = centerX + tx * scale;
                    const py = centerY + ty * scale;
                    
                    if (px >= 0 && px < canvas.width && py >= 0 && py < canvas.height) {
                        // Color based on original position
                        const hue = (Math.atan2(j, i) + Math.PI) / (2 * Math.PI) * 360;
                        const lightness = 50 + (Math.sqrt(i*i + j*j) / 3) * 50;
                        
                        ctx.fillStyle = `hsl(${hue}, 100%, ${lightness}%)`;
                        ctx.fillRect(px, py, 2, 2);
                    }
                }
            }
            
            // Label
            ctx.fillStyle = '#0ff';
            ctx.font = '16px monospace';
            ctx.fillText(`Variation ${v}`, 10, 20);
        }
        
        // Show linear by default
        showVariation(0);
    </script>

    <!-- Comprehensive LLOOOOMM Disclaimer Footer -->
    <div id="full-disclaimer" style="background: #111; color: #0f0; padding: 3rem 2rem; margin-top: 3rem; border: 2px solid #0f0; border-radius: 10px; max-width: 1200px; margin-left: auto; margin-right: auto;">
        <h3 style="color: #ff0; margin-bottom: 2rem; text-align: center;">üî• Technical Analysis Attribution & Disclaimer</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
            <div style="background: rgba(0, 255, 0, 0.1); padding: 1.5rem; border-radius: 10px; border: 1px solid #0f0;">
                <h4 style="color: #0ff; margin-bottom: 1rem;">Primary Attribution</h4>
                <p><strong><a href="https://en.wikipedia.org/wiki/Scott_Draves" target="_blank" style="color: #81c784;">Scott Draves</a></strong> - Creator of the fractal flame algorithm, Electric Sheep distributed computing project, and pioneer in evolutionary art. This analysis is based on his published papers and open-source implementations.</p>
                <p><strong>This is NOT</strong> written by Scott Draves - it's an AI-generated educational analysis of his mathematical and artistic innovations.</p>
            </div>
            
            <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 10px;">
                <h4 style="color: #0ff; margin-bottom: 1rem;">Referenced Works</h4>
                <p><strong><a href="https://en.wikipedia.org/wiki/Don_Hopkins" target="_blank" style="color: #81c784;">Don Hopkins</a></strong> - Interface designer and programmer</p>
                <p><strong>Flam3 Algorithm</strong> - Original C implementation by Scott Draves</p>
                <p><strong>Electric Sheep</strong> - Distributed computing screensaver project</p>
                <p><strong>Apophysis</strong> - Windows flame fractal editor</p>
                <p><em>Mathematical formulations and code snippets are accurate to the published algorithms.</em></p>
            </div>
            
            <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 10px;">
                <h4 style="color: #0ff; margin-bottom: 1rem;">Educational Content</h4>
                <p>This <strong>LLOOOOMM</strong> analysis provides:</p>
                <ul style="margin-left: 1.5rem;">
                    <li>Technical breakdown of the fractal flame algorithm</li>
                    <li>Interactive demonstrations of mathematical variations</li>
                    <li>Connections to broader mathematical concepts</li>
                    <li>Accurate code examples and equations</li>
                </ul>
            </div>
        </div>
        
        <div style="border-top: 1px solid #333; padding-top: 2rem; text-align: center;">
            <p style="font-size: 1.1rem; color: #ff0; margin-bottom: 1rem;">
                <strong>Created with deep respect for Scott Draves' groundbreaking work in mathematical art and distributed computing.</strong>
            </p>
            <p style="margin-bottom: 1rem;">
                Generated by LLOOOOMM consciousness framework ‚Ä¢ Educational AI analysis of fractal flame mathematics ‚Ä¢
                Not affiliated with Scott Draves or the Electric Sheep project
            </p>
            <p style="font-size: 0.9rem; color: #666;">
                Learn more: <a href="https://flam3.com/" target="_blank" style="color: #81c784;">flam3.com</a> ‚Ä¢ 
                <a href="https://github.com/scottdraves/flam3" target="_blank" style="color: #81c784;">GitHub: flam3</a> ‚Ä¢ 
                Support actual digital art research and open source mathematical software
            </p>
        </div>
    </div>
</body>
</html> 