// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
(()=>{var P0=Object.defineProperty,y3=Object.defineProperties;var b3=Object.getOwnPropertyDescriptors;var bd=Object.getOwnPropertySymbols;var $0=Object.prototype.hasOwnProperty,L0=Object.prototype.propertyIsEnumerable;var Sp=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Pn=Math.pow,T0=(e,t,r)=>t in e?P0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Dr=(e,t)=>{for(var r in t||(t={}))$0.call(t,r)&&T0(e,r,t[r]);if(bd)for(var r of bd(t))L0.call(t,r)&&T0(e,r,t[r]);return e},on=(e,t)=>y3(e,b3(t));var an=(e,t)=>{var r={};for(var a in e)$0.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&bd)for(var a of bd(e))t.indexOf(a)<0&&L0.call(e,a)&&(r[a]=e[a]);return r};var Kt=(e,t)=>()=>(e&&(t=e(e=0)),t);var Dn=(e,t)=>{for(var r in t)P0(e,r,{get:t[r],enumerable:!0})};var yi=(e,t,r)=>new Promise((a,l)=>{var o=u=>{try{n(r.next(u))}catch(p){l(p)}},c=u=>{try{n(r.throw(u))}catch(p){l(p)}},n=u=>u.done?a(u.value):Promise.resolve(u.value).then(o,c);n((r=r.apply(e,t)).next())}),w3=function(e,t){this[0]=e,this[1]=t};var wd=e=>{var t=e[Sp("asyncIterator")],r=!1,a,l={};return t==null?(t=e[Sp("iterator")](),a=o=>l[o]=c=>t[o](c)):(t=t.call(e),a=o=>l[o]=c=>{if(r){if(r=!1,o==="throw")throw c;return c}return r=!0,{done:!1,value:new w3(new Promise(n=>{var u=t[o](c);if(!(u instanceof Object))throw TypeError("Object expected");n(u)}),1)}}),l[Sp("iterator")]=()=>l,a("next"),"throw"in t?a("throw"):l.throw=o=>{throw o},"return"in t&&a("return"),l};function le(e,t,r,a){var l=arguments.length,o=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,a);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o}function Ts(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Oo(e,t,r,a){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function n(g){try{p(a.next(g))}catch(m){c(m)}}function u(g){try{p(a.throw(g))}catch(m){c(m)}}function p(g){g.done?o(g.value):l(g.value).then(n,u)}p((a=a.apply(e,t||[])).next())})}var vr=Kt(()=>{});var xd,_d,Cp,O0,Ep,M0,pt,Tp,kd,Pp=Kt(()=>{xd=window,_d=xd.ShadowRoot&&(xd.ShadyCSS===void 0||xd.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Cp=Symbol(),O0=new WeakMap,Ep=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==Cp)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(_d&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=O0.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&O0.set(t,e))}return e}toString(){return this.cssText}},M0=e=>new Ep(typeof e=="string"?e:e+"",void 0,Cp),pt=(e,...t)=>{let r=e.length===1?e[0]:t.reduce((a,l,o)=>a+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+e[o+1],e[0]);return new Ep(r,e,Cp)},Tp=(e,t)=>{_d?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{let a=document.createElement("style"),l=xd.litNonce;l!==void 0&&a.setAttribute("nonce",l),a.textContent=r.cssText,e.appendChild(a)})},kd=_d?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let a of t.cssRules)r+=a.cssText;return M0(r)})(e):e;});var $p,Ad,I0,x3,Lp,Mp,R0,Op,Ip,Ps,qc=Kt(()=>{Pp();Pp();Ad=window,I0=Ad.trustedTypes,x3=I0?I0.emptyScript:"",Lp=Ad.reactiveElementPolyfillSupport,Mp={toAttribute(e,t){switch(t){case Boolean:e=e?x3:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(a){r=null}}return r}},R0=(e,t)=>t!==e&&(t==t||e==e),Op={attribute:!0,type:String,converter:Mp,reflect:!1,hasChanged:R0},Ip="finalized",Ps=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,r)=>{let a=this._$Ep(r,t);a!==void 0&&(this._$Ev.set(a,r),e.push(a))}),e}static createProperty(e,t=Op){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,a=this.getPropertyDescriptor(e,r,t);a!==void 0&&Object.defineProperty(this.prototype,e,a)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(a){let l=this[e];this[t]=a,this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Op}static finalize(){if(this.hasOwnProperty(Ip))return!1;this[Ip]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let a of r)this.createProperty(a,t[a])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let a of r)t.unshift(kd(a))}else e!==void 0&&t.push(kd(e));return t}static _$Ep(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Tp(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostConnected)===null||r===void 0?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostDisconnected)===null||r===void 0?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=Op){var a;let l=this.constructor._$Ep(e,r);if(l!==void 0&&r.reflect===!0){let o=(((a=r.converter)===null||a===void 0?void 0:a.toAttribute)!==void 0?r.converter:Mp).toAttribute(t,r.type);this._$El=e,o==null?this.removeAttribute(l):this.setAttribute(l,o),this._$El=null}}_$AK(e,t){var r;let a=this.constructor,l=a._$Ev.get(e);if(l!==void 0&&this._$El!==l){let o=a.getPropertyOptions(l),c=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:Mp;this._$El=l,this[l]=c.fromAttribute(t,o.type),this._$El=null}}requestUpdate(e,t,r){let a=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||R0)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):a=!1),!this.isUpdatePending&&a&&(this._$E_=this._$Ej())}_$Ej(){return yi(this,null,function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((a,l)=>this[l]=a),this._$Ei=void 0);let t=!1,r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(a=>{var l;return(l=a.hostUpdate)===null||l===void 0?void 0:l.call(a)}),this.update(r)):this._$Ek()}catch(a){throw t=!1,this._$Ek(),a}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var a;return(a=r.hostUpdated)===null||a===void 0?void 0:a.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,r)=>this._$EO(r,this[r],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Ps[Ip]=!0,Ps.elementProperties=new Map,Ps.elementStyles=[],Ps.shadowRootOptions={mode:"open"},Lp==null||Lp({ReactiveElement:Ps}),(($p=Ad.reactiveElementVersions)!==null&&$p!==void 0?$p:Ad.reactiveElementVersions=[]).push("1.6.3");});function q0(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return D0!==void 0?D0.createHTML(t):t}function ql(e,t,r=e,a){var l,o,c,n;if(t===Ms)return t;let u=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,p=Kc(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,a)),a!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[a]=u:r._$Cl=u),u!==void 0&&(t=ql(e,u._$AS(e,t.values),u,a)),t}var Rp,Sd,Wl,D0,Np,os,z0,_3,Os,Yc,Kc,U0,k3,Dp,Gc,j0,N0,$s,B0,H0,V0,W0,Ke,An,Ms,Ei,F0,Ls,A3,Bp,S3,Hp,Cd,C3,E3,T3,P3,$3,jp,Ed,Gl=Kt(()=>{Sd=window,Wl=Sd.trustedTypes,D0=Wl?Wl.createPolicy("lit-html",{createHTML:e=>e}):void 0,Np="$lit$",os=`lit$${(Math.random()+"").slice(9)}$`,z0="?"+os,_3=`<${z0}>`,Os=document,Yc=()=>Os.createComment(""),Kc=e=>e===null||typeof e!="object"&&typeof e!="function",U0=Array.isArray,k3=e=>U0(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Dp=`[ 	
\f\r]`,Gc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,j0=/-->/g,N0=/>/g,$s=RegExp(`>|${Dp}(?:([^\\s"'>=/]+)(${Dp}*=${Dp}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),B0=/'/g,H0=/"/g,V0=/^(?:script|style|textarea|title)$/i,W0=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),Ke=W0(1),An=W0(2),Ms=Symbol.for("lit-noChange"),Ei=Symbol.for("lit-nothing"),F0=new WeakMap,Ls=Os.createTreeWalker(Os,129,null,!1);A3=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",c=Gc;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Gc?g[1]==="!--"?c=j0:g[1]!==void 0?c=N0:g[2]!==void 0?(V0.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=$s):g[3]!==void 0&&(c=$s):c===$s?g[0]===">"?(c=l!=null?l:Gc,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?$s:g[3]==='"'?H0:B0):c===H0||c===B0?c=$s:c===j0||c===N0?c=Gc:(c=$s,l=void 0);let x=c===$s&&e[n+1].startsWith("/>")?" ":"";o+=c===Gc?u+_3:m>=0?(a.push(p),u.slice(0,m)+Np+u.slice(m)+os+x):u+os+(m===-2?(a.push(void 0),n):x)}return[q0(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Bp=class G0{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=A3(t,r);if(this.el=G0.createElement(p,a),Ls.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=Ls.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Np)||y.startsWith(os)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+Np).split(os),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?C3:k[1]==="?"?T3:k[1]==="@"?P3:Cd})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(V0.test(l.tagName)){let m=l.textContent.split(os),y=m.length-1;if(y>0){l.textContent=Wl?Wl.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Yc()),Ls.nextNode(),u.push({type:2,index:++o});l.append(m[y],Yc())}}}else if(l.nodeType===8)if(l.data===z0)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(os,m+1))!==-1;)u.push({type:7,index:o}),m+=os.length-1}o++}}static createElement(t,r){let a=Os.createElement("template");return a.innerHTML=t,a}};S3=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Os).importNode(r,!0);Ls.currentNode=l;let o=Ls.nextNode(),c=0,n=0,u=a[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new Hp(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new $3(o,this,e)),this._$AV.push(p),u=a[++n]}c!==(u==null?void 0:u.index)&&(o=Ls.nextNode(),c++)}return Ls.currentNode=Os,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Hp=class Y0{constructor(t,r,a,l){var o;this.type=2,this._$AH=Ei,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=ql(this,t,r),Kc(t)?t===Ei||t==null||t===""?(this._$AH!==Ei&&this._$AR(),this._$AH=Ei):t!==this._$AH&&t!==Ms&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):k3(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Ei&&Kc(this._$AH)?this._$AA.nextSibling.data=t:this.$(Os.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Bp.createElement(q0(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let c=new S3(o,this),n=c.u(this.options);c.v(a),this.$(n),this._$AH=c}}_$AC(t){let r=F0.get(t.strings);return r===void 0&&F0.set(t.strings,r=new Bp(t)),r}T(t){U0(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new Y0(this.k(Yc()),this.k(Yc()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Cd=class{constructor(e,t,r,a,l){this.type=1,this._$AH=Ei,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Ei}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=ql(this,e,t,0),o=!Kc(e)||e!==this._$AH&&e!==Ms,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=ql(this,c[r+n],t,n),u===Ms&&(u=this._$AH[n]),o||(o=!Kc(u)||u!==this._$AH[n]),u===Ei?e=Ei:e!==Ei&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!a&&this.j(e)}j(e){e===Ei?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},C3=class extends Cd{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ei?void 0:e}},E3=Wl?Wl.emptyScript:"",T3=class extends Cd{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Ei?this.element.setAttribute(this.name,E3):this.element.removeAttribute(this.name)}},P3=class extends Cd{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=ql(this,e,t,0))!==null&&r!==void 0?r:Ei)===Ms)return;let a=this._$AH,l=e===Ei&&a!==Ei||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==Ei&&(a===Ei||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},$3=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){ql(this,e)}},jp=Sd.litHtmlPolyfillSupport;jp==null||jp(Bp,Hp),((Rp=Sd.litHtmlVersions)!==null&&Rp!==void 0?Rp:Sd.litHtmlVersions=[]).push("2.8.0");Ed=(e,t,r)=>{var a,l;let o=(a=r==null?void 0:r.renderBefore)!==null&&a!==void 0?a:t,c=o._$litPart$;if(c===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=c=new Hp(t.insertBefore(Yc(),n),n,void 0,r!=null?r:{})}return c._$AI(e),c};});var Fp,zp,mi,Up,Vp=Kt(()=>{qc();qc();Gl();Gl();mi=class extends Ps{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let r=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=r.firstChild),r}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Ed(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Ms}};mi.finalized=!0,mi._$litElement$=!0,(Fp=globalThis.litElementHydrateSupport)===null||Fp===void 0||Fp.call(globalThis,{LitElement:mi});Up=globalThis.litElementPolyfillSupport;Up==null||Up({LitElement:mi});((zp=globalThis.litElementVersions)!==null&&zp!==void 0?zp:globalThis.litElementVersions=[]).push("3.3.3");});var Wp=Kt(()=>{});var _i=Kt(()=>{qc();Gl();Vp();Wp()});function Yl(e,t,r){var a=r||{},l=a.noTrailing,o=l===void 0?!1:l,c=a.noLeading,n=c===void 0?!1:c,u=a.debounceMode,p=u===void 0?void 0:u,g,m=!1,y=0;function x(){g&&clearTimeout(g)}function w(S){var P=S||{},E=P.upcomingOnly,L=E===void 0?!1:E;x(),m=!L}function k(){for(var S=arguments.length,P=new Array(S),E=0;E<S;E++)P[E]=arguments[E];var L=this,s=Date.now()-y;if(m)return;function h(){y=Date.now(),t.apply(L,P)}function v(){g=void 0}!n&&p&&!g&&h(),x(),p===void 0&&s>e?n?(y=Date.now(),o||(g=setTimeout(p?v:h,e))):h():o!==!0&&(g=setTimeout(p?v:h,p===void 0?e-s:e))}return k.cancel=w,k}var Xc=Kt(()=>{});var ur,K0=Kt(()=>{ur=e=>t=>typeof t=="function"?((r,a)=>(customElements.define(r,a),a))(e,t):((r,a)=>{let{kind:l,elements:o}=a;return{kind:l,elements:o,finisher(c){customElements.define(r,c)}}})(e,t);});function Qt(e){return(t,r)=>r!==void 0?O3(e,t,r):L3(e,t)}var L3,O3,qp=Kt(()=>{L3=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?on(Dr({},t),{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}},O3=(e,t,r)=>{t.constructor.createProperty(r,e)};});function $n(e){return Qt(on(Dr({},e),{state:!0}))}var X0=Kt(()=>{qp();});var Is,Rs=Kt(()=>{Is=({finisher:e,descriptor:t})=>(r,a)=>{var l;if(a===void 0){let o=(l=r.originalKey)!==null&&l!==void 0?l:r.key,c=t!=null?{kind:"method",placement:"prototype",key:o,descriptor:t(r.key)}:on(Dr({},r),{key:o});return e!=null&&(c.finisher=function(n){e(n,o)}),c}{let o=r.constructor;t!==void 0&&Object.defineProperty(r,a,t(a)),e==null||e(o,a)}};});var Z0=Kt(()=>{Rs();});function sn(e,t){return Is({descriptor:r=>{let a={get(){var l,o;return(o=(l=this.renderRoot)===null||l===void 0?void 0:l.querySelector(e))!==null&&o!==void 0?o:null},enumerable:!0,configurable:!0};if(t){let l=typeof r=="symbol"?Symbol():"__"+r;a.get=function(){var o,c;return this[l]===void 0&&(this[l]=(c=(o=this.renderRoot)===null||o===void 0?void 0:o.querySelector(e))!==null&&c!==void 0?c:null),this[l]}}return a}})}var J0=Kt(()=>{Rs();});var Q0=Kt(()=>{Rs();});var ey=Kt(()=>{Rs();});var Gp,LP,Yp=Kt(()=>{Rs();LP=((Gp=window.HTMLSlotElement)===null||Gp===void 0?void 0:Gp.prototype.assignedElements)!=null?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter(r=>r.nodeType===Node.ELEMENT_NODE);});var ty=Kt(()=>{Rs();Yp();});var Fr=Kt(()=>{K0();qp();X0();Z0();J0();Q0();ey();Yp();ty()});var iy,Kp,Zc=Kt(()=>{vr();_i();Fr();(function(e){e.processing="processing",e.complete="complete"})(iy||(iy={}));Kp=class extends mi{constructor(){super(...arguments),this.mode="processing"}render(){return Ke`
      <div class="${this.mode}">
        <svg
          viewBox="0 0 120 120"
          preserveAspectRatio="none"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-labelledby="indicatorTitle indicatorDescription"
        >
          <title id="indicatorTitle">Activity Indicator</title>
          <desc id="indicatorDescription">
            A rotating activity indicator with three dots in the middle.
          </desc>
          <g
            id="icons/check-ring---squared"
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
          >
            <path
              id="completed-ring"
              class="loaded-indicator"
              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <polygon
              id="check"
              class="loaded-indicator"
              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "
              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"
            ></polygon>
            <path
              id="activity-ring"
              class="activity-indicator"
              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <g
              id="activity-dots"
              class="activity-indicator"
              transform="translate(40.000000, 55.000000)"
            >
              <circle id="left-dot" cx="5" cy="5" r="5"></circle>
              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>
              <circle id="right-dot" cx="35" cy="5" r="5"></circle>
            </g>
          </g>
        </svg>
      </div>
    `}static get styles(){let e=pt`var(--activityIndicatorCheckmarkColor, #31A481)`,t=pt`var(--activityIndicatorCompletedRingColor, #31A481)`,r=pt`var(--activityIndicatorLoadingRingColor, #333333)`,a=pt`var(--activityIndicatorLoadingDotColor, #333333)`;return pt`
      #completed-ring {
        fill: ${t};
      }

      #check {
        fill: ${e};
      }

      #activity-ring {
        fill: ${r};
      }

      #activity-dots {
        fill: ${a};
      }

      .activity-indicator {
        opacity: 0;
        transition: opacity 0.25s ease-out;
      }

      .processing .activity-indicator {
        opacity: 1;
      }

      .loaded-indicator {
        opacity: 1;
        transition: opacity 0.25s ease-out;
      }

      .processing .loaded-indicator {
        opacity: 0;
      }

      .image {
        border: 1px solid red;
        display: inline-block;
      }

      .processing #activity-ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
      }

      .processing #left-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.2s;
      }

      .processing #middle-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.4s;
      }

      .processing #right-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.6s;
      }

      @keyframes rotate {
        0% {
          transform: rotate(-360deg);
        }
        100% {
          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */
          transform: rotate(0deg);
        }
      }

      @keyframes dot {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    `}};le([Qt({type:String})],Kp.prototype,"mode",void 0);Kp=le([ur("ia-activity-indicator")],Kp)});var M3,I3,Td=Kt(()=>{_i();_i();M3=Ke`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="closeTitleID closeDescID"
>
  <title id="closeTitleID">Close icon</title>
  <desc id="closeDescID">A line drawing of an X</desc>
  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>
</svg>
`,I3=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return M3}};customElements.define("ia-icon-close",I3)});var U3,ly,V3,W3,q3,G3,Y3,K3,X3,Z3,ay,sy,Jp,Qp=Kt(()=>{U3=Object.create,ly=Object.defineProperty,V3=Object.getOwnPropertyDescriptor,W3=Object.getOwnPropertyNames,q3=Object.getPrototypeOf,G3=Object.prototype.hasOwnProperty,Y3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),K3=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of W3(t))!G3.call(e,l)&&l!==r&&ly(e,l,{get:()=>t[l],enumerable:!(a=V3(t,l))||a.enumerable});return e},X3=(e,t,r)=>(r=e!=null?U3(q3(e)):{},K3(t||!e||!e.__esModule?ly(r,"default",{value:e,enumerable:!0}):r,e)),Z3=Y3((e,t)=>{(function(r,a){"use strict";typeof t=="object"&&typeof t.exports=="object"?t.exports=r.document?a(r,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return a(l)}:a(r)})(typeof window<"u"?window:e,function(r,a){"use strict";var l=[],o=Object.getPrototypeOf,c=l.slice,n=l.flat?function(f){return l.flat.call(f)}:function(f){return l.concat.apply([],f)},u=l.push,p=l.indexOf,g={},m=g.toString,y=g.hasOwnProperty,x=y.toString,w=x.call(Object),k={},S=function(f){return typeof f=="function"&&typeof f.nodeType!="number"&&typeof f.item!="function"},P=function(f){return f!=null&&f===f.window},E=r.document,L={type:!0,src:!0,nonce:!0,noModule:!0};function s(f,b,A){A=A||E;var O,H,F=A.createElement("script");if(F.text=f,b)for(O in L)H=b[O]||b.getAttribute&&b.getAttribute(O),H&&F.setAttribute(O,H);A.head.appendChild(F).parentNode.removeChild(F)}function h(f){return f==null?f+"":typeof f=="object"||typeof f=="function"?g[m.call(f)]||"object":typeof f}var v="3.6.1",d=function(f,b){return new d.fn.init(f,b)};d.fn=d.prototype={jquery:v,constructor:d,length:0,toArray:function(){return c.call(this)},get:function(f){return f==null?c.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var b=d.merge(this.constructor(),f);return b.prevObject=this,b},each:function(f){return d.each(this,f)},map:function(f){return this.pushStack(d.map(this,function(b,A){return f.call(b,A,b)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(f,b){return(b+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(f,b){return b%2}))},eq:function(f){var b=this.length,A=+f+(f<0?b:0);return this.pushStack(A>=0&&A<b?[this[A]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:l.sort,splice:l.splice},d.extend=d.fn.extend=function(){var f,b,A,O,H,F,X=arguments[0]||{},He=1,Pe=arguments.length,gt=!1;for(typeof X=="boolean"&&(gt=X,X=arguments[He]||{},He++),typeof X!="object"&&!S(X)&&(X={}),He===Pe&&(X=this,He--);He<Pe;He++)if((f=arguments[He])!=null)for(b in f)O=f[b],!(b==="__proto__"||X===O)&&(gt&&O&&(d.isPlainObject(O)||(H=Array.isArray(O)))?(A=X[b],H&&!Array.isArray(A)?F=[]:!H&&!d.isPlainObject(A)?F={}:F=A,H=!1,X[b]=d.extend(gt,F,O)):O!==void 0&&(X[b]=O));return X},d.extend({expando:"jQuery"+(v+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var b,A;return!f||m.call(f)!=="[object Object]"?!1:(b=o(f),b?(A=y.call(b,"constructor")&&b.constructor,typeof A=="function"&&x.call(A)===w):!0)},isEmptyObject:function(f){var b;for(b in f)return!1;return!0},globalEval:function(f,b,A){s(f,{nonce:b&&b.nonce},A)},each:function(f,b){var A,O=0;if(_(f))for(A=f.length;O<A&&b.call(f[O],O,f[O])!==!1;O++);else for(O in f)if(b.call(f[O],O,f[O])===!1)break;return f},makeArray:function(f,b){var A=b||[];return f!=null&&(_(Object(f))?d.merge(A,typeof f=="string"?[f]:f):u.call(A,f)),A},inArray:function(f,b,A){return b==null?-1:p.call(b,f,A)},merge:function(f,b){for(var A=+b.length,O=0,H=f.length;O<A;O++)f[H++]=b[O];return f.length=H,f},grep:function(f,b,A){for(var O,H=[],F=0,X=f.length,He=!A;F<X;F++)O=!b(f[F],F),O!==He&&H.push(f[F]);return H},map:function(f,b,A){var O,H,F=0,X=[];if(_(f))for(O=f.length;F<O;F++)H=b(f[F],F,A),H!=null&&X.push(H);else for(F in f)H=b(f[F],F,A),H!=null&&X.push(H);return n(X)},guid:1,support:k}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=l[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,b){g["[object "+b+"]"]=b.toLowerCase()});function _(f){var b=!!f&&"length"in f&&f.length,A=h(f);return S(f)||P(f)?!1:A==="array"||b===0||typeof b=="number"&&b>0&&b-1 in f}var C=function(f){var b,A,O,H,F,X,He,Pe,gt,Dt,ri,Ot,st,Li,R,M,j,U,se,me="sizzle"+1*new Date,Ce=f.document,Nt=0,bt=0,Yt=Tn(),li=Tn(),$i=Tn(),Ri=Tn(),Oi=function(re,Ie){return re===Ie&&(ri=!0),0},lr={}.hasOwnProperty,Wi=[],ji=Wi.pop,Xi=Wi.push,er=Wi.push,Zi=Wi.slice,gr=function(re,Ie){for(var lt=0,Gt=re.length;lt<Gt;lt++)if(re[lt]===Ie)return lt;return-1},Rr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ii="[\\x20\\t\\r\\n\\f]",cr="(?:\\\\[\\da-fA-F]{1,6}"+Ii+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Kr="\\["+Ii+"*("+cr+")(?:"+Ii+"*([*^$|!~]?=)"+Ii+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+cr+"))|)"+Ii+"*\\]",mr=":("+cr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Kr+")*)|.*)\\)|)",Br=new RegExp(Ii+"+","g"),Mr=new RegExp("^"+Ii+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ii+"+$","g"),fn=new RegExp("^"+Ii+"*,"+Ii+"*"),Nr=new RegExp("^"+Ii+"*([>+~]|"+Ii+")"+Ii+"*"),Ir=new RegExp(Ii+"|>"),Xr=new RegExp(mr),ge=new RegExp("^"+cr+"$"),pe={ID:new RegExp("^#("+cr+")"),CLASS:new RegExp("^\\.("+cr+")"),TAG:new RegExp("^("+cr+"|[*])"),ATTR:new RegExp("^"+Kr),PSEUDO:new RegExp("^"+mr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ii+"*(even|odd|(([+-]|)(\\d*)n|)"+Ii+"*(?:([+-]|)"+Ii+"*(\\d+)|))"+Ii+"*\\)|)","i"),bool:new RegExp("^(?:"+Rr+")$","i"),needsContext:new RegExp("^"+Ii+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ii+"*((?:-\\d)?\\d*)"+Ii+"*\\)|)(?=[^-]|$)","i")},Te=/HTML$/i,Wt=/^(?:input|select|textarea|button)$/i,wt=/^h\d$/i,si=/^[^{]+\{\s*\[native \w/,xi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ui=/[+~]/,Di=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ii+"?|\\\\([^\\r\\n\\f])","g"),Qi=function(re,Ie){var lt="0x"+re.slice(1)-65536;return Ie||(lt<0?String.fromCharCode(lt+65536):String.fromCharCode(lt>>10|55296,lt&1023|56320))},fr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wr=function(re,Ie){return Ie?re==="\0"?"\uFFFD":re.slice(0,-1)+"\\"+re.charCodeAt(re.length-1).toString(16)+" ":"\\"+re},Po=function(){Ot()},Ma=oo(function(re){return re.disabled===!0&&re.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{er.apply(Wi=Zi.call(Ce.childNodes),Ce.childNodes),Wi[Ce.childNodes.length].nodeType}catch(re){er={apply:Wi.length?function(Ie,lt){Xi.apply(Ie,Zi.call(lt))}:function(Ie,lt){for(var Gt=Ie.length,mt=0;Ie[Gt++]=lt[mt++];);Ie.length=Gt-1}}}function dr(re,Ie,lt,Gt){var mt,Zt,oi,hi,bi,Hi,Ni,Bi=Ie&&Ie.ownerDocument,nr=Ie?Ie.nodeType:9;if(lt=lt||[],typeof re!="string"||!re||nr!==1&&nr!==9&&nr!==11)return lt;if(!Gt&&(Ot(Ie),Ie=Ie||st,R)){if(nr!==11&&(bi=xi.exec(re)))if(mt=bi[1]){if(nr===9)if(oi=Ie.getElementById(mt)){if(oi.id===mt)return lt.push(oi),lt}else return lt;else if(Bi&&(oi=Bi.getElementById(mt))&&se(Ie,oi)&&oi.id===mt)return lt.push(oi),lt}else{if(bi[2])return er.apply(lt,Ie.getElementsByTagName(re)),lt;if((mt=bi[3])&&A.getElementsByClassName&&Ie.getElementsByClassName)return er.apply(lt,Ie.getElementsByClassName(mt)),lt}if(A.qsa&&!Ri[re+" "]&&(!M||!M.test(re))&&(nr!==1||Ie.nodeName.toLowerCase()!=="object")){if(Ni=re,Bi=Ie,nr===1&&(Ir.test(re)||Nr.test(re))){for(Bi=Ui.test(re)&&Zo(Ie.parentNode)||Ie,(Bi!==Ie||!A.scope)&&((hi=Ie.getAttribute("id"))?hi=hi.replace(fr,wr):Ie.setAttribute("id",hi=me)),Hi=X(re),Zt=Hi.length;Zt--;)Hi[Zt]=(hi?"#"+hi:":scope")+" "+Jo(Hi[Zt]);Ni=Hi.join(",")}try{return er.apply(lt,Bi.querySelectorAll(Ni)),lt}catch(Tr){Ri(re,!0)}finally{hi===me&&Ie.removeAttribute("id")}}}return Pe(re.replace(Mr,"$1"),Ie,lt,Gt)}function Tn(){var re=[];function Ie(lt,Gt){return re.push(lt+" ")>O.cacheLength&&delete Ie[re.shift()],Ie[lt+" "]=Gt}return Ie}function hn(re){return re[me]=!0,re}function mn(re){var Ie=st.createElement("fieldset");try{return!!re(Ie)}catch(lt){return!1}finally{Ie.parentNode&&Ie.parentNode.removeChild(Ie),Ie=null}}function Ko(re,Ie){for(var lt=re.split("|"),Gt=lt.length;Gt--;)O.attrHandle[lt[Gt]]=Ie}function wo(re,Ie){var lt=Ie&&re,Gt=lt&&re.nodeType===1&&Ie.nodeType===1&&re.sourceIndex-Ie.sourceIndex;if(Gt)return Gt;if(lt){for(;lt=lt.nextSibling;)if(lt===Ie)return-1}return re?1:-1}function Xo(re){return function(Ie){var lt=Ie.nodeName.toLowerCase();return lt==="input"&&Ie.type===re}}function Ia(re){return function(Ie){var lt=Ie.nodeName.toLowerCase();return(lt==="input"||lt==="button")&&Ie.type===re}}function Ra(re){return function(Ie){return"form"in Ie?Ie.parentNode&&Ie.disabled===!1?"label"in Ie?"label"in Ie.parentNode?Ie.parentNode.disabled===re:Ie.disabled===re:Ie.isDisabled===re||Ie.isDisabled!==!re&&Ma(Ie)===re:Ie.disabled===re:"label"in Ie?Ie.disabled===re:!1}}function Fn(re){return hn(function(Ie){return Ie=+Ie,hn(function(lt,Gt){for(var mt,Zt=re([],lt.length,Ie),oi=Zt.length;oi--;)lt[mt=Zt[oi]]&&(lt[mt]=!(Gt[mt]=lt[mt]))})})}function Zo(re){return re&&typeof re.getElementsByTagName<"u"&&re}A=dr.support={},F=dr.isXML=function(re){var Ie=re&&re.namespaceURI,lt=re&&(re.ownerDocument||re).documentElement;return!Te.test(Ie||lt&&lt.nodeName||"HTML")},Ot=dr.setDocument=function(re){var Ie,lt,Gt=re?re.ownerDocument||re:Ce;return Gt==st||Gt.nodeType!==9||!Gt.documentElement||(st=Gt,Li=st.documentElement,R=!F(st),Ce!=st&&(lt=st.defaultView)&&lt.top!==lt&&(lt.addEventListener?lt.addEventListener("unload",Po,!1):lt.attachEvent&&lt.attachEvent("onunload",Po)),A.scope=mn(function(mt){return Li.appendChild(mt).appendChild(st.createElement("div")),typeof mt.querySelectorAll<"u"&&!mt.querySelectorAll(":scope fieldset div").length}),A.attributes=mn(function(mt){return mt.className="i",!mt.getAttribute("className")}),A.getElementsByTagName=mn(function(mt){return mt.appendChild(st.createComment("")),!mt.getElementsByTagName("*").length}),A.getElementsByClassName=si.test(st.getElementsByClassName),A.getById=mn(function(mt){return Li.appendChild(mt).id=me,!st.getElementsByName||!st.getElementsByName(me).length}),A.getById?(O.filter.ID=function(mt){var Zt=mt.replace(Di,Qi);return function(oi){return oi.getAttribute("id")===Zt}},O.find.ID=function(mt,Zt){if(typeof Zt.getElementById<"u"&&R){var oi=Zt.getElementById(mt);return oi?[oi]:[]}}):(O.filter.ID=function(mt){var Zt=mt.replace(Di,Qi);return function(oi){var hi=typeof oi.getAttributeNode<"u"&&oi.getAttributeNode("id");return hi&&hi.value===Zt}},O.find.ID=function(mt,Zt){if(typeof Zt.getElementById<"u"&&R){var oi,hi,bi,Hi=Zt.getElementById(mt);if(Hi){if(oi=Hi.getAttributeNode("id"),oi&&oi.value===mt)return[Hi];for(bi=Zt.getElementsByName(mt),hi=0;Hi=bi[hi++];)if(oi=Hi.getAttributeNode("id"),oi&&oi.value===mt)return[Hi]}return[]}}),O.find.TAG=A.getElementsByTagName?function(mt,Zt){if(typeof Zt.getElementsByTagName<"u")return Zt.getElementsByTagName(mt);if(A.qsa)return Zt.querySelectorAll(mt)}:function(mt,Zt){var oi,hi=[],bi=0,Hi=Zt.getElementsByTagName(mt);if(mt==="*"){for(;oi=Hi[bi++];)oi.nodeType===1&&hi.push(oi);return hi}return Hi},O.find.CLASS=A.getElementsByClassName&&function(mt,Zt){if(typeof Zt.getElementsByClassName<"u"&&R)return Zt.getElementsByClassName(mt)},j=[],M=[],(A.qsa=si.test(st.querySelectorAll))&&(mn(function(mt){var Zt;Li.appendChild(mt).innerHTML="<a id='"+me+"'></a><select id='"+me+"-\r\\' msallowcapture=''><option selected=''></option></select>",mt.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+Ii+`*(?:''|"")`),mt.querySelectorAll("[selected]").length||M.push("\\["+Ii+"*(?:value|"+Rr+")"),mt.querySelectorAll("[id~="+me+"-]").length||M.push("~="),Zt=st.createElement("input"),Zt.setAttribute("name",""),mt.appendChild(Zt),mt.querySelectorAll("[name='']").length||M.push("\\["+Ii+"*name"+Ii+"*="+Ii+`*(?:''|"")`),mt.querySelectorAll(":checked").length||M.push(":checked"),mt.querySelectorAll("a#"+me+"+*").length||M.push(".#.+[+~]"),mt.querySelectorAll("\\\f"),M.push("[\\r\\n\\f]")}),mn(function(mt){mt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Zt=st.createElement("input");Zt.setAttribute("type","hidden"),mt.appendChild(Zt).setAttribute("name","D"),mt.querySelectorAll("[name=d]").length&&M.push("name"+Ii+"*[*^$|!~]?="),mt.querySelectorAll(":enabled").length!==2&&M.push(":enabled",":disabled"),Li.appendChild(mt).disabled=!0,mt.querySelectorAll(":disabled").length!==2&&M.push(":enabled",":disabled"),mt.querySelectorAll("*,:x"),M.push(",.*:")})),(A.matchesSelector=si.test(U=Li.matches||Li.webkitMatchesSelector||Li.mozMatchesSelector||Li.oMatchesSelector||Li.msMatchesSelector))&&mn(function(mt){A.disconnectedMatch=U.call(mt,"*"),U.call(mt,"[s!='']:x"),j.push("!=",mr)}),M=M.length&&new RegExp(M.join("|")),j=j.length&&new RegExp(j.join("|")),Ie=si.test(Li.compareDocumentPosition),se=Ie||si.test(Li.contains)?function(mt,Zt){var oi=mt.nodeType===9?mt.documentElement:mt,hi=Zt&&Zt.parentNode;return mt===hi||!!(hi&&hi.nodeType===1&&(oi.contains?oi.contains(hi):mt.compareDocumentPosition&&mt.compareDocumentPosition(hi)&16))}:function(mt,Zt){if(Zt){for(;Zt=Zt.parentNode;)if(Zt===mt)return!0}return!1},Oi=Ie?function(mt,Zt){if(mt===Zt)return ri=!0,0;var oi=!mt.compareDocumentPosition-!Zt.compareDocumentPosition;return oi||(oi=(mt.ownerDocument||mt)==(Zt.ownerDocument||Zt)?mt.compareDocumentPosition(Zt):1,oi&1||!A.sortDetached&&Zt.compareDocumentPosition(mt)===oi?mt==st||mt.ownerDocument==Ce&&se(Ce,mt)?-1:Zt==st||Zt.ownerDocument==Ce&&se(Ce,Zt)?1:Dt?gr(Dt,mt)-gr(Dt,Zt):0:oi&4?-1:1)}:function(mt,Zt){if(mt===Zt)return ri=!0,0;var oi,hi=0,bi=mt.parentNode,Hi=Zt.parentNode,Ni=[mt],Bi=[Zt];if(!bi||!Hi)return mt==st?-1:Zt==st?1:bi?-1:Hi?1:Dt?gr(Dt,mt)-gr(Dt,Zt):0;if(bi===Hi)return wo(mt,Zt);for(oi=mt;oi=oi.parentNode;)Ni.unshift(oi);for(oi=Zt;oi=oi.parentNode;)Bi.unshift(oi);for(;Ni[hi]===Bi[hi];)hi++;return hi?wo(Ni[hi],Bi[hi]):Ni[hi]==Ce?-1:Bi[hi]==Ce?1:0}),st},dr.matches=function(re,Ie){return dr(re,null,null,Ie)},dr.matchesSelector=function(re,Ie){if(Ot(re),A.matchesSelector&&R&&!Ri[Ie+" "]&&(!j||!j.test(Ie))&&(!M||!M.test(Ie)))try{var lt=U.call(re,Ie);if(lt||A.disconnectedMatch||re.document&&re.document.nodeType!==11)return lt}catch(Gt){Ri(Ie,!0)}return dr(Ie,st,null,[re]).length>0},dr.contains=function(re,Ie){return(re.ownerDocument||re)!=st&&Ot(re),se(re,Ie)},dr.attr=function(re,Ie){(re.ownerDocument||re)!=st&&Ot(re);var lt=O.attrHandle[Ie.toLowerCase()],Gt=lt&&lr.call(O.attrHandle,Ie.toLowerCase())?lt(re,Ie,!R):void 0;return Gt!==void 0?Gt:A.attributes||!R?re.getAttribute(Ie):(Gt=re.getAttributeNode(Ie))&&Gt.specified?Gt.value:null},dr.escape=function(re){return(re+"").replace(fr,wr)},dr.error=function(re){throw new Error("Syntax error, unrecognized expression: "+re)},dr.uniqueSort=function(re){var Ie,lt=[],Gt=0,mt=0;if(ri=!A.detectDuplicates,Dt=!A.sortStable&&re.slice(0),re.sort(Oi),ri){for(;Ie=re[mt++];)Ie===re[mt]&&(Gt=lt.push(mt));for(;Gt--;)re.splice(lt[Gt],1)}return Dt=null,re},H=dr.getText=function(re){var Ie,lt="",Gt=0,mt=re.nodeType;if(mt){if(mt===1||mt===9||mt===11){if(typeof re.textContent=="string")return re.textContent;for(re=re.firstChild;re;re=re.nextSibling)lt+=H(re)}else if(mt===3||mt===4)return re.nodeValue}else for(;Ie=re[Gt++];)lt+=H(Ie);return lt},O=dr.selectors={cacheLength:50,createPseudo:hn,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(re){return re[1]=re[1].replace(Di,Qi),re[3]=(re[3]||re[4]||re[5]||"").replace(Di,Qi),re[2]==="~="&&(re[3]=" "+re[3]+" "),re.slice(0,4)},CHILD:function(re){return re[1]=re[1].toLowerCase(),re[1].slice(0,3)==="nth"?(re[3]||dr.error(re[0]),re[4]=+(re[4]?re[5]+(re[6]||1):2*(re[3]==="even"||re[3]==="odd")),re[5]=+(re[7]+re[8]||re[3]==="odd")):re[3]&&dr.error(re[0]),re},PSEUDO:function(re){var Ie,lt=!re[6]&&re[2];return pe.CHILD.test(re[0])?null:(re[3]?re[2]=re[4]||re[5]||"":lt&&Xr.test(lt)&&(Ie=X(lt,!0))&&(Ie=lt.indexOf(")",lt.length-Ie)-lt.length)&&(re[0]=re[0].slice(0,Ie),re[2]=lt.slice(0,Ie)),re.slice(0,3))}},filter:{TAG:function(re){var Ie=re.replace(Di,Qi).toLowerCase();return re==="*"?function(){return!0}:function(lt){return lt.nodeName&&lt.nodeName.toLowerCase()===Ie}},CLASS:function(re){var Ie=Yt[re+" "];return Ie||(Ie=new RegExp("(^|"+Ii+")"+re+"("+Ii+"|$)"))&&Yt(re,function(lt){return Ie.test(typeof lt.className=="string"&&lt.className||typeof lt.getAttribute<"u"&&lt.getAttribute("class")||"")})},ATTR:function(re,Ie,lt){return function(Gt){var mt=dr.attr(Gt,re);return mt==null?Ie==="!=":Ie?(mt+="",Ie==="="?mt===lt:Ie==="!="?mt!==lt:Ie==="^="?lt&&mt.indexOf(lt)===0:Ie==="*="?lt&&mt.indexOf(lt)>-1:Ie==="$="?lt&&mt.slice(-lt.length)===lt:Ie==="~="?(" "+mt.replace(Br," ")+" ").indexOf(lt)>-1:Ie==="|="?mt===lt||mt.slice(0,lt.length+1)===lt+"-":!1):!0}},CHILD:function(re,Ie,lt,Gt,mt){var Zt=re.slice(0,3)!=="nth",oi=re.slice(-4)!=="last",hi=Ie==="of-type";return Gt===1&&mt===0?function(bi){return!!bi.parentNode}:function(bi,Hi,Ni){var Bi,nr,Tr,Fi,qr,tn,nn=Zt!==oi?"nextSibling":"previousSibling",Or=bi.parentNode,Lo=hi&&bi.nodeName.toLowerCase(),zn=!Ni&&!hi,pn=!1;if(Or){if(Zt){for(;nn;){for(Fi=bi;Fi=Fi[nn];)if(hi?Fi.nodeName.toLowerCase()===Lo:Fi.nodeType===1)return!1;tn=nn=re==="only"&&!tn&&"nextSibling"}return!0}if(tn=[oi?Or.firstChild:Or.lastChild],oi&&zn){for(Fi=Or,Tr=Fi[me]||(Fi[me]={}),nr=Tr[Fi.uniqueID]||(Tr[Fi.uniqueID]={}),Bi=nr[re]||[],qr=Bi[0]===Nt&&Bi[1],pn=qr&&Bi[2],Fi=qr&&Or.childNodes[qr];Fi=++qr&&Fi&&Fi[nn]||(pn=qr=0)||tn.pop();)if(Fi.nodeType===1&&++pn&&Fi===bi){nr[re]=[Nt,qr,pn];break}}else if(zn&&(Fi=bi,Tr=Fi[me]||(Fi[me]={}),nr=Tr[Fi.uniqueID]||(Tr[Fi.uniqueID]={}),Bi=nr[re]||[],qr=Bi[0]===Nt&&Bi[1],pn=qr),pn===!1)for(;(Fi=++qr&&Fi&&Fi[nn]||(pn=qr=0)||tn.pop())&&!((hi?Fi.nodeName.toLowerCase()===Lo:Fi.nodeType===1)&&++pn&&(zn&&(Tr=Fi[me]||(Fi[me]={}),nr=Tr[Fi.uniqueID]||(Tr[Fi.uniqueID]={}),nr[re]=[Nt,pn]),Fi===bi)););return pn-=mt,pn===Gt||pn%Gt===0&&pn/Gt>=0}}},PSEUDO:function(re,Ie){var lt,Gt=O.pseudos[re]||O.setFilters[re.toLowerCase()]||dr.error("unsupported pseudo: "+re);return Gt[me]?Gt(Ie):Gt.length>1?(lt=[re,re,"",Ie],O.setFilters.hasOwnProperty(re.toLowerCase())?hn(function(mt,Zt){for(var oi,hi=Gt(mt,Ie),bi=hi.length;bi--;)oi=gr(mt,hi[bi]),mt[oi]=!(Zt[oi]=hi[bi])}):function(mt){return Gt(mt,0,lt)}):Gt}},pseudos:{not:hn(function(re){var Ie=[],lt=[],Gt=He(re.replace(Mr,"$1"));return Gt[me]?hn(function(mt,Zt,oi,hi){for(var bi,Hi=Gt(mt,null,hi,[]),Ni=mt.length;Ni--;)(bi=Hi[Ni])&&(mt[Ni]=!(Zt[Ni]=bi))}):function(mt,Zt,oi){return Ie[0]=mt,Gt(Ie,null,oi,lt),Ie[0]=null,!lt.pop()}}),has:hn(function(re){return function(Ie){return dr(re,Ie).length>0}}),contains:hn(function(re){return re=re.replace(Di,Qi),function(Ie){return(Ie.textContent||H(Ie)).indexOf(re)>-1}}),lang:hn(function(re){return ge.test(re||"")||dr.error("unsupported lang: "+re),re=re.replace(Di,Qi).toLowerCase(),function(Ie){var lt;do if(lt=R?Ie.lang:Ie.getAttribute("xml:lang")||Ie.getAttribute("lang"))return lt=lt.toLowerCase(),lt===re||lt.indexOf(re+"-")===0;while((Ie=Ie.parentNode)&&Ie.nodeType===1);return!1}}),target:function(re){var Ie=f.location&&f.location.hash;return Ie&&Ie.slice(1)===re.id},root:function(re){return re===Li},focus:function(re){return re===st.activeElement&&(!st.hasFocus||st.hasFocus())&&!!(re.type||re.href||~re.tabIndex)},enabled:Ra(!1),disabled:Ra(!0),checked:function(re){var Ie=re.nodeName.toLowerCase();return Ie==="input"&&!!re.checked||Ie==="option"&&!!re.selected},selected:function(re){return re.parentNode&&re.parentNode.selectedIndex,re.selected===!0},empty:function(re){for(re=re.firstChild;re;re=re.nextSibling)if(re.nodeType<6)return!1;return!0},parent:function(re){return!O.pseudos.empty(re)},header:function(re){return wt.test(re.nodeName)},input:function(re){return Wt.test(re.nodeName)},button:function(re){var Ie=re.nodeName.toLowerCase();return Ie==="input"&&re.type==="button"||Ie==="button"},text:function(re){var Ie;return re.nodeName.toLowerCase()==="input"&&re.type==="text"&&((Ie=re.getAttribute("type"))==null||Ie.toLowerCase()==="text")},first:Fn(function(){return[0]}),last:Fn(function(re,Ie){return[Ie-1]}),eq:Fn(function(re,Ie,lt){return[lt<0?lt+Ie:lt]}),even:Fn(function(re,Ie){for(var lt=0;lt<Ie;lt+=2)re.push(lt);return re}),odd:Fn(function(re,Ie){for(var lt=1;lt<Ie;lt+=2)re.push(lt);return re}),lt:Fn(function(re,Ie,lt){for(var Gt=lt<0?lt+Ie:lt>Ie?Ie:lt;--Gt>=0;)re.push(Gt);return re}),gt:Fn(function(re,Ie,lt){for(var Gt=lt<0?lt+Ie:lt;++Gt<Ie;)re.push(Gt);return re})}},O.pseudos.nth=O.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})O.pseudos[b]=Xo(b);for(b in{submit:!0,reset:!0})O.pseudos[b]=Ia(b);function Da(){}Da.prototype=O.filters=O.pseudos,O.setFilters=new Da,X=dr.tokenize=function(re,Ie){var lt,Gt,mt,Zt,oi,hi,bi,Hi=li[re+" "];if(Hi)return Ie?0:Hi.slice(0);for(oi=re,hi=[],bi=O.preFilter;oi;){(!lt||(Gt=fn.exec(oi)))&&(Gt&&(oi=oi.slice(Gt[0].length)||oi),hi.push(mt=[])),lt=!1,(Gt=Nr.exec(oi))&&(lt=Gt.shift(),mt.push({value:lt,type:Gt[0].replace(Mr," ")}),oi=oi.slice(lt.length));for(Zt in O.filter)(Gt=pe[Zt].exec(oi))&&(!bi[Zt]||(Gt=bi[Zt](Gt)))&&(lt=Gt.shift(),mt.push({value:lt,type:Zt,matches:Gt}),oi=oi.slice(lt.length));if(!lt)break}return Ie?oi.length:oi?dr.error(re):li(re,hi).slice(0)};function Jo(re){for(var Ie=0,lt=re.length,Gt="";Ie<lt;Ie++)Gt+=re[Ie].value;return Gt}function oo(re,Ie,lt){var Gt=Ie.dir,mt=Ie.next,Zt=mt||Gt,oi=lt&&Zt==="parentNode",hi=bt++;return Ie.first?function(bi,Hi,Ni){for(;bi=bi[Gt];)if(bi.nodeType===1||oi)return re(bi,Hi,Ni);return!1}:function(bi,Hi,Ni){var Bi,nr,Tr,Fi=[Nt,hi];if(Ni){for(;bi=bi[Gt];)if((bi.nodeType===1||oi)&&re(bi,Hi,Ni))return!0}else for(;bi=bi[Gt];)if(bi.nodeType===1||oi)if(Tr=bi[me]||(bi[me]={}),nr=Tr[bi.uniqueID]||(Tr[bi.uniqueID]={}),mt&&mt===bi.nodeName.toLowerCase())bi=bi[Gt]||bi;else{if((Bi=nr[Zt])&&Bi[0]===Nt&&Bi[1]===hi)return Fi[2]=Bi[2];if(nr[Zt]=Fi,Fi[2]=re(bi,Hi,Ni))return!0}return!1}}function ma(re){return re.length>1?function(Ie,lt,Gt){for(var mt=re.length;mt--;)if(!re[mt](Ie,lt,Gt))return!1;return!0}:re[0]}function zc(re,Ie,lt){for(var Gt=0,mt=Ie.length;Gt<mt;Gt++)dr(re,Ie[Gt],lt);return lt}function $o(re,Ie,lt,Gt,mt){for(var Zt,oi=[],hi=0,bi=re.length,Hi=Ie!=null;hi<bi;hi++)(Zt=re[hi])&&(!lt||lt(Zt,Gt,mt))&&(oi.push(Zt),Hi&&Ie.push(hi));return oi}function Bn(re,Ie,lt,Gt,mt,Zt){return Gt&&!Gt[me]&&(Gt=Bn(Gt)),mt&&!mt[me]&&(mt=Bn(mt,Zt)),hn(function(oi,hi,bi,Hi){var Ni,Bi,nr,Tr=[],Fi=[],qr=hi.length,tn=oi||zc(Ie||"*",bi.nodeType?[bi]:bi,[]),nn=re&&(oi||!Ie)?$o(tn,Tr,re,bi,Hi):tn,Or=lt?mt||(oi?re:qr||Gt)?[]:hi:nn;if(lt&&lt(nn,Or,bi,Hi),Gt)for(Ni=$o(Or,Fi),Gt(Ni,[],bi,Hi),Bi=Ni.length;Bi--;)(nr=Ni[Bi])&&(Or[Fi[Bi]]=!(nn[Fi[Bi]]=nr));if(oi){if(mt||re){if(mt){for(Ni=[],Bi=Or.length;Bi--;)(nr=Or[Bi])&&Ni.push(nn[Bi]=nr);mt(null,Or=[],Ni,Hi)}for(Bi=Or.length;Bi--;)(nr=Or[Bi])&&(Ni=mt?gr(oi,nr):Tr[Bi])>-1&&(oi[Ni]=!(hi[Ni]=nr))}}else Or=$o(Or===hi?Or.splice(qr,Or.length):Or),mt?mt(null,hi,Or,Hi):er.apply(hi,Or)})}function Qo(re){for(var Ie,lt,Gt,mt=re.length,Zt=O.relative[re[0].type],oi=Zt||O.relative[" "],hi=Zt?1:0,bi=oo(function(Bi){return Bi===Ie},oi,!0),Hi=oo(function(Bi){return gr(Ie,Bi)>-1},oi,!0),Ni=[function(Bi,nr,Tr){var Fi=!Zt&&(Tr||nr!==gt)||((Ie=nr).nodeType?bi(Bi,nr,Tr):Hi(Bi,nr,Tr));return Ie=null,Fi}];hi<mt;hi++)if(lt=O.relative[re[hi].type])Ni=[oo(ma(Ni),lt)];else{if(lt=O.filter[re[hi].type].apply(null,re[hi].matches),lt[me]){for(Gt=++hi;Gt<mt&&!O.relative[re[Gt].type];Gt++);return Bn(hi>1&&ma(Ni),hi>1&&Jo(re.slice(0,hi-1).concat({value:re[hi-2].type===" "?"*":""})).replace(Mr,"$1"),lt,hi<Gt&&Qo(re.slice(hi,Gt)),Gt<mt&&Qo(re=re.slice(Gt)),Gt<mt&&Jo(re))}Ni.push(lt)}return ma(Ni)}function Fl(re,Ie){var lt=Ie.length>0,Gt=re.length>0,mt=function(Zt,oi,hi,bi,Hi){var Ni,Bi,nr,Tr=0,Fi="0",qr=Zt&&[],tn=[],nn=gt,Or=Zt||Gt&&O.find.TAG("*",Hi),Lo=Nt+=nn==null?1:Math.random()||.1,zn=Or.length;for(Hi&&(gt=oi==st||oi||Hi);Fi!==zn&&(Ni=Or[Fi])!=null;Fi++){if(Gt&&Ni){for(Bi=0,!oi&&Ni.ownerDocument!=st&&(Ot(Ni),hi=!R);nr=re[Bi++];)if(nr(Ni,oi||st,hi)){bi.push(Ni);break}Hi&&(Nt=Lo)}lt&&((Ni=!nr&&Ni)&&Tr--,Zt&&qr.push(Ni))}if(Tr+=Fi,lt&&Fi!==Tr){for(Bi=0;nr=Ie[Bi++];)nr(qr,tn,oi,hi);if(Zt){if(Tr>0)for(;Fi--;)qr[Fi]||tn[Fi]||(tn[Fi]=ji.call(bi));tn=$o(tn)}er.apply(bi,tn),Hi&&!Zt&&tn.length>0&&Tr+Ie.length>1&&dr.uniqueSort(bi)}return Hi&&(Nt=Lo,gt=nn),qr};return lt?hn(mt):mt}return He=dr.compile=function(re,Ie){var lt,Gt=[],mt=[],Zt=$i[re+" "];if(!Zt){for(Ie||(Ie=X(re)),lt=Ie.length;lt--;)Zt=Qo(Ie[lt]),Zt[me]?Gt.push(Zt):mt.push(Zt);Zt=$i(re,Fl(mt,Gt)),Zt.selector=re}return Zt},Pe=dr.select=function(re,Ie,lt,Gt){var mt,Zt,oi,hi,bi,Hi=typeof re=="function"&&re,Ni=!Gt&&X(re=Hi.selector||re);if(lt=lt||[],Ni.length===1){if(Zt=Ni[0]=Ni[0].slice(0),Zt.length>2&&(oi=Zt[0]).type==="ID"&&Ie.nodeType===9&&R&&O.relative[Zt[1].type]){if(Ie=(O.find.ID(oi.matches[0].replace(Di,Qi),Ie)||[])[0],Ie)Hi&&(Ie=Ie.parentNode);else return lt;re=re.slice(Zt.shift().value.length)}for(mt=pe.needsContext.test(re)?0:Zt.length;mt--&&(oi=Zt[mt],!O.relative[hi=oi.type]);)if((bi=O.find[hi])&&(Gt=bi(oi.matches[0].replace(Di,Qi),Ui.test(Zt[0].type)&&Zo(Ie.parentNode)||Ie))){if(Zt.splice(mt,1),re=Gt.length&&Jo(Zt),!re)return er.apply(lt,Gt),lt;break}}return(Hi||He(re,Ni))(Gt,Ie,!R,lt,!Ie||Ui.test(re)&&Zo(Ie.parentNode)||Ie),lt},A.sortStable=me.split("").sort(Oi).join("")===me,A.detectDuplicates=!!ri,Ot(),A.sortDetached=mn(function(re){return re.compareDocumentPosition(st.createElement("fieldset"))&1}),mn(function(re){return re.innerHTML="<a href='#'></a>",re.firstChild.getAttribute("href")==="#"})||Ko("type|href|height|width",function(re,Ie,lt){if(!lt)return re.getAttribute(Ie,Ie.toLowerCase()==="type"?1:2)}),(!A.attributes||!mn(function(re){return re.innerHTML="<input/>",re.firstChild.setAttribute("value",""),re.firstChild.getAttribute("value")===""}))&&Ko("value",function(re,Ie,lt){if(!lt&&re.nodeName.toLowerCase()==="input")return re.defaultValue}),mn(function(re){return re.getAttribute("disabled")==null})||Ko(Rr,function(re,Ie,lt){var Gt;if(!lt)return re[Ie]===!0?Ie.toLowerCase():(Gt=re.getAttributeNode(Ie))&&Gt.specified?Gt.value:null}),dr}(r);d.find=C,d.expr=C.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=C.uniqueSort,d.text=C.getText,d.isXMLDoc=C.isXML,d.contains=C.contains,d.escapeSelector=C.escape;var N=function(f,b,A){for(var O=[],H=A!==void 0;(f=f[b])&&f.nodeType!==9;)if(f.nodeType===1){if(H&&d(f).is(A))break;O.push(f)}return O},G=function(f,b){for(var A=[];f;f=f.nextSibling)f.nodeType===1&&f!==b&&A.push(f);return A},q=d.expr.match.needsContext;function K(f,b){return f.nodeName&&f.nodeName.toLowerCase()===b.toLowerCase()}var ie=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Q(f,b,A){return S(b)?d.grep(f,function(O,H){return!!b.call(O,H,O)!==A}):b.nodeType?d.grep(f,function(O){return O===b!==A}):typeof b!="string"?d.grep(f,function(O){return p.call(b,O)>-1!==A}):d.filter(b,f,A)}d.filter=function(f,b,A){var O=b[0];return A&&(f=":not("+f+")"),b.length===1&&O.nodeType===1?d.find.matchesSelector(O,f)?[O]:[]:d.find.matches(f,d.grep(b,function(H){return H.nodeType===1}))},d.fn.extend({find:function(f){var b,A,O=this.length,H=this;if(typeof f!="string")return this.pushStack(d(f).filter(function(){for(b=0;b<O;b++)if(d.contains(H[b],this))return!0}));for(A=this.pushStack([]),b=0;b<O;b++)d.find(f,H[b],A);return O>1?d.uniqueSort(A):A},filter:function(f){return this.pushStack(Q(this,f||[],!1))},not:function(f){return this.pushStack(Q(this,f||[],!0))},is:function(f){return!!Q(this,typeof f=="string"&&q.test(f)?d(f):f||[],!1).length}});var te,Oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,fe=d.fn.init=function(f,b,A){var O,H;if(!f)return this;if(A=A||te,typeof f=="string")if(f[0]==="<"&&f[f.length-1]===">"&&f.length>=3?O=[null,f,null]:O=Oe.exec(f),O&&(O[1]||!b))if(O[1]){if(b=b instanceof d?b[0]:b,d.merge(this,d.parseHTML(O[1],b&&b.nodeType?b.ownerDocument||b:E,!0)),ie.test(O[1])&&d.isPlainObject(b))for(O in b)S(this[O])?this[O](b[O]):this.attr(O,b[O]);return this}else return H=E.getElementById(O[2]),H&&(this[0]=H,this.length=1),this;else return!b||b.jquery?(b||A).find(f):this.constructor(b).find(f);else{if(f.nodeType)return this[0]=f,this.length=1,this;if(S(f))return A.ready!==void 0?A.ready(f):f(d)}return d.makeArray(f,this)};fe.prototype=d.fn,te=d(E);var W=/^(?:parents|prev(?:Until|All))/,ae={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(f){var b=d(f,this),A=b.length;return this.filter(function(){for(var O=0;O<A;O++)if(d.contains(this,b[O]))return!0})},closest:function(f,b){var A,O=0,H=this.length,F=[],X=typeof f!="string"&&d(f);if(!q.test(f)){for(;O<H;O++)for(A=this[O];A&&A!==b;A=A.parentNode)if(A.nodeType<11&&(X?X.index(A)>-1:A.nodeType===1&&d.find.matchesSelector(A,f))){F.push(A);break}}return this.pushStack(F.length>1?d.uniqueSort(F):F)},index:function(f){return f?typeof f=="string"?p.call(d(f),this[0]):p.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,b){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(f,b))))},addBack:function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))}});function de(f,b){for(;(f=f[b])&&f.nodeType!==1;);return f}d.each({parent:function(f){var b=f.parentNode;return b&&b.nodeType!==11?b:null},parents:function(f){return N(f,"parentNode")},parentsUntil:function(f,b,A){return N(f,"parentNode",A)},next:function(f){return de(f,"nextSibling")},prev:function(f){return de(f,"previousSibling")},nextAll:function(f){return N(f,"nextSibling")},prevAll:function(f){return N(f,"previousSibling")},nextUntil:function(f,b,A){return N(f,"nextSibling",A)},prevUntil:function(f,b,A){return N(f,"previousSibling",A)},siblings:function(f){return G((f.parentNode||{}).firstChild,f)},children:function(f){return G(f.firstChild)},contents:function(f){return f.contentDocument!=null&&o(f.contentDocument)?f.contentDocument:(K(f,"template")&&(f=f.content||f),d.merge([],f.childNodes))}},function(f,b){d.fn[f]=function(A,O){var H=d.map(this,b,A);return f.slice(-5)!=="Until"&&(O=A),O&&typeof O=="string"&&(H=d.filter(O,H)),this.length>1&&(ae[f]||d.uniqueSort(H),W.test(f)&&H.reverse()),this.pushStack(H)}});var Z=/[^\x20\t\r\n\f]+/g;function ye(f){var b={};return d.each(f.match(Z)||[],function(A,O){b[O]=!0}),b}d.Callbacks=function(f){f=typeof f=="string"?ye(f):d.extend({},f);var b,A,O,H,F=[],X=[],He=-1,Pe=function(){for(H=H||f.once,O=b=!0;X.length;He=-1)for(A=X.shift();++He<F.length;)F[He].apply(A[0],A[1])===!1&&f.stopOnFalse&&(He=F.length,A=!1);f.memory||(A=!1),b=!1,H&&(A?F=[]:F="")},gt={add:function(){return F&&(A&&!b&&(He=F.length-1,X.push(A)),function Dt(ri){d.each(ri,function(Ot,st){S(st)?(!f.unique||!gt.has(st))&&F.push(st):st&&st.length&&h(st)!=="string"&&Dt(st)})}(arguments),A&&!b&&Pe()),this},remove:function(){return d.each(arguments,function(Dt,ri){for(var Ot;(Ot=d.inArray(ri,F,Ot))>-1;)F.splice(Ot,1),Ot<=He&&He--}),this},has:function(Dt){return Dt?d.inArray(Dt,F)>-1:F.length>0},empty:function(){return F&&(F=[]),this},disable:function(){return H=X=[],F=A="",this},disabled:function(){return!F},lock:function(){return H=X=[],!A&&!b&&(F=A=""),this},locked:function(){return!!H},fireWith:function(Dt,ri){return H||(ri=ri||[],ri=[Dt,ri.slice?ri.slice():ri],X.push(ri),b||Pe()),this},fire:function(){return gt.fireWith(this,arguments),this},fired:function(){return!!O}};return gt};function Y(f){return f}function ce(f){throw f}function Ze(f,b,A,O){var H;try{f&&S(H=f.promise)?H.call(f).done(b).fail(A):f&&S(H=f.then)?H.call(f,b,A):b.apply(void 0,[f].slice(O))}catch(F){A.apply(void 0,[F])}}d.extend({Deferred:function(f){var b=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],A="pending",O={state:function(){return A},always:function(){return H.done(arguments).fail(arguments),this},catch:function(F){return O.then(null,F)},pipe:function(){var F=arguments;return d.Deferred(function(X){d.each(b,function(He,Pe){var gt=S(F[Pe[4]])&&F[Pe[4]];H[Pe[1]](function(){var Dt=gt&&gt.apply(this,arguments);Dt&&S(Dt.promise)?Dt.promise().progress(X.notify).done(X.resolve).fail(X.reject):X[Pe[0]+"With"](this,gt?[Dt]:arguments)})}),F=null}).promise()},then:function(F,X,He){var Pe=0;function gt(Dt,ri,Ot,st){return function(){var Li=this,R=arguments,M=function(){var U,se;if(!(Dt<Pe)){if(U=Ot.apply(Li,R),U===ri.promise())throw new TypeError("Thenable self-resolution");se=U&&(typeof U=="object"||typeof U=="function")&&U.then,S(se)?st?se.call(U,gt(Pe,ri,Y,st),gt(Pe,ri,ce,st)):(Pe++,se.call(U,gt(Pe,ri,Y,st),gt(Pe,ri,ce,st),gt(Pe,ri,Y,ri.notifyWith))):(Ot!==Y&&(Li=void 0,R=[U]),(st||ri.resolveWith)(Li,R))}},j=st?M:function(){try{M()}catch(U){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(U,j.stackTrace),Dt+1>=Pe&&(Ot!==ce&&(Li=void 0,R=[U]),ri.rejectWith(Li,R))}};Dt?j():(d.Deferred.getStackHook&&(j.stackTrace=d.Deferred.getStackHook()),r.setTimeout(j))}}return d.Deferred(function(Dt){b[0][3].add(gt(0,Dt,S(He)?He:Y,Dt.notifyWith)),b[1][3].add(gt(0,Dt,S(F)?F:Y)),b[2][3].add(gt(0,Dt,S(X)?X:ce))}).promise()},promise:function(F){return F!=null?d.extend(F,O):O}},H={};return d.each(b,function(F,X){var He=X[2],Pe=X[5];O[X[1]]=He.add,Pe&&He.add(function(){A=Pe},b[3-F][2].disable,b[3-F][3].disable,b[0][2].lock,b[0][3].lock),He.add(X[3].fire),H[X[0]]=function(){return H[X[0]+"With"](this===H?void 0:this,arguments),this},H[X[0]+"With"]=He.fireWith}),O.promise(H),f&&f.call(H,H),H},when:function(f){var b=arguments.length,A=b,O=Array(A),H=c.call(arguments),F=d.Deferred(),X=function(He){return function(Pe){O[He]=this,H[He]=arguments.length>1?c.call(arguments):Pe,--b||F.resolveWith(O,H)}};if(b<=1&&(Ze(f,F.done(X(A)).resolve,F.reject,!b),F.state()==="pending"||S(H[A]&&H[A].then)))return F.then();for(;A--;)Ze(H[A],X(A),F.reject);return F.promise()}});var ft=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(f,b){r.console&&r.console.warn&&f&&ft.test(f.name)&&r.console.warn("jQuery.Deferred exception: "+f.message,f.stack,b)},d.readyException=function(f){r.setTimeout(function(){throw f})};var ct=d.Deferred();d.fn.ready=function(f){return ct.then(f).catch(function(b){d.readyException(b)}),this},d.extend({isReady:!1,readyWait:1,ready:function(f){(f===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(f!==!0&&--d.readyWait>0)&&ct.resolveWith(E,[d]))}}),d.ready.then=ct.then;function Ge(){E.removeEventListener("DOMContentLoaded",Ge),r.removeEventListener("load",Ge),d.ready()}E.readyState==="complete"||E.readyState!=="loading"&&!E.documentElement.doScroll?r.setTimeout(d.ready):(E.addEventListener("DOMContentLoaded",Ge),r.addEventListener("load",Ge));var Ae=function(f,b,A,O,H,F,X){var He=0,Pe=f.length,gt=A==null;if(h(A)==="object"){H=!0;for(He in A)Ae(f,b,He,A[He],!0,F,X)}else if(O!==void 0&&(H=!0,S(O)||(X=!0),gt&&(X?(b.call(f,O),b=null):(gt=b,b=function(Dt,ri,Ot){return gt.call(d(Dt),Ot)})),b))for(;He<Pe;He++)b(f[He],A,X?O:O.call(f[He],He,b(f[He],A)));return H?f:gt?b.call(f):Pe?b(f[0],A):F},Me=/^-ms-/,De=/-([a-z])/g;function Ne(f,b){return b.toUpperCase()}function Ve(f){return f.replace(Me,"ms-").replace(De,Ne)}var rt=function(f){return f.nodeType===1||f.nodeType===9||!+f.nodeType};function je(){this.expando=d.expando+je.uid++}je.uid=1,je.prototype={cache:function(f){var b=f[this.expando];return b||(b={},rt(f)&&(f.nodeType?f[this.expando]=b:Object.defineProperty(f,this.expando,{value:b,configurable:!0}))),b},set:function(f,b,A){var O,H=this.cache(f);if(typeof b=="string")H[Ve(b)]=A;else for(O in b)H[Ve(O)]=b[O];return H},get:function(f,b){return b===void 0?this.cache(f):f[this.expando]&&f[this.expando][Ve(b)]},access:function(f,b,A){return b===void 0||b&&typeof b=="string"&&A===void 0?this.get(f,b):(this.set(f,b,A),A!==void 0?A:b)},remove:function(f,b){var A,O=f[this.expando];if(O!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(Ve):(b=Ve(b),b=b in O?[b]:b.match(Z)||[]),A=b.length;A--;)delete O[b[A]];(b===void 0||d.isEmptyObject(O))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var b=f[this.expando];return b!==void 0&&!d.isEmptyObject(b)}};var ee=new je,J=new je,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/[A-Z]/g;function we(f){return f==="true"?!0:f==="false"?!1:f==="null"?null:f===+f+""?+f:qe.test(f)?JSON.parse(f):f}function $e(f,b,A){var O;if(A===void 0&&f.nodeType===1)if(O="data-"+b.replace(_t,"-$&").toLowerCase(),A=f.getAttribute(O),typeof A=="string"){try{A=we(A)}catch(H){}J.set(f,b,A)}else A=void 0;return A}d.extend({hasData:function(f){return J.hasData(f)||ee.hasData(f)},data:function(f,b,A){return J.access(f,b,A)},removeData:function(f,b){J.remove(f,b)},_data:function(f,b,A){return ee.access(f,b,A)},_removeData:function(f,b){ee.remove(f,b)}}),d.fn.extend({data:function(f,b){var A,O,H,F=this[0],X=F&&F.attributes;if(f===void 0){if(this.length&&(H=J.get(F),F.nodeType===1&&!ee.get(F,"hasDataAttrs"))){for(A=X.length;A--;)X[A]&&(O=X[A].name,O.indexOf("data-")===0&&(O=Ve(O.slice(5)),$e(F,O,H[O])));ee.set(F,"hasDataAttrs",!0)}return H}return typeof f=="object"?this.each(function(){J.set(this,f)}):Ae(this,function(He){var Pe;if(F&&He===void 0)return Pe=J.get(F,f),Pe!==void 0||(Pe=$e(F,f),Pe!==void 0)?Pe:void 0;this.each(function(){J.set(this,f,He)})},null,b,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){J.remove(this,f)})}}),d.extend({queue:function(f,b,A){var O;if(f)return b=(b||"fx")+"queue",O=ee.get(f,b),A&&(!O||Array.isArray(A)?O=ee.access(f,b,d.makeArray(A)):O.push(A)),O||[]},dequeue:function(f,b){b=b||"fx";var A=d.queue(f,b),O=A.length,H=A.shift(),F=d._queueHooks(f,b),X=function(){d.dequeue(f,b)};H==="inprogress"&&(H=A.shift(),O--),H&&(b==="fx"&&A.unshift("inprogress"),delete F.stop,H.call(f,X,F)),!O&&F&&F.empty.fire()},_queueHooks:function(f,b){var A=b+"queueHooks";return ee.get(f,A)||ee.access(f,A,{empty:d.Callbacks("once memory").add(function(){ee.remove(f,[b+"queue",A])})})}}),d.fn.extend({queue:function(f,b){var A=2;return typeof f!="string"&&(b=f,f="fx",A--),arguments.length<A?d.queue(this[0],f):b===void 0?this:this.each(function(){var O=d.queue(this,f,b);d._queueHooks(this,f),f==="fx"&&O[0]!=="inprogress"&&d.dequeue(this,f)})},dequeue:function(f){return this.each(function(){d.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,b){var A,O=1,H=d.Deferred(),F=this,X=this.length,He=function(){--O||H.resolveWith(F,[F])};for(typeof f!="string"&&(b=f,f=void 0),f=f||"fx";X--;)A=ee.get(F[X],f+"queueHooks"),A&&A.empty&&(O++,A.empty.add(He));return He(),H.promise(b)}});var at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),tt=["Top","Right","Bottom","Left"],nt=E.documentElement,Vt=function(f){return d.contains(f.ownerDocument,f)},dt={composed:!0};nt.getRootNode&&(Vt=function(f){return d.contains(f.ownerDocument,f)||f.getRootNode(dt)===f.ownerDocument});var vt=function(f,b){return f=b||f,f.style.display==="none"||f.style.display===""&&Vt(f)&&d.css(f,"display")==="none"};function Rt(f,b,A,O){var H,F,X=20,He=O?function(){return O.cur()}:function(){return d.css(f,b,"")},Pe=He(),gt=A&&A[3]||(d.cssNumber[b]?"":"px"),Dt=f.nodeType&&(d.cssNumber[b]||gt!=="px"&&+Pe)&&Ee.exec(d.css(f,b));if(Dt&&Dt[3]!==gt){for(Pe=Pe/2,gt=gt||Dt[3],Dt=+Pe||1;X--;)d.style(f,b,Dt+gt),(1-F)*(1-(F=He()/Pe||.5))<=0&&(X=0),Dt=Dt/F;Dt=Dt*2,d.style(f,b,Dt+gt),A=A||[]}return A&&(Dt=+Dt||+Pe||0,H=A[1]?Dt+(A[1]+1)*A[2]:+A[2],O&&(O.unit=gt,O.start=Dt,O.end=H)),H}var ii={};function ai(f){var b,A=f.ownerDocument,O=f.nodeName,H=ii[O];return H||(b=A.body.appendChild(A.createElement(O)),H=d.css(b,"display"),b.parentNode.removeChild(b),H==="none"&&(H="block"),ii[O]=H,H)}function ui(f,b){for(var A,O,H=[],F=0,X=f.length;F<X;F++)O=f[F],O.style&&(A=O.style.display,b?(A==="none"&&(H[F]=ee.get(O,"display")||null,H[F]||(O.style.display="")),O.style.display===""&&vt(O)&&(H[F]=ai(O))):A!=="none"&&(H[F]="none",ee.set(O,"display",A)));for(F=0;F<X;F++)H[F]!=null&&(f[F].style.display=H[F]);return f}d.fn.extend({show:function(){return ui(this,!0)},hide:function(){return ui(this)},toggle:function(f){return typeof f=="boolean"?f?this.show():this.hide():this.each(function(){vt(this)?d(this).show():d(this).hide()})}});var Mt=/^(?:checkbox|radio)$/i,It=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Et=/^$|^module$|\/(?:java|ecma)script/i;(function(){var f=E.createDocumentFragment(),b=f.appendChild(E.createElement("div")),A=E.createElement("input");A.setAttribute("type","radio"),A.setAttribute("checked","checked"),A.setAttribute("name","t"),b.appendChild(A),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",k.option=!!b.lastChild})();var Ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ct.tbody=Ct.tfoot=Ct.colgroup=Ct.caption=Ct.thead,Ct.th=Ct.td,k.option||(Ct.optgroup=Ct.option=[1,"<select multiple='multiple'>","</select>"]);function St(f,b){var A;return typeof f.getElementsByTagName<"u"?A=f.getElementsByTagName(b||"*"):typeof f.querySelectorAll<"u"?A=f.querySelectorAll(b||"*"):A=[],b===void 0||b&&K(f,b)?d.merge([f],A):A}function I(f,b){for(var A=0,O=f.length;A<O;A++)ee.set(f[A],"globalEval",!b||ee.get(b[A],"globalEval"))}var We=/<|&#?\w+;/;function ke(f,b,A,O,H){for(var F,X,He,Pe,gt,Dt,ri=b.createDocumentFragment(),Ot=[],st=0,Li=f.length;st<Li;st++)if(F=f[st],F||F===0)if(h(F)==="object")d.merge(Ot,F.nodeType?[F]:F);else if(!We.test(F))Ot.push(b.createTextNode(F));else{for(X=X||ri.appendChild(b.createElement("div")),He=(It.exec(F)||["",""])[1].toLowerCase(),Pe=Ct[He]||Ct._default,X.innerHTML=Pe[1]+d.htmlPrefilter(F)+Pe[2],Dt=Pe[0];Dt--;)X=X.lastChild;d.merge(Ot,X.childNodes),X=ri.firstChild,X.textContent=""}for(ri.textContent="",st=0;F=Ot[st++];){if(O&&d.inArray(F,O)>-1){H&&H.push(F);continue}if(gt=Vt(F),X=St(ri.appendChild(F),"script"),gt&&I(X),A)for(Dt=0;F=X[Dt++];)Et.test(F.type||"")&&A.push(F)}return ri}var Ye=/^([^.]*)(?:\.(.+)|)/;function Qe(){return!0}function ht(){return!1}function oe(f,b){return f===Le()==(b==="focus")}function Le(){try{return E.activeElement}catch(f){}}function ze(f,b,A,O,H,F){var X,He;if(typeof b=="object"){typeof A!="string"&&(O=O||A,A=void 0);for(He in b)ze(f,He,A,O,b[He],F);return f}if(O==null&&H==null?(H=A,O=A=void 0):H==null&&(typeof A=="string"?(H=O,O=void 0):(H=O,O=A,A=void 0)),H===!1)H=ht;else if(!H)return f;return F===1&&(X=H,H=function(Pe){return d().off(Pe),X.apply(this,arguments)},H.guid=X.guid||(X.guid=d.guid++)),f.each(function(){d.event.add(this,b,H,O,A)})}d.event={global:{},add:function(f,b,A,O,H){var F,X,He,Pe,gt,Dt,ri,Ot,st,Li,R,M=ee.get(f);if(rt(f))for(A.handler&&(F=A,A=F.handler,H=F.selector),H&&d.find.matchesSelector(nt,H),A.guid||(A.guid=d.guid++),(Pe=M.events)||(Pe=M.events=Object.create(null)),(X=M.handle)||(X=M.handle=function(j){return typeof d<"u"&&d.event.triggered!==j.type?d.event.dispatch.apply(f,arguments):void 0}),b=(b||"").match(Z)||[""],gt=b.length;gt--;)He=Ye.exec(b[gt])||[],st=R=He[1],Li=(He[2]||"").split(".").sort(),st&&(ri=d.event.special[st]||{},st=(H?ri.delegateType:ri.bindType)||st,ri=d.event.special[st]||{},Dt=d.extend({type:st,origType:R,data:O,handler:A,guid:A.guid,selector:H,needsContext:H&&d.expr.match.needsContext.test(H),namespace:Li.join(".")},F),(Ot=Pe[st])||(Ot=Pe[st]=[],Ot.delegateCount=0,(!ri.setup||ri.setup.call(f,O,Li,X)===!1)&&f.addEventListener&&f.addEventListener(st,X)),ri.add&&(ri.add.call(f,Dt),Dt.handler.guid||(Dt.handler.guid=A.guid)),H?Ot.splice(Ot.delegateCount++,0,Dt):Ot.push(Dt),d.event.global[st]=!0)},remove:function(f,b,A,O,H){var F,X,He,Pe,gt,Dt,ri,Ot,st,Li,R,M=ee.hasData(f)&&ee.get(f);if(!(!M||!(Pe=M.events))){for(b=(b||"").match(Z)||[""],gt=b.length;gt--;){if(He=Ye.exec(b[gt])||[],st=R=He[1],Li=(He[2]||"").split(".").sort(),!st){for(st in Pe)d.event.remove(f,st+b[gt],A,O,!0);continue}for(ri=d.event.special[st]||{},st=(O?ri.delegateType:ri.bindType)||st,Ot=Pe[st]||[],He=He[2]&&new RegExp("(^|\\.)"+Li.join("\\.(?:.*\\.|)")+"(\\.|$)"),X=F=Ot.length;F--;)Dt=Ot[F],(H||R===Dt.origType)&&(!A||A.guid===Dt.guid)&&(!He||He.test(Dt.namespace))&&(!O||O===Dt.selector||O==="**"&&Dt.selector)&&(Ot.splice(F,1),Dt.selector&&Ot.delegateCount--,ri.remove&&ri.remove.call(f,Dt));X&&!Ot.length&&((!ri.teardown||ri.teardown.call(f,Li,M.handle)===!1)&&d.removeEvent(f,st,M.handle),delete Pe[st])}d.isEmptyObject(Pe)&&ee.remove(f,"handle events")}},dispatch:function(f){var b,A,O,H,F,X,He=new Array(arguments.length),Pe=d.event.fix(f),gt=(ee.get(this,"events")||Object.create(null))[Pe.type]||[],Dt=d.event.special[Pe.type]||{};for(He[0]=Pe,b=1;b<arguments.length;b++)He[b]=arguments[b];if(Pe.delegateTarget=this,!(Dt.preDispatch&&Dt.preDispatch.call(this,Pe)===!1)){for(X=d.event.handlers.call(this,Pe,gt),b=0;(H=X[b++])&&!Pe.isPropagationStopped();)for(Pe.currentTarget=H.elem,A=0;(F=H.handlers[A++])&&!Pe.isImmediatePropagationStopped();)(!Pe.rnamespace||F.namespace===!1||Pe.rnamespace.test(F.namespace))&&(Pe.handleObj=F,Pe.data=F.data,O=((d.event.special[F.origType]||{}).handle||F.handler).apply(H.elem,He),O!==void 0&&(Pe.result=O)===!1&&(Pe.preventDefault(),Pe.stopPropagation()));return Dt.postDispatch&&Dt.postDispatch.call(this,Pe),Pe.result}},handlers:function(f,b){var A,O,H,F,X,He=[],Pe=b.delegateCount,gt=f.target;if(Pe&&gt.nodeType&&!(f.type==="click"&&f.button>=1)){for(;gt!==this;gt=gt.parentNode||this)if(gt.nodeType===1&&!(f.type==="click"&&gt.disabled===!0)){for(F=[],X={},A=0;A<Pe;A++)O=b[A],H=O.selector+" ",X[H]===void 0&&(X[H]=O.needsContext?d(H,this).index(gt)>-1:d.find(H,this,null,[gt]).length),X[H]&&F.push(O);F.length&&He.push({elem:gt,handlers:F})}}return gt=this,Pe<b.length&&He.push({elem:gt,handlers:b.slice(Pe)}),He},addProp:function(f,b){Object.defineProperty(d.Event.prototype,f,{enumerable:!0,configurable:!0,get:S(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(A){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:A})}})},fix:function(f){return f[d.expando]?f:new d.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var b=this||f;return Mt.test(b.type)&&b.click&&K(b,"input")&&yt(b,"click",Qe),!1},trigger:function(f){var b=this||f;return Mt.test(b.type)&&b.click&&K(b,"input")&&yt(b,"click"),!0},_default:function(f){var b=f.target;return Mt.test(b.type)&&b.click&&K(b,"input")&&ee.get(b,"click")||K(b,"a")}},beforeunload:{postDispatch:function(f){f.result!==void 0&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};function yt(f,b,A){if(!A){ee.get(f,b)===void 0&&d.event.add(f,b,Qe);return}ee.set(f,b,!1),d.event.add(f,b,{namespace:!1,handler:function(O){var H,F,X=ee.get(this,b);if(O.isTrigger&1&&this[b]){if(X.length)(d.event.special[b]||{}).delegateType&&O.stopPropagation();else if(X=c.call(arguments),ee.set(this,b,X),H=A(this,b),this[b](),F=ee.get(this,b),X!==F||H?ee.set(this,b,!1):F={},X!==F)return O.stopImmediatePropagation(),O.preventDefault(),F&&F.value}else X.length&&(ee.set(this,b,{value:d.event.trigger(d.extend(X[0],d.Event.prototype),X.slice(1),this)}),O.stopImmediatePropagation())}})}d.removeEvent=function(f,b,A){f.removeEventListener&&f.removeEventListener(b,A)},d.Event=function(f,b){if(!(this instanceof d.Event))return new d.Event(f,b);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||f.defaultPrevented===void 0&&f.returnValue===!1?Qe:ht,this.target=f.target&&f.target.nodeType===3?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,b&&d.extend(this,b),this.timeStamp=f&&f.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:ht,isPropagationStopped:ht,isImmediatePropagationStopped:ht,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Qe,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Qe,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Qe,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(f,b){d.event.special[f]={setup:function(){return yt(this,f,oe),!1},trigger:function(){return yt(this,f),!0},_default:function(A){return ee.get(A.target,f)},delegateType:b}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,b){d.event.special[f]={delegateType:b,bindType:b,handle:function(A){var O,H=this,F=A.relatedTarget,X=A.handleObj;return(!F||F!==H&&!d.contains(H,F))&&(A.type=X.origType,O=X.handler.apply(this,arguments),A.type=b),O}}}),d.fn.extend({on:function(f,b,A,O){return ze(this,f,b,A,O)},one:function(f,b,A,O){return ze(this,f,b,A,O,1)},off:function(f,b,A){var O,H;if(f&&f.preventDefault&&f.handleObj)return O=f.handleObj,d(f.delegateTarget).off(O.namespace?O.origType+"."+O.namespace:O.origType,O.selector,O.handler),this;if(typeof f=="object"){for(H in f)this.off(H,b,f[H]);return this}return(b===!1||typeof b=="function")&&(A=b,b=void 0),A===!1&&(A=ht),this.each(function(){d.event.remove(this,f,A,b)})}});var ut=/<script|<style|<link/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Jt(f,b){return K(f,"table")&&K(b.nodeType!==11?b:b.firstChild,"tr")&&d(f).children("tbody")[0]||f}function Lt(f){return f.type=(f.getAttribute("type")!==null)+"/"+f.type,f}function jt(f){return(f.type||"").slice(0,5)==="true/"?f.type=f.type.slice(5):f.removeAttribute("type"),f}function Je(f,b){var A,O,H,F,X,He,Pe;if(b.nodeType===1){if(ee.hasData(f)&&(F=ee.get(f),Pe=F.events,Pe)){ee.remove(b,"handle events");for(H in Pe)for(A=0,O=Pe[H].length;A<O;A++)d.event.add(b,H,Pe[H][A])}J.hasData(f)&&(X=J.access(f),He=d.extend({},X),J.set(b,He))}}function Re(f,b){var A=b.nodeName.toLowerCase();A==="input"&&Mt.test(f.type)?b.checked=f.checked:(A==="input"||A==="textarea")&&(b.defaultValue=f.defaultValue)}function Be(f,b,A,O){b=n(b);var H,F,X,He,Pe,gt,Dt=0,ri=f.length,Ot=ri-1,st=b[0],Li=S(st);if(Li||ri>1&&typeof st=="string"&&!k.checkClone&&Tt.test(st))return f.each(function(R){var M=f.eq(R);Li&&(b[0]=st.call(this,R,M.html())),Be(M,b,A,O)});if(ri&&(H=ke(b,f[0].ownerDocument,!1,f,O),F=H.firstChild,H.childNodes.length===1&&(H=F),F||O)){for(X=d.map(St(H,"script"),Lt),He=X.length;Dt<ri;Dt++)Pe=H,Dt!==Ot&&(Pe=d.clone(Pe,!0,!0),He&&d.merge(X,St(Pe,"script"))),A.call(f[Dt],Pe,Dt);if(He)for(gt=X[X.length-1].ownerDocument,d.map(X,jt),Dt=0;Dt<He;Dt++)Pe=X[Dt],Et.test(Pe.type||"")&&!ee.access(Pe,"globalEval")&&d.contains(gt,Pe)&&(Pe.src&&(Pe.type||"").toLowerCase()!=="module"?d._evalUrl&&!Pe.noModule&&d._evalUrl(Pe.src,{nonce:Pe.nonce||Pe.getAttribute("nonce")},gt):s(Pe.textContent.replace(Ut,""),Pe,gt))}return f}function it(f,b,A){for(var O,H=b?d.filter(b,f):f,F=0;(O=H[F])!=null;F++)!A&&O.nodeType===1&&d.cleanData(St(O)),O.parentNode&&(A&&Vt(O)&&I(St(O,"script")),O.parentNode.removeChild(O));return f}d.extend({htmlPrefilter:function(f){return f},clone:function(f,b,A){var O,H,F,X,He=f.cloneNode(!0),Pe=Vt(f);if(!k.noCloneChecked&&(f.nodeType===1||f.nodeType===11)&&!d.isXMLDoc(f))for(X=St(He),F=St(f),O=0,H=F.length;O<H;O++)Re(F[O],X[O]);if(b)if(A)for(F=F||St(f),X=X||St(He),O=0,H=F.length;O<H;O++)Je(F[O],X[O]);else Je(f,He);return X=St(He,"script"),X.length>0&&I(X,!Pe&&St(f,"script")),He},cleanData:function(f){for(var b,A,O,H=d.event.special,F=0;(A=f[F])!==void 0;F++)if(rt(A)){if(b=A[ee.expando]){if(b.events)for(O in b.events)H[O]?d.event.remove(A,O):d.removeEvent(A,O,b.handle);A[ee.expando]=void 0}A[J.expando]&&(A[J.expando]=void 0)}}}),d.fn.extend({detach:function(f){return it(this,f,!0)},remove:function(f){return it(this,f)},text:function(f){return Ae(this,function(b){return b===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,f,arguments.length)},append:function(){return Be(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Jt(this,f);b.appendChild(f)}})},prepend:function(){return Be(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Jt(this,f);b.insertBefore(f,b.firstChild)}})},before:function(){return Be(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return Be(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,b=0;(f=this[b])!=null;b++)f.nodeType===1&&(d.cleanData(St(f,!1)),f.textContent="");return this},clone:function(f,b){return f=f!=null?f:!1,b=b!=null?b:f,this.map(function(){return d.clone(this,f,b)})},html:function(f){return Ae(this,function(b){var A=this[0]||{},O=0,H=this.length;if(b===void 0&&A.nodeType===1)return A.innerHTML;if(typeof b=="string"&&!ut.test(b)&&!Ct[(It.exec(b)||["",""])[1].toLowerCase()]){b=d.htmlPrefilter(b);try{for(;O<H;O++)A=this[O]||{},A.nodeType===1&&(d.cleanData(St(A,!1)),A.innerHTML=b);A=0}catch(F){}}A&&this.empty().append(b)},null,f,arguments.length)},replaceWith:function(){var f=[];return Be(this,arguments,function(b){var A=this.parentNode;d.inArray(this,f)<0&&(d.cleanData(St(this)),A&&A.replaceChild(b,this))},f)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,b){d.fn[f]=function(A){for(var O,H=[],F=d(A),X=F.length-1,He=0;He<=X;He++)O=He===X?this:this.clone(!0),d(F[He])[b](O),u.apply(H,O.get());return this.pushStack(H)}});var Pt=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),Ht=/^--/,et=function(f){var b=f.ownerDocument.defaultView;return(!b||!b.opener)&&(b=r),b.getComputedStyle(f)},xt=function(f,b,A){var O,H,F={};for(H in b)F[H]=f.style[H],f.style[H]=b[H];O=A.call(f);for(H in b)f.style[H]=F[H];return O},kt=new RegExp(tt.join("|"),"i"),Xt="[\\x20\\t\\r\\n\\f]",Xe=new RegExp("^"+Xt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Xt+"+$","g");(function(){function f(){if(gt){Pe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",gt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(Pe).appendChild(gt);var Dt=r.getComputedStyle(gt);A=Dt.top!=="1%",He=b(Dt.marginLeft)===12,gt.style.right="60%",F=b(Dt.right)===36,O=b(Dt.width)===36,gt.style.position="absolute",H=b(gt.offsetWidth/3)===12,nt.removeChild(Pe),gt=null}}function b(Dt){return Math.round(parseFloat(Dt))}var A,O,H,F,X,He,Pe=E.createElement("div"),gt=E.createElement("div");gt.style&&(gt.style.backgroundClip="content-box",gt.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=gt.style.backgroundClip==="content-box",d.extend(k,{boxSizingReliable:function(){return f(),O},pixelBoxStyles:function(){return f(),F},pixelPosition:function(){return f(),A},reliableMarginLeft:function(){return f(),He},scrollboxSize:function(){return f(),H},reliableTrDimensions:function(){var Dt,ri,Ot,st;return X==null&&(Dt=E.createElement("table"),ri=E.createElement("tr"),Ot=E.createElement("div"),Dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ri.style.cssText="border:1px solid",ri.style.height="1px",Ot.style.height="9px",Ot.style.display="block",nt.appendChild(Dt).appendChild(ri).appendChild(Ot),st=r.getComputedStyle(ri),X=parseInt(st.height,10)+parseInt(st.borderTopWidth,10)+parseInt(st.borderBottomWidth,10)===ri.offsetHeight,nt.removeChild(Dt)),X}}))})();function ni(f,b,A){var O,H,F,X,He=Ht.test(b),Pe=f.style;return A=A||et(f),A&&(X=A.getPropertyValue(b)||A[b],He&&(X=X.replace(Xe,"$1")),X===""&&!Vt(f)&&(X=d.style(f,b)),!k.pixelBoxStyles()&&Pt.test(X)&&kt.test(b)&&(O=Pe.width,H=Pe.minWidth,F=Pe.maxWidth,Pe.minWidth=Pe.maxWidth=Pe.width=X,X=A.width,Pe.width=O,Pe.minWidth=H,Pe.maxWidth=F)),X!==void 0?X+"":X}function ti(f,b){return{get:function(){if(f()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var Ai=["Webkit","Moz","ms"],qt=E.createElement("div").style,ci={};function Ti(f){for(var b=f[0].toUpperCase()+f.slice(1),A=Ai.length;A--;)if(f=Ai[A]+b,f in qt)return f}function Mi(f){var b=d.cssProps[f]||ci[f];return b||(f in qt?f:ci[f]=Ti(f)||f)}var ir=/^(none|table(?!-c[ea]).+)/,Ki={position:"absolute",visibility:"hidden",display:"block"},Gi={letterSpacing:"0",fontWeight:"400"};function Sr(f,b,A){var O=Ee.exec(b);return O?Math.max(0,O[2]-(A||0))+(O[3]||"px"):b}function tr(f,b,A,O,H,F){var X=b==="width"?1:0,He=0,Pe=0;if(A===(O?"border":"content"))return 0;for(;X<4;X+=2)A==="margin"&&(Pe+=d.css(f,A+tt[X],!0,H)),O?(A==="content"&&(Pe-=d.css(f,"padding"+tt[X],!0,H)),A!=="margin"&&(Pe-=d.css(f,"border"+tt[X]+"Width",!0,H))):(Pe+=d.css(f,"padding"+tt[X],!0,H),A!=="padding"?Pe+=d.css(f,"border"+tt[X]+"Width",!0,H):He+=d.css(f,"border"+tt[X]+"Width",!0,H));return!O&&F>=0&&(Pe+=Math.max(0,Math.ceil(f["offset"+b[0].toUpperCase()+b.slice(1)]-F-Pe-He-.5))||0),Pe}function yr(f,b,A){var O=et(f),H=!k.boxSizingReliable()||A,F=H&&d.css(f,"boxSizing",!1,O)==="border-box",X=F,He=ni(f,b,O),Pe="offset"+b[0].toUpperCase()+b.slice(1);if(Pt.test(He)){if(!A)return He;He="auto"}return(!k.boxSizingReliable()&&F||!k.reliableTrDimensions()&&K(f,"tr")||He==="auto"||!parseFloat(He)&&d.css(f,"display",!1,O)==="inline")&&f.getClientRects().length&&(F=d.css(f,"boxSizing",!1,O)==="border-box",X=Pe in f,X&&(He=f[Pe])),He=parseFloat(He)||0,He+tr(f,b,A||(F?"border":"content"),X,O,He)+"px"}d.extend({cssHooks:{opacity:{get:function(f,b){if(b){var A=ni(f,"opacity");return A===""?"1":A}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,b,A,O){if(!(!f||f.nodeType===3||f.nodeType===8||!f.style)){var H,F,X,He=Ve(b),Pe=Ht.test(b),gt=f.style;if(Pe||(b=Mi(He)),X=d.cssHooks[b]||d.cssHooks[He],A!==void 0){if(F=typeof A,F==="string"&&(H=Ee.exec(A))&&H[1]&&(A=Rt(f,b,H),F="number"),A==null||A!==A)return;F==="number"&&!Pe&&(A+=H&&H[3]||(d.cssNumber[He]?"":"px")),!k.clearCloneStyle&&A===""&&b.indexOf("background")===0&&(gt[b]="inherit"),(!X||!("set"in X)||(A=X.set(f,A,O))!==void 0)&&(Pe?gt.setProperty(b,A):gt[b]=A)}else return X&&"get"in X&&(H=X.get(f,!1,O))!==void 0?H:gt[b]}},css:function(f,b,A,O){var H,F,X,He=Ve(b),Pe=Ht.test(b);return Pe||(b=Mi(He)),X=d.cssHooks[b]||d.cssHooks[He],X&&"get"in X&&(H=X.get(f,!0,A)),H===void 0&&(H=ni(f,b,O)),H==="normal"&&b in Gi&&(H=Gi[b]),A===""||A?(F=parseFloat(H),A===!0||isFinite(F)?F||0:H):H}}),d.each(["height","width"],function(f,b){d.cssHooks[b]={get:function(A,O,H){if(O)return ir.test(d.css(A,"display"))&&(!A.getClientRects().length||!A.getBoundingClientRect().width)?xt(A,Ki,function(){return yr(A,b,H)}):yr(A,b,H)},set:function(A,O,H){var F,X=et(A),He=!k.scrollboxSize()&&X.position==="absolute",Pe=He||H,gt=Pe&&d.css(A,"boxSizing",!1,X)==="border-box",Dt=H?tr(A,b,H,gt,X):0;return gt&&He&&(Dt-=Math.ceil(A["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(X[b])-tr(A,b,"border",!1,X)-.5)),Dt&&(F=Ee.exec(O))&&(F[3]||"px")!=="px"&&(A.style[b]=O,O=d.css(A,b)),Sr(A,O,Dt)}}}),d.cssHooks.marginLeft=ti(k.reliableMarginLeft,function(f,b){if(b)return(parseFloat(ni(f,"marginLeft"))||f.getBoundingClientRect().left-xt(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(f,b){d.cssHooks[f+b]={expand:function(A){for(var O=0,H={},F=typeof A=="string"?A.split(" "):[A];O<4;O++)H[f+tt[O]+b]=F[O]||F[O-2]||F[0];return H}},f!=="margin"&&(d.cssHooks[f+b].set=Sr)}),d.fn.extend({css:function(f,b){return Ae(this,function(A,O,H){var F,X,He={},Pe=0;if(Array.isArray(O)){for(F=et(A),X=O.length;Pe<X;Pe++)He[O[Pe]]=d.css(A,O[Pe],!1,F);return He}return H!==void 0?d.style(A,O,H):d.css(A,O)},f,b,arguments.length>1)}});function _r(f,b,A,O,H){return new _r.prototype.init(f,b,A,O,H)}d.Tween=_r,_r.prototype={constructor:_r,init:function(f,b,A,O,H,F){this.elem=f,this.prop=A,this.easing=H||d.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=O,this.unit=F||(d.cssNumber[A]?"":"px")},cur:function(){var f=_r.propHooks[this.prop];return f&&f.get?f.get(this):_r.propHooks._default.get(this)},run:function(f){var b,A=_r.propHooks[this.prop];return this.options.duration?this.pos=b=d.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):this.pos=b=f,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),A&&A.set?A.set(this):_r.propHooks._default.set(this),this}},_r.prototype.init.prototype=_r.prototype,_r.propHooks={_default:{get:function(f){var b;return f.elem.nodeType!==1||f.elem[f.prop]!=null&&f.elem.style[f.prop]==null?f.elem[f.prop]:(b=d.css(f.elem,f.prop,""),!b||b==="auto"?0:b)},set:function(f){d.fx.step[f.prop]?d.fx.step[f.prop](f):f.elem.nodeType===1&&(d.cssHooks[f.prop]||f.elem.style[Mi(f.prop)]!=null)?d.style(f.elem,f.prop,f.now+f.unit):f.elem[f.prop]=f.now}}},_r.propHooks.scrollTop=_r.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},d.easing={linear:function(f){return f},swing:function(f){return .5-Math.cos(f*Math.PI)/2},_default:"swing"},d.fx=_r.prototype.init,d.fx.step={};var Pr,Jr,cn=/^(?:toggle|show|hide)$/,$r=/queueHooks$/;function jr(){Jr&&(E.hidden===!1&&r.requestAnimationFrame?r.requestAnimationFrame(jr):r.setTimeout(jr,d.fx.interval),d.fx.tick())}function Yr(){return r.setTimeout(function(){Pr=void 0}),Pr=Date.now()}function Wr(f,b){var A,O=0,H={height:f};for(b=b?1:0;O<4;O+=2-b)A=tt[O],H["margin"+A]=H["padding"+A]=f;return b&&(H.opacity=H.width=f),H}function ve(f,b,A){for(var O,H=(be.tweeners[b]||[]).concat(be.tweeners["*"]),F=0,X=H.length;F<X;F++)if(O=H[F].call(A,b,f))return O}function he(f,b,A){var O,H,F,X,He,Pe,gt,Dt,ri="width"in b||"height"in b,Ot=this,st={},Li=f.style,R=f.nodeType&&vt(f),M=ee.get(f,"fxshow");A.queue||(X=d._queueHooks(f,"fx"),X.unqueued==null&&(X.unqueued=0,He=X.empty.fire,X.empty.fire=function(){X.unqueued||He()}),X.unqueued++,Ot.always(function(){Ot.always(function(){X.unqueued--,d.queue(f,"fx").length||X.empty.fire()})}));for(O in b)if(H=b[O],cn.test(H)){if(delete b[O],F=F||H==="toggle",H===(R?"hide":"show"))if(H==="show"&&M&&M[O]!==void 0)R=!0;else continue;st[O]=M&&M[O]||d.style(f,O)}if(Pe=!d.isEmptyObject(b),!(!Pe&&d.isEmptyObject(st))){ri&&f.nodeType===1&&(A.overflow=[Li.overflow,Li.overflowX,Li.overflowY],gt=M&&M.display,gt==null&&(gt=ee.get(f,"display")),Dt=d.css(f,"display"),Dt==="none"&&(gt?Dt=gt:(ui([f],!0),gt=f.style.display||gt,Dt=d.css(f,"display"),ui([f]))),(Dt==="inline"||Dt==="inline-block"&&gt!=null)&&d.css(f,"float")==="none"&&(Pe||(Ot.done(function(){Li.display=gt}),gt==null&&(Dt=Li.display,gt=Dt==="none"?"":Dt)),Li.display="inline-block")),A.overflow&&(Li.overflow="hidden",Ot.always(function(){Li.overflow=A.overflow[0],Li.overflowX=A.overflow[1],Li.overflowY=A.overflow[2]})),Pe=!1;for(O in st)Pe||(M?"hidden"in M&&(R=M.hidden):M=ee.access(f,"fxshow",{display:gt}),F&&(M.hidden=!R),R&&ui([f],!0),Ot.done(function(){R||ui([f]),ee.remove(f,"fxshow");for(O in st)d.style(f,O,st[O])})),Pe=ve(R?M[O]:0,O,Ot),O in M||(M[O]=Pe.start,R&&(Pe.end=Pe.start,Pe.start=0))}}function B(f,b){var A,O,H,F,X;for(A in f)if(O=Ve(A),H=b[O],F=f[A],Array.isArray(F)&&(H=F[1],F=f[A]=F[0]),A!==O&&(f[O]=F,delete f[A]),X=d.cssHooks[O],X&&"expand"in X){F=X.expand(F),delete f[O];for(A in F)A in f||(f[A]=F[A],b[A]=H)}else b[O]=H}function be(f,b,A){var O,H,F=0,X=be.prefilters.length,He=d.Deferred().always(function(){delete Pe.elem}),Pe=function(){if(H)return!1;for(var ri=Pr||Yr(),Ot=Math.max(0,gt.startTime+gt.duration-ri),st=Ot/gt.duration||0,Li=1-st,R=0,M=gt.tweens.length;R<M;R++)gt.tweens[R].run(Li);return He.notifyWith(f,[gt,Li,Ot]),Li<1&&M?Ot:(M||He.notifyWith(f,[gt,1,0]),He.resolveWith(f,[gt]),!1)},gt=He.promise({elem:f,props:d.extend({},b),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},A),originalProperties:b,originalOptions:A,startTime:Pr||Yr(),duration:A.duration,tweens:[],createTween:function(ri,Ot){var st=d.Tween(f,gt.opts,ri,Ot,gt.opts.specialEasing[ri]||gt.opts.easing);return gt.tweens.push(st),st},stop:function(ri){var Ot=0,st=ri?gt.tweens.length:0;if(H)return this;for(H=!0;Ot<st;Ot++)gt.tweens[Ot].run(1);return ri?(He.notifyWith(f,[gt,1,0]),He.resolveWith(f,[gt,ri])):He.rejectWith(f,[gt,ri]),this}}),Dt=gt.props;for(B(Dt,gt.opts.specialEasing);F<X;F++)if(O=be.prefilters[F].call(gt,f,Dt,gt.opts),O)return S(O.stop)&&(d._queueHooks(gt.elem,gt.opts.queue).stop=O.stop.bind(O)),O;return d.map(Dt,ve,gt),S(gt.opts.start)&&gt.opts.start.call(f,gt),gt.progress(gt.opts.progress).done(gt.opts.done,gt.opts.complete).fail(gt.opts.fail).always(gt.opts.always),d.fx.timer(d.extend(Pe,{elem:f,anim:gt,queue:gt.opts.queue})),gt}d.Animation=d.extend(be,{tweeners:{"*":[function(f,b){var A=this.createTween(f,b);return Rt(A.elem,f,Ee.exec(b),A),A}]},tweener:function(f,b){S(f)?(b=f,f=["*"]):f=f.match(Z);for(var A,O=0,H=f.length;O<H;O++)A=f[O],be.tweeners[A]=be.tweeners[A]||[],be.tweeners[A].unshift(b)},prefilters:[he],prefilter:function(f,b){b?be.prefilters.unshift(f):be.prefilters.push(f)}}),d.speed=function(f,b,A){var O=f&&typeof f=="object"?d.extend({},f):{complete:A||!A&&b||S(f)&&f,duration:f,easing:A&&b||b&&!S(b)&&b};return d.fx.off?O.duration=0:typeof O.duration!="number"&&(O.duration in d.fx.speeds?O.duration=d.fx.speeds[O.duration]:O.duration=d.fx.speeds._default),(O.queue==null||O.queue===!0)&&(O.queue="fx"),O.old=O.complete,O.complete=function(){S(O.old)&&O.old.call(this),O.queue&&d.dequeue(this,O.queue)},O},d.fn.extend({fadeTo:function(f,b,A,O){return this.filter(vt).css("opacity",0).show().end().animate({opacity:b},f,A,O)},animate:function(f,b,A,O){var H=d.isEmptyObject(f),F=d.speed(b,A,O),X=function(){var He=be(this,d.extend({},f),F);(H||ee.get(this,"finish"))&&He.stop(!0)};return X.finish=X,H||F.queue===!1?this.each(X):this.queue(F.queue,X)},stop:function(f,b,A){var O=function(H){var F=H.stop;delete H.stop,F(A)};return typeof f!="string"&&(A=b,b=f,f=void 0),b&&this.queue(f||"fx",[]),this.each(function(){var H=!0,F=f!=null&&f+"queueHooks",X=d.timers,He=ee.get(this);if(F)He[F]&&He[F].stop&&O(He[F]);else for(F in He)He[F]&&He[F].stop&&$r.test(F)&&O(He[F]);for(F=X.length;F--;)X[F].elem===this&&(f==null||X[F].queue===f)&&(X[F].anim.stop(A),H=!1,X.splice(F,1));(H||!A)&&d.dequeue(this,f)})},finish:function(f){return f!==!1&&(f=f||"fx"),this.each(function(){var b,A=ee.get(this),O=A[f+"queue"],H=A[f+"queueHooks"],F=d.timers,X=O?O.length:0;for(A.finish=!0,d.queue(this,f,[]),H&&H.stop&&H.stop.call(this,!0),b=F.length;b--;)F[b].elem===this&&F[b].queue===f&&(F[b].anim.stop(!0),F.splice(b,1));for(b=0;b<X;b++)O[b]&&O[b].finish&&O[b].finish.call(this);delete A.finish})}}),d.each(["toggle","show","hide"],function(f,b){var A=d.fn[b];d.fn[b]=function(O,H,F){return O==null||typeof O=="boolean"?A.apply(this,arguments):this.animate(Wr(b,!0),O,H,F)}}),d.each({slideDown:Wr("show"),slideUp:Wr("hide"),slideToggle:Wr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,b){d.fn[f]=function(A,O,H){return this.animate(b,A,O,H)}}),d.timers=[],d.fx.tick=function(){var f,b=0,A=d.timers;for(Pr=Date.now();b<A.length;b++)f=A[b],!f()&&A[b]===f&&A.splice(b--,1);A.length||d.fx.stop(),Pr=void 0},d.fx.timer=function(f){d.timers.push(f),d.fx.start()},d.fx.interval=13,d.fx.start=function(){Jr||(Jr=!0,jr())},d.fx.stop=function(){Jr=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(f,b){return f=d.fx&&d.fx.speeds[f]||f,b=b||"fx",this.queue(b,function(A,O){var H=r.setTimeout(A,f);O.stop=function(){r.clearTimeout(H)}})},function(){var f=E.createElement("input"),b=E.createElement("select"),A=b.appendChild(E.createElement("option"));f.type="checkbox",k.checkOn=f.value!=="",k.optSelected=A.selected,f=E.createElement("input"),f.value="t",f.type="radio",k.radioValue=f.value==="t"}();var _e,$t=d.expr.attrHandle;d.fn.extend({attr:function(f,b){return Ae(this,d.attr,f,b,arguments.length>1)},removeAttr:function(f){return this.each(function(){d.removeAttr(this,f)})}}),d.extend({attr:function(f,b,A){var O,H,F=f.nodeType;if(!(F===3||F===8||F===2)){if(typeof f.getAttribute>"u")return d.prop(f,b,A);if((F!==1||!d.isXMLDoc(f))&&(H=d.attrHooks[b.toLowerCase()]||(d.expr.match.bool.test(b)?_e:void 0)),A!==void 0){if(A===null){d.removeAttr(f,b);return}return H&&"set"in H&&(O=H.set(f,A,b))!==void 0?O:(f.setAttribute(b,A+""),A)}return H&&"get"in H&&(O=H.get(f,b))!==null?O:(O=d.find.attr(f,b),O!=null?O:void 0)}},attrHooks:{type:{set:function(f,b){if(!k.radioValue&&b==="radio"&&K(f,"input")){var A=f.value;return f.setAttribute("type",b),A&&(f.value=A),b}}}},removeAttr:function(f,b){var A,O=0,H=b&&b.match(Z);if(H&&f.nodeType===1)for(;A=H[O++];)f.removeAttribute(A)}}),_e={set:function(f,b,A){return b===!1?d.removeAttr(f,A):f.setAttribute(A,A),A}},d.each(d.expr.match.bool.source.match(/\w+/g),function(f,b){var A=$t[b]||d.find.attr;$t[b]=function(O,H,F){var X,He,Pe=H.toLowerCase();return F||(He=$t[Pe],$t[Pe]=X,X=A(O,H,F)!=null?Pe:null,$t[Pe]=He),X}});var zt=/^(?:input|select|textarea|button)$/i,gi=/^(?:a|area)$/i;d.fn.extend({prop:function(f,b){return Ae(this,d.prop,f,b,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[d.propFix[f]||f]})}}),d.extend({prop:function(f,b,A){var O,H,F=f.nodeType;if(!(F===3||F===8||F===2))return(F!==1||!d.isXMLDoc(f))&&(b=d.propFix[b]||b,H=d.propHooks[b]),A!==void 0?H&&"set"in H&&(O=H.set(f,A,b))!==void 0?O:f[b]=A:H&&"get"in H&&(O=H.get(f,b))!==null?O:f[b]},propHooks:{tabIndex:{get:function(f){var b=d.find.attr(f,"tabindex");return b?parseInt(b,10):zt.test(f.nodeName)||gi.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),k.optSelected||(d.propHooks.selected={get:function(f){var b=f.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(f){var b=f.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function fi(f){var b=f.match(Z)||[];return b.join(" ")}function zi(f){return f.getAttribute&&f.getAttribute("class")||""}function hr(f){return Array.isArray(f)?f:typeof f=="string"?f.match(Z)||[]:[]}d.fn.extend({addClass:function(f){var b,A,O,H,F,X;return S(f)?this.each(function(He){d(this).addClass(f.call(this,He,zi(this)))}):(b=hr(f),b.length?this.each(function(){if(O=zi(this),A=this.nodeType===1&&" "+fi(O)+" ",A){for(F=0;F<b.length;F++)H=b[F],A.indexOf(" "+H+" ")<0&&(A+=H+" ");X=fi(A),O!==X&&this.setAttribute("class",X)}}):this)},removeClass:function(f){var b,A,O,H,F,X;return S(f)?this.each(function(He){d(this).removeClass(f.call(this,He,zi(this)))}):arguments.length?(b=hr(f),b.length?this.each(function(){if(O=zi(this),A=this.nodeType===1&&" "+fi(O)+" ",A){for(F=0;F<b.length;F++)for(H=b[F];A.indexOf(" "+H+" ")>-1;)A=A.replace(" "+H+" "," ");X=fi(A),O!==X&&this.setAttribute("class",X)}}):this):this.attr("class","")},toggleClass:function(f,b){var A,O,H,F,X=typeof f,He=X==="string"||Array.isArray(f);return S(f)?this.each(function(Pe){d(this).toggleClass(f.call(this,Pe,zi(this),b),b)}):typeof b=="boolean"&&He?b?this.addClass(f):this.removeClass(f):(A=hr(f),this.each(function(){if(He)for(F=d(this),H=0;H<A.length;H++)O=A[H],F.hasClass(O)?F.removeClass(O):F.addClass(O);else(f===void 0||X==="boolean")&&(O=zi(this),O&&ee.set(this,"__className__",O),this.setAttribute&&this.setAttribute("class",O||f===!1?"":ee.get(this,"__className__")||""))}))},hasClass:function(f){var b,A,O=0;for(b=" "+f+" ";A=this[O++];)if(A.nodeType===1&&(" "+fi(zi(A))+" ").indexOf(b)>-1)return!0;return!1}});var or=/\r/g;d.fn.extend({val:function(f){var b,A,O,H=this[0];return arguments.length?(O=S(f),this.each(function(F){var X;this.nodeType===1&&(O?X=f.call(this,F,d(this).val()):X=f,X==null?X="":typeof X=="number"?X+="":Array.isArray(X)&&(X=d.map(X,function(He){return He==null?"":He+""})),b=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,X,"value")===void 0)&&(this.value=X))})):H?(b=d.valHooks[H.type]||d.valHooks[H.nodeName.toLowerCase()],b&&"get"in b&&(A=b.get(H,"value"))!==void 0?A:(A=H.value,typeof A=="string"?A.replace(or,""):A!=null?A:"")):void 0}}),d.extend({valHooks:{option:{get:function(f){var b=d.find.attr(f,"value");return b!=null?b:fi(d.text(f))}},select:{get:function(f){var b,A,O,H=f.options,F=f.selectedIndex,X=f.type==="select-one",He=X?null:[],Pe=X?F+1:H.length;for(F<0?O=Pe:O=X?F:0;O<Pe;O++)if(A=H[O],(A.selected||O===F)&&!A.disabled&&(!A.parentNode.disabled||!K(A.parentNode,"optgroup"))){if(b=d(A).val(),X)return b;He.push(b)}return He},set:function(f,b){for(var A,O,H=f.options,F=d.makeArray(b),X=H.length;X--;)O=H[X],(O.selected=d.inArray(d.valHooks.option.get(O),F)>-1)&&(A=!0);return A||(f.selectedIndex=-1),F}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(f,b){if(Array.isArray(b))return f.checked=d.inArray(d(f).val(),b)>-1}},k.checkOn||(d.valHooks[this].get=function(f){return f.getAttribute("value")===null?"on":f.value})}),k.focusin="onfocusin"in r;var Vr=/^(?:focusinfocus|focusoutblur)$/,ue=function(f){f.stopPropagation()};d.extend(d.event,{trigger:function(f,b,A,O){var H,F,X,He,Pe,gt,Dt,ri,Ot=[A||E],st=y.call(f,"type")?f.type:f,Li=y.call(f,"namespace")?f.namespace.split("."):[];if(F=ri=X=A=A||E,!(A.nodeType===3||A.nodeType===8)&&!Vr.test(st+d.event.triggered)&&(st.indexOf(".")>-1&&(Li=st.split("."),st=Li.shift(),Li.sort()),Pe=st.indexOf(":")<0&&"on"+st,f=f[d.expando]?f:new d.Event(st,typeof f=="object"&&f),f.isTrigger=O?2:3,f.namespace=Li.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Li.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=A),b=b==null?[f]:d.makeArray(b,[f]),Dt=d.event.special[st]||{},!(!O&&Dt.trigger&&Dt.trigger.apply(A,b)===!1))){if(!O&&!Dt.noBubble&&!P(A)){for(He=Dt.delegateType||st,Vr.test(He+st)||(F=F.parentNode);F;F=F.parentNode)Ot.push(F),X=F;X===(A.ownerDocument||E)&&Ot.push(X.defaultView||X.parentWindow||r)}for(H=0;(F=Ot[H++])&&!f.isPropagationStopped();)ri=F,f.type=H>1?He:Dt.bindType||st,gt=(ee.get(F,"events")||Object.create(null))[f.type]&&ee.get(F,"handle"),gt&&gt.apply(F,b),gt=Pe&&F[Pe],gt&&gt.apply&&rt(F)&&(f.result=gt.apply(F,b),f.result===!1&&f.preventDefault());return f.type=st,!O&&!f.isDefaultPrevented()&&(!Dt._default||Dt._default.apply(Ot.pop(),b)===!1)&&rt(A)&&Pe&&S(A[st])&&!P(A)&&(X=A[Pe],X&&(A[Pe]=null),d.event.triggered=st,f.isPropagationStopped()&&ri.addEventListener(st,ue),A[st](),f.isPropagationStopped()&&ri.removeEventListener(st,ue),d.event.triggered=void 0,X&&(A[Pe]=X)),f.result}},simulate:function(f,b,A){var O=d.extend(new d.Event,A,{type:f,isSimulated:!0});d.event.trigger(O,null,b)}}),d.fn.extend({trigger:function(f,b){return this.each(function(){d.event.trigger(f,b,this)})},triggerHandler:function(f,b){var A=this[0];if(A)return d.event.trigger(f,b,A,!0)}}),k.focusin||d.each({focus:"focusin",blur:"focusout"},function(f,b){var A=function(O){d.event.simulate(b,O.target,d.event.fix(O))};d.event.special[b]={setup:function(){var O=this.ownerDocument||this.document||this,H=ee.access(O,b);H||O.addEventListener(f,A,!0),ee.access(O,b,(H||0)+1)},teardown:function(){var O=this.ownerDocument||this.document||this,H=ee.access(O,b)-1;H?ee.access(O,b,H):(O.removeEventListener(f,A,!0),ee.remove(O,b))}}});var In=r.location,bn={guid:Date.now()},Cn=/\?/;d.parseXML=function(f){var b,A;if(!f||typeof f!="string")return null;try{b=new r.DOMParser().parseFromString(f,"text/xml")}catch(O){}return A=b&&b.getElementsByTagName("parsererror")[0],(!b||A)&&d.error("Invalid XML: "+(A?d.map(A.childNodes,function(O){return O.textContent}).join(`
`):f)),b};var wn=/\[\]$/,di=/\r?\n/g,Si=/^(?:submit|button|image|reset|file)$/i,vi=/^(?:input|select|textarea|keygen)/i;function rr(f,b,A,O){var H;if(Array.isArray(b))d.each(b,function(F,X){A||wn.test(f)?O(f,X):rr(f+"["+(typeof X=="object"&&X!=null?F:"")+"]",X,A,O)});else if(!A&&h(b)==="object")for(H in b)rr(f+"["+H+"]",b[H],A,O);else O(f,b)}d.param=function(f,b){var A,O=[],H=function(F,X){var He=S(X)?X():X;O[O.length]=encodeURIComponent(F)+"="+encodeURIComponent(He!=null?He:"")};if(f==null)return"";if(Array.isArray(f)||f.jquery&&!d.isPlainObject(f))d.each(f,function(){H(this.name,this.value)});else for(A in f)rr(A,f[A],b,H);return O.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=d.prop(this,"elements");return f?d.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!d(this).is(":disabled")&&vi.test(this.nodeName)&&!Si.test(f)&&(this.checked||!Mt.test(f))}).map(function(f,b){var A=d(this).val();return A==null?null:Array.isArray(A)?d.map(A,function(O){return{name:b.name,value:O.replace(di,`\r
`)}}):{name:b.name,value:A.replace(di,`\r
`)}}).get()}});var ar=/%20/g,En=/#.*$/,vn=/([?&])_=[^&]*/,bo=/^(.*?):[ \t]*([^\r\n]*)$/mg,ho=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,is=/^(?:GET|HEAD)$/,pa=/^\/\//,Eo={},Rn={},en="*/".concat("*"),po=E.createElement("a");po.href=In.href;function To(f){return function(b,A){typeof b!="string"&&(A=b,b="*");var O,H=0,F=b.toLowerCase().match(Z)||[];if(S(A))for(;O=F[H++];)O[0]==="+"?(O=O.slice(1)||"*",(f[O]=f[O]||[]).unshift(A)):(f[O]=f[O]||[]).push(A)}}function fa(f,b,A,O){var H={},F=f===Rn;function X(He){var Pe;return H[He]=!0,d.each(f[He]||[],function(gt,Dt){var ri=Dt(b,A,O);if(typeof ri=="string"&&!F&&!H[ri])return b.dataTypes.unshift(ri),X(ri),!1;if(F)return!(Pe=ri)}),Pe}return X(b.dataTypes[0])||!H["*"]&&X("*")}function Zn(f,b){var A,O,H=d.ajaxSettings.flatOptions||{};for(A in b)b[A]!==void 0&&((H[A]?f:O||(O={}))[A]=b[A]);return O&&d.extend(!0,f,O),f}function La(f,b,A){for(var O,H,F,X,He=f.contents,Pe=f.dataTypes;Pe[0]==="*";)Pe.shift(),O===void 0&&(O=f.mimeType||b.getResponseHeader("Content-Type"));if(O){for(H in He)if(He[H]&&He[H].test(O)){Pe.unshift(H);break}}if(Pe[0]in A)F=Pe[0];else{for(H in A){if(!Pe[0]||f.converters[H+" "+Pe[0]]){F=H;break}X||(X=H)}F=F||X}if(F)return F!==Pe[0]&&Pe.unshift(F),A[F]}function rs(f,b,A,O){var H,F,X,He,Pe,gt={},Dt=f.dataTypes.slice();if(Dt[1])for(X in f.converters)gt[X.toLowerCase()]=f.converters[X];for(F=Dt.shift();F;)if(f.responseFields[F]&&(A[f.responseFields[F]]=b),!Pe&&O&&f.dataFilter&&(b=f.dataFilter(b,f.dataType)),Pe=F,F=Dt.shift(),F){if(F==="*")F=Pe;else if(Pe!=="*"&&Pe!==F){if(X=gt[Pe+" "+F]||gt["* "+F],!X){for(H in gt)if(He=H.split(" "),He[1]===F&&(X=gt[Pe+" "+He[0]]||gt["* "+He[0]],X)){X===!0?X=gt[H]:gt[H]!==!0&&(F=He[0],Dt.unshift(He[1]));break}}if(X!==!0)if(X&&f.throws)b=X(b);else try{b=X(b)}catch(ri){return{state:"parsererror",error:X?ri:"No conversion from "+Pe+" to "+F}}}}return{state:"success",data:b}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:In.href,type:"GET",isLocal:ho.test(In.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":en,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,b){return b?Zn(Zn(f,d.ajaxSettings),b):Zn(d.ajaxSettings,f)},ajaxPrefilter:To(Eo),ajaxTransport:To(Rn),ajax:function(f,b){typeof f=="object"&&(b=f,f=void 0),b=b||{};var A,O,H,F,X,He,Pe,gt,Dt,ri,Ot=d.ajaxSetup({},b),st=Ot.context||Ot,Li=Ot.context&&(st.nodeType||st.jquery)?d(st):d.event,R=d.Deferred(),M=d.Callbacks("once memory"),j=Ot.statusCode||{},U={},se={},me="canceled",Ce={readyState:0,getResponseHeader:function(bt){var Yt;if(Pe){if(!F)for(F={};Yt=bo.exec(H);)F[Yt[1].toLowerCase()+" "]=(F[Yt[1].toLowerCase()+" "]||[]).concat(Yt[2]);Yt=F[bt.toLowerCase()+" "]}return Yt==null?null:Yt.join(", ")},getAllResponseHeaders:function(){return Pe?H:null},setRequestHeader:function(bt,Yt){return Pe==null&&(bt=se[bt.toLowerCase()]=se[bt.toLowerCase()]||bt,U[bt]=Yt),this},overrideMimeType:function(bt){return Pe==null&&(Ot.mimeType=bt),this},statusCode:function(bt){var Yt;if(bt)if(Pe)Ce.always(bt[Ce.status]);else for(Yt in bt)j[Yt]=[j[Yt],bt[Yt]];return this},abort:function(bt){var Yt=bt||me;return A&&A.abort(Yt),Nt(0,Yt),this}};if(R.promise(Ce),Ot.url=((f||Ot.url||In.href)+"").replace(pa,In.protocol+"//"),Ot.type=b.method||b.type||Ot.method||Ot.type,Ot.dataTypes=(Ot.dataType||"*").toLowerCase().match(Z)||[""],Ot.crossDomain==null){He=E.createElement("a");try{He.href=Ot.url,He.href=He.href,Ot.crossDomain=po.protocol+"//"+po.host!=He.protocol+"//"+He.host}catch(bt){Ot.crossDomain=!0}}if(Ot.data&&Ot.processData&&typeof Ot.data!="string"&&(Ot.data=d.param(Ot.data,Ot.traditional)),fa(Eo,Ot,b,Ce),Pe)return Ce;gt=d.event&&Ot.global,gt&&d.active++===0&&d.event.trigger("ajaxStart"),Ot.type=Ot.type.toUpperCase(),Ot.hasContent=!is.test(Ot.type),O=Ot.url.replace(En,""),Ot.hasContent?Ot.data&&Ot.processData&&(Ot.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Ot.data=Ot.data.replace(ar,"+")):(ri=Ot.url.slice(O.length),Ot.data&&(Ot.processData||typeof Ot.data=="string")&&(O+=(Cn.test(O)?"&":"?")+Ot.data,delete Ot.data),Ot.cache===!1&&(O=O.replace(vn,"$1"),ri=(Cn.test(O)?"&":"?")+"_="+bn.guid+++ri),Ot.url=O+ri),Ot.ifModified&&(d.lastModified[O]&&Ce.setRequestHeader("If-Modified-Since",d.lastModified[O]),d.etag[O]&&Ce.setRequestHeader("If-None-Match",d.etag[O])),(Ot.data&&Ot.hasContent&&Ot.contentType!==!1||b.contentType)&&Ce.setRequestHeader("Content-Type",Ot.contentType),Ce.setRequestHeader("Accept",Ot.dataTypes[0]&&Ot.accepts[Ot.dataTypes[0]]?Ot.accepts[Ot.dataTypes[0]]+(Ot.dataTypes[0]!=="*"?", "+en+"; q=0.01":""):Ot.accepts["*"]);for(Dt in Ot.headers)Ce.setRequestHeader(Dt,Ot.headers[Dt]);if(Ot.beforeSend&&(Ot.beforeSend.call(st,Ce,Ot)===!1||Pe))return Ce.abort();if(me="abort",M.add(Ot.complete),Ce.done(Ot.success),Ce.fail(Ot.error),A=fa(Rn,Ot,b,Ce),!A)Nt(-1,"No Transport");else{if(Ce.readyState=1,gt&&Li.trigger("ajaxSend",[Ce,Ot]),Pe)return Ce;Ot.async&&Ot.timeout>0&&(X=r.setTimeout(function(){Ce.abort("timeout")},Ot.timeout));try{Pe=!1,A.send(U,Nt)}catch(bt){if(Pe)throw bt;Nt(-1,bt)}}function Nt(bt,Yt,li,$i){var Ri,Oi,lr,Wi,ji,Xi=Yt;Pe||(Pe=!0,X&&r.clearTimeout(X),A=void 0,H=$i||"",Ce.readyState=bt>0?4:0,Ri=bt>=200&&bt<300||bt===304,li&&(Wi=La(Ot,Ce,li)),!Ri&&d.inArray("script",Ot.dataTypes)>-1&&d.inArray("json",Ot.dataTypes)<0&&(Ot.converters["text script"]=function(){}),Wi=rs(Ot,Wi,Ce,Ri),Ri?(Ot.ifModified&&(ji=Ce.getResponseHeader("Last-Modified"),ji&&(d.lastModified[O]=ji),ji=Ce.getResponseHeader("etag"),ji&&(d.etag[O]=ji)),bt===204||Ot.type==="HEAD"?Xi="nocontent":bt===304?Xi="notmodified":(Xi=Wi.state,Oi=Wi.data,lr=Wi.error,Ri=!lr)):(lr=Xi,(bt||!Xi)&&(Xi="error",bt<0&&(bt=0))),Ce.status=bt,Ce.statusText=(Yt||Xi)+"",Ri?R.resolveWith(st,[Oi,Xi,Ce]):R.rejectWith(st,[Ce,Xi,lr]),Ce.statusCode(j),j=void 0,gt&&Li.trigger(Ri?"ajaxSuccess":"ajaxError",[Ce,Ot,Ri?Oi:lr]),M.fireWith(st,[Ce,Xi]),gt&&(Li.trigger("ajaxComplete",[Ce,Ot]),--d.active||d.event.trigger("ajaxStop")))}return Ce},getJSON:function(f,b,A){return d.get(f,b,A,"json")},getScript:function(f,b){return d.get(f,void 0,b,"script")}}),d.each(["get","post"],function(f,b){d[b]=function(A,O,H,F){return S(O)&&(F=F||H,H=O,O=void 0),d.ajax(d.extend({url:A,type:b,dataType:F,data:O,success:H},d.isPlainObject(A)&&A))}}),d.ajaxPrefilter(function(f){var b;for(b in f.headers)b.toLowerCase()==="content-type"&&(f.contentType=f.headers[b]||"")}),d._evalUrl=function(f,b,A){return d.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(O){d.globalEval(O,b,A)}})},d.fn.extend({wrapAll:function(f){var b;return this[0]&&(S(f)&&(f=f.call(this[0])),b=d(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var A=this;A.firstElementChild;)A=A.firstElementChild;return A}).append(this)),this},wrapInner:function(f){return S(f)?this.each(function(b){d(this).wrapInner(f.call(this,b))}):this.each(function(){var b=d(this),A=b.contents();A.length?A.wrapAll(f):b.append(f)})},wrap:function(f){var b=S(f);return this.each(function(A){d(this).wrapAll(b?f.call(this,A):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(f){return!d.expr.pseudos.visible(f)},d.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(f){}};var Oa={0:200,1223:204},lo=d.ajaxSettings.xhr();k.cors=!!lo&&"withCredentials"in lo,k.ajax=lo=!!lo,d.ajaxTransport(function(f){var b,A;if(k.cors||lo&&!f.crossDomain)return{send:function(O,H){var F,X=f.xhr();if(X.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(F in f.xhrFields)X[F]=f.xhrFields[F];f.mimeType&&X.overrideMimeType&&X.overrideMimeType(f.mimeType),!f.crossDomain&&!O["X-Requested-With"]&&(O["X-Requested-With"]="XMLHttpRequest");for(F in O)X.setRequestHeader(F,O[F]);b=function(He){return function(){b&&(b=A=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,He==="abort"?X.abort():He==="error"?typeof X.status!="number"?H(0,"error"):H(X.status,X.statusText):H(Oa[X.status]||X.status,X.statusText,(X.responseType||"text")!=="text"||typeof X.responseText!="string"?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}},X.onload=b(),A=X.onerror=X.ontimeout=b("error"),X.onabort!==void 0?X.onabort=A:X.onreadystatechange=function(){X.readyState===4&&r.setTimeout(function(){b&&A()})},b=b("abort");try{X.send(f.hasContent&&f.data||null)}catch(He){if(b)throw He}},abort:function(){b&&b()}}}),d.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return d.globalEval(f),f}}}),d.ajaxPrefilter("script",function(f){f.cache===void 0&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),d.ajaxTransport("script",function(f){if(f.crossDomain||f.scriptAttrs){var b,A;return{send:function(O,H){b=d("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",A=function(F){b.remove(),A=null,F&&H(F.type==="error"?404:200,F.type)}),E.head.appendChild(b[0])},abort:function(){A&&A()}}}});var zo=[],Go=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=zo.pop()||d.expando+"_"+bn.guid++;return this[f]=!0,f}}),d.ajaxPrefilter("json jsonp",function(f,b,A){var O,H,F,X=f.jsonp!==!1&&(Go.test(f.url)?"url":typeof f.data=="string"&&(f.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Go.test(f.data)&&"data");if(X||f.dataTypes[0]==="jsonp")return O=f.jsonpCallback=S(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,X?f[X]=f[X].replace(Go,"$1"+O):f.jsonp!==!1&&(f.url+=(Cn.test(f.url)?"&":"?")+f.jsonp+"="+O),f.converters["script json"]=function(){return F||d.error(O+" was not called"),F[0]},f.dataTypes[0]="json",H=r[O],r[O]=function(){F=arguments},A.always(function(){H===void 0?d(r).removeProp(O):r[O]=H,f[O]&&(f.jsonpCallback=b.jsonpCallback,zo.push(O)),F&&S(H)&&H(F[0]),F=H=void 0}),"script"}),k.createHTMLDocument=function(){var f=E.implementation.createHTMLDocument("").body;return f.innerHTML="<form></form><form></form>",f.childNodes.length===2}(),d.parseHTML=function(f,b,A){if(typeof f!="string")return[];typeof b=="boolean"&&(A=b,b=!1);var O,H,F;return b||(k.createHTMLDocument?(b=E.implementation.createHTMLDocument(""),O=b.createElement("base"),O.href=E.location.href,b.head.appendChild(O)):b=E),H=ie.exec(f),F=!A&&[],H?[b.createElement(H[1])]:(H=ke([f],b,F),F&&F.length&&d(F).remove(),d.merge([],H.childNodes))},d.fn.load=function(f,b,A){var O,H,F,X=this,He=f.indexOf(" ");return He>-1&&(O=fi(f.slice(He)),f=f.slice(0,He)),S(b)?(A=b,b=void 0):b&&typeof b=="object"&&(H="POST"),X.length>0&&d.ajax({url:f,type:H||"GET",dataType:"html",data:b}).done(function(Pe){F=arguments,X.html(O?d("<div>").append(d.parseHTML(Pe)).find(O):Pe)}).always(A&&function(Pe,gt){X.each(function(){A.apply(this,F||[Pe.responseText,gt,Pe])})}),this},d.expr.pseudos.animated=function(f){return d.grep(d.timers,function(b){return f===b.elem}).length},d.offset={setOffset:function(f,b,A){var O,H,F,X,He,Pe,gt,Dt=d.css(f,"position"),ri=d(f),Ot={};Dt==="static"&&(f.style.position="relative"),He=ri.offset(),F=d.css(f,"top"),Pe=d.css(f,"left"),gt=(Dt==="absolute"||Dt==="fixed")&&(F+Pe).indexOf("auto")>-1,gt?(O=ri.position(),X=O.top,H=O.left):(X=parseFloat(F)||0,H=parseFloat(Pe)||0),S(b)&&(b=b.call(f,A,d.extend({},He))),b.top!=null&&(Ot.top=b.top-He.top+X),b.left!=null&&(Ot.left=b.left-He.left+H),"using"in b?b.using.call(f,Ot):ri.css(Ot)}},d.fn.extend({offset:function(f){if(arguments.length)return f===void 0?this:this.each(function(H){d.offset.setOffset(this,f,H)});var b,A,O=this[0];if(O)return O.getClientRects().length?(b=O.getBoundingClientRect(),A=O.ownerDocument.defaultView,{top:b.top+A.pageYOffset,left:b.left+A.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var f,b,A,O=this[0],H={top:0,left:0};if(d.css(O,"position")==="fixed")b=O.getBoundingClientRect();else{for(b=this.offset(),A=O.ownerDocument,f=O.offsetParent||A.documentElement;f&&(f===A.body||f===A.documentElement)&&d.css(f,"position")==="static";)f=f.parentNode;f&&f!==O&&f.nodeType===1&&(H=d(f).offset(),H.top+=d.css(f,"borderTopWidth",!0),H.left+=d.css(f,"borderLeftWidth",!0))}return{top:b.top-H.top-d.css(O,"marginTop",!0),left:b.left-H.left-d.css(O,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&d.css(f,"position")==="static";)f=f.offsetParent;return f||nt})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,b){var A=b==="pageYOffset";d.fn[f]=function(O){return Ae(this,function(H,F,X){var He;if(P(H)?He=H:H.nodeType===9&&(He=H.defaultView),X===void 0)return He?He[b]:H[F];He?He.scrollTo(A?He.pageXOffset:X,A?X:He.pageYOffset):H[F]=X},f,O,arguments.length)}}),d.each(["top","left"],function(f,b){d.cssHooks[b]=ti(k.pixelPosition,function(A,O){if(O)return O=ni(A,b),Pt.test(O)?d(A).position()[b]+"px":O})}),d.each({Height:"height",Width:"width"},function(f,b){d.each({padding:"inner"+f,content:b,"":"outer"+f},function(A,O){d.fn[O]=function(H,F){var X=arguments.length&&(A||typeof H!="boolean"),He=A||(H===!0||F===!0?"margin":"border");return Ae(this,function(Pe,gt,Dt){var ri;return P(Pe)?O.indexOf("outer")===0?Pe["inner"+f]:Pe.document.documentElement["client"+f]:Pe.nodeType===9?(ri=Pe.documentElement,Math.max(Pe.body["scroll"+f],ri["scroll"+f],Pe.body["offset"+f],ri["offset"+f],ri["client"+f])):Dt===void 0?d.css(Pe,gt,He):d.style(Pe,gt,Dt,He)},b,X?H:void 0,X)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,b){d.fn[b]=function(A){return this.on(b,A)}}),d.fn.extend({bind:function(f,b,A){return this.on(f,null,b,A)},unbind:function(f,b){return this.off(f,null,b)},delegate:function(f,b,A,O){return this.on(b,f,A,O)},undelegate:function(f,b,A){return arguments.length===1?this.off(f,"**"):this.off(b,f||"**",A)},hover:function(f,b){return this.mouseenter(f).mouseleave(b||f)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,b){d.fn[b]=function(A,O){return arguments.length>0?this.on(b,null,A,O):this.trigger(b)}});var Yo=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(f,b){var A,O,H;if(typeof b=="string"&&(A=f[b],b=f,f=A),!!S(f))return O=c.call(arguments,2),H=function(){return f.apply(b||this,O.concat(c.call(arguments)))},H.guid=f.guid=f.guid||d.guid++,H},d.holdReady=function(f){f?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=K,d.isFunction=S,d.isWindow=P,d.camelCase=Ve,d.type=h,d.now=Date.now,d.isNumeric=function(f){var b=d.type(f);return(b==="number"||b==="string")&&!isNaN(f-parseFloat(f))},d.trim=function(f){return f==null?"":(f+"").replace(Yo,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return d});var fo=r.jQuery,xn=r.$;return d.noConflict=function(f){return r.$===d&&(r.$=xn),f&&r.jQuery===d&&(r.jQuery=fo),d},typeof a>"u"&&(r.jQuery=r.$=d),d})}),ay=X3(Z3()),Jp=(sy=ay.default)!=null?sy:ay;});var cy=Kt(()=>{Qp();Qp()});var ki,ef=Kt(()=>{cy();ki="jQuery"in window&&"$"in window?window.$:Jp;window.jQuery=ki;window.$=ki});function J3(e,t=!1){if(typeof location=="undefined")return"";let r=t&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&");for(let a=0;a<r.length;a++)if(r[a].slice(0,r[a].indexOf("="))===e){let l=r[a].slice(r[a].indexOf("=")+1);return l.length>0?unescape(l):""}return""}var ea,Pd=Kt(()=>{ea=J3});var uy,Yi,dy,as=Kt(()=>{Yi=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.endsWith(".dev.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((uy=globalThis==null?void 0:globalThis.navigator)==null?void 0:uy.onLine)===!1?console.log.bind(console):()=>{},dy=console.error.bind(console)});function Q3(e,t,r="false",a=null){if(typeof e!="string")throw new Error("first arg should be a string");$(e).on("click",a,l=>{let o=t(l);return r==="callback"&&o?o:r==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})}var ta,tf=Kt(()=>{ta=Q3});var hy=Kt(()=>{window.jwplayer=function(e){function t(p){for(var g,m,y=p[0],x=p[1],w=0,k=[];w<y.length;w++)m=y[w],Object.prototype.hasOwnProperty.call(a,m)&&a[m]&&k.push(a[m][0]),a[m]=0;for(g in x)Object.prototype.hasOwnProperty.call(x,g)&&(e[g]=x[g]);for(u&&u(p);k.length;)k.shift()()}var r={},a={0:0};function l(p){if(r[p])return r[p].exports;var g=r[p]={i:p,l:!1,exports:{}};return e[p].call(g.exports,g,g.exports,l),g.l=!0,g.exports}l.e=function(p){var g=[],m=a[p];if(m!==0)if(m)g.push(m[2]);else{var y=new Promise(function(P,E){m=a[p]=[P,E]});g.push(m[2]=y);var x,w=document.createElement("script");w.charset="utf-8",w.timeout=120,l.nc&&w.setAttribute("nonce",l.nc),w.src=function(P){return l.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[P]||P)+".js"}(p);var k=new Error;x=function(P){w.onerror=w.onload=null,clearTimeout(S);var E=a[p];if(E!==0){if(E){var L=P&&(P.type==="load"?"missing":P.type),s=P&&P.target&&P.target.src;k.message="Loading chunk "+p+` failed.
(`+L+": "+s+")",k.name="ChunkLoadError",k.type=L,k.request=s,E[1](k)}a[p]=void 0}};var S=setTimeout(function(){x({type:"timeout",target:w})},12e4);w.onerror=w.onload=x,document.head.appendChild(w)}return Promise.all(g)},l.m=e,l.c=r,l.d=function(p,g,m){l.o(p,g)||Object.defineProperty(p,g,{enumerable:!0,get:m})},l.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},l.t=function(p,g){if(1&g&&(p=l(p)),8&g||4&g&&typeof p=="object"&&p&&p.__esModule)return p;var m=Object.create(null);if(l.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:p}),2&g&&typeof p!="string")for(var y in p)l.d(m,y,function(x){return p[x]}.bind(null,y));return m},l.n=function(p){var g=p&&p.__esModule?function(){return p.default}:function(){return p};return l.d(g,"a",g),g},l.o=function(p,g){return Object.prototype.hasOwnProperty.call(p,g)},l.p="",l.oe=function(p){throw console.error(p),p};var o=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var n=0;n<o.length;n++)t(o[n]);var u=c;return l(l.s=56)}([function(e,t,r){"use strict";r.d(t,"f",function(){return d}),r.d(t,"v",function(){return C}),r.d(t,"i",function(){return Q}),r.d(t,"h",function(){return Oe}),r.d(t,"z",function(){return ct}),r.d(t,"b",function(){return Ge}),r.d(t,"j",function(){return Me}),r.d(t,"e",function(){return De}),r.d(t,"l",function(){return Ne}),r.d(t,"a",function(){return rt}),r.d(t,"A",function(){return _t}),r.d(t,"m",function(){return at}),r.d(t,"d",function(){return Ee}),r.d(t,"g",function(){return tt}),r.d(t,"x",function(){return nt}),r.d(t,"p",function(){return ai}),r.d(t,"r",function(){return ui}),r.d(t,"s",function(){return Mt}),r.d(t,"o",function(){return It}),r.d(t,"q",function(){return Et}),r.d(t,"n",function(){return Ct}),r.d(t,"t",function(){return St}),r.d(t,"k",function(){return We}),r.d(t,"y",function(){return ke}),r.d(t,"w",function(){return Ye}),r.d(t,"u",function(){return ht});var a=r(16),l={},o=Array.prototype,c=Object.prototype,n=Function.prototype,u=o.slice,p=o.concat,g=c.toString,m=c.hasOwnProperty,y=o.map,x=o.reduce,w=o.forEach,k=o.filter,S=o.every,P=o.some,E=o.indexOf,L=Array.isArray,s=Object.keys,h=n.bind,v=window.isFinite,d=function(oe,Le,ze){var yt,ut;if(oe==null)return oe;if(w&&oe.forEach===w)oe.forEach(Le,ze);else if(oe.length===+oe.length){for(yt=0,ut=oe.length;yt<ut;yt++)if(Le.call(ze,oe[yt],yt,oe)===l)return}else{var Tt=we(oe);for(yt=0,ut=Tt.length;yt<ut;yt++)if(Le.call(ze,oe[Tt[yt]],Tt[yt],oe)===l)return}return oe},_=d,C=function(oe,Le,ze){var yt=[];return oe==null?yt:y&&oe.map===y?oe.map(Le,ze):(d(oe,function(ut,Tt,Ut){yt.push(Le.call(ze,ut,Tt,Ut))}),yt)},N=C,G="Reduce of empty array with no initial value",q=function(oe,Le,ze,yt){var ut=arguments.length>2;if(oe==null&&(oe=[]),x&&oe.reduce===x)return yt&&(Le=rt(Le,yt)),ut?oe.reduce(Le,ze):oe.reduce(Le);if(d(oe,function(Tt,Ut,Jt){ut?ze=Le.call(yt,ze,Tt,Ut,Jt):(ze=Tt,ut=!0)}),!ut)throw new TypeError(G);return ze},K=q,ie=q,Q=function(oe,Le,ze){var yt;return de(oe,function(ut,Tt,Ut){if(Le.call(ze,ut,Tt,Ut))return yt=ut,!0}),yt},te=Q,Oe=function(oe,Le,ze){var yt=[];return oe==null?yt:k&&oe.filter===k?oe.filter(Le,ze):(d(oe,function(ut,Tt,Ut){Le.call(ze,ut,Tt,Ut)&&yt.push(ut)}),yt)},fe=Oe,W=function(oe,Le,ze){Le||(Le=We);var yt=!0;return oe==null?yt:S&&oe.every===S?oe.every(Le,ze):(d(oe,function(ut,Tt,Ut){if(!(yt=yt&&Le.call(ze,ut,Tt,Ut)))return l}),!!yt)},ae=W,de=function(oe,Le,ze){Le||(Le=We);var yt=!1;return oe==null?yt:P&&oe.some===P?oe.some(Le,ze):(d(oe,function(ut,Tt,Ut){if(yt||(yt=Le.call(ze,ut,Tt,Ut)))return l}),!!yt)},Z=de,ye=function(oe,Le){var ze;return function(){return--oe>0&&(ze=Le.apply(this,arguments)),oe<=1&&(Le=null),ze}},Y=function(oe){return oe==null?We:ai(oe)?oe:ke(oe)},ce=function(oe){return function(Le,ze,yt){var ut={};return ze=Y(ze),d(Le,function(Tt,Ut){var Jt=ze.call(yt,Tt,Ut,Le);oe(ut,Jt,Tt)}),ut}},Ze=ce(function(oe,Le,ze){I(oe,Le)?oe[Le].push(ze):oe[Le]=[ze]}),ft=ce(function(oe,Le,ze){oe[Le]=ze}),ct=function(oe,Le,ze,yt){for(var ut=(ze=Y(ze)).call(yt,Le),Tt=0,Ut=oe.length;Tt<Ut;){var Jt=Tt+Ut>>>1;ze.call(yt,oe[Jt])<ut?Tt=Jt+1:Ut=Jt}return Tt},Ge=function(oe,Le){return oe!=null&&(oe.length!==+oe.length&&(oe=$e(oe)),Ne(oe,Le)>=0)},Ae=Ge,Me=function(oe,Le){return Q(oe,Ye(Le))},De=function(oe){var Le=p.apply(o,u.call(arguments,1));return Oe(oe,function(ze){return!Ge(Le,ze)})},Ne=function(oe,Le,ze){if(oe==null)return-1;var yt=0,ut=oe.length;if(ze){if(typeof ze!="number")return oe[yt=ct(oe,Le)]===Le?yt:-1;yt=ze<0?Math.max(0,ut+ze):ze}if(E&&oe.indexOf===E)return oe.indexOf(Le,ze);for(;yt<ut;yt++)if(oe[yt]===Le)return yt;return-1},Ve=function(){},rt=function(oe,Le){var ze,yt;if(h&&oe.bind===h)return h.apply(oe,u.call(arguments,1));if(!ai(oe))throw new TypeError;return ze=u.call(arguments,2),yt=function(){if(!(this instanceof yt))return oe.apply(Le,ze.concat(u.call(arguments)));Ve.prototype=oe.prototype;var ut=new Ve;Ve.prototype=null;var Tt=oe.apply(ut,ze.concat(u.call(arguments)));return Object(Tt)===Tt?Tt:ut}},je=function(oe){var Le=u.call(arguments,1);return function(){for(var ze=0,yt=Le.slice(),ut=0,Tt=yt.length;ut<Tt;ut++)I(yt[ut],"partial")&&(yt[ut]=arguments[ze++]);for(;ze<arguments.length;)yt.push(arguments[ze++]);return oe.apply(this,yt)}},ee=je(ye,2),J=function(oe,Le){var ze=u.call(arguments,2);return setTimeout(function(){return oe.apply(null,ze)},Le)},qe=je(J,{partial:je},1),_t=function(oe,Le,ze){var yt,ut,Tt,Ut=null,Jt=0;ze||(ze={});var Lt=function(){Jt=ze.leading===!1?0:Qe(),Ut=null,Tt=oe.apply(yt,ut),yt=ut=null};return function(){Jt||ze.leading!==!1||(Jt=Qe);var jt=Le-(Qe-Jt);return yt=this,ut=arguments,jt<=0?(clearTimeout(Ut),Ut=null,Jt=Qe,Tt=oe.apply(yt,ut),yt=ut=null):Ut||ze.trailing===!1||(Ut=setTimeout(Lt,jt)),Tt}},we=function(oe){if(!dt(oe))return[];if(s)return s(oe);var Le=[];for(var ze in oe)I(oe,ze)&&Le.push(ze);return Le},$e=function(oe){for(var Le=we(oe),ze=we.length,yt=Array(ze),ut=0;ut<ze;ut++)yt[ut]=oe[Le[ut]];return yt},at=function(oe){for(var Le={},ze=we(oe),yt=0,ut=ze.length;yt<ut;yt++)Le[oe[ze[yt]]]=ze[yt];return Le},Ee=function(oe){return d(u.call(arguments,1),function(Le){if(Le)for(var ze in Le)oe[ze]===void 0&&(oe[ze]=Le[ze])}),oe},tt=Object.assign||function(oe){return d(u.call(arguments,1),function(Le){if(Le)for(var ze in Le)Object.prototype.hasOwnProperty.call(Le,ze)&&(oe[ze]=Le[ze])}),oe},nt=function(oe){var Le={},ze=p.apply(o,u.call(arguments,1));return d(ze,function(yt){yt in oe&&(Le[yt]=oe[yt])}),Le},Vt=L||function(oe){return g.call(oe)=="[object Array]"},dt=function(oe){return oe===Object(oe)},vt=[];d(["Function","String","Number","Date","RegExp"],function(oe){vt[oe]=function(Le){return g.call(Le)=="[object "+oe+"]"}}),vt.Function=function(oe){return typeof oe=="function"};var Rt=vt.Date,ii=vt.RegExp,ai=vt.Function,ui=vt.Number,Mt=vt.String,It=function(oe){return v(oe)&&!Et(parseFloat(oe))},Et=function(oe){return ui(oe)&&oe!=+oe},Ct=function(oe){return oe===!0||oe===!1||g.call(oe)=="[object Boolean]"},St=function(oe){return oe===void 0},I=function(oe,Le){return m.call(oe,Le)},We=function(oe){return oe},ke=function(oe){return function(Le){return Le[oe]}},Ye=function(oe){return function(Le){if(Le===oe)return!0;for(var ze in oe)if(oe[ze]!==Le[ze])return!1;return!0}},Qe=a.a,ht=function(oe){return ui(oe)&&!Et(oe)};t.c={after:function(oe,Le){return function(){if(--oe<1)return Le.apply(this,arguments)}},all:W,any:de,before:ye,bind:rt,clone:function(oe){return dt(oe)?Vt(oe)?oe.slice():tt({},oe):oe},collect:N,compact:function(oe){return Oe(oe,We)},constant:function(oe){return function(){return oe}},contains:Ge,debounce:function(oe,Le){var ze;return Le===void 0&&(Le=100),function(){for(var yt=this,ut=arguments.length,Tt=new Array(ut),Ut=0;Ut<ut;Ut++)Tt[Ut]=arguments[Ut];clearTimeout(ze),ze=setTimeout(function(){oe.apply(yt,Tt)},Le)}},defaults:Ee,defer:qe,delay:J,detect:te,difference:De,each:d,every:ae,extend:tt,filter:Oe,find:Q,findWhere:Me,foldl:K,forEach:_,groupBy:Ze,has:I,identity:We,include:Ae,indexBy:ft,indexOf:Ne,inject:ie,invert:at,isArray:Vt,isBoolean:Ct,isDate:Rt,isFinite:It,isFunction:ai,isNaN:Et,isNull:function(oe){return oe===null},isNumber:ui,isObject:dt,isRegExp:ii,isString:Mt,isUndefined:St,isValidNumber:ht,keys:we,last:function(oe,Le,ze){if(oe!=null)return Le==null||ze?oe[oe.length-1]:u.call(oe,Math.max(oe.length-Le,0))},map:C,matches:Ye,max:function(oe,Le,ze){if(!Le&&Vt(oe)&&oe[0]===+oe[0]&&oe.length<65535)return Math.max.apply(Math,oe);var yt=-1/0,ut=-1/0;return d(oe,function(Tt,Ut,Jt){var Lt=Le?Le.call(ze,Tt,Ut,Jt):Tt;Lt>ut&&(yt=Tt,ut=Lt)}),yt},memoize:function(oe,Le){var ze={};return Le||(Le=We),function(){var yt=Le.apply(this,arguments);return I(ze,yt)?ze[yt]:ze[yt]=oe.apply(this,arguments)}},now:Qe,omit:function(oe){var Le={},ze=p.apply(o,u.call(arguments,1));for(var yt in oe)Ge(ze,yt)||(Le[yt]=oe[yt]);return Le},once:ee,partial:je,pick:nt,pluck:function(oe,Le){return C(oe,ke(Le))},property:ke,propertyOf:function(oe){return oe==null?function(){}:function(Le){return oe[Le]}},reduce:q,reject:function(oe,Le,ze){return Oe(oe,function(yt,ut,Tt){return!Le.call(ze,yt,ut,Tt)},ze)},result:function(oe,Le){if(oe!=null){var ze=oe[Le];return ai(ze)?ze.call(oe):ze}},select:fe,size:function(oe){return oe==null?0:oe.length===+oe.length?oe.length:we(oe).length},some:Z,sortedIndex:ct,throttle:_t,where:function(oe,Le){return Oe(oe,Ye(Le))},without:function(oe){return De(oe,u.call(arguments,1))}}},function(e,t,r){"use strict";r.d(t,"v",function(){return l}),r.d(t,"u",function(){return o}),r.d(t,"t",function(){return c}),r.d(t,"q",function(){return n}),r.d(t,"r",function(){return u}),r.d(t,"p",function(){return p}),r.d(t,"b",function(){return g}),r.d(t,"d",function(){return m}),r.d(t,"s",function(){return y}),r.d(t,"e",function(){return x}),r.d(t,"i",function(){return w}),r.d(t,"a",function(){return k}),r.d(t,"f",function(){return S}),r.d(t,"c",function(){return P}),r.d(t,"g",function(){return E}),r.d(t,"h",function(){return L}),r.d(t,"l",function(){return s}),r.d(t,"j",function(){return h}),r.d(t,"k",function(){return v}),r.d(t,"m",function(){return d}),r.d(t,"n",function(){return _}),r.d(t,"o",function(){return C}),r.d(t,"x",function(){return N}),r.d(t,"w",function(){return G}),r.d(t,"y",function(){return q});var a=r(0),l=1e5,o=100001,c=100002,n=101e3,u=102e3,p=102700,g=200001,m=202e3,y=104e3,x=203e3,w=203640,k=203700,S=204e3,P=306e3,E=308e3,L=308640,s="cantPlayVideo",h="badConnection",v="cantLoadPlayer",d="liveStreamDown",_="technicalError",C=function(){function K(ie,Q,te){this.code=Object(a.u)(Q)?Q:0,this.sourceError=te||null,ie&&(this.key=ie)}return K.logMessage=function(ie){var Q=ie%1e3,te=Math.floor((ie-Q)/1e3),Oe=ie.toString();return Q>=400&&Q<600&&(Oe=te+"400-"+te+"599"),"JW Player "+(ie>299999&&ie<4e5?"Warning":"Error")+" "+ie+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+Oe},K}();function N(K,ie,Q){return Q instanceof C&&Q.code?Q:new C(K,ie,Q)}function G(K,ie){var Q=N(_,ie,K);return Q.code=(K&&K instanceof C&&K.code||0)+ie,Q}function q(K){var ie=K.name,Q=K.message;switch(ie){case"AbortError":return/pause/.test(Q)?303213:/load/.test(Q)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}}},function(e,t,r){"use strict";r.d(t,"i",function(){return o}),r.d(t,"e",function(){return c}),r.d(t,"j",function(){return n}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return p}),r.d(t,"g",function(){return g}),r.d(t,"d",function(){return m}),r.d(t,"f",function(){return y}),r.d(t,"h",function(){return x}),r.d(t,"c",function(){return w});var a=r(0),l=window.parseFloat;function o(k){return k.replace(/^\s+|\s+$/g,"")}function c(k,S,P){for(k=""+k,P=P||"0";k.length<S;)k=P+k;return k}function n(k,S){for(var P=k.attributes,E=0;E<P.length;E++)if(P[E].name&&P[E].name.toLowerCase()===S.toLowerCase())return P[E].value.toString();return""}function u(k){if(!k||k.substr(0,4)==="rtmp")return"";var S=/[(,]format=(m3u8|mpd)-/i.exec(k);if(S)return S[1];var P=k.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return P!==k?P.toLowerCase():(k=k.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?k.substr(k.lastIndexOf(".")+1,k.length).toLowerCase():""}function p(k){var S=(k/60|0)%60,P=k%60;return c((k/3600|0).toString(),2)+":"+c(S.toString(),2)+":"+c(P.toFixed(3),6)}function g(k,S){if(!k)return 0;if(Object(a.u)(k))return k;var P=k.replace(",","."),E=P.slice(-1),L=P.split(":"),s=L.length,h=0;if(E==="s")h=l(P);else if(E==="m")h=60*l(P);else if(E==="h")h=3600*l(P);else if(s>1){var v=s-1;s===4&&(S&&(h=l(L[v])/S),v-=1),h+=l(L[v]),h+=60*l(L[v-1]),s>=3&&(h+=3600*l(L[v-2]))}else h=l(P);return Object(a.u)(h)?h:0}function m(k,S,P){if(Object(a.s)(k)&&k.slice(-1)==="%"){var E=l(k);return S&&Object(a.u)(S)&&Object(a.u)(E)?S*E/100:null}return g(k,P)}function y(k,S){return k.map(function(P){return S+P})}function x(k,S){return k.map(function(P){return P+S})}function w(k){return!!k&&Object(a.s)(k)&&k.slice(-1)==="%"}},function(e,t,r){"use strict";r.d(t,"jb",function(){return a}),r.d(t,"mb",function(){return l}),r.d(t,"kb",function(){return o}),r.d(t,"ob",function(){return c}),r.d(t,"pb",function(){return n}),r.d(t,"lb",function(){return u}),r.d(t,"nb",function(){return p}),r.d(t,"qb",function(){return g}),r.d(t,"s",function(){return m}),r.d(t,"u",function(){return y}),r.d(t,"t",function(){return x}),r.d(t,"o",function(){return w}),r.d(t,"r",function(){return k}),r.d(t,"Z",function(){return S}),r.d(t,"W",function(){return P}),r.d(t,"v",function(){return E}),r.d(t,"Y",function(){return L}),r.d(t,"w",function(){return s}),r.d(t,"ub",function(){return h}),r.d(t,"a",function(){return v}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return _}),r.d(t,"d",function(){return C}),r.d(t,"e",function(){return N}),r.d(t,"f",function(){return G}),r.d(t,"i",function(){return q}),r.d(t,"F",function(){return K}),r.d(t,"gb",function(){return ie}),r.d(t,"Q",function(){return Q}),r.d(t,"C",function(){return te}),r.d(t,"B",function(){return Oe}),r.d(t,"E",function(){return fe}),r.d(t,"q",function(){return W}),r.d(t,"cb",function(){return ae}),r.d(t,"n",function(){return de}),r.d(t,"G",function(){return Z}),r.d(t,"H",function(){return ye}),r.d(t,"N",function(){return Y}),r.d(t,"O",function(){return ce}),r.d(t,"R",function(){return Ze}),r.d(t,"ib",function(){return ft}),r.d(t,"bb",function(){return ct}),r.d(t,"D",function(){return Ge}),r.d(t,"S",function(){return Ae}),r.d(t,"P",function(){return Me}),r.d(t,"T",function(){return De}),r.d(t,"V",function(){return Ne}),r.d(t,"M",function(){return Ve}),r.d(t,"L",function(){return rt}),r.d(t,"K",function(){return je}),r.d(t,"I",function(){return ee}),r.d(t,"J",function(){return J}),r.d(t,"U",function(){return qe}),r.d(t,"p",function(){return _t}),r.d(t,"y",function(){return we}),r.d(t,"hb",function(){return $e}),r.d(t,"db",function(){return at}),r.d(t,"eb",function(){return Ee}),r.d(t,"g",function(){return tt}),r.d(t,"h",function(){return nt}),r.d(t,"rb",function(){return Vt}),r.d(t,"sb",function(){return dt}),r.d(t,"ab",function(){return vt}),r.d(t,"A",function(){return Rt}),r.d(t,"m",function(){return ii}),r.d(t,"l",function(){return ai}),r.d(t,"fb",function(){return ui}),r.d(t,"tb",function(){return Mt}),r.d(t,"z",function(){return It}),r.d(t,"k",function(){return Et}),r.d(t,"X",function(){return Ct}),r.d(t,"j",function(){return St}),r.d(t,"x",function(){return I});var a="buffering",l="idle",o="complete",c="paused",n="playing",u="error",p="loading",g="stalled",m="drag",y="dragStart",x="dragEnd",w="click",k="doubleClick",S="over",P="move",E="enter",L="out",s=u,h="warning",v="adClick",d="mediaLoaded",_="adPause",C="adPlay",N="adSkipped",G="adTime",q="autostartNotAllowed",K=o,ie="ready",Q="seek",te="beforePlay",Oe="beforeComplete",fe="bufferFull",W="displayClick",ae="playlistComplete",de="cast",Z="mediaError",ye="firstFrame",Y="playAttempt",ce="playAttemptFailed",Ze="seeked",ft="setupError",ct="state",Ge="bufferChange",Ae="time",Me="ratechange",De="mediaType",Ne="volume",Ve="mute",rt="metadataCueParsed",je="meta",ee="levels",J="levelsChanged",qe="visualQuality",_t="controls",we="fullscreen",$e="resize",at="playlistItem",Ee="playlist",tt="audioTracks",nt="audioTrackChanged",Vt="subtitlesTracks",dt="subtitlesTrackChanged",vt="playbackRateChanged",Rt="logoClick",ii="captionsList",ai="captionsChanged",ui="providerFirstFrame",Mt="userAction",It="instreamClick",Et="breakpoint",Ct="fullscreenchange",St="bandwidthEstimate",I="float"},function(e,t,r){"use strict";r.d(t,"b",function(){return l}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return c}),r.d(t,"c",function(){return n});var a=r(2);function l(u){var p="";return u&&(u.localName?p=u.localName:u.baseName&&(p=u.baseName)),p}function o(u){var p="";return u&&(u.textContent?p=Object(a.i)(u.textContent):u.text&&(p=Object(a.i)(u.text))),p}function c(u,p){return u.childNodes[p]}function n(u){return u.childNodes?u.childNodes.length:0}},function(e,t,r){"use strict";function a(_){return navigator.userAgent.match(_)!==null}r.d(t,"f",function(){return o}),r.d(t,"l",function(){return c}),r.d(t,"k",function(){return n}),r.d(t,"p",function(){return u}),r.d(t,"g",function(){return p}),r.d(t,"e",function(){return g}),r.d(t,"n",function(){return m}),r.d(t,"r",function(){return y}),r.d(t,"s",function(){return x}),r.d(t,"d",function(){return w}),r.d(t,"i",function(){return k}),r.d(t,"q",function(){return S}),r.d(t,"j",function(){return P}),r.d(t,"c",function(){return E}),r.d(t,"b",function(){return L}),r.d(t,"o",function(){return s}),r.d(t,"m",function(){return h}),r.d(t,"h",function(){return v}),r.d(t,"a",function(){return d});var l=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},o=function(){return a(/gecko\//i)},c=function(){return a(/iP(hone|od)/i)},n=function(){return a(/iPad/i)||l()},u=function(){return a(/Macintosh/i)&&!l()},p=function(){return a(/FBAV/i)},g=function(){return a(/\sEdge?\/\d+/i)},m=function(){return a(/msie/i)},y=function(){return a(/SMART-TV/)},x=function(){return y()&&!a(/SamsungBrowser/)},w=function(){return a(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!g()&&!a(/UCBrowser/i)&&!y()},k=function(){return!a(/\sEdg\/\d+/i)&&(g()||a(/trident\/.+rv:\s*11/i)||m())},S=function(){return a(/safari/i)&&!a(/(?:Chrome|CriOS|chromium|android|phantom)/i)||y()},P=function(){return a(/iP(hone|ad|od)/i)||l()};function E(){return!(a(/chrome\/[123456789]/i)&&!a(/chrome\/18/i)&&!o())&&L()}var L=function(){return a(/Android/i)&&!a(/Windows Phone/i)},s=function(){return P()||L()||a(/Windows Phone/i)};function h(){try{return window.self!==window.top}catch(_){return!0}}var v=function(){return!1},d=function(){return 0}},function(e,t,r){"use strict";r.d(t,"j",function(){return p}),r.d(t,"f",function(){return g}),r.d(t,"r",function(){return m}),r.d(t,"k",function(){return y}),r.d(t,"t",function(){return x}),r.d(t,"s",function(){return k}),r.d(t,"v",function(){return S}),r.d(t,"e",function(){return L}),r.d(t,"b",function(){return s}),r.d(t,"p",function(){return h}),r.d(t,"q",function(){return v}),r.d(t,"w",function(){return d}),r.d(t,"u",function(){return _}),r.d(t,"i",function(){return C}),r.d(t,"c",function(){return N}),r.d(t,"h",function(){return G}),r.d(t,"d",function(){return q}),r.d(t,"n",function(){return K}),r.d(t,"l",function(){return ie}),r.d(t,"o",function(){return Q}),r.d(t,"m",function(){return te}),r.d(t,"g",function(){return Oe}),r.d(t,"a",function(){return fe});var a,l=r(0),o=r(2),c=r(7),n=window.DOMParser,u=!0;function p(W,ae){return W.classList.contains(ae)}function g(W){return y(W).firstChild}function m(W,ae){C(W),function(de,Z){if(Z){for(var ye=document.createDocumentFragment(),Y=y(Z).childNodes,ce=0;ce<Y.length;ce++)ye.appendChild(Y[ce].cloneNode(!0));de.appendChild(ye)}}(W,ae)}function y(W){var ae=function(ye){if(a||(a=new n,u=function(){try{if(a.parseFromString("","text/html"))return!0}catch(ce){}return!1}()),u)return a.parseFromString(ye,"text/html").body;var Y=document.implementation.createHTMLDocument("");return ye.toLowerCase().indexOf("<!doctype")>-1?Y.documentElement.innerHTML=ye:Y.body.innerHTML=ye,Y.body}(W);x(ae);for(var de=ae.querySelectorAll("*"),Z=de.length;Z--;)k(de[Z]);return ae}function x(W){for(var ae=W.querySelectorAll("script,object,iframe,meta"),de=ae.length;de--;){var Z=ae[de];Z.parentNode.removeChild(Z)}return W}var w=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/);function k(W){for(var ae=W.attributes,de=ae.length;de--;){var Z=ae[de].name;if(/^on/.test(Z)&&W.removeAttribute(Z),/href/.test(Z)){var ye=ae[de].value;/javascript:|javascript&colon;/.test(ye)||!w.test(ye)?W.removeAttribute(Z):console.warn("Invalid or unsafe URL")}}return W}function S(W){return W+(W.toString().indexOf("%")>0?"":"px")}function P(W){return Object(l.s)(W.className)?W.className.split(" "):[]}function E(W,ae){ae=Object(o.i)(ae),W.className!==ae&&(W.className=ae)}function L(W){return W.classList?W.classList:P(W)}function s(W,ae){var de=P(W);(Array.isArray(ae)?ae:ae.split(" ")).forEach(function(Z){Object(l.b)(de,Z)||de.push(Z)}),E(W,de.join(" "))}function h(W,ae){var de=P(W),Z=Array.isArray(ae)?ae:ae.split(" ");E(W,Object(l.e)(de,Z).join(" "))}function v(W,ae,de){var Z=W.className||"";ae.test(Z)?Z=Z.replace(ae,de):de&&(Z+=" "+de),E(W,Z)}function d(W,ae,de){var Z=p(W,ae);(de=Object(l.n)(de)?de:!Z)!==Z&&(de?s(W,ae):h(W,ae))}function _(W,ae,de){W.setAttribute(ae,de)}function C(W){for(;W.firstChild;)W.removeChild(W.firstChild)}function N(W){var ae=document.createElement("link");ae.rel="stylesheet",ae.href=W,document.getElementsByTagName("head")[0].appendChild(ae)}function G(W){W&&C(W)}function q(W){var ae={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!W||!document.body.contains(W))return ae;var de=W.getBoundingClientRect(),Z=window.pageYOffset,ye=window.pageXOffset;return(de.width||de.height||de.left||de.top)&&(ae.left=de.left+ye,ae.right=de.right+ye,ae.top=de.top+Z,ae.bottom=de.bottom+Z,ae.width=de.right-de.left,ae.height=de.bottom-de.top),ae}function K(W,ae){W.insertBefore(ae,W.firstChild)}function ie(W){return W.nextElementSibling}function Q(W){return W.previousElementSibling}function te(W,ae,de){if(de===void 0&&(de={}),w.test(W)){var Z=document.createElement("a");Z.href=W,Z.target=ae,Z=k(Object(l.g)(Z,de)),c.Browser.firefox?Z.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):Z.click()}}function Oe(){var W=window.screen.orientation;return!!W&&(W.type==="landscape-primary"||W.type==="landscape-secondary")||window.orientation===90||window.orientation===-90}function fe(W){return function(ae){var de=document.createElement("textarea");return de.innerHTML=ae,de.value}(W).replace(/&|<|>|"|''/gm,function(ae){return"&#"+ae.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")}},function(e,t,r){"use strict";r.r(t);var a=r(5);function l(g,m){var y=g.exec(m);if(y&&y.length>1)return y[1]}r.d(t,"Browser",function(){return n}),r.d(t,"OS",function(){return u}),r.d(t,"Features",function(){return p});var o=navigator.userAgent,c=function(){},n={get androidNative(){return Object(a.c)()},get chrome(){return Object(a.d)()},get edge(){return Object(a.e)()},get facebook(){return Object(a.g)()},get firefox(){return Object(a.f)()},get ie(){return Object(a.i)()},get msie(){return Object(a.n)()},get safari(){return Object(a.q)()},get version(){return function(g,m){var y,x,w,k;if(g.chrome)y=m.indexOf("Chrome")!==-1?m.substring(m.indexOf("Chrome")+7):m.substring(m.indexOf("CriOS")+6);else if(g.safari)y=m.substring(m.indexOf("Version")+8);else if(g.firefox)y=m.substring(m.indexOf("Firefox")+8);else if(g.edge){var S=m.indexOf("Edge");S===-1?S=m.indexOf("Edg")+4:S+=5,y=m.substring(S)}else g.ie&&(m.indexOf("rv:")!==-1?y=m.substring(m.indexOf("rv:")+3):m.indexOf("MSIE")!==-1&&(y=m.substring(m.indexOf("MSIE")+5)));return y&&((k=y.indexOf(";"))!==-1&&(y=y.substring(0,k)),(k=y.indexOf(" "))!==-1&&(y=y.substring(0,k)),(k=y.indexOf(")"))!==-1&&(y=y.substring(0,k)),x=parseInt(y,10),w=parseInt(y.split(".")[1],10)),{version:y,major:x,minor:w}}(this,o)}},u={get android(){return Object(a.b)()},get iOS(){return Object(a.j)()},get mobile(){return Object(a.o)()},get mac(){return Object(a.p)()},get iPad(){return Object(a.k)()},get iPhone(){return Object(a.l)()},get windows(){return o.indexOf("Windows")>-1},get tizen(){return Object(a.r)()},get tizenApp(){return Object(a.s)()},get version(){return function(g,m){var y,x,w;if(g.windows)switch(y=l(/Windows(?: NT|)? ([._\d]+)/,m)){case"6.1":y="7.0";break;case"6.2":y="8.0";break;case"6.3":y="8.1"}else g.android?y=l(/Android ([._\d]+)/,m):g.iOS?y=l(/OS ([._\d]+)/,m):g.mac?y=l(/Mac OS X ([._\d]+)/,m):g.tizen&&(y=l(/Tizen ([._\d]+)/,m));if(y){x=parseInt(y,10);var k=y.split(/[._]/);k&&(w=parseInt(k[1],10))}return{version:y,major:x,minor:w}}(this,o)}},p={get flash(){return Object(a.h)()},get flashVersion(){return Object(a.a)()},get iframe(){return Object(a.m)()},get passiveEvents(){return function(){var g=!1;try{var m=Object.defineProperty({},"passive",{get:function(){return g=!0}});window.addEventListener("testPassive",c,m),window.removeEventListener("testPassive",c,m)}catch(y){}return g}()},get backgroundLoading(){return!(u.iOS||n.safari||u.tizen)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return o}),r.d(t,"b",function(){return c}),r.d(t,"e",function(){return n}),r.d(t,"f",function(){return u});var a=function(){function y(){}var x=y.prototype;return x.on=function(w,k,S){if(!g(this,"on",w,[k,S])||!k)return this;var P=this._events||(this._events={});return(P[w]||(P[w]=[])).push({callback:k,context:S}),this},x.once=function(w,k,S){if(!g(this,"once",w,[k,S])||!k)return this;var P=0,E=this,L=function s(){P++||(E.off(w,s),k.apply(this,arguments))};return L._callback=k,this.on(w,L,S)},x.off=function(w,k,S){if(!this._events||!g(this,"off",w,[k,S]))return this;if(!w&&!k&&!S)return delete this._events,this;for(var P=w?[w]:Object.keys(this._events),E=0,L=P.length;E<L;E++){w=P[E];var s=this._events[w];if(s){var h=this._events[w]=[];if(k||S)for(var v=0,d=s.length;v<d;v++){var _=s[v];(k&&k!==_.callback&&k!==_.callback._callback||S&&S!==_.context)&&h.push(_)}h.length||delete this._events[w]}}return this},x.trigger=function(w){for(var k=arguments.length,S=new Array(k>1?k-1:0),P=1;P<k;P++)S[P-1]=arguments[P];if(!this._events)return this;if(!g(this,"trigger",w,S))return this;var E=this._events[w],L=this._events.all;return E&&m(E,S,this),L&&m(L,arguments,this),this},x.triggerSafe=function(w){for(var k=arguments.length,S=new Array(k>1?k-1:0),P=1;P<k;P++)S[P-1]=arguments[P];if(!this._events)return this;if(!g(this,"trigger",w,S))return this;var E=this._events[w],L=this._events.all;return E&&m(E,S,this,w),L&&m(L,arguments,this,w),this},y}(),l=a.prototype.on,o=a.prototype.once,c=a.prototype.off,n=a.prototype.trigger,u=a.prototype.triggerSafe;a.on=l,a.once=o,a.off=c,a.trigger=n;var p=/\s+/;function g(y,x,w,k){if(!w)return!0;if(typeof w=="object"){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&y[x].apply(y,[S,w[S]].concat(k));return!1}if(p.test(w)){for(var P=w.split(p),E=0,L=P.length;E<L;E++)y[x].apply(y,[P[E]].concat(k));return!1}return!0}function m(y,x,w,k){for(var S=-1,P=y.length;++S<P;){var E=y[S];if(k)try{E.callback.apply(E.context||w,x)}catch(L){console.log('Error in "'+k+'" event handler:',L)}else E.callback.apply(E.context||w,x)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return n});var a=r(1),l={};function o(u,p){return function(){throw new a.o(a.k,u,p)}}function c(u,p){return function(){throw new a.o(null,u,p)}}function n(){return r.e(3).then(function(u){return r(54).default}.bind(null,r)).catch(o(a.q+101))}},function(e,t,r){"use strict";r.r(t),r.d(t,"exists",function(){return l}),r.d(t,"isHTTPS",function(){return o}),r.d(t,"isFileProtocol",function(){return c}),r.d(t,"isRtmp",function(){return n}),r.d(t,"isYouTube",function(){return u}),r.d(t,"typeOf",function(){return p}),r.d(t,"isDeepKeyCompliant",function(){return g});var a=window.location.protocol;function l(m){switch(typeof m){case"string":return m.length>0;case"object":return m!==null;case"undefined":return!1;default:return!0}}function o(){return a==="https:"}function c(){return a==="file:"}function n(m,y){return m.indexOf("rtmp:")===0||y==="rtmp"}function u(m,y){return y==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(m)}function p(m){if(m===null)return"null";var y=typeof m;return y==="object"&&Array.isArray(m)?"array":y}function g(m,y,x){var w=Object.keys(m);return Object.keys(y).length>=w.length&&w.every(function(k){var S=m[k],P=y[k];return S&&typeof S=="object"?!(!P||typeof P!="object")&&g(S,P,x):x(k,m)})}},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return u}),r.d(t,"d",function(){return p}),r.d(t,"e",function(){return y}),r.d(t,"c",function(){return x});var a,l=r(2),o=r(31),c=r.n(o),n=c.a.clear;function u(w,k,S,P){S=S||"all-players";var E="";if(typeof k=="object"){var L=document.createElement("div");p(L,k);var s=L.style.cssText;Object.prototype.hasOwnProperty.call(k,"content")&&s&&(s=s+' content: "'+k.content+'";'),P&&s&&(s=s.replace(/;/g," !important;")),E="{"+s+"}"}else typeof k=="string"&&(E=k);E!==""&&E!=="{}"?c.a.style([[w,w+E]],S):c.a.clear(S,w)}function p(w,k){if(w!=null){var S;w.length===void 0&&(w=[w]);var P={};for(S in k)Object.prototype.hasOwnProperty.call(k,S)&&(P[S]=m(S,k[S]));for(var E=0;E<w.length;E++){var L=w[E],s=void 0;if(L!=null)for(S in P)Object.prototype.hasOwnProperty.call(P,S)&&(s=g(S),L.style[s]!==P[S]&&(L.style[s]=P[S]))}}}function g(w){w=w.split("-");for(var k=1;k<w.length;k++)w[k]=w[k].charAt(0).toUpperCase()+w[k].slice(1);return w.join("")}function m(w,k){return k===""||k==null?"":typeof k=="string"&&isNaN(k)?/png|gif|jpe?g/i.test(k)&&k.indexOf("url")<0?"url("+k+")":k:k===0||w==="z-index"||w==="opacity"?""+k:/color/i.test(w)?"#"+Object(l.e)(k.toString(16).replace(/^0x/i,""),6):Math.ceil(k)+"px"}function y(w,k){p(w,{transform:k})}function x(w,k){var S="rgb",P=k!==void 0&&k!==100;if(P&&(S+="a"),!a){var E=document.createElement("canvas");E.height=1,E.width=1,a=E.getContext("2d")}w?isNaN(parseInt(w,16))||(w="#"+w):w="#000000",a.clearRect(0,0,1,1),a.fillStyle=w,a.fillRect(0,0,1,1);var L=a.getImageData(0,0,1,1).data;return S+="("+L[0]+", "+L[1]+", "+L[2],P&&(S+=", "+k/100),S+")"}},function(e,t,r){"use strict";r.r(t),r.d(t,"getAbsolutePath",function(){return o}),r.d(t,"isAbsolutePath",function(){return c}),r.d(t,"parseXML",function(){return n}),r.d(t,"serialize",function(){return u}),r.d(t,"parseDimension",function(){return p}),r.d(t,"timeFormat",function(){return g});var a=r(10),l=r(0);function o(m,y){if(y&&Object(a.exists)(y)||(y=document.location.href),!Object(a.exists)(m))return"";if(c(m))return m;var x,w=y.substring(0,y.indexOf("://")+3),k=y.substring(w.length,y.indexOf("/",w.length+1));if(m.indexOf("/")===0)x=m.split("/");else{var S=y.split("?")[0];x=(S=S.substring(w.length+k.length+1,S.lastIndexOf("/"))).split("/").concat(m.split("/"))}for(var P=[],E=0;E<x.length;E++)x[E]&&Object(a.exists)(x[E])&&x[E]!=="."&&(x[E]===".."?P.pop():P.push(x[E]));return w+k+"/"+P.join("/")}function c(m){return/^(?:(?:https?|file):)?\/\//.test(m)}function n(m){var y=null;try{(y=new window.DOMParser().parseFromString(m,"text/xml")).querySelector("parsererror")&&(y=null)}catch(x){}return y}function u(m){if(m===void 0)return null;if(typeof m=="string"&&m.length<6){var y=m.toLowerCase();if(y==="true")return!0;if(y==="false")return!1;if(!Object(l.q)(Number(m))&&!Object(l.q)(parseFloat(m)))return Number(m)}return m}function p(m){return Object(l.u)(m)?m:m===""?0:m.lastIndexOf("%")>-1?m:parseInt(m.replace("px",""),10)}function g(m,y){if(Object(l.q)(m)&&(m=parseInt(m.toString())),Object(l.q)(m)||!isFinite(m)||m<=0&&!y)return"00:00";var x=m<0?"-":"";m=Math.abs(m);var w=Math.floor(m/3600),k=Math.floor((m-3600*w)/60),S=Math.floor(m%60);return x+(w?w+":":"")+(k<10?"0":"")+k+":"+(S<10?"0":"")+S}},function(e,t,r){"use strict";r.d(t,"h",function(){return y}),r.d(t,"c",function(){return w}),r.d(t,"e",function(){return S}),r.d(t,"f",function(){return P}),r.d(t,"b",function(){return E}),r.d(t,"d",function(){return s}),r.d(t,"g",function(){return h}),r.d(t,"a",function(){return v});var a=r(0),l=r(5),o=r(21),c=r(10),n=r(30),u={},p={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(a.m)(p);function g(_){var C=m(_),N=C.indexOf("_");return N===-1?C:C.substring(0,N)}function m(_){return _.toLowerCase().replace("-","_")}function y(_){return _?Object.keys(_).reduce(function(C,N){return C[m(N)]=_[N],C},{}):{}}function x(_){var C=_.querySelector("html");return C?C.getAttribute("lang"):null}function w(){var _=x(document);if(!_&&Object(l.m)())try{_=x(window.top.document)}catch(C){}return _||navigator.language||"en"}var k=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"];function S(_){return _.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(_)}function P(_){return k.indexOf(g(_))>=0}function E(_,C,N){return Object(a.g)({},function(G){var q=G.advertising,K=G.related,ie=G.sharing,Q=G.abouttext,te=Object(a.g)({},G.localization);q&&(te.advertising=te.advertising||{},L(te.advertising,q,"admessage"),L(te.advertising,q,"cuetext"),L(te.advertising,q,"loadingAd"),L(te.advertising,q,"podmessage"),L(te.advertising,q,"skipmessage"),L(te.advertising,q,"skiptext")),typeof te.related=="string"?te.related={heading:te.related}:te.related=te.related||{},K&&L(te.related,K,"autoplaymessage"),ie&&(te.sharing=te.sharing||{},L(te.sharing,ie,"heading"),L(te.sharing,ie,"copied")),Q&&L(te,G,"abouttext");var Oe=te.close||te.nextUpClose;return Oe&&(te.close=Oe),te}(_),C[g(N)],C[m(N)])}function L(_,C,N){var G=_[N]||C[N];G&&(_[N]=G)}function s(_){return Object(c.isDeepKeyCompliant)(n.a,_,function(C,N){return typeof N[C]=="string"})}function h(_,C){var N,G=u[C];if(!G){var q=_+"translations/"+(N=g(C),(/^n[bn]$/.test(N)?"no":N)+".json");u[C]=G=new Promise(function(K,ie){Object(o.a)({url:q,oncomplete:K,onerror:function(Q,te,Oe,fe){u[C]=null,ie(fe)},responseType:"json"})})}return G}function v(_,C){var N=Object(a.g)({},_,C);return d(N,"errors",_,C),d(N,"related",_,C),d(N,"sharing",_,C),d(N,"advertising",_,C),d(N,"shortcuts",_,C),d(N,"captionsStyles",_,C),N}function d(_,C,N,G){_[C]=Object(a.g)({},N[C],G[C])}},function(e,t,r){"use strict";t.a=[]},function(e,t,r){"use strict";var a=r(49),l=r(10),o=document.createElement("video");r.d(t,"a",function(){return n});var c={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},n=[{name:"html5",supports:function(u){if(!o||!o.canPlayType||Object(a.a)(u)===!1)return!1;var p=u.file,g=u.type;if(Object(l.isRtmp)(p,g))return!1;var m=u.mimeType||c[g];if(!m)return!1;var y=u.mediaTypes;return y&&y.length&&(m=[m].concat(y.slice()).join("; ")),!!o.canPlayType(m)}}]},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a=Date.now||function(){return new Date().getTime()}},function(e,t,r){"use strict";t.a={debug:!1}},function(e,t,r){"use strict";var a=r(0),l={none:!0,metadata:!0,auto:!0};function o(L,s){return l[L]?L:l[s]?s:"metadata"}var c=r(24),n=r(27),u=r(32),p=r(1);r.d(t,"b",function(){return g}),r.d(t,"e",function(){return m}),r.d(t,"d",function(){return y}),r.d(t,"f",function(){return x}),r.d(t,"c",function(){return w});function g(L,s,h){var v=Object(a.g)({},h);return delete v.playlist,L.map(function(d){return y(s,d,v)}).filter(function(d){return!!d})}function m(L){if(!Array.isArray(L)||L.length===0)throw new p.o(p.l,630)}function y(L,s,h){var v=L.getProviders(),d=L.get("preload"),_=Object(a.g)({},s);if(_.preload=o(s.preload,d),_.allSources=k(_,L),_.sources=S(_.allSources,v),_.sources.length)return _.file=_.sources[0].file,_.feedData=h,function(C){var N=C.sources[0].liveSyncDuration;return N&&(C.liveSyncDuration=C.dvrSeekLimit=N),C}(_)}function x(L,s){var h=(parseInt(L,10)||0)%s;return h<0&&(h+=s),h}var w=function(L,s){return S(k(L,s),s.getProviders())};function k(L,s){var h=s.attributes,v=L.sources,d=L.allSources,_=L.preload,C=L.drm,N=P(L.withCredentials,h.withCredentials);return(d||v).map(function(G){if(G!==Object(G))return null;E(G,h,"androidhls"),E(G,h,"hlsjsdefault"),E(G,h,"safarihlsjs"),function(ie,Q,te){if(!ie.liveSyncDuration){var Oe=Q.liveSyncDuration?Q:te;E(ie,Oe,"liveSyncDuration")}}(G,L,h),E(G,h,"_hlsjsProgressive"),G.preload=o(G.preload,_);var q=G.drm||C||h.drm;q&&(G.drm=q);var K=P(G.withCredentials,N);return K!==void 0&&(G.withCredentials=K),Object(n.a)(G)}).filter(function(G){return!!G})}function S(L,s){s&&s.choose||(s=new u.a);var h=function(_,C){for(var N=0;N<_.length;N++){var G=_[N],q=C.choose(G).providerToCheck;if(q)return{type:G.type,provider:q}}return null}(L,s);if(!h)return[];var v=h.provider,d=h.type;return L.filter(function(_){return _.type===d&&s.providerSupports(v,_)})}function P(L,s){return L===void 0?s:L}function E(L,s,h){h in s&&(L[h]=s[h])}t.a=function(L){return(Array.isArray(L)?L:[L]).map(c.a)}},function(e,t,r){"use strict";r.r(t),r.d(t,"getScriptPath",function(){return l}),r.d(t,"repo",function(){return o}),r.d(t,"versionCheck",function(){return c}),r.d(t,"loadFrom",function(){return n});var a=r(22),l=(r(10),function(u){for(var p=document.getElementsByTagName("script"),g=0;g<p.length;g++){var m=p[g].src;if(m){var y=m.lastIndexOf("/"+u);if(y>=0)return m.substr(0,y+1)}}return""}),o=function(){return l("jwplayer.js")},c=function(u){var p=("0"+u).split(/\W/),g=a.a.split(/\W/),m=parseFloat(p[0]),y=parseFloat(g[0]);return!(m>y)&&!(m===y&&parseFloat("0"+p[1])>parseFloat(g[1]))},n=function(){return l("jwplayer.js")}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var a=r(26),l=r(15),o=r(50),c=r(0);r(8);function n(u){var p=u.getName().name;if(!a.a[p]){if(!Object(c.i)(l.a,Object(c.w)({name:p}))){if(!Object(c.p)(u.supports))throw new Error("Tried to register a provider with an invalid object");l.a.unshift({name:p,supports:u.supports})}Object(c.d)(u.prototype,o.a),a.a[p]=u}}},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var a=r(0),l=r(12),o=r(10),c=r(1),n=function(){};function u(y,x,w,k){var S;y===Object(y)&&(y=(k=y).url);var P=Object(a.g)({xhr:null,url:y,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:x||n,onerror:w||n,mimeType:k&&!k.responseType?"text/xml":"",requireValidXML:!1,responseType:k&&k.plainText?"text":"",useDomParser:!1,requestFilter:null},k),E=function(s,h){return function(v,d){var _=v.currentTarget||h.xhr;if(clearTimeout(h.timeoutId),h.retryWithoutCredentials&&h.xhr.withCredentials)return p(_),void u(Object(a.g)({},h,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!d&&_.status>=400&&_.status<600&&(d=_.status),g(h,d?c.l:c.n,d||6,v)}}(0,P);if("XMLHttpRequest"in window){if(S=P.xhr=P.xhr||new window.XMLHttpRequest,typeof P.requestFilter=="function"){var L;try{L=P.requestFilter({url:y,xhr:S})}catch(s){return E(s,5),S}L&&"open"in L&&"send"in L&&(S=P.xhr=L)}S.onreadystatechange=function(s){return function(h){var v=h.currentTarget||s.xhr;if(v.readyState===4){clearTimeout(s.timeoutId);var d=v.status;if(d>=400)return void g(s,c.l,d<600?d:6);if(d===200)return function(_){return function(C){var N=C.currentTarget||_.xhr;if(clearTimeout(_.timeoutId),_.responseType){if(_.responseType==="json")return function(K,ie){if(!K.response||typeof K.response=="string"&&K.responseText.substr(1)!=='"')try{K=Object(a.g)({},K,{response:JSON.parse(K.responseText)})}catch(Q){return void g(ie,c.l,611,Q)}return ie.oncomplete(K)}(N,_)}else{var G,q=N.responseXML;if(q)try{G=q.firstChild}catch(K){}if(q&&G||_.useDomParser&&N.responseText&&!q&&(q=Object(l.parseXML)(N.responseText))&&q.firstChild)return m(N,q,_);if(_.requireValidXML)return void g(_,c.l,602)}_.oncomplete(N)}}(s)(h);d===0&&Object(o.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(s.url)&&g(s,c.l,7)}}}(P),S.onerror=E,"overrideMimeType"in S?P.mimeType&&S.overrideMimeType(P.mimeType):P.useDomParser=!0;try{y=y.replace(/#.*$/,""),S.open("GET",y,!0)}catch(s){return E(s,3),S}if(P.responseType)try{S.responseType=P.responseType}catch(s){}P.timeout&&(P.timeoutId=setTimeout(function(){p(S),g(P,c.n,1)},P.timeout),S.onabort=function(){clearTimeout(P.timeoutId)});try{P.withCredentials&&"withCredentials"in S&&(S.withCredentials=!0),S.send()}catch(s){E(s,4)}return S}g(P,c.n,2)}function p(y){y.onload=null,y.onprogress=null,y.onreadystatechange=null,y.onerror=null,"abort"in y&&y.abort()}function g(y,x,w,k){y.onerror(x,y.url,y.xhr,new c.o(x,w,k))}function m(y,x,w){var k=x.documentElement;if(!w.requireValidXML||k.nodeName!=="parsererror"&&!k.getElementsByTagName("parsererror").length)return y.responseXML||(y=Object(a.g)({},y,{responseXML:x})),w.oncomplete(y);g(w,c.l,601)}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a="8.22.0+local.2021-09-01-23-05-40-496"},function(e,t,r){"use strict";var a=r(0),l=r(16),o=window.performance||{timing:{}},c=o.timing.navigationStart||Object(l.a)();function n(){return c+o.now()}"now"in o||(o.now=function(){return Object(l.a)()-c});var u=function(){function p(){this.startTimes={},this.sum={},this.counts={},this.ticks={}}var g=p.prototype;return g.start=function(m){this.startTimes[m]=n(),this.counts[m]=this.counts[m]+1||1},g.end=function(m){if(this.startTimes[m]){var y=n()-this.startTimes[m];delete this.startTimes[m],this.sum[m]=this.sum[m]+y||y}},g.dump=function(){var m=Object(a.g)({},this.sum);for(var y in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,y)){var x=n()-this.startTimes[y];m[y]=m[y]+x||x}return{counts:Object(a.g)({},this.counts),sums:m,events:Object(a.g)({},this.ticks)}},g.tick=function(m){this.ticks[m]=n()},g.clear=function(m){delete this.ticks[m]},g.between=function(m,y){return this.ticks[y]&&this.ticks[m]?this.ticks[y]-this.ticks[m]:null},p}();t.a=u},function(e,t,r){"use strict";var a=r(0),l=r(27),o=["captions","metadata","thumbnails","chapters"],c=function(p){if(p&&p.file){var g,m=Object(a.g)({},{kind:"captions",default:!1},p);return m.kind=(g=m.kind,o.indexOf(g)!==-1?m.kind:"captions"),m.default=!!m.default,m}},n=r(28),u=Array.isArray;t.a=function(p){u((p=p||{}).tracks)||delete p.tracks;var g=Object(a.g)({},{sources:[],tracks:[],minDvrWindow:n.b},p);g.sources!==Object(g.sources)||u(g.sources)||(g.sources=[Object(l.a)(g.sources)]),u(g.sources)&&g.sources.length!==0||(p.levels?g.sources=p.levels:g.sources=[Object(l.a)(p)]);for(var m=0;m<g.sources.length;m++){var y=g.sources[m];if(y){var x=y.default;y.default=!!x&&x.toString()==="true",g.sources[m].label||(g.sources[m].label=m.toString()),g.sources[m]=Object(l.a)(g.sources[m])}}return g.sources=g.sources.filter(function(w){return!!w}),u(g.tracks)||(g.tracks=[]),u(g.captions)&&(g.tracks=g.tracks.concat(g.captions),delete g.captions),g.tracks=g.tracks.map(c).filter(function(w){return!!w}),g}},function(e,t,r){"use strict";var a=r(1),l=r(0),o=function(L){return L.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},c=function(){this.load=function(L,s,h,v){return h&&typeof h=="object"?Promise.all(Object.keys(h).filter(function(d){return d}).map(function(d){var _=h[d];return s.setupPlugin(d).then(function(C){if(!v.attributes._destroyed)return function(N,G,q){var K=N.name,ie=Object(l.g)({},G),Q=document.createElement("div");Q.id=q.id+"_"+K,Q.className="jw-plugin jw-reset";var te=N.getNewInstance(q,ie,Q);return q.addPlugin(K,te),te}(C,_,L)}).catch(function(C){return s.removePlugin(d),C.code?C:new a.o(null,305e3,C)})})):Promise.resolve()}},n=r(35),u=r(12),p=r(2),g=function(L){if(typeof L=="string"){var s=(L=L.split("?")[0]).indexOf("://");if(s>0)return 0;var h=L.indexOf("/"),v=Object(p.a)(L);return!(s<0&&h<0)||v&&isNaN(v)?1:2}},m=function(L){this.url=L,this.promise_=null};Object.defineProperties(m.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(l.g)(m.prototype,{load:function(){var L=this,s=this.promise_;if(!s){if(g(this.url)===2)return Promise.resolve(this);var h=new n.a(function(v){switch(g(v)){case 0:return v;case 1:return Object(u.getAbsolutePath)(v,window.location.href)}}(this.url));this.loader=h,s=h.load().then(function(){return L}),this.promise_=s}return s},registerPlugin:function(L,s,h){this.name=L,this.target=s,this.js=h},getNewInstance:function(L,s,h){var v=this.js;if(typeof v!="function")throw new a.o(null,(this.url,305100));var d=new v(L,s,h);return d.addToPlayer=function(){var _=this.getContainer().querySelector(".jw-overlays");_&&(h.left=_.style.left,h.top=_.style.top,_.appendChild(h))},d.resizeHandler=function(){var _=this.getContainer().querySelector(".jw-overlays");_&&d.resize(_.clientWidth,_.clientHeight)},d}});var y=m,x=r(36),w={},k=function(){function L(){}var s=L.prototype;return s.setupPlugin=function(h){var v=this.getPlugin(h);return v?(v.url!==h&&Object(x.a)('JW Plugin "'+o(h)+'" already loaded from "'+v.url+'". Ignoring "'+h+'."'),v.promise):this.addPlugin(h).load()},s.addPlugin=function(h){var v=o(h),d=w[v];return d||(d=new y(h),w[v]=d),d},s.getPlugin=function(h){return w[o(h)]},s.removePlugin=function(h){delete w[o(h)]},s.getPlugins=function(){return w},L}();r.d(t,"b",function(){return P}),r.d(t,"a",function(){return E});var S=new k,P=function(L,s,h){var v=S.addPlugin(L);v.js||v.registerPlugin(L,s,h)};function E(L,s){var h=L.get("plugins");return window.jwplayerPluginJsonp=P,(L.pluginLoader=L.pluginLoader||new c).load(s,S,h,L).then(function(v){if(!L.attributes._destroyed)return delete window.jwplayerPluginJsonp,v})}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a={}},function(e,t,r){"use strict";var a=r(0),l=r(10),o=r(2);t.a=function(c){if(c&&c.file){var n=Object(a.g)({},{default:!1,type:""},c);n.file=Object(o.i)(""+n.file);var u=/^[^/]+\/(?:x-)?([^/]+)$/,p=n.type;if(u.test(p)&&(n.mimeType=p,n.type=p.replace(u,"$1")),Object(l.isYouTube)(n.file)?n.type="youtube":Object(l.isRtmp)(n.file)?n.type="rtmp":n.type||(n.type=Object(o.a)(n.file)),n.type){switch(n.type){case"m3u8":case"vnd.apple.mpegurl":n.type="hls";break;case"dash+xml":n.type="dash";break;case"m4a":n.type="aac";break;case"smil":n.type="rtmp"}return Object.keys(n).forEach(function(g){n[g]===""&&delete n[g]}),n}}}},function(e,t,r){"use strict";r.d(t,"d",function(){return a}),r.d(t,"c",function(){return l}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return c});var a={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:r(3).mb,itemReady:!1,controlsEnabled:!1},l={position:0,duration:0,buffer:0,currentTime:0},o=120,c=25},function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return n});var a=r(9),l=r(7),o=null,c={};function n(){return o||(o=l.OS.tizenApp?r.e(2).then(function(u){var p=r(55).default;return c.controls=p,p}.bind(null,r)).catch(function(){o=null,Object(a.c)(301133)()}):r.e(1).then(function(u){var p=r(52).default;return c.controls=p,p}.bind(null,r)).catch(function(){o=null,Object(a.c)(301130)()})),o}},function(e,t,r){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(e,t){var r,a,l={},o={},c=(r=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return a===void 0&&(a=r.apply(this,arguments)),a});function n(y){var x=document.createElement("style");return x.type="text/css",x.setAttribute("data-jwplayer-id",y),function(w){c().appendChild(w)}(x),x}function u(y,x){var w,k,S,P=o[y];P||(P=o[y]={element:n(y),counter:0});var E=P.counter++;return w=P.element,S=function(){m(w,E,"")},(k=function(L){m(w,E,L)})(x.css),function(L){if(L){if(L.css===x.css&&L.media===x.media)return;k((x=L).css)}else S()}}e.exports={style:function(y,x){(function(w,k){for(var S=0;S<k.length;S++){var P=k[S],E=(l[w]||{})[P.id];if(E){for(var L=0;L<E.parts.length;L++)E.parts[L](P.parts[L]);for(;L<P.parts.length;L++)E.parts.push(u(w,P.parts[L]))}else{var s=[];for(L=0;L<P.parts.length;L++)s.push(u(w,P.parts[L]));l[w]=l[w]||{},l[w][P.id]={id:P.id,parts:s}}}})(x,function(w){for(var k=[],S={},P=0;P<w.length;P++){var E=w[P],L=E[0],s=E[1],h=E[2],v={css:s,media:h};S[L]?S[L].parts.push(v):k.push(S[L]={id:L,parts:[v]})}return k}(y))},clear:function(y,x){var w=l[y];if(w){if(x){var k=w[x];if(k)for(var S=0;S<k.parts.length;S+=1)k.parts[S]();return}for(var P=Object.keys(w),E=0;E<P.length;E+=1)for(var L=w[P[E]],s=0;s<L.parts.length;s+=1)L.parts[s]();delete l[y]}}};var p,g=(p=[],function(y,x){return p[y]=x,p.filter(Boolean).join(`
`)});function m(y,x,w){if(y.styleSheet)y.styleSheet.cssText=g(x,w);else{var k=document.createTextNode(w),S=y.childNodes[x];S?y.replaceChild(k,S):y.appendChild(k)}}},function(e,t,r){"use strict";var a=r(0),l=r(15),o=r(26),c=r(20),n=r(9),u={html5:function(){return r.e(10).then(function(g){var m=r(117).default;return Object(c.a)(m),m}.bind(null,r)).catch(Object(n.b)(152))}};function p(g){this.config=g||{}}Object(a.g)(p.prototype,{load:function(g){var m=u[g],y=function(){return Promise.reject(new Error("Failed to load media"))};return m?m().then(function(){var x=o.a[g];return x||y()}):y()},providerSupports:function(g,m){return g.supports(m)},choose:function(g){if(g===Object(g))for(var m=l.a.length,y=0;y<m;y++){var x=l.a[y];if(this.providerSupports(x,g))return{priority:m-y-1,name:x.name,type:g.type,providerToCheck:x,provider:o.a[x.name]}}return{}}}),t.a=p},function(e,t,r){"use strict";var a=r(6),l=r(11);function o(c,n){var u=n.message,p=n.code,g=function(w,k,S,P){return'<div id="'+w+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+w+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+w+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+w+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(k||"")+'<span class="jw-break jw-reset"></span>'+(P?("("+S+": "+P+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(c.get("id"),u,c.get("localization").errors.errorCode,p.toString()),m=c.get("width"),y=c.get("height"),x=Object(a.f)(g);return Object(l.d)(x,{width:m.toString().indexOf("%")>0?m:m+"px",height:y.toString().indexOf("%")>0?y:y+"px"}),x}r.d(t,"a",function(){return o})},function(e,t,r){"use strict";function a(o){return o.slice&&o.slice(-2)==="px"&&(o=o.slice(0,-2)),o}function l(o,c){if(c.toString().indexOf("%")===-1||typeof o!="string"||!o)return 0;if(/^\d*\.?\d+%$/.test(o))return o;var n=o.indexOf(":");if(n===-1)return 0;var u=parseFloat(o.substr(0,n)),p=parseFloat(o.substr(n+1));return u<=0||p<=0?0:p/u*100+"%"}r.d(t,"b",function(){return a}),r.d(t,"a",function(){return l})},function(e,t,r){"use strict";var a=r(0),l=r(8),o=r(3),c={};function n(g){var m=document.createElement("link");return m.type="text/css",m.rel="stylesheet",m.href=g,m}function u(g,m){var y=document.createElement("script");return y.type="text/javascript",y.charset="utf-8",y.async=!0,y.timeout=m||45e3,y.src=g,y}var p=function(g,m,y){var x=this,w=0;function k(P){w=2,x.trigger(o.w,P).off()}function S(P){w=3,x.trigger(o.kb,P).off()}this.getStatus=function(){return w},this.load=function(){var P=c[g];return w!==0||(P&&P.then(S).catch(k),w=1,P=new Promise(function(E,L){var s=(m?n:u)(g,y),h=function(){s.onerror=s.onload=null,clearTimeout(d)},v=function(C){h(),k(C),L(C)},d=setTimeout(function(){v(new Error("Network timeout "+g))},45e3);s.onerror=function(){v(new Error("Failed to load "+g))},s.onload=function(C){h(),S(C),E(C)};var _=document.getElementsByTagName("head")[0]||document.documentElement;_.insertBefore(s,_.firstChild)}),c[g]=P),P}};Object(a.g)(p.prototype,l.a),t.a=p},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a=typeof console.log=="function"?console.log.bind(console):function(){}},function(e,t,r){"use strict";r.d(t,"a",function(){return S}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return ie});var a=r(7),l=r(3),o=r(8),c=r(16),n=r(6);function u(te,Oe){return(u=Object.setPrototypeOf||function(fe,W){return fe.__proto__=W,fe})(te,Oe)}var p,g,m="ontouchstart"in window,y="PointerEvent"in window&&!a.OS.android,x=!(y||m&&a.OS.mobile),w=a.Features.passiveEvents,k=!!w&&{passive:!0},S=function(te){var Oe,fe;function W(de,Z){var ye;ye=te.call(this)||this;var Y=!(Z=Z||{}).preventScrolling;return ye.directSelect=!!Z.directSelect,ye.dragged=!1,ye.enableDoubleClick=!1,ye.el=de,ye.handlers={},ye.options={},ye.lastClick=0,ye.lastStart=0,ye.passive=Y,ye.pointerId=null,ye.startX=0,ye.startY=0,ye.event=null,ye.clicking=!1,ye}fe=te,(Oe=W).prototype=Object.create(fe.prototype),Oe.prototype.constructor=Oe,u(Oe,fe);var ae=W.prototype;return ae.on=function(de,Z,ye){return E(de)&&(this.handlers[de]||v[de](this)),te.prototype.on.call(this,de,Z,ye)},ae.off=function(de,Z,ye){var Y=this;if(E(de))C(this,de);else if(!de){var ce=this.handlers;Object.keys(ce).forEach(function(Ze){C(Y,Ze)})}return te.prototype.off.call(this,de,Z,ye)},ae.destroy=function(){this.el&&(this.off(),y&&N(this),this.el=null)},W}(o.a),P=/\s+/;function E(te){return te&&!(P.test(te)||typeof te=="object")}function L(te){if(!te.handlers.init){var Oe=te.el,fe=te.passive,W=!!w&&{passive:fe},ae=function(Z){if(te.dragged)q(te,l.s,Z);else{var ye=K(Z),Y=ye.pageX,ce=ye.pageY,Ze=Y-te.startX,ft=ce-te.startY;Ze*Ze+ft*ft>36&&(q(te,l.u,Z),te.dragged=!0,q(te,l.s,Z))}var ct;fe||Z.type!=="touchmove"||(ct=Z).preventDefault&&ct.preventDefault()},de=function(Z){clearTimeout(p),te.el&&(N(te),C(te,"window"),te.dragged&&(te.dragged=!1,q(te,l.t,Z)))};h(te,"init"),Q(te,"init",function(Z){if(Object(n.p)(Oe,"jw-tab-focus"),!ie(Z)){var ye=Z.target,Y=Z.type;if(!te.directSelect||ye===Oe){var ce=K(Z),Ze=ce.pageX,ft=ce.pageY;if(te.dragged=!1,te.startX=Ze,te.startY=ft,C(te,"window"),Y==="pointerdown"&&Z.isPrimary){if(!fe){var ct=Z.pointerId;te.pointerId=ct,Oe.setPointerCapture(ct)}_(te,"window","pointermove",ae,W),_(te,"window","pointercancel",de),_(te,"window","pointerup",de)}else Y==="mousedown"?(_(te,"window","mousemove",ae,W),_(te,"window","mouseup",de)):Y==="touchstart"&&(_(te,"window","touchmove",ae,W),_(te,"window","touchcancel",de),_(te,"window","touchend",de))}}},W),g||(g=new S(document).on("interaction"))}}function s(te){if(!te.handlers.select){var Oe=te.el;h(te,"select"),Q(te,"select",function(fe){var W=fe.target;ie(fe)||te.directSelect&&W!==Oe||(fe.isPrimary&&W.tageName==="BUTTON"&&W.focus(),te.lastStart=Object(c.a)(),te.clicking=!0)}),_(te,"select","click",function(fe){ie(fe)||te.directSelect&&fe.target!==Oe||(Object(c.a)()-te.lastStart>500&&te.clicking===!0||(function(W,ae){W.enableDoubleClick&&(Object(c.a)()-W.lastClick<300?(q(W,l.r,ae),W.lastClick=0):W.lastClick=Object(c.a)())}(te,fe),q(te,l.o,fe)),te.clicking=!1)})}}function h(te,Oe){if(!te.handlers.init&&!te.handlers.select){var fe=te.el;_(te,Oe,"blur",function(){Object(n.p)(fe,"jw-tab-focus"),te.clicking=!1}),_(te,Oe,"focus",function(){g.event&&g.event.type==="keydown"&&Object(n.b)(fe,"jw-tab-focus")})}}var v={drag:function(te){L(te)},dragStart:function(te){L(te)},dragEnd:function(te){L(te)},click:function(te){s(te)},doubleClick:function(te){te.enableDoubleClick=!0,s(te)},longPress:function(te){if(a.OS.iOS){var Oe=function(){clearTimeout(p)};_(te,"longPress","touchstart",function(fe){Oe(),p=setTimeout(function(){q(te,"longPress",fe)},500)}),_(te,"longPress","touchmove",Oe),_(te,"longPress","touchcancel",Oe),_(te,"longPress","touchend",Oe)}else te.el.oncontextmenu=function(fe){return q(te,"longPress",fe),!1}},focus:function(te){_(te,"focus","focus",function(Oe){G(te,"focus",Oe)})},blur:function(te){_(te,"blur","blur",function(Oe){G(te,"blur",Oe)})},over:function(te){(y||x)&&_(te,l.Z,y?"pointerover":"mouseover",function(Oe){Oe.pointerType!=="touch"&&q(te,l.Z,Oe)})},out:function(te){if(y){var Oe=te.el;_(te,l.Y,"pointerout",function(fe){if(fe.pointerType!=="touch"&&"clientX"in fe){var W=document.elementFromPoint(fe.clientX,fe.clientY);Oe.contains(W)||q(te,l.Y,fe)}})}else x&&_(te,l.Y,"mouseout",function(fe){q(te,l.Y,fe)})},move:function(te){(y||x)&&_(te,l.W,y?"pointermove":"mousemove",function(Oe){Oe.pointerType!=="touch"&&q(te,l.W,Oe)})},enter:function(te){_(te,l.v,"keydown",function(Oe){Oe.key!=="Enter"&&Oe.keyCode!==13||(Oe.stopPropagation(),G(te,l.v,Oe))})},keydown:function(te){_(te,"keydown","keydown",function(Oe){G(te,"keydown",Oe)},!1)},gesture:function(te){var Oe=function(fe){return q(te,"gesture",fe)};_(te,"gesture","click",Oe),_(te,"gesture","keydown",Oe)},interaction:function(te){var Oe=function(fe){te.event=fe};_(te,"interaction","mousedown",Oe,!0),_(te,"interaction","keydown",Oe,!0)},tap:function(){},doubleTap:function(){}};function d(te){var Oe=te.ownerDocument||te;return Oe.defaultView||Oe.parentWindow||window}function _(te,Oe,fe,W,ae){ae===void 0&&(ae=k);var de=te.handlers[Oe],Z=te.options[Oe];if(de||(de=te.handlers[Oe]={},Z=te.options[Oe]={}),de[fe])throw new Error(Oe+" "+fe+" already registered");de[fe]=W,Z[fe]=ae;var ye=te.el;(Oe==="window"?d(ye):ye).addEventListener(fe,W,ae)}function C(te,Oe){var fe=te.el,W=te.handlers,ae=te.options,de=Oe==="window"?d(fe):fe,Z=W[Oe],ye=ae[Oe];Z&&(Object.keys(Z).forEach(function(Y){var ce=ye[Y];typeof ce=="boolean"?de.removeEventListener(Y,Z[Y],ce):de.removeEventListener(Y,Z[Y])}),W[Oe]=null,ae[Oe]=null)}function N(te){var Oe=te.el;te.pointerId!==null&&(Oe.releasePointerCapture(te.pointerId),te.pointerId=null)}function G(te,Oe,fe){var W=te.el,ae=fe.target;te.trigger(Oe,{type:Oe,sourceEvent:fe,currentTarget:W,target:ae})}function q(te,Oe,fe){var W=function(ae,de,Z){var ye,Y=de.target,ce=de.touches,Ze=de.changedTouches,ft=de.pointerType;ce||Ze?(ye=ce&&ce.length?ce[0]:Ze[0],ft=ft||"touch"):(ye=de,ft=ft||"mouse");var ct=ye,Ge=ct.pageX,Ae=ct.pageY;return{type:ae,pointerType:ft,pageX:Ge,pageY:Ae,sourceEvent:de,currentTarget:Z,target:Y}}(Oe,fe,te.el);te.trigger(Oe,W)}function K(te){return te.type.indexOf("touch")===0?(te.originalEvent||te).changedTouches[0]:te}function ie(te){return!(!te.ctrlKey||te.type!=="click")||("which"in te?te.which===3:"button"in te&&te.button===2)}function Q(te,Oe,fe,W){y?_(te,Oe,"pointerdown",fe,W):(x&&_(te,Oe,"mousedown",fe,W),_(te,Oe,"touchstart",fe,W))}},function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return l});var a=window.requestAnimationFrame||function(o){return setTimeout(o,17)},l=window.cancelAnimationFrame||clearTimeout},function(e,t,r){"use strict";var a=r(0),l=r(19),o=r(10),c=r(12),n=r(2),u=r(23),p=r(17);function g(L,s){this.name=L,this.message=s.message||s.toString(),this.error=s}var m=r(5),y=r(6),x=r(11),w=r(21),k=r(40),S=r(36),P=r(41),E=Object(a.g)({},c,o,l,{addClass:y.b,hasClass:y.j,removeClass:y.p,replaceClass:y.q,toggleClass:y.w,classList:y.e,styleDimension:y.v,createElement:y.f,emptyElement:y.i,addStyleSheet:y.c,bounds:y.d,openLink:y.m,replaceInnerHtml:y.r,css:x.b,clearCss:x.a,style:x.d,transform:x.e,getRgba:x.c,ajax:w.a,crossdomain:function(L){var s=window.URL;try{var h=new s(L,location.origin);return location.protocol+"//"+location.host!=h.protocol+"//"+h.host}catch(v){}return!0},tryCatch:function(L,s,h){if(h===void 0&&(h=[]),p.a.debug)return L.apply(s||this,h);try{return L.apply(s||this,h)}catch(v){return new g(L.name,v)}},Error:g,Timer:u.a,log:S.a,genId:P.b,between:k.a,foreach:function(L,s){for(var h in L)Object.prototype.hasOwnProperty.call(L,h)&&s(h,L[h])},flashVersion:m.a,isIframe:m.m,indexOf:a.l,trim:n.i,pad:n.e,extension:n.a,hms:n.b,seconds:n.g,prefix:n.f,suffix:n.h,noop:function(){}});t.a=E},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a=function(l,o,c){return Math.max(Math.min(l,c),o)}},function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var a=12;function l(){try{var c=window.crypto||window.msCrypto;if(c&&c.getRandomValues)return c.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(n){}return Math.random().toString(36).slice(2,9)}function o(c){for(var n="";n.length<c;)n+=l();return n.slice(0,c)}},function(e,t,r){"use strict";function a(l,o,c){var n=[],u={};function p(){for(;n.length>0;){var g=n.shift(),m=g.command,y=g.args;(u[m]||l[m]).apply(l,y)}}o.forEach(function(g){var m=l[g];u[g]=m,l[g]=function(){for(var y=arguments.length,x=new Array(y),w=0;w<y;w++)x[w]=arguments[w];c()?n.push({command:g,args:x}):(p(),m&&m.apply(this,x))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return n}}),this.flush=p,this.empty=function(){n.length=0},this.off=function(){o.forEach(function(g){var m=u[g];m&&(l[g]=m,delete u[g])})},this.destroy=function(){this.off(),this.empty()}}r.d(t,"a",function(){return a})},function(e,t,r){"use strict";function a(o,c){return(a=Object.setPrototypeOf||function(n,u){return n.__proto__=u,n})(o,c)}r.d(t,"a",function(){return l});var l=function(o){var c,n;function u(){var g;return(g=o.call(this)||this).attributes=Object.create(null),g}n=o,(c=u).prototype=Object.create(n.prototype),c.prototype.constructor=c,a(c,n);var p=u.prototype;return p.addAttributes=function(g){var m=this;Object.keys(g).forEach(function(y){m.add(y,g[y])})},p.add=function(g,m){var y=this;Object.defineProperty(this,g,{get:function(){return y.attributes[g]},set:function(x){return y.set(g,x)},enumerable:!1}),this.attributes[g]=m},p.get=function(g){return this.attributes[g]},p.set=function(g,m){if(this.attributes[g]!==m){var y=this.attributes[g];this.attributes[g]=m,this.trigger("change:"+g,this,m,y)}},p.clone=function(){var g={},m=this.attributes;if(m)for(var y in m)g[y]=m[y];return g},p.change=function(g,m,y){this.on("change:"+g,m,y);var x=this.get(g);return m.call(y,this,x,x),this},u}(r(8).a)},function(e,t,r){"use strict";r.d(t,"c",function(){return a}),r.d(t,"b",function(){return l}),r.d(t,"a",function(){return o});var a=4,l=5,o=1},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var a=r(0);function l(o,c){return Object(a.g)({},c,{prime:function(){o.src||o.load()},getPrimedElement:function(){return o},clean:function(){c.clean(o)},recycle:function(){c.clean(o)}})}},function(e,t,r){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(e,t,r){"use strict";var a=r(0),l=r(42),o=r(34),c=r(19),n=r(12),u=r(7),p=r(30),g=r(13),m={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:p.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},y=function(je,ee){var J=Object(a.g)({},(window.jwplayer||{}).defaults,ee,je);(function(Mt){Object.keys(Mt).forEach(function(It){It!=="id"&&(Mt[It]=Object(n.serialize)(Mt[It]))})})(J);var qe=J.forceLocalizationDefaults?m.language:Object(g.c)(),_t=Object(g.h)(J.intl);J.localization=Object(g.a)(p.a,Object(g.b)(J,_t,qe));var we=Object(a.g)({},m,J);we.base==="."&&(we.base=Object(c.getScriptPath)("jwplayer.js")),we.base=(we.base||Object(c.loadFrom)()).replace(/\/?$/,"/"),r.p=we.base,we.width=Object(o.b)(we.width),we.height=Object(o.b)(we.height),we.aspectratio=Object(o.a)(we.aspectratio,we.width),we.volume=Object(a.u)(we.volume)?Math.min(Math.max(0,we.volume),100):m.volume,we.mute=!!we.mute,we.language=qe,we.intl=_t;var $e=we.playlistIndex;$e&&(we.item=$e),Object(a.r)(we.item)||(we.item=0);var at=J.autoPause;at&&(we.autoPause.viewability=!("viewability"in at)||!!at.viewability);var Ee=we.playbackRateControls;if(Ee){var tt=we.playbackRates;Array.isArray(Ee)&&(tt=Ee),(tt=tt.filter(function(Mt){return Object(a.r)(Mt)&&Mt>=.25&&Mt<=4}).map(function(Mt){return Math.round(100*Mt)/100})).indexOf(1)<0&&tt.push(1),tt.sort(),we.playbackRateControls=!0,we.playbackRates=tt}(!we.playbackRateControls||we.playbackRates.indexOf(we.defaultPlaybackRate)<0)&&(we.defaultPlaybackRate=1),we.playbackRate=we.defaultPlaybackRate,we.aspectratio||delete we.aspectratio;var nt=we.playlist;if(nt)Array.isArray(nt.playlist)&&(we.feedData=nt,we.playlist=nt.playlist);else{var Vt=Object(a.x)(we,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);we.playlist=[Vt]}we.qualityLabels=we.qualityLabels||we.hlslabels,delete we.duration;var dt=we.liveTimeout;dt!==null&&(Object(a.u)(dt)?dt!==0&&(dt=Math.max(30,dt)):dt=null,we.liveTimeout=dt);var vt,Rt,ii,ai=parseFloat(we.bandwidthEstimate),ui=parseFloat(we.bitrateSelection);return we.bandwidthEstimate=Object(a.u)(ai)?ai:(vt=we.defaultBandwidthEstimate,Rt=parseFloat(vt),Object(a.u)(Rt)?Math.max(Rt,1):m.bandwidthEstimate),we.bitrateSelection=Object(a.u)(ui)?ui:m.bitrateSelection,we.liveSyncDuration=(ii=we.liveSyncDuration)<5?5:ii>30?30:ii,we.backgroundLoading=Object(a.n)(we.backgroundLoading)?we.backgroundLoading:u.Features.backgroundLoading,we},x=r(9),w=r(24),k=r(18),S=r(15),P=r(20),E=r(29),L=r(1),s=null;function h(je){return s||(s=function(ee){var J=ee.get("controls"),qe=v(),_t=function($e,at){var Ee=$e.get("playlist");if(Array.isArray(Ee)&&Ee.length)for(var tt=Object(k.f)($e.get("item"),Ee.length),nt=Object(k.c)(Object(w.a)(Ee[tt]),$e),Vt=0;Vt<nt.length;Vt++)for(var dt=nt[Vt],vt=$e.getProviders(),Rt=0;Rt<S.a.length;Rt++){var ii=S.a[Rt];if(vt.providerSupports(ii,dt))return ii.name===at}return!1}(ee,"html5");if(u.OS.tizen)return d();if(J&&qe&&_t)return we=r.e(7).then(function($e){r(116);var at=r(54).default;return E.a.controls=r(52).default,Object(P.a)(r(117).default),at}.bind(null,r)).catch(Object(x.b)(L.q+105)),x.a.html5=we,we;var we;return J&&_t?function(){var $e=r.e(5).then(function(at){var Ee=r(54).default;return E.a.controls=r(52).default,Object(P.a)(r(117).default),Ee}.bind(null,r)).catch(Object(x.b)(L.q+104));return x.a.html5=$e,$e}():J&&qe?r.e(6).then(function($e){r(116);var at=r(54).default;return E.a.controls=r(52).default,at}.bind(null,r)).catch(Object(x.b)(L.q+103)):J?r.e(4).then(function($e){var at=r(54).default;return E.a.controls=r(52).default,at}.bind(null,r)).catch(Object(x.b)(L.q+102)):d()}(je)),s}function v(){var je=window.IntersectionObserverEntry;return!je||!("IntersectionObserver"in window)||!("intersectionRatio"in je.prototype)}function d(){return function(){return v()?r.e(8).then(function(je){return r(116)}.bind(null,r)).catch(Object(x.b)(L.q+120)):Promise.resolve()}().then(x.d)}var _=r(3),C=r(48),N=r(35),G=r(25);function q(je,ee,J){var qe=je.attributes;qe.playlist=Object(k.a)(ee),qe.feedData=J}function K(je){return function(ee){var J=ee.get("playlist");return new Promise(function(qe,_t){if(typeof J!="string"){var we=ee.get("feedData")||{};return q(ee,J,we),qe()}var $e=new C.a;$e.on(_.eb,function(at){var Ee=at.playlist;delete at.playlist,q(ee,Ee,at),qe()}),$e.on(_.w,function(at){q(ee,[],{}),_t(Object(L.w)(at,L.r))}),$e.load(J)})}(je).then(function(){if(!te(je)){var ee=Object(k.b)(je.get("playlist"),je);je.attributes.playlist=ee;try{Object(k.e)(ee)}catch(at){throw at.code+=L.r,at}var J=je.getProviders(),qe=Object(k.f)(je.get("item"),ee.length),_t=J.choose(ee[qe].sources[0]),we=_t.provider,$e=_t.name;return typeof we=="function"?we:x.a.html5&&$e==="html5"?x.a.html5:J.load($e).catch(function(at){throw Object(L.w)(at,L.s)})}})}function ie(je){var ee=je.get("skin")?je.get("skin").url:void 0;return typeof ee=="string"&&!function(J){for(var qe=document.styleSheets,_t=0,we=qe.length;_t<we;_t++)if(qe[_t].href===J)return!0;return!1}(ee)?new N.a(ee,!0).load().catch(function(J){return J}):Promise.resolve()}function Q(je){var ee=je.attributes,J=ee.language,qe=ee.base,_t=ee.setupConfig,we=ee.intl,$e=Object(g.b)(_t,we,J);return!Object(g.f)(J)||Object(g.d)($e)?Promise.resolve():new Promise(function(at){return Object(g.g)(qe,J).then(function(Ee){var tt=Ee.response;if(!te(je)){if(!tt)throw new L.o(null,L.h);ee.localization=Object(g.a)(tt,$e),at()}}).catch(function(Ee){at(Ee.code===L.h?Ee:Object(L.w)(Ee,L.g))})})}function te(je){return je.attributes._destroyed}var Oe=function(je){var ee;this.start=function(J){var qe=function($e,at){return Object(G.a)($e,at)}(je,J),_t=Promise.all([h(je),qe,K(je),Promise.resolve(),ie(je),Q(je)]),we=new Promise(function($e,at){ee=setTimeout(function(){at(new L.o(L.k,L.u))},6e4);var Ee=function(){clearTimeout(ee),setTimeout($e,6e4)};_t.then(Ee).catch(Ee)});return Promise.race([_t,we]).catch(function($e){var at=function(){throw $e};return qe.then(at).catch(at)}).then(function($e){return function(at){if(!at||!at.length)return{core:null,warnings:[]};var Ee=at.reduce(function(tt,nt){return tt.concat(nt)},[]).filter(function(tt){return tt&&tt.code});return{core:at[0],warnings:Ee}}($e)})},this.destroy=function(){clearTimeout(ee),je.set("_destroyed",!0),je=null}},fe=r(32),W=r(23),ae=r(17),de={removeItem:function(je){}};try{de=window.localStorage||de}catch(je){}var Z=function(){function je(J,qe){this.namespace=J,this.items=qe}var ee=je.prototype;return ee.getAllItems=function(){var J=this;return this.items.reduce(function(qe,_t){var we=de[J.namespace+"."+_t];return we&&(qe[_t]=_t!=="captions"?Object(n.serialize)(we):JSON.parse(we)),qe},{})},ee.track=function(J){var qe=this;this.items.forEach(function(_t){J.on("change:"+_t,function(we,$e){try{_t==="captions"&&($e=JSON.stringify($e)),de[qe.namespace+"."+_t]=$e}catch(at){ae.a.debug&&console.error(at)}})})},ee.clear=function(){var J=this;this.items.forEach(function(qe){de.removeItem(J.namespace+"."+qe)})},je}(),ye=r(43),Y=r(28),ce=r(8),Ze=r(33),ft=r(44);function ct(je){je.src||je.load()}function Ge(je){var ee=document.createElement("video");return ee.className="jw-video jw-reset",ee.setAttribute("tabindex","-1"),ee.setAttribute("disableRemotePlayback",""),ee.setAttribute("webkit-playsinline",""),ee.setAttribute("playsinline",""),je&&Object.keys(je).forEach(function(J){ee.setAttribute(J,je[J])}),ee}var Ae=r(45),Me=r(37);r(51),r(53),r.d(t,"b",function(){return rt});var De=function(je){this._events={},this.modelShim=new ye.a,this.modelShim._qoeItem=new W.a,this.mediaShim={},this.setup=new Oe(this.modelShim),this.currentContainer=this.originalContainer=je,this.apiQueue=new l.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};function Ne(je,ee){ee&&ee.code&&(ee.sourceError&&console.error(ee.sourceError),console.error(L.o.logMessage(ee.code)))}function Ve(je){je&&je.code&&console.warn(L.o.logMessage(je.code))}function rt(je,ee){if(!document.body.contains(je.currentContainer)){var J=document.getElementById(je.get("id"));J&&(je.currentContainer=J)}je.currentContainer.parentElement&&je.currentContainer.parentElement.replaceChild(ee,je.currentContainer),je.currentContainer=ee}Object(a.g)(De.prototype,{on:ce.a.on,once:ce.a.once,off:ce.a.off,trigger:ce.a.trigger,init:function(je,ee){var J=this,qe=this.modelShim,_t=new Z("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),we=_t&&_t.getAllItems();qe.attributes=qe.attributes||{},Object(a.g)(this.mediaShim,Y.c);var $e=je,at=y(Object(a.g)({},je),we);at.id=ee.id,at.setupConfig=$e,Object(a.g)(qe.attributes,at,Y.d),qe.getProviders=function(){return new fe.a(at)},qe.setProvider=function(){};var Ee=function(){for(var nt=ft.c,Vt=[],dt=[],vt=0;vt<nt;vt++){var Rt=Ge();Vt.push(Rt),dt.push(Rt),ct(Rt)}var ii=dt.shift(),ai=dt.shift(),ui=!1;return{primed:function(){return ui},prime:function(){Vt.forEach(ct),ui=!0},played:function(){ui=!0},getPrimedElement:function(){return dt.shift()||null},getAdElement:function(){return ii},getTestElement:function(){return ai},clean:function(Mt){if(Mt.src){Mt.removeAttribute("src");try{Mt.load()}catch(It){}}},recycle:function(Mt){Mt&&!dt.some(function(It){return It===Mt})&&(this.clean(Mt),dt.push(Mt))},syncVolume:function(Mt){var It=Math.min(Math.max(0,Mt/100),1);Vt.forEach(function(Et){Et.volume=It})},syncMute:function(Mt){Vt.forEach(function(It){It.muted=Mt})}}}();qe.get("backgroundLoading")||(Ee=Object(Ae.a)(Ee.getPrimedElement(),Ee));var tt=this.primeUi=new Me.a(Object(Me.b)(this.originalContainer)).once("gesture",function(){Ee.prime(),J.preload(),tt.destroy()});return qe.on("change:errorEvent",Ne),this.setup.start(ee).then(function(nt){var Vt=nt.core;if(!Vt)throw Object(L.w)(null,L.t);if(J.setup){J.on(_.ub,Ve),nt.warnings.forEach(function(ii){J.trigger(_.ub,ii)});var dt=J.modelShim.clone();if(dt.error)throw dt.error;var vt=J.apiQueue.queue.slice(0);J.apiQueue.destroy(),Object(a.g)(J,Vt.prototype),J.playerSetup(dt,ee,J.originalContainer,J._events,vt,Ee);var Rt=J._model;return qe.off("change:errorEvent",Ne),Rt.on("change:errorEvent",Ne),_t.track(Rt),J.updatePlaylist(Rt.get("playlist"),Rt.get("feedData")).catch(function(ii){var ai=ii.code===L.a?L.p:L.r;throw Object(L.w)(ii,ai)})}}).then(function(){J.setup&&J.playerReady()}).catch(function(nt){J.setup&&function(Vt,dt,vt){Promise.resolve().then(function(){var Rt=Object(L.x)(L.n,L.v,vt),ii=Vt._model||Vt.modelShim;Rt.message=Rt.message||ii.get("localization").errors[Rt.key],delete Rt.key;var ai=ii.get("contextual");if(!ai){var ui=Object(Ze.a)(Vt,Rt);Ze.a.cloneIcon&&ui.querySelector(".jw-icon").appendChild(Ze.a.cloneIcon("error")),rt(Vt,ui)}ii.set("errorEvent",Rt),ii.set("state",_.lb),Vt.trigger(_.ib,Rt),ai&&dt.remove()})}(J,ee,nt)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&rt(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(je){if(this.modelShim)return je in this.mediaShim?this.mediaShim[je]:this.modelShim.get(je)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(je){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=je)},getConfig:function(){return Object(a.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=De},function(e,t,r){"use strict";var a=r(0),l=r(3),o=r(4),c=r(2);function n(P){var E={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return E[P]?E[P]:P}function u(P){for(var E=[],L=0;L<Object(o.c)(P);L++){var s=P.childNodes[L];s.prefix==="jwplayer"&&Object(o.b)(s).toLowerCase()==="mediatypes"&&E.push(Object(o.d)(s))}return E}var p=function P(E,L){for(var s=[],h=0;h<Object(o.c)(E);h++){var v=E.childNodes[h];if(v.prefix==="media"){if(!Object(o.b)(v))continue;switch(Object(o.b)(v).toLowerCase()){case"content":if(Object(c.j)(v,"duration")&&(L.duration=Object(c.g)(Object(c.j)(v,"duration"))),Object(c.j)(v,"url")){L.sources||(L.sources=[]);var d={file:Object(c.j)(v,"url"),type:Object(c.j)(v,"type"),width:Object(c.j)(v,"width"),label:Object(c.j)(v,"label")},_=u(v);_.length&&(d.mediaTypes=_),L.sources.push(d)}Object(o.c)(v)>0&&(L=P(v,L));break;case"title":L.title=Object(o.d)(v);break;case"description":L.description=Object(o.d)(v);break;case"guid":L.mediaid=Object(o.d)(v);break;case"thumbnail":L.image||(L.image=Object(c.j)(v,"url"));break;case"group":P(v,L);break;case"subtitle":var C={file:Object(c.j)(v,"url"),kind:"captions"};Object(c.j)(v,"lang").length>0&&(C.label=n(Object(c.j)(v,"lang"))),s.push(C)}}}L.tracks||(L.tracks=[]);for(var N=0;N<s.length;N++)L.tracks.push(s[N]);return L},g=r(12),m=function(P,E){for(var L="default",s=[],h=[],v=E,d=0;d<P.childNodes.length;d++){var _=P.childNodes[d];if(_.prefix==="jwplayer"){var C=Object(o.b)(_);C==="source"?(delete E.sources,s.push({file:Object(c.j)(_,"file"),default:Object(c.j)(_,L),label:Object(c.j)(_,"label"),type:Object(c.j)(_,"type")})):C==="track"?(delete E.tracks,h.push({file:Object(c.j)(_,"file"),default:Object(c.j)(_,L),kind:Object(c.j)(_,"kind"),label:Object(c.j)(_,"label")})):(E[C]=Object(g.serialize)(Object(o.d)(_)),C==="file"&&E.sources&&delete E.sources)}E.file||(E.file=E.link)}if(s.length){E.sources=[];for(var N=0;N<s.length;N++){var G=s[N];G.file.length>0&&(G[L]=s[N][L]==="true",G.label||delete G.label,v.sources.push(G))}}if(h.length){E.tracks=[];for(var q=0;q<h.length;q++){var K=h[q];K.file&&K.file.length>0&&(K[L]=h[q][L]==="true",K.kind=h[q].kind.length?h[q].kind:"captions",K.label||delete K.label,v.tracks.push(K))}}return v},y=r(24);function x(P){for(var E={},L=0;L<P.childNodes.length;L++){var s=P.childNodes[L],h=Object(o.b)(s);if(h)switch(h.toLowerCase()){case"enclosure":E.file=Object(c.j)(s,"url");break;case"title":E.title=Object(o.d)(s);break;case"guid":E.mediaid=Object(o.d)(s);break;case"pubdate":E.date=Object(o.d)(s);break;case"description":E.description=Object(o.d)(s);break;case"link":E.link=Object(o.d)(s);break;case"category":E.tags?E.tags+=Object(o.d)(s):E.tags=Object(o.d)(s)}}return new y.a(m(P,p(P,E)))}var w=r(21),k=r(8),S=r(1);t.a=function(){var P=Object(a.g)(this,k.a);function E(s){try{var h,v=s.responseXML?s.responseXML.childNodes:null,d=null;if(v){for(var _=0;_<v.length&&(d=v[_]).nodeType===8;_++);if(d&&Object(o.b)(d)==="xml"&&(d=d.nextSibling),d&&Object(o.b)(d)==="rss"){var C=function(G){var q=[];q.feedData={};for(var K=0;K<Object(o.c)(G);K++){var ie=Object(o.a)(G,K);if(Object(o.b)(ie).toLowerCase()==="channel")for(var Q=0;Q<Object(o.c)(ie);Q++){var te=Object(o.a)(ie,Q),Oe=Object(o.b)(te).toLowerCase();Oe==="item"?q.push(x(te)):Oe&&(q.feedData[Oe]=Object(o.d)(te))}}return q}(d);h=Object(a.g)({playlist:C},C.feedData)}}if(!h)try{var N=JSON.parse(s.responseText);if(Array.isArray(N))h={playlist:N};else{if(!Array.isArray(N.playlist))throw Error("Playlist is not an array");h=N}}catch(G){throw new S.o(S.l,621,G)}P.trigger(l.eb,h)}catch(G){L(G)}}function L(s){s instanceof S.o&&!s.code&&(s=new S.o(S.l,0)),P.trigger(l.w,s)}this.load=function(s){Object(w.a)(s,E,function(h,v,d,_){L(_)})},this.destroy=function(){this.off()}}},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var a=r(7);function l(o){return o.type==="hls"&&a.OS.android?o.androidhls!==!1&&!a.Browser.firefox&&parseFloat(a.OS.version.version||"0")>=4.4:null}},function(e,t,r){"use strict";var a=r(3),l=function(){},o=function(){return!1},c={name:"default"},n={supports:o,play:l,pause:l,preload:l,load:l,stop:l,volume:l,mute:l,seek:l,resize:l,remove:l,destroy:l,setVisibility:l,setFullscreen:l,getFullscreen:o,supportsFullscreen:o,getContainer:l,setContainer:l,getName:function(){return c},getQualityLevels:l,getCurrentQuality:l,setCurrentQuality:l,getAudioTracks:l,getCurrentAudioTrack:l,setCurrentAudioTrack:l,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:l,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:l,detachMedia:l,init:l,setState:function(u){this.state=u,this.trigger(a.bb,{newstate:u})},sendMediaType:function(u){var p=u[0],g=p.type,m=p.mimeType,y=g==="aac"||g==="mp3"||g==="mpeg"||m&&m.indexOf("audio/")===0;this.trigger(a.T,{mediaType:y?"audio":"video"})},getDuration:function(){return 0},trigger:l};t.a=n},function(e,t,r){"use strict";var a,l=r(46),o=r(7),c=r(6),n=[],u=[],p=[],g={},m="screen"in window&&"orientation"in window.screen,y=o.OS.android&&o.Browser.chrome,x=!1;function w(L,s){for(var h=s.length;h--;){var v=s[h];if(L.target===v.getContainer()){v.setIntersection(L);break}}}function k(){n.forEach(function(L){var s=L.model;if(!(s.get("audioMode")||s.get("isFloating")||!s.get("controls")||s.get("visibility")<.75)){var h=s.get("state"),v=Object(c.g)();!v&&h==="paused"&&L.api.getFullscreen()?L.api.setFullscreen(!1):h==="playing"&&L.api.setFullscreen(v)}})}function S(){n.forEach(function(L){L.model.set("activeTab",Object(l.a)())})}function P(L,s){var h=s.indexOf(L);h!==-1&&s.splice(h,1)}function E(L){p.forEach(function(s){s(L)})}document.addEventListener("visibilitychange",S),document.addEventListener("webkitvisibilitychange",S),y&&m&&window.screen.orientation.addEventListener("change",k),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",S),document.removeEventListener("webkitvisibilitychange",S),window.removeEventListener("scroll",E),y&&m&&window.screen.orientation.removeEventListener("change",k)}),t.a={add:function(L){n.push(L)},remove:function(L){P(L,n)},addScrollHandler:function(L){x||(x=!0,window.addEventListener("scroll",E)),p.push(L)},removeScrollHandler:function(L){var s=p.indexOf(L);s!==-1&&p.splice(s,1)},addWidget:function(L){u.push(L)},removeWidget:function(L){P(L,u)},size:function(){return n.length},observe:function(L){var s;s=window.IntersectionObserver,a||(a=new s(function(h){if(h&&h.length)for(var v=h.length;v--;){var d=h[v];w(d,n),w(d,u)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),g[L.id]||(g[L.id]=!0,a.observe(L))},unobserve:function(L){a&&g[L.id]&&(delete g[L.id],a.unobserve(L))}}},,function(e,t,r){"use strict";r.d(t,"a",function(){return g});var a=r(0),l=r(38),o=r(6),c=r(11),n=[],u=-1;function p(){Object(l.a)(u),u=Object(l.b)(function(){n.forEach(function(m){m.view.updateBounds();var y=m.view.model.get("containerWidth");m.resized=m.width!==y,m.width=y}),n.forEach(function(m){m.contractElement.scrollLeft=2*m.width}),n.forEach(function(m){Object(c.d)(m.expandChild,{width:m.width+1}),m.resized&&m.view.model.get("visibility")&&m.view.updateStyles()}),n.forEach(function(m){m.expandElement.scrollLeft=m.width+1}),n.forEach(function(m){m.resized&&m.view.checkResized()})})}var g=function(){function m(y,x,w){var k={display:"block",position:"absolute",top:0,left:0},S={width:"100%",height:"100%"},P=Object(o.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),E=P.firstChild,L=E.firstChild,s=E.nextSibling;Object(c.d)([E,s],Object(a.g)({overflow:"auto"},k,S)),Object(c.d)(P,Object(a.g)({},k,S)),this.expandElement=E,this.expandChild=L,this.contractElement=s,this.hiddenElement=P,this.element=y,this.view=x,this.model=w,this.width=0,this.resized=!1,y.firstChild?y.insertBefore(P,y.firstChild):y.appendChild(P),y.addEventListener("scroll",p,!0),n.push(this),p()}return m.prototype.destroy=function(){if(this.view){var y=n.indexOf(this);y!==-1&&n.splice(y,1),this.element.removeEventListener("scroll",p,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},m}()},,,function(e,t,r){"use strict";r.r(t);var a=setTimeout;function l(){}function o(W){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if(typeof W!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(W,this)}function c(W,ae){for(;W._state===3;)W=W._value;W._state!==0?(W._handled=!0,o._immediateFn(function(){var de=W._state===1?ae.onFulfilled:ae.onRejected;if(de!==null){var Z;try{Z=de(W._value)}catch(ye){return void u(ae.promise,ye)}n(ae.promise,Z)}else(W._state===1?n:u)(ae.promise,W._value)})):W._deferreds.push(ae)}function n(W,ae){try{if(ae===W)throw new TypeError("A promise cannot be resolved with itself.");if(ae&&(typeof ae=="object"||typeof ae=="function")){var de=ae.then;if(ae instanceof o)return W._state=3,W._value=ae,void p(W);if(typeof de=="function")return void m((Z=de,ye=ae,function(){Z.apply(ye,arguments)}),W)}W._state=1,W._value=ae,p(W)}catch(Y){u(W,Y)}var Z,ye}function u(W,ae){W._state=2,W._value=ae,p(W)}function p(W){W._state===2&&W._deferreds.length===0&&o._immediateFn(function(){W._handled||o._unhandledRejectionFn(W._value)});for(var ae=0,de=W._deferreds.length;ae<de;ae++)c(W,W._deferreds[ae]);W._deferreds=null}function g(W,ae,de){this.onFulfilled=typeof W=="function"?W:null,this.onRejected=typeof ae=="function"?ae:null,this.promise=de}function m(W,ae){var de=!1;try{W(function(Z){de||(de=!0,n(ae,Z))},function(Z){de||(de=!0,u(ae,Z))})}catch(Z){if(de)return;de=!0,u(ae,Z)}}o.prototype.catch=function(W){return this.then(null,W)},o.prototype.then=function(W,ae){var de=new this.constructor(l);return c(this,new g(W,ae,de)),de},o.prototype.finally=function(W){var ae=this.constructor;return this.then(function(de){return ae.resolve(W()).then(function(){return de})},function(de){return ae.resolve(W()).then(function(){return ae.reject(de)})})},o.all=function(W){return new o(function(ae,de){if(!W||W.length===void 0)throw new TypeError("Promise.all accepts an array");var Z=Array.prototype.slice.call(W);if(Z.length===0)return ae([]);var ye=Z.length;function Y(Ze,ft){try{if(ft&&(typeof ft=="object"||typeof ft=="function")){var ct=ft.then;if(typeof ct=="function")return void ct.call(ft,function(Ge){Y(Ze,Ge)},de)}Z[Ze]=ft,--ye==0&&ae(Z)}catch(Ge){de(Ge)}}for(var ce=0;ce<Z.length;ce++)Y(ce,Z[ce])})},o.resolve=function(W){return W&&typeof W=="object"&&W.constructor===o?W:new o(function(ae){ae(W)})},o.reject=function(W){return new o(function(ae,de){de(W)})},o.race=function(W){return new o(function(ae,de){for(var Z=0,ye=W.length;Z<ye;Z++)W[Z].then(ae,de)})},o._immediateFn=typeof setImmediate=="function"&&function(W){setImmediate(W)}||function(W){a(W,0)},o._unhandledRejectionFn=function(W){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",W)};var y=o;window.Promise||(window.Promise=y);var x=r(19),w=r(14),k=r(15),S=r(20),P={availableProviders:k.a,registerProvider:S.a},E=r(25),L=r(22),s=r(0),h=r(17),v=r(7),d=r(47),_=r(3),C=r(23),N=r(8),G=r(39),q=0;function K(W,ae){var de=new d.a(ae);return de.on(_.gb,function(Z){W._qoe.tick("ready"),Z.setupTime=W._qoe.between("setup","ready")}),de.on("all",function(Z,ye){W.trigger(Z,ye)}),de}function ie(W,ae){var de=W.plugins,Z=Object.keys(de).map(function(ye){var Y=de[ye];return delete de[ye],Y});ae.get("setupConfig")&&W.trigger("remove"),W.off(),ae.playerDestroy(),Z.forEach(function(ye){if(ye.destroy)try{ye.destroy()}catch(Y){}}),ae.getContainer().removeAttribute("data-jwplayer-id")}function Q(W){var ae=++q,de=W.id||"player-"+ae,Z=new C.a,ye={},Y=K(this,W);Z.tick("init"),W.setAttribute("data-jwplayer-id",de),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return de}},uniqueId:{enumerable:!0,get:function(){return ae}},plugins:{enumerable:!0,get:function(){return ye}},_qoe:{enumerable:!0,get:function(){return Z}},version:{enumerable:!0,get:function(){return L.a}},Events:{enumerable:!0,get:function(){return N.a}},utils:{enumerable:!0,get:function(){return G.a}},_:{enumerable:!0,get:function(){return s.c}}}),Object(s.g)(this,{_events:{},setup:function(ce){return Z.clear("ready"),Z.tick("setup"),Y&&ie(this,Y),(Y=K(this,W)).init(ce,this),this.on(ce.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(ce){for(var Ze=w.a.length;Ze--;)if(w.a[Ze].uniqueId===ce.uniqueId){w.a.splice(Ze,1);break}}(this),Y&&ie(this,Y),Object.keys(ye).forEach(function(ce){delete ye[ce]}),this},qoe:function(){var ce=Y.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:ce.getFirstFrame?ce.getFirstFrame():null,player:this._qoe.dump(),item:ce.dump()}},addCues:function(ce){return Array.isArray(ce)&&Y.addCues(ce),this},getAudioTracks:function(){return Y.getAudioTracks()},getBuffer:function(){return Y.get("buffer")},getCaptions:function(){return Y.get("captions")},getCaptionsList:function(){return Y.getCaptionsList()},getConfig:function(){return Y.getConfig()},getContainer:function(){return Y.getContainer()},getControls:function(){return Y.get("controls")},getCues:function(){return Y.get("cues")},getCurrentAudioTrack:function(){return Y.getCurrentAudioTrack()},getCurrentCaptions:function(){return Y.getCurrentCaptions()},getCurrentQuality:function(){return Y.getCurrentQuality()},getCurrentTime:function(){return Y.get("currentTime")},getDuration:function(){return Y.get("duration")},getEnvironment:function(){return v},getFullscreen:function(){return Y.get("fullscreen")},getHeight:function(){return Y.getHeight()},getItemMeta:function(){return Y.get("itemMeta")||{}},getMute:function(){return Y.getMute()},getPercentViewable:function(){return Y.get("visibility")},getPip:function(){return Y.get("pip")},getPlaybackRate:function(){return Y.get("playbackRate")},getPlaylist:function(){return Y.get("playlist")},getPlaylistIndex:function(){return Y.get("item")},getPlaylistItem:function(ce){if(!G.a.exists(ce))return Y.get("playlistItem");var Ze=this.getPlaylist();return Ze?Ze[ce]:null},getPosition:function(){return Y.get("position")},getProvider:function(){return Y.getProvider()},getQualityLevels:function(){return Y.getQualityLevels()},getSafeRegion:function(ce){return ce===void 0&&(ce=!0),Y.getSafeRegion(ce)},getState:function(){return Y.getState()},getStretching:function(){return Y.get("stretching")},getViewable:function(){return Y.get("viewable")},getVisualQuality:function(){return Y.getVisualQuality()},getVolume:function(){return Y.get("volume")},getWidth:function(){return Y.getWidth()},setCaptions:function(ce){return Y.setCaptions(ce),this},setConfig:function(ce){return Y.setConfig(ce),this},setControls:function(ce){return Y.setControls(ce),this},setCurrentAudioTrack:function(ce){Y.setCurrentAudioTrack(ce)},setCurrentCaptions:function(ce){Y.setCurrentCaptions(ce)},setCurrentQuality:function(ce){Y.setCurrentQuality(ce)},setFullscreen:function(ce){return Y.setFullscreen(ce),this},setAllowFullscreen:function(ce){return Y.setAllowFullscreen(ce),this},setMute:function(ce){return Y.setMute(ce),this},setPip:function(ce){return Y.setPip(ce),this},setPlaybackRate:function(ce){return Y.setPlaybackRate(ce),this},setPlaylistItem:function(ce,Ze){return Y.setPlaylistItem(ce,Ze),this},setCues:function(ce){return Array.isArray(ce)&&Y.setCues(ce),this},setVolume:function(ce){return Y.setVolume(ce),this},load:function(ce,Ze){return Y.load(ce,Ze),this},play:function(ce){return Y.play(ce),this},pause:function(ce){return Y.pause(ce),this},playToggle:function(ce){switch(this.getState()){case _.pb:case _.jb:return this.pause(ce);default:return this.play(ce)}},seek:function(ce,Ze){return Y.seek(ce,Ze),this},playlistItem:function(ce,Ze){return Y.playlistItem(ce,Ze),this},playlistNext:function(ce){return Y.playlistNext(ce),this},playlistPrev:function(ce){return Y.playlistPrev(ce),this},next:function(ce){return Y.next(ce),this},requestPip:function(ce){return Y.requestPip(ce),this},castToggle:function(){return Y.castToggle(),this},stopCasting:function(){return Y.stopCasting(),this},createInstream:function(){return Y.createInstream()},stop:function(){return Y.stop(),this},resize:function(ce,Ze){return Y.resize(ce,Ze),this},addButton:function(ce,Ze,ft,ct,Ge){return Y.addButton(ce,Ze,ft,ct,Ge),this},removeButton:function(ce){return Y.removeButton(ce),this},attachMedia:function(){return Y.attachMedia(),this},detachMedia:function(){return Y.detachMedia(),this},isBeforeComplete:function(){return Y.isBeforeComplete()},isBeforePlay:function(){return Y.isBeforePlay()},setPlaylistItemCallback:function(ce,Ze){Y.setItemCallback(ce,Ze)},removePlaylistItemCallback:function(){Y.setItemCallback(null)},getPlaylistItemPromise:function(ce){return Y.getItemPromise(ce)},getFloating:function(){return!!Y.get("isFloating")},setFloating:function(ce){Y.setConfig({floating:{mode:ce?"always":"never"}})}})}Object(s.g)(Q.prototype,{on:function(W,ae,de){return N.c.call(this,W,ae,de)},once:function(W,ae,de){return N.d.call(this,W,ae,de)},off:function(W,ae,de){return N.b.call(this,W,ae,de)},trigger:function(W,ae){return(ae=s.c.isObject(ae)?Object(s.g)({},ae):{}).type=W,h.a.debug?N.e.call(this,W,ae):N.f.call(this,W,ae)},getPlugin:function(W){return this.plugins[W]},addPlugin:function(W,ae){this.plugins[W]=ae,this.on("ready",ae.addToPlayer),ae.resize&&this.on("resize",ae.resizeHandler)},registerPlugin:function(W,ae,de){Object(E.b)(W,ae,de)},getAdBlock:function(){return!1},playAd:function(W){},pauseAd:function(W){},skipAd:function(){}}),r.d(t,"assignLibraryProperties",function(){return fe}),r.p=Object(x.loadFrom)();var te=function(W){var ae,de;if(W?typeof W=="string"?(ae=Oe(W))||(de=document.getElementById(W)):typeof W=="number"?ae=w.a[W]:W.nodeType&&(ae=Oe((de=W).id||de.getAttribute("data-jwplayer-id"))):ae=w.a[0],ae)return ae;if(de){var Z=new Q(de);return w.a.push(Z),Z}return{registerPlugin:E.b}};function Oe(W){for(var ae=0;ae<w.a.length;ae++)if(w.a[ae].id===W)return w.a[ae];return null}function fe(W){Object.defineProperties(W,{api:{get:function(){return P},set:function(){}},version:{get:function(){return L.a},set:function(){}},debug:{get:function(){return h.a.debug},set:function(ae){h.a.debug=!!ae}}})}fe(te),t.default=te}]).default});var $d,Lr,Ld=Kt(()=>{hy();$d=location.hostname==="av.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.archive.org/jw/8",{jwplayer:Lr}=window});var Od,Md,Id=Kt(()=>{ef();Pd();as();tf();Ld();Od=class e{constructor(){if(e.avplayer="#jw6",e.resizer_listening=!1,e.unplayable_timer=null,e.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!e.is_local_storage_available())return;this.selector_play_items=ki(".js-playset-items"),this.selector_playlist=ki(".js-playset-list");let t=ki(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!t||["audio","movies","etree"].includes(t))&&(ki(this.selector_play_items).append('<span id="playplayset"/>'),ki("#playplayset").html(`<a
          class="stealth"
          href="#play-items"
          data-event-click-tracking="Playset|PlayAllLink"
        >
          <span class="iconochive-play" aria-hidden="true"></span>
          <span class="sr-only">play</span>
          <span class="hidden-xs-span"> Play All</span>
          <br />
        </a>`),ta("#playplayset",e.create_playlist_goto_first_item),ea("autoplay",!0)&&!ea("playset",!0)&&setTimeout(e.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,ea("playset",!0)){if([,this.id]=location.href.match(/archive\.org\/details\/([^/&?]+)/),!this.id)return;ki("#playset-xs").length||ki("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),e.skip_unplayable_item(),e.resizer()}Yi("playset ready")}static create_playlist_goto_first_item(){Yi("create_playlist_goto_first_item()");let t=[],a=ki("#also-found").length?"#also-found .item-ia":".item-ia:visible";ki(a).each((l,o)=>{let c=ki(o),{id:n}=c.data();if(n.match(/^__/))return;let u=e.truncate(c.find(".item-ttl,.collection-title a").text(),35),p=e.truncate(c.find(".byv").text(),75),{year:g}=c.data(),m=e.truncate(c.next().find(".C234 > span:first").text(),75);t.push([n,u,p.length?p:m,g])}),e.set_playset(t),e.mobile?e.play_mobile(t):location.href=`/details/${t[0][0]}?autoplay=1&playset=1`}static play_mobile(t){let r=[];for(let a of t)r.push(a[0]);location.href=`https://archive.org/services/playset.php?ids=${r.join(",")}`}show_playlist(){let t=e.get_playset();if(!t)return;let r=!1,a="";for(let o of t.list)a+=e.playlist_item(o[0],o[1],o[2],o[3]),this.id===o[0]&&(r=!0);if(!r)return;let l=`
${e.playlist_header(t)}
<div class="playset-list">
${a}
</div>
`;ki("body").addClass("playset"),ki("body").addClass(ki("#theatre-ia-wrap").length?"":" playset-hdr-only"),ki(this.selector_playlist).prepend(`<div id="playset-ia">${l}</div>`),ta("#playset-pp .js-playset-play",e.play),ta("#playset-pp .js-playset-pause",e.pause),setTimeout(()=>{this.autoscroll_playlist()},500),ki(document).ready(()=>{ki("#texty iframe").on("load",()=>{ki("#texty iframe").contents().click(e.pause)})})}static resizer(){e.resizer_listening||(e.resizer_listening=!0,ki(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler),e.throttler=setTimeout(e.resizer,250)}));let t=ki("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",r=ki("#playset-ia").parent().attr("id");Yi("browser resize: ",t," -v- ",r),t!==r&&(t==="playset-xs"?ki("#playset-ia").appendTo("#playset-xs > div"):ki("#playset-ia").prependTo(`#${t}`),Yi("playset moved"))}static playlist_header(t){let r=t.src.match(/\?/)?"&":"?",a=`${t.src}${r}autoplay=1`;return`
<div class="playset-hdr">
<div>
  <a href=${a}>Playlist</a>
  ${e.glyph("beta")}
</div>
<div id="playset-pp">
  <a href="#" class="js-playset-pause">
    ${e.glyph("Pause")}
  </a>
  <a href="#" class="js-playset-play" style="display:none">
    ${e.glyph("play")}
  </a>
</div>
<div>
  <a href=${a}>
    ${e.glyph("share")}
  </a>
</div>
</div>
`}static playlist_item(t,r,a,l){return`
<div class="playset-item" data-id=${t}>
<a href="/details/${t}?autoplay=1&playset=1">
  <div class="topinblock playset-img">
    <img src="/services/img/${t}"/>
  </div><div class="topinblock">
    ${e.item_year(l)}
    <b>
      ${r}
    </b><br/>
    ${a}
  </div>
</a>
</div>`}static item_year(t){return t?`
<div style="float:right">
(${t})
</div>`:""}autoscroll_playlist(){let t=ki(`#playset-ia div[data-id="${this.id}"`).offset();if(t){let r=ki("#playset-xs:visible").length?10:ki("#topnav").height(),a=t.top-r-ki("#playset-ia .playset-hdr").height();Yi("scrolling playset to ",a),ki("#playset-ia .playset-list").scrollTop(a)}}static skip_unplayable_item(){e.unplayable_timer=setTimeout(()=>{(typeof Lr=="undefined"||!ki(e.avplayer).length)&&e.goto_next_item()},3e3)}static goto_next_item(){let t=location.href.match(/\/details\/([^/&?]+)/)[1],r=e.get_playlist(),a="";for(let l of r)t===a&&(location.href=`/details/${l[0]}?autoplay=1&playset=1`),[a]=l}static onComplete(t,r){let a=t.getPlaylistIndex(),l=t.getPlaylist().length;(a+1>=l||r&&r.done)&&e.goto_next_item()}static get_playlist(){let t=e.get_playset();return typeof t.list=="undefined"?t:t.list}static get_playset(){return JSON.parse(localStorage.getItem("playset"))}static set_playset(t){let r=new Date,a={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:r.toJSON(),createdTS:Math.round(r.getTime()/1e3),list:t};localStorage.setItem("playset",JSON.stringify(a))}static pause(){if(Yi("playset pause"),typeof Lr!="undefined"&&ki(e.avplayer).length){let t=Lr(e.avplayer.substr(1));return t&&t.getState()&&(t.getState().toUpperCase()==="PLAYING"?t.pause():t.play(),ki("#playset-pp a").toggle()),!1}return e.unplayable_timer&&(clearTimeout(e.unplayable_timer),e.unplayable_timer=null,ki("#playset-pp a").toggle()),!1}static play(){if(Yi("play/resume"),typeof Lr!="undefined"&&ki(e.avplayer).length){let t=Lr(e.avplayer.substr(1));return t&&t.getState()&&(t.getState().toUpperCase()!=="PLAYING"&&t.play(),ki("#playset-pp a").toggle()),!1}return e.unplayable_timer||(e.skip_unplayable_item(),ki("#playset-pp a").toggle()),!1}static glyph(t){return`<span class="iconochive-${t}" aria-hidden="true"></span>
           <span class="sr-only">${t}</span>`}static truncate(t,r){let a=t.trim().replace(/\s+/g," ");return a.length<=r?a:`${a.substr(0,r)}..`}static is_local_storage_available(){try{return"localStorage"in window}catch(t){return!1}}};ki(()=>new Od);Md=Od});function Rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}function rf(e,t){function r(l,o,c){if(!(typeof document>"u")){c=Rd({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var u in c)c[u]&&(n+="; "+u,c[u]!==!0&&(n+="="+c[u].split(";")[0]));return document.cookie=l+"="+e.write(o,l)+n}}function a(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var o=document.cookie?document.cookie.split("; "):[],c={},n=0;n<o.length;n++){var u=o[n].split("="),p=u.slice(1).join("=");try{var g=decodeURIComponent(u[0]);if(c[g]=e.read(p,g),l===g)break}catch(m){}}return l?c[l]:c}}return Object.create({set:r,get:a,remove:function(l,o){r(l,"",Rd({},o,{expires:-1}))},withAttributes:function(l){return rf(this.converter,Rd({},this.attributes,l))},withConverter:function(l){return rf(Rd({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var e4,qn,nf=Kt(()=>{e4={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};qn=rf(e4,{path:"/"});});var Xl=Kt(()=>{nf();nf()});var sf={};Dn(sf,{default:()=>js});var t4,af,i4,r4,n4,o4,a4,s4,of,l4,my,gy,vy,c4,py,fy,u4,js,eu=Kt(()=>{t4=Object.create,af=Object.defineProperty,i4=Object.getOwnPropertyDescriptor,r4=Object.getOwnPropertyNames,n4=Object.getPrototypeOf,o4=Object.prototype.hasOwnProperty,a4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s4=(e,t)=>{for(var r in t)af(e,r,{get:t[r],enumerable:!0})},of=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of r4(t))!o4.call(e,l)&&l!==r&&af(e,l,{get:()=>t[l],enumerable:!(a=i4(t,l))||a.enumerable});return e},l4=(e,t,r)=>(of(e,t,"default"),r&&of(r,t,"default")),my=(e,t,r)=>(r=e!=null?t4(n4(e)):{},of(t||!e||!e.__esModule?af(r,"default",{value:e,enumerable:!0}):r,e)),gy=a4((e,t)=>{(function(r,a){"use strict";typeof t=="object"&&typeof t.exports=="object"?t.exports=r.document?a(r,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return a(l)}:a(r)})(typeof window<"u"?window:e,function(r,a){"use strict";var l=[],o=Object.getPrototypeOf,c=l.slice,n=l.flat?function(f){return l.flat.call(f)}:function(f){return l.concat.apply([],f)},u=l.push,p=l.indexOf,g={},m=g.toString,y=g.hasOwnProperty,x=y.toString,w=x.call(Object),k={},S=function(f){return typeof f=="function"&&typeof f.nodeType!="number"&&typeof f.item!="function"},P=function(f){return f!=null&&f===f.window},E=r.document,L={type:!0,src:!0,nonce:!0,noModule:!0};function s(f,b,A){A=A||E;var O,H,F=A.createElement("script");if(F.text=f,b)for(O in L)H=b[O]||b.getAttribute&&b.getAttribute(O),H&&F.setAttribute(O,H);A.head.appendChild(F).parentNode.removeChild(F)}function h(f){return f==null?f+"":typeof f=="object"||typeof f=="function"?g[m.call(f)]||"object":typeof f}var v="3.6.1",d=function(f,b){return new d.fn.init(f,b)};d.fn=d.prototype={jquery:v,constructor:d,length:0,toArray:function(){return c.call(this)},get:function(f){return f==null?c.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var b=d.merge(this.constructor(),f);return b.prevObject=this,b},each:function(f){return d.each(this,f)},map:function(f){return this.pushStack(d.map(this,function(b,A){return f.call(b,A,b)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(f,b){return(b+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(f,b){return b%2}))},eq:function(f){var b=this.length,A=+f+(f<0?b:0);return this.pushStack(A>=0&&A<b?[this[A]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:l.sort,splice:l.splice},d.extend=d.fn.extend=function(){var f,b,A,O,H,F,X=arguments[0]||{},He=1,Pe=arguments.length,gt=!1;for(typeof X=="boolean"&&(gt=X,X=arguments[He]||{},He++),typeof X!="object"&&!S(X)&&(X={}),He===Pe&&(X=this,He--);He<Pe;He++)if((f=arguments[He])!=null)for(b in f)O=f[b],!(b==="__proto__"||X===O)&&(gt&&O&&(d.isPlainObject(O)||(H=Array.isArray(O)))?(A=X[b],H&&!Array.isArray(A)?F=[]:!H&&!d.isPlainObject(A)?F={}:F=A,H=!1,X[b]=d.extend(gt,F,O)):O!==void 0&&(X[b]=O));return X},d.extend({expando:"jQuery"+(v+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var b,A;return!f||m.call(f)!=="[object Object]"?!1:(b=o(f),b?(A=y.call(b,"constructor")&&b.constructor,typeof A=="function"&&x.call(A)===w):!0)},isEmptyObject:function(f){var b;for(b in f)return!1;return!0},globalEval:function(f,b,A){s(f,{nonce:b&&b.nonce},A)},each:function(f,b){var A,O=0;if(_(f))for(A=f.length;O<A&&b.call(f[O],O,f[O])!==!1;O++);else for(O in f)if(b.call(f[O],O,f[O])===!1)break;return f},makeArray:function(f,b){var A=b||[];return f!=null&&(_(Object(f))?d.merge(A,typeof f=="string"?[f]:f):u.call(A,f)),A},inArray:function(f,b,A){return b==null?-1:p.call(b,f,A)},merge:function(f,b){for(var A=+b.length,O=0,H=f.length;O<A;O++)f[H++]=b[O];return f.length=H,f},grep:function(f,b,A){for(var O,H=[],F=0,X=f.length,He=!A;F<X;F++)O=!b(f[F],F),O!==He&&H.push(f[F]);return H},map:function(f,b,A){var O,H,F=0,X=[];if(_(f))for(O=f.length;F<O;F++)H=b(f[F],F,A),H!=null&&X.push(H);else for(F in f)H=b(f[F],F,A),H!=null&&X.push(H);return n(X)},guid:1,support:k}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=l[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,b){g["[object "+b+"]"]=b.toLowerCase()});function _(f){var b=!!f&&"length"in f&&f.length,A=h(f);return S(f)||P(f)?!1:A==="array"||b===0||typeof b=="number"&&b>0&&b-1 in f}var C=function(f){var b,A,O,H,F,X,He,Pe,gt,Dt,ri,Ot,st,Li,R,M,j,U,se,me="sizzle"+1*new Date,Ce=f.document,Nt=0,bt=0,Yt=Tn(),li=Tn(),$i=Tn(),Ri=Tn(),Oi=function(re,Ie){return re===Ie&&(ri=!0),0},lr={}.hasOwnProperty,Wi=[],ji=Wi.pop,Xi=Wi.push,er=Wi.push,Zi=Wi.slice,gr=function(re,Ie){for(var lt=0,Gt=re.length;lt<Gt;lt++)if(re[lt]===Ie)return lt;return-1},Rr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ii="[\\x20\\t\\r\\n\\f]",cr="(?:\\\\[\\da-fA-F]{1,6}"+Ii+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Kr="\\["+Ii+"*("+cr+")(?:"+Ii+"*([*^$|!~]?=)"+Ii+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+cr+"))|)"+Ii+"*\\]",mr=":("+cr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Kr+")*)|.*)\\)|)",Br=new RegExp(Ii+"+","g"),Mr=new RegExp("^"+Ii+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ii+"+$","g"),fn=new RegExp("^"+Ii+"*,"+Ii+"*"),Nr=new RegExp("^"+Ii+"*([>+~]|"+Ii+")"+Ii+"*"),Ir=new RegExp(Ii+"|>"),Xr=new RegExp(mr),ge=new RegExp("^"+cr+"$"),pe={ID:new RegExp("^#("+cr+")"),CLASS:new RegExp("^\\.("+cr+")"),TAG:new RegExp("^("+cr+"|[*])"),ATTR:new RegExp("^"+Kr),PSEUDO:new RegExp("^"+mr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ii+"*(even|odd|(([+-]|)(\\d*)n|)"+Ii+"*(?:([+-]|)"+Ii+"*(\\d+)|))"+Ii+"*\\)|)","i"),bool:new RegExp("^(?:"+Rr+")$","i"),needsContext:new RegExp("^"+Ii+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ii+"*((?:-\\d)?\\d*)"+Ii+"*\\)|)(?=[^-]|$)","i")},Te=/HTML$/i,Wt=/^(?:input|select|textarea|button)$/i,wt=/^h\d$/i,si=/^[^{]+\{\s*\[native \w/,xi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ui=/[+~]/,Di=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ii+"?|\\\\([^\\r\\n\\f])","g"),Qi=function(re,Ie){var lt="0x"+re.slice(1)-65536;return Ie||(lt<0?String.fromCharCode(lt+65536):String.fromCharCode(lt>>10|55296,lt&1023|56320))},fr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wr=function(re,Ie){return Ie?re==="\0"?"\uFFFD":re.slice(0,-1)+"\\"+re.charCodeAt(re.length-1).toString(16)+" ":"\\"+re},Po=function(){Ot()},Ma=oo(function(re){return re.disabled===!0&&re.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{er.apply(Wi=Zi.call(Ce.childNodes),Ce.childNodes),Wi[Ce.childNodes.length].nodeType}catch(re){er={apply:Wi.length?function(Ie,lt){Xi.apply(Ie,Zi.call(lt))}:function(Ie,lt){for(var Gt=Ie.length,mt=0;Ie[Gt++]=lt[mt++];);Ie.length=Gt-1}}}function dr(re,Ie,lt,Gt){var mt,Zt,oi,hi,bi,Hi,Ni,Bi=Ie&&Ie.ownerDocument,nr=Ie?Ie.nodeType:9;if(lt=lt||[],typeof re!="string"||!re||nr!==1&&nr!==9&&nr!==11)return lt;if(!Gt&&(Ot(Ie),Ie=Ie||st,R)){if(nr!==11&&(bi=xi.exec(re)))if(mt=bi[1]){if(nr===9)if(oi=Ie.getElementById(mt)){if(oi.id===mt)return lt.push(oi),lt}else return lt;else if(Bi&&(oi=Bi.getElementById(mt))&&se(Ie,oi)&&oi.id===mt)return lt.push(oi),lt}else{if(bi[2])return er.apply(lt,Ie.getElementsByTagName(re)),lt;if((mt=bi[3])&&A.getElementsByClassName&&Ie.getElementsByClassName)return er.apply(lt,Ie.getElementsByClassName(mt)),lt}if(A.qsa&&!Ri[re+" "]&&(!M||!M.test(re))&&(nr!==1||Ie.nodeName.toLowerCase()!=="object")){if(Ni=re,Bi=Ie,nr===1&&(Ir.test(re)||Nr.test(re))){for(Bi=Ui.test(re)&&Zo(Ie.parentNode)||Ie,(Bi!==Ie||!A.scope)&&((hi=Ie.getAttribute("id"))?hi=hi.replace(fr,wr):Ie.setAttribute("id",hi=me)),Hi=X(re),Zt=Hi.length;Zt--;)Hi[Zt]=(hi?"#"+hi:":scope")+" "+Jo(Hi[Zt]);Ni=Hi.join(",")}try{return er.apply(lt,Bi.querySelectorAll(Ni)),lt}catch(Tr){Ri(re,!0)}finally{hi===me&&Ie.removeAttribute("id")}}}return Pe(re.replace(Mr,"$1"),Ie,lt,Gt)}function Tn(){var re=[];function Ie(lt,Gt){return re.push(lt+" ")>O.cacheLength&&delete Ie[re.shift()],Ie[lt+" "]=Gt}return Ie}function hn(re){return re[me]=!0,re}function mn(re){var Ie=st.createElement("fieldset");try{return!!re(Ie)}catch(lt){return!1}finally{Ie.parentNode&&Ie.parentNode.removeChild(Ie),Ie=null}}function Ko(re,Ie){for(var lt=re.split("|"),Gt=lt.length;Gt--;)O.attrHandle[lt[Gt]]=Ie}function wo(re,Ie){var lt=Ie&&re,Gt=lt&&re.nodeType===1&&Ie.nodeType===1&&re.sourceIndex-Ie.sourceIndex;if(Gt)return Gt;if(lt){for(;lt=lt.nextSibling;)if(lt===Ie)return-1}return re?1:-1}function Xo(re){return function(Ie){var lt=Ie.nodeName.toLowerCase();return lt==="input"&&Ie.type===re}}function Ia(re){return function(Ie){var lt=Ie.nodeName.toLowerCase();return(lt==="input"||lt==="button")&&Ie.type===re}}function Ra(re){return function(Ie){return"form"in Ie?Ie.parentNode&&Ie.disabled===!1?"label"in Ie?"label"in Ie.parentNode?Ie.parentNode.disabled===re:Ie.disabled===re:Ie.isDisabled===re||Ie.isDisabled!==!re&&Ma(Ie)===re:Ie.disabled===re:"label"in Ie?Ie.disabled===re:!1}}function Fn(re){return hn(function(Ie){return Ie=+Ie,hn(function(lt,Gt){for(var mt,Zt=re([],lt.length,Ie),oi=Zt.length;oi--;)lt[mt=Zt[oi]]&&(lt[mt]=!(Gt[mt]=lt[mt]))})})}function Zo(re){return re&&typeof re.getElementsByTagName<"u"&&re}A=dr.support={},F=dr.isXML=function(re){var Ie=re&&re.namespaceURI,lt=re&&(re.ownerDocument||re).documentElement;return!Te.test(Ie||lt&&lt.nodeName||"HTML")},Ot=dr.setDocument=function(re){var Ie,lt,Gt=re?re.ownerDocument||re:Ce;return Gt==st||Gt.nodeType!==9||!Gt.documentElement||(st=Gt,Li=st.documentElement,R=!F(st),Ce!=st&&(lt=st.defaultView)&&lt.top!==lt&&(lt.addEventListener?lt.addEventListener("unload",Po,!1):lt.attachEvent&&lt.attachEvent("onunload",Po)),A.scope=mn(function(mt){return Li.appendChild(mt).appendChild(st.createElement("div")),typeof mt.querySelectorAll<"u"&&!mt.querySelectorAll(":scope fieldset div").length}),A.attributes=mn(function(mt){return mt.className="i",!mt.getAttribute("className")}),A.getElementsByTagName=mn(function(mt){return mt.appendChild(st.createComment("")),!mt.getElementsByTagName("*").length}),A.getElementsByClassName=si.test(st.getElementsByClassName),A.getById=mn(function(mt){return Li.appendChild(mt).id=me,!st.getElementsByName||!st.getElementsByName(me).length}),A.getById?(O.filter.ID=function(mt){var Zt=mt.replace(Di,Qi);return function(oi){return oi.getAttribute("id")===Zt}},O.find.ID=function(mt,Zt){if(typeof Zt.getElementById<"u"&&R){var oi=Zt.getElementById(mt);return oi?[oi]:[]}}):(O.filter.ID=function(mt){var Zt=mt.replace(Di,Qi);return function(oi){var hi=typeof oi.getAttributeNode<"u"&&oi.getAttributeNode("id");return hi&&hi.value===Zt}},O.find.ID=function(mt,Zt){if(typeof Zt.getElementById<"u"&&R){var oi,hi,bi,Hi=Zt.getElementById(mt);if(Hi){if(oi=Hi.getAttributeNode("id"),oi&&oi.value===mt)return[Hi];for(bi=Zt.getElementsByName(mt),hi=0;Hi=bi[hi++];)if(oi=Hi.getAttributeNode("id"),oi&&oi.value===mt)return[Hi]}return[]}}),O.find.TAG=A.getElementsByTagName?function(mt,Zt){if(typeof Zt.getElementsByTagName<"u")return Zt.getElementsByTagName(mt);if(A.qsa)return Zt.querySelectorAll(mt)}:function(mt,Zt){var oi,hi=[],bi=0,Hi=Zt.getElementsByTagName(mt);if(mt==="*"){for(;oi=Hi[bi++];)oi.nodeType===1&&hi.push(oi);return hi}return Hi},O.find.CLASS=A.getElementsByClassName&&function(mt,Zt){if(typeof Zt.getElementsByClassName<"u"&&R)return Zt.getElementsByClassName(mt)},j=[],M=[],(A.qsa=si.test(st.querySelectorAll))&&(mn(function(mt){var Zt;Li.appendChild(mt).innerHTML="<a id='"+me+"'></a><select id='"+me+"-\r\\' msallowcapture=''><option selected=''></option></select>",mt.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+Ii+`*(?:''|"")`),mt.querySelectorAll("[selected]").length||M.push("\\["+Ii+"*(?:value|"+Rr+")"),mt.querySelectorAll("[id~="+me+"-]").length||M.push("~="),Zt=st.createElement("input"),Zt.setAttribute("name",""),mt.appendChild(Zt),mt.querySelectorAll("[name='']").length||M.push("\\["+Ii+"*name"+Ii+"*="+Ii+`*(?:''|"")`),mt.querySelectorAll(":checked").length||M.push(":checked"),mt.querySelectorAll("a#"+me+"+*").length||M.push(".#.+[+~]"),mt.querySelectorAll("\\\f"),M.push("[\\r\\n\\f]")}),mn(function(mt){mt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Zt=st.createElement("input");Zt.setAttribute("type","hidden"),mt.appendChild(Zt).setAttribute("name","D"),mt.querySelectorAll("[name=d]").length&&M.push("name"+Ii+"*[*^$|!~]?="),mt.querySelectorAll(":enabled").length!==2&&M.push(":enabled",":disabled"),Li.appendChild(mt).disabled=!0,mt.querySelectorAll(":disabled").length!==2&&M.push(":enabled",":disabled"),mt.querySelectorAll("*,:x"),M.push(",.*:")})),(A.matchesSelector=si.test(U=Li.matches||Li.webkitMatchesSelector||Li.mozMatchesSelector||Li.oMatchesSelector||Li.msMatchesSelector))&&mn(function(mt){A.disconnectedMatch=U.call(mt,"*"),U.call(mt,"[s!='']:x"),j.push("!=",mr)}),M=M.length&&new RegExp(M.join("|")),j=j.length&&new RegExp(j.join("|")),Ie=si.test(Li.compareDocumentPosition),se=Ie||si.test(Li.contains)?function(mt,Zt){var oi=mt.nodeType===9?mt.documentElement:mt,hi=Zt&&Zt.parentNode;return mt===hi||!!(hi&&hi.nodeType===1&&(oi.contains?oi.contains(hi):mt.compareDocumentPosition&&mt.compareDocumentPosition(hi)&16))}:function(mt,Zt){if(Zt){for(;Zt=Zt.parentNode;)if(Zt===mt)return!0}return!1},Oi=Ie?function(mt,Zt){if(mt===Zt)return ri=!0,0;var oi=!mt.compareDocumentPosition-!Zt.compareDocumentPosition;return oi||(oi=(mt.ownerDocument||mt)==(Zt.ownerDocument||Zt)?mt.compareDocumentPosition(Zt):1,oi&1||!A.sortDetached&&Zt.compareDocumentPosition(mt)===oi?mt==st||mt.ownerDocument==Ce&&se(Ce,mt)?-1:Zt==st||Zt.ownerDocument==Ce&&se(Ce,Zt)?1:Dt?gr(Dt,mt)-gr(Dt,Zt):0:oi&4?-1:1)}:function(mt,Zt){if(mt===Zt)return ri=!0,0;var oi,hi=0,bi=mt.parentNode,Hi=Zt.parentNode,Ni=[mt],Bi=[Zt];if(!bi||!Hi)return mt==st?-1:Zt==st?1:bi?-1:Hi?1:Dt?gr(Dt,mt)-gr(Dt,Zt):0;if(bi===Hi)return wo(mt,Zt);for(oi=mt;oi=oi.parentNode;)Ni.unshift(oi);for(oi=Zt;oi=oi.parentNode;)Bi.unshift(oi);for(;Ni[hi]===Bi[hi];)hi++;return hi?wo(Ni[hi],Bi[hi]):Ni[hi]==Ce?-1:Bi[hi]==Ce?1:0}),st},dr.matches=function(re,Ie){return dr(re,null,null,Ie)},dr.matchesSelector=function(re,Ie){if(Ot(re),A.matchesSelector&&R&&!Ri[Ie+" "]&&(!j||!j.test(Ie))&&(!M||!M.test(Ie)))try{var lt=U.call(re,Ie);if(lt||A.disconnectedMatch||re.document&&re.document.nodeType!==11)return lt}catch(Gt){Ri(Ie,!0)}return dr(Ie,st,null,[re]).length>0},dr.contains=function(re,Ie){return(re.ownerDocument||re)!=st&&Ot(re),se(re,Ie)},dr.attr=function(re,Ie){(re.ownerDocument||re)!=st&&Ot(re);var lt=O.attrHandle[Ie.toLowerCase()],Gt=lt&&lr.call(O.attrHandle,Ie.toLowerCase())?lt(re,Ie,!R):void 0;return Gt!==void 0?Gt:A.attributes||!R?re.getAttribute(Ie):(Gt=re.getAttributeNode(Ie))&&Gt.specified?Gt.value:null},dr.escape=function(re){return(re+"").replace(fr,wr)},dr.error=function(re){throw new Error("Syntax error, unrecognized expression: "+re)},dr.uniqueSort=function(re){var Ie,lt=[],Gt=0,mt=0;if(ri=!A.detectDuplicates,Dt=!A.sortStable&&re.slice(0),re.sort(Oi),ri){for(;Ie=re[mt++];)Ie===re[mt]&&(Gt=lt.push(mt));for(;Gt--;)re.splice(lt[Gt],1)}return Dt=null,re},H=dr.getText=function(re){var Ie,lt="",Gt=0,mt=re.nodeType;if(mt){if(mt===1||mt===9||mt===11){if(typeof re.textContent=="string")return re.textContent;for(re=re.firstChild;re;re=re.nextSibling)lt+=H(re)}else if(mt===3||mt===4)return re.nodeValue}else for(;Ie=re[Gt++];)lt+=H(Ie);return lt},O=dr.selectors={cacheLength:50,createPseudo:hn,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(re){return re[1]=re[1].replace(Di,Qi),re[3]=(re[3]||re[4]||re[5]||"").replace(Di,Qi),re[2]==="~="&&(re[3]=" "+re[3]+" "),re.slice(0,4)},CHILD:function(re){return re[1]=re[1].toLowerCase(),re[1].slice(0,3)==="nth"?(re[3]||dr.error(re[0]),re[4]=+(re[4]?re[5]+(re[6]||1):2*(re[3]==="even"||re[3]==="odd")),re[5]=+(re[7]+re[8]||re[3]==="odd")):re[3]&&dr.error(re[0]),re},PSEUDO:function(re){var Ie,lt=!re[6]&&re[2];return pe.CHILD.test(re[0])?null:(re[3]?re[2]=re[4]||re[5]||"":lt&&Xr.test(lt)&&(Ie=X(lt,!0))&&(Ie=lt.indexOf(")",lt.length-Ie)-lt.length)&&(re[0]=re[0].slice(0,Ie),re[2]=lt.slice(0,Ie)),re.slice(0,3))}},filter:{TAG:function(re){var Ie=re.replace(Di,Qi).toLowerCase();return re==="*"?function(){return!0}:function(lt){return lt.nodeName&&lt.nodeName.toLowerCase()===Ie}},CLASS:function(re){var Ie=Yt[re+" "];return Ie||(Ie=new RegExp("(^|"+Ii+")"+re+"("+Ii+"|$)"))&&Yt(re,function(lt){return Ie.test(typeof lt.className=="string"&&lt.className||typeof lt.getAttribute<"u"&&lt.getAttribute("class")||"")})},ATTR:function(re,Ie,lt){return function(Gt){var mt=dr.attr(Gt,re);return mt==null?Ie==="!=":Ie?(mt+="",Ie==="="?mt===lt:Ie==="!="?mt!==lt:Ie==="^="?lt&&mt.indexOf(lt)===0:Ie==="*="?lt&&mt.indexOf(lt)>-1:Ie==="$="?lt&&mt.slice(-lt.length)===lt:Ie==="~="?(" "+mt.replace(Br," ")+" ").indexOf(lt)>-1:Ie==="|="?mt===lt||mt.slice(0,lt.length+1)===lt+"-":!1):!0}},CHILD:function(re,Ie,lt,Gt,mt){var Zt=re.slice(0,3)!=="nth",oi=re.slice(-4)!=="last",hi=Ie==="of-type";return Gt===1&&mt===0?function(bi){return!!bi.parentNode}:function(bi,Hi,Ni){var Bi,nr,Tr,Fi,qr,tn,nn=Zt!==oi?"nextSibling":"previousSibling",Or=bi.parentNode,Lo=hi&&bi.nodeName.toLowerCase(),zn=!Ni&&!hi,pn=!1;if(Or){if(Zt){for(;nn;){for(Fi=bi;Fi=Fi[nn];)if(hi?Fi.nodeName.toLowerCase()===Lo:Fi.nodeType===1)return!1;tn=nn=re==="only"&&!tn&&"nextSibling"}return!0}if(tn=[oi?Or.firstChild:Or.lastChild],oi&&zn){for(Fi=Or,Tr=Fi[me]||(Fi[me]={}),nr=Tr[Fi.uniqueID]||(Tr[Fi.uniqueID]={}),Bi=nr[re]||[],qr=Bi[0]===Nt&&Bi[1],pn=qr&&Bi[2],Fi=qr&&Or.childNodes[qr];Fi=++qr&&Fi&&Fi[nn]||(pn=qr=0)||tn.pop();)if(Fi.nodeType===1&&++pn&&Fi===bi){nr[re]=[Nt,qr,pn];break}}else if(zn&&(Fi=bi,Tr=Fi[me]||(Fi[me]={}),nr=Tr[Fi.uniqueID]||(Tr[Fi.uniqueID]={}),Bi=nr[re]||[],qr=Bi[0]===Nt&&Bi[1],pn=qr),pn===!1)for(;(Fi=++qr&&Fi&&Fi[nn]||(pn=qr=0)||tn.pop())&&!((hi?Fi.nodeName.toLowerCase()===Lo:Fi.nodeType===1)&&++pn&&(zn&&(Tr=Fi[me]||(Fi[me]={}),nr=Tr[Fi.uniqueID]||(Tr[Fi.uniqueID]={}),nr[re]=[Nt,pn]),Fi===bi)););return pn-=mt,pn===Gt||pn%Gt===0&&pn/Gt>=0}}},PSEUDO:function(re,Ie){var lt,Gt=O.pseudos[re]||O.setFilters[re.toLowerCase()]||dr.error("unsupported pseudo: "+re);return Gt[me]?Gt(Ie):Gt.length>1?(lt=[re,re,"",Ie],O.setFilters.hasOwnProperty(re.toLowerCase())?hn(function(mt,Zt){for(var oi,hi=Gt(mt,Ie),bi=hi.length;bi--;)oi=gr(mt,hi[bi]),mt[oi]=!(Zt[oi]=hi[bi])}):function(mt){return Gt(mt,0,lt)}):Gt}},pseudos:{not:hn(function(re){var Ie=[],lt=[],Gt=He(re.replace(Mr,"$1"));return Gt[me]?hn(function(mt,Zt,oi,hi){for(var bi,Hi=Gt(mt,null,hi,[]),Ni=mt.length;Ni--;)(bi=Hi[Ni])&&(mt[Ni]=!(Zt[Ni]=bi))}):function(mt,Zt,oi){return Ie[0]=mt,Gt(Ie,null,oi,lt),Ie[0]=null,!lt.pop()}}),has:hn(function(re){return function(Ie){return dr(re,Ie).length>0}}),contains:hn(function(re){return re=re.replace(Di,Qi),function(Ie){return(Ie.textContent||H(Ie)).indexOf(re)>-1}}),lang:hn(function(re){return ge.test(re||"")||dr.error("unsupported lang: "+re),re=re.replace(Di,Qi).toLowerCase(),function(Ie){var lt;do if(lt=R?Ie.lang:Ie.getAttribute("xml:lang")||Ie.getAttribute("lang"))return lt=lt.toLowerCase(),lt===re||lt.indexOf(re+"-")===0;while((Ie=Ie.parentNode)&&Ie.nodeType===1);return!1}}),target:function(re){var Ie=f.location&&f.location.hash;return Ie&&Ie.slice(1)===re.id},root:function(re){return re===Li},focus:function(re){return re===st.activeElement&&(!st.hasFocus||st.hasFocus())&&!!(re.type||re.href||~re.tabIndex)},enabled:Ra(!1),disabled:Ra(!0),checked:function(re){var Ie=re.nodeName.toLowerCase();return Ie==="input"&&!!re.checked||Ie==="option"&&!!re.selected},selected:function(re){return re.parentNode&&re.parentNode.selectedIndex,re.selected===!0},empty:function(re){for(re=re.firstChild;re;re=re.nextSibling)if(re.nodeType<6)return!1;return!0},parent:function(re){return!O.pseudos.empty(re)},header:function(re){return wt.test(re.nodeName)},input:function(re){return Wt.test(re.nodeName)},button:function(re){var Ie=re.nodeName.toLowerCase();return Ie==="input"&&re.type==="button"||Ie==="button"},text:function(re){var Ie;return re.nodeName.toLowerCase()==="input"&&re.type==="text"&&((Ie=re.getAttribute("type"))==null||Ie.toLowerCase()==="text")},first:Fn(function(){return[0]}),last:Fn(function(re,Ie){return[Ie-1]}),eq:Fn(function(re,Ie,lt){return[lt<0?lt+Ie:lt]}),even:Fn(function(re,Ie){for(var lt=0;lt<Ie;lt+=2)re.push(lt);return re}),odd:Fn(function(re,Ie){for(var lt=1;lt<Ie;lt+=2)re.push(lt);return re}),lt:Fn(function(re,Ie,lt){for(var Gt=lt<0?lt+Ie:lt>Ie?Ie:lt;--Gt>=0;)re.push(Gt);return re}),gt:Fn(function(re,Ie,lt){for(var Gt=lt<0?lt+Ie:lt;++Gt<Ie;)re.push(Gt);return re})}},O.pseudos.nth=O.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})O.pseudos[b]=Xo(b);for(b in{submit:!0,reset:!0})O.pseudos[b]=Ia(b);function Da(){}Da.prototype=O.filters=O.pseudos,O.setFilters=new Da,X=dr.tokenize=function(re,Ie){var lt,Gt,mt,Zt,oi,hi,bi,Hi=li[re+" "];if(Hi)return Ie?0:Hi.slice(0);for(oi=re,hi=[],bi=O.preFilter;oi;){(!lt||(Gt=fn.exec(oi)))&&(Gt&&(oi=oi.slice(Gt[0].length)||oi),hi.push(mt=[])),lt=!1,(Gt=Nr.exec(oi))&&(lt=Gt.shift(),mt.push({value:lt,type:Gt[0].replace(Mr," ")}),oi=oi.slice(lt.length));for(Zt in O.filter)(Gt=pe[Zt].exec(oi))&&(!bi[Zt]||(Gt=bi[Zt](Gt)))&&(lt=Gt.shift(),mt.push({value:lt,type:Zt,matches:Gt}),oi=oi.slice(lt.length));if(!lt)break}return Ie?oi.length:oi?dr.error(re):li(re,hi).slice(0)};function Jo(re){for(var Ie=0,lt=re.length,Gt="";Ie<lt;Ie++)Gt+=re[Ie].value;return Gt}function oo(re,Ie,lt){var Gt=Ie.dir,mt=Ie.next,Zt=mt||Gt,oi=lt&&Zt==="parentNode",hi=bt++;return Ie.first?function(bi,Hi,Ni){for(;bi=bi[Gt];)if(bi.nodeType===1||oi)return re(bi,Hi,Ni);return!1}:function(bi,Hi,Ni){var Bi,nr,Tr,Fi=[Nt,hi];if(Ni){for(;bi=bi[Gt];)if((bi.nodeType===1||oi)&&re(bi,Hi,Ni))return!0}else for(;bi=bi[Gt];)if(bi.nodeType===1||oi)if(Tr=bi[me]||(bi[me]={}),nr=Tr[bi.uniqueID]||(Tr[bi.uniqueID]={}),mt&&mt===bi.nodeName.toLowerCase())bi=bi[Gt]||bi;else{if((Bi=nr[Zt])&&Bi[0]===Nt&&Bi[1]===hi)return Fi[2]=Bi[2];if(nr[Zt]=Fi,Fi[2]=re(bi,Hi,Ni))return!0}return!1}}function ma(re){return re.length>1?function(Ie,lt,Gt){for(var mt=re.length;mt--;)if(!re[mt](Ie,lt,Gt))return!1;return!0}:re[0]}function zc(re,Ie,lt){for(var Gt=0,mt=Ie.length;Gt<mt;Gt++)dr(re,Ie[Gt],lt);return lt}function $o(re,Ie,lt,Gt,mt){for(var Zt,oi=[],hi=0,bi=re.length,Hi=Ie!=null;hi<bi;hi++)(Zt=re[hi])&&(!lt||lt(Zt,Gt,mt))&&(oi.push(Zt),Hi&&Ie.push(hi));return oi}function Bn(re,Ie,lt,Gt,mt,Zt){return Gt&&!Gt[me]&&(Gt=Bn(Gt)),mt&&!mt[me]&&(mt=Bn(mt,Zt)),hn(function(oi,hi,bi,Hi){var Ni,Bi,nr,Tr=[],Fi=[],qr=hi.length,tn=oi||zc(Ie||"*",bi.nodeType?[bi]:bi,[]),nn=re&&(oi||!Ie)?$o(tn,Tr,re,bi,Hi):tn,Or=lt?mt||(oi?re:qr||Gt)?[]:hi:nn;if(lt&&lt(nn,Or,bi,Hi),Gt)for(Ni=$o(Or,Fi),Gt(Ni,[],bi,Hi),Bi=Ni.length;Bi--;)(nr=Ni[Bi])&&(Or[Fi[Bi]]=!(nn[Fi[Bi]]=nr));if(oi){if(mt||re){if(mt){for(Ni=[],Bi=Or.length;Bi--;)(nr=Or[Bi])&&Ni.push(nn[Bi]=nr);mt(null,Or=[],Ni,Hi)}for(Bi=Or.length;Bi--;)(nr=Or[Bi])&&(Ni=mt?gr(oi,nr):Tr[Bi])>-1&&(oi[Ni]=!(hi[Ni]=nr))}}else Or=$o(Or===hi?Or.splice(qr,Or.length):Or),mt?mt(null,hi,Or,Hi):er.apply(hi,Or)})}function Qo(re){for(var Ie,lt,Gt,mt=re.length,Zt=O.relative[re[0].type],oi=Zt||O.relative[" "],hi=Zt?1:0,bi=oo(function(Bi){return Bi===Ie},oi,!0),Hi=oo(function(Bi){return gr(Ie,Bi)>-1},oi,!0),Ni=[function(Bi,nr,Tr){var Fi=!Zt&&(Tr||nr!==gt)||((Ie=nr).nodeType?bi(Bi,nr,Tr):Hi(Bi,nr,Tr));return Ie=null,Fi}];hi<mt;hi++)if(lt=O.relative[re[hi].type])Ni=[oo(ma(Ni),lt)];else{if(lt=O.filter[re[hi].type].apply(null,re[hi].matches),lt[me]){for(Gt=++hi;Gt<mt&&!O.relative[re[Gt].type];Gt++);return Bn(hi>1&&ma(Ni),hi>1&&Jo(re.slice(0,hi-1).concat({value:re[hi-2].type===" "?"*":""})).replace(Mr,"$1"),lt,hi<Gt&&Qo(re.slice(hi,Gt)),Gt<mt&&Qo(re=re.slice(Gt)),Gt<mt&&Jo(re))}Ni.push(lt)}return ma(Ni)}function Fl(re,Ie){var lt=Ie.length>0,Gt=re.length>0,mt=function(Zt,oi,hi,bi,Hi){var Ni,Bi,nr,Tr=0,Fi="0",qr=Zt&&[],tn=[],nn=gt,Or=Zt||Gt&&O.find.TAG("*",Hi),Lo=Nt+=nn==null?1:Math.random()||.1,zn=Or.length;for(Hi&&(gt=oi==st||oi||Hi);Fi!==zn&&(Ni=Or[Fi])!=null;Fi++){if(Gt&&Ni){for(Bi=0,!oi&&Ni.ownerDocument!=st&&(Ot(Ni),hi=!R);nr=re[Bi++];)if(nr(Ni,oi||st,hi)){bi.push(Ni);break}Hi&&(Nt=Lo)}lt&&((Ni=!nr&&Ni)&&Tr--,Zt&&qr.push(Ni))}if(Tr+=Fi,lt&&Fi!==Tr){for(Bi=0;nr=Ie[Bi++];)nr(qr,tn,oi,hi);if(Zt){if(Tr>0)for(;Fi--;)qr[Fi]||tn[Fi]||(tn[Fi]=ji.call(bi));tn=$o(tn)}er.apply(bi,tn),Hi&&!Zt&&tn.length>0&&Tr+Ie.length>1&&dr.uniqueSort(bi)}return Hi&&(Nt=Lo,gt=nn),qr};return lt?hn(mt):mt}return He=dr.compile=function(re,Ie){var lt,Gt=[],mt=[],Zt=$i[re+" "];if(!Zt){for(Ie||(Ie=X(re)),lt=Ie.length;lt--;)Zt=Qo(Ie[lt]),Zt[me]?Gt.push(Zt):mt.push(Zt);Zt=$i(re,Fl(mt,Gt)),Zt.selector=re}return Zt},Pe=dr.select=function(re,Ie,lt,Gt){var mt,Zt,oi,hi,bi,Hi=typeof re=="function"&&re,Ni=!Gt&&X(re=Hi.selector||re);if(lt=lt||[],Ni.length===1){if(Zt=Ni[0]=Ni[0].slice(0),Zt.length>2&&(oi=Zt[0]).type==="ID"&&Ie.nodeType===9&&R&&O.relative[Zt[1].type]){if(Ie=(O.find.ID(oi.matches[0].replace(Di,Qi),Ie)||[])[0],Ie)Hi&&(Ie=Ie.parentNode);else return lt;re=re.slice(Zt.shift().value.length)}for(mt=pe.needsContext.test(re)?0:Zt.length;mt--&&(oi=Zt[mt],!O.relative[hi=oi.type]);)if((bi=O.find[hi])&&(Gt=bi(oi.matches[0].replace(Di,Qi),Ui.test(Zt[0].type)&&Zo(Ie.parentNode)||Ie))){if(Zt.splice(mt,1),re=Gt.length&&Jo(Zt),!re)return er.apply(lt,Gt),lt;break}}return(Hi||He(re,Ni))(Gt,Ie,!R,lt,!Ie||Ui.test(re)&&Zo(Ie.parentNode)||Ie),lt},A.sortStable=me.split("").sort(Oi).join("")===me,A.detectDuplicates=!!ri,Ot(),A.sortDetached=mn(function(re){return re.compareDocumentPosition(st.createElement("fieldset"))&1}),mn(function(re){return re.innerHTML="<a href='#'></a>",re.firstChild.getAttribute("href")==="#"})||Ko("type|href|height|width",function(re,Ie,lt){if(!lt)return re.getAttribute(Ie,Ie.toLowerCase()==="type"?1:2)}),(!A.attributes||!mn(function(re){return re.innerHTML="<input/>",re.firstChild.setAttribute("value",""),re.firstChild.getAttribute("value")===""}))&&Ko("value",function(re,Ie,lt){if(!lt&&re.nodeName.toLowerCase()==="input")return re.defaultValue}),mn(function(re){return re.getAttribute("disabled")==null})||Ko(Rr,function(re,Ie,lt){var Gt;if(!lt)return re[Ie]===!0?Ie.toLowerCase():(Gt=re.getAttributeNode(Ie))&&Gt.specified?Gt.value:null}),dr}(r);d.find=C,d.expr=C.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=C.uniqueSort,d.text=C.getText,d.isXMLDoc=C.isXML,d.contains=C.contains,d.escapeSelector=C.escape;var N=function(f,b,A){for(var O=[],H=A!==void 0;(f=f[b])&&f.nodeType!==9;)if(f.nodeType===1){if(H&&d(f).is(A))break;O.push(f)}return O},G=function(f,b){for(var A=[];f;f=f.nextSibling)f.nodeType===1&&f!==b&&A.push(f);return A},q=d.expr.match.needsContext;function K(f,b){return f.nodeName&&f.nodeName.toLowerCase()===b.toLowerCase()}var ie=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Q(f,b,A){return S(b)?d.grep(f,function(O,H){return!!b.call(O,H,O)!==A}):b.nodeType?d.grep(f,function(O){return O===b!==A}):typeof b!="string"?d.grep(f,function(O){return p.call(b,O)>-1!==A}):d.filter(b,f,A)}d.filter=function(f,b,A){var O=b[0];return A&&(f=":not("+f+")"),b.length===1&&O.nodeType===1?d.find.matchesSelector(O,f)?[O]:[]:d.find.matches(f,d.grep(b,function(H){return H.nodeType===1}))},d.fn.extend({find:function(f){var b,A,O=this.length,H=this;if(typeof f!="string")return this.pushStack(d(f).filter(function(){for(b=0;b<O;b++)if(d.contains(H[b],this))return!0}));for(A=this.pushStack([]),b=0;b<O;b++)d.find(f,H[b],A);return O>1?d.uniqueSort(A):A},filter:function(f){return this.pushStack(Q(this,f||[],!1))},not:function(f){return this.pushStack(Q(this,f||[],!0))},is:function(f){return!!Q(this,typeof f=="string"&&q.test(f)?d(f):f||[],!1).length}});var te,Oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,fe=d.fn.init=function(f,b,A){var O,H;if(!f)return this;if(A=A||te,typeof f=="string")if(f[0]==="<"&&f[f.length-1]===">"&&f.length>=3?O=[null,f,null]:O=Oe.exec(f),O&&(O[1]||!b))if(O[1]){if(b=b instanceof d?b[0]:b,d.merge(this,d.parseHTML(O[1],b&&b.nodeType?b.ownerDocument||b:E,!0)),ie.test(O[1])&&d.isPlainObject(b))for(O in b)S(this[O])?this[O](b[O]):this.attr(O,b[O]);return this}else return H=E.getElementById(O[2]),H&&(this[0]=H,this.length=1),this;else return!b||b.jquery?(b||A).find(f):this.constructor(b).find(f);else{if(f.nodeType)return this[0]=f,this.length=1,this;if(S(f))return A.ready!==void 0?A.ready(f):f(d)}return d.makeArray(f,this)};fe.prototype=d.fn,te=d(E);var W=/^(?:parents|prev(?:Until|All))/,ae={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(f){var b=d(f,this),A=b.length;return this.filter(function(){for(var O=0;O<A;O++)if(d.contains(this,b[O]))return!0})},closest:function(f,b){var A,O=0,H=this.length,F=[],X=typeof f!="string"&&d(f);if(!q.test(f)){for(;O<H;O++)for(A=this[O];A&&A!==b;A=A.parentNode)if(A.nodeType<11&&(X?X.index(A)>-1:A.nodeType===1&&d.find.matchesSelector(A,f))){F.push(A);break}}return this.pushStack(F.length>1?d.uniqueSort(F):F)},index:function(f){return f?typeof f=="string"?p.call(d(f),this[0]):p.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,b){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(f,b))))},addBack:function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))}});function de(f,b){for(;(f=f[b])&&f.nodeType!==1;);return f}d.each({parent:function(f){var b=f.parentNode;return b&&b.nodeType!==11?b:null},parents:function(f){return N(f,"parentNode")},parentsUntil:function(f,b,A){return N(f,"parentNode",A)},next:function(f){return de(f,"nextSibling")},prev:function(f){return de(f,"previousSibling")},nextAll:function(f){return N(f,"nextSibling")},prevAll:function(f){return N(f,"previousSibling")},nextUntil:function(f,b,A){return N(f,"nextSibling",A)},prevUntil:function(f,b,A){return N(f,"previousSibling",A)},siblings:function(f){return G((f.parentNode||{}).firstChild,f)},children:function(f){return G(f.firstChild)},contents:function(f){return f.contentDocument!=null&&o(f.contentDocument)?f.contentDocument:(K(f,"template")&&(f=f.content||f),d.merge([],f.childNodes))}},function(f,b){d.fn[f]=function(A,O){var H=d.map(this,b,A);return f.slice(-5)!=="Until"&&(O=A),O&&typeof O=="string"&&(H=d.filter(O,H)),this.length>1&&(ae[f]||d.uniqueSort(H),W.test(f)&&H.reverse()),this.pushStack(H)}});var Z=/[^\x20\t\r\n\f]+/g;function ye(f){var b={};return d.each(f.match(Z)||[],function(A,O){b[O]=!0}),b}d.Callbacks=function(f){f=typeof f=="string"?ye(f):d.extend({},f);var b,A,O,H,F=[],X=[],He=-1,Pe=function(){for(H=H||f.once,O=b=!0;X.length;He=-1)for(A=X.shift();++He<F.length;)F[He].apply(A[0],A[1])===!1&&f.stopOnFalse&&(He=F.length,A=!1);f.memory||(A=!1),b=!1,H&&(A?F=[]:F="")},gt={add:function(){return F&&(A&&!b&&(He=F.length-1,X.push(A)),function Dt(ri){d.each(ri,function(Ot,st){S(st)?(!f.unique||!gt.has(st))&&F.push(st):st&&st.length&&h(st)!=="string"&&Dt(st)})}(arguments),A&&!b&&Pe()),this},remove:function(){return d.each(arguments,function(Dt,ri){for(var Ot;(Ot=d.inArray(ri,F,Ot))>-1;)F.splice(Ot,1),Ot<=He&&He--}),this},has:function(Dt){return Dt?d.inArray(Dt,F)>-1:F.length>0},empty:function(){return F&&(F=[]),this},disable:function(){return H=X=[],F=A="",this},disabled:function(){return!F},lock:function(){return H=X=[],!A&&!b&&(F=A=""),this},locked:function(){return!!H},fireWith:function(Dt,ri){return H||(ri=ri||[],ri=[Dt,ri.slice?ri.slice():ri],X.push(ri),b||Pe()),this},fire:function(){return gt.fireWith(this,arguments),this},fired:function(){return!!O}};return gt};function Y(f){return f}function ce(f){throw f}function Ze(f,b,A,O){var H;try{f&&S(H=f.promise)?H.call(f).done(b).fail(A):f&&S(H=f.then)?H.call(f,b,A):b.apply(void 0,[f].slice(O))}catch(F){A.apply(void 0,[F])}}d.extend({Deferred:function(f){var b=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],A="pending",O={state:function(){return A},always:function(){return H.done(arguments).fail(arguments),this},catch:function(F){return O.then(null,F)},pipe:function(){var F=arguments;return d.Deferred(function(X){d.each(b,function(He,Pe){var gt=S(F[Pe[4]])&&F[Pe[4]];H[Pe[1]](function(){var Dt=gt&&gt.apply(this,arguments);Dt&&S(Dt.promise)?Dt.promise().progress(X.notify).done(X.resolve).fail(X.reject):X[Pe[0]+"With"](this,gt?[Dt]:arguments)})}),F=null}).promise()},then:function(F,X,He){var Pe=0;function gt(Dt,ri,Ot,st){return function(){var Li=this,R=arguments,M=function(){var U,se;if(!(Dt<Pe)){if(U=Ot.apply(Li,R),U===ri.promise())throw new TypeError("Thenable self-resolution");se=U&&(typeof U=="object"||typeof U=="function")&&U.then,S(se)?st?se.call(U,gt(Pe,ri,Y,st),gt(Pe,ri,ce,st)):(Pe++,se.call(U,gt(Pe,ri,Y,st),gt(Pe,ri,ce,st),gt(Pe,ri,Y,ri.notifyWith))):(Ot!==Y&&(Li=void 0,R=[U]),(st||ri.resolveWith)(Li,R))}},j=st?M:function(){try{M()}catch(U){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(U,j.stackTrace),Dt+1>=Pe&&(Ot!==ce&&(Li=void 0,R=[U]),ri.rejectWith(Li,R))}};Dt?j():(d.Deferred.getStackHook&&(j.stackTrace=d.Deferred.getStackHook()),r.setTimeout(j))}}return d.Deferred(function(Dt){b[0][3].add(gt(0,Dt,S(He)?He:Y,Dt.notifyWith)),b[1][3].add(gt(0,Dt,S(F)?F:Y)),b[2][3].add(gt(0,Dt,S(X)?X:ce))}).promise()},promise:function(F){return F!=null?d.extend(F,O):O}},H={};return d.each(b,function(F,X){var He=X[2],Pe=X[5];O[X[1]]=He.add,Pe&&He.add(function(){A=Pe},b[3-F][2].disable,b[3-F][3].disable,b[0][2].lock,b[0][3].lock),He.add(X[3].fire),H[X[0]]=function(){return H[X[0]+"With"](this===H?void 0:this,arguments),this},H[X[0]+"With"]=He.fireWith}),O.promise(H),f&&f.call(H,H),H},when:function(f){var b=arguments.length,A=b,O=Array(A),H=c.call(arguments),F=d.Deferred(),X=function(He){return function(Pe){O[He]=this,H[He]=arguments.length>1?c.call(arguments):Pe,--b||F.resolveWith(O,H)}};if(b<=1&&(Ze(f,F.done(X(A)).resolve,F.reject,!b),F.state()==="pending"||S(H[A]&&H[A].then)))return F.then();for(;A--;)Ze(H[A],X(A),F.reject);return F.promise()}});var ft=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(f,b){r.console&&r.console.warn&&f&&ft.test(f.name)&&r.console.warn("jQuery.Deferred exception: "+f.message,f.stack,b)},d.readyException=function(f){r.setTimeout(function(){throw f})};var ct=d.Deferred();d.fn.ready=function(f){return ct.then(f).catch(function(b){d.readyException(b)}),this},d.extend({isReady:!1,readyWait:1,ready:function(f){(f===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(f!==!0&&--d.readyWait>0)&&ct.resolveWith(E,[d]))}}),d.ready.then=ct.then;function Ge(){E.removeEventListener("DOMContentLoaded",Ge),r.removeEventListener("load",Ge),d.ready()}E.readyState==="complete"||E.readyState!=="loading"&&!E.documentElement.doScroll?r.setTimeout(d.ready):(E.addEventListener("DOMContentLoaded",Ge),r.addEventListener("load",Ge));var Ae=function(f,b,A,O,H,F,X){var He=0,Pe=f.length,gt=A==null;if(h(A)==="object"){H=!0;for(He in A)Ae(f,b,He,A[He],!0,F,X)}else if(O!==void 0&&(H=!0,S(O)||(X=!0),gt&&(X?(b.call(f,O),b=null):(gt=b,b=function(Dt,ri,Ot){return gt.call(d(Dt),Ot)})),b))for(;He<Pe;He++)b(f[He],A,X?O:O.call(f[He],He,b(f[He],A)));return H?f:gt?b.call(f):Pe?b(f[0],A):F},Me=/^-ms-/,De=/-([a-z])/g;function Ne(f,b){return b.toUpperCase()}function Ve(f){return f.replace(Me,"ms-").replace(De,Ne)}var rt=function(f){return f.nodeType===1||f.nodeType===9||!+f.nodeType};function je(){this.expando=d.expando+je.uid++}je.uid=1,je.prototype={cache:function(f){var b=f[this.expando];return b||(b={},rt(f)&&(f.nodeType?f[this.expando]=b:Object.defineProperty(f,this.expando,{value:b,configurable:!0}))),b},set:function(f,b,A){var O,H=this.cache(f);if(typeof b=="string")H[Ve(b)]=A;else for(O in b)H[Ve(O)]=b[O];return H},get:function(f,b){return b===void 0?this.cache(f):f[this.expando]&&f[this.expando][Ve(b)]},access:function(f,b,A){return b===void 0||b&&typeof b=="string"&&A===void 0?this.get(f,b):(this.set(f,b,A),A!==void 0?A:b)},remove:function(f,b){var A,O=f[this.expando];if(O!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(Ve):(b=Ve(b),b=b in O?[b]:b.match(Z)||[]),A=b.length;A--;)delete O[b[A]];(b===void 0||d.isEmptyObject(O))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var b=f[this.expando];return b!==void 0&&!d.isEmptyObject(b)}};var ee=new je,J=new je,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/[A-Z]/g;function we(f){return f==="true"?!0:f==="false"?!1:f==="null"?null:f===+f+""?+f:qe.test(f)?JSON.parse(f):f}function $e(f,b,A){var O;if(A===void 0&&f.nodeType===1)if(O="data-"+b.replace(_t,"-$&").toLowerCase(),A=f.getAttribute(O),typeof A=="string"){try{A=we(A)}catch(H){}J.set(f,b,A)}else A=void 0;return A}d.extend({hasData:function(f){return J.hasData(f)||ee.hasData(f)},data:function(f,b,A){return J.access(f,b,A)},removeData:function(f,b){J.remove(f,b)},_data:function(f,b,A){return ee.access(f,b,A)},_removeData:function(f,b){ee.remove(f,b)}}),d.fn.extend({data:function(f,b){var A,O,H,F=this[0],X=F&&F.attributes;if(f===void 0){if(this.length&&(H=J.get(F),F.nodeType===1&&!ee.get(F,"hasDataAttrs"))){for(A=X.length;A--;)X[A]&&(O=X[A].name,O.indexOf("data-")===0&&(O=Ve(O.slice(5)),$e(F,O,H[O])));ee.set(F,"hasDataAttrs",!0)}return H}return typeof f=="object"?this.each(function(){J.set(this,f)}):Ae(this,function(He){var Pe;if(F&&He===void 0)return Pe=J.get(F,f),Pe!==void 0||(Pe=$e(F,f),Pe!==void 0)?Pe:void 0;this.each(function(){J.set(this,f,He)})},null,b,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){J.remove(this,f)})}}),d.extend({queue:function(f,b,A){var O;if(f)return b=(b||"fx")+"queue",O=ee.get(f,b),A&&(!O||Array.isArray(A)?O=ee.access(f,b,d.makeArray(A)):O.push(A)),O||[]},dequeue:function(f,b){b=b||"fx";var A=d.queue(f,b),O=A.length,H=A.shift(),F=d._queueHooks(f,b),X=function(){d.dequeue(f,b)};H==="inprogress"&&(H=A.shift(),O--),H&&(b==="fx"&&A.unshift("inprogress"),delete F.stop,H.call(f,X,F)),!O&&F&&F.empty.fire()},_queueHooks:function(f,b){var A=b+"queueHooks";return ee.get(f,A)||ee.access(f,A,{empty:d.Callbacks("once memory").add(function(){ee.remove(f,[b+"queue",A])})})}}),d.fn.extend({queue:function(f,b){var A=2;return typeof f!="string"&&(b=f,f="fx",A--),arguments.length<A?d.queue(this[0],f):b===void 0?this:this.each(function(){var O=d.queue(this,f,b);d._queueHooks(this,f),f==="fx"&&O[0]!=="inprogress"&&d.dequeue(this,f)})},dequeue:function(f){return this.each(function(){d.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,b){var A,O=1,H=d.Deferred(),F=this,X=this.length,He=function(){--O||H.resolveWith(F,[F])};for(typeof f!="string"&&(b=f,f=void 0),f=f||"fx";X--;)A=ee.get(F[X],f+"queueHooks"),A&&A.empty&&(O++,A.empty.add(He));return He(),H.promise(b)}});var at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),tt=["Top","Right","Bottom","Left"],nt=E.documentElement,Vt=function(f){return d.contains(f.ownerDocument,f)},dt={composed:!0};nt.getRootNode&&(Vt=function(f){return d.contains(f.ownerDocument,f)||f.getRootNode(dt)===f.ownerDocument});var vt=function(f,b){return f=b||f,f.style.display==="none"||f.style.display===""&&Vt(f)&&d.css(f,"display")==="none"};function Rt(f,b,A,O){var H,F,X=20,He=O?function(){return O.cur()}:function(){return d.css(f,b,"")},Pe=He(),gt=A&&A[3]||(d.cssNumber[b]?"":"px"),Dt=f.nodeType&&(d.cssNumber[b]||gt!=="px"&&+Pe)&&Ee.exec(d.css(f,b));if(Dt&&Dt[3]!==gt){for(Pe=Pe/2,gt=gt||Dt[3],Dt=+Pe||1;X--;)d.style(f,b,Dt+gt),(1-F)*(1-(F=He()/Pe||.5))<=0&&(X=0),Dt=Dt/F;Dt=Dt*2,d.style(f,b,Dt+gt),A=A||[]}return A&&(Dt=+Dt||+Pe||0,H=A[1]?Dt+(A[1]+1)*A[2]:+A[2],O&&(O.unit=gt,O.start=Dt,O.end=H)),H}var ii={};function ai(f){var b,A=f.ownerDocument,O=f.nodeName,H=ii[O];return H||(b=A.body.appendChild(A.createElement(O)),H=d.css(b,"display"),b.parentNode.removeChild(b),H==="none"&&(H="block"),ii[O]=H,H)}function ui(f,b){for(var A,O,H=[],F=0,X=f.length;F<X;F++)O=f[F],O.style&&(A=O.style.display,b?(A==="none"&&(H[F]=ee.get(O,"display")||null,H[F]||(O.style.display="")),O.style.display===""&&vt(O)&&(H[F]=ai(O))):A!=="none"&&(H[F]="none",ee.set(O,"display",A)));for(F=0;F<X;F++)H[F]!=null&&(f[F].style.display=H[F]);return f}d.fn.extend({show:function(){return ui(this,!0)},hide:function(){return ui(this)},toggle:function(f){return typeof f=="boolean"?f?this.show():this.hide():this.each(function(){vt(this)?d(this).show():d(this).hide()})}});var Mt=/^(?:checkbox|radio)$/i,It=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Et=/^$|^module$|\/(?:java|ecma)script/i;(function(){var f=E.createDocumentFragment(),b=f.appendChild(E.createElement("div")),A=E.createElement("input");A.setAttribute("type","radio"),A.setAttribute("checked","checked"),A.setAttribute("name","t"),b.appendChild(A),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",k.option=!!b.lastChild})();var Ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ct.tbody=Ct.tfoot=Ct.colgroup=Ct.caption=Ct.thead,Ct.th=Ct.td,k.option||(Ct.optgroup=Ct.option=[1,"<select multiple='multiple'>","</select>"]);function St(f,b){var A;return typeof f.getElementsByTagName<"u"?A=f.getElementsByTagName(b||"*"):typeof f.querySelectorAll<"u"?A=f.querySelectorAll(b||"*"):A=[],b===void 0||b&&K(f,b)?d.merge([f],A):A}function I(f,b){for(var A=0,O=f.length;A<O;A++)ee.set(f[A],"globalEval",!b||ee.get(b[A],"globalEval"))}var We=/<|&#?\w+;/;function ke(f,b,A,O,H){for(var F,X,He,Pe,gt,Dt,ri=b.createDocumentFragment(),Ot=[],st=0,Li=f.length;st<Li;st++)if(F=f[st],F||F===0)if(h(F)==="object")d.merge(Ot,F.nodeType?[F]:F);else if(!We.test(F))Ot.push(b.createTextNode(F));else{for(X=X||ri.appendChild(b.createElement("div")),He=(It.exec(F)||["",""])[1].toLowerCase(),Pe=Ct[He]||Ct._default,X.innerHTML=Pe[1]+d.htmlPrefilter(F)+Pe[2],Dt=Pe[0];Dt--;)X=X.lastChild;d.merge(Ot,X.childNodes),X=ri.firstChild,X.textContent=""}for(ri.textContent="",st=0;F=Ot[st++];){if(O&&d.inArray(F,O)>-1){H&&H.push(F);continue}if(gt=Vt(F),X=St(ri.appendChild(F),"script"),gt&&I(X),A)for(Dt=0;F=X[Dt++];)Et.test(F.type||"")&&A.push(F)}return ri}var Ye=/^([^.]*)(?:\.(.+)|)/;function Qe(){return!0}function ht(){return!1}function oe(f,b){return f===Le()==(b==="focus")}function Le(){try{return E.activeElement}catch(f){}}function ze(f,b,A,O,H,F){var X,He;if(typeof b=="object"){typeof A!="string"&&(O=O||A,A=void 0);for(He in b)ze(f,He,A,O,b[He],F);return f}if(O==null&&H==null?(H=A,O=A=void 0):H==null&&(typeof A=="string"?(H=O,O=void 0):(H=O,O=A,A=void 0)),H===!1)H=ht;else if(!H)return f;return F===1&&(X=H,H=function(Pe){return d().off(Pe),X.apply(this,arguments)},H.guid=X.guid||(X.guid=d.guid++)),f.each(function(){d.event.add(this,b,H,O,A)})}d.event={global:{},add:function(f,b,A,O,H){var F,X,He,Pe,gt,Dt,ri,Ot,st,Li,R,M=ee.get(f);if(rt(f))for(A.handler&&(F=A,A=F.handler,H=F.selector),H&&d.find.matchesSelector(nt,H),A.guid||(A.guid=d.guid++),(Pe=M.events)||(Pe=M.events=Object.create(null)),(X=M.handle)||(X=M.handle=function(j){return typeof d<"u"&&d.event.triggered!==j.type?d.event.dispatch.apply(f,arguments):void 0}),b=(b||"").match(Z)||[""],gt=b.length;gt--;)He=Ye.exec(b[gt])||[],st=R=He[1],Li=(He[2]||"").split(".").sort(),st&&(ri=d.event.special[st]||{},st=(H?ri.delegateType:ri.bindType)||st,ri=d.event.special[st]||{},Dt=d.extend({type:st,origType:R,data:O,handler:A,guid:A.guid,selector:H,needsContext:H&&d.expr.match.needsContext.test(H),namespace:Li.join(".")},F),(Ot=Pe[st])||(Ot=Pe[st]=[],Ot.delegateCount=0,(!ri.setup||ri.setup.call(f,O,Li,X)===!1)&&f.addEventListener&&f.addEventListener(st,X)),ri.add&&(ri.add.call(f,Dt),Dt.handler.guid||(Dt.handler.guid=A.guid)),H?Ot.splice(Ot.delegateCount++,0,Dt):Ot.push(Dt),d.event.global[st]=!0)},remove:function(f,b,A,O,H){var F,X,He,Pe,gt,Dt,ri,Ot,st,Li,R,M=ee.hasData(f)&&ee.get(f);if(!(!M||!(Pe=M.events))){for(b=(b||"").match(Z)||[""],gt=b.length;gt--;){if(He=Ye.exec(b[gt])||[],st=R=He[1],Li=(He[2]||"").split(".").sort(),!st){for(st in Pe)d.event.remove(f,st+b[gt],A,O,!0);continue}for(ri=d.event.special[st]||{},st=(O?ri.delegateType:ri.bindType)||st,Ot=Pe[st]||[],He=He[2]&&new RegExp("(^|\\.)"+Li.join("\\.(?:.*\\.|)")+"(\\.|$)"),X=F=Ot.length;F--;)Dt=Ot[F],(H||R===Dt.origType)&&(!A||A.guid===Dt.guid)&&(!He||He.test(Dt.namespace))&&(!O||O===Dt.selector||O==="**"&&Dt.selector)&&(Ot.splice(F,1),Dt.selector&&Ot.delegateCount--,ri.remove&&ri.remove.call(f,Dt));X&&!Ot.length&&((!ri.teardown||ri.teardown.call(f,Li,M.handle)===!1)&&d.removeEvent(f,st,M.handle),delete Pe[st])}d.isEmptyObject(Pe)&&ee.remove(f,"handle events")}},dispatch:function(f){var b,A,O,H,F,X,He=new Array(arguments.length),Pe=d.event.fix(f),gt=(ee.get(this,"events")||Object.create(null))[Pe.type]||[],Dt=d.event.special[Pe.type]||{};for(He[0]=Pe,b=1;b<arguments.length;b++)He[b]=arguments[b];if(Pe.delegateTarget=this,!(Dt.preDispatch&&Dt.preDispatch.call(this,Pe)===!1)){for(X=d.event.handlers.call(this,Pe,gt),b=0;(H=X[b++])&&!Pe.isPropagationStopped();)for(Pe.currentTarget=H.elem,A=0;(F=H.handlers[A++])&&!Pe.isImmediatePropagationStopped();)(!Pe.rnamespace||F.namespace===!1||Pe.rnamespace.test(F.namespace))&&(Pe.handleObj=F,Pe.data=F.data,O=((d.event.special[F.origType]||{}).handle||F.handler).apply(H.elem,He),O!==void 0&&(Pe.result=O)===!1&&(Pe.preventDefault(),Pe.stopPropagation()));return Dt.postDispatch&&Dt.postDispatch.call(this,Pe),Pe.result}},handlers:function(f,b){var A,O,H,F,X,He=[],Pe=b.delegateCount,gt=f.target;if(Pe&&gt.nodeType&&!(f.type==="click"&&f.button>=1)){for(;gt!==this;gt=gt.parentNode||this)if(gt.nodeType===1&&!(f.type==="click"&&gt.disabled===!0)){for(F=[],X={},A=0;A<Pe;A++)O=b[A],H=O.selector+" ",X[H]===void 0&&(X[H]=O.needsContext?d(H,this).index(gt)>-1:d.find(H,this,null,[gt]).length),X[H]&&F.push(O);F.length&&He.push({elem:gt,handlers:F})}}return gt=this,Pe<b.length&&He.push({elem:gt,handlers:b.slice(Pe)}),He},addProp:function(f,b){Object.defineProperty(d.Event.prototype,f,{enumerable:!0,configurable:!0,get:S(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(A){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:A})}})},fix:function(f){return f[d.expando]?f:new d.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var b=this||f;return Mt.test(b.type)&&b.click&&K(b,"input")&&yt(b,"click",Qe),!1},trigger:function(f){var b=this||f;return Mt.test(b.type)&&b.click&&K(b,"input")&&yt(b,"click"),!0},_default:function(f){var b=f.target;return Mt.test(b.type)&&b.click&&K(b,"input")&&ee.get(b,"click")||K(b,"a")}},beforeunload:{postDispatch:function(f){f.result!==void 0&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};function yt(f,b,A){if(!A){ee.get(f,b)===void 0&&d.event.add(f,b,Qe);return}ee.set(f,b,!1),d.event.add(f,b,{namespace:!1,handler:function(O){var H,F,X=ee.get(this,b);if(O.isTrigger&1&&this[b]){if(X.length)(d.event.special[b]||{}).delegateType&&O.stopPropagation();else if(X=c.call(arguments),ee.set(this,b,X),H=A(this,b),this[b](),F=ee.get(this,b),X!==F||H?ee.set(this,b,!1):F={},X!==F)return O.stopImmediatePropagation(),O.preventDefault(),F&&F.value}else X.length&&(ee.set(this,b,{value:d.event.trigger(d.extend(X[0],d.Event.prototype),X.slice(1),this)}),O.stopImmediatePropagation())}})}d.removeEvent=function(f,b,A){f.removeEventListener&&f.removeEventListener(b,A)},d.Event=function(f,b){if(!(this instanceof d.Event))return new d.Event(f,b);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||f.defaultPrevented===void 0&&f.returnValue===!1?Qe:ht,this.target=f.target&&f.target.nodeType===3?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,b&&d.extend(this,b),this.timeStamp=f&&f.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:ht,isPropagationStopped:ht,isImmediatePropagationStopped:ht,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Qe,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Qe,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Qe,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(f,b){d.event.special[f]={setup:function(){return yt(this,f,oe),!1},trigger:function(){return yt(this,f),!0},_default:function(A){return ee.get(A.target,f)},delegateType:b}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,b){d.event.special[f]={delegateType:b,bindType:b,handle:function(A){var O,H=this,F=A.relatedTarget,X=A.handleObj;return(!F||F!==H&&!d.contains(H,F))&&(A.type=X.origType,O=X.handler.apply(this,arguments),A.type=b),O}}}),d.fn.extend({on:function(f,b,A,O){return ze(this,f,b,A,O)},one:function(f,b,A,O){return ze(this,f,b,A,O,1)},off:function(f,b,A){var O,H;if(f&&f.preventDefault&&f.handleObj)return O=f.handleObj,d(f.delegateTarget).off(O.namespace?O.origType+"."+O.namespace:O.origType,O.selector,O.handler),this;if(typeof f=="object"){for(H in f)this.off(H,b,f[H]);return this}return(b===!1||typeof b=="function")&&(A=b,b=void 0),A===!1&&(A=ht),this.each(function(){d.event.remove(this,f,A,b)})}});var ut=/<script|<style|<link/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Jt(f,b){return K(f,"table")&&K(b.nodeType!==11?b:b.firstChild,"tr")&&d(f).children("tbody")[0]||f}function Lt(f){return f.type=(f.getAttribute("type")!==null)+"/"+f.type,f}function jt(f){return(f.type||"").slice(0,5)==="true/"?f.type=f.type.slice(5):f.removeAttribute("type"),f}function Je(f,b){var A,O,H,F,X,He,Pe;if(b.nodeType===1){if(ee.hasData(f)&&(F=ee.get(f),Pe=F.events,Pe)){ee.remove(b,"handle events");for(H in Pe)for(A=0,O=Pe[H].length;A<O;A++)d.event.add(b,H,Pe[H][A])}J.hasData(f)&&(X=J.access(f),He=d.extend({},X),J.set(b,He))}}function Re(f,b){var A=b.nodeName.toLowerCase();A==="input"&&Mt.test(f.type)?b.checked=f.checked:(A==="input"||A==="textarea")&&(b.defaultValue=f.defaultValue)}function Be(f,b,A,O){b=n(b);var H,F,X,He,Pe,gt,Dt=0,ri=f.length,Ot=ri-1,st=b[0],Li=S(st);if(Li||ri>1&&typeof st=="string"&&!k.checkClone&&Tt.test(st))return f.each(function(R){var M=f.eq(R);Li&&(b[0]=st.call(this,R,M.html())),Be(M,b,A,O)});if(ri&&(H=ke(b,f[0].ownerDocument,!1,f,O),F=H.firstChild,H.childNodes.length===1&&(H=F),F||O)){for(X=d.map(St(H,"script"),Lt),He=X.length;Dt<ri;Dt++)Pe=H,Dt!==Ot&&(Pe=d.clone(Pe,!0,!0),He&&d.merge(X,St(Pe,"script"))),A.call(f[Dt],Pe,Dt);if(He)for(gt=X[X.length-1].ownerDocument,d.map(X,jt),Dt=0;Dt<He;Dt++)Pe=X[Dt],Et.test(Pe.type||"")&&!ee.access(Pe,"globalEval")&&d.contains(gt,Pe)&&(Pe.src&&(Pe.type||"").toLowerCase()!=="module"?d._evalUrl&&!Pe.noModule&&d._evalUrl(Pe.src,{nonce:Pe.nonce||Pe.getAttribute("nonce")},gt):s(Pe.textContent.replace(Ut,""),Pe,gt))}return f}function it(f,b,A){for(var O,H=b?d.filter(b,f):f,F=0;(O=H[F])!=null;F++)!A&&O.nodeType===1&&d.cleanData(St(O)),O.parentNode&&(A&&Vt(O)&&I(St(O,"script")),O.parentNode.removeChild(O));return f}d.extend({htmlPrefilter:function(f){return f},clone:function(f,b,A){var O,H,F,X,He=f.cloneNode(!0),Pe=Vt(f);if(!k.noCloneChecked&&(f.nodeType===1||f.nodeType===11)&&!d.isXMLDoc(f))for(X=St(He),F=St(f),O=0,H=F.length;O<H;O++)Re(F[O],X[O]);if(b)if(A)for(F=F||St(f),X=X||St(He),O=0,H=F.length;O<H;O++)Je(F[O],X[O]);else Je(f,He);return X=St(He,"script"),X.length>0&&I(X,!Pe&&St(f,"script")),He},cleanData:function(f){for(var b,A,O,H=d.event.special,F=0;(A=f[F])!==void 0;F++)if(rt(A)){if(b=A[ee.expando]){if(b.events)for(O in b.events)H[O]?d.event.remove(A,O):d.removeEvent(A,O,b.handle);A[ee.expando]=void 0}A[J.expando]&&(A[J.expando]=void 0)}}}),d.fn.extend({detach:function(f){return it(this,f,!0)},remove:function(f){return it(this,f)},text:function(f){return Ae(this,function(b){return b===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,f,arguments.length)},append:function(){return Be(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Jt(this,f);b.appendChild(f)}})},prepend:function(){return Be(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Jt(this,f);b.insertBefore(f,b.firstChild)}})},before:function(){return Be(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return Be(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,b=0;(f=this[b])!=null;b++)f.nodeType===1&&(d.cleanData(St(f,!1)),f.textContent="");return this},clone:function(f,b){return f=f!=null?f:!1,b=b!=null?b:f,this.map(function(){return d.clone(this,f,b)})},html:function(f){return Ae(this,function(b){var A=this[0]||{},O=0,H=this.length;if(b===void 0&&A.nodeType===1)return A.innerHTML;if(typeof b=="string"&&!ut.test(b)&&!Ct[(It.exec(b)||["",""])[1].toLowerCase()]){b=d.htmlPrefilter(b);try{for(;O<H;O++)A=this[O]||{},A.nodeType===1&&(d.cleanData(St(A,!1)),A.innerHTML=b);A=0}catch(F){}}A&&this.empty().append(b)},null,f,arguments.length)},replaceWith:function(){var f=[];return Be(this,arguments,function(b){var A=this.parentNode;d.inArray(this,f)<0&&(d.cleanData(St(this)),A&&A.replaceChild(b,this))},f)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,b){d.fn[f]=function(A){for(var O,H=[],F=d(A),X=F.length-1,He=0;He<=X;He++)O=He===X?this:this.clone(!0),d(F[He])[b](O),u.apply(H,O.get());return this.pushStack(H)}});var Pt=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),Ht=/^--/,et=function(f){var b=f.ownerDocument.defaultView;return(!b||!b.opener)&&(b=r),b.getComputedStyle(f)},xt=function(f,b,A){var O,H,F={};for(H in b)F[H]=f.style[H],f.style[H]=b[H];O=A.call(f);for(H in b)f.style[H]=F[H];return O},kt=new RegExp(tt.join("|"),"i"),Xt="[\\x20\\t\\r\\n\\f]",Xe=new RegExp("^"+Xt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Xt+"+$","g");(function(){function f(){if(gt){Pe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",gt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(Pe).appendChild(gt);var Dt=r.getComputedStyle(gt);A=Dt.top!=="1%",He=b(Dt.marginLeft)===12,gt.style.right="60%",F=b(Dt.right)===36,O=b(Dt.width)===36,gt.style.position="absolute",H=b(gt.offsetWidth/3)===12,nt.removeChild(Pe),gt=null}}function b(Dt){return Math.round(parseFloat(Dt))}var A,O,H,F,X,He,Pe=E.createElement("div"),gt=E.createElement("div");gt.style&&(gt.style.backgroundClip="content-box",gt.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=gt.style.backgroundClip==="content-box",d.extend(k,{boxSizingReliable:function(){return f(),O},pixelBoxStyles:function(){return f(),F},pixelPosition:function(){return f(),A},reliableMarginLeft:function(){return f(),He},scrollboxSize:function(){return f(),H},reliableTrDimensions:function(){var Dt,ri,Ot,st;return X==null&&(Dt=E.createElement("table"),ri=E.createElement("tr"),Ot=E.createElement("div"),Dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ri.style.cssText="border:1px solid",ri.style.height="1px",Ot.style.height="9px",Ot.style.display="block",nt.appendChild(Dt).appendChild(ri).appendChild(Ot),st=r.getComputedStyle(ri),X=parseInt(st.height,10)+parseInt(st.borderTopWidth,10)+parseInt(st.borderBottomWidth,10)===ri.offsetHeight,nt.removeChild(Dt)),X}}))})();function ni(f,b,A){var O,H,F,X,He=Ht.test(b),Pe=f.style;return A=A||et(f),A&&(X=A.getPropertyValue(b)||A[b],He&&(X=X.replace(Xe,"$1")),X===""&&!Vt(f)&&(X=d.style(f,b)),!k.pixelBoxStyles()&&Pt.test(X)&&kt.test(b)&&(O=Pe.width,H=Pe.minWidth,F=Pe.maxWidth,Pe.minWidth=Pe.maxWidth=Pe.width=X,X=A.width,Pe.width=O,Pe.minWidth=H,Pe.maxWidth=F)),X!==void 0?X+"":X}function ti(f,b){return{get:function(){if(f()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var Ai=["Webkit","Moz","ms"],qt=E.createElement("div").style,ci={};function Ti(f){for(var b=f[0].toUpperCase()+f.slice(1),A=Ai.length;A--;)if(f=Ai[A]+b,f in qt)return f}function Mi(f){var b=d.cssProps[f]||ci[f];return b||(f in qt?f:ci[f]=Ti(f)||f)}var ir=/^(none|table(?!-c[ea]).+)/,Ki={position:"absolute",visibility:"hidden",display:"block"},Gi={letterSpacing:"0",fontWeight:"400"};function Sr(f,b,A){var O=Ee.exec(b);return O?Math.max(0,O[2]-(A||0))+(O[3]||"px"):b}function tr(f,b,A,O,H,F){var X=b==="width"?1:0,He=0,Pe=0;if(A===(O?"border":"content"))return 0;for(;X<4;X+=2)A==="margin"&&(Pe+=d.css(f,A+tt[X],!0,H)),O?(A==="content"&&(Pe-=d.css(f,"padding"+tt[X],!0,H)),A!=="margin"&&(Pe-=d.css(f,"border"+tt[X]+"Width",!0,H))):(Pe+=d.css(f,"padding"+tt[X],!0,H),A!=="padding"?Pe+=d.css(f,"border"+tt[X]+"Width",!0,H):He+=d.css(f,"border"+tt[X]+"Width",!0,H));return!O&&F>=0&&(Pe+=Math.max(0,Math.ceil(f["offset"+b[0].toUpperCase()+b.slice(1)]-F-Pe-He-.5))||0),Pe}function yr(f,b,A){var O=et(f),H=!k.boxSizingReliable()||A,F=H&&d.css(f,"boxSizing",!1,O)==="border-box",X=F,He=ni(f,b,O),Pe="offset"+b[0].toUpperCase()+b.slice(1);if(Pt.test(He)){if(!A)return He;He="auto"}return(!k.boxSizingReliable()&&F||!k.reliableTrDimensions()&&K(f,"tr")||He==="auto"||!parseFloat(He)&&d.css(f,"display",!1,O)==="inline")&&f.getClientRects().length&&(F=d.css(f,"boxSizing",!1,O)==="border-box",X=Pe in f,X&&(He=f[Pe])),He=parseFloat(He)||0,He+tr(f,b,A||(F?"border":"content"),X,O,He)+"px"}d.extend({cssHooks:{opacity:{get:function(f,b){if(b){var A=ni(f,"opacity");return A===""?"1":A}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,b,A,O){if(!(!f||f.nodeType===3||f.nodeType===8||!f.style)){var H,F,X,He=Ve(b),Pe=Ht.test(b),gt=f.style;if(Pe||(b=Mi(He)),X=d.cssHooks[b]||d.cssHooks[He],A!==void 0){if(F=typeof A,F==="string"&&(H=Ee.exec(A))&&H[1]&&(A=Rt(f,b,H),F="number"),A==null||A!==A)return;F==="number"&&!Pe&&(A+=H&&H[3]||(d.cssNumber[He]?"":"px")),!k.clearCloneStyle&&A===""&&b.indexOf("background")===0&&(gt[b]="inherit"),(!X||!("set"in X)||(A=X.set(f,A,O))!==void 0)&&(Pe?gt.setProperty(b,A):gt[b]=A)}else return X&&"get"in X&&(H=X.get(f,!1,O))!==void 0?H:gt[b]}},css:function(f,b,A,O){var H,F,X,He=Ve(b),Pe=Ht.test(b);return Pe||(b=Mi(He)),X=d.cssHooks[b]||d.cssHooks[He],X&&"get"in X&&(H=X.get(f,!0,A)),H===void 0&&(H=ni(f,b,O)),H==="normal"&&b in Gi&&(H=Gi[b]),A===""||A?(F=parseFloat(H),A===!0||isFinite(F)?F||0:H):H}}),d.each(["height","width"],function(f,b){d.cssHooks[b]={get:function(A,O,H){if(O)return ir.test(d.css(A,"display"))&&(!A.getClientRects().length||!A.getBoundingClientRect().width)?xt(A,Ki,function(){return yr(A,b,H)}):yr(A,b,H)},set:function(A,O,H){var F,X=et(A),He=!k.scrollboxSize()&&X.position==="absolute",Pe=He||H,gt=Pe&&d.css(A,"boxSizing",!1,X)==="border-box",Dt=H?tr(A,b,H,gt,X):0;return gt&&He&&(Dt-=Math.ceil(A["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(X[b])-tr(A,b,"border",!1,X)-.5)),Dt&&(F=Ee.exec(O))&&(F[3]||"px")!=="px"&&(A.style[b]=O,O=d.css(A,b)),Sr(A,O,Dt)}}}),d.cssHooks.marginLeft=ti(k.reliableMarginLeft,function(f,b){if(b)return(parseFloat(ni(f,"marginLeft"))||f.getBoundingClientRect().left-xt(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(f,b){d.cssHooks[f+b]={expand:function(A){for(var O=0,H={},F=typeof A=="string"?A.split(" "):[A];O<4;O++)H[f+tt[O]+b]=F[O]||F[O-2]||F[0];return H}},f!=="margin"&&(d.cssHooks[f+b].set=Sr)}),d.fn.extend({css:function(f,b){return Ae(this,function(A,O,H){var F,X,He={},Pe=0;if(Array.isArray(O)){for(F=et(A),X=O.length;Pe<X;Pe++)He[O[Pe]]=d.css(A,O[Pe],!1,F);return He}return H!==void 0?d.style(A,O,H):d.css(A,O)},f,b,arguments.length>1)}});function _r(f,b,A,O,H){return new _r.prototype.init(f,b,A,O,H)}d.Tween=_r,_r.prototype={constructor:_r,init:function(f,b,A,O,H,F){this.elem=f,this.prop=A,this.easing=H||d.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=O,this.unit=F||(d.cssNumber[A]?"":"px")},cur:function(){var f=_r.propHooks[this.prop];return f&&f.get?f.get(this):_r.propHooks._default.get(this)},run:function(f){var b,A=_r.propHooks[this.prop];return this.options.duration?this.pos=b=d.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):this.pos=b=f,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),A&&A.set?A.set(this):_r.propHooks._default.set(this),this}},_r.prototype.init.prototype=_r.prototype,_r.propHooks={_default:{get:function(f){var b;return f.elem.nodeType!==1||f.elem[f.prop]!=null&&f.elem.style[f.prop]==null?f.elem[f.prop]:(b=d.css(f.elem,f.prop,""),!b||b==="auto"?0:b)},set:function(f){d.fx.step[f.prop]?d.fx.step[f.prop](f):f.elem.nodeType===1&&(d.cssHooks[f.prop]||f.elem.style[Mi(f.prop)]!=null)?d.style(f.elem,f.prop,f.now+f.unit):f.elem[f.prop]=f.now}}},_r.propHooks.scrollTop=_r.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},d.easing={linear:function(f){return f},swing:function(f){return .5-Math.cos(f*Math.PI)/2},_default:"swing"},d.fx=_r.prototype.init,d.fx.step={};var Pr,Jr,cn=/^(?:toggle|show|hide)$/,$r=/queueHooks$/;function jr(){Jr&&(E.hidden===!1&&r.requestAnimationFrame?r.requestAnimationFrame(jr):r.setTimeout(jr,d.fx.interval),d.fx.tick())}function Yr(){return r.setTimeout(function(){Pr=void 0}),Pr=Date.now()}function Wr(f,b){var A,O=0,H={height:f};for(b=b?1:0;O<4;O+=2-b)A=tt[O],H["margin"+A]=H["padding"+A]=f;return b&&(H.opacity=H.width=f),H}function ve(f,b,A){for(var O,H=(be.tweeners[b]||[]).concat(be.tweeners["*"]),F=0,X=H.length;F<X;F++)if(O=H[F].call(A,b,f))return O}function he(f,b,A){var O,H,F,X,He,Pe,gt,Dt,ri="width"in b||"height"in b,Ot=this,st={},Li=f.style,R=f.nodeType&&vt(f),M=ee.get(f,"fxshow");A.queue||(X=d._queueHooks(f,"fx"),X.unqueued==null&&(X.unqueued=0,He=X.empty.fire,X.empty.fire=function(){X.unqueued||He()}),X.unqueued++,Ot.always(function(){Ot.always(function(){X.unqueued--,d.queue(f,"fx").length||X.empty.fire()})}));for(O in b)if(H=b[O],cn.test(H)){if(delete b[O],F=F||H==="toggle",H===(R?"hide":"show"))if(H==="show"&&M&&M[O]!==void 0)R=!0;else continue;st[O]=M&&M[O]||d.style(f,O)}if(Pe=!d.isEmptyObject(b),!(!Pe&&d.isEmptyObject(st))){ri&&f.nodeType===1&&(A.overflow=[Li.overflow,Li.overflowX,Li.overflowY],gt=M&&M.display,gt==null&&(gt=ee.get(f,"display")),Dt=d.css(f,"display"),Dt==="none"&&(gt?Dt=gt:(ui([f],!0),gt=f.style.display||gt,Dt=d.css(f,"display"),ui([f]))),(Dt==="inline"||Dt==="inline-block"&&gt!=null)&&d.css(f,"float")==="none"&&(Pe||(Ot.done(function(){Li.display=gt}),gt==null&&(Dt=Li.display,gt=Dt==="none"?"":Dt)),Li.display="inline-block")),A.overflow&&(Li.overflow="hidden",Ot.always(function(){Li.overflow=A.overflow[0],Li.overflowX=A.overflow[1],Li.overflowY=A.overflow[2]})),Pe=!1;for(O in st)Pe||(M?"hidden"in M&&(R=M.hidden):M=ee.access(f,"fxshow",{display:gt}),F&&(M.hidden=!R),R&&ui([f],!0),Ot.done(function(){R||ui([f]),ee.remove(f,"fxshow");for(O in st)d.style(f,O,st[O])})),Pe=ve(R?M[O]:0,O,Ot),O in M||(M[O]=Pe.start,R&&(Pe.end=Pe.start,Pe.start=0))}}function B(f,b){var A,O,H,F,X;for(A in f)if(O=Ve(A),H=b[O],F=f[A],Array.isArray(F)&&(H=F[1],F=f[A]=F[0]),A!==O&&(f[O]=F,delete f[A]),X=d.cssHooks[O],X&&"expand"in X){F=X.expand(F),delete f[O];for(A in F)A in f||(f[A]=F[A],b[A]=H)}else b[O]=H}function be(f,b,A){var O,H,F=0,X=be.prefilters.length,He=d.Deferred().always(function(){delete Pe.elem}),Pe=function(){if(H)return!1;for(var ri=Pr||Yr(),Ot=Math.max(0,gt.startTime+gt.duration-ri),st=Ot/gt.duration||0,Li=1-st,R=0,M=gt.tweens.length;R<M;R++)gt.tweens[R].run(Li);return He.notifyWith(f,[gt,Li,Ot]),Li<1&&M?Ot:(M||He.notifyWith(f,[gt,1,0]),He.resolveWith(f,[gt]),!1)},gt=He.promise({elem:f,props:d.extend({},b),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},A),originalProperties:b,originalOptions:A,startTime:Pr||Yr(),duration:A.duration,tweens:[],createTween:function(ri,Ot){var st=d.Tween(f,gt.opts,ri,Ot,gt.opts.specialEasing[ri]||gt.opts.easing);return gt.tweens.push(st),st},stop:function(ri){var Ot=0,st=ri?gt.tweens.length:0;if(H)return this;for(H=!0;Ot<st;Ot++)gt.tweens[Ot].run(1);return ri?(He.notifyWith(f,[gt,1,0]),He.resolveWith(f,[gt,ri])):He.rejectWith(f,[gt,ri]),this}}),Dt=gt.props;for(B(Dt,gt.opts.specialEasing);F<X;F++)if(O=be.prefilters[F].call(gt,f,Dt,gt.opts),O)return S(O.stop)&&(d._queueHooks(gt.elem,gt.opts.queue).stop=O.stop.bind(O)),O;return d.map(Dt,ve,gt),S(gt.opts.start)&&gt.opts.start.call(f,gt),gt.progress(gt.opts.progress).done(gt.opts.done,gt.opts.complete).fail(gt.opts.fail).always(gt.opts.always),d.fx.timer(d.extend(Pe,{elem:f,anim:gt,queue:gt.opts.queue})),gt}d.Animation=d.extend(be,{tweeners:{"*":[function(f,b){var A=this.createTween(f,b);return Rt(A.elem,f,Ee.exec(b),A),A}]},tweener:function(f,b){S(f)?(b=f,f=["*"]):f=f.match(Z);for(var A,O=0,H=f.length;O<H;O++)A=f[O],be.tweeners[A]=be.tweeners[A]||[],be.tweeners[A].unshift(b)},prefilters:[he],prefilter:function(f,b){b?be.prefilters.unshift(f):be.prefilters.push(f)}}),d.speed=function(f,b,A){var O=f&&typeof f=="object"?d.extend({},f):{complete:A||!A&&b||S(f)&&f,duration:f,easing:A&&b||b&&!S(b)&&b};return d.fx.off?O.duration=0:typeof O.duration!="number"&&(O.duration in d.fx.speeds?O.duration=d.fx.speeds[O.duration]:O.duration=d.fx.speeds._default),(O.queue==null||O.queue===!0)&&(O.queue="fx"),O.old=O.complete,O.complete=function(){S(O.old)&&O.old.call(this),O.queue&&d.dequeue(this,O.queue)},O},d.fn.extend({fadeTo:function(f,b,A,O){return this.filter(vt).css("opacity",0).show().end().animate({opacity:b},f,A,O)},animate:function(f,b,A,O){var H=d.isEmptyObject(f),F=d.speed(b,A,O),X=function(){var He=be(this,d.extend({},f),F);(H||ee.get(this,"finish"))&&He.stop(!0)};return X.finish=X,H||F.queue===!1?this.each(X):this.queue(F.queue,X)},stop:function(f,b,A){var O=function(H){var F=H.stop;delete H.stop,F(A)};return typeof f!="string"&&(A=b,b=f,f=void 0),b&&this.queue(f||"fx",[]),this.each(function(){var H=!0,F=f!=null&&f+"queueHooks",X=d.timers,He=ee.get(this);if(F)He[F]&&He[F].stop&&O(He[F]);else for(F in He)He[F]&&He[F].stop&&$r.test(F)&&O(He[F]);for(F=X.length;F--;)X[F].elem===this&&(f==null||X[F].queue===f)&&(X[F].anim.stop(A),H=!1,X.splice(F,1));(H||!A)&&d.dequeue(this,f)})},finish:function(f){return f!==!1&&(f=f||"fx"),this.each(function(){var b,A=ee.get(this),O=A[f+"queue"],H=A[f+"queueHooks"],F=d.timers,X=O?O.length:0;for(A.finish=!0,d.queue(this,f,[]),H&&H.stop&&H.stop.call(this,!0),b=F.length;b--;)F[b].elem===this&&F[b].queue===f&&(F[b].anim.stop(!0),F.splice(b,1));for(b=0;b<X;b++)O[b]&&O[b].finish&&O[b].finish.call(this);delete A.finish})}}),d.each(["toggle","show","hide"],function(f,b){var A=d.fn[b];d.fn[b]=function(O,H,F){return O==null||typeof O=="boolean"?A.apply(this,arguments):this.animate(Wr(b,!0),O,H,F)}}),d.each({slideDown:Wr("show"),slideUp:Wr("hide"),slideToggle:Wr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,b){d.fn[f]=function(A,O,H){return this.animate(b,A,O,H)}}),d.timers=[],d.fx.tick=function(){var f,b=0,A=d.timers;for(Pr=Date.now();b<A.length;b++)f=A[b],!f()&&A[b]===f&&A.splice(b--,1);A.length||d.fx.stop(),Pr=void 0},d.fx.timer=function(f){d.timers.push(f),d.fx.start()},d.fx.interval=13,d.fx.start=function(){Jr||(Jr=!0,jr())},d.fx.stop=function(){Jr=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(f,b){return f=d.fx&&d.fx.speeds[f]||f,b=b||"fx",this.queue(b,function(A,O){var H=r.setTimeout(A,f);O.stop=function(){r.clearTimeout(H)}})},function(){var f=E.createElement("input"),b=E.createElement("select"),A=b.appendChild(E.createElement("option"));f.type="checkbox",k.checkOn=f.value!=="",k.optSelected=A.selected,f=E.createElement("input"),f.value="t",f.type="radio",k.radioValue=f.value==="t"}();var _e,$t=d.expr.attrHandle;d.fn.extend({attr:function(f,b){return Ae(this,d.attr,f,b,arguments.length>1)},removeAttr:function(f){return this.each(function(){d.removeAttr(this,f)})}}),d.extend({attr:function(f,b,A){var O,H,F=f.nodeType;if(!(F===3||F===8||F===2)){if(typeof f.getAttribute>"u")return d.prop(f,b,A);if((F!==1||!d.isXMLDoc(f))&&(H=d.attrHooks[b.toLowerCase()]||(d.expr.match.bool.test(b)?_e:void 0)),A!==void 0){if(A===null){d.removeAttr(f,b);return}return H&&"set"in H&&(O=H.set(f,A,b))!==void 0?O:(f.setAttribute(b,A+""),A)}return H&&"get"in H&&(O=H.get(f,b))!==null?O:(O=d.find.attr(f,b),O!=null?O:void 0)}},attrHooks:{type:{set:function(f,b){if(!k.radioValue&&b==="radio"&&K(f,"input")){var A=f.value;return f.setAttribute("type",b),A&&(f.value=A),b}}}},removeAttr:function(f,b){var A,O=0,H=b&&b.match(Z);if(H&&f.nodeType===1)for(;A=H[O++];)f.removeAttribute(A)}}),_e={set:function(f,b,A){return b===!1?d.removeAttr(f,A):f.setAttribute(A,A),A}},d.each(d.expr.match.bool.source.match(/\w+/g),function(f,b){var A=$t[b]||d.find.attr;$t[b]=function(O,H,F){var X,He,Pe=H.toLowerCase();return F||(He=$t[Pe],$t[Pe]=X,X=A(O,H,F)!=null?Pe:null,$t[Pe]=He),X}});var zt=/^(?:input|select|textarea|button)$/i,gi=/^(?:a|area)$/i;d.fn.extend({prop:function(f,b){return Ae(this,d.prop,f,b,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[d.propFix[f]||f]})}}),d.extend({prop:function(f,b,A){var O,H,F=f.nodeType;if(!(F===3||F===8||F===2))return(F!==1||!d.isXMLDoc(f))&&(b=d.propFix[b]||b,H=d.propHooks[b]),A!==void 0?H&&"set"in H&&(O=H.set(f,A,b))!==void 0?O:f[b]=A:H&&"get"in H&&(O=H.get(f,b))!==null?O:f[b]},propHooks:{tabIndex:{get:function(f){var b=d.find.attr(f,"tabindex");return b?parseInt(b,10):zt.test(f.nodeName)||gi.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),k.optSelected||(d.propHooks.selected={get:function(f){var b=f.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(f){var b=f.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function fi(f){var b=f.match(Z)||[];return b.join(" ")}function zi(f){return f.getAttribute&&f.getAttribute("class")||""}function hr(f){return Array.isArray(f)?f:typeof f=="string"?f.match(Z)||[]:[]}d.fn.extend({addClass:function(f){var b,A,O,H,F,X;return S(f)?this.each(function(He){d(this).addClass(f.call(this,He,zi(this)))}):(b=hr(f),b.length?this.each(function(){if(O=zi(this),A=this.nodeType===1&&" "+fi(O)+" ",A){for(F=0;F<b.length;F++)H=b[F],A.indexOf(" "+H+" ")<0&&(A+=H+" ");X=fi(A),O!==X&&this.setAttribute("class",X)}}):this)},removeClass:function(f){var b,A,O,H,F,X;return S(f)?this.each(function(He){d(this).removeClass(f.call(this,He,zi(this)))}):arguments.length?(b=hr(f),b.length?this.each(function(){if(O=zi(this),A=this.nodeType===1&&" "+fi(O)+" ",A){for(F=0;F<b.length;F++)for(H=b[F];A.indexOf(" "+H+" ")>-1;)A=A.replace(" "+H+" "," ");X=fi(A),O!==X&&this.setAttribute("class",X)}}):this):this.attr("class","")},toggleClass:function(f,b){var A,O,H,F,X=typeof f,He=X==="string"||Array.isArray(f);return S(f)?this.each(function(Pe){d(this).toggleClass(f.call(this,Pe,zi(this),b),b)}):typeof b=="boolean"&&He?b?this.addClass(f):this.removeClass(f):(A=hr(f),this.each(function(){if(He)for(F=d(this),H=0;H<A.length;H++)O=A[H],F.hasClass(O)?F.removeClass(O):F.addClass(O);else(f===void 0||X==="boolean")&&(O=zi(this),O&&ee.set(this,"__className__",O),this.setAttribute&&this.setAttribute("class",O||f===!1?"":ee.get(this,"__className__")||""))}))},hasClass:function(f){var b,A,O=0;for(b=" "+f+" ";A=this[O++];)if(A.nodeType===1&&(" "+fi(zi(A))+" ").indexOf(b)>-1)return!0;return!1}});var or=/\r/g;d.fn.extend({val:function(f){var b,A,O,H=this[0];return arguments.length?(O=S(f),this.each(function(F){var X;this.nodeType===1&&(O?X=f.call(this,F,d(this).val()):X=f,X==null?X="":typeof X=="number"?X+="":Array.isArray(X)&&(X=d.map(X,function(He){return He==null?"":He+""})),b=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,X,"value")===void 0)&&(this.value=X))})):H?(b=d.valHooks[H.type]||d.valHooks[H.nodeName.toLowerCase()],b&&"get"in b&&(A=b.get(H,"value"))!==void 0?A:(A=H.value,typeof A=="string"?A.replace(or,""):A!=null?A:"")):void 0}}),d.extend({valHooks:{option:{get:function(f){var b=d.find.attr(f,"value");return b!=null?b:fi(d.text(f))}},select:{get:function(f){var b,A,O,H=f.options,F=f.selectedIndex,X=f.type==="select-one",He=X?null:[],Pe=X?F+1:H.length;for(F<0?O=Pe:O=X?F:0;O<Pe;O++)if(A=H[O],(A.selected||O===F)&&!A.disabled&&(!A.parentNode.disabled||!K(A.parentNode,"optgroup"))){if(b=d(A).val(),X)return b;He.push(b)}return He},set:function(f,b){for(var A,O,H=f.options,F=d.makeArray(b),X=H.length;X--;)O=H[X],(O.selected=d.inArray(d.valHooks.option.get(O),F)>-1)&&(A=!0);return A||(f.selectedIndex=-1),F}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(f,b){if(Array.isArray(b))return f.checked=d.inArray(d(f).val(),b)>-1}},k.checkOn||(d.valHooks[this].get=function(f){return f.getAttribute("value")===null?"on":f.value})}),k.focusin="onfocusin"in r;var Vr=/^(?:focusinfocus|focusoutblur)$/,ue=function(f){f.stopPropagation()};d.extend(d.event,{trigger:function(f,b,A,O){var H,F,X,He,Pe,gt,Dt,ri,Ot=[A||E],st=y.call(f,"type")?f.type:f,Li=y.call(f,"namespace")?f.namespace.split("."):[];if(F=ri=X=A=A||E,!(A.nodeType===3||A.nodeType===8)&&!Vr.test(st+d.event.triggered)&&(st.indexOf(".")>-1&&(Li=st.split("."),st=Li.shift(),Li.sort()),Pe=st.indexOf(":")<0&&"on"+st,f=f[d.expando]?f:new d.Event(st,typeof f=="object"&&f),f.isTrigger=O?2:3,f.namespace=Li.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Li.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=A),b=b==null?[f]:d.makeArray(b,[f]),Dt=d.event.special[st]||{},!(!O&&Dt.trigger&&Dt.trigger.apply(A,b)===!1))){if(!O&&!Dt.noBubble&&!P(A)){for(He=Dt.delegateType||st,Vr.test(He+st)||(F=F.parentNode);F;F=F.parentNode)Ot.push(F),X=F;X===(A.ownerDocument||E)&&Ot.push(X.defaultView||X.parentWindow||r)}for(H=0;(F=Ot[H++])&&!f.isPropagationStopped();)ri=F,f.type=H>1?He:Dt.bindType||st,gt=(ee.get(F,"events")||Object.create(null))[f.type]&&ee.get(F,"handle"),gt&&gt.apply(F,b),gt=Pe&&F[Pe],gt&&gt.apply&&rt(F)&&(f.result=gt.apply(F,b),f.result===!1&&f.preventDefault());return f.type=st,!O&&!f.isDefaultPrevented()&&(!Dt._default||Dt._default.apply(Ot.pop(),b)===!1)&&rt(A)&&Pe&&S(A[st])&&!P(A)&&(X=A[Pe],X&&(A[Pe]=null),d.event.triggered=st,f.isPropagationStopped()&&ri.addEventListener(st,ue),A[st](),f.isPropagationStopped()&&ri.removeEventListener(st,ue),d.event.triggered=void 0,X&&(A[Pe]=X)),f.result}},simulate:function(f,b,A){var O=d.extend(new d.Event,A,{type:f,isSimulated:!0});d.event.trigger(O,null,b)}}),d.fn.extend({trigger:function(f,b){return this.each(function(){d.event.trigger(f,b,this)})},triggerHandler:function(f,b){var A=this[0];if(A)return d.event.trigger(f,b,A,!0)}}),k.focusin||d.each({focus:"focusin",blur:"focusout"},function(f,b){var A=function(O){d.event.simulate(b,O.target,d.event.fix(O))};d.event.special[b]={setup:function(){var O=this.ownerDocument||this.document||this,H=ee.access(O,b);H||O.addEventListener(f,A,!0),ee.access(O,b,(H||0)+1)},teardown:function(){var O=this.ownerDocument||this.document||this,H=ee.access(O,b)-1;H?ee.access(O,b,H):(O.removeEventListener(f,A,!0),ee.remove(O,b))}}});var In=r.location,bn={guid:Date.now()},Cn=/\?/;d.parseXML=function(f){var b,A;if(!f||typeof f!="string")return null;try{b=new r.DOMParser().parseFromString(f,"text/xml")}catch(O){}return A=b&&b.getElementsByTagName("parsererror")[0],(!b||A)&&d.error("Invalid XML: "+(A?d.map(A.childNodes,function(O){return O.textContent}).join(`
`):f)),b};var wn=/\[\]$/,di=/\r?\n/g,Si=/^(?:submit|button|image|reset|file)$/i,vi=/^(?:input|select|textarea|keygen)/i;function rr(f,b,A,O){var H;if(Array.isArray(b))d.each(b,function(F,X){A||wn.test(f)?O(f,X):rr(f+"["+(typeof X=="object"&&X!=null?F:"")+"]",X,A,O)});else if(!A&&h(b)==="object")for(H in b)rr(f+"["+H+"]",b[H],A,O);else O(f,b)}d.param=function(f,b){var A,O=[],H=function(F,X){var He=S(X)?X():X;O[O.length]=encodeURIComponent(F)+"="+encodeURIComponent(He!=null?He:"")};if(f==null)return"";if(Array.isArray(f)||f.jquery&&!d.isPlainObject(f))d.each(f,function(){H(this.name,this.value)});else for(A in f)rr(A,f[A],b,H);return O.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=d.prop(this,"elements");return f?d.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!d(this).is(":disabled")&&vi.test(this.nodeName)&&!Si.test(f)&&(this.checked||!Mt.test(f))}).map(function(f,b){var A=d(this).val();return A==null?null:Array.isArray(A)?d.map(A,function(O){return{name:b.name,value:O.replace(di,`\r
`)}}):{name:b.name,value:A.replace(di,`\r
`)}}).get()}});var ar=/%20/g,En=/#.*$/,vn=/([?&])_=[^&]*/,bo=/^(.*?):[ \t]*([^\r\n]*)$/mg,ho=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,is=/^(?:GET|HEAD)$/,pa=/^\/\//,Eo={},Rn={},en="*/".concat("*"),po=E.createElement("a");po.href=In.href;function To(f){return function(b,A){typeof b!="string"&&(A=b,b="*");var O,H=0,F=b.toLowerCase().match(Z)||[];if(S(A))for(;O=F[H++];)O[0]==="+"?(O=O.slice(1)||"*",(f[O]=f[O]||[]).unshift(A)):(f[O]=f[O]||[]).push(A)}}function fa(f,b,A,O){var H={},F=f===Rn;function X(He){var Pe;return H[He]=!0,d.each(f[He]||[],function(gt,Dt){var ri=Dt(b,A,O);if(typeof ri=="string"&&!F&&!H[ri])return b.dataTypes.unshift(ri),X(ri),!1;if(F)return!(Pe=ri)}),Pe}return X(b.dataTypes[0])||!H["*"]&&X("*")}function Zn(f,b){var A,O,H=d.ajaxSettings.flatOptions||{};for(A in b)b[A]!==void 0&&((H[A]?f:O||(O={}))[A]=b[A]);return O&&d.extend(!0,f,O),f}function La(f,b,A){for(var O,H,F,X,He=f.contents,Pe=f.dataTypes;Pe[0]==="*";)Pe.shift(),O===void 0&&(O=f.mimeType||b.getResponseHeader("Content-Type"));if(O){for(H in He)if(He[H]&&He[H].test(O)){Pe.unshift(H);break}}if(Pe[0]in A)F=Pe[0];else{for(H in A){if(!Pe[0]||f.converters[H+" "+Pe[0]]){F=H;break}X||(X=H)}F=F||X}if(F)return F!==Pe[0]&&Pe.unshift(F),A[F]}function rs(f,b,A,O){var H,F,X,He,Pe,gt={},Dt=f.dataTypes.slice();if(Dt[1])for(X in f.converters)gt[X.toLowerCase()]=f.converters[X];for(F=Dt.shift();F;)if(f.responseFields[F]&&(A[f.responseFields[F]]=b),!Pe&&O&&f.dataFilter&&(b=f.dataFilter(b,f.dataType)),Pe=F,F=Dt.shift(),F){if(F==="*")F=Pe;else if(Pe!=="*"&&Pe!==F){if(X=gt[Pe+" "+F]||gt["* "+F],!X){for(H in gt)if(He=H.split(" "),He[1]===F&&(X=gt[Pe+" "+He[0]]||gt["* "+He[0]],X)){X===!0?X=gt[H]:gt[H]!==!0&&(F=He[0],Dt.unshift(He[1]));break}}if(X!==!0)if(X&&f.throws)b=X(b);else try{b=X(b)}catch(ri){return{state:"parsererror",error:X?ri:"No conversion from "+Pe+" to "+F}}}}return{state:"success",data:b}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:In.href,type:"GET",isLocal:ho.test(In.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":en,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,b){return b?Zn(Zn(f,d.ajaxSettings),b):Zn(d.ajaxSettings,f)},ajaxPrefilter:To(Eo),ajaxTransport:To(Rn),ajax:function(f,b){typeof f=="object"&&(b=f,f=void 0),b=b||{};var A,O,H,F,X,He,Pe,gt,Dt,ri,Ot=d.ajaxSetup({},b),st=Ot.context||Ot,Li=Ot.context&&(st.nodeType||st.jquery)?d(st):d.event,R=d.Deferred(),M=d.Callbacks("once memory"),j=Ot.statusCode||{},U={},se={},me="canceled",Ce={readyState:0,getResponseHeader:function(bt){var Yt;if(Pe){if(!F)for(F={};Yt=bo.exec(H);)F[Yt[1].toLowerCase()+" "]=(F[Yt[1].toLowerCase()+" "]||[]).concat(Yt[2]);Yt=F[bt.toLowerCase()+" "]}return Yt==null?null:Yt.join(", ")},getAllResponseHeaders:function(){return Pe?H:null},setRequestHeader:function(bt,Yt){return Pe==null&&(bt=se[bt.toLowerCase()]=se[bt.toLowerCase()]||bt,U[bt]=Yt),this},overrideMimeType:function(bt){return Pe==null&&(Ot.mimeType=bt),this},statusCode:function(bt){var Yt;if(bt)if(Pe)Ce.always(bt[Ce.status]);else for(Yt in bt)j[Yt]=[j[Yt],bt[Yt]];return this},abort:function(bt){var Yt=bt||me;return A&&A.abort(Yt),Nt(0,Yt),this}};if(R.promise(Ce),Ot.url=((f||Ot.url||In.href)+"").replace(pa,In.protocol+"//"),Ot.type=b.method||b.type||Ot.method||Ot.type,Ot.dataTypes=(Ot.dataType||"*").toLowerCase().match(Z)||[""],Ot.crossDomain==null){He=E.createElement("a");try{He.href=Ot.url,He.href=He.href,Ot.crossDomain=po.protocol+"//"+po.host!=He.protocol+"//"+He.host}catch(bt){Ot.crossDomain=!0}}if(Ot.data&&Ot.processData&&typeof Ot.data!="string"&&(Ot.data=d.param(Ot.data,Ot.traditional)),fa(Eo,Ot,b,Ce),Pe)return Ce;gt=d.event&&Ot.global,gt&&d.active++===0&&d.event.trigger("ajaxStart"),Ot.type=Ot.type.toUpperCase(),Ot.hasContent=!is.test(Ot.type),O=Ot.url.replace(En,""),Ot.hasContent?Ot.data&&Ot.processData&&(Ot.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Ot.data=Ot.data.replace(ar,"+")):(ri=Ot.url.slice(O.length),Ot.data&&(Ot.processData||typeof Ot.data=="string")&&(O+=(Cn.test(O)?"&":"?")+Ot.data,delete Ot.data),Ot.cache===!1&&(O=O.replace(vn,"$1"),ri=(Cn.test(O)?"&":"?")+"_="+bn.guid+++ri),Ot.url=O+ri),Ot.ifModified&&(d.lastModified[O]&&Ce.setRequestHeader("If-Modified-Since",d.lastModified[O]),d.etag[O]&&Ce.setRequestHeader("If-None-Match",d.etag[O])),(Ot.data&&Ot.hasContent&&Ot.contentType!==!1||b.contentType)&&Ce.setRequestHeader("Content-Type",Ot.contentType),Ce.setRequestHeader("Accept",Ot.dataTypes[0]&&Ot.accepts[Ot.dataTypes[0]]?Ot.accepts[Ot.dataTypes[0]]+(Ot.dataTypes[0]!=="*"?", "+en+"; q=0.01":""):Ot.accepts["*"]);for(Dt in Ot.headers)Ce.setRequestHeader(Dt,Ot.headers[Dt]);if(Ot.beforeSend&&(Ot.beforeSend.call(st,Ce,Ot)===!1||Pe))return Ce.abort();if(me="abort",M.add(Ot.complete),Ce.done(Ot.success),Ce.fail(Ot.error),A=fa(Rn,Ot,b,Ce),!A)Nt(-1,"No Transport");else{if(Ce.readyState=1,gt&&Li.trigger("ajaxSend",[Ce,Ot]),Pe)return Ce;Ot.async&&Ot.timeout>0&&(X=r.setTimeout(function(){Ce.abort("timeout")},Ot.timeout));try{Pe=!1,A.send(U,Nt)}catch(bt){if(Pe)throw bt;Nt(-1,bt)}}function Nt(bt,Yt,li,$i){var Ri,Oi,lr,Wi,ji,Xi=Yt;Pe||(Pe=!0,X&&r.clearTimeout(X),A=void 0,H=$i||"",Ce.readyState=bt>0?4:0,Ri=bt>=200&&bt<300||bt===304,li&&(Wi=La(Ot,Ce,li)),!Ri&&d.inArray("script",Ot.dataTypes)>-1&&d.inArray("json",Ot.dataTypes)<0&&(Ot.converters["text script"]=function(){}),Wi=rs(Ot,Wi,Ce,Ri),Ri?(Ot.ifModified&&(ji=Ce.getResponseHeader("Last-Modified"),ji&&(d.lastModified[O]=ji),ji=Ce.getResponseHeader("etag"),ji&&(d.etag[O]=ji)),bt===204||Ot.type==="HEAD"?Xi="nocontent":bt===304?Xi="notmodified":(Xi=Wi.state,Oi=Wi.data,lr=Wi.error,Ri=!lr)):(lr=Xi,(bt||!Xi)&&(Xi="error",bt<0&&(bt=0))),Ce.status=bt,Ce.statusText=(Yt||Xi)+"",Ri?R.resolveWith(st,[Oi,Xi,Ce]):R.rejectWith(st,[Ce,Xi,lr]),Ce.statusCode(j),j=void 0,gt&&Li.trigger(Ri?"ajaxSuccess":"ajaxError",[Ce,Ot,Ri?Oi:lr]),M.fireWith(st,[Ce,Xi]),gt&&(Li.trigger("ajaxComplete",[Ce,Ot]),--d.active||d.event.trigger("ajaxStop")))}return Ce},getJSON:function(f,b,A){return d.get(f,b,A,"json")},getScript:function(f,b){return d.get(f,void 0,b,"script")}}),d.each(["get","post"],function(f,b){d[b]=function(A,O,H,F){return S(O)&&(F=F||H,H=O,O=void 0),d.ajax(d.extend({url:A,type:b,dataType:F,data:O,success:H},d.isPlainObject(A)&&A))}}),d.ajaxPrefilter(function(f){var b;for(b in f.headers)b.toLowerCase()==="content-type"&&(f.contentType=f.headers[b]||"")}),d._evalUrl=function(f,b,A){return d.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(O){d.globalEval(O,b,A)}})},d.fn.extend({wrapAll:function(f){var b;return this[0]&&(S(f)&&(f=f.call(this[0])),b=d(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var A=this;A.firstElementChild;)A=A.firstElementChild;return A}).append(this)),this},wrapInner:function(f){return S(f)?this.each(function(b){d(this).wrapInner(f.call(this,b))}):this.each(function(){var b=d(this),A=b.contents();A.length?A.wrapAll(f):b.append(f)})},wrap:function(f){var b=S(f);return this.each(function(A){d(this).wrapAll(b?f.call(this,A):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(f){return!d.expr.pseudos.visible(f)},d.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(f){}};var Oa={0:200,1223:204},lo=d.ajaxSettings.xhr();k.cors=!!lo&&"withCredentials"in lo,k.ajax=lo=!!lo,d.ajaxTransport(function(f){var b,A;if(k.cors||lo&&!f.crossDomain)return{send:function(O,H){var F,X=f.xhr();if(X.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(F in f.xhrFields)X[F]=f.xhrFields[F];f.mimeType&&X.overrideMimeType&&X.overrideMimeType(f.mimeType),!f.crossDomain&&!O["X-Requested-With"]&&(O["X-Requested-With"]="XMLHttpRequest");for(F in O)X.setRequestHeader(F,O[F]);b=function(He){return function(){b&&(b=A=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,He==="abort"?X.abort():He==="error"?typeof X.status!="number"?H(0,"error"):H(X.status,X.statusText):H(Oa[X.status]||X.status,X.statusText,(X.responseType||"text")!=="text"||typeof X.responseText!="string"?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}},X.onload=b(),A=X.onerror=X.ontimeout=b("error"),X.onabort!==void 0?X.onabort=A:X.onreadystatechange=function(){X.readyState===4&&r.setTimeout(function(){b&&A()})},b=b("abort");try{X.send(f.hasContent&&f.data||null)}catch(He){if(b)throw He}},abort:function(){b&&b()}}}),d.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return d.globalEval(f),f}}}),d.ajaxPrefilter("script",function(f){f.cache===void 0&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),d.ajaxTransport("script",function(f){if(f.crossDomain||f.scriptAttrs){var b,A;return{send:function(O,H){b=d("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",A=function(F){b.remove(),A=null,F&&H(F.type==="error"?404:200,F.type)}),E.head.appendChild(b[0])},abort:function(){A&&A()}}}});var zo=[],Go=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=zo.pop()||d.expando+"_"+bn.guid++;return this[f]=!0,f}}),d.ajaxPrefilter("json jsonp",function(f,b,A){var O,H,F,X=f.jsonp!==!1&&(Go.test(f.url)?"url":typeof f.data=="string"&&(f.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Go.test(f.data)&&"data");if(X||f.dataTypes[0]==="jsonp")return O=f.jsonpCallback=S(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,X?f[X]=f[X].replace(Go,"$1"+O):f.jsonp!==!1&&(f.url+=(Cn.test(f.url)?"&":"?")+f.jsonp+"="+O),f.converters["script json"]=function(){return F||d.error(O+" was not called"),F[0]},f.dataTypes[0]="json",H=r[O],r[O]=function(){F=arguments},A.always(function(){H===void 0?d(r).removeProp(O):r[O]=H,f[O]&&(f.jsonpCallback=b.jsonpCallback,zo.push(O)),F&&S(H)&&H(F[0]),F=H=void 0}),"script"}),k.createHTMLDocument=function(){var f=E.implementation.createHTMLDocument("").body;return f.innerHTML="<form></form><form></form>",f.childNodes.length===2}(),d.parseHTML=function(f,b,A){if(typeof f!="string")return[];typeof b=="boolean"&&(A=b,b=!1);var O,H,F;return b||(k.createHTMLDocument?(b=E.implementation.createHTMLDocument(""),O=b.createElement("base"),O.href=E.location.href,b.head.appendChild(O)):b=E),H=ie.exec(f),F=!A&&[],H?[b.createElement(H[1])]:(H=ke([f],b,F),F&&F.length&&d(F).remove(),d.merge([],H.childNodes))},d.fn.load=function(f,b,A){var O,H,F,X=this,He=f.indexOf(" ");return He>-1&&(O=fi(f.slice(He)),f=f.slice(0,He)),S(b)?(A=b,b=void 0):b&&typeof b=="object"&&(H="POST"),X.length>0&&d.ajax({url:f,type:H||"GET",dataType:"html",data:b}).done(function(Pe){F=arguments,X.html(O?d("<div>").append(d.parseHTML(Pe)).find(O):Pe)}).always(A&&function(Pe,gt){X.each(function(){A.apply(this,F||[Pe.responseText,gt,Pe])})}),this},d.expr.pseudos.animated=function(f){return d.grep(d.timers,function(b){return f===b.elem}).length},d.offset={setOffset:function(f,b,A){var O,H,F,X,He,Pe,gt,Dt=d.css(f,"position"),ri=d(f),Ot={};Dt==="static"&&(f.style.position="relative"),He=ri.offset(),F=d.css(f,"top"),Pe=d.css(f,"left"),gt=(Dt==="absolute"||Dt==="fixed")&&(F+Pe).indexOf("auto")>-1,gt?(O=ri.position(),X=O.top,H=O.left):(X=parseFloat(F)||0,H=parseFloat(Pe)||0),S(b)&&(b=b.call(f,A,d.extend({},He))),b.top!=null&&(Ot.top=b.top-He.top+X),b.left!=null&&(Ot.left=b.left-He.left+H),"using"in b?b.using.call(f,Ot):ri.css(Ot)}},d.fn.extend({offset:function(f){if(arguments.length)return f===void 0?this:this.each(function(H){d.offset.setOffset(this,f,H)});var b,A,O=this[0];if(O)return O.getClientRects().length?(b=O.getBoundingClientRect(),A=O.ownerDocument.defaultView,{top:b.top+A.pageYOffset,left:b.left+A.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var f,b,A,O=this[0],H={top:0,left:0};if(d.css(O,"position")==="fixed")b=O.getBoundingClientRect();else{for(b=this.offset(),A=O.ownerDocument,f=O.offsetParent||A.documentElement;f&&(f===A.body||f===A.documentElement)&&d.css(f,"position")==="static";)f=f.parentNode;f&&f!==O&&f.nodeType===1&&(H=d(f).offset(),H.top+=d.css(f,"borderTopWidth",!0),H.left+=d.css(f,"borderLeftWidth",!0))}return{top:b.top-H.top-d.css(O,"marginTop",!0),left:b.left-H.left-d.css(O,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&d.css(f,"position")==="static";)f=f.offsetParent;return f||nt})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,b){var A=b==="pageYOffset";d.fn[f]=function(O){return Ae(this,function(H,F,X){var He;if(P(H)?He=H:H.nodeType===9&&(He=H.defaultView),X===void 0)return He?He[b]:H[F];He?He.scrollTo(A?He.pageXOffset:X,A?X:He.pageYOffset):H[F]=X},f,O,arguments.length)}}),d.each(["top","left"],function(f,b){d.cssHooks[b]=ti(k.pixelPosition,function(A,O){if(O)return O=ni(A,b),Pt.test(O)?d(A).position()[b]+"px":O})}),d.each({Height:"height",Width:"width"},function(f,b){d.each({padding:"inner"+f,content:b,"":"outer"+f},function(A,O){d.fn[O]=function(H,F){var X=arguments.length&&(A||typeof H!="boolean"),He=A||(H===!0||F===!0?"margin":"border");return Ae(this,function(Pe,gt,Dt){var ri;return P(Pe)?O.indexOf("outer")===0?Pe["inner"+f]:Pe.document.documentElement["client"+f]:Pe.nodeType===9?(ri=Pe.documentElement,Math.max(Pe.body["scroll"+f],ri["scroll"+f],Pe.body["offset"+f],ri["offset"+f],ri["client"+f])):Dt===void 0?d.css(Pe,gt,He):d.style(Pe,gt,Dt,He)},b,X?H:void 0,X)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,b){d.fn[b]=function(A){return this.on(b,A)}}),d.fn.extend({bind:function(f,b,A){return this.on(f,null,b,A)},unbind:function(f,b){return this.off(f,null,b)},delegate:function(f,b,A,O){return this.on(b,f,A,O)},undelegate:function(f,b,A){return arguments.length===1?this.off(f,"**"):this.off(b,f||"**",A)},hover:function(f,b){return this.mouseenter(f).mouseleave(b||f)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,b){d.fn[b]=function(A,O){return arguments.length>0?this.on(b,null,A,O):this.trigger(b)}});var Yo=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(f,b){var A,O,H;if(typeof b=="string"&&(A=f[b],b=f,f=A),!!S(f))return O=c.call(arguments,2),H=function(){return f.apply(b||this,O.concat(c.call(arguments)))},H.guid=f.guid=f.guid||d.guid++,H},d.holdReady=function(f){f?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=K,d.isFunction=S,d.isWindow=P,d.camelCase=Ve,d.type=h,d.now=Date.now,d.isNumeric=function(f){var b=d.type(f);return(b==="number"||b==="string")&&!isNaN(f-parseFloat(f))},d.trim=function(f){return f==null?"":(f+"").replace(Yo,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return d});var fo=r.jQuery,xn=r.$;return d.noConflict=function(f){return r.$===d&&(r.$=xn),f&&r.jQuery===d&&(r.jQuery=fo),d},typeof a>"u"&&(r.jQuery=r.$=d),d})}),vy={};s4(vy,{default:()=>js});c4=my(gy());l4(vy,my(gy()));py=c4,{default:fy}=py,u4=an(py,["default"]),js=fy!==void 0?fy:u4;});var lf=Kt(()=>{eu();eu()});var xe,Hn=Kt(()=>{lf();xe="jQuery"in window&&"$"in window?window.$:js;window.jQuery=xe;window.$=xe});var Ci,xo=Kt(()=>{Ci=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)?console.log.bind(console):()=>{}});var Zl,cf=Kt(()=>{Zl=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0});var uf=Kt(()=>{Hn();xo();cf();xe.fn.center=function(){let t=xe(this).innerHeight();Ci("myheight",t),Ci("mywidth",this.width()),Ci("w.height",xe(window).height(),"w.width",xe(window).width(),"w.scrollTop",xe(window).scrollTop(),"w.scrollLeft",xe(window).scrollLeft());let r,a;if(Zl){let l=window.innerWidth,o=window.innerHeight;Ci("vpH",o),Ci("vpW",l),r=(o-t)/2+xe(window).scrollTop(),a=(l-this.width())/2+xe(window).scrollLeft()}else r=(xe(window).height()-t)/2,a=(xe(window).width()-this.width())/2;return r=Math.max(20,r),a=Math.max(20,a),this.css({position:Zl?"absolute":"fixed",display:"block",top:r,left:a}),this}});var df,yy=Kt(()=>{Hn();xo();df=class e{static params(t,r){let a={height:r,width:t,scrollbars:"yes",resizable:"yes",toolbar:"no",directories:"no",location:"yes",menubar:"no",status:"yes"};return Object.keys(a).filter(l=>a[l]).reduce((l,o)=>l.concat(`${o}=${a[o]}`),[]).join(",")}static setupPopupLink(){let t="popup-link",r="popup-link-width",a="popup-link-height";Ci("popup setup"),xe(document.body).off("click.PopupLink").on("click.PopupLink",`[data-${t}]`,l=>{l.preventDefault();let o=xe(l.currentTarget),c=o.data(r)||500,n=o.data(a)||500;window.open(l.currentTarget.href,"popup",e.params(c,n))})}};xe(df.setupPopupLink)});var Ns,hf=Kt(()=>{Ns=class{static LoadingMessage({message:t="Loading"}){return`<small class="loading-message">${t}</small>`}static ErrorMessage({errorMessage:t}){return`<small>${t}</small>`}}});function tu(){xe(".row .tilebars").find(".results").parents(".row").each((e,t)=>{let r=!1;xe(t).find(".results").each((a,l)=>{xe(l).show().css({visibility:"hidden"}),r||(r=xe(l).offset()),xe(l).offset().top!==r.top?xe(l).hide():xe(l).css({visibility:"visible"})})})}var by=Kt(()=>{Hn()});var Dd,wy=Kt(()=>{Dd=class{constructor(t,r=250,a=void 0){this.callback=t,this.threshhold=r,this.context=a,this.last=void 0,this.deferTimeout=void 0}execute(){let t=+new Date;this.last&&t<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}executeCallback(){this.last=+new Date,this.callback.apply(this.context)}}});var jd,xy=Kt(()=>{Hn();wy();jd=class{constructor(t,r,a){this.identifier=t,this.$targetElement=r,this.callback=a,this.$window=xe(window),this.throttler=new Dd(this.scrollListener,100,this)}startListener(){this.$window.on(`scroll.${this.identifier}`,this.throttledListener.bind(this)),this.scrollListener()}throttledListener(){return this.throttler.execute()}getTargetScrollOffset(){let t=this.$targetElement.offset().top,r=this.$window.height();return t-r/2}scrollListener(){let t=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=t&&(this.$window.off(`.${this.identifier}`),this.callback())}}});var _y,ky=Kt(()=>{_y=/bot|crawl|spider/i.test(navigator.userAgent)});var Jl,pf=Kt(()=>{Hn();hf();by();xy();ky();Jl=class e{static setup(){let t=xe("#js-related");if(t.length&&(tu(),xe(window).on("resize  orientationchange",a=>{clearTimeout(e.also_found_throttler),e.also_found_throttler=setTimeout(tu,250)})),!t.length||_y)return;let r=xe("#also-found");this.scrollProximityHandler=new jd("related_items",r,()=>{if(!t.text())return r.find(".tilebars").show(),t.html(Ns.LoadingMessage({message:"Fetching items"})),e.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}static doWhenScrolledToRelatedSection(){let t=xe("#also-found").data("identifier"),r=xe("#js-related");return e.getRelatedItems(t).then(a=>{r.html(a),tu()}).catch(a=>{xe("#playplayset").hide(),r.html(Ns.ErrorMessage({errorMessage:a.message})).show()})}static getRelatedItems(t,r){return new Promise((a,l)=>{let o=`/details/${encodeURIComponent(t)}?RelatedItemsGet=${r?"json":1}`,c="Related items temporarily unavailable. Please try back later.";xe.get(o,n=>{n===""&&l(new Error("No similar items found.")),n==="service_disabled"&&l(new Error(c)),a(n)}).fail(()=>{l(new Error(c))})})}};xe(()=>Jl.setup())});var d4,mf,h4,p4,f4,m4,g4,v4,ff,y4,Cy,Ey,Ty,b4,Ay,Sy,w4,iu,gf=Kt(()=>{d4=Object.create,mf=Object.defineProperty,h4=Object.getOwnPropertyDescriptor,p4=Object.getOwnPropertyNames,f4=Object.getPrototypeOf,m4=Object.prototype.hasOwnProperty,g4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),v4=(e,t)=>{for(var r in t)mf(e,r,{get:t[r],enumerable:!0})},ff=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of p4(t))!m4.call(e,l)&&l!==r&&mf(e,l,{get:()=>t[l],enumerable:!(a=h4(t,l))||a.enumerable});return e},y4=(e,t,r)=>(ff(e,t,"default"),r&&ff(r,t,"default")),Cy=(e,t,r)=>(r=e!=null?d4(f4(e)):{},ff(t||!e||!e.__esModule?mf(r,"default",{value:e,enumerable:!0}):r,e)),Ey=g4((e,t)=>{(function(r,a){typeof e=="object"&&typeof t=="object"?t.exports=a():typeof define=="function"&&define.amd?define([],a):typeof e=="object"?e.ClipboardJS=a():r.ClipboardJS=a()})(e,function(){return function(){var r={686:function(o,c,n){"use strict";n.d(c,{default:function(){return de}});var u=n(279),p=n.n(u),g=n(370),m=n.n(g),y=n(817),x=n.n(y);function w(Z){try{return document.execCommand(Z)}catch(ye){return!1}}var k=function(Z){var ye=x()(Z);return w("cut"),ye},S=k;function P(Z){var ye=document.documentElement.getAttribute("dir")==="rtl",Y=document.createElement("textarea");Y.style.fontSize="12pt",Y.style.border="0",Y.style.padding="0",Y.style.margin="0",Y.style.position="absolute",Y.style[ye?"right":"left"]="-9999px";var ce=window.pageYOffset||document.documentElement.scrollTop;return Y.style.top="".concat(ce,"px"),Y.setAttribute("readonly",""),Y.value=Z,Y}var E=function(Z,ye){var Y=P(Z);ye.container.appendChild(Y);var ce=x()(Y);return w("copy"),Y.remove(),ce},L=function(Z){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},Y="";return typeof Z=="string"?Y=E(Z,ye):Z instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(Z==null?void 0:Z.type)?Y=E(Z.value,ye):(Y=x()(Z),w("copy")),Y},s=L;function h(Z){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(ye){return typeof ye}:h=function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},h(Z)}var v=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=Z.action,Y=ye===void 0?"copy":ye,ce=Z.container,Ze=Z.target,ft=Z.text;if(Y!=="copy"&&Y!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Ze!==void 0)if(Ze&&h(Ze)==="object"&&Ze.nodeType===1){if(Y==="copy"&&Ze.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(Y==="cut"&&(Ze.hasAttribute("readonly")||Ze.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(ft)return s(ft,{container:ce});if(Ze)return Y==="cut"?S(Ze):s(Ze,{container:ce})},d=v;function _(Z){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(ye){return typeof ye}:_=function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},_(Z)}function C(Z,ye){if(!(Z instanceof ye))throw new TypeError("Cannot call a class as a function")}function N(Z,ye){for(var Y=0;Y<ye.length;Y++){var ce=ye[Y];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Z,ce.key,ce)}}function G(Z,ye,Y){return ye&&N(Z.prototype,ye),Y&&N(Z,Y),Z}function q(Z,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ye&&ye.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),ye&&K(Z,ye)}function K(Z,ye){return K=Object.setPrototypeOf||function(Y,ce){return Y.__proto__=ce,Y},K(Z,ye)}function ie(Z){var ye=Oe();return function(){var Y=fe(Z),ce;if(ye){var Ze=fe(this).constructor;ce=Reflect.construct(Y,arguments,Ze)}else ce=Y.apply(this,arguments);return Q(this,ce)}}function Q(Z,ye){return ye&&(_(ye)==="object"||typeof ye=="function")?ye:te(Z)}function te(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function Oe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Z){return!1}}function fe(Z){return fe=Object.setPrototypeOf?Object.getPrototypeOf:function(ye){return ye.__proto__||Object.getPrototypeOf(ye)},fe(Z)}function W(Z,ye){var Y="data-clipboard-".concat(Z);if(ye.hasAttribute(Y))return ye.getAttribute(Y)}var ae=function(Z){q(Y,Z);var ye=ie(Y);function Y(ce,Ze){var ft;return C(this,Y),ft=ye.call(this),ft.resolveOptions(Ze),ft.listenClick(ce),ft}return G(Y,[{key:"resolveOptions",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ce.action=="function"?ce.action:this.defaultAction,this.target=typeof ce.target=="function"?ce.target:this.defaultTarget,this.text=typeof ce.text=="function"?ce.text:this.defaultText,this.container=_(ce.container)==="object"?ce.container:document.body}},{key:"listenClick",value:function(ce){var Ze=this;this.listener=m()(ce,"click",function(ft){return Ze.onClick(ft)})}},{key:"onClick",value:function(ce){var Ze=ce.delegateTarget||ce.currentTarget,ft=this.action(Ze)||"copy",ct=d({action:ft,container:this.container,target:this.target(Ze),text:this.text(Ze)});this.emit(ct?"success":"error",{action:ft,text:ct,trigger:Ze,clearSelection:function(){Ze&&Ze.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ce){return W("action",ce)}},{key:"defaultTarget",value:function(ce){var Ze=W("target",ce);if(Ze)return document.querySelector(Ze)}},{key:"defaultText",value:function(ce){return W("text",ce)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ce){var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return s(ce,Ze)}},{key:"cut",value:function(ce){return S(ce)}},{key:"isSupported",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Ze=typeof ce=="string"?[ce]:ce,ft=!!document.queryCommandSupported;return Ze.forEach(function(ct){ft=ft&&!!document.queryCommandSupported(ct)}),ft}}]),Y}(p()),de=ae},828:function(o){var c=9;if(typeof Element<"u"&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function u(p,g){for(;p&&p.nodeType!==c;){if(typeof p.matches=="function"&&p.matches(g))return p;p=p.parentNode}}o.exports=u},438:function(o,c,n){var u=n(828);function p(y,x,w,k,S){var P=m.apply(this,arguments);return y.addEventListener(w,P,S),{destroy:function(){y.removeEventListener(w,P,S)}}}function g(y,x,w,k,S){return typeof y.addEventListener=="function"?p.apply(null,arguments):typeof w=="function"?p.bind(null,document).apply(null,arguments):(typeof y=="string"&&(y=document.querySelectorAll(y)),Array.prototype.map.call(y,function(P){return p(P,x,w,k,S)}))}function m(y,x,w,k){return function(S){S.delegateTarget=u(S.target,x),S.delegateTarget&&k.call(y,S)}}o.exports=g},879:function(o,c){c.node=function(n){return n!==void 0&&n instanceof HTMLElement&&n.nodeType===1},c.nodeList=function(n){var u=Object.prototype.toString.call(n);return n!==void 0&&(u==="[object NodeList]"||u==="[object HTMLCollection]")&&"length"in n&&(n.length===0||c.node(n[0]))},c.string=function(n){return typeof n=="string"||n instanceof String},c.fn=function(n){var u=Object.prototype.toString.call(n);return u==="[object Function]"}},370:function(o,c,n){var u=n(879),p=n(438);function g(w,k,S){if(!w&&!k&&!S)throw new Error("Missing required arguments");if(!u.string(k))throw new TypeError("Second argument must be a String");if(!u.fn(S))throw new TypeError("Third argument must be a Function");if(u.node(w))return m(w,k,S);if(u.nodeList(w))return y(w,k,S);if(u.string(w))return x(w,k,S);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function m(w,k,S){return w.addEventListener(k,S),{destroy:function(){w.removeEventListener(k,S)}}}function y(w,k,S){return Array.prototype.forEach.call(w,function(P){P.addEventListener(k,S)}),{destroy:function(){Array.prototype.forEach.call(w,function(P){P.removeEventListener(k,S)})}}}function x(w,k,S){return p(document.body,w,k,S)}o.exports=g},817:function(o){function c(n){var u;if(n.nodeName==="SELECT")n.focus(),u=n.value;else if(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"){var p=n.hasAttribute("readonly");p||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),p||n.removeAttribute("readonly"),u=n.value}else{n.hasAttribute("contenteditable")&&n.focus();var g=window.getSelection(),m=document.createRange();m.selectNodeContents(n),g.removeAllRanges(),g.addRange(m),u=g.toString()}return u}o.exports=c},279:function(o){function c(){}c.prototype={on:function(n,u,p){var g=this.e||(this.e={});return(g[n]||(g[n]=[])).push({fn:u,ctx:p}),this},once:function(n,u,p){var g=this;function m(){g.off(n,m),u.apply(p,arguments)}return m._=u,this.on(n,m,p)},emit:function(n){var u=[].slice.call(arguments,1),p=((this.e||(this.e={}))[n]||[]).slice(),g=0,m=p.length;for(g;g<m;g++)p[g].fn.apply(p[g].ctx,u);return this},off:function(n,u){var p=this.e||(this.e={}),g=p[n],m=[];if(g&&u)for(var y=0,x=g.length;y<x;y++)g[y].fn!==u&&g[y].fn._!==u&&m.push(g[y]);return m.length?p[n]=m:delete p[n],this}},o.exports=c,o.exports.TinyEmitter=c}},a={};function l(o){if(a[o])return a[o].exports;var c=a[o]={exports:{}};return r[o](c,c.exports,l),c.exports}return function(){l.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return l.d(c,{a:c}),c}}(),function(){l.d=function(o,c){for(var n in c)l.o(c,n)&&!l.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:c[n]})}}(),function(){l.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)}}(),l(686)}().default})}),Ty={};v4(Ty,{default:()=>iu});b4=Cy(Ey());y4(Ty,Cy(Ey()));Ay=b4,{default:Sy}=Ay,w4=an(Ay,["default"]),iu=Sy!==void 0?Sy:w4;});var Py=Kt(()=>{gf();gf()});function $y(e,t){let r=e.querySelector("output");r||(r=document.createElement("output"),r.setAttribute("role","alert"),e.appendChild(r)),r.textContent="",r.textContent=t}function x4(e){let t=document.createElement("button");return t.type="button",t.textContent="Copy",t.title="Copy to clipboard",t.setAttribute("data-clipboard-target",`#${e.querySelector("input").id}`),t}function _4(e){e.querySelector("input")&&(e.appendChild(x4(e)),e.setAttribute("data-copyable-text-ready",""))}function k4(){let e=new iu("[data-copyable-text] [data-clipboard-target]");e.on("success",t=>{let r=t.trigger.parentElement,a=r.getAttribute("data-copyable-text-success-message")||"Text copied to clipboard.";$y(r,a)}),e.on("error",t=>{let r=t.trigger.parentElement,a=r.getAttribute("data-copyable-text-error-message")||"Something went wrong.";$y(r,a)})}function A4(){let e=document.querySelectorAll("[data-copyable-text]:not([data-copyable-text-ready])");e.length<=0||iu.isSupported()&&([...e].forEach(_4),k4())}var Ly=Kt(()=>{Py();Hn();xe(A4)});function Oy(e,t){let r=e.querySelector(t);return r?r.value:""}function S4(){Ci("setUpDisabilityEligibility()"),Array.from(document.querySelectorAll(".js-disability-eligibility")).forEach(e=>{let t=e.dataset.disabilityEligibilityType;e.addEventListener("submit",r=>{let a=Oy(e,".disability-eligibility-password"),l=Oy(e,".disability-eligibility-token"),o={type:t,password:a,token:l},c=/\?.*login=([^&]+)/,n=location.href.match(c);n&&([,o.login]=n);let u=document.createElement("img");u.src="/images/loading.gif",e.querySelector('input[type="submit"]').parentNode.appendChild(u),xe.ajax({type:"POST",url:"/services/disability_eligibility.php",dataType:"json",data:o,success:g=>{if(g.status==="success"){alert("Success! Your eligibility has been verified.");return}if(g.message==="not logged in"){alert("Please login first.");return}alert("Sorry. We could not verify your eligibility at this time."),console.log(`Verification error: ${g.status_code}, ${g.message}`)},error:(g,m,y)=>{alert("Sorry. We could not verify your eligibility at this time."),console.log(`Verification error: ${m}, ${y}`)},complete:()=>{u.remove()}}),r.preventDefault()})})}var My=Kt(()=>{Hn();xo();xe(()=>S4())});var C4,Iy,Ry=Kt(()=>{C4=()=>{let e=window.location.search.substring(1),t={};return e.length>0&&e.split("&").forEach(r=>{let[a,l]=r.split("=");t[a]=decodeURIComponent(l)}),t},Iy=C4});function Zr(e,t,r="false",a=null){if(typeof e!="string")throw new Error("first arg should be a string");xe(e).on("click",a,l=>{let o=t(l);return r==="callback"&&o?o:r==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})}var ru=Kt(()=>{Hn()});var _o,Dy=Kt(()=>{xo();nu();uf();ru();Hn();_o=class e{static css(){let t=document.createElement("style");t.textContent=`
#manage-ids {
  visibility: hidden;
  position: absolute;
  top: 0;
  left: 0;
  width: 1px;
  height: 1px;
}

#manage-help > div {
  display: inline-block;
  font-weight: bold;
  font-size: 125%;
  padding-right: 10px;
}

#manage-help .btn-info {
  background-color: #777;
  border-color: #666;
}


#manage-help > p {
  text-align: center;
}

.item-ia.manage-item  .item-img {
  opacity: .8;
}

.item-ia.manage-item  .item-img:hover {
  opacity: .9;
}

.manage-check {
  position: absolute;
  right: 0;
  top: 0;
  border-style: solid;
  border-color: black;
  border-width: 2px 4px;
  background-color: black;
  border-radius: 3px;
}

#confirm-remove-items .btn {
  display: block;
  margin: 0 auto 10px;
}

.task-pending {
  opacity: .20;
}

/* Bulk remove items modal */
#confirm-remove-items .modal-content {
  padding: 1rem;
}

#confirm-remove-items h2 {
  font-size: 2.4rem;
}
`,document.getElementsByTagName("head")[0].appendChild(t)}static get Context(){return{Favorites:"collection",SearchResults:"search results",Uploads:"uploads",Posts:"posts",Reviews:"reviews",Collections:"collections",Loans:"loans",WebArchives:"web archives"}}static manage_items(t){xe("body").hasClass("lists")&&xe(".tiles-button:visible").click();let r=xe("body").hasClass("search-results-page")?e.Context.SearchResults:xr.inTab();if(![e.Context.Favorites,e.Context.Uploads,e.Context.Collections,e.Context.WebArchives,e.Context.SearchResults].includes(r)){alert("Removal feature cannot be used here");return}let a=[".item-ia.new-item"];if(r===e.Context.Uploads||r===e.Context.Collections){let l=window.location.pathname.match(/^\/details\/@([^&/#?]+)/);l&&a.push(`.item-ia[data-id="fav-${l[1]}"]`)}if(xe(a.join(", ")).toggleClass("hidden-tiles"),xe(".columns-facets").toggleClass("opac30"),xe(".item-ia .manage-check").length)xe(".item-ia").removeClass("manage-item").unbind("click"),xe(".columns-items .co-top-row > div").toggle(),xe(".item-ia .manage-check, #manage-help").remove(),xe(".item-ia").off("contextmenu");else{if(xe("#manage-help").length&&!xe(".item-ia .hov").length){xe(".item-ia").removeClass("manage-item").unbind("click"),xe(".columns-items .co-top-row > div").toggle(),xe(".item-ia .manage-check, #manage-help").remove(),xe(".item-ia").off("contextmenu");return}let l;switch(r){case e.Context.Favorites:l="Select items to un-favorite";break;case e.Context.SearchResults:l="Select items";break;default:l="Select items to remove"}xe(".columns-items .co-top-row").prepend(`
<div id="manage-help" style="display:none">
  <div>
    ${l}
  </div>
  <div class="topinblock">
    <button id="manage-cancel" class="btn btn-small btn-info">
      Cancel
    </button>
    <button id="manage-remove" class="btn btn-small btn-danger">
      Remove selected items
    </button>
    ${t&&r===e.Context.SearchResults?`
      <button id="manage-item-mgr" class="btn btn-small btn-warning">
        Item Manager the items
      </button>
      `:""}
  </div>
    ${t?`
    <p class="topinblock">
      <a id="manage-toggle-all" href="#">
        Toggle</br>all
      </a>
    </p>
    `:""}
</div>`),xe("#manage-cancel").bind("click",e.manage_items),xe("#manage-remove").bind("click",()=>e.remove_items_modal(r)),xe("#manage-item-mgr").bind("click",e.to_item_manager),xe("#manage-toggle-all").bind("click",e.toggle_checkboxes),xe(".columns-items .co-top-row > div").toggle(),xe(".item-ia.task-pending").bind("click",e.tile_clicked),xe(".item-ia:not(.mobile-header):not(.new-item):not(.task-pending)").addClass("manage-item").bind("click",e.tile_clicked).append(e.checkbox(r===e.Context.SearchResults?"include item for item management":"remove this item from list")),xe(".item-ia").on("contextmenu",c=>{let n=xe(c.target).find("a:first").attr("href")||xe(c.target).parents("a").attr("href");Ci("right-click",n),window.open(n,"_blank")})}}static remove_favorite_item(t){let r=xe(t),a=r.data("id"),l=r.data("fav-collection");if(!a||!l)return;let o=location.protocol.concat("//",location.host,"/details/",l).concat(`?remove_item=${encodeURIComponent(a)}&kind=favorite`);e.toggle_favorite_icon(r,!1),e.update_favorite_count(!1),xe.get(o)}static checkbox(t){return`
<div class="manage-check">
  <input
    type="checkbox"
    alt="${t}"
    title="${t}"/>
</div>`}static tile_clicked(t){let r=xe(t.target);if(r.attr("type")==="checkbox")return!0;t.stopPropagation(),t.preventDefault();let a=r.parents(".item-ia").find(".manage-check input");return a.prop("checked",!a.prop("checked")),!1}static toggle_checkboxes(){return xe(".manage-check input").prop("checked",(t,r)=>!r),!1}static remove_items_modal(t){let r="";xe(".item-ia[data-id]:has(:checked)").each((o,c)=>{let n=xe(c),u=n.find(".C2 a").text().trim();r+=`
        <div>
          <div class="pull-right">
            ${n.find(".pubdate > :first").text()}
          </div>
          <div>
            ${u.length?u:"[untitled]"}
          </div>
          <hr/>
        </div>
      `});let a=r===""?"No items selected":"Are you sure you want to remove these items?",l;if(r==="")r=`
        <div class="alert alert-danger">
          Please select some items using checkboxes from the prior screen to remove.
        </div>`;else{switch(t){case e.Context.Favorites:l="confirmed_remove_favorites";break;case e.Context.WebArchives:l="confirmed_remove_web_archives";break;default:l="confirmed_dark_items"}r+=`
        <button class="btn btn-small btn-danger ${l}">
          Remove items
        </button>`}xr.modal_add(e.modalID,{title:a,body:r,headerClass:""}).modal("show"),Zr(`.${l}`,()=>{e[l]()})}static checked_ids(){return xe(".item-ia[data-id]:has(:checked)").toArray().reduce((t,r)=>{let{id:a}=xe(r).data();return t.concat(t?",":"",a)},"")}static checked_ids_json(){let t=xe(".item-ia[data-id]:has(:checked)").toArray().map(r=>xe(r).data().id);return JSON.stringify(t)}static to_item_manager(){let t=e.checked_ids();if(Ci("to_item_manager:",t),t!==""){let r=xe(`
        <form id="manage-ids" method="POST" action="/manage/">
          <input type="text" name="identifier" value="${t}"/>
        </form>`);xe("body").append(r),r.submit()}return!1}static confirmed_remove_web_archives(){let t={action:"delete",identifiers:e.checked_ids_json()};xe.ajax({type:"POST",url:"/services/web-archives/service.php",data:t,error:(r,a,l)=>{alert("Unable to complete the request. Our servers might be busy. Please try again later."),xe(e.modalID).modal("hide")},success:e.update_tiles})}static confirmed_dark_items(){let t={identifier:e.checked_ids(),admin:"make_dark","curation[state]":"dark","curation[comment]":`from ${location.pathname}`};xe.post("/manage/",t,e.update_tiles)}static confirmed_remove_favorites(){let t=e.checked_ids(),r=location.href.replace(/#.*$/,"").concat(`?kind=favorite&remove_item=${encodeURIComponent(t)}`);return xe.get(r,e.update_tiles),!1}static update_tiles(){xe(".item-ia[data-id]:has(:checked)").remove(),xr.tiler(),xe(e.modalID).modal("hide")}static decorate_pendings(t){t.length&&(Ci("pending",t),t.forEach(r=>xe(`.item-ia[data-id=${r}]`).addClass("task-pending")))}static toggle_list_status(t){return xe(t).hasClass("favorited")?e.remove_favorite_item(t,!0):xr.modal_go(t,{favorite:1}),!1}static toggle_favorite_icon(t,r=!0){let a=xe(t).find("span.icon-label");t.length&&(t.find("span:eq(0)").toggleClass("iconochive-No_Favorite iconochive-favorite"),r?(t.addClass("favorited"),t.attr({"data-original-title":"Unfavorite"}),a.text("Unfavorite")):(t.removeClass("favorited"),t.attr({"data-original-title":"Favorite"}),a.text("Favorite")))}static update_favorite_count(t=!0){let r=xe(".favorite-count"),a=r.find(".item-stats-summary__label"),l=r.find(".item-stats-summary__count");l.length||(l=document.createElement("span"),l.className="item-stats-summary__count",r.append(l),a=document.createElement("span"),a.className="item-stats-summary__label",r.append(a));let o=Number(xe(l).text().trim().replace(/,/g,""));t?o+=1:o-=1,xe(a).text(o===1?" Favorite":" Favorites"),xe(l).text(o.toLocaleString())}};xe(()=>{if(window.location.hostname==="web.archive.org")return;_o.modalID="#confirm-remove-items",_o.css(),xe("body").hasClass("manage")&&_o.manage_items(1);let e=xe(".js-manage-toggle_list_status");e.length&&e.bind("click",t=>{t.preventDefault(),_o.toggle_list_status(e[0])}),Zr(".js-search-bar-manage",t=>_o.manage_items(1)),Zr(".js-manage-share_button",t=>xr.modal_go(t.currentTarget,{ignore_lnk:1,shown:xr.embed_codes_adjust}))});window.Manage=_o});var jy,Ny=Kt(()=>{jy={namespace:"banners",action:"ia-banner-close",selector:".ia-banner",dismiss(e){e.preventDefault();let t=e.currentTarget.closest(this.selector);this.isLocalStorageAvailable()&&this.writeStorage(t.getAttribute("data-campaign")),t.remove()},readStorage(){return JSON.parse(localStorage.getItem(this.namespace))||[]},writeStorage(e){let t=this.readStorage();localStorage.setItem(this.namespace,JSON.stringify([...t,e]))},bindEvents(){document.querySelectorAll(`${this.selector} [data-action=${this.action}]`).forEach(e=>{e.addEventListener("submit",t=>(this.dismiss(t),!1))})},checkVisibility(){let e=this.isLocalStorageAvailable()?this.readStorage():[];document.querySelectorAll(this.selector).forEach(t=>{t.classList.toggle("visible",!e.includes(t.getAttribute("data-campaign")))})},isLocalStorageAvailable(){try{return Object.keys(localStorage).length>=0}catch(e){return!1}},init(){this.bindEvents(),this.checkVisibility()}}});function ou(e,t){let r=t&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&");for(let a=0;a<r.length;a++)if(r[a].slice(0,r[a].indexOf("="))===e){let l=r[a].slice(r[a].indexOf("=")+1);return l.length>0?unescape(l):""}return""}var vf=Kt(()=>{});function ia(e){let t=`${e}`.split("."),r=t[0],a=t.length>1?`.${t[1]}`:"",l=/(\d+)(\d{3})/;for(;l.test(r);)r=r.replace(l,"$1,$2");return r+a}var yf=Kt(()=>{});var By,Hy=Kt(()=>{Xl();Hn();nu();By=({$form:e,url:t,selector:r,element:a,conf:l})=>{let o={success(c){qn.get("logged-in-user")!==void 0?(xe(r).on("hidden.bs.modal",()=>{xe(r).remove(),xr.modal_go(a,on(Dr({},l),{postLogin:!0}))}),xe(document.body).removeClass("blurry"),xe(r).modal("hide")):c.status!=="ok"&&(c.status==="bad_login"&&xe(".reset-password").hide(),xe(".password-error").html(c.message))},error(c){let n=c.responseJSON;xe(".reset-password").hide(),n?xe(".password-error").html(n.message):xe(".password-error").text("Whoops! Something didn't work quite right. Please try again in a bit.")}};e.on("submit",()=>{let c={},{success:n,error:u}=o;return e.find("input").each((p,g)=>{xe(g).attr("name").length&&(c[xe(g).attr("name")]=xe(g).val())}),c.submit_by_js="true",e.find(".alert").remove(),xe.ajax(t,{type:"POST",data:c,success:n,error:u}),!1})}});var au,Fy=Kt(()=>{Hn();yf();hf();au=class e{static RegionsTable({caption:t="Regions",captionClass:r="",counts:a=[]}){return`
      <table class="stats-table">
        <caption class="${r}">${t}</caption>

        <thead>
          <tr>
            <th scope="col">Region</th>
            <th scope="col">Country</th>
            <th class="stats-table__numeric-column" scope="col">Views</th>
          </tr>
        </thead>

        <tbody>
          ${a.map(l=>`
            <tr key="${l.state.code}_${l.country.code}_${l.count}">
              <td>${l.state.formattedName}</td>
              <td>${l.country.formattedName}</td>
              <td class="stats-table__numeric-column">${l.formattedCount}</td>
            </tr>`).join("")}
        </tbody>
      </table>`}static setUpTopRegionsTable(){let t=xe(".js-top-regions-table"),r=t.find(".js-top-regions-message"),a=r.text();if(!t||!r)return;r.html(Ns.LoadingMessage({message:"loading data"}));let l={uaKinds:["non_robot","unrecognized"]};t.data("days")&&(l.days=parseInt(t.data("days"),10)),t.data("limit")&&(l.limit=parseInt(t.data("limit"),10)),e.StatsApiClient.getGeoCounts(t.data("identifier"),l).then(o=>{t.html(e.RegionsTable({caption:t.data("caption"),captionClass:t.data("captionClass"),counts:o}))},()=>{r.text(a)})}};(function(){function t(n){return n.charAt(0).toUpperCase()+n.slice(1)}class r{constructor({code:u,name:p}){this.code=u,this.name=p}get formattedName(){return t(this.name)}}class a{constructor({count:u,country:p,state:g}){this.count=parseInt(u,10),this.country=p,this.state=g}get formattedCount(){return ia(this.count)}}function l(n){return new a({count:n.sum_count_value,country:new r({code:n.geo_country,name:n.country}),state:new r({code:n.geo_state,name:n.state})})}function o(n,{uaKinds:u=["robot","non_robot","unrecognized"]}={}){if(!n.counts_geo)throw new RangeError("API response doesn't contain property 'counts_geo'.");function p(m){return u.indexOf(m)!==-1}let g={};for(let m=0;m<n.counts_geo.length;m++){let y=n.counts_geo[m];if(p(y.ua_kind)&&y.country!=="unknown"){let x=`${y.geo_country}_${y.geo_state}`;g[x]?g[x].count+=y.sum_count_value:g[x]=l(y)}}return Object.keys(g).map(m=>g[m])}let c="https://be-api.us.archive.org/views/v1";au.StatsApiClient=class{static getGeoCounts(u,{days:p=30,limit:g=100,uaKinds:m=["robot","non_robot","unrecognized"]}={}){let y=`${c}/detail/collection/${u}/${p}`;return xe.get(y).then(x=>{try{return o(x,{uaKinds:m}).sort((w,k)=>w.count<k.count?1:-1).slice(0,g)}catch(w){return xe.Deferred().reject(w)}})}}})()});var E4,wf,T4,P4,$4,L4,O4,M4,bf,I4,Vy,Wy,qy,R4,zy,Uy,D4,xf,_f=Kt(()=>{E4=Object.create,wf=Object.defineProperty,T4=Object.getOwnPropertyDescriptor,P4=Object.getOwnPropertyNames,$4=Object.getPrototypeOf,L4=Object.prototype.hasOwnProperty,O4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),M4=(e,t)=>{for(var r in t)wf(e,r,{get:t[r],enumerable:!0})},bf=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of P4(t))!L4.call(e,l)&&l!==r&&wf(e,l,{get:()=>t[l],enumerable:!(a=T4(t,l))||a.enumerable});return e},I4=(e,t,r)=>(bf(e,t,"default"),r&&bf(r,t,"default")),Vy=(e,t,r)=>(r=e!=null?E4($4(e)):{},bf(t||!e||!e.__esModule?wf(r,"default",{value:e,enumerable:!0}):r,e)),Wy=O4(()=>{(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(s,h){var v,d,_,C=s.nodeName.toLowerCase();return C==="area"?(v=s.parentNode,d=v.name,s.href&&d&&v.nodeName.toLowerCase()==="map"?(_=e("img[usemap='#"+d+"']")[0],!!_&&r(_)):!1):(/input|select|textarea|button|object/.test(C)?!s.disabled:C==="a"&&s.href||h)&&r(s)}function r(s){return e.expr.filters.visible(s)&&!e(s).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}function a(s){for(var h,v;s.length&&s[0]!==document;){if(h=s.css("position"),(h==="absolute"||h==="relative"||h==="fixed")&&(v=parseInt(s.css("zIndex"),10),!isNaN(v)&&v!==0))return v;s=s.parent()}return 0}function l(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=o(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(s){var h="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return s.delegate(h,"mouseout",function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(h,"mouseover",c)}function c(){e.datepicker._isDisabledDatepicker(P.inline?P.dpDiv.parent()[0]:P.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))}function n(s,h){e.extend(s,h);for(var v in h)h[v]==null&&(s[v]=h[v]);return s}function u(s){return function(){var h=this.element.val();s.apply(this,arguments),this._refresh(),h!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(s){var h=this.css("position"),v=h==="absolute",d=s?/(auto|scroll|hidden)/:/(auto|scroll)/,_=this.parents().filter(function(){var C=e(this);return v&&C.css("position")==="static"?!1:d.test(C.css("overflow")+C.css("overflow-y")+C.css("overflow-x"))}).eq(0);return h!=="fixed"&&_.length?_:e(this[0].ownerDocument||document)},uniqueId:function(){var s=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(s){return function(h){return!!e.data(h,s)}}):function(s,h,v){return!!e.data(s,v[3])},focusable:function(s){return t(s,!isNaN(e.attr(s,"tabindex")))},tabbable:function(s){var h=e.attr(s,"tabindex"),v=isNaN(h);return(v||h>=0)&&t(s,!v)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(s,h){function v(N,G,q,K){return e.each(d,function(){G-=parseFloat(e.css(N,"padding"+this))||0,q&&(G-=parseFloat(e.css(N,"border"+this+"Width"))||0),K&&(G-=parseFloat(e.css(N,"margin"+this))||0)}),G}var d=h==="Width"?["Left","Right"]:["Top","Bottom"],_=h.toLowerCase(),C={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+h]=function(N){return N===void 0?C["inner"+h].call(this):this.each(function(){e(this).css(_,v(this,N)+"px")})},e.fn["outer"+h]=function(N,G){return typeof N!="number"?C["outer"+h].call(this,N):this.each(function(){e(this).css(_,v(this,N,!0,G)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(s){return this.add(s==null?this.prevObject:this.prevObject.filter(s))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(s){return function(h){return arguments.length?s.call(this,e.camelCase(h)):s.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(s){return function(h,v){return typeof h=="number"?this.each(function(){var d=this;setTimeout(function(){e(d).focus(),v&&v.call(d)},h)}):s.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var s="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(s+".ui-disableSelection",function(h){h.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(s){if(s!==void 0)return this.css("zIndex",s);if(this.length)for(var h,v,d=e(this[0]);d.length&&d[0]!==document;){if(h=d.css("position"),(h==="absolute"||h==="relative"||h==="fixed")&&(v=parseInt(d.css("zIndex"),10),!isNaN(v)&&v!==0))return v;d=d.parent()}return 0}}),e.ui.plugin={add:function(s,h,v){var d,_=e.ui[s].prototype;for(d in v)_.plugins[d]=_.plugins[d]||[],_.plugins[d].push([h,v[d]])},call:function(s,h,v,d){var _,C=s.plugins[h];if(C&&(d||s.element[0].parentNode&&s.element[0].parentNode.nodeType!==11))for(_=0;C.length>_;_++)s.options[C[_][0]]&&C[_][1].apply(s.element,v)}};var p=0,g=Array.prototype.slice;e.cleanData=function(s){return function(h){var v,d,_;for(_=0;(d=h[_])!=null;_++)try{v=e._data(d,"events"),v&&v.remove&&e(d).triggerHandler("remove")}catch(C){}s(h)}}(e.cleanData),e.widget=function(s,h,v){var d,_,C,N,G={},q=s.split(".")[0];return s=s.split(".")[1],d=q+"-"+s,v||(v=h,h=e.Widget),e.expr[":"][d.toLowerCase()]=function(K){return!!e.data(K,d)},e[q]=e[q]||{},_=e[q][s],C=e[q][s]=function(K,ie){return this._createWidget?(arguments.length&&this._createWidget(K,ie),void 0):new C(K,ie)},e.extend(C,_,{version:v.version,_proto:e.extend({},v),_childConstructors:[]}),N=new h,N.options=e.widget.extend({},N.options),e.each(v,function(K,ie){return e.isFunction(ie)?(G[K]=function(){var Q=function(){return h.prototype[K].apply(this,arguments)},te=function(Oe){return h.prototype[K].apply(this,Oe)};return function(){var Oe,fe=this._super,W=this._superApply;return this._super=Q,this._superApply=te,Oe=ie.apply(this,arguments),this._super=fe,this._superApply=W,Oe}}(),void 0):(G[K]=ie,void 0)}),C.prototype=e.widget.extend(N,{widgetEventPrefix:_&&N.widgetEventPrefix||s},G,{constructor:C,namespace:q,widgetName:s,widgetFullName:d}),_?(e.each(_._childConstructors,function(K,ie){var Q=ie.prototype;e.widget(Q.namespace+"."+Q.widgetName,C,ie._proto)}),delete _._childConstructors):h._childConstructors.push(C),e.widget.bridge(s,C),C},e.widget.extend=function(s){for(var h,v,d=g.call(arguments,1),_=0,C=d.length;C>_;_++)for(h in d[_])v=d[_][h],d[_].hasOwnProperty(h)&&v!==void 0&&(s[h]=e.isPlainObject(v)?e.isPlainObject(s[h])?e.widget.extend({},s[h],v):e.widget.extend({},v):v);return s},e.widget.bridge=function(s,h){var v=h.prototype.widgetFullName||s;e.fn[s]=function(d){var _=typeof d=="string",C=g.call(arguments,1),N=this;return d=!_&&C.length?e.widget.extend.apply(null,[d].concat(C)):d,_?this.each(function(){var G,q=e.data(this,v);return d==="instance"?(N=q,!1):q?e.isFunction(q[d])&&d.charAt(0)!=="_"?(G=q[d].apply(q,C),G!==q&&G!==void 0?(N=G&&G.jquery?N.pushStack(G.get()):G,!1):void 0):e.error("no such method '"+d+"' for "+s+" widget instance"):e.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+d+"'")}):this.each(function(){var G=e.data(this,v);G?(G.option(d||{}),G._init&&G._init()):e.data(this,v,new h(d,this))}),N}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(s,h){h=e(h||this.defaultElement||this)[0],this.element=e(h),this.uuid=p++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),s),this.bindings=e(),this.hoverable=e(),this.focusable=e(),h!==this&&(e.data(h,this.widgetFullName,this),this._on(!0,this.element,{remove:function(v){v.target===h&&this.destroy()}}),this.document=e(h.style?h.ownerDocument:h.document||h),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(s,h){var v,d,_,C=s;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof s=="string")if(C={},v=s.split("."),s=v.shift(),v.length){for(d=C[s]=e.widget.extend({},this.options[s]),_=0;v.length-1>_;_++)d[v[_]]=d[v[_]]||{},d=d[v[_]];if(s=v.pop(),arguments.length===1)return d[s]===void 0?null:d[s];d[s]=h}else{if(arguments.length===1)return this.options[s]===void 0?null:this.options[s];C[s]=h}return this._setOptions(C),this},_setOptions:function(s){var h;for(h in s)this._setOption(h,s[h]);return this},_setOption:function(s,h){return this.options[s]=h,s==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!h),h&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(s,h,v){var d,_=this;typeof s!="boolean"&&(v=h,h=s,s=!1),v?(h=d=e(h),this.bindings=this.bindings.add(h)):(v=h,h=this.element,d=this.widget()),e.each(v,function(C,N){function G(){return s||_.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?(typeof N=="string"?_[N]:N).apply(_,arguments):void 0}typeof N!="string"&&(G.guid=N.guid=N.guid||G.guid||e.guid++);var q=C.match(/^([\w:-]*)\s*(.*)$/),K=q[1]+_.eventNamespace,ie=q[2];ie?d.delegate(ie,K,G):h.bind(K,G)})},_off:function(s,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,s.unbind(h).undelegate(h)},_delay:function(s,h){function v(){return(typeof s=="string"?d[s]:s).apply(d,arguments)}var d=this;return setTimeout(v,h||0)},_hoverable:function(s){this.hoverable=this.hoverable.add(s),this._on(s,{mouseenter:function(h){e(h.currentTarget).addClass("ui-state-hover")},mouseleave:function(h){e(h.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(s){this.focusable=this.focusable.add(s),this._on(s,{focusin:function(h){e(h.currentTarget).addClass("ui-state-focus")},focusout:function(h){e(h.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(s,h,v){var d,_,C=this.options[s];if(v=v||{},h=e.Event(h),h.type=(s===this.widgetEventPrefix?s:this.widgetEventPrefix+s).toLowerCase(),h.target=this.element[0],_=h.originalEvent)for(d in _)d in h||(h[d]=_[d]);return this.element.trigger(h,v),!(e.isFunction(C)&&C.apply(this.element[0],[h].concat(v))===!1||h.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(s,h){e.Widget.prototype["_"+s]=function(v,d,_){typeof d=="string"&&(d={effect:d});var C,N=d?d===!0||typeof d=="number"?h:d.effect||h:s;d=d||{},typeof d=="number"&&(d={duration:d}),C=!e.isEmptyObject(d),d.complete=_,d.delay&&v.delay(d.delay),C&&e.effects&&e.effects.effect[N]?v[s](d):N!==s&&v[N]?v[N](d.duration,d.easing,_):v.queue(function(G){e(this)[s](),_&&_.call(v[0]),G()})}}),e.widget;var m=!1;e(document).mouseup(function(){m=!1}),e.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var s=this;this.element.bind("mousedown."+this.widgetName,function(h){return s._mouseDown(h)}).bind("click."+this.widgetName,function(h){return e.data(h.target,s.widgetName+".preventClickEvent")===!0?(e.removeData(h.target,s.widgetName+".preventClickEvent"),h.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(s){if(!m){this._mouseStarted&&this._mouseUp(s),this._mouseDownEvent=s;var h=this,v=s.which===1,d=typeof this.options.cancel=="string"&&s.target.nodeName?e(s.target).closest(this.options.cancel).length:!1;return v&&!d&&this._mouseCapture(s)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(s)&&this._mouseDelayMet(s)&&(this._mouseStarted=this._mouseStart(s)!==!1,!this._mouseStarted)?(s.preventDefault(),!0):(e.data(s.target,this.widgetName+".preventClickEvent")===!0&&e.removeData(s.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(_){return h._mouseMove(_)},this._mouseUpDelegate=function(_){return h._mouseUp(_)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),s.preventDefault(),m=!0,!0)):!0}},_mouseMove:function(s){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!s.button?this._mouseUp(s):s.which?this._mouseStarted?(this._mouseDrag(s),s.preventDefault()):(this._mouseDistanceMet(s)&&this._mouseDelayMet(s)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,s)!==!1,this._mouseStarted?this._mouseDrag(s):this._mouseUp(s)),!this._mouseStarted):this._mouseUp(s)},_mouseUp:function(s){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,s.target===this._mouseDownEvent.target&&e.data(s.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(s)),m=!1,!1},_mouseDistanceMet:function(s){return Math.max(Math.abs(this._mouseDownEvent.pageX-s.pageX),Math.abs(this._mouseDownEvent.pageY-s.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function s(fe,W,ae){return[parseFloat(fe[0])*(te.test(fe[0])?W/100:1),parseFloat(fe[1])*(te.test(fe[1])?ae/100:1)]}function h(fe,W){return parseInt(e.css(fe,W),10)||0}function v(fe){var W=fe[0];return W.nodeType===9?{width:fe.width(),height:fe.height(),offset:{top:0,left:0}}:e.isWindow(W)?{width:fe.width(),height:fe.height(),offset:{top:fe.scrollTop(),left:fe.scrollLeft()}}:W.preventDefault?{width:0,height:0,offset:{top:W.pageY,left:W.pageX}}:{width:fe.outerWidth(),height:fe.outerHeight(),offset:fe.offset()}}e.ui=e.ui||{};var d,_,C=Math.max,N=Math.abs,G=Math.round,q=/left|center|right/,K=/top|center|bottom/,ie=/[\+\-]\d+(\.[\d]+)?%?/,Q=/^\w+/,te=/%$/,Oe=e.fn.position;e.position={scrollbarWidth:function(){if(d!==void 0)return d;var fe,W,ae=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),de=ae.children()[0];return e("body").append(ae),fe=de.offsetWidth,ae.css("overflow","scroll"),W=de.offsetWidth,fe===W&&(W=ae[0].clientWidth),ae.remove(),d=fe-W},getScrollInfo:function(fe){var W=fe.isWindow||fe.isDocument?"":fe.element.css("overflow-x"),ae=fe.isWindow||fe.isDocument?"":fe.element.css("overflow-y"),de=W==="scroll"||W==="auto"&&fe.width<fe.element[0].scrollWidth,Z=ae==="scroll"||ae==="auto"&&fe.height<fe.element[0].scrollHeight;return{width:Z?e.position.scrollbarWidth():0,height:de?e.position.scrollbarWidth():0}},getWithinInfo:function(fe){var W=e(fe||window),ae=e.isWindow(W[0]),de=!!W[0]&&W[0].nodeType===9;return{element:W,isWindow:ae,isDocument:de,offset:W.offset()||{left:0,top:0},scrollLeft:W.scrollLeft(),scrollTop:W.scrollTop(),width:ae||de?W.width():W.outerWidth(),height:ae||de?W.height():W.outerHeight()}}},e.fn.position=function(fe){if(!fe||!fe.of)return Oe.apply(this,arguments);fe=e.extend({},fe);var W,ae,de,Z,ye,Y,ce=e(fe.of),Ze=e.position.getWithinInfo(fe.within),ft=e.position.getScrollInfo(Ze),ct=(fe.collision||"flip").split(" "),Ge={};return Y=v(ce),ce[0].preventDefault&&(fe.at="left top"),ae=Y.width,de=Y.height,Z=Y.offset,ye=e.extend({},Z),e.each(["my","at"],function(){var Ae,Me,De=(fe[this]||"").split(" ");De.length===1&&(De=q.test(De[0])?De.concat(["center"]):K.test(De[0])?["center"].concat(De):["center","center"]),De[0]=q.test(De[0])?De[0]:"center",De[1]=K.test(De[1])?De[1]:"center",Ae=ie.exec(De[0]),Me=ie.exec(De[1]),Ge[this]=[Ae?Ae[0]:0,Me?Me[0]:0],fe[this]=[Q.exec(De[0])[0],Q.exec(De[1])[0]]}),ct.length===1&&(ct[1]=ct[0]),fe.at[0]==="right"?ye.left+=ae:fe.at[0]==="center"&&(ye.left+=ae/2),fe.at[1]==="bottom"?ye.top+=de:fe.at[1]==="center"&&(ye.top+=de/2),W=s(Ge.at,ae,de),ye.left+=W[0],ye.top+=W[1],this.each(function(){var Ae,Me,De=e(this),Ne=De.outerWidth(),Ve=De.outerHeight(),rt=h(this,"marginLeft"),je=h(this,"marginTop"),ee=Ne+rt+h(this,"marginRight")+ft.width,J=Ve+je+h(this,"marginBottom")+ft.height,qe=e.extend({},ye),_t=s(Ge.my,De.outerWidth(),De.outerHeight());fe.my[0]==="right"?qe.left-=Ne:fe.my[0]==="center"&&(qe.left-=Ne/2),fe.my[1]==="bottom"?qe.top-=Ve:fe.my[1]==="center"&&(qe.top-=Ve/2),qe.left+=_t[0],qe.top+=_t[1],_||(qe.left=G(qe.left),qe.top=G(qe.top)),Ae={marginLeft:rt,marginTop:je},e.each(["left","top"],function(we,$e){e.ui.position[ct[we]]&&e.ui.position[ct[we]][$e](qe,{targetWidth:ae,targetHeight:de,elemWidth:Ne,elemHeight:Ve,collisionPosition:Ae,collisionWidth:ee,collisionHeight:J,offset:[W[0]+_t[0],W[1]+_t[1]],my:fe.my,at:fe.at,within:Ze,elem:De})}),fe.using&&(Me=function(we){var $e=Z.left-qe.left,at=$e+ae-Ne,Ee=Z.top-qe.top,tt=Ee+de-Ve,nt={target:{element:ce,left:Z.left,top:Z.top,width:ae,height:de},element:{element:De,left:qe.left,top:qe.top,width:Ne,height:Ve},horizontal:0>at?"left":$e>0?"right":"center",vertical:0>tt?"top":Ee>0?"bottom":"middle"};Ne>ae&&ae>N($e+at)&&(nt.horizontal="center"),Ve>de&&de>N(Ee+tt)&&(nt.vertical="middle"),nt.important=C(N($e),N(at))>C(N(Ee),N(tt))?"horizontal":"vertical",fe.using.call(this,we,nt)}),De.offset(e.extend(qe,{using:Me}))})},e.ui.position={fit:{left:function(fe,W){var ae,de=W.within,Z=de.isWindow?de.scrollLeft:de.offset.left,ye=de.width,Y=fe.left-W.collisionPosition.marginLeft,ce=Z-Y,Ze=Y+W.collisionWidth-ye-Z;W.collisionWidth>ye?ce>0&&0>=Ze?(ae=fe.left+ce+W.collisionWidth-ye-Z,fe.left+=ce-ae):fe.left=Ze>0&&0>=ce?Z:ce>Ze?Z+ye-W.collisionWidth:Z:ce>0?fe.left+=ce:Ze>0?fe.left-=Ze:fe.left=C(fe.left-Y,fe.left)},top:function(fe,W){var ae,de=W.within,Z=de.isWindow?de.scrollTop:de.offset.top,ye=W.within.height,Y=fe.top-W.collisionPosition.marginTop,ce=Z-Y,Ze=Y+W.collisionHeight-ye-Z;W.collisionHeight>ye?ce>0&&0>=Ze?(ae=fe.top+ce+W.collisionHeight-ye-Z,fe.top+=ce-ae):fe.top=Ze>0&&0>=ce?Z:ce>Ze?Z+ye-W.collisionHeight:Z:ce>0?fe.top+=ce:Ze>0?fe.top-=Ze:fe.top=C(fe.top-Y,fe.top)}},flip:{left:function(fe,W){var ae,de,Z=W.within,ye=Z.offset.left+Z.scrollLeft,Y=Z.width,ce=Z.isWindow?Z.scrollLeft:Z.offset.left,Ze=fe.left-W.collisionPosition.marginLeft,ft=Ze-ce,ct=Ze+W.collisionWidth-Y-ce,Ge=W.my[0]==="left"?-W.elemWidth:W.my[0]==="right"?W.elemWidth:0,Ae=W.at[0]==="left"?W.targetWidth:W.at[0]==="right"?-W.targetWidth:0,Me=-2*W.offset[0];0>ft?(ae=fe.left+Ge+Ae+Me+W.collisionWidth-Y-ye,(0>ae||N(ft)>ae)&&(fe.left+=Ge+Ae+Me)):ct>0&&(de=fe.left-W.collisionPosition.marginLeft+Ge+Ae+Me-ce,(de>0||ct>N(de))&&(fe.left+=Ge+Ae+Me))},top:function(fe,W){var ae,de,Z=W.within,ye=Z.offset.top+Z.scrollTop,Y=Z.height,ce=Z.isWindow?Z.scrollTop:Z.offset.top,Ze=fe.top-W.collisionPosition.marginTop,ft=Ze-ce,ct=Ze+W.collisionHeight-Y-ce,Ge=W.my[1]==="top",Ae=Ge?-W.elemHeight:W.my[1]==="bottom"?W.elemHeight:0,Me=W.at[1]==="top"?W.targetHeight:W.at[1]==="bottom"?-W.targetHeight:0,De=-2*W.offset[1];0>ft?(de=fe.top+Ae+Me+De+W.collisionHeight-Y-ye,fe.top+Ae+Me+De>ft&&(0>de||N(ft)>de)&&(fe.top+=Ae+Me+De)):ct>0&&(ae=fe.top-W.collisionPosition.marginTop+Ae+Me+De-ce,fe.top+Ae+Me+De>ct&&(ae>0||ct>N(ae))&&(fe.top+=Ae+Me+De))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var fe,W,ae,de,Z,ye=document.getElementsByTagName("body")[0],Y=document.createElement("div");fe=document.createElement(ye?"div":"body"),ae={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},ye&&e.extend(ae,{position:"absolute",left:"-1000px",top:"-1000px"});for(Z in ae)fe.style[Z]=ae[Z];fe.appendChild(Y),W=ye||document.documentElement,W.insertBefore(fe,W.firstChild),Y.style.cssText="position: absolute; left: 10.7432222px;",de=e(Y).offset().left,_=de>10&&11>de,fe.innerHTML="",W.removeChild(fe)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var s=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),s.collapsible||s.active!==!1&&s.active!=null||(s.active=0),this._processPanels(),0>s.active&&(s.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var s=this.options.icons;s&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+s.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(s.header).addClass(s.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var s;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),s=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&s.css("height","")},_setOption:function(s,h){return s==="active"?(this._activate(h),void 0):(s==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(h)),this._super(s,h),s!=="collapsible"||h||this.options.active!==!1||this._activate(0),s==="icons"&&(this._destroyIcons(),h&&this._createIcons()),s==="disabled"&&(this.element.toggleClass("ui-state-disabled",!!h).attr("aria-disabled",h),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!h)),void 0)},_keydown:function(s){if(!s.altKey&&!s.ctrlKey){var h=e.ui.keyCode,v=this.headers.length,d=this.headers.index(s.target),_=!1;switch(s.keyCode){case h.RIGHT:case h.DOWN:_=this.headers[(d+1)%v];break;case h.LEFT:case h.UP:_=this.headers[(d-1+v)%v];break;case h.SPACE:case h.ENTER:this._eventHandler(s);break;case h.HOME:_=this.headers[0];break;case h.END:_=this.headers[v-1]}_&&(e(s.target).attr("tabIndex",-1),e(_).attr("tabIndex",0),_.focus(),s.preventDefault())}},_panelKeyDown:function(s){s.keyCode===e.ui.keyCode.UP&&s.ctrlKey&&e(s.currentTarget).prev().focus()},refresh:function(){var s=this.options;this._processPanels(),s.active===!1&&s.collapsible===!0||!this.headers.length?(s.active=!1,this.active=e()):s.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(s.active=!1,this.active=e()):this._activate(Math.max(0,s.active-1)):s.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var s,h=this.options,v=h.heightStyle,d=this.element.parent();this.active=this._findActive(h.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var _=e(this),C=_.uniqueId().attr("id"),N=_.next(),G=N.uniqueId().attr("id");_.attr("aria-controls",G),N.attr("aria-labelledby",C)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(h.event),v==="fill"?(s=d.height(),this.element.siblings(":visible").each(function(){var _=e(this),C=_.css("position");C!=="absolute"&&C!=="fixed"&&(s-=_.outerHeight(!0))}),this.headers.each(function(){s-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,s-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):v==="auto"&&(s=0,this.headers.next().each(function(){s=Math.max(s,e(this).css("height","").height())}).height(s))},_activate:function(s){var h=this._findActive(s)[0];h!==this.active[0]&&(h=h||this.active[0],this._eventHandler({target:h,currentTarget:h,preventDefault:e.noop}))},_findActive:function(s){return typeof s=="number"?this.headers.eq(s):e()},_setupEvents:function(s){var h={keydown:"_keydown"};s&&e.each(s.split(" "),function(v,d){h[d]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,h),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(s){var h=this.options,v=this.active,d=e(s.currentTarget),_=d[0]===v[0],C=_&&h.collapsible,N=C?e():d.next(),G=v.next(),q={oldHeader:v,oldPanel:G,newHeader:C?e():d,newPanel:N};s.preventDefault(),_&&!h.collapsible||this._trigger("beforeActivate",s,q)===!1||(h.active=C?!1:this.headers.index(d),this.active=_?e():d,this._toggle(q),v.removeClass("ui-accordion-header-active ui-state-active"),h.icons&&v.children(".ui-accordion-header-icon").removeClass(h.icons.activeHeader).addClass(h.icons.header),_||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),h.icons&&d.children(".ui-accordion-header-icon").removeClass(h.icons.header).addClass(h.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(s){var h=s.newPanel,v=this.prevShow.length?this.prevShow:s.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=h,this.prevHide=v,this.options.animate?this._animate(h,v,s):(v.hide(),h.show(),this._toggleComplete(s)),v.attr({"aria-hidden":"true"}),v.prev().attr("aria-selected","false"),h.length&&v.length?v.prev().attr({tabIndex:-1,"aria-expanded":"false"}):h.length&&this.headers.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),h.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(s,h,v){var d,_,C,N=this,G=0,q=s.length&&(!h.length||s.index()<h.index()),K=this.options.animate||{},ie=q&&K.down||K,Q=function(){N._toggleComplete(v)};return typeof ie=="number"&&(C=ie),typeof ie=="string"&&(_=ie),_=_||ie.easing||K.easing,C=C||ie.duration||K.duration,h.length?s.length?(d=s.show().outerHeight(),h.animate(this.hideProps,{duration:C,easing:_,step:function(te,Oe){Oe.now=Math.round(te)}}),s.hide().animate(this.showProps,{duration:C,easing:_,complete:Q,step:function(te,Oe){Oe.now=Math.round(te),Oe.prop!=="height"?G+=Oe.now:N.options.heightStyle!=="content"&&(Oe.now=Math.round(d-h.outerHeight()-G),G=0)}}),void 0):h.animate(this.hideProps,C,_,Q):s.animate(this.showProps,C,_,Q)},_toggleComplete:function(s){var h=s.oldPanel;h.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),h.length&&(h.parent()[0].className=h.parent()[0].className),this._trigger("activate",null,s)}}),e.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(s){s.preventDefault()},"click .ui-menu-item":function(s){var h=e(s.target);!this.mouseHandled&&h.not(".ui-state-disabled").length&&(this.select(s),s.isPropagationStopped()||(this.mouseHandled=!0),h.has(".ui-menu").length?this.expand(s):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(s){var h=e(s.currentTarget);h.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(s,h)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(s,h){var v=this.active||this.element.find(this.options.items).eq(0);h||this.focus(s,v)},blur:function(s){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(s)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(s){this._closeOnDocumentClick(s)&&this.collapseAll(s),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var s=e(this);s.data("ui-menu-submenu-carat")&&s.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(s){function h(q){return q.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var v,d,_,C,N,G=!0;switch(s.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(s);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(s);break;case e.ui.keyCode.HOME:this._move("first","first",s);break;case e.ui.keyCode.END:this._move("last","last",s);break;case e.ui.keyCode.UP:this.previous(s);break;case e.ui.keyCode.DOWN:this.next(s);break;case e.ui.keyCode.LEFT:this.collapse(s);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(s);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(s);break;case e.ui.keyCode.ESCAPE:this.collapse(s);break;default:G=!1,d=this.previousFilter||"",_=String.fromCharCode(s.keyCode),C=!1,clearTimeout(this.filterTimer),_===d?C=!0:_=d+_,N=RegExp("^"+h(_),"i"),v=this.activeMenu.find(this.options.items).filter(function(){return N.test(e(this).text())}),v=C&&v.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):v,v.length||(_=String.fromCharCode(s.keyCode),N=RegExp("^"+h(_),"i"),v=this.activeMenu.find(this.options.items).filter(function(){return N.test(e(this).text())})),v.length?(this.focus(s,v),v.length>1?(this.previousFilter=_,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}G&&s.preventDefault()},_activate:function(s){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(s):this.select(s))},refresh:function(){var s,h,v=this,d=this.options.icons.submenu,_=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),_.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var C=e(this),N=C.parent(),G=e("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);N.attr("aria-haspopup","true").prepend(G),C.attr("aria-labelledby",N.attr("id"))}),s=_.add(this.element),h=s.find(this.options.items),h.not(".ui-menu-item").each(function(){var C=e(this);v._isDivider(C)&&C.addClass("ui-widget-content ui-menu-divider")}),h.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),h.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(s,h){s==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(h.submenu),s==="disabled"&&this.element.toggleClass("ui-state-disabled",!!h).attr("aria-disabled",h),this._super(s,h)},focus:function(s,h){var v,d;this.blur(s,s&&s.type==="focus"),this._scrollIntoView(h),this.active=h.first(),d=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),s&&s.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),v=h.children(".ui-menu"),v.length&&s&&/^mouse/.test(s.type)&&this._startOpening(v),this.activeMenu=h.parent(),this._trigger("focus",s,{item:h})},_scrollIntoView:function(s){var h,v,d,_,C,N;this._hasScroll()&&(h=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,v=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,d=s.offset().top-this.activeMenu.offset().top-h-v,_=this.activeMenu.scrollTop(),C=this.activeMenu.height(),N=s.outerHeight(),0>d?this.activeMenu.scrollTop(_+d):d+N>C&&this.activeMenu.scrollTop(_+d-C+N))},blur:function(s,h){h||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",s,{item:this.active}))},_startOpening:function(s){clearTimeout(this.timer),s.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(s)},this.delay))},_open:function(s){var h=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(s.parents(".ui-menu")).hide().attr("aria-hidden","true"),s.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(h)},collapseAll:function(s,h){clearTimeout(this.timer),this.timer=this._delay(function(){var v=h?this.element:e(s&&s.target).closest(this.element.find(".ui-menu"));v.length||(v=this.element),this._close(v),this.blur(s),this.activeMenu=v},this.delay)},_close:function(s){s||(s=this.active?this.active.parent():this.element),s.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(s){return!e(s.target).closest(".ui-menu").length},_isDivider:function(s){return!/[^\-\u2014\u2013\s]/.test(s.text())},collapse:function(s){var h=this.active&&this.active.parent().closest(".ui-menu-item",this.element);h&&h.length&&(this._close(),this.focus(s,h))},expand:function(s){var h=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();h&&h.length&&(this._open(h.parent()),this._delay(function(){this.focus(s,h)}))},next:function(s){this._move("next","first",s)},previous:function(s){this._move("prev","last",s)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(s,h,v){var d;this.active&&(d=s==="first"||s==="last"?this.active[s==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[s+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[h]()),this.focus(v,d)},nextPage:function(s){var h,v,d;return this.active?(this.isLastItem()||(this._hasScroll()?(v=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return h=e(this),0>h.offset().top-v-d}),this.focus(s,h)):this.focus(s,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(s),void 0)},previousPage:function(s){var h,v,d;return this.active?(this.isFirstItem()||(this._hasScroll()?(v=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return h=e(this),h.offset().top-v+d>0}),this.focus(s,h)):this.focus(s,this.activeMenu.find(this.options.items).first())),void 0):(this.next(s),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(s){this.active=this.active||e(s.target).closest(".ui-menu-item");var h={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(s,!0),this._trigger("select",s,h)}}),e.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var s,h,v,d=this.element[0].nodeName.toLowerCase(),_=d==="textarea",C=d==="input";this.isMultiLine=_?!0:C?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[_||C?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(N){if(this.element.prop("readOnly"))return s=!0,v=!0,h=!0,void 0;s=!1,v=!1,h=!1;var G=e.ui.keyCode;switch(N.keyCode){case G.PAGE_UP:s=!0,this._move("previousPage",N);break;case G.PAGE_DOWN:s=!0,this._move("nextPage",N);break;case G.UP:s=!0,this._keyEvent("previous",N);break;case G.DOWN:s=!0,this._keyEvent("next",N);break;case G.ENTER:this.menu.active&&(s=!0,N.preventDefault(),this.menu.select(N));break;case G.TAB:this.menu.active&&this.menu.select(N);break;case G.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(N),N.preventDefault());break;default:h=!0,this._searchTimeout(N)}},keypress:function(N){if(s)return s=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&N.preventDefault(),void 0;if(!h){var G=e.ui.keyCode;switch(N.keyCode){case G.PAGE_UP:this._move("previousPage",N);break;case G.PAGE_DOWN:this._move("nextPage",N);break;case G.UP:this._keyEvent("previous",N);break;case G.DOWN:this._keyEvent("next",N)}}},input:function(N){return v?(v=!1,N.preventDefault(),void 0):(this._searchTimeout(N),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(N){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(N),this._change(N),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(N){N.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var G=this.menu.element[0];e(N.target).closest(".ui-menu-item").length||this._delay(function(){var q=this;this.document.one("mousedown",function(K){K.target===q.element[0]||K.target===G||e.contains(G,K.target)||q.close()})})},menufocus:function(N,G){var q,K;return this.isNewMenu&&(this.isNewMenu=!1,N.originalEvent&&/^mouse/.test(N.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(N.target).trigger(N.originalEvent)}),void 0):(K=G.item.data("ui-autocomplete-item"),this._trigger("focus",N,{item:K})!==!1&&N.originalEvent&&/^key/.test(N.originalEvent.type)&&this._value(K.value),q=G.item.attr("aria-label")||K.value,q&&e.trim(q).length&&(this.liveRegion.children().hide(),e("<div>").text(q).appendTo(this.liveRegion)),void 0)},menuselect:function(N,G){var q=G.item.data("ui-autocomplete-item"),K=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=K,this._delay(function(){this.previous=K,this.selectedItem=q})),this._trigger("select",N,{item:q})!==!1&&this._value(q.value),this.term=this._value(),this.close(N),this.selectedItem=q}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(s,h){this._super(s,h),s==="source"&&this._initSource(),s==="appendTo"&&this.menu.element.appendTo(this._appendTo()),s==="disabled"&&h&&this.xhr&&this.xhr.abort()},_appendTo:function(){var s=this.options.appendTo;return s&&(s=s.jquery||s.nodeType?e(s):this.document.find(s).eq(0)),s&&s[0]||(s=this.element.closest(".ui-front")),s.length||(s=this.document[0].body),s},_initSource:function(){var s,h,v=this;e.isArray(this.options.source)?(s=this.options.source,this.source=function(d,_){_(e.ui.autocomplete.filter(s,d.term))}):typeof this.options.source=="string"?(h=this.options.source,this.source=function(d,_){v.xhr&&v.xhr.abort(),v.xhr=e.ajax({url:h,data:d,dataType:"json",success:function(C){_(C)},error:function(){_([])}})}):this.source=this.options.source},_searchTimeout:function(s){clearTimeout(this.searching),this.searching=this._delay(function(){var h=this.term===this._value(),v=this.menu.element.is(":visible"),d=s.altKey||s.ctrlKey||s.metaKey||s.shiftKey;(!h||h&&!v&&!d)&&(this.selectedItem=null,this.search(null,s))},this.options.delay)},search:function(s,h){return s=s!=null?s:this._value(),this.term=this._value(),s.length<this.options.minLength?this.close(h):this._trigger("search",h)!==!1?this._search(s):void 0},_search:function(s){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:s},this._response())},_response:function(){var s=++this.requestIndex;return e.proxy(function(h){s===this.requestIndex&&this.__response(h),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(s){s&&(s=this._normalize(s)),this._trigger("response",null,{content:s}),!this.options.disabled&&s&&s.length&&!this.cancelSearch?(this._suggest(s),this._trigger("open")):this._close()},close:function(s){this.cancelSearch=!0,this._close(s)},_close:function(s){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",s))},_change:function(s){this.previous!==this._value()&&this._trigger("change",s,{item:this.selectedItem})},_normalize:function(s){return s.length&&s[0].label&&s[0].value?s:e.map(s,function(h){return typeof h=="string"?{label:h,value:h}:e.extend({},h,{label:h.label||h.value,value:h.value||h.label})})},_suggest:function(s){var h=this.menu.element.empty();this._renderMenu(h,s),this.isNewMenu=!0,this.menu.refresh(),h.show(),this._resizeMenu(),h.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var s=this.menu.element;s.outerWidth(Math.max(s.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(s,h){var v=this;e.each(h,function(d,_){v._renderItemData(s,_)})},_renderItemData:function(s,h){return this._renderItem(s,h).data("ui-autocomplete-item",h)},_renderItem:function(s,h){return e("<li>").text(h.label).appendTo(s)},_move:function(s,h){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(s)||this.menu.isLastItem()&&/^next/.test(s)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[s](h),void 0):(this.search(null,h),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(s,h){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(s,h),h.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(s,h){var v=RegExp(e.ui.autocomplete.escapeRegex(h),"i");return e.grep(s,function(d){return v.test(d.label||d.value||d)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(s){return s+(s>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(s){var h;this._superApply(arguments),this.options.disabled||this.cancelSearch||(h=s&&s.length?this.options.messages.results(s.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(h).appendTo(this.liveRegion))}}),e.ui.autocomplete;var y,x="ui-button ui-widget ui-state-default ui-corner-all",w="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",k=function(){var s=e(this);setTimeout(function(){s.find(":ui-button").button("refresh")},1)},S=function(s){var h=s.name,v=s.form,d=e([]);return h&&(h=h.replace(/'/g,"\\'"),d=v?e(v).find("[name='"+h+"'][type=radio]"):e("[name='"+h+"'][type=radio]",s.ownerDocument).filter(function(){return!this.form})),d};e.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,k),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var s=this,h=this.options,v=this.type==="checkbox"||this.type==="radio",d=v?"":"ui-state-active";h.label===null&&(h.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(x).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){h.disabled||this===y&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){h.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(_){h.disabled&&(_.preventDefault(),_.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),v&&this.element.bind("change"+this.eventNamespace,function(){s.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){return h.disabled?!1:void 0}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled)return!1;e(this).addClass("ui-state-active"),s.buttonElement.attr("aria-pressed","true");var _=s.element[0];S(_).not(_).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return h.disabled?!1:(e(this).addClass("ui-state-active"),y=this,s.document.one("mouseup",function(){y=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return h.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(_){return h.disabled?!1:((_.keyCode===e.ui.keyCode.SPACE||_.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(_){_.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){var s,h,v;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(s=this.element.parents().last(),h="label[for='"+this.element.attr("id")+"']",this.buttonElement=s.find(h),this.buttonElement.length||(s=s.length?s.siblings():this.element.siblings(),this.buttonElement=s.filter(h),this.buttonElement.length||(this.buttonElement=s.find(h))),this.element.addClass("ui-helper-hidden-accessible"),v=this.element.is(":checked"),v&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",v)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(x+" ui-state-active "+w).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(s,h){return this._super(s,h),s==="disabled"?(this.widget().toggleClass("ui-state-disabled",!!h),this.element.prop("disabled",!!h),h&&(this.type==="checkbox"||this.type==="radio"?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var s=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");s!==this.options.disabled&&this._setOption("disabled",s),this.type==="radio"?S(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")return this.options.label&&this.element.val(this.options.label),void 0;var s=this.buttonElement.removeClass(w),h=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(s.empty()).text(),v=this.options.icons,d=v.primary&&v.secondary,_=[];v.primary||v.secondary?(this.options.text&&_.push("ui-button-text-icon"+(d?"s":v.primary?"-primary":"-secondary")),v.primary&&s.prepend("<span class='ui-button-icon-primary ui-icon "+v.primary+"'></span>"),v.secondary&&s.append("<span class='ui-button-icon-secondary ui-icon "+v.secondary+"'></span>"),this.options.text||(_.push(d?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||s.attr("title",e.trim(h)))):_.push("ui-button-text-only"),s.addClass(_.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(s,h){s==="disabled"&&this.buttons.button("option",s,h),this._super(s,h)},refresh:function(){var s=this.element.css("direction")==="rtl",h=this.element.find(this.options.items),v=h.filter(":ui-button");h.not(":ui-button").button(),v.button("refresh"),this.buttons=h.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(s?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(s?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.1"}});var P;e.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(s){return n(this._defaults,s||{}),this},_attachDatepicker:function(s,h){var v,d,_;v=s.nodeName.toLowerCase(),d=v==="div"||v==="span",s.id||(this.uuid+=1,s.id="dp"+this.uuid),_=this._newInst(e(s),d),_.settings=e.extend({},h||{}),v==="input"?this._connectDatepicker(s,_):d&&this._inlineDatepicker(s,_)},_newInst:function(s,h){var v=s[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:v,input:s,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:h,dpDiv:h?o(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(s,h){var v=e(s);h.append=e([]),h.trigger=e([]),v.hasClass(this.markerClassName)||(this._attachments(v,h),v.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(h),e.data(s,"datepicker",h),h.settings.disabled&&this._disableDatepicker(s))},_attachments:function(s,h){var v,d,_,C=this._get(h,"appendText"),N=this._get(h,"isRTL");h.append&&h.append.remove(),C&&(h.append=e("<span class='"+this._appendClass+"'>"+C+"</span>"),s[N?"before":"after"](h.append)),s.unbind("focus",this._showDatepicker),h.trigger&&h.trigger.remove(),v=this._get(h,"showOn"),(v==="focus"||v==="both")&&s.focus(this._showDatepicker),(v==="button"||v==="both")&&(d=this._get(h,"buttonText"),_=this._get(h,"buttonImage"),h.trigger=e(this._get(h,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:_,alt:d,title:d}):e("<button type='button'></button>").addClass(this._triggerClass).html(_?e("<img/>").attr({src:_,alt:d,title:d}):d)),s[N?"before":"after"](h.trigger),h.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===s[0]?e.datepicker._hideDatepicker():(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==s[0]&&e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(s[0])),!1}))},_autoSize:function(s){if(this._get(s,"autoSize")&&!s.inline){var h,v,d,_,C=new Date(2009,11,20),N=this._get(s,"dateFormat");N.match(/[DM]/)&&(h=function(G){for(v=0,d=0,_=0;G.length>_;_++)G[_].length>v&&(v=G[_].length,d=_);return d},C.setMonth(h(this._get(s,N.match(/MM/)?"monthNames":"monthNamesShort"))),C.setDate(h(this._get(s,N.match(/DD/)?"dayNames":"dayNamesShort"))+20-C.getDay())),s.input.attr("size",this._formatDate(s,C).length)}},_inlineDatepicker:function(s,h){var v=e(s);v.hasClass(this.markerClassName)||(v.addClass(this.markerClassName).append(h.dpDiv),e.data(s,"datepicker",h),this._setDate(h,this._getDefaultDate(h),!0),this._updateDatepicker(h),this._updateAlternate(h),h.settings.disabled&&this._disableDatepicker(s),h.dpDiv.css("display","block"))},_dialogDatepicker:function(s,h,v,d,_){var C,N,G,q,K,ie=this._dialogInst;return ie||(this.uuid+=1,C="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+C+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),ie=this._dialogInst=this._newInst(this._dialogInput,!1),ie.settings={},e.data(this._dialogInput[0],"datepicker",ie)),n(ie.settings,d||{}),h=h&&h.constructor===Date?this._formatDate(ie,h):h,this._dialogInput.val(h),this._pos=_?_.length?_:[_.pageX,_.pageY]:null,this._pos||(N=document.documentElement.clientWidth,G=document.documentElement.clientHeight,q=document.documentElement.scrollLeft||document.body.scrollLeft,K=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[N/2-100+q,G/2-150+K]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),ie.settings.onSelect=v,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",ie),this},_destroyDatepicker:function(s){var h,v=e(s),d=e.data(s,"datepicker");v.hasClass(this.markerClassName)&&(h=s.nodeName.toLowerCase(),e.removeData(s,"datepicker"),h==="input"?(d.append.remove(),d.trigger.remove(),v.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(h==="div"||h==="span")&&v.removeClass(this.markerClassName).empty())},_enableDatepicker:function(s){var h,v,d=e(s),_=e.data(s,"datepicker");d.hasClass(this.markerClassName)&&(h=s.nodeName.toLowerCase(),h==="input"?(s.disabled=!1,_.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(h==="div"||h==="span")&&(v=d.children("."+this._inlineClass),v.children().removeClass("ui-state-disabled"),v.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(C){return C===s?null:C}))},_disableDatepicker:function(s){var h,v,d=e(s),_=e.data(s,"datepicker");d.hasClass(this.markerClassName)&&(h=s.nodeName.toLowerCase(),h==="input"?(s.disabled=!0,_.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(h==="div"||h==="span")&&(v=d.children("."+this._inlineClass),v.children().addClass("ui-state-disabled"),v.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(C){return C===s?null:C}),this._disabledInputs[this._disabledInputs.length]=s)},_isDisabledDatepicker:function(s){if(!s)return!1;for(var h=0;this._disabledInputs.length>h;h++)if(this._disabledInputs[h]===s)return!0;return!1},_getInst:function(s){try{return e.data(s,"datepicker")}catch(h){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(s,h,v){var d,_,C,N,G=this._getInst(s);return arguments.length===2&&typeof h=="string"?h==="defaults"?e.extend({},e.datepicker._defaults):G?h==="all"?e.extend({},G.settings):this._get(G,h):null:(d=h||{},typeof h=="string"&&(d={},d[h]=v),G&&(this._curInst===G&&this._hideDatepicker(),_=this._getDateDatepicker(s,!0),C=this._getMinMaxDate(G,"min"),N=this._getMinMaxDate(G,"max"),n(G.settings,d),C!==null&&d.dateFormat!==void 0&&d.minDate===void 0&&(G.settings.minDate=this._formatDate(G,C)),N!==null&&d.dateFormat!==void 0&&d.maxDate===void 0&&(G.settings.maxDate=this._formatDate(G,N)),"disabled"in d&&(d.disabled?this._disableDatepicker(s):this._enableDatepicker(s)),this._attachments(e(s),G),this._autoSize(G),this._setDate(G,_),this._updateAlternate(G),this._updateDatepicker(G)),void 0)},_changeDatepicker:function(s,h,v){this._optionDatepicker(s,h,v)},_refreshDatepicker:function(s){var h=this._getInst(s);h&&this._updateDatepicker(h)},_setDateDatepicker:function(s,h){var v=this._getInst(s);v&&(this._setDate(v,h),this._updateDatepicker(v),this._updateAlternate(v))},_getDateDatepicker:function(s,h){var v=this._getInst(s);return v&&!v.inline&&this._setDateFromField(v,h),v?this._getDate(v):null},_doKeyDown:function(s){var h,v,d,_=e.datepicker._getInst(s.target),C=!0,N=_.dpDiv.is(".ui-datepicker-rtl");if(_._keyEvent=!0,e.datepicker._datepickerShowing)switch(s.keyCode){case 9:e.datepicker._hideDatepicker(),C=!1;break;case 13:return d=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",_.dpDiv),d[0]&&e.datepicker._selectDay(s.target,_.selectedMonth,_.selectedYear,d[0]),h=e.datepicker._get(_,"onSelect"),h?(v=e.datepicker._formatDate(_),h.apply(_.input?_.input[0]:null,[v,_])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(s.target,s.ctrlKey?-e.datepicker._get(_,"stepBigMonths"):-e.datepicker._get(_,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(s.target,s.ctrlKey?+e.datepicker._get(_,"stepBigMonths"):+e.datepicker._get(_,"stepMonths"),"M");break;case 35:(s.ctrlKey||s.metaKey)&&e.datepicker._clearDate(s.target),C=s.ctrlKey||s.metaKey;break;case 36:(s.ctrlKey||s.metaKey)&&e.datepicker._gotoToday(s.target),C=s.ctrlKey||s.metaKey;break;case 37:(s.ctrlKey||s.metaKey)&&e.datepicker._adjustDate(s.target,N?1:-1,"D"),C=s.ctrlKey||s.metaKey,s.originalEvent.altKey&&e.datepicker._adjustDate(s.target,s.ctrlKey?-e.datepicker._get(_,"stepBigMonths"):-e.datepicker._get(_,"stepMonths"),"M");break;case 38:(s.ctrlKey||s.metaKey)&&e.datepicker._adjustDate(s.target,-7,"D"),C=s.ctrlKey||s.metaKey;break;case 39:(s.ctrlKey||s.metaKey)&&e.datepicker._adjustDate(s.target,N?-1:1,"D"),C=s.ctrlKey||s.metaKey,s.originalEvent.altKey&&e.datepicker._adjustDate(s.target,s.ctrlKey?+e.datepicker._get(_,"stepBigMonths"):+e.datepicker._get(_,"stepMonths"),"M");break;case 40:(s.ctrlKey||s.metaKey)&&e.datepicker._adjustDate(s.target,7,"D"),C=s.ctrlKey||s.metaKey;break;default:C=!1}else s.keyCode===36&&s.ctrlKey?e.datepicker._showDatepicker(this):C=!1;C&&(s.preventDefault(),s.stopPropagation())},_doKeyPress:function(s){var h,v,d=e.datepicker._getInst(s.target);return e.datepicker._get(d,"constrainInput")?(h=e.datepicker._possibleChars(e.datepicker._get(d,"dateFormat")),v=String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),s.ctrlKey||s.metaKey||" ">v||!h||h.indexOf(v)>-1):void 0},_doKeyUp:function(s){var h,v=e.datepicker._getInst(s.target);if(v.input.val()!==v.lastVal)try{h=e.datepicker.parseDate(e.datepicker._get(v,"dateFormat"),v.input?v.input.val():null,e.datepicker._getFormatConfig(v)),h&&(e.datepicker._setDateFromField(v),e.datepicker._updateAlternate(v),e.datepicker._updateDatepicker(v))}catch(d){}return!0},_showDatepicker:function(s){if(s=s.target||s,s.nodeName.toLowerCase()!=="input"&&(s=e("input",s.parentNode)[0]),!e.datepicker._isDisabledDatepicker(s)&&e.datepicker._lastInput!==s){var h,v,d,_,C,N,G;h=e.datepicker._getInst(s),e.datepicker._curInst&&e.datepicker._curInst!==h&&(e.datepicker._curInst.dpDiv.stop(!0,!0),h&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),v=e.datepicker._get(h,"beforeShow"),d=v?v.apply(s,[s,h]):{},d!==!1&&(n(h.settings,d),h.lastVal=null,e.datepicker._lastInput=s,e.datepicker._setDateFromField(h),e.datepicker._inDialog&&(s.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(s),e.datepicker._pos[1]+=s.offsetHeight),_=!1,e(s).parents().each(function(){return _|=e(this).css("position")==="fixed",!_}),C={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,h.dpDiv.empty(),h.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(h),C=e.datepicker._checkOffset(h,C,_),h.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":_?"fixed":"absolute",display:"none",left:C.left+"px",top:C.top+"px"}),h.inline||(N=e.datepicker._get(h,"showAnim"),G=e.datepicker._get(h,"duration"),h.dpDiv.css("z-index",a(e(s))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[N]?h.dpDiv.show(N,e.datepicker._get(h,"showOptions"),G):h.dpDiv[N||"show"](N?G:null),e.datepicker._shouldFocusInput(h)&&h.input.focus(),e.datepicker._curInst=h))}},_updateDatepicker:function(s){this.maxRows=4,P=s,s.dpDiv.empty().append(this._generateHTML(s)),this._attachHandlers(s);var h,v=this._getNumberOfMonths(s),d=v[1],_=17,C=s.dpDiv.find("."+this._dayOverClass+" a");C.length>0&&c.apply(C.get(0)),s.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),d>1&&s.dpDiv.addClass("ui-datepicker-multi-"+d).css("width",_*d+"em"),s.dpDiv[(v[0]!==1||v[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),s.dpDiv[(this._get(s,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),s===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(s)&&s.input.focus(),s.yearshtml&&(h=s.yearshtml,setTimeout(function(){h===s.yearshtml&&s.yearshtml&&s.dpDiv.find("select.ui-datepicker-year:first").replaceWith(s.yearshtml),h=s.yearshtml=null},0))},_shouldFocusInput:function(s){return s.input&&s.input.is(":visible")&&!s.input.is(":disabled")&&!s.input.is(":focus")},_checkOffset:function(s,h,v){var d=s.dpDiv.outerWidth(),_=s.dpDiv.outerHeight(),C=s.input?s.input.outerWidth():0,N=s.input?s.input.outerHeight():0,G=document.documentElement.clientWidth+(v?0:e(document).scrollLeft()),q=document.documentElement.clientHeight+(v?0:e(document).scrollTop());return h.left-=this._get(s,"isRTL")?d-C:0,h.left-=v&&h.left===s.input.offset().left?e(document).scrollLeft():0,h.top-=v&&h.top===s.input.offset().top+N?e(document).scrollTop():0,h.left-=Math.min(h.left,h.left+d>G&&G>d?Math.abs(h.left+d-G):0),h.top-=Math.min(h.top,h.top+_>q&&q>_?Math.abs(_+N):0),h},_findPos:function(s){for(var h,v=this._getInst(s),d=this._get(v,"isRTL");s&&(s.type==="hidden"||s.nodeType!==1||e.expr.filters.hidden(s));)s=s[d?"previousSibling":"nextSibling"];return h=e(s).offset(),[h.left,h.top]},_hideDatepicker:function(s){var h,v,d,_,C=this._curInst;!C||s&&C!==e.data(s,"datepicker")||this._datepickerShowing&&(h=this._get(C,"showAnim"),v=this._get(C,"duration"),d=function(){e.datepicker._tidyDialog(C)},e.effects&&(e.effects.effect[h]||e.effects[h])?C.dpDiv.hide(h,e.datepicker._get(C,"showOptions"),v,d):C.dpDiv[h==="slideDown"?"slideUp":h==="fadeIn"?"fadeOut":"hide"](h?v:null,d),h||d(),this._datepickerShowing=!1,_=this._get(C,"onClose"),_&&_.apply(C.input?C.input[0]:null,[C.input?C.input.val():"",C]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(s){s.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(s){if(e.datepicker._curInst){var h=e(s.target),v=e.datepicker._getInst(h[0]);(h[0].id!==e.datepicker._mainDivId&&h.parents("#"+e.datepicker._mainDivId).length===0&&!h.hasClass(e.datepicker.markerClassName)&&!h.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||h.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==v)&&e.datepicker._hideDatepicker()}},_adjustDate:function(s,h,v){var d=e(s),_=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(_,h+(v==="M"?this._get(_,"showCurrentAtPos"):0),v),this._updateDatepicker(_))},_gotoToday:function(s){var h,v=e(s),d=this._getInst(v[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(h=new Date,d.selectedDay=h.getDate(),d.drawMonth=d.selectedMonth=h.getMonth(),d.drawYear=d.selectedYear=h.getFullYear()),this._notifyChange(d),this._adjustDate(v)},_selectMonthYear:function(s,h,v){var d=e(s),_=this._getInst(d[0]);_["selected"+(v==="M"?"Month":"Year")]=_["draw"+(v==="M"?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10),this._notifyChange(_),this._adjustDate(d)},_selectDay:function(s,h,v,d){var _,C=e(s);e(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(C[0])||(_=this._getInst(C[0]),_.selectedDay=_.currentDay=e("a",d).html(),_.selectedMonth=_.currentMonth=h,_.selectedYear=_.currentYear=v,this._selectDate(s,this._formatDate(_,_.currentDay,_.currentMonth,_.currentYear)))},_clearDate:function(s){var h=e(s);this._selectDate(h,"")},_selectDate:function(s,h){var v,d=e(s),_=this._getInst(d[0]);h=h!=null?h:this._formatDate(_),_.input&&_.input.val(h),this._updateAlternate(_),v=this._get(_,"onSelect"),v?v.apply(_.input?_.input[0]:null,[h,_]):_.input&&_.input.trigger("change"),_.inline?this._updateDatepicker(_):(this._hideDatepicker(),this._lastInput=_.input[0],typeof _.input[0]!="object"&&_.input.focus(),this._lastInput=null)},_updateAlternate:function(s){var h,v,d,_=this._get(s,"altField");_&&(h=this._get(s,"altFormat")||this._get(s,"dateFormat"),v=this._getDate(s),d=this.formatDate(h,v,this._getFormatConfig(s)),e(_).each(function(){e(this).val(d)}))},noWeekends:function(s){var h=s.getDay();return[h>0&&6>h,""]},iso8601Week:function(s){var h,v=new Date(s.getTime());return v.setDate(v.getDate()+4-(v.getDay()||7)),h=v.getTime(),v.setMonth(0),v.setDate(1),Math.floor(Math.round((h-v)/864e5)/7)+1},parseDate:function(s,h,v){if(s==null||h==null)throw"Invalid arguments";if(h=typeof h=="object"?""+h:h+"",h==="")return null;var d,_,C,N,G=0,q=(v?v.shortYearCutoff:null)||this._defaults.shortYearCutoff,K=typeof q!="string"?q:new Date().getFullYear()%100+parseInt(q,10),ie=(v?v.dayNamesShort:null)||this._defaults.dayNamesShort,Q=(v?v.dayNames:null)||this._defaults.dayNames,te=(v?v.monthNamesShort:null)||this._defaults.monthNamesShort,Oe=(v?v.monthNames:null)||this._defaults.monthNames,fe=-1,W=-1,ae=-1,de=-1,Z=!1,ye=function(ft){var ct=s.length>d+1&&s.charAt(d+1)===ft;return ct&&d++,ct},Y=function(ft){var ct=ye(ft),Ge=ft==="@"?14:ft==="!"?20:ft==="y"&&ct?4:ft==="o"?3:2,Ae=ft==="y"?Ge:1,Me=RegExp("^\\d{"+Ae+","+Ge+"}"),De=h.substring(G).match(Me);if(!De)throw"Missing number at position "+G;return G+=De[0].length,parseInt(De[0],10)},ce=function(ft,ct,Ge){var Ae=-1,Me=e.map(ye(ft)?Ge:ct,function(De,Ne){return[[Ne,De]]}).sort(function(De,Ne){return-(De[1].length-Ne[1].length)});if(e.each(Me,function(De,Ne){var Ve=Ne[1];return h.substr(G,Ve.length).toLowerCase()===Ve.toLowerCase()?(Ae=Ne[0],G+=Ve.length,!1):void 0}),Ae!==-1)return Ae+1;throw"Unknown name at position "+G},Ze=function(){if(h.charAt(G)!==s.charAt(d))throw"Unexpected literal at position "+G;G++};for(d=0;s.length>d;d++)if(Z)s.charAt(d)!=="'"||ye("'")?Ze():Z=!1;else switch(s.charAt(d)){case"d":ae=Y("d");break;case"D":ce("D",ie,Q);break;case"o":de=Y("o");break;case"m":W=Y("m");break;case"M":W=ce("M",te,Oe);break;case"y":fe=Y("y");break;case"@":N=new Date(Y("@")),fe=N.getFullYear(),W=N.getMonth()+1,ae=N.getDate();break;case"!":N=new Date((Y("!")-this._ticksTo1970)/1e4),fe=N.getFullYear(),W=N.getMonth()+1,ae=N.getDate();break;case"'":ye("'")?Ze():Z=!0;break;default:Ze()}if(h.length>G&&(C=h.substr(G),!/^\s+/.test(C)))throw"Extra/unparsed characters found in date: "+C;if(fe===-1?fe=new Date().getFullYear():100>fe&&(fe+=new Date().getFullYear()-new Date().getFullYear()%100+(K>=fe?0:-100)),de>-1)for(W=1,ae=de;_=this._getDaysInMonth(fe,W-1),!(_>=ae);)W++,ae-=_;if(N=this._daylightSavingAdjust(new Date(fe,W-1,ae)),N.getFullYear()!==fe||N.getMonth()+1!==W||N.getDate()!==ae)throw"Invalid date";return N},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(s,h,v){if(!h)return"";var d,_=(v?v.dayNamesShort:null)||this._defaults.dayNamesShort,C=(v?v.dayNames:null)||this._defaults.dayNames,N=(v?v.monthNamesShort:null)||this._defaults.monthNamesShort,G=(v?v.monthNames:null)||this._defaults.monthNames,q=function(Oe){var fe=s.length>d+1&&s.charAt(d+1)===Oe;return fe&&d++,fe},K=function(Oe,fe,W){var ae=""+fe;if(q(Oe))for(;W>ae.length;)ae="0"+ae;return ae},ie=function(Oe,fe,W,ae){return q(Oe)?ae[fe]:W[fe]},Q="",te=!1;if(h)for(d=0;s.length>d;d++)if(te)s.charAt(d)!=="'"||q("'")?Q+=s.charAt(d):te=!1;else switch(s.charAt(d)){case"d":Q+=K("d",h.getDate(),2);break;case"D":Q+=ie("D",h.getDay(),_,C);break;case"o":Q+=K("o",Math.round((new Date(h.getFullYear(),h.getMonth(),h.getDate()).getTime()-new Date(h.getFullYear(),0,0).getTime())/864e5),3);break;case"m":Q+=K("m",h.getMonth()+1,2);break;case"M":Q+=ie("M",h.getMonth(),N,G);break;case"y":Q+=q("y")?h.getFullYear():(10>h.getYear()%100?"0":"")+h.getYear()%100;break;case"@":Q+=h.getTime();break;case"!":Q+=1e4*h.getTime()+this._ticksTo1970;break;case"'":q("'")?Q+="'":te=!0;break;default:Q+=s.charAt(d)}return Q},_possibleChars:function(s){var h,v="",d=!1,_=function(C){var N=s.length>h+1&&s.charAt(h+1)===C;return N&&h++,N};for(h=0;s.length>h;h++)if(d)s.charAt(h)!=="'"||_("'")?v+=s.charAt(h):d=!1;else switch(s.charAt(h)){case"d":case"m":case"y":case"@":v+="0123456789";break;case"D":case"M":return null;case"'":_("'")?v+="'":d=!0;break;default:v+=s.charAt(h)}return v},_get:function(s,h){return s.settings[h]!==void 0?s.settings[h]:this._defaults[h]},_setDateFromField:function(s,h){if(s.input.val()!==s.lastVal){var v=this._get(s,"dateFormat"),d=s.lastVal=s.input?s.input.val():null,_=this._getDefaultDate(s),C=_,N=this._getFormatConfig(s);try{C=this.parseDate(v,d,N)||_}catch(G){d=h?"":d}s.selectedDay=C.getDate(),s.drawMonth=s.selectedMonth=C.getMonth(),s.drawYear=s.selectedYear=C.getFullYear(),s.currentDay=d?C.getDate():0,s.currentMonth=d?C.getMonth():0,s.currentYear=d?C.getFullYear():0,this._adjustInstDate(s)}},_getDefaultDate:function(s){return this._restrictMinMax(s,this._determineDate(s,this._get(s,"defaultDate"),new Date))},_determineDate:function(s,h,v){var d=function(N){var G=new Date;return G.setDate(G.getDate()+N),G},_=function(N){try{return e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),N,e.datepicker._getFormatConfig(s))}catch(Oe){}for(var G=(N.toLowerCase().match(/^c/)?e.datepicker._getDate(s):null)||new Date,q=G.getFullYear(),K=G.getMonth(),ie=G.getDate(),Q=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,te=Q.exec(N);te;){switch(te[2]||"d"){case"d":case"D":ie+=parseInt(te[1],10);break;case"w":case"W":ie+=7*parseInt(te[1],10);break;case"m":case"M":K+=parseInt(te[1],10),ie=Math.min(ie,e.datepicker._getDaysInMonth(q,K));break;case"y":case"Y":q+=parseInt(te[1],10),ie=Math.min(ie,e.datepicker._getDaysInMonth(q,K))}te=Q.exec(N)}return new Date(q,K,ie)},C=h==null||h===""?v:typeof h=="string"?_(h):typeof h=="number"?isNaN(h)?v:d(h):new Date(h.getTime());return C=C&&""+C=="Invalid Date"?v:C,C&&(C.setHours(0),C.setMinutes(0),C.setSeconds(0),C.setMilliseconds(0)),this._daylightSavingAdjust(C)},_daylightSavingAdjust:function(s){return s?(s.setHours(s.getHours()>12?s.getHours()+2:0),s):null},_setDate:function(s,h,v){var d=!h,_=s.selectedMonth,C=s.selectedYear,N=this._restrictMinMax(s,this._determineDate(s,h,new Date));s.selectedDay=s.currentDay=N.getDate(),s.drawMonth=s.selectedMonth=s.currentMonth=N.getMonth(),s.drawYear=s.selectedYear=s.currentYear=N.getFullYear(),_===s.selectedMonth&&C===s.selectedYear||v||this._notifyChange(s),this._adjustInstDate(s),s.input&&s.input.val(d?"":this._formatDate(s))},_getDate:function(s){var h=!s.currentYear||s.input&&s.input.val()===""?null:this._daylightSavingAdjust(new Date(s.currentYear,s.currentMonth,s.currentDay));return h},_attachHandlers:function(s){var h=this._get(s,"stepMonths"),v="#"+s.id.replace(/\\\\/g,"\\");s.dpDiv.find("[data-handler]").map(function(){var d={prev:function(){e.datepicker._adjustDate(v,-h,"M")},next:function(){e.datepicker._adjustDate(v,+h,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(v)},selectDay:function(){return e.datepicker._selectDay(v,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(v,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(v,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),d[this.getAttribute("data-handler")])})},_generateHTML:function(s){var h,v,d,_,C,N,G,q,K,ie,Q,te,Oe,fe,W,ae,de,Z,ye,Y,ce,Ze,ft,ct,Ge,Ae,Me,De,Ne,Ve,rt,je,ee,J,qe,_t,we,$e,at,Ee=new Date,tt=this._daylightSavingAdjust(new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate())),nt=this._get(s,"isRTL"),Vt=this._get(s,"showButtonPanel"),dt=this._get(s,"hideIfNoPrevNext"),vt=this._get(s,"navigationAsDateFormat"),Rt=this._getNumberOfMonths(s),ii=this._get(s,"showCurrentAtPos"),ai=this._get(s,"stepMonths"),ui=Rt[0]!==1||Rt[1]!==1,Mt=this._daylightSavingAdjust(s.currentDay?new Date(s.currentYear,s.currentMonth,s.currentDay):new Date(9999,9,9)),It=this._getMinMaxDate(s,"min"),Et=this._getMinMaxDate(s,"max"),Ct=s.drawMonth-ii,St=s.drawYear;if(0>Ct&&(Ct+=12,St--),Et)for(h=this._daylightSavingAdjust(new Date(Et.getFullYear(),Et.getMonth()-Rt[0]*Rt[1]+1,Et.getDate())),h=It&&It>h?It:h;this._daylightSavingAdjust(new Date(St,Ct,1))>h;)Ct--,0>Ct&&(Ct=11,St--);for(s.drawMonth=Ct,s.drawYear=St,v=this._get(s,"prevText"),v=vt?this.formatDate(v,this._daylightSavingAdjust(new Date(St,Ct-ai,1)),this._getFormatConfig(s)):v,d=this._canAdjustMonth(s,-1,St,Ct)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+v+"'><span class='ui-icon ui-icon-circle-triangle-"+(nt?"e":"w")+"'>"+v+"</span></a>":dt?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+v+"'><span class='ui-icon ui-icon-circle-triangle-"+(nt?"e":"w")+"'>"+v+"</span></a>",_=this._get(s,"nextText"),_=vt?this.formatDate(_,this._daylightSavingAdjust(new Date(St,Ct+ai,1)),this._getFormatConfig(s)):_,C=this._canAdjustMonth(s,1,St,Ct)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+_+"'><span class='ui-icon ui-icon-circle-triangle-"+(nt?"w":"e")+"'>"+_+"</span></a>":dt?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+_+"'><span class='ui-icon ui-icon-circle-triangle-"+(nt?"w":"e")+"'>"+_+"</span></a>",N=this._get(s,"currentText"),G=this._get(s,"gotoCurrent")&&s.currentDay?Mt:tt,N=vt?this.formatDate(N,G,this._getFormatConfig(s)):N,q=s.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(s,"closeText")+"</button>",K=Vt?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(nt?q:"")+(this._isInRange(s,G)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+N+"</button>":"")+(nt?"":q)+"</div>":"",ie=parseInt(this._get(s,"firstDay"),10),ie=isNaN(ie)?0:ie,Q=this._get(s,"showWeek"),te=this._get(s,"dayNames"),Oe=this._get(s,"dayNamesMin"),fe=this._get(s,"monthNames"),W=this._get(s,"monthNamesShort"),ae=this._get(s,"beforeShowDay"),de=this._get(s,"showOtherMonths"),Z=this._get(s,"selectOtherMonths"),ye=this._getDefaultDate(s),Y="",Ze=0;Rt[0]>Ze;Ze++){for(ft="",this.maxRows=4,ct=0;Rt[1]>ct;ct++){if(Ge=this._daylightSavingAdjust(new Date(St,Ct,s.selectedDay)),Ae=" ui-corner-all",Me="",ui){if(Me+="<div class='ui-datepicker-group",Rt[1]>1)switch(ct){case 0:Me+=" ui-datepicker-group-first",Ae=" ui-corner-"+(nt?"right":"left");break;case Rt[1]-1:Me+=" ui-datepicker-group-last",Ae=" ui-corner-"+(nt?"left":"right");break;default:Me+=" ui-datepicker-group-middle",Ae=""}Me+="'>"}for(Me+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Ae+"'>"+(/all|left/.test(Ae)&&Ze===0?nt?C:d:"")+(/all|right/.test(Ae)&&Ze===0?nt?d:C:"")+this._generateMonthYearHeader(s,Ct,St,It,Et,Ze>0||ct>0,fe,W)+"</div><table class='ui-datepicker-calendar'><thead><tr>",De=Q?"<th class='ui-datepicker-week-col'>"+this._get(s,"weekHeader")+"</th>":"",ce=0;7>ce;ce++)Ne=(ce+ie)%7,De+="<th scope='col'"+((ce+ie+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+te[Ne]+"'>"+Oe[Ne]+"</span></th>";for(Me+=De+"</tr></thead><tbody>",Ve=this._getDaysInMonth(St,Ct),St===s.selectedYear&&Ct===s.selectedMonth&&(s.selectedDay=Math.min(s.selectedDay,Ve)),rt=(this._getFirstDayOfMonth(St,Ct)-ie+7)%7,je=Math.ceil((rt+Ve)/7),ee=ui&&this.maxRows>je?this.maxRows:je,this.maxRows=ee,J=this._daylightSavingAdjust(new Date(St,Ct,1-rt)),qe=0;ee>qe;qe++){for(Me+="<tr>",_t=Q?"<td class='ui-datepicker-week-col'>"+this._get(s,"calculateWeek")(J)+"</td>":"",ce=0;7>ce;ce++)we=ae?ae.apply(s.input?s.input[0]:null,[J]):[!0,""],$e=J.getMonth()!==Ct,at=$e&&!Z||!we[0]||It&&It>J||Et&&J>Et,_t+="<td class='"+((ce+ie+6)%7>=5?" ui-datepicker-week-end":"")+($e?" ui-datepicker-other-month":"")+(J.getTime()===Ge.getTime()&&Ct===s.selectedMonth&&s._keyEvent||ye.getTime()===J.getTime()&&ye.getTime()===Ge.getTime()?" "+this._dayOverClass:"")+(at?" "+this._unselectableClass+" ui-state-disabled":"")+($e&&!de?"":" "+we[1]+(J.getTime()===Mt.getTime()?" "+this._currentClass:"")+(J.getTime()===tt.getTime()?" ui-datepicker-today":""))+"'"+($e&&!de||!we[2]?"":" title='"+we[2].replace(/'/g,"&#39;")+"'")+(at?"":" data-handler='selectDay' data-event='click' data-month='"+J.getMonth()+"' data-year='"+J.getFullYear()+"'")+">"+($e&&!de?"&#xa0;":at?"<span class='ui-state-default'>"+J.getDate()+"</span>":"<a class='ui-state-default"+(J.getTime()===tt.getTime()?" ui-state-highlight":"")+(J.getTime()===Mt.getTime()?" ui-state-active":"")+($e?" ui-priority-secondary":"")+"' href='#'>"+J.getDate()+"</a>")+"</td>",J.setDate(J.getDate()+1),J=this._daylightSavingAdjust(J);Me+=_t+"</tr>"}Ct++,Ct>11&&(Ct=0,St++),Me+="</tbody></table>"+(ui?"</div>"+(Rt[0]>0&&ct===Rt[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),ft+=Me}Y+=ft}return Y+=K,s._keyEvent=!1,Y},_generateMonthYearHeader:function(s,h,v,d,_,C,N,G){var q,K,ie,Q,te,Oe,fe,W,ae=this._get(s,"changeMonth"),de=this._get(s,"changeYear"),Z=this._get(s,"showMonthAfterYear"),ye="<div class='ui-datepicker-title'>",Y="";if(C||!ae)Y+="<span class='ui-datepicker-month'>"+N[h]+"</span>";else{for(q=d&&d.getFullYear()===v,K=_&&_.getFullYear()===v,Y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",ie=0;12>ie;ie++)(!q||ie>=d.getMonth())&&(!K||_.getMonth()>=ie)&&(Y+="<option value='"+ie+"'"+(ie===h?" selected='selected'":"")+">"+G[ie]+"</option>");Y+="</select>"}if(Z||(ye+=Y+(!C&&ae&&de?"":"&#xa0;")),!s.yearshtml)if(s.yearshtml="",C||!de)ye+="<span class='ui-datepicker-year'>"+v+"</span>";else{for(Q=this._get(s,"yearRange").split(":"),te=new Date().getFullYear(),Oe=function(ce){var Ze=ce.match(/c[+\-].*/)?v+parseInt(ce.substring(1),10):ce.match(/[+\-].*/)?te+parseInt(ce,10):parseInt(ce,10);return isNaN(Ze)?te:Ze},fe=Oe(Q[0]),W=Math.max(fe,Oe(Q[1]||"")),fe=d?Math.max(fe,d.getFullYear()):fe,W=_?Math.min(W,_.getFullYear()):W,s.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";W>=fe;fe++)s.yearshtml+="<option value='"+fe+"'"+(fe===v?" selected='selected'":"")+">"+fe+"</option>";s.yearshtml+="</select>",ye+=s.yearshtml,s.yearshtml=null}return ye+=this._get(s,"yearSuffix"),Z&&(ye+=(!C&&ae&&de?"":"&#xa0;")+Y),ye+="</div>"},_adjustInstDate:function(s,h,v){var d=s.drawYear+(v==="Y"?h:0),_=s.drawMonth+(v==="M"?h:0),C=Math.min(s.selectedDay,this._getDaysInMonth(d,_))+(v==="D"?h:0),N=this._restrictMinMax(s,this._daylightSavingAdjust(new Date(d,_,C)));s.selectedDay=N.getDate(),s.drawMonth=s.selectedMonth=N.getMonth(),s.drawYear=s.selectedYear=N.getFullYear(),(v==="M"||v==="Y")&&this._notifyChange(s)},_restrictMinMax:function(s,h){var v=this._getMinMaxDate(s,"min"),d=this._getMinMaxDate(s,"max"),_=v&&v>h?v:h;return d&&_>d?d:_},_notifyChange:function(s){var h=this._get(s,"onChangeMonthYear");h&&h.apply(s.input?s.input[0]:null,[s.selectedYear,s.selectedMonth+1,s])},_getNumberOfMonths:function(s){var h=this._get(s,"numberOfMonths");return h==null?[1,1]:typeof h=="number"?[1,h]:h},_getMinMaxDate:function(s,h){return this._determineDate(s,this._get(s,h+"Date"),null)},_getDaysInMonth:function(s,h){return 32-this._daylightSavingAdjust(new Date(s,h,32)).getDate()},_getFirstDayOfMonth:function(s,h){return new Date(s,h,1).getDay()},_canAdjustMonth:function(s,h,v,d){var _=this._getNumberOfMonths(s),C=this._daylightSavingAdjust(new Date(v,d+(0>h?h:_[0]*_[1]),1));return 0>h&&C.setDate(this._getDaysInMonth(C.getFullYear(),C.getMonth())),this._isInRange(s,C)},_isInRange:function(s,h){var v,d,_=this._getMinMaxDate(s,"min"),C=this._getMinMaxDate(s,"max"),N=null,G=null,q=this._get(s,"yearRange");return q&&(v=q.split(":"),d=new Date().getFullYear(),N=parseInt(v[0],10),G=parseInt(v[1],10),v[0].match(/[+\-].*/)&&(N+=d),v[1].match(/[+\-].*/)&&(G+=d)),(!_||h.getTime()>=_.getTime())&&(!C||h.getTime()<=C.getTime())&&(!N||h.getFullYear()>=N)&&(!G||G>=h.getFullYear())},_getFormatConfig:function(s){var h=this._get(s,"shortYearCutoff");return h=typeof h!="string"?h:new Date().getFullYear()%100+parseInt(h,10),{shortYearCutoff:h,dayNamesShort:this._get(s,"dayNamesShort"),dayNames:this._get(s,"dayNames"),monthNamesShort:this._get(s,"monthNamesShort"),monthNames:this._get(s,"monthNames")}},_formatDate:function(s,h,v,d){h||(s.currentDay=s.selectedDay,s.currentMonth=s.selectedMonth,s.currentYear=s.selectedYear);var _=h?typeof h=="object"?h:this._daylightSavingAdjust(new Date(d,v,h)):this._daylightSavingAdjust(new Date(s.currentYear,s.currentMonth,s.currentDay));return this.formatDate(this._get(s,"dateFormat"),_,this._getFormatConfig(s))}}),e.fn.datepicker=function(s){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),e("#"+e.datepicker._mainDivId).length===0&&e("body").append(e.datepicker.dpDiv);var h=Array.prototype.slice.call(arguments,1);return typeof s!="string"||s!=="isDisabled"&&s!=="getDate"&&s!=="widget"?s==="option"&&arguments.length===2&&typeof arguments[1]=="string"?e.datepicker["_"+s+"Datepicker"].apply(e.datepicker,[this[0]].concat(h)):this.each(function(){typeof s=="string"?e.datepicker["_"+s+"Datepicker"].apply(e.datepicker,[this].concat(h)):e.datepicker._attachDatepicker(this,s)}):e.datepicker["_"+s+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))},e.datepicker=new l,e.datepicker.initialized=!1,e.datepicker.uuid=new Date().getTime(),e.datepicker.version="1.11.1",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(s,h){this._super(s,h),s==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(s){var h=this.document[0],v=this.options;try{h.activeElement&&h.activeElement.nodeName.toLowerCase()!=="body"&&e(h.activeElement).blur()}catch(d){}return this.helper||v.disabled||e(s.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(s),this.handle?(e(v.iframeFix===!0?"iframe":v.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(s){var h=this.options;return this.helper=this._createHelper(s),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:s.pageX-this.offset.left,top:s.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(s,!1),this.originalPageX=s.pageX,this.originalPageY=s.pageY,h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt),this._setContainment(),this._trigger("start",s)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!h.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,s),this._mouseDrag(s,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,s),!0)},_mouseDrag:function(s,h){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(s,!0),this.positionAbs=this._convertPositionTo("absolute"),!h){var v=this._uiHash();if(this._trigger("drag",s,v)===!1)return this._mouseUp({}),!1;this.position=v.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,s),!1},_mouseStop:function(s){var h=this,v=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(v=e.ui.ddmanager.drop(this,s)),this.dropped&&(v=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!v||this.options.revert==="valid"&&v||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,v)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){h._trigger("stop",s)!==!1&&h._clear()}):this._trigger("stop",s)!==!1&&this._clear(),!1},_mouseUp:function(s){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,s),this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,s)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(s){return this.options.handle?!!e(s.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(s){var h=this.options,v=e.isFunction(h.helper)?e(h.helper.apply(this.element[0],[s])):h.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return v.parents("body").length||v.appendTo(h.appendTo==="parent"?this.element[0].parentNode:h.appendTo),v[0]===this.element[0]||/(fixed|absolute)/.test(v.css("position"))||v.css("position","absolute"),v},_adjustOffsetFromHelper:function(s){typeof s=="string"&&(s=s.split(" ")),e.isArray(s)&&(s={left:+s[0],top:+s[1]||0}),"left"in s&&(this.offset.click.left=s.left+this.margins.left),"right"in s&&(this.offset.click.left=this.helperProportions.width-s.right+this.margins.left),"top"in s&&(this.offset.click.top=s.top+this.margins.top),"bottom"in s&&(this.offset.click.top=this.helperProportions.height-s.bottom+this.margins.top)},_isRootNode:function(s){return/(html|body)/i.test(s.tagName)||s===this.document[0]},_getParentOffset:function(){var s=this.offsetParent.offset(),h=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==h&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(s.left+=this.scrollParent.scrollLeft(),s.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(s={top:0,left:0}),{top:s.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:s.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var s=this.element.position(),h=this._isRootNode(this.scrollParent[0]);return{top:s.top-(parseInt(this.helper.css("top"),10)||0)+(h?0:this.scrollParent.scrollTop()),left:s.left-(parseInt(this.helper.css("left"),10)||0)+(h?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var s,h,v,d=this.options,_=this.document[0];return this.relativeContainer=null,d.containment?d.containment==="window"?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||_.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):d.containment==="document"?(this.containment=[0,0,e(_).width()-this.helperProportions.width-this.margins.left,(e(_).height()||_.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):d.containment.constructor===Array?(this.containment=d.containment,void 0):(d.containment==="parent"&&(d.containment=this.helper[0].parentNode),h=e(d.containment),v=h[0],v&&(s=h.css("overflow")!=="hidden",this.containment=[(parseInt(h.css("borderLeftWidth"),10)||0)+(parseInt(h.css("paddingLeft"),10)||0),(parseInt(h.css("borderTopWidth"),10)||0)+(parseInt(h.css("paddingTop"),10)||0),(s?Math.max(v.scrollWidth,v.offsetWidth):v.offsetWidth)-(parseInt(h.css("borderRightWidth"),10)||0)-(parseInt(h.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(v.scrollHeight,v.offsetHeight):v.offsetHeight)-(parseInt(h.css("borderBottomWidth"),10)||0)-(parseInt(h.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=h),void 0):(this.containment=null,void 0)},_convertPositionTo:function(s,h){h||(h=this.position);var v=s==="absolute"?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:h.top+this.offset.relative.top*v+this.offset.parent.top*v-(this.cssPosition==="fixed"?-this.offset.scroll.top:d?0:this.offset.scroll.top)*v,left:h.left+this.offset.relative.left*v+this.offset.parent.left*v-(this.cssPosition==="fixed"?-this.offset.scroll.left:d?0:this.offset.scroll.left)*v}},_generatePosition:function(s,h){var v,d,_,C,N=this.options,G=this._isRootNode(this.scrollParent[0]),q=s.pageX,K=s.pageY;return G&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),h&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),v=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):v=this.containment,s.pageX-this.offset.click.left<v[0]&&(q=v[0]+this.offset.click.left),s.pageY-this.offset.click.top<v[1]&&(K=v[1]+this.offset.click.top),s.pageX-this.offset.click.left>v[2]&&(q=v[2]+this.offset.click.left),s.pageY-this.offset.click.top>v[3]&&(K=v[3]+this.offset.click.top)),N.grid&&(_=N.grid[1]?this.originalPageY+Math.round((K-this.originalPageY)/N.grid[1])*N.grid[1]:this.originalPageY,K=v?_-this.offset.click.top>=v[1]||_-this.offset.click.top>v[3]?_:_-this.offset.click.top>=v[1]?_-N.grid[1]:_+N.grid[1]:_,C=N.grid[0]?this.originalPageX+Math.round((q-this.originalPageX)/N.grid[0])*N.grid[0]:this.originalPageX,q=v?C-this.offset.click.left>=v[0]||C-this.offset.click.left>v[2]?C:C-this.offset.click.left>=v[0]?C-N.grid[0]:C+N.grid[0]:C),N.axis==="y"&&(q=this.originalPageX),N.axis==="x"&&(K=this.originalPageY)),{top:K-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:G?0:this.offset.scroll.top),left:q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:G?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(s,h,v){return v=v||this._uiHash(),e.ui.plugin.call(this,s,[h,v,this],!0),s==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,s,h,v)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(s,h,v){var d=v.options,_=e.extend({},h,{item:v.element});v.sortables=[],e(d.connectToSortable).each(function(){var C=e(this).sortable("instance");C&&!C.options.disabled&&(v.sortables.push({instance:C,shouldRevert:C.options.revert}),C.refreshPositions(),C._trigger("activate",s,_))})},stop:function(s,h,v){var d=e.extend({},h,{item:v.element});e.each(v.sortables,function(){this.instance.isOver?(this.instance.isOver=0,v.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(s),this.instance.options.helper=this.instance.options._helper,v.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",s,d))})},drag:function(s,h,v){var d=this;e.each(v.sortables,function(){var _=!1,C=this;this.instance.positionAbs=v.positionAbs,this.instance.helperProportions=v.helperProportions,this.instance.offset.click=v.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(_=!0,e.each(v.sortables,function(){return this.instance.positionAbs=v.positionAbs,this.instance.helperProportions=v.helperProportions,this.instance.offset.click=v.offset.click,this!==C&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(C.instance.element[0],this.instance.element[0])&&(_=!1),_})),_?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(d).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return h.helper[0]},s.target=this.instance.currentItem[0],this.instance._mouseCapture(s,!0),this.instance._mouseStart(s,!0,!0),this.instance.offset.click.top=v.offset.click.top,this.instance.offset.click.left=v.offset.click.left,this.instance.offset.parent.left-=v.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=v.offset.parent.top-this.instance.offset.parent.top,v._trigger("toSortable",s),v.dropped=this.instance.element,v.currentItem=v.element,this.instance.fromOutside=v),this.instance.currentItem&&this.instance._mouseDrag(s)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",s,this.instance._uiHash(this.instance)),this.instance._mouseStop(s,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),v._trigger("fromSortable",s),v.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(s,h,v){var d=e("body"),_=v.options;d.css("cursor")&&(_._cursor=d.css("cursor")),d.css("cursor",_.cursor)},stop:function(s,h,v){var d=v.options;d._cursor&&e("body").css("cursor",d._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(s,h,v){var d=e(h.helper),_=v.options;d.css("opacity")&&(_._opacity=d.css("opacity")),d.css("opacity",_.opacity)},stop:function(s,h,v){var d=v.options;d._opacity&&e(h.helper).css("opacity",d._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(s,h,v){v.scrollParentNotHidden||(v.scrollParentNotHidden=v.helper.scrollParent(!1)),v.scrollParentNotHidden[0]!==v.document[0]&&v.scrollParentNotHidden[0].tagName!=="HTML"&&(v.overflowOffset=v.scrollParentNotHidden.offset())},drag:function(s,h,v){var d=v.options,_=!1,C=v.scrollParentNotHidden[0],N=v.document[0];C!==N&&C.tagName!=="HTML"?(d.axis&&d.axis==="x"||(v.overflowOffset.top+C.offsetHeight-s.pageY<d.scrollSensitivity?C.scrollTop=_=C.scrollTop+d.scrollSpeed:s.pageY-v.overflowOffset.top<d.scrollSensitivity&&(C.scrollTop=_=C.scrollTop-d.scrollSpeed)),d.axis&&d.axis==="y"||(v.overflowOffset.left+C.offsetWidth-s.pageX<d.scrollSensitivity?C.scrollLeft=_=C.scrollLeft+d.scrollSpeed:s.pageX-v.overflowOffset.left<d.scrollSensitivity&&(C.scrollLeft=_=C.scrollLeft-d.scrollSpeed))):(d.axis&&d.axis==="x"||(s.pageY-e(N).scrollTop()<d.scrollSensitivity?_=e(N).scrollTop(e(N).scrollTop()-d.scrollSpeed):e(window).height()-(s.pageY-e(N).scrollTop())<d.scrollSensitivity&&(_=e(N).scrollTop(e(N).scrollTop()+d.scrollSpeed))),d.axis&&d.axis==="y"||(s.pageX-e(N).scrollLeft()<d.scrollSensitivity?_=e(N).scrollLeft(e(N).scrollLeft()-d.scrollSpeed):e(window).width()-(s.pageX-e(N).scrollLeft())<d.scrollSensitivity&&(_=e(N).scrollLeft(e(N).scrollLeft()+d.scrollSpeed)))),_!==!1&&e.ui.ddmanager&&!d.dropBehaviour&&e.ui.ddmanager.prepareOffsets(v,s)}}),e.ui.plugin.add("draggable","snap",{start:function(s,h,v){var d=v.options;v.snapElements=[],e(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var _=e(this),C=_.offset();this!==v.element[0]&&v.snapElements.push({item:this,width:_.outerWidth(),height:_.outerHeight(),top:C.top,left:C.left})})},drag:function(s,h,v){var d,_,C,N,G,q,K,ie,Q,te,Oe=v.options,fe=Oe.snapTolerance,W=h.offset.left,ae=W+v.helperProportions.width,de=h.offset.top,Z=de+v.helperProportions.height;for(Q=v.snapElements.length-1;Q>=0;Q--)G=v.snapElements[Q].left,q=G+v.snapElements[Q].width,K=v.snapElements[Q].top,ie=K+v.snapElements[Q].height,G-fe>ae||W>q+fe||K-fe>Z||de>ie+fe||!e.contains(v.snapElements[Q].item.ownerDocument,v.snapElements[Q].item)?(v.snapElements[Q].snapping&&v.options.snap.release&&v.options.snap.release.call(v.element,s,e.extend(v._uiHash(),{snapItem:v.snapElements[Q].item})),v.snapElements[Q].snapping=!1):(Oe.snapMode!=="inner"&&(d=fe>=Math.abs(K-Z),_=fe>=Math.abs(ie-de),C=fe>=Math.abs(G-ae),N=fe>=Math.abs(q-W),d&&(h.position.top=v._convertPositionTo("relative",{top:K-v.helperProportions.height,left:0}).top-v.margins.top),_&&(h.position.top=v._convertPositionTo("relative",{top:ie,left:0}).top-v.margins.top),C&&(h.position.left=v._convertPositionTo("relative",{top:0,left:G-v.helperProportions.width}).left-v.margins.left),N&&(h.position.left=v._convertPositionTo("relative",{top:0,left:q}).left-v.margins.left)),te=d||_||C||N,Oe.snapMode!=="outer"&&(d=fe>=Math.abs(K-de),_=fe>=Math.abs(ie-Z),C=fe>=Math.abs(G-W),N=fe>=Math.abs(q-ae),d&&(h.position.top=v._convertPositionTo("relative",{top:K,left:0}).top-v.margins.top),_&&(h.position.top=v._convertPositionTo("relative",{top:ie-v.helperProportions.height,left:0}).top-v.margins.top),C&&(h.position.left=v._convertPositionTo("relative",{top:0,left:G}).left-v.margins.left),N&&(h.position.left=v._convertPositionTo("relative",{top:0,left:q-v.helperProportions.width}).left-v.margins.left)),!v.snapElements[Q].snapping&&(d||_||C||N||te)&&v.options.snap.snap&&v.options.snap.snap.call(v.element,s,e.extend(v._uiHash(),{snapItem:v.snapElements[Q].item})),v.snapElements[Q].snapping=d||_||C||N||te)}}),e.ui.plugin.add("draggable","stack",{start:function(s,h,v){var d,_=v.options,C=e.makeArray(e(_.stack)).sort(function(N,G){return(parseInt(e(N).css("zIndex"),10)||0)-(parseInt(e(G).css("zIndex"),10)||0)});C.length&&(d=parseInt(e(C[0]).css("zIndex"),10)||0,e(C).each(function(N){e(this).css("zIndex",d+N)}),this.css("zIndex",d+C.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(s,h,v){var d=e(h.helper),_=v.options;d.css("zIndex")&&(_._zIndex=d.css("zIndex")),d.css("zIndex",_.zIndex)},stop:function(s,h,v){var d=v.options;d._zIndex&&e(h.helper).css("zIndex",d._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(s){return parseInt(s,10)||0},_isNumber:function(s){return!isNaN(parseInt(s,10))},_hasScroll:function(s,h){if(e(s).css("overflow")==="hidden")return!1;var v=h&&h==="left"?"scrollLeft":"scrollTop",d=!1;return s[v]>0?!0:(s[v]=1,d=s[v]>0,s[v]=0,d)},_create:function(){var s,h,v,d,_,C=this,N=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!N.aspectRatio,aspectRatio:N.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:N.helper||N.ghost||N.animate?N.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=N.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},h=0;s.length>h;h++)v=e.trim(s[h]),_="ui-resizable-"+v,d=e("<div class='ui-resizable-handle "+_+"'></div>"),d.css({zIndex:N.zIndex}),v==="se"&&d.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[v]=".ui-resizable-"+v,this.element.append(d);this._renderAxis=function(G){var q,K,ie,Q;G=G||this.element;for(q in this.handles)this.handles[q].constructor===String&&(this.handles[q]=this.element.children(this.handles[q]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(K=e(this.handles[q],this.element),Q=/sw|ne|nw|se|n|s/.test(q)?K.outerHeight():K.outerWidth(),ie=["padding",/ne|nw|n/.test(q)?"Top":/se|sw|s/.test(q)?"Bottom":/^e$/.test(q)?"Right":"Left"].join(""),G.css(ie,Q),this._proportionallyResize()),e(this.handles[q]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){C.resizing||(this.className&&(d=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),C.axis=d&&d[1]?d[1]:"se")}),N.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){N.disabled||(e(this).removeClass("ui-resizable-autohide"),C._handles.show())}).mouseleave(function(){N.disabled||C.resizing||(e(this).addClass("ui-resizable-autohide"),C._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var s,h=function(v){e(v).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(h(this.element),s=this.element,this.originalElement.css({position:s.css("position"),width:s.outerWidth(),height:s.outerHeight(),top:s.css("top"),left:s.css("left")}).insertAfter(s),s.remove()),this.originalElement.css("resize",this.originalResizeStyle),h(this.originalElement),this},_mouseCapture:function(s){var h,v,d=!1;for(h in this.handles)v=e(this.handles[h])[0],(v===s.target||e.contains(v,s.target))&&(d=!0);return!this.options.disabled&&d},_mouseStart:function(s){var h,v,d,_=this.options,C=this.element;return this.resizing=!0,this._renderProxy(),h=this._num(this.helper.css("left")),v=this._num(this.helper.css("top")),_.containment&&(h+=e(_.containment).scrollLeft()||0,v+=e(_.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:h,top:v},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:C.width(),height:C.height()},this.originalSize=this._helper?{width:C.outerWidth(),height:C.outerHeight()}:{width:C.width(),height:C.height()},this.sizeDiff={width:C.outerWidth()-C.width(),height:C.outerHeight()-C.height()},this.originalPosition={left:h,top:v},this.originalMousePosition={left:s.pageX,top:s.pageY},this.aspectRatio=typeof _.aspectRatio=="number"?_.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor",d==="auto"?this.axis+"-resize":d),C.addClass("ui-resizable-resizing"),this._propagate("start",s),!0},_mouseDrag:function(s){var h,v,d=this.originalMousePosition,_=this.axis,C=s.pageX-d.left||0,N=s.pageY-d.top||0,G=this._change[_];return this._updatePrevProperties(),G&&(h=G.apply(this,[s,C,N]),this._updateVirtualBoundaries(s.shiftKey),(this._aspectRatio||s.shiftKey)&&(h=this._updateRatio(h,s)),h=this._respectSize(h,s),this._updateCache(h),this._propagate("resize",s),v=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(v)||(this._updatePrevProperties(),this._trigger("resize",s,this.ui()),this._applyChanges())),!1},_mouseStop:function(s){this.resizing=!1;var h,v,d,_,C,N,G,q=this.options,K=this;return this._helper&&(h=this._proportionallyResizeElements,v=h.length&&/textarea/i.test(h[0].nodeName),d=v&&this._hasScroll(h[0],"left")?0:K.sizeDiff.height,_=v?0:K.sizeDiff.width,C={width:K.helper.width()-_,height:K.helper.height()-d},N=parseInt(K.element.css("left"),10)+(K.position.left-K.originalPosition.left)||null,G=parseInt(K.element.css("top"),10)+(K.position.top-K.originalPosition.top)||null,q.animate||this.element.css(e.extend(C,{top:G,left:N})),K.helper.height(K.size.height),K.helper.width(K.size.width),this._helper&&!q.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",s),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var s={};return this.position.top!==this.prevPosition.top&&(s.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(s.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(s.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(s.height=this.size.height+"px"),this.helper.css(s),s},_updateVirtualBoundaries:function(s){var h,v,d,_,C,N=this.options;C={minWidth:this._isNumber(N.minWidth)?N.minWidth:0,maxWidth:this._isNumber(N.maxWidth)?N.maxWidth:1/0,minHeight:this._isNumber(N.minHeight)?N.minHeight:0,maxHeight:this._isNumber(N.maxHeight)?N.maxHeight:1/0},(this._aspectRatio||s)&&(h=C.minHeight*this.aspectRatio,d=C.minWidth/this.aspectRatio,v=C.maxHeight*this.aspectRatio,_=C.maxWidth/this.aspectRatio,h>C.minWidth&&(C.minWidth=h),d>C.minHeight&&(C.minHeight=d),C.maxWidth>v&&(C.maxWidth=v),C.maxHeight>_&&(C.maxHeight=_)),this._vBoundaries=C},_updateCache:function(s){this.offset=this.helper.offset(),this._isNumber(s.left)&&(this.position.left=s.left),this._isNumber(s.top)&&(this.position.top=s.top),this._isNumber(s.height)&&(this.size.height=s.height),this._isNumber(s.width)&&(this.size.width=s.width)},_updateRatio:function(s){var h=this.position,v=this.size,d=this.axis;return this._isNumber(s.height)?s.width=s.height*this.aspectRatio:this._isNumber(s.width)&&(s.height=s.width/this.aspectRatio),d==="sw"&&(s.left=h.left+(v.width-s.width),s.top=null),d==="nw"&&(s.top=h.top+(v.height-s.height),s.left=h.left+(v.width-s.width)),s},_respectSize:function(s){var h=this._vBoundaries,v=this.axis,d=this._isNumber(s.width)&&h.maxWidth&&h.maxWidth<s.width,_=this._isNumber(s.height)&&h.maxHeight&&h.maxHeight<s.height,C=this._isNumber(s.width)&&h.minWidth&&h.minWidth>s.width,N=this._isNumber(s.height)&&h.minHeight&&h.minHeight>s.height,G=this.originalPosition.left+this.originalSize.width,q=this.position.top+this.size.height,K=/sw|nw|w/.test(v),ie=/nw|ne|n/.test(v);return C&&(s.width=h.minWidth),N&&(s.height=h.minHeight),d&&(s.width=h.maxWidth),_&&(s.height=h.maxHeight),C&&K&&(s.left=G-h.minWidth),d&&K&&(s.left=G-h.maxWidth),N&&ie&&(s.top=q-h.minHeight),_&&ie&&(s.top=q-h.maxHeight),s.width||s.height||s.left||!s.top?s.width||s.height||s.top||!s.left||(s.left=null):s.top=null,s},_getPaddingPlusBorderDimensions:function(s){for(var h=0,v=[],d=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],_=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")];4>h;h++)v[h]=parseInt(d[h],10)||0,v[h]+=parseInt(_[h],10)||0;return{height:v[0]+v[2],width:v[1]+v[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var s,h=0,v=this.helper||this.element;this._proportionallyResizeElements.length>h;h++)s=this._proportionallyResizeElements[h],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(s)),s.css({height:v.height()-this.outerDimensions.height||0,width:v.width()-this.outerDimensions.width||0})},_renderProxy:function(){var s=this.element,h=this.options;this.elementOffset=s.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++h.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(s,h){return{width:this.originalSize.width+h}},w:function(s,h){var v=this.originalSize,d=this.originalPosition;return{left:d.left+h,width:v.width-h}},n:function(s,h,v){var d=this.originalSize,_=this.originalPosition;return{top:_.top+v,height:d.height-v}},s:function(s,h,v){return{height:this.originalSize.height+v}},se:function(s,h,v){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[s,h,v]))},sw:function(s,h,v){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[s,h,v]))},ne:function(s,h,v){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[s,h,v]))},nw:function(s,h,v){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[s,h,v]))}},_propagate:function(s,h){e.ui.plugin.call(this,s,[h,this.ui()]),s!=="resize"&&this._trigger(s,h,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(s){var h=e(this).resizable("instance"),v=h.options,d=h._proportionallyResizeElements,_=d.length&&/textarea/i.test(d[0].nodeName),C=_&&h._hasScroll(d[0],"left")?0:h.sizeDiff.height,N=_?0:h.sizeDiff.width,G={width:h.size.width-N,height:h.size.height-C},q=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,K=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null;h.element.animate(e.extend(G,K&&q?{top:K,left:q}:{}),{duration:v.animateDuration,easing:v.animateEasing,step:function(){var ie={width:parseInt(h.element.css("width"),10),height:parseInt(h.element.css("height"),10),top:parseInt(h.element.css("top"),10),left:parseInt(h.element.css("left"),10)};d&&d.length&&e(d[0]).css({width:ie.width,height:ie.height}),h._updateCache(ie),h._propagate("resize",s)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var s,h,v,d,_,C,N,G=e(this).resizable("instance"),q=G.options,K=G.element,ie=q.containment,Q=ie instanceof e?ie.get(0):/parent/.test(ie)?K.parent().get(0):ie;Q&&(G.containerElement=e(Q),/document/.test(ie)||ie===document?(G.containerOffset={left:0,top:0},G.containerPosition={left:0,top:0},G.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(s=e(Q),h=[],e(["Top","Right","Left","Bottom"]).each(function(te,Oe){h[te]=G._num(s.css("padding"+Oe))}),G.containerOffset=s.offset(),G.containerPosition=s.position(),G.containerSize={height:s.innerHeight()-h[3],width:s.innerWidth()-h[1]},v=G.containerOffset,d=G.containerSize.height,_=G.containerSize.width,C=G._hasScroll(Q,"left")?Q.scrollWidth:_,N=G._hasScroll(Q)?Q.scrollHeight:d,G.parentData={element:Q,left:v.left,top:v.top,width:C,height:N}))},resize:function(s){var h,v,d,_,C=e(this).resizable("instance"),N=C.options,G=C.containerOffset,q=C.position,K=C._aspectRatio||s.shiftKey,ie={top:0,left:0},Q=C.containerElement,te=!0;Q[0]!==document&&/static/.test(Q.css("position"))&&(ie=G),q.left<(C._helper?G.left:0)&&(C.size.width=C.size.width+(C._helper?C.position.left-G.left:C.position.left-ie.left),K&&(C.size.height=C.size.width/C.aspectRatio,te=!1),C.position.left=N.helper?G.left:0),q.top<(C._helper?G.top:0)&&(C.size.height=C.size.height+(C._helper?C.position.top-G.top:C.position.top),K&&(C.size.width=C.size.height*C.aspectRatio,te=!1),C.position.top=C._helper?G.top:0),d=C.containerElement.get(0)===C.element.parent().get(0),_=/relative|absolute/.test(C.containerElement.css("position")),d&&_?(C.offset.left=C.parentData.left+C.position.left,C.offset.top=C.parentData.top+C.position.top):(C.offset.left=C.element.offset().left,C.offset.top=C.element.offset().top),h=Math.abs(C.sizeDiff.width+(C._helper?C.offset.left-ie.left:C.offset.left-G.left)),v=Math.abs(C.sizeDiff.height+(C._helper?C.offset.top-ie.top:C.offset.top-G.top)),h+C.size.width>=C.parentData.width&&(C.size.width=C.parentData.width-h,K&&(C.size.height=C.size.width/C.aspectRatio,te=!1)),v+C.size.height>=C.parentData.height&&(C.size.height=C.parentData.height-v,K&&(C.size.width=C.size.height*C.aspectRatio,te=!1)),te||(C.position.left=C.prevPosition.left,C.position.top=C.prevPosition.top,C.size.width=C.prevSize.width,C.size.height=C.prevSize.height)},stop:function(){var s=e(this).resizable("instance"),h=s.options,v=s.containerOffset,d=s.containerPosition,_=s.containerElement,C=e(s.helper),N=C.offset(),G=C.outerWidth()-s.sizeDiff.width,q=C.outerHeight()-s.sizeDiff.height;s._helper&&!h.animate&&/relative/.test(_.css("position"))&&e(this).css({left:N.left-d.left-v.left,width:G,height:q}),s._helper&&!h.animate&&/static/.test(_.css("position"))&&e(this).css({left:N.left-d.left-v.left,width:G,height:q})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var s=e(this).resizable("instance"),h=s.options,v=function(d){e(d).each(function(){var _=e(this);_.data("ui-resizable-alsoresize",{width:parseInt(_.width(),10),height:parseInt(_.height(),10),left:parseInt(_.css("left"),10),top:parseInt(_.css("top"),10)})})};typeof h.alsoResize!="object"||h.alsoResize.parentNode?v(h.alsoResize):h.alsoResize.length?(h.alsoResize=h.alsoResize[0],v(h.alsoResize)):e.each(h.alsoResize,function(d){v(d)})},resize:function(s,h){var v=e(this).resizable("instance"),d=v.options,_=v.originalSize,C=v.originalPosition,N={height:v.size.height-_.height||0,width:v.size.width-_.width||0,top:v.position.top-C.top||0,left:v.position.left-C.left||0},G=function(q,K){e(q).each(function(){var ie=e(this),Q=e(this).data("ui-resizable-alsoresize"),te={},Oe=K&&K.length?K:ie.parents(h.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(Oe,function(fe,W){var ae=(Q[W]||0)+(N[W]||0);ae&&ae>=0&&(te[W]=ae||null)}),ie.css(te)})};typeof d.alsoResize!="object"||d.alsoResize.nodeType?G(d.alsoResize):e.each(d.alsoResize,function(q,K){G(q,K)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var s=e(this).resizable("instance"),h=s.options,v=s.size;s.ghost=s.originalElement.clone(),s.ghost.css({opacity:.25,display:"block",position:"relative",height:v.height,width:v.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof h.ghost=="string"?h.ghost:""),s.ghost.appendTo(s.helper)},resize:function(){var s=e(this).resizable("instance");s.ghost&&s.ghost.css({position:"relative",height:s.size.height,width:s.size.width})},stop:function(){var s=e(this).resizable("instance");s.ghost&&s.helper&&s.helper.get(0).removeChild(s.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var s,h=e(this).resizable("instance"),v=h.options,d=h.size,_=h.originalSize,C=h.originalPosition,N=h.axis,G=typeof v.grid=="number"?[v.grid,v.grid]:v.grid,q=G[0]||1,K=G[1]||1,ie=Math.round((d.width-_.width)/q)*q,Q=Math.round((d.height-_.height)/K)*K,te=_.width+ie,Oe=_.height+Q,fe=v.maxWidth&&te>v.maxWidth,W=v.maxHeight&&Oe>v.maxHeight,ae=v.minWidth&&v.minWidth>te,de=v.minHeight&&v.minHeight>Oe;v.grid=G,ae&&(te+=q),de&&(Oe+=K),fe&&(te-=q),W&&(Oe-=K),/^(se|s|e)$/.test(N)?(h.size.width=te,h.size.height=Oe):/^(ne)$/.test(N)?(h.size.width=te,h.size.height=Oe,h.position.top=C.top-Q):/^(sw)$/.test(N)?(h.size.width=te,h.size.height=Oe,h.position.left=C.left-ie):((0>=Oe-K||0>=te-q)&&(s=h._getPaddingPlusBorderDimensions(this)),Oe-K>0?(h.size.height=Oe,h.position.top=C.top-Q):(Oe=K-s.height,h.size.height=Oe,h.position.top=C.top+_.height-Oe),te-q>0?(h.size.width=te,h.position.left=C.left-ie):(te=K-s.height,h.size.width=te,h.position.left=C.left+_.width-te))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(s){var h=e(this).css(s).offset().top;0>h&&e(this).css("top",s.top-h)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var s=this.options.appendTo;return s&&(s.jquery||s.nodeType)?e(s):this.document.find(s||"body").eq(0)},_destroy:function(){var s,h=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),s=h.parent.children().eq(h.index),s.length&&s[0]!==this.element[0]?s.before(this.element):h.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(s){var h,v=this;if(this._isOpen&&this._trigger("beforeClose",s)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{h=this.document[0].activeElement,h&&h.nodeName.toLowerCase()!=="body"&&e(h).blur()}catch(d){}this._hide(this.uiDialog,this.options.hide,function(){v._trigger("close",s)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(s,h){var v=!1,d=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),_=Math.max.apply(null,d);return _>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",_+1),v=!0),v&&!h&&this._trigger("focus",s),v},open:function(){var s=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){s._focusTabbable(),s._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var s=this._focusedElement;s||(s=this.element.find("[autofocus]")),s.length||(s=this.element.find(":tabbable")),s.length||(s=this.uiDialogButtonPane.find(":tabbable")),s.length||(s=this.uiDialogTitlebarClose.filter(":tabbable")),s.length||(s=this.uiDialog),s.eq(0).focus()},_keepFocus:function(s){function h(){var v=this.document[0].activeElement,d=this.uiDialog[0]===v||e.contains(this.uiDialog[0],v);d||this._focusTabbable()}s.preventDefault(),h.call(this),this._delay(h)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(s){if(this.options.closeOnEscape&&!s.isDefaultPrevented()&&s.keyCode&&s.keyCode===e.ui.keyCode.ESCAPE)return s.preventDefault(),this.close(s),void 0;if(s.keyCode===e.ui.keyCode.TAB&&!s.isDefaultPrevented()){var h=this.uiDialog.find(":tabbable"),v=h.filter(":first"),d=h.filter(":last");s.target!==d[0]&&s.target!==this.uiDialog[0]||s.shiftKey?s.target!==v[0]&&s.target!==this.uiDialog[0]||!s.shiftKey||(this._delay(function(){d.focus()}),s.preventDefault()):(this._delay(function(){v.focus()}),s.preventDefault())}},mousedown:function(s){this._moveToTop(s)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var s;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(h){e(h.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(h){h.preventDefault(),this.close(h)}}),s=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(s),this.uiDialog.attr({"aria-labelledby":s.attr("id")})},_title:function(s){this.options.title||s.html("&#160;"),s.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var s=this,h=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(h)||e.isArray(h)&&!h.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(h,function(v,d){var _,C;d=e.isFunction(d)?{click:d,text:v}:d,d=e.extend({type:"button"},d),_=d.click,d.click=function(){_.apply(s.element[0],arguments)},C={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,e("<button></button>",d).button(C).appendTo(s.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function s(d){return{position:d.position,offset:d.offset}}var h=this,v=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,_){e(this).addClass("ui-dialog-dragging"),h._blockFrames(),h._trigger("dragStart",d,s(_))},drag:function(d,_){h._trigger("drag",d,s(_))},stop:function(d,_){var C=_.offset.left-h.document.scrollLeft(),N=_.offset.top-h.document.scrollTop();v.position={my:"left top",at:"left"+(C>=0?"+":"")+C+" top"+(N>=0?"+":"")+N,of:h.window},e(this).removeClass("ui-dialog-dragging"),h._unblockFrames(),h._trigger("dragStop",d,s(_))}})},_makeResizable:function(){function s(N){return{originalPosition:N.originalPosition,originalSize:N.originalSize,position:N.position,size:N.size}}var h=this,v=this.options,d=v.resizable,_=this.uiDialog.css("position"),C=typeof d=="string"?d:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:v.maxWidth,maxHeight:v.maxHeight,minWidth:v.minWidth,minHeight:this._minHeight(),handles:C,start:function(N,G){e(this).addClass("ui-dialog-resizing"),h._blockFrames(),h._trigger("resizeStart",N,s(G))},resize:function(N,G){h._trigger("resize",N,s(G))},stop:function(N,G){var q=h.uiDialog.offset(),K=q.left-h.document.scrollLeft(),ie=q.top-h.document.scrollTop();v.height=h.uiDialog.height(),v.width=h.uiDialog.width(),v.position={my:"left top",at:"left"+(K>=0?"+":"")+K+" top"+(ie>=0?"+":"")+ie,of:h.window},e(this).removeClass("ui-dialog-resizing"),h._unblockFrames(),h._trigger("resizeStop",N,s(G))}}).css("position",_)},_trackFocus:function(){this._on(this.widget(),{focusin:function(s){this._makeFocusTarget(),this._focusedElement=e(s.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var s=this._trackingInstances(),h=e.inArray(this,s);h!==-1&&s.splice(h,1)},_trackingInstances:function(){var s=this.document.data("ui-dialog-instances");return s||(s=[],this.document.data("ui-dialog-instances",s)),s},_minHeight:function(){var s=this.options;return s.height==="auto"?s.minHeight:Math.min(s.minHeight,s.height)},_position:function(){var s=this.uiDialog.is(":visible");s||this.uiDialog.show(),this.uiDialog.position(this.options.position),s||this.uiDialog.hide()},_setOptions:function(s){var h=this,v=!1,d={};e.each(s,function(_,C){h._setOption(_,C),_ in h.sizeRelatedOptions&&(v=!0),_ in h.resizableRelatedOptions&&(d[_]=C)}),v&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",d)},_setOption:function(s,h){var v,d,_=this.uiDialog;s==="dialogClass"&&_.removeClass(this.options.dialogClass).addClass(h),s!=="disabled"&&(this._super(s,h),s==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),s==="buttons"&&this._createButtons(),s==="closeText"&&this.uiDialogTitlebarClose.button({label:""+h}),s==="draggable"&&(v=_.is(":data(ui-draggable)"),v&&!h&&_.draggable("destroy"),!v&&h&&this._makeDraggable()),s==="position"&&this._position(),s==="resizable"&&(d=_.is(":data(ui-resizable)"),d&&!h&&_.resizable("destroy"),d&&typeof h=="string"&&_.resizable("option","handles",h),d||h===!1||this._makeResizable()),s==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var s,h,v,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),s=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),h=Math.max(0,d.minHeight-s),v=typeof d.maxHeight=="number"?Math.max(0,d.maxHeight-s):"none",d.height==="auto"?this.element.css({minHeight:h,maxHeight:v,height:"auto"}):this.element.height(Math.max(0,d.height-s)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var s=e(this);return e("<div>").css({position:"absolute",width:s.outerWidth(),height:s.outerHeight()}).appendTo(s.parent()).offset(s.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(s){return e(s.target).closest(".ui-dialog").length?!0:!!e(s.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var s=!0;this._delay(function(){s=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(h){s||this._allowInteraction(h)||(h.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var s=this.document.data("ui-dialog-overlays")-1;s?this.document.data("ui-dialog-overlays",s):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var s,h=this.options,v=h.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(v)?v:function(d){return d.is(v)},this.proportions=function(){return arguments.length?(s=arguments[0],void 0):s||(s={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(h.scope),h.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(s){e.ui.ddmanager.droppables[s]=e.ui.ddmanager.droppables[s]||[],e.ui.ddmanager.droppables[s].push(this)},_splice:function(s){for(var h=0;s.length>h;h++)s[h]===this&&s.splice(h,1)},_destroy:function(){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(s,h){if(s==="accept")this.accept=e.isFunction(h)?h:function(d){return d.is(h)};else if(s==="scope"){var v=e.ui.ddmanager.droppables[this.options.scope];this._splice(v),this._addToManager(h)}this._super(s,h)},_activate:function(s){var h=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),h&&this._trigger("activate",s,this.ui(h))},_deactivate:function(s){var h=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),h&&this._trigger("deactivate",s,this.ui(h))},_over:function(s){var h=e.ui.ddmanager.current;h&&(h.currentItem||h.element)[0]!==this.element[0]&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",s,this.ui(h)))},_out:function(s){var h=e.ui.ddmanager.current;h&&(h.currentItem||h.element)[0]!==this.element[0]&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",s,this.ui(h)))},_drop:function(s,h){var v=h||e.ui.ddmanager.current,d=!1;return v&&(v.currentItem||v.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var _=e(this).droppable("instance");return _.options.greedy&&!_.options.disabled&&_.options.scope===v.options.scope&&_.accept.call(_.element[0],v.currentItem||v.element)&&e.ui.intersect(v,e.extend(_,{offset:_.element.offset()}),_.options.tolerance,s)?(d=!0,!1):void 0}),d?!1:this.accept.call(this.element[0],v.currentItem||v.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",s,this.ui(v)),this.element):!1):!1},ui:function(s){return{draggable:s.currentItem||s.element,helper:s.helper,position:s.position,offset:s.positionAbs}}}),e.ui.intersect=function(){function s(h,v,d){return h>=v&&v+d>h}return function(h,v,d,_){if(!v.offset)return!1;var C=(h.positionAbs||h.position.absolute).left,N=(h.positionAbs||h.position.absolute).top,G=C+h.helperProportions.width,q=N+h.helperProportions.height,K=v.offset.left,ie=v.offset.top,Q=K+v.proportions().width,te=ie+v.proportions().height;switch(d){case"fit":return C>=K&&Q>=G&&N>=ie&&te>=q;case"intersect":return C+h.helperProportions.width/2>K&&Q>G-h.helperProportions.width/2&&N+h.helperProportions.height/2>ie&&te>q-h.helperProportions.height/2;case"pointer":return s(_.pageY,ie,v.proportions().height)&&s(_.pageX,K,v.proportions().width);case"touch":return(N>=ie&&te>=N||q>=ie&&te>=q||ie>N&&q>te)&&(C>=K&&Q>=C||G>=K&&Q>=G||K>C&&G>Q);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(s,h){var v,d,_=e.ui.ddmanager.droppables[s.options.scope]||[],C=h?h.type:null,N=(s.currentItem||s.element).find(":data(ui-droppable)").addBack();e:for(v=0;_.length>v;v++)if(!(_[v].options.disabled||s&&!_[v].accept.call(_[v].element[0],s.currentItem||s.element))){for(d=0;N.length>d;d++)if(N[d]===_[v].element[0]){_[v].proportions().height=0;continue e}_[v].visible=_[v].element.css("display")!=="none",_[v].visible&&(C==="mousedown"&&_[v]._activate.call(_[v],h),_[v].offset=_[v].element.offset(),_[v].proportions({width:_[v].element[0].offsetWidth,height:_[v].element[0].offsetHeight}))}},drop:function(s,h){var v=!1;return e.each((e.ui.ddmanager.droppables[s.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(s,this,this.options.tolerance,h)&&(v=this._drop.call(this,h)||v),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],s.currentItem||s.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,h)))}),v},dragStart:function(s,h){s.element.parentsUntil("body").bind("scroll.droppable",function(){s.options.refreshPositions||e.ui.ddmanager.prepareOffsets(s,h)})},drag:function(s,h){s.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(s,h),e.each(e.ui.ddmanager.droppables[s.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var v,d,_,C=e.ui.intersect(s,this,this.options.tolerance,h),N=!C&&this.isover?"isout":C&&!this.isover?"isover":null;N&&(this.options.greedy&&(d=this.options.scope,_=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===d}),_.length&&(v=e(_[0]).droppable("instance"),v.greedyChild=N==="isover")),v&&N==="isover"&&(v.isover=!1,v.isout=!0,v._out.call(v,h)),this[N]=!0,this[N==="isout"?"isover":"isout"]=!1,this[N==="isover"?"_over":"_out"].call(this,h),v&&N==="isout"&&(v.isout=!1,v.isover=!0,v._over.call(v,h)))}})},dragStop:function(s,h){s.element.parentsUntil("body").unbind("scroll.droppable"),s.options.refreshPositions||e.ui.ddmanager.prepareOffsets(s,h)}},e.ui.droppable;var E="ui-effects-",L=e;e.effects={effect:{}},function(s,h){function v(W,ae,de){var Z=Q[ae.type]||{};return W==null?de||!ae.def?null:ae.def:(W=Z.floor?~~W:parseFloat(W),isNaN(W)?ae.def:Z.mod?(W+Z.mod)%Z.mod:0>W?0:W>Z.max?Z.max:W)}function d(W){var ae=K(),de=ae._rgba=[];return W=W.toLowerCase(),fe(q,function(Z,ye){var Y,ce=ye.re.exec(W),Ze=ce&&ye.parse(ce),ft=ye.space||"rgba";return Ze?(Y=ae[ft](Ze),ae[ie[ft].cache]=Y[ie[ft].cache],de=ae._rgba=Y._rgba,!1):h}),de.length?(de.join()==="0,0,0,0"&&s.extend(de,C.transparent),ae):C[W]}function _(W,ae,de){return de=(de+1)%1,1>6*de?W+6*(ae-W)*de:1>2*de?ae:2>3*de?W+6*(ae-W)*(2/3-de):W}var C,N="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",G=/^([\-+])=\s*(\d+\.?\d*)/,q=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(W){return[W[1],W[2],W[3],W[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(W){return[2.55*W[1],2.55*W[2],2.55*W[3],W[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(W){return[parseInt(W[1],16),parseInt(W[2],16),parseInt(W[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(W){return[parseInt(W[1]+W[1],16),parseInt(W[2]+W[2],16),parseInt(W[3]+W[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(W){return[W[1],W[2]/100,W[3]/100,W[4]]}}],K=s.Color=function(W,ae,de,Z){return new s.Color.fn.parse(W,ae,de,Z)},ie={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},Q={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},te=K.support={},Oe=s("<p>")[0],fe=s.each;Oe.style.cssText="background-color:rgba(1,1,1,.5)",te.rgba=Oe.style.backgroundColor.indexOf("rgba")>-1,fe(ie,function(W,ae){ae.cache="_"+W,ae.props.alpha={idx:3,type:"percent",def:1}}),K.fn=s.extend(K.prototype,{parse:function(W,ae,de,Z){if(W===h)return this._rgba=[null,null,null,null],this;(W.jquery||W.nodeType)&&(W=s(W).css(ae),ae=h);var ye=this,Y=s.type(W),ce=this._rgba=[];return ae!==h&&(W=[W,ae,de,Z],Y="array"),Y==="string"?this.parse(d(W)||C._default):Y==="array"?(fe(ie.rgba.props,function(Ze,ft){ce[ft.idx]=v(W[ft.idx],ft)}),this):Y==="object"?(W instanceof K?fe(ie,function(Ze,ft){W[ft.cache]&&(ye[ft.cache]=W[ft.cache].slice())}):fe(ie,function(Ze,ft){var ct=ft.cache;fe(ft.props,function(Ge,Ae){if(!ye[ct]&&ft.to){if(Ge==="alpha"||W[Ge]==null)return;ye[ct]=ft.to(ye._rgba)}ye[ct][Ae.idx]=v(W[Ge],Ae,!0)}),ye[ct]&&0>s.inArray(null,ye[ct].slice(0,3))&&(ye[ct][3]=1,ft.from&&(ye._rgba=ft.from(ye[ct])))}),this):h},is:function(W){var ae=K(W),de=!0,Z=this;return fe(ie,function(ye,Y){var ce,Ze=ae[Y.cache];return Ze&&(ce=Z[Y.cache]||Y.to&&Y.to(Z._rgba)||[],fe(Y.props,function(ft,ct){return Ze[ct.idx]!=null?de=Ze[ct.idx]===ce[ct.idx]:h})),de}),de},_space:function(){var W=[],ae=this;return fe(ie,function(de,Z){ae[Z.cache]&&W.push(de)}),W.pop()},transition:function(W,ae){var de=K(W),Z=de._space(),ye=ie[Z],Y=this.alpha()===0?K("transparent"):this,ce=Y[ye.cache]||ye.to(Y._rgba),Ze=ce.slice();return de=de[ye.cache],fe(ye.props,function(ft,ct){var Ge=ct.idx,Ae=ce[Ge],Me=de[Ge],De=Q[ct.type]||{};Me!==null&&(Ae===null?Ze[Ge]=Me:(De.mod&&(Me-Ae>De.mod/2?Ae+=De.mod:Ae-Me>De.mod/2&&(Ae-=De.mod)),Ze[Ge]=v((Me-Ae)*ae+Ae,ct)))}),this[Z](Ze)},blend:function(W){if(this._rgba[3]===1)return this;var ae=this._rgba.slice(),de=ae.pop(),Z=K(W)._rgba;return K(s.map(ae,function(ye,Y){return(1-de)*Z[Y]+de*ye}))},toRgbaString:function(){var W="rgba(",ae=s.map(this._rgba,function(de,Z){return de!=null?de:Z>2?1:0});return ae[3]===1&&(ae.pop(),W="rgb("),W+ae.join()+")"},toHslaString:function(){var W="hsla(",ae=s.map(this.hsla(),function(de,Z){return de==null&&(de=Z>2?1:0),Z&&3>Z&&(de=Math.round(100*de)+"%"),de});return ae[3]===1&&(ae.pop(),W="hsl("),W+ae.join()+")"},toHexString:function(W){var ae=this._rgba.slice(),de=ae.pop();return W&&ae.push(~~(255*de)),"#"+s.map(ae,function(Z){return Z=(Z||0).toString(16),Z.length===1?"0"+Z:Z}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),K.fn.parse.prototype=K.fn,ie.hsla.to=function(W){if(W[0]==null||W[1]==null||W[2]==null)return[null,null,null,W[3]];var ae,de,Z=W[0]/255,ye=W[1]/255,Y=W[2]/255,ce=W[3],Ze=Math.max(Z,ye,Y),ft=Math.min(Z,ye,Y),ct=Ze-ft,Ge=Ze+ft,Ae=.5*Ge;return ae=ft===Ze?0:Z===Ze?60*(ye-Y)/ct+360:ye===Ze?60*(Y-Z)/ct+120:60*(Z-ye)/ct+240,de=ct===0?0:.5>=Ae?ct/Ge:ct/(2-Ge),[Math.round(ae)%360,de,Ae,ce!=null?ce:1]},ie.hsla.from=function(W){if(W[0]==null||W[1]==null||W[2]==null)return[null,null,null,W[3]];var ae=W[0]/360,de=W[1],Z=W[2],ye=W[3],Y=.5>=Z?Z*(1+de):Z+de-Z*de,ce=2*Z-Y;return[Math.round(255*_(ce,Y,ae+1/3)),Math.round(255*_(ce,Y,ae)),Math.round(255*_(ce,Y,ae-1/3)),ye]},fe(ie,function(W,ae){var de=ae.props,Z=ae.cache,ye=ae.to,Y=ae.from;K.fn[W]=function(ce){if(ye&&!this[Z]&&(this[Z]=ye(this._rgba)),ce===h)return this[Z].slice();var Ze,ft=s.type(ce),ct=ft==="array"||ft==="object"?ce:arguments,Ge=this[Z].slice();return fe(de,function(Ae,Me){var De=ct[ft==="object"?Ae:Me.idx];De==null&&(De=Ge[Me.idx]),Ge[Me.idx]=v(De,Me)}),Y?(Ze=K(Y(Ge)),Ze[Z]=Ge,Ze):K(Ge)},fe(de,function(ce,Ze){K.fn[ce]||(K.fn[ce]=function(ft){var ct,Ge=s.type(ft),Ae=ce==="alpha"?this._hsla?"hsla":"rgba":W,Me=this[Ae](),De=Me[Ze.idx];return Ge==="undefined"?De:(Ge==="function"&&(ft=ft.call(this,De),Ge=s.type(ft)),ft==null&&Ze.empty?this:(Ge==="string"&&(ct=G.exec(ft),ct&&(ft=De+parseFloat(ct[2])*(ct[1]==="+"?1:-1))),Me[Ze.idx]=ft,this[Ae](Me)))})})}),K.hook=function(W){var ae=W.split(" ");fe(ae,function(de,Z){s.cssHooks[Z]={set:function(ye,Y){var ce,Ze,ft="";if(Y!=="transparent"&&(s.type(Y)!=="string"||(ce=d(Y)))){if(Y=K(ce||Y),!te.rgba&&Y._rgba[3]!==1){for(Ze=Z==="backgroundColor"?ye.parentNode:ye;(ft===""||ft==="transparent")&&Ze&&Ze.style;)try{ft=s.css(Ze,"backgroundColor"),Ze=Ze.parentNode}catch(ct){}Y=Y.blend(ft&&ft!=="transparent"?ft:"_default")}Y=Y.toRgbaString()}try{ye.style[Z]=Y}catch(ct){}}},s.fx.step[Z]=function(ye){ye.colorInit||(ye.start=K(ye.elem,Z),ye.end=K(ye.end),ye.colorInit=!0),s.cssHooks[Z].set(ye.elem,ye.start.transition(ye.end,ye.pos))}})},K.hook(N),s.cssHooks.borderColor={expand:function(W){var ae={};return fe(["Top","Right","Bottom","Left"],function(de,Z){ae["border"+Z+"Color"]=W}),ae}},C=s.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(L),function(){function s(_){var C,N,G=_.ownerDocument.defaultView?_.ownerDocument.defaultView.getComputedStyle(_,null):_.currentStyle,q={};if(G&&G.length&&G[0]&&G[G[0]])for(N=G.length;N--;)C=G[N],typeof G[C]=="string"&&(q[e.camelCase(C)]=G[C]);else for(C in G)typeof G[C]=="string"&&(q[C]=G[C]);return q}function h(_,C){var N,G,q={};for(N in C)G=C[N],_[N]!==G&&(d[N]||(e.fx.step[N]||!isNaN(parseFloat(G)))&&(q[N]=G));return q}var v=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,C){e.fx.step[C]=function(N){(N.end!=="none"&&!N.setAttr||N.pos===1&&!N.setAttr)&&(L.style(N.elem,C,N.end),N.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(_){return this.add(_==null?this.prevObject:this.prevObject.filter(_))}),e.effects.animateClass=function(_,C,N,G){var q=e.speed(C,N,G);return this.queue(function(){var K,ie=e(this),Q=ie.attr("class")||"",te=q.children?ie.find("*").addBack():ie;te=te.map(function(){var Oe=e(this);return{el:Oe,start:s(this)}}),K=function(){e.each(v,function(Oe,fe){_[fe]&&ie[fe+"Class"](_[fe])})},K(),te=te.map(function(){return this.end=s(this.el[0]),this.diff=h(this.start,this.end),this}),ie.attr("class",Q),te=te.map(function(){var Oe=this,fe=e.Deferred(),W=e.extend({},q,{queue:!1,complete:function(){fe.resolve(Oe)}});return this.el.animate(this.diff,W),fe.promise()}),e.when.apply(e,te.get()).done(function(){K(),e.each(arguments,function(){var Oe=this.el;e.each(this.diff,function(fe){Oe.css(fe,"")})}),q.complete.call(ie[0])})})},e.fn.extend({addClass:function(_){return function(C,N,G,q){return N?e.effects.animateClass.call(this,{add:C},N,G,q):_.apply(this,arguments)}}(e.fn.addClass),removeClass:function(_){return function(C,N,G,q){return arguments.length>1?e.effects.animateClass.call(this,{remove:C},N,G,q):_.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(_){return function(C,N,G,q,K){return typeof N=="boolean"||N===void 0?G?e.effects.animateClass.call(this,N?{add:C}:{remove:C},G,q,K):_.apply(this,arguments):e.effects.animateClass.call(this,{toggle:C},N,G,q)}}(e.fn.toggleClass),switchClass:function(_,C,N,G,q){return e.effects.animateClass.call(this,{add:C,remove:_},N,G,q)}})}(),function(){function s(v,d,_,C){return e.isPlainObject(v)&&(d=v,v=v.effect),v={effect:v},d==null&&(d={}),e.isFunction(d)&&(C=d,_=null,d={}),(typeof d=="number"||e.fx.speeds[d])&&(C=_,_=d,d={}),e.isFunction(_)&&(C=_,_=null),d&&e.extend(v,d),_=_||d.duration,v.duration=e.fx.off?0:typeof _=="number"?_:_ in e.fx.speeds?e.fx.speeds[_]:e.fx.speeds._default,v.complete=C||d.complete,v}function h(v){return!v||typeof v=="number"||e.fx.speeds[v]?!0:typeof v!="string"||e.effects.effect[v]?e.isFunction(v)?!0:!(typeof v!="object"||v.effect):!0}e.extend(e.effects,{version:"1.11.1",save:function(v,d){for(var _=0;d.length>_;_++)d[_]!==null&&v.data(E+d[_],v[0].style[d[_]])},restore:function(v,d){var _,C;for(C=0;d.length>C;C++)d[C]!==null&&(_=v.data(E+d[C]),_===void 0&&(_=""),v.css(d[C],_))},setMode:function(v,d){return d==="toggle"&&(d=v.is(":hidden")?"show":"hide"),d},getBaseline:function(v,d){var _,C;switch(v[0]){case"top":_=0;break;case"middle":_=.5;break;case"bottom":_=1;break;default:_=v[0]/d.height}switch(v[1]){case"left":C=0;break;case"center":C=.5;break;case"right":C=1;break;default:C=v[1]/d.width}return{x:C,y:_}},createWrapper:function(v){if(v.parent().is(".ui-effects-wrapper"))return v.parent();var d={width:v.outerWidth(!0),height:v.outerHeight(!0),float:v.css("float")},_=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),C={width:v.width(),height:v.height()},N=document.activeElement;try{N.id}catch(G){N=document.body}return v.wrap(_),(v[0]===N||e.contains(v[0],N))&&e(N).focus(),_=v.parent(),v.css("position")==="static"?(_.css({position:"relative"}),v.css({position:"relative"})):(e.extend(d,{position:v.css("position"),zIndex:v.css("z-index")}),e.each(["top","left","bottom","right"],function(G,q){d[q]=v.css(q),isNaN(parseInt(d[q],10))&&(d[q]="auto")}),v.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),v.css(C),_.css(d).show()},removeWrapper:function(v){var d=document.activeElement;return v.parent().is(".ui-effects-wrapper")&&(v.parent().replaceWith(v),(v[0]===d||e.contains(v[0],d))&&e(d).focus()),v},setTransition:function(v,d,_,C){return C=C||{},e.each(d,function(N,G){var q=v.cssUnit(G);q[0]>0&&(C[G]=q[0]*_+q[1])}),C}}),e.fn.extend({effect:function(){function v(G){function q(){e.isFunction(ie)&&ie.call(K[0]),e.isFunction(G)&&G()}var K=e(this),ie=d.complete,Q=d.mode;(K.is(":hidden")?Q==="hide":Q==="show")?(K[Q](),q()):N.call(K[0],d,q)}var d=s.apply(this,arguments),_=d.mode,C=d.queue,N=e.effects.effect[d.effect];return e.fx.off||!N?_?this[_](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):C===!1?this.each(v):this.queue(C||"fx",v)},show:function(v){return function(d){if(h(d))return v.apply(this,arguments);var _=s.apply(this,arguments);return _.mode="show",this.effect.call(this,_)}}(e.fn.show),hide:function(v){return function(d){if(h(d))return v.apply(this,arguments);var _=s.apply(this,arguments);return _.mode="hide",this.effect.call(this,_)}}(e.fn.hide),toggle:function(v){return function(d){if(h(d)||typeof d=="boolean")return v.apply(this,arguments);var _=s.apply(this,arguments);return _.mode="toggle",this.effect.call(this,_)}}(e.fn.toggle),cssUnit:function(v){var d=this.css(v),_=[];return e.each(["em","px","%","pt"],function(C,N){d.indexOf(N)>0&&(_=[parseFloat(d),N])}),_}})}(),function(){var s={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(h,v){s[v]=function(d){return Math.pow(d,h+2)}}),e.extend(s,{Sine:function(h){return 1-Math.cos(h*Math.PI/2)},Circ:function(h){return 1-Math.sqrt(1-h*h)},Elastic:function(h){return h===0||h===1?h:-Math.pow(2,8*(h-1))*Math.sin((80*(h-1)-7.5)*Math.PI/15)},Back:function(h){return h*h*(3*h-2)},Bounce:function(h){for(var v,d=4;((v=Math.pow(2,--d))-1)/11>h;);return 1/Math.pow(4,3-d)-7.5625*Math.pow((3*v-2)/22-h,2)}}),e.each(s,function(h,v){e.easing["easeIn"+h]=v,e.easing["easeOut"+h]=function(d){return 1-v(1-d)},e.easing["easeInOut"+h]=function(d){return .5>d?v(2*d)/2:1-v(-2*d+2)/2}})}(),e.effects,e.effects.effect.blind=function(s,h){var v,d,_,C=e(this),N=/up|down|vertical/,G=/up|left|vertical|horizontal/,q=["position","top","bottom","left","right","height","width"],K=e.effects.setMode(C,s.mode||"hide"),ie=s.direction||"up",Q=N.test(ie),te=Q?"height":"width",Oe=Q?"top":"left",fe=G.test(ie),W={},ae=K==="show";C.parent().is(".ui-effects-wrapper")?e.effects.save(C.parent(),q):e.effects.save(C,q),C.show(),v=e.effects.createWrapper(C).css({overflow:"hidden"}),d=v[te](),_=parseFloat(v.css(Oe))||0,W[te]=ae?d:0,fe||(C.css(Q?"bottom":"right",0).css(Q?"top":"left","auto").css({position:"absolute"}),W[Oe]=ae?_:d+_),ae&&(v.css(te,0),fe||v.css(Oe,_+d)),v.animate(W,{duration:s.duration,easing:s.easing,queue:!1,complete:function(){K==="hide"&&C.hide(),e.effects.restore(C,q),e.effects.removeWrapper(C),h()}})},e.effects.effect.bounce=function(s,h){var v,d,_,C=e(this),N=["position","top","bottom","left","right","height","width"],G=e.effects.setMode(C,s.mode||"effect"),q=G==="hide",K=G==="show",ie=s.direction||"up",Q=s.distance,te=s.times||5,Oe=2*te+(K||q?1:0),fe=s.duration/Oe,W=s.easing,ae=ie==="up"||ie==="down"?"top":"left",de=ie==="up"||ie==="left",Z=C.queue(),ye=Z.length;for((K||q)&&N.push("opacity"),e.effects.save(C,N),C.show(),e.effects.createWrapper(C),Q||(Q=C[ae==="top"?"outerHeight":"outerWidth"]()/3),K&&(_={opacity:1},_[ae]=0,C.css("opacity",0).css(ae,de?2*-Q:2*Q).animate(_,fe,W)),q&&(Q/=Math.pow(2,te-1)),_={},_[ae]=0,v=0;te>v;v++)d={},d[ae]=(de?"-=":"+=")+Q,C.animate(d,fe,W).animate(_,fe,W),Q=q?2*Q:Q/2;q&&(d={opacity:0},d[ae]=(de?"-=":"+=")+Q,C.animate(d,fe,W)),C.queue(function(){q&&C.hide(),e.effects.restore(C,N),e.effects.removeWrapper(C),h()}),ye>1&&Z.splice.apply(Z,[1,0].concat(Z.splice(ye,Oe+1))),C.dequeue()},e.effects.effect.clip=function(s,h){var v,d,_,C=e(this),N=["position","top","bottom","left","right","height","width"],G=e.effects.setMode(C,s.mode||"hide"),q=G==="show",K=s.direction||"vertical",ie=K==="vertical",Q=ie?"height":"width",te=ie?"top":"left",Oe={};e.effects.save(C,N),C.show(),v=e.effects.createWrapper(C).css({overflow:"hidden"}),d=C[0].tagName==="IMG"?v:C,_=d[Q](),q&&(d.css(Q,0),d.css(te,_/2)),Oe[Q]=q?_:0,Oe[te]=q?0:_/2,d.animate(Oe,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){q||C.hide(),e.effects.restore(C,N),e.effects.removeWrapper(C),h()}})},e.effects.effect.drop=function(s,h){var v,d=e(this),_=["position","top","bottom","left","right","opacity","height","width"],C=e.effects.setMode(d,s.mode||"hide"),N=C==="show",G=s.direction||"left",q=G==="up"||G==="down"?"top":"left",K=G==="up"||G==="left"?"pos":"neg",ie={opacity:N?1:0};e.effects.save(d,_),d.show(),e.effects.createWrapper(d),v=s.distance||d[q==="top"?"outerHeight":"outerWidth"](!0)/2,N&&d.css("opacity",0).css(q,K==="pos"?-v:v),ie[q]=(N?K==="pos"?"+=":"-=":K==="pos"?"-=":"+=")+v,d.animate(ie,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){C==="hide"&&d.hide(),e.effects.restore(d,_),e.effects.removeWrapper(d),h()}})},e.effects.effect.explode=function(s,h){function v(){Z.push(this),Z.length===ie*Q&&d()}function d(){te.css({visibility:"visible"}),e(Z).remove(),fe||te.hide(),h()}var _,C,N,G,q,K,ie=s.pieces?Math.round(Math.sqrt(s.pieces)):3,Q=ie,te=e(this),Oe=e.effects.setMode(te,s.mode||"hide"),fe=Oe==="show",W=te.show().css("visibility","hidden").offset(),ae=Math.ceil(te.outerWidth()/Q),de=Math.ceil(te.outerHeight()/ie),Z=[];for(_=0;ie>_;_++)for(G=W.top+_*de,K=_-(ie-1)/2,C=0;Q>C;C++)N=W.left+C*ae,q=C-(Q-1)/2,te.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-C*ae,top:-_*de}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:ae,height:de,left:N+(fe?q*ae:0),top:G+(fe?K*de:0),opacity:fe?0:1}).animate({left:N+(fe?0:q*ae),top:G+(fe?0:K*de),opacity:fe?1:0},s.duration||500,s.easing,v)},e.effects.effect.fade=function(s,h){var v=e(this),d=e.effects.setMode(v,s.mode||"toggle");v.animate({opacity:d},{queue:!1,duration:s.duration,easing:s.easing,complete:h})},e.effects.effect.fold=function(s,h){var v,d,_=e(this),C=["position","top","bottom","left","right","height","width"],N=e.effects.setMode(_,s.mode||"hide"),G=N==="show",q=N==="hide",K=s.size||15,ie=/([0-9]+)%/.exec(K),Q=!!s.horizFirst,te=G!==Q,Oe=te?["width","height"]:["height","width"],fe=s.duration/2,W={},ae={};e.effects.save(_,C),_.show(),v=e.effects.createWrapper(_).css({overflow:"hidden"}),d=te?[v.width(),v.height()]:[v.height(),v.width()],ie&&(K=parseInt(ie[1],10)/100*d[q?0:1]),G&&v.css(Q?{height:0,width:K}:{height:K,width:0}),W[Oe[0]]=G?d[0]:K,ae[Oe[1]]=G?d[1]:0,v.animate(W,fe,s.easing).animate(ae,fe,s.easing,function(){q&&_.hide(),e.effects.restore(_,C),e.effects.removeWrapper(_),h()})},e.effects.effect.highlight=function(s,h){var v=e(this),d=["backgroundImage","backgroundColor","opacity"],_=e.effects.setMode(v,s.mode||"show"),C={backgroundColor:v.css("backgroundColor")};_==="hide"&&(C.opacity=0),e.effects.save(v,d),v.show().css({backgroundImage:"none",backgroundColor:s.color||"#ffff99"}).animate(C,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){_==="hide"&&v.hide(),e.effects.restore(v,d),h()}})},e.effects.effect.size=function(s,h){var v,d,_,C=e(this),N=["position","top","bottom","left","right","width","height","overflow","opacity"],G=["position","top","bottom","left","right","overflow","opacity"],q=["width","height","overflow"],K=["fontSize"],ie=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],Q=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],te=e.effects.setMode(C,s.mode||"effect"),Oe=s.restore||te!=="effect",fe=s.scale||"both",W=s.origin||["middle","center"],ae=C.css("position"),de=Oe?N:G,Z={height:0,width:0,outerHeight:0,outerWidth:0};te==="show"&&C.show(),v={height:C.height(),width:C.width(),outerHeight:C.outerHeight(),outerWidth:C.outerWidth()},s.mode==="toggle"&&te==="show"?(C.from=s.to||Z,C.to=s.from||v):(C.from=s.from||(te==="show"?Z:v),C.to=s.to||(te==="hide"?Z:v)),_={from:{y:C.from.height/v.height,x:C.from.width/v.width},to:{y:C.to.height/v.height,x:C.to.width/v.width}},(fe==="box"||fe==="both")&&(_.from.y!==_.to.y&&(de=de.concat(ie),C.from=e.effects.setTransition(C,ie,_.from.y,C.from),C.to=e.effects.setTransition(C,ie,_.to.y,C.to)),_.from.x!==_.to.x&&(de=de.concat(Q),C.from=e.effects.setTransition(C,Q,_.from.x,C.from),C.to=e.effects.setTransition(C,Q,_.to.x,C.to))),(fe==="content"||fe==="both")&&_.from.y!==_.to.y&&(de=de.concat(K).concat(q),C.from=e.effects.setTransition(C,K,_.from.y,C.from),C.to=e.effects.setTransition(C,K,_.to.y,C.to)),e.effects.save(C,de),C.show(),e.effects.createWrapper(C),C.css("overflow","hidden").css(C.from),W&&(d=e.effects.getBaseline(W,v),C.from.top=(v.outerHeight-C.outerHeight())*d.y,C.from.left=(v.outerWidth-C.outerWidth())*d.x,C.to.top=(v.outerHeight-C.to.outerHeight)*d.y,C.to.left=(v.outerWidth-C.to.outerWidth)*d.x),C.css(C.from),(fe==="content"||fe==="both")&&(ie=ie.concat(["marginTop","marginBottom"]).concat(K),Q=Q.concat(["marginLeft","marginRight"]),q=N.concat(ie).concat(Q),C.find("*[width]").each(function(){var ye=e(this),Y={height:ye.height(),width:ye.width(),outerHeight:ye.outerHeight(),outerWidth:ye.outerWidth()};Oe&&e.effects.save(ye,q),ye.from={height:Y.height*_.from.y,width:Y.width*_.from.x,outerHeight:Y.outerHeight*_.from.y,outerWidth:Y.outerWidth*_.from.x},ye.to={height:Y.height*_.to.y,width:Y.width*_.to.x,outerHeight:Y.height*_.to.y,outerWidth:Y.width*_.to.x},_.from.y!==_.to.y&&(ye.from=e.effects.setTransition(ye,ie,_.from.y,ye.from),ye.to=e.effects.setTransition(ye,ie,_.to.y,ye.to)),_.from.x!==_.to.x&&(ye.from=e.effects.setTransition(ye,Q,_.from.x,ye.from),ye.to=e.effects.setTransition(ye,Q,_.to.x,ye.to)),ye.css(ye.from),ye.animate(ye.to,s.duration,s.easing,function(){Oe&&e.effects.restore(ye,q)})})),C.animate(C.to,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){C.to.opacity===0&&C.css("opacity",C.from.opacity),te==="hide"&&C.hide(),e.effects.restore(C,de),Oe||(ae==="static"?C.css({position:"relative",top:C.to.top,left:C.to.left}):e.each(["top","left"],function(ye,Y){C.css(Y,function(ce,Ze){var ft=parseInt(Ze,10),ct=ye?C.to.left:C.to.top;return Ze==="auto"?ct+"px":ft+ct+"px"})})),e.effects.removeWrapper(C),h()}})},e.effects.effect.scale=function(s,h){var v=e(this),d=e.extend(!0,{},s),_=e.effects.setMode(v,s.mode||"effect"),C=parseInt(s.percent,10)||(parseInt(s.percent,10)===0||_==="hide"?0:100),N=s.direction||"both",G=s.origin,q={height:v.height(),width:v.width(),outerHeight:v.outerHeight(),outerWidth:v.outerWidth()},K={y:N!=="horizontal"?C/100:1,x:N!=="vertical"?C/100:1};d.effect="size",d.queue=!1,d.complete=h,_!=="effect"&&(d.origin=G||["middle","center"],d.restore=!0),d.from=s.from||(_==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:q),d.to={height:q.height*K.y,width:q.width*K.x,outerHeight:q.outerHeight*K.y,outerWidth:q.outerWidth*K.x},d.fade&&(_==="show"&&(d.from.opacity=0,d.to.opacity=1),_==="hide"&&(d.from.opacity=1,d.to.opacity=0)),v.effect(d)},e.effects.effect.puff=function(s,h){var v=e(this),d=e.effects.setMode(v,s.mode||"hide"),_=d==="hide",C=parseInt(s.percent,10)||150,N=C/100,G={height:v.height(),width:v.width(),outerHeight:v.outerHeight(),outerWidth:v.outerWidth()};e.extend(s,{effect:"scale",queue:!1,fade:!0,mode:d,complete:h,percent:_?C:100,from:_?G:{height:G.height*N,width:G.width*N,outerHeight:G.outerHeight*N,outerWidth:G.outerWidth*N}}),v.effect(s)},e.effects.effect.pulsate=function(s,h){var v,d=e(this),_=e.effects.setMode(d,s.mode||"show"),C=_==="show",N=_==="hide",G=C||_==="hide",q=2*(s.times||5)+(G?1:0),K=s.duration/q,ie=0,Q=d.queue(),te=Q.length;for((C||!d.is(":visible"))&&(d.css("opacity",0).show(),ie=1),v=1;q>v;v++)d.animate({opacity:ie},K,s.easing),ie=1-ie;d.animate({opacity:ie},K,s.easing),d.queue(function(){N&&d.hide(),h()}),te>1&&Q.splice.apply(Q,[1,0].concat(Q.splice(te,q+1))),d.dequeue()},e.effects.effect.shake=function(s,h){var v,d=e(this),_=["position","top","bottom","left","right","height","width"],C=e.effects.setMode(d,s.mode||"effect"),N=s.direction||"left",G=s.distance||20,q=s.times||3,K=2*q+1,ie=Math.round(s.duration/K),Q=N==="up"||N==="down"?"top":"left",te=N==="up"||N==="left",Oe={},fe={},W={},ae=d.queue(),de=ae.length;for(e.effects.save(d,_),d.show(),e.effects.createWrapper(d),Oe[Q]=(te?"-=":"+=")+G,fe[Q]=(te?"+=":"-=")+2*G,W[Q]=(te?"-=":"+=")+2*G,d.animate(Oe,ie,s.easing),v=1;q>v;v++)d.animate(fe,ie,s.easing).animate(W,ie,s.easing);d.animate(fe,ie,s.easing).animate(Oe,ie/2,s.easing).queue(function(){C==="hide"&&d.hide(),e.effects.restore(d,_),e.effects.removeWrapper(d),h()}),de>1&&ae.splice.apply(ae,[1,0].concat(ae.splice(de,K+1))),d.dequeue()},e.effects.effect.slide=function(s,h){var v,d=e(this),_=["position","top","bottom","left","right","width","height"],C=e.effects.setMode(d,s.mode||"show"),N=C==="show",G=s.direction||"left",q=G==="up"||G==="down"?"top":"left",K=G==="up"||G==="left",ie={};e.effects.save(d,_),d.show(),v=s.distance||d[q==="top"?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(d).css({overflow:"hidden"}),N&&d.css(q,K?isNaN(v)?"-"+v:-v:v),ie[q]=(N?K?"+=":"-=":K?"-=":"+=")+v,d.animate(ie,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){C==="hide"&&d.hide(),e.effects.restore(d,_),e.effects.removeWrapper(d),h()}})},e.effects.effect.transfer=function(s,h){var v=e(this),d=e(s.to),_=d.css("position")==="fixed",C=e("body"),N=_?C.scrollTop():0,G=_?C.scrollLeft():0,q=d.offset(),K={top:q.top-N,left:q.left-G,height:d.innerHeight(),width:d.innerWidth()},ie=v.offset(),Q=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(s.className).css({top:ie.top-N,left:ie.left-G,height:v.innerHeight(),width:v.innerWidth(),position:_?"fixed":"absolute"}).animate(K,s.duration,s.easing,function(){Q.remove(),h()})},e.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(s){return s===void 0?this.options.value:(this.options.value=this._constrainedValue(s),this._refreshValue(),void 0)},_constrainedValue:function(s){return s===void 0&&(s=this.options.value),this.indeterminate=s===!1,typeof s!="number"&&(s=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,s))},_setOptions:function(s){var h=s.value;delete s.value,this._super(s),this.options.value=this._constrainedValue(h),this._refreshValue()},_setOption:function(s,h){s==="max"&&(h=Math.max(this.min,h)),s==="disabled"&&this.element.toggleClass("ui-state-disabled",!!h).attr("aria-disabled",h),this._super(s,h)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var s=this.options.value,h=this._percentage();this.valueDiv.toggle(this.indeterminate||s>this.min).toggleClass("ui-corner-right",s===this.options.max).width(h.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":s}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==s&&(this.oldValue=s,this._trigger("change")),s===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var s,h=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){s=e(h.options.filter,h.element[0]),s.addClass("ui-selectee"),s.each(function(){var v=e(this),d=v.offset();e.data(this,"selectable-item",{element:this,$element:v,left:d.left,top:d.top,right:d.left+v.outerWidth(),bottom:d.top+v.outerHeight(),startselected:!1,selected:v.hasClass("ui-selected"),selecting:v.hasClass("ui-selecting"),unselecting:v.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=s.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(s){var h=this,v=this.options;this.opos=[s.pageX,s.pageY],this.options.disabled||(this.selectees=e(v.filter,this.element[0]),this._trigger("start",s),e(v.appendTo).append(this.helper),this.helper.css({left:s.pageX,top:s.pageY,width:0,height:0}),v.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=e.data(this,"selectable-item");d.startselected=!0,s.metaKey||s.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,h._trigger("unselecting",s,{unselecting:d.element}))}),e(s.target).parents().addBack().each(function(){var d,_=e.data(this,"selectable-item");return _?(d=!s.metaKey&&!s.ctrlKey||!_.$element.hasClass("ui-selected"),_.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),_.unselecting=!d,_.selecting=d,_.selected=d,d?h._trigger("selecting",s,{selecting:_.element}):h._trigger("unselecting",s,{unselecting:_.element}),!1):void 0}))},_mouseDrag:function(s){if(this.dragged=!0,!this.options.disabled){var h,v=this,d=this.options,_=this.opos[0],C=this.opos[1],N=s.pageX,G=s.pageY;return _>N&&(h=N,N=_,_=h),C>G&&(h=G,G=C,C=h),this.helper.css({left:_,top:C,width:N-_,height:G-C}),this.selectees.each(function(){var q=e.data(this,"selectable-item"),K=!1;q&&q.element!==v.element[0]&&(d.tolerance==="touch"?K=!(q.left>N||_>q.right||q.top>G||C>q.bottom):d.tolerance==="fit"&&(K=q.left>_&&N>q.right&&q.top>C&&G>q.bottom),K?(q.selected&&(q.$element.removeClass("ui-selected"),q.selected=!1),q.unselecting&&(q.$element.removeClass("ui-unselecting"),q.unselecting=!1),q.selecting||(q.$element.addClass("ui-selecting"),q.selecting=!0,v._trigger("selecting",s,{selecting:q.element}))):(q.selecting&&((s.metaKey||s.ctrlKey)&&q.startselected?(q.$element.removeClass("ui-selecting"),q.selecting=!1,q.$element.addClass("ui-selected"),q.selected=!0):(q.$element.removeClass("ui-selecting"),q.selecting=!1,q.startselected&&(q.$element.addClass("ui-unselecting"),q.unselecting=!0),v._trigger("unselecting",s,{unselecting:q.element}))),q.selected&&(s.metaKey||s.ctrlKey||q.startselected||(q.$element.removeClass("ui-selected"),q.selected=!1,q.$element.addClass("ui-unselecting"),q.unselecting=!0,v._trigger("unselecting",s,{unselecting:q.element})))))}),!1}},_mouseStop:function(s){var h=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var v=e.data(this,"selectable-item");v.$element.removeClass("ui-unselecting"),v.unselecting=!1,v.startselected=!1,h._trigger("unselected",s,{unselected:v.element})}),e(".ui-selecting",this.element[0]).each(function(){var v=e.data(this,"selectable-item");v.$element.removeClass("ui-selecting").addClass("ui-selected"),v.selecting=!1,v.selected=!0,v.startselected=!0,h._trigger("selected",s,{selected:v.element})}),this._trigger("stop",s),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var s=this.element.uniqueId().attr("id");this.ids={element:s,button:s+"-button",menu:s+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var s=this,h=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(v){this.button.focus(),v.preventDefault()}}),this.element.hide(),this.button=e("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:h||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){s.menuItems||s._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var s=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(h,v){h.preventDefault(),s._select(v.item.data("ui-selectmenu-item"),h)},focus:function(h,v){var d=v.item.data("ui-selectmenu-item");s.focusIndex!=null&&d.index!==s.focusIndex&&(s._trigger("focus",h,{item:d}),s.isOpen||s._select(d,h)),s.focusIndex=d.index,s.button.attr("aria-activedescendant",s.menuItems.eq(d.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var s,h=this.element.find("option");h.length&&(this._parseOptions(h),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),s=this._getSelectedItem(),this.menuInstance.focus(null,s),this._setAria(s.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(s){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",s))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(s){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",s))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(s,h){var v=this,d="";e.each(h,function(_,C){C.optgroup!==d&&(e("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(C.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:C.optgroup}).appendTo(s),d=C.optgroup),v._renderItemData(s,C)})},_renderItemData:function(s,h){return this._renderItem(s,h).data("ui-selectmenu-item",h)},_renderItem:function(s,h){var v=e("<li>");return h.disabled&&v.addClass("ui-state-disabled"),this._setText(v,h.label),v.appendTo(s)},_setText:function(s,h){h?s.text(h):s.html("&#160;")},_move:function(s,h){var v,d,_=".ui-menu-item";this.isOpen?v=this.menuItems.eq(this.focusIndex):(v=this.menuItems.eq(this.element[0].selectedIndex),_+=":not(.ui-state-disabled)"),d=s==="first"||s==="last"?v[s==="first"?"prevAll":"nextAll"](_).eq(-1):v[s+"All"](_).eq(0),d.length&&this.menuInstance.focus(h,d)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(s){this[this.isOpen?"close":"open"](s)},_documentClick:{mousedown:function(s){this.isOpen&&(e(s.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(s))}},_buttonEvents:{mousedown:function(s){s.preventDefault()},click:"_toggle",keydown:function(s){var h=!0;switch(s.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(s),h=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(s);break;case e.ui.keyCode.UP:s.altKey?this._toggle(s):this._move("prev",s);break;case e.ui.keyCode.DOWN:s.altKey?this._toggle(s):this._move("next",s);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(s):this._toggle(s);break;case e.ui.keyCode.LEFT:this._move("prev",s);break;case e.ui.keyCode.RIGHT:this._move("next",s);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",s);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",s);break;default:this.menu.trigger(s),h=!1}h&&s.preventDefault()}},_selectFocusedItem:function(s){var h=this.menuItems.eq(this.focusIndex);h.hasClass("ui-state-disabled")||this._select(h.data("ui-selectmenu-item"),s)},_select:function(s,h){var v=this.element[0].selectedIndex;this.element[0].selectedIndex=s.index,this._setText(this.buttonText,s.label),this._setAria(s),this._trigger("select",h,{item:s}),s.index!==v&&this._trigger("change",h,{item:s}),this.close(h)},_setAria:function(s){var h=this.menuItems.eq(s.index).attr("id");this.button.attr({"aria-labelledby":h,"aria-activedescendant":h}),this.menu.attr("aria-activedescendant",h)},_setOption:function(s,h){s==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(h.button),this._super(s,h),s==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),s==="disabled"&&(this.menuInstance.option("disabled",h),this.button.toggleClass("ui-state-disabled",h).attr("aria-disabled",h),this.element.prop("disabled",h),h?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),s==="width"&&this._resizeButton()},_appendTo:function(){var s=this.options.appendTo;return s&&(s=s.jquery||s.nodeType?e(s):this.document.find(s).eq(0)),s&&s[0]||(s=this.element.closest(".ui-front")),s.length||(s=this.document[0].body),s},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var s=this.options.width;s||(s=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(s)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(s){var h=[];s.each(function(v,d){var _=e(d),C=_.parent("optgroup");h.push({element:_,index:v,value:_.attr("value"),label:_.text(),optgroup:C.attr("label")||"",disabled:C.prop("disabled")||_.prop("disabled")})}),this.items=h},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var s,h,v=this.options,d=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),_="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",C=[];for(h=v.values&&v.values.length||1,d.length>h&&(d.slice(h).remove(),d=d.slice(0,h)),s=d.length;h>s;s++)C.push(_);this.handles=d.add(e(C.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(N){e(this).data("ui-slider-handle-index",N)})},_createRange:function(){var s=this.options,h="";s.range?(s.range===!0&&(s.values?s.values.length&&s.values.length!==2?s.values=[s.values[0],s.values[0]]:e.isArray(s.values)&&(s.values=s.values.slice(0)):s.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),h="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(h+(s.range==="min"||s.range==="max"?" ui-slider-range-"+s.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(s){var h,v,d,_,C,N,G,q,K=this,ie=this.options;return ie.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),h={x:s.pageX,y:s.pageY},v=this._normValueFromMouse(h),d=this._valueMax()-this._valueMin()+1,this.handles.each(function(Q){var te=Math.abs(v-K.values(Q));(d>te||d===te&&(Q===K._lastChangedValue||K.values(Q)===ie.min))&&(d=te,_=e(this),C=Q)}),N=this._start(s,C),N===!1?!1:(this._mouseSliding=!0,this._handleIndex=C,_.addClass("ui-state-active").focus(),G=_.offset(),q=!e(s.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=q?{left:0,top:0}:{left:s.pageX-G.left-_.width()/2,top:s.pageY-G.top-_.height()/2-(parseInt(_.css("borderTopWidth"),10)||0)-(parseInt(_.css("borderBottomWidth"),10)||0)+(parseInt(_.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(s,C,v),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(s){var h={x:s.pageX,y:s.pageY},v=this._normValueFromMouse(h);return this._slide(s,this._handleIndex,v),!1},_mouseStop:function(s){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(s,this._handleIndex),this._change(s,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(s){var h,v,d,_,C;return this.orientation==="horizontal"?(h=this.elementSize.width,v=s.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(h=this.elementSize.height,v=s.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=v/h,d>1&&(d=1),0>d&&(d=0),this.orientation==="vertical"&&(d=1-d),_=this._valueMax()-this._valueMin(),C=this._valueMin()+d*_,this._trimAlignValue(C)},_start:function(s,h){var v={handle:this.handles[h],value:this.value()};return this.options.values&&this.options.values.length&&(v.value=this.values(h),v.values=this.values()),this._trigger("start",s,v)},_slide:function(s,h,v){var d,_,C;this.options.values&&this.options.values.length?(d=this.values(h?0:1),this.options.values.length===2&&this.options.range===!0&&(h===0&&v>d||h===1&&d>v)&&(v=d),v!==this.values(h)&&(_=this.values(),_[h]=v,C=this._trigger("slide",s,{handle:this.handles[h],value:v,values:_}),d=this.values(h?0:1),C!==!1&&this.values(h,v))):v!==this.value()&&(C=this._trigger("slide",s,{handle:this.handles[h],value:v}),C!==!1&&this.value(v))},_stop:function(s,h){var v={handle:this.handles[h],value:this.value()};this.options.values&&this.options.values.length&&(v.value=this.values(h),v.values=this.values()),this._trigger("stop",s,v)},_change:function(s,h){if(!this._keySliding&&!this._mouseSliding){var v={handle:this.handles[h],value:this.value()};this.options.values&&this.options.values.length&&(v.value=this.values(h),v.values=this.values()),this._lastChangedValue=h,this._trigger("change",s,v)}},value:function(s){return arguments.length?(this.options.value=this._trimAlignValue(s),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(s,h){var v,d,_;if(arguments.length>1)return this.options.values[s]=this._trimAlignValue(h),this._refreshValue(),this._change(null,s),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(s):this.value();for(v=this.options.values,d=arguments[0],_=0;v.length>_;_+=1)v[_]=this._trimAlignValue(d[_]),this._change(null,_);this._refreshValue()},_setOption:function(s,h){var v,d=0;switch(s==="range"&&this.options.range===!0&&(h==="min"?(this.options.value=this._values(0),this.options.values=null):h==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(d=this.options.values.length),s==="disabled"&&this.element.toggleClass("ui-state-disabled",!!h),this._super(s,h),s){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css(h==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),v=0;d>v;v+=1)this._change(null,v);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var s=this.options.value;return s=this._trimAlignValue(s)},_values:function(s){var h,v,d;if(arguments.length)return h=this.options.values[s],h=this._trimAlignValue(h);if(this.options.values&&this.options.values.length){for(v=this.options.values.slice(),d=0;v.length>d;d+=1)v[d]=this._trimAlignValue(v[d]);return v}return[]},_trimAlignValue:function(s){if(this._valueMin()>=s)return this._valueMin();if(s>=this._valueMax())return this._valueMax();var h=this.options.step>0?this.options.step:1,v=(s-this._valueMin())%h,d=s-v;return 2*Math.abs(v)>=h&&(d+=v>0?h:-h),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,h,v,d,_,C=this.options.range,N=this.options,G=this,q=this._animateOff?!1:N.animate,K={};this.options.values&&this.options.values.length?this.handles.each(function(ie){h=100*((G.values(ie)-G._valueMin())/(G._valueMax()-G._valueMin())),K[G.orientation==="horizontal"?"left":"bottom"]=h+"%",e(this).stop(1,1)[q?"animate":"css"](K,N.animate),G.options.range===!0&&(G.orientation==="horizontal"?(ie===0&&G.range.stop(1,1)[q?"animate":"css"]({left:h+"%"},N.animate),ie===1&&G.range[q?"animate":"css"]({width:h-s+"%"},{queue:!1,duration:N.animate})):(ie===0&&G.range.stop(1,1)[q?"animate":"css"]({bottom:h+"%"},N.animate),ie===1&&G.range[q?"animate":"css"]({height:h-s+"%"},{queue:!1,duration:N.animate}))),s=h}):(v=this.value(),d=this._valueMin(),_=this._valueMax(),h=_!==d?100*((v-d)/(_-d)):0,K[this.orientation==="horizontal"?"left":"bottom"]=h+"%",this.handle.stop(1,1)[q?"animate":"css"](K,N.animate),C==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[q?"animate":"css"]({width:h+"%"},N.animate),C==="max"&&this.orientation==="horizontal"&&this.range[q?"animate":"css"]({width:100-h+"%"},{queue:!1,duration:N.animate}),C==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[q?"animate":"css"]({height:h+"%"},N.animate),C==="max"&&this.orientation==="vertical"&&this.range[q?"animate":"css"]({height:100-h+"%"},{queue:!1,duration:N.animate}))},_handleEvents:{keydown:function(s){var h,v,d,_,C=e(s.target).data("ui-slider-handle-index");switch(s.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(s.target).addClass("ui-state-active"),h=this._start(s,C),h===!1))return}switch(_=this.options.step,v=d=this.options.values&&this.options.values.length?this.values(C):this.value(),s.keyCode){case e.ui.keyCode.HOME:d=this._valueMin();break;case e.ui.keyCode.END:d=this._valueMax();break;case e.ui.keyCode.PAGE_UP:d=this._trimAlignValue(v+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(v-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(v===this._valueMax())return;d=this._trimAlignValue(v+_);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(v===this._valueMin())return;d=this._trimAlignValue(v-_)}this._slide(s,C,d)},keyup:function(s){var h=e(s.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(s,h),this._change(s,h),e(s.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(s,h,v){return s>=h&&h+v>s},_isFloating:function(s){return/left|right/.test(s.css("float"))||/inline|table-cell/.test(s.css("display"))},_create:function(){var s=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?s.axis==="x"||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(s,h){this._super(s,h),s==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var s=this.items.length-1;s>=0;s--)this.items[s].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(s,h){var v=null,d=!1,_=this;return this.reverting||this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(s),e(s.target).parents().each(function(){return e.data(this,_.widgetName+"-item")===_?(v=e(this),!1):void 0}),e.data(s.target,_.widgetName+"-item")===_&&(v=e(s.target)),v&&(!this.options.handle||h||(e(this.options.handle,v).find("*").addBack().each(function(){this===s.target&&(d=!0)}),d))?(this.currentItem=v,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(s,h,v){var d,_,C=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(s),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:s.pageX-this.offset.left,top:s.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(s),this.originalPageX=s.pageX,this.originalPageY=s.pageY,C.cursorAt&&this._adjustOffsetFromHelper(C.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),C.containment&&this._setContainment(),C.cursor&&C.cursor!=="auto"&&(_=this.document.find("body"),this.storedCursor=_.css("cursor"),_.css("cursor",C.cursor),this.storedStylesheet=e("<style>*{ cursor: "+C.cursor+" !important; }</style>").appendTo(_)),C.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",C.opacity)),C.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",C.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",s,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!v)for(d=this.containers.length-1;d>=0;d--)this.containers[d]._trigger("activate",s,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!C.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,s),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(s),!0},_mouseDrag:function(s){var h,v,d,_,C=this.options,N=!1;for(this.position=this._generatePosition(s),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-s.pageY<C.scrollSensitivity?this.scrollParent[0].scrollTop=N=this.scrollParent[0].scrollTop+C.scrollSpeed:s.pageY-this.overflowOffset.top<C.scrollSensitivity&&(this.scrollParent[0].scrollTop=N=this.scrollParent[0].scrollTop-C.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-s.pageX<C.scrollSensitivity?this.scrollParent[0].scrollLeft=N=this.scrollParent[0].scrollLeft+C.scrollSpeed:s.pageX-this.overflowOffset.left<C.scrollSensitivity&&(this.scrollParent[0].scrollLeft=N=this.scrollParent[0].scrollLeft-C.scrollSpeed)):(s.pageY-e(document).scrollTop()<C.scrollSensitivity?N=e(document).scrollTop(e(document).scrollTop()-C.scrollSpeed):e(window).height()-(s.pageY-e(document).scrollTop())<C.scrollSensitivity&&(N=e(document).scrollTop(e(document).scrollTop()+C.scrollSpeed)),s.pageX-e(document).scrollLeft()<C.scrollSensitivity?N=e(document).scrollLeft(e(document).scrollLeft()-C.scrollSpeed):e(window).width()-(s.pageX-e(document).scrollLeft())<C.scrollSensitivity&&(N=e(document).scrollLeft(e(document).scrollLeft()+C.scrollSpeed))),N!==!1&&e.ui.ddmanager&&!C.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,s)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),h=this.items.length-1;h>=0;h--)if(v=this.items[h],d=v.item[0],_=this._intersectsWithPointer(v),_&&v.instance===this.currentContainer&&d!==this.currentItem[0]&&this.placeholder[_===1?"next":"prev"]()[0]!==d&&!e.contains(this.placeholder[0],d)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],d):!0)){if(this.direction=_===1?"down":"up",this.options.tolerance!=="pointer"&&!this._intersectsWithSides(v))break;this._rearrange(s,v),this._trigger("change",s,this._uiHash());break}return this._contactContainers(s),e.ui.ddmanager&&e.ui.ddmanager.drag(this,s),this._trigger("sort",s,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(s,h){if(s){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,s),this.options.revert){var v=this,d=this.placeholder.offset(),_=this.options.axis,C={};_&&_!=="x"||(C.left=d.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),_&&_!=="y"||(C.top=d.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(C,parseInt(this.options.revert,10)||500,function(){v._clear(s)})}else this._clear(s,h);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("deactivate",null,this._uiHash(this)),this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",null,this._uiHash(this)),this.containers[s].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(s){var h=this._getItemsAsjQuery(s&&s.connected),v=[];return s=s||{},e(h).each(function(){var d=(e(s.item||this).attr(s.attribute||"id")||"").match(s.expression||/(.+)[\-=_](.+)/);d&&v.push((s.key||d[1]+"[]")+"="+(s.key&&s.expression?d[1]:d[2]))}),!v.length&&s.key&&v.push(s.key+"="),v.join("&")},toArray:function(s){var h=this._getItemsAsjQuery(s&&s.connected),v=[];return s=s||{},h.each(function(){v.push(e(s.item||this).attr(s.attribute||"id")||"")}),v},_intersectsWith:function(s){var h=this.positionAbs.left,v=h+this.helperProportions.width,d=this.positionAbs.top,_=d+this.helperProportions.height,C=s.left,N=C+s.width,G=s.top,q=G+s.height,K=this.offset.click.top,ie=this.offset.click.left,Q=this.options.axis==="x"||d+K>G&&q>d+K,te=this.options.axis==="y"||h+ie>C&&N>h+ie,Oe=Q&&te;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>s[this.floating?"width":"height"]?Oe:h+this.helperProportions.width/2>C&&N>v-this.helperProportions.width/2&&d+this.helperProportions.height/2>G&&q>_-this.helperProportions.height/2},_intersectsWithPointer:function(s){var h=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,s.top,s.height),v=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,s.left,s.width),d=h&&v,_=this._getDragVerticalDirection(),C=this._getDragHorizontalDirection();return d?this.floating?C&&C==="right"||_==="down"?2:1:_&&(_==="down"?2:1):!1},_intersectsWithSides:function(s){var h=this._isOverAxis(this.positionAbs.top+this.offset.click.top,s.top+s.height/2,s.height),v=this._isOverAxis(this.positionAbs.left+this.offset.click.left,s.left+s.width/2,s.width),d=this._getDragVerticalDirection(),_=this._getDragHorizontalDirection();return this.floating&&_?_==="right"&&v||_==="left"&&!v:d&&(d==="down"&&h||d==="up"&&!h)},_getDragVerticalDirection:function(){var s=this.positionAbs.top-this.lastPositionAbs.top;return s!==0&&(s>0?"down":"up")},_getDragHorizontalDirection:function(){var s=this.positionAbs.left-this.lastPositionAbs.left;return s!==0&&(s>0?"right":"left")},refresh:function(s){return this._refreshItems(s),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var s=this.options;return s.connectWith.constructor===String?[s.connectWith]:s.connectWith},_getItemsAsjQuery:function(s){function h(){N.push(this)}var v,d,_,C,N=[],G=[],q=this._connectWith();if(q&&s)for(v=q.length-1;v>=0;v--)for(_=e(q[v]),d=_.length-1;d>=0;d--)C=e.data(_[d],this.widgetFullName),C&&C!==this&&!C.options.disabled&&G.push([e.isFunction(C.options.items)?C.options.items.call(C.element):e(C.options.items,C.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),C]);for(G.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),v=G.length-1;v>=0;v--)G[v][0].each(h);return e(N)},_removeCurrentsFromItems:function(){var s=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(h){for(var v=0;s.length>v;v++)if(s[v]===h.item[0])return!1;return!0})},_refreshItems:function(s){this.items=[],this.containers=[this];var h,v,d,_,C,N,G,q,K=this.items,ie=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],s,{item:this.currentItem}):e(this.options.items,this.element),this]],Q=this._connectWith();if(Q&&this.ready)for(h=Q.length-1;h>=0;h--)for(d=e(Q[h]),v=d.length-1;v>=0;v--)_=e.data(d[v],this.widgetFullName),_&&_!==this&&!_.options.disabled&&(ie.push([e.isFunction(_.options.items)?_.options.items.call(_.element[0],s,{item:this.currentItem}):e(_.options.items,_.element),_]),this.containers.push(_));for(h=ie.length-1;h>=0;h--)for(C=ie[h][1],N=ie[h][0],v=0,q=N.length;q>v;v++)G=e(N[v]),G.data(this.widgetName+"-item",C),K.push({item:G,instance:C,width:0,height:0,left:0,top:0})},refreshPositions:function(s){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var h,v,d,_;for(h=this.items.length-1;h>=0;h--)v=this.items[h],v.instance!==this.currentContainer&&this.currentContainer&&v.item[0]!==this.currentItem[0]||(d=this.options.toleranceElement?e(this.options.toleranceElement,v.item):v.item,s||(v.width=d.outerWidth(),v.height=d.outerHeight()),_=d.offset(),v.left=_.left,v.top=_.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(h=this.containers.length-1;h>=0;h--)_=this.containers[h].element.offset(),this.containers[h].containerCache.left=_.left,this.containers[h].containerCache.top=_.top,this.containers[h].containerCache.width=this.containers[h].element.outerWidth(),this.containers[h].containerCache.height=this.containers[h].element.outerHeight();return this},_createPlaceholder:function(s){s=s||this;var h,v=s.options;v.placeholder&&v.placeholder.constructor!==String||(h=v.placeholder,v.placeholder={element:function(){var d=s.currentItem[0].nodeName.toLowerCase(),_=e("<"+d+">",s.document[0]).addClass(h||s.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return d==="tr"?s.currentItem.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(_)}):d==="img"&&_.attr("src",s.currentItem.attr("src")),h||_.css("visibility","hidden"),_},update:function(d,_){(!h||v.forcePlaceholderSize)&&(_.height()||_.height(s.currentItem.innerHeight()-parseInt(s.currentItem.css("paddingTop")||0,10)-parseInt(s.currentItem.css("paddingBottom")||0,10)),_.width()||_.width(s.currentItem.innerWidth()-parseInt(s.currentItem.css("paddingLeft")||0,10)-parseInt(s.currentItem.css("paddingRight")||0,10)))}}),s.placeholder=e(v.placeholder.element.call(s.element,s.currentItem)),s.currentItem.after(s.placeholder),v.placeholder.update(s,s.placeholder)},_contactContainers:function(s){var h,v,d,_,C,N,G,q,K,ie,Q=null,te=null;for(h=this.containers.length-1;h>=0;h--)if(!e.contains(this.currentItem[0],this.containers[h].element[0]))if(this._intersectsWith(this.containers[h].containerCache)){if(Q&&e.contains(this.containers[h].element[0],Q.element[0]))continue;Q=this.containers[h],te=h}else this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",s,this._uiHash(this)),this.containers[h].containerCache.over=0);if(Q)if(this.containers.length===1)this.containers[te].containerCache.over||(this.containers[te]._trigger("over",s,this._uiHash(this)),this.containers[te].containerCache.over=1);else{for(d=1e4,_=null,K=Q.floating||this._isFloating(this.currentItem),C=K?"left":"top",N=K?"width":"height",ie=K?"clientX":"clientY",v=this.items.length-1;v>=0;v--)e.contains(this.containers[te].element[0],this.items[v].item[0])&&this.items[v].item[0]!==this.currentItem[0]&&(G=this.items[v].item.offset()[C],q=!1,s[ie]-G>this.items[v][N]/2&&(q=!0),d>Math.abs(s[ie]-G)&&(d=Math.abs(s[ie]-G),_=this.items[v],this.direction=q?"up":"down"));if(!_&&!this.options.dropOnEmpty||this.currentContainer===this.containers[te])return;_?this._rearrange(s,_,null,!0):this._rearrange(s,null,this.containers[te].element,!0),this._trigger("change",s,this._uiHash()),this.containers[te]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[te],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[te]._trigger("over",s,this._uiHash(this)),this.containers[te].containerCache.over=1}},_createHelper:function(s){var h=this.options,v=e.isFunction(h.helper)?e(h.helper.apply(this.element[0],[s,this.currentItem])):h.helper==="clone"?this.currentItem.clone():this.currentItem;return v.parents("body").length||e(h.appendTo!=="parent"?h.appendTo:this.currentItem[0].parentNode)[0].appendChild(v[0]),v[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!v[0].style.width||h.forceHelperSize)&&v.width(this.currentItem.width()),(!v[0].style.height||h.forceHelperSize)&&v.height(this.currentItem.height()),v},_adjustOffsetFromHelper:function(s){typeof s=="string"&&(s=s.split(" ")),e.isArray(s)&&(s={left:+s[0],top:+s[1]||0}),"left"in s&&(this.offset.click.left=s.left+this.margins.left),"right"in s&&(this.offset.click.left=this.helperProportions.width-s.right+this.margins.left),"top"in s&&(this.offset.click.top=s.top+this.margins.top),"bottom"in s&&(this.offset.click.top=this.helperProportions.height-s.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var s=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(s.left+=this.scrollParent.scrollLeft(),s.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)&&(s={top:0,left:0}),{top:s.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:s.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var s=this.currentItem.position();return{top:s.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:s.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var s,h,v,d=this.options;d.containment==="parent"&&(d.containment=this.helper[0].parentNode),(d.containment==="document"||d.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(d.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(d.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(d.containment)||(s=e(d.containment)[0],h=e(d.containment).offset(),v=e(s).css("overflow")!=="hidden",this.containment=[h.left+(parseInt(e(s).css("borderLeftWidth"),10)||0)+(parseInt(e(s).css("paddingLeft"),10)||0)-this.margins.left,h.top+(parseInt(e(s).css("borderTopWidth"),10)||0)+(parseInt(e(s).css("paddingTop"),10)||0)-this.margins.top,h.left+(v?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(e(s).css("borderLeftWidth"),10)||0)-(parseInt(e(s).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,h.top+(v?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(e(s).css("borderTopWidth"),10)||0)-(parseInt(e(s).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(s,h){h||(h=this.position);var v=s==="absolute"?1:-1,d=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,_=/(html|body)/i.test(d[0].tagName);return{top:h.top+this.offset.relative.top*v+this.offset.parent.top*v-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():_?0:d.scrollTop())*v,left:h.left+this.offset.relative.left*v+this.offset.parent.left*v-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():_?0:d.scrollLeft())*v}},_generatePosition:function(s){var h,v,d=this.options,_=s.pageX,C=s.pageY,N=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,G=/(html|body)/i.test(N[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(s.pageX-this.offset.click.left<this.containment[0]&&(_=this.containment[0]+this.offset.click.left),s.pageY-this.offset.click.top<this.containment[1]&&(C=this.containment[1]+this.offset.click.top),s.pageX-this.offset.click.left>this.containment[2]&&(_=this.containment[2]+this.offset.click.left),s.pageY-this.offset.click.top>this.containment[3]&&(C=this.containment[3]+this.offset.click.top)),d.grid&&(h=this.originalPageY+Math.round((C-this.originalPageY)/d.grid[1])*d.grid[1],C=this.containment?h-this.offset.click.top>=this.containment[1]&&h-this.offset.click.top<=this.containment[3]?h:h-this.offset.click.top>=this.containment[1]?h-d.grid[1]:h+d.grid[1]:h,v=this.originalPageX+Math.round((_-this.originalPageX)/d.grid[0])*d.grid[0],_=this.containment?v-this.offset.click.left>=this.containment[0]&&v-this.offset.click.left<=this.containment[2]?v:v-this.offset.click.left>=this.containment[0]?v-d.grid[0]:v+d.grid[0]:v)),{top:C-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():G?0:N.scrollTop()),left:_-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():G?0:N.scrollLeft())}},_rearrange:function(s,h,v,d){v?v[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?h.item[0]:h.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var _=this.counter;this._delay(function(){_===this.counter&&this.refreshPositions(!d)})},_clear:function(s,h){function v(C,N,G){return function(q){G._trigger(C,q,N._uiHash(N))}}this.reverting=!1;var d,_=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)(this._storedCSS[d]==="auto"||this._storedCSS[d]==="static")&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!h&&_.push(function(C){this._trigger("receive",C,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||h||_.push(function(C){this._trigger("update",C,this._uiHash())}),this!==this.currentContainer&&(h||(_.push(function(C){this._trigger("remove",C,this._uiHash())}),_.push(function(C){return function(N){C._trigger("receive",N,this._uiHash(this))}}.call(this,this.currentContainer)),_.push(function(C){return function(N){C._trigger("update",N,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)h||_.push(v("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(_.push(v("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!h){for(this._trigger("beforeStop",s,this._uiHash()),d=0;_.length>d;d++)_[d].call(this,s);this._trigger("stop",s,this._uiHash())}return this.fromOutside=!1,!1}if(h||this._trigger("beforeStop",s,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!h){for(d=0;_.length>d;d++)_[d].call(this,s);this._trigger("stop",s,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(s){var h=s||this;return{helper:h.helper,placeholder:h.placeholder||e([]),position:h.position,originalPosition:h.originalPosition,offset:h.positionAbs,item:h.currentItem,sender:s?s.element:null}}}),e.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var s={},h=this.element;return e.each(["min","max","step"],function(v,d){var _=h.attr(d);_!==void 0&&_.length&&(s[d]=_)}),s},_events:{keydown:function(s){this._start(s)&&this._keydown(s)&&s.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(s){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",s),void 0)},mousewheel:function(s,h){if(h){if(!this.spinning&&!this._start(s))return!1;this._spin((h>0?1:-1)*this.options.step,s),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(s)},100),s.preventDefault()}},"mousedown .ui-spinner-button":function(s){function h(){var d=this.element[0]===this.document[0].activeElement;d||(this.element.focus(),this.previous=v,this._delay(function(){this.previous=v}))}var v;v=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),s.preventDefault(),h.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,h.call(this)}),this._start(s)!==!1&&this._repeat(null,e(s.currentTarget).hasClass("ui-spinner-up")?1:-1,s)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(s){return e(s.currentTarget).hasClass("ui-state-active")?this._start(s)===!1?!1:(this._repeat(null,e(s.currentTarget).hasClass("ui-spinner-up")?1:-1,s),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var s=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=s.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*s.height())&&s.height()>0&&s.height(s.height()),this.options.disabled&&this.disable()},_keydown:function(s){var h=this.options,v=e.ui.keyCode;switch(s.keyCode){case v.UP:return this._repeat(null,1,s),!0;case v.DOWN:return this._repeat(null,-1,s),!0;case v.PAGE_UP:return this._repeat(null,h.page,s),!0;case v.PAGE_DOWN:return this._repeat(null,-h.page,s),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(s){return this.spinning||this._trigger("start",s)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(s,h,v){s=s||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,h,v)},s),this._spin(h*this.options.step,v)},_spin:function(s,h){var v=this.value()||0;this.counter||(this.counter=1),v=this._adjustValue(v+s*this._increment(this.counter)),this.spinning&&this._trigger("spin",h,{value:v})===!1||(this._value(v),this.counter++)},_increment:function(s){var h=this.options.incremental;return h?e.isFunction(h)?h(s):Math.floor(s*s*s/5e4-s*s/500+17*s/200+1):1},_precision:function(){var s=this._precisionOf(this.options.step);return this.options.min!==null&&(s=Math.max(s,this._precisionOf(this.options.min))),s},_precisionOf:function(s){var h=""+s,v=h.indexOf(".");return v===-1?0:h.length-v-1},_adjustValue:function(s){var h,v,d=this.options;return h=d.min!==null?d.min:0,v=s-h,v=Math.round(v/d.step)*d.step,s=h+v,s=parseFloat(s.toFixed(this._precision())),d.max!==null&&s>d.max?d.max:d.min!==null&&d.min>s?d.min:s},_stop:function(s){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",s))},_setOption:function(s,h){if(s==="culture"||s==="numberFormat"){var v=this._parse(this.element.val());return this.options[s]=h,this.element.val(this._format(v)),void 0}(s==="max"||s==="min"||s==="step")&&typeof h=="string"&&(h=this._parse(h)),s==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(h.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(h.down)),this._super(s,h),s==="disabled"&&(this.widget().toggleClass("ui-state-disabled",!!h),this.element.prop("disabled",!!h),this.buttons.button(h?"disable":"enable"))},_setOptions:u(function(s){this._super(s)}),_parse:function(s){return typeof s=="string"&&s!==""&&(s=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(s,10,this.options.culture):+s),s===""||isNaN(s)?null:s},_format:function(s){return s===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(s,this.options.numberFormat,this.options.culture):s},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var s=this.value();return s===null?!1:s===this._adjustValue(s)},_value:function(s,h){var v;s!==""&&(v=this._parse(s),v!==null&&(h||(v=this._adjustValue(v)),s=this._format(v))),this.element.val(s),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:u(function(s){this._stepUp(s)}),_stepUp:function(s){this._start()&&(this._spin((s||1)*this.options.step),this._stop())},stepDown:u(function(s){this._stepDown(s)}),_stepDown:function(s){this._start()&&(this._spin((s||1)*-this.options.step),this._stop())},pageUp:u(function(s){this._stepUp((s||1)*this.options.page)}),pageDown:u(function(s){this._stepDown((s||1)*this.options.page)}),value:function(s){return arguments.length?(u(this._value).call(this,s),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var s=/#.*$/;return function(h){var v,d;h=h.cloneNode(!1),v=h.href.replace(s,""),d=location.href.replace(s,"");try{v=decodeURIComponent(v)}catch(_){}try{d=decodeURIComponent(d)}catch(_){}return h.hash.length>1&&v===d}}(),_create:function(){var s=this,h=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",h.collapsible),this._processTabs(),h.active=this._initialActive(),e.isArray(h.disabled)&&(h.disabled=e.unique(h.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(v){return s.tabs.index(v)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(h.active):e(),this._refresh(),this.active.length&&this.load(h.active)},_initialActive:function(){var s=this.options.active,h=this.options.collapsible,v=location.hash.substring(1);return s===null&&(v&&this.tabs.each(function(d,_){return e(_).attr("aria-controls")===v?(s=d,!1):void 0}),s===null&&(s=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(s===null||s===-1)&&(s=this.tabs.length?0:!1)),s!==!1&&(s=this.tabs.index(this.tabs.eq(s)),s===-1&&(s=h?!1:0)),!h&&s===!1&&this.anchors.length&&(s=0),s},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(s){var h=e(this.document[0].activeElement).closest("li"),v=this.tabs.index(h),d=!0;if(!this._handlePageNav(s)){switch(s.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:v++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:d=!1,v--;break;case e.ui.keyCode.END:v=this.anchors.length-1;break;case e.ui.keyCode.HOME:v=0;break;case e.ui.keyCode.SPACE:return s.preventDefault(),clearTimeout(this.activating),this._activate(v),void 0;case e.ui.keyCode.ENTER:return s.preventDefault(),clearTimeout(this.activating),this._activate(v===this.options.active?!1:v),void 0;default:return}s.preventDefault(),clearTimeout(this.activating),v=this._focusNextTab(v,d),s.ctrlKey||(h.attr("aria-selected","false"),this.tabs.eq(v).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",v)},this.delay))}},_panelKeydown:function(s){this._handlePageNav(s)||s.ctrlKey&&s.keyCode===e.ui.keyCode.UP&&(s.preventDefault(),this.active.focus())},_handlePageNav:function(s){return s.altKey&&s.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):s.altKey&&s.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(s,h){function v(){return s>d&&(s=0),0>s&&(s=d),s}for(var d=this.tabs.length-1;e.inArray(v(),this.options.disabled)!==-1;)s=h?s+1:s-1;return s},_focusNextTab:function(s,h){return s=this._findNextTab(s,h),this.tabs.eq(s).focus(),s},_setOption:function(s,h){return s==="active"?(this._activate(h),void 0):s==="disabled"?(this._setupDisabled(h),void 0):(this._super(s,h),s==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",h),h||this.options.active!==!1||this._activate(0)),s==="event"&&this._setupEvents(h),s==="heightStyle"&&this._setupHeightStyle(h),void 0)},_sanitizeSelector:function(s){return s?s.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var s=this.options,h=this.tablist.children(":has(a[href])");s.disabled=e.map(h.filter(".ui-state-disabled"),function(v){return h.index(v)}),this._processTabs(),s.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===s.disabled.length?(s.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,s.active-1),!1)):s.active=this.tabs.index(this.active):(s.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var s=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(h){e(this).is(".ui-state-disabled")&&h.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(h,v){var d,_,C,N=e(v).uniqueId().attr("id"),G=e(v).closest("li"),q=G.attr("aria-controls");s._isLocal(v)?(d=v.hash,C=d.substring(1),_=s.element.find(s._sanitizeSelector(d))):(C=G.attr("aria-controls")||e({}).uniqueId()[0].id,d="#"+C,_=s.element.find(d),_.length||(_=s._createPanel(C),_.insertAfter(s.panels[h-1]||s.tablist)),_.attr("aria-live","polite")),_.length&&(s.panels=s.panels.add(_)),q&&G.data("ui-tabs-aria-controls",q),G.attr({"aria-controls":C,"aria-labelledby":N}),_.attr("aria-labelledby",N)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(s){return e("<div>").attr("id",s).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(s){e.isArray(s)&&(s.length?s.length===this.anchors.length&&(s=!0):s=!1);for(var h,v=0;h=this.tabs[v];v++)s===!0||e.inArray(v,s)!==-1?e(h).addClass("ui-state-disabled").attr("aria-disabled","true"):e(h).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=s},_setupEvents:function(s){var h={};s&&e.each(s.split(" "),function(v,d){h[d]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(v){v.preventDefault()}}),this._on(this.anchors,h),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(s){var h,v=this.element.parent();s==="fill"?(h=v.height(),h-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var d=e(this),_=d.css("position");_!=="absolute"&&_!=="fixed"&&(h-=d.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){h-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,h-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):s==="auto"&&(h=0,this.panels.each(function(){h=Math.max(h,e(this).height("").height())}).height(h))},_eventHandler:function(s){var h=this.options,v=this.active,d=e(s.currentTarget),_=d.closest("li"),C=_[0]===v[0],N=C&&h.collapsible,G=N?e():this._getPanelForTab(_),q=v.length?this._getPanelForTab(v):e(),K={oldTab:v,oldPanel:q,newTab:N?e():_,newPanel:G};s.preventDefault(),_.hasClass("ui-state-disabled")||_.hasClass("ui-tabs-loading")||this.running||C&&!h.collapsible||this._trigger("beforeActivate",s,K)===!1||(h.active=N?!1:this.tabs.index(_),this.active=C?e():_,this.xhr&&this.xhr.abort(),q.length||G.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),G.length&&this.load(this.tabs.index(_),s),this._toggle(s,K))},_toggle:function(s,h){function v(){_.running=!1,_._trigger("activate",s,h)}function d(){h.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),C.length&&_.options.show?_._show(C,_.options.show,v):(C.show(),v())}var _=this,C=h.newPanel,N=h.oldPanel;this.running=!0,N.length&&this.options.hide?this._hide(N,this.options.hide,function(){h.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),d()}):(h.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),N.hide(),d()),N.attr("aria-hidden","true"),h.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),C.length&&N.length?h.oldTab.attr("tabIndex",-1):C.length&&this.tabs.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),C.attr("aria-hidden","false"),h.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(s){var h,v=this._findActive(s);v[0]!==this.active[0]&&(v.length||(v=this.active),h=v.find(".ui-tabs-anchor")[0],this._eventHandler({target:h,currentTarget:h,preventDefault:e.noop}))},_findActive:function(s){return s===!1?e():this.tabs.eq(s)},_getIndex:function(s){return typeof s=="string"&&(s=this.anchors.index(this.anchors.filter("[href$='"+s+"']"))),s},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var s=e(this),h=s.data("ui-tabs-aria-controls");h?s.attr("aria-controls",h).removeData("ui-tabs-aria-controls"):s.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(s){var h=this.options.disabled;h!==!1&&(s===void 0?h=!1:(s=this._getIndex(s),h=e.isArray(h)?e.map(h,function(v){return v!==s?v:null}):e.map(this.tabs,function(v,d){return d!==s?d:null})),this._setupDisabled(h))},disable:function(s){var h=this.options.disabled;if(h!==!0){if(s===void 0)h=!0;else{if(s=this._getIndex(s),e.inArray(s,h)!==-1)return;h=e.isArray(h)?e.merge([s],h).sort():[s]}this._setupDisabled(h)}},load:function(s,h){s=this._getIndex(s);var v=this,d=this.tabs.eq(s),_=d.find(".ui-tabs-anchor"),C=this._getPanelForTab(d),N={tab:d,panel:C};this._isLocal(_[0])||(this.xhr=e.ajax(this._ajaxSettings(_,h,N)),this.xhr&&this.xhr.statusText!=="canceled"&&(d.addClass("ui-tabs-loading"),C.attr("aria-busy","true"),this.xhr.success(function(G){setTimeout(function(){C.html(G),v._trigger("load",h,N)},1)}).complete(function(G,q){setTimeout(function(){q==="abort"&&v.panels.stop(!1,!0),d.removeClass("ui-tabs-loading"),C.removeAttr("aria-busy"),G===v.xhr&&delete v.xhr},1)})))},_ajaxSettings:function(s,h,v){var d=this;return{url:s.attr("href"),beforeSend:function(_,C){return d._trigger("beforeLoad",h,e.extend({jqXHR:_,ajaxSettings:C},v))}}},_getPanelForTab:function(s){var h=e(s).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}}),e.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var s=e(this).attr("title")||"";return e("<a>").text(s).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(s,h){var v=(s.attr("aria-describedby")||"").split(/\s+/);v.push(h),s.data("ui-tooltip-id",h).attr("aria-describedby",e.trim(v.join(" ")))},_removeDescribedBy:function(s){var h=s.data("ui-tooltip-id"),v=(s.attr("aria-describedby")||"").split(/\s+/),d=e.inArray(h,v);d!==-1&&v.splice(d,1),s.removeData("ui-tooltip-id"),v=e.trim(v.join(" ")),v?s.attr("aria-describedby",v):s.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(s,h){var v=this;return s==="disabled"?(this[h?"_disable":"_enable"](),this.options[s]=h,void 0):(this._super(s,h),s==="content"&&e.each(this.tooltips,function(d,_){v._updateContent(_)}),void 0)},_disable:function(){var s=this;e.each(this.tooltips,function(h,v){var d=e.Event("blur");d.target=d.currentTarget=v[0],s.close(d,!0)}),this.element.find(this.options.items).addBack().each(function(){var h=e(this);h.is("[title]")&&h.data("ui-tooltip-title",h.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var s=e(this);s.data("ui-tooltip-title")&&s.attr("title",s.data("ui-tooltip-title"))})},open:function(s){var h=this,v=e(s?s.target:this.element).closest(this.options.items);v.length&&!v.data("ui-tooltip-id")&&(v.attr("title")&&v.data("ui-tooltip-title",v.attr("title")),v.data("ui-tooltip-open",!0),s&&s.type==="mouseover"&&v.parents().each(function(){var d,_=e(this);_.data("ui-tooltip-open")&&(d=e.Event("blur"),d.target=d.currentTarget=this,h.close(d,!0)),_.attr("title")&&(_.uniqueId(),h.parents[this.id]={element:this,title:_.attr("title")},_.attr("title",""))}),this._updateContent(v,s))},_updateContent:function(s,h){var v,d=this.options.content,_=this,C=h?h.type:null;return typeof d=="string"?this._open(h,s,d):(v=d.call(s[0],function(N){s.data("ui-tooltip-open")&&_._delay(function(){h&&(h.type=C),this._open(h,s,N)})}),v&&this._open(h,s,v),void 0)},_open:function(s,h,v){function d(K){q.of=K,_.is(":hidden")||_.position(q)}var _,C,N,G,q=e.extend({},this.options.position);if(v){if(_=this._find(h),_.length)return _.find(".ui-tooltip-content").html(v),void 0;h.is("[title]")&&(s&&s.type==="mouseover"?h.attr("title",""):h.removeAttr("title")),_=this._tooltip(h),this._addDescribedBy(h,_.attr("id")),_.find(".ui-tooltip-content").html(v),this.liveRegion.children().hide(),v.clone?(G=v.clone(),G.removeAttr("id").find("[id]").removeAttr("id")):G=v,e("<div>").html(G).appendTo(this.liveRegion),this.options.track&&s&&/^mouse/.test(s.type)?(this._on(this.document,{mousemove:d}),d(s)):_.position(e.extend({of:h},this.options.position)),this.hiding=!1,this.closing=!1,_.hide(),this._show(_,this.options.show),this.options.show&&this.options.show.delay&&(N=this.delayedShow=setInterval(function(){_.is(":visible")&&(d(q.of),clearInterval(N))},e.fx.interval)),this._trigger("open",s,{tooltip:_}),C={keyup:function(K){if(K.keyCode===e.ui.keyCode.ESCAPE){var ie=e.Event(K);ie.currentTarget=h[0],this.close(ie,!0)}}},h[0]!==this.element[0]&&(C.remove=function(){this._removeTooltip(_)}),s&&s.type!=="mouseover"||(C.mouseleave="close"),s&&s.type!=="focusin"||(C.focusout="close"),this._on(!0,h,C)}},close:function(s){var h=this,v=e(s?s.currentTarget:this.element),d=this._find(v);this.closing||(clearInterval(this.delayedShow),v.data("ui-tooltip-title")&&!v.attr("title")&&v.attr("title",v.data("ui-tooltip-title")),this._removeDescribedBy(v),this.hiding=!0,d.stop(!0),this._hide(d,this.options.hide,function(){h._removeTooltip(e(this)),this.hiding=!1,this.closing=!1}),v.removeData("ui-tooltip-open"),this._off(v,"mouseleave focusout keyup"),v[0]!==this.element[0]&&this._off(v,"remove"),this._off(this.document,"mousemove"),s&&s.type==="mouseleave"&&e.each(this.parents,function(_,C){e(C.element).attr("title",C.title),delete h.parents[_]}),this.closing=!0,this._trigger("close",s,{tooltip:d}),this.hiding||(this.closing=!1))},_tooltip:function(s){var h=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),v=h.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(h),h.appendTo(this.document[0].body),this.tooltips[v]=s,h},_find:function(s){var h=s.data("ui-tooltip-id");return h?e("#"+h):e()},_removeTooltip:function(s){s.remove(),delete this.tooltips[s.attr("id")]},_destroy:function(){var s=this;e.each(this.tooltips,function(h,v){var d=e.Event("blur");d.target=d.currentTarget=v[0],s.close(d,!0),e("#"+h).remove(),v.data("ui-tooltip-title")&&(v.attr("title")||v.attr("title",v.data("ui-tooltip-title")),v.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})})}),qy={};M4(qy,{default:()=>xf});R4=Vy(Wy());I4(qy,Vy(Wy()));zy=R4,{default:Uy}=zy,D4=an(zy,["default"]),xf=Uy!==void 0?Uy:D4;});var kf={};Dn(kf,{default:()=>xf});var Af=Kt(()=>{_f();_f()});var su,Gy=Kt(()=>{Hn();xo();su=class{static setup(){xe(".js-search-bar").each(function(){let r=xe(this),a=r.data("autocompleteFormat");a!=="off"&&Promise.resolve().then(()=>(Af(),kf)).then(()=>{let l={minLength:3,source:function(c,n){xe.ajax({url:"https://be-api.us.archive.org/searches/complete",data:{q:c.term,limit:15},dataType:"json",success:n,error:function(p,g,m){Ci(`${g}: ${m}`),n([])}})},open:function(){let c=xe(this).autocomplete("widget"),n=c.offset();n.left<0&&(c.width(c.width()-n.left),c.offset({top:n.top,left:0}))},classes:{"ui-autocomplete":"truncate"}};a==="inline"?(l.appendTo=r.data("autocompleteAppendTo"),l.position={using:xe.noop}):(l.classes["ui-autocomplete"]+=" z-above-top-nav",a==="right"&&(l.position={my:"right top",at:"right bottom"})),r.autocomplete(l)})})}}});var Yy=Kt(()=>{Hn();xe(()=>{let e=xe(".search-form--inside");if(!e)return;let t=n=>n?encodeURIComponent(n.trim()).replace(/%20/g,"+"):"",r=(n,u,p)=>{p&&n.append(u,p)},a=(n,u,p)=>p?`${n?"&":""}${u}=${p}`:"",l=e.find(".searchlist").val(),o=e.find('[name="sin"]:checked').val(),c=new URLSearchParams(window.location.search.substring(1));e.submit(n=>{n.preventDefault();let u=e.find(".searchlist").val(),p=e.find('[name="sin"]:checked').val(),g=new URLSearchParams;r(g,"query",u),r(g,"sin",p);let m=g.toString();if(l===u&&o===p)for(let w of c.getAll("and[]"))m+=a(m,"and[]",t(w));let y=c.get("sort");m+=a(m,"sort",t(y)),m&&(m=`?${m}`);let x=window.location;window.location=`${x.origin}${x.pathname}${m}`})})});function Ky(e,t,r="false"){if(typeof e!="string")throw new Error("first arg should be a string");xe(e).on("change",a=>{let l=t(a);return r==="callback"&&l?l:r==="default"?!0:(a&&a.preventDefault&&a.preventDefault(),a&&a.stopPropagation&&a.stopPropagation(),!1)})}var Xy=Kt(()=>{Hn()});function Zy(e,t,r="false"){if(typeof e!="string")throw new Error("first arg should be a string");xe(e).on("submit",a=>{let l=t(a);return r==="callback"&&l?l:r==="default"?!0:(a&&a.preventDefault&&a.preventDefault(),a&&a.stopPropagation&&a.stopPropagation(),!1)})}var Jy=Kt(()=>{Hn()});function Qy(e,t=100,r=!1){let a;return function(){let o=this,c=arguments;function n(){r||e.apply(o,...c),a=null}a?clearTimeout(a):r&&e.apply(o,...c),a=setTimeout(n,t)}}var eb=Kt(()=>{});function Bs(e,t){Object.keys(t).forEach(r=>{let a=r;Sf&&r.search("animation")>-1&&(a=Sf+r[0].toUpperCase()+r.substr(1)),e.style[a]=t[r]})}function rb(e){Bs(e,{display:"block"})}function nb(e){Bs(e,{display:"none"})}function j4(){let e=document.body,t=document.documentElement,r;return window.innerHeight?r=window.innerHeight:t&&t.clientHeight?r=t.clientHeight:e&&(r=e.clientHeight),r||0}function N4(){let e=document.body,t=document.documentElement,r;return window.innerWidth?r=window.innerWidth:t&&t.clientWidth?r=t.clientWidth:e&&(r=e.clientWidth),r||0}function B4(e,t){return t||(t=document.createElement("style"),document.body.appendChild(t)),t.textContent=e,t}function Nd(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function H4(e){return e===document.body}function Mo(e,t){e.classList.add(t)}function tb(e,t){e.classList.remove(t)}function ib(e,t){return e+Math.floor(Math.random()*(t-e))}function Cf(e,t,r,a,l){return a+(l-a)*(e-t)/(r-t)}function ob(e,t,r){return Math.floor(Cf(e,0,Ef,t,r))}var Sf,F4,Ef,z4,U4,V4,lu,Tf=Kt(()=>{Sf="";typeof window<"u"&&(Sf=Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join(",").search(/,animation/)>-1?"":"webkit");F4=typeof document<"u"&&"onanimationend"in document;Ef=20;z4=class{constructor(e){this.size=0,this.sizeInner=0;let t=this.elem=document.createElement("div"),r=this.elemInner=document.createElement("div");this.update(e),Mo(t,"snowflake"),Mo(r,"snowflake__inner"),Mo(t,"snowflake_animation"),F4?(Mo(t,"snowflake_animation-end"),t.onanimationend=a=>{a.target===t&&(this.updateLeft(),this.reflow())}):Mo(t,"snowflake_animation-infinity"),e.types&&Mo(r,"snowflake__inner_type_"+ib(0,e.types)),e.wind&&Mo(r,"snowflake__inner_wind"),e.rotation&&Mo(r,"snowflake__inner_rotation"+(Math.random()>.5?"":"_reverse")),t.appendChild(r)}getLeft(){return Math.random()*99+"%"}updateLeft(){this.elem&&Bs(this.elem,{left:this.getLeft()})}update(e){if(!this.elem||!this.elemInner)return;let t=e.minSize===e.maxSize;this.sizeInner=t?0:ib(0,Ef),this.size=ob(this.sizeInner,e.minSize,e.maxSize);let r=this.getAnimationProps(e),a={animationName:`snowflake_gid_${e.gid}_y`,animationDelay:r.animationDelay,animationDuration:r.animationDuration,left:this.getLeft(),top:-Math.sqrt(2)*this.size+"px",width:this.size+"px",height:this.size+"px"};t||(a.opacity=String(Cf(this.size,e.minSize,e.maxSize,e.minOpacity,e.maxOpacity))),Bs(this.elem,a);let l=`snowflake_gid_${e.gid}_x_${this.sizeInner}`;Bs(this.elemInner,{animationName:l,animationDelay:Math.random()*4+"s"})}reflow(){this.elem&&(nb(this.elem),this.elem.offsetHeight,rb(this.elem))}resize(e){if(!this.elem)return;let t=this.getAnimationProps(e);Bs(this.elem,{animationDuration:t.animationDuration})}appendTo(e){this.elem&&e.appendChild(this.elem)}destroy(){this.elem&&(this.elem.onanimationend=null,delete this.elem,delete this.elemInner)}getAnimationProps(e){let t=e.containerHeight/50/e.speed,r=t/3;return{animationDelay:Math.random()*t+"s",animationDuration:Cf(this.size,e.minSize,e.maxSize,t,r)+"s"}}},U4='.snowflake{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:transform}.snowflake_animation{-webkit-animation:snowflake_unknown 10s linear;animation:snowflake_unknown 10s linear}.snowflake_animation-infinity{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.snowflake__inner,.snowflake__inner:before{bottom:0;left:0;position:absolute;right:0;top:0}.snowflake__inner:before{background-size:100% 100%;content:""}.snowflake__inner_wind{-webkit-animation:snowflake_unknown 2s ease-in-out infinite alternate;animation:snowflake_unknown 2s ease-in-out infinite alternate}.snowflake__inner_rotation:before{-webkit-animation:snowflake_rotation 10s linear infinite;animation:snowflake_rotation 10s linear infinite}.snowflake__inner_rotation_reverse:before{-webkit-animation:snowflake_rotation_reverse 10s linear infinite;animation:snowflake_rotation_reverse 10s linear infinite}@-webkit-keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}@keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}.snowflakes{pointer-events:none}.snowflakes_paused .snowflake,.snowflakes_paused .snowflake__inner,.snowflakes_paused .snowflake__inner:before{-webkit-animation-play-state:paused;animation-play-state:paused}.snowflakes_hidden{visibility:hidden}.snowflakes_body{height:1px;left:0;position:fixed;top:0;width:100%}',V4=`.snowflakes_gid_value .snowflake__inner_type_0:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36.283' height='36.283'%3E%3Cpath d='M35.531 17.391h-3.09l.845-1.464a.748.748 0 1 0-1.297-.75l-1.276 2.214H28.61l2.515-4.354a.751.751 0 0 0-.272-1.024.75.75 0 0 0-1.024.274l-2.948 5.104h-2.023a6.751 6.751 0 0 0-2.713-4.684l1.019-1.76 5.896-.002a.75.75 0 0 0 0-1.5l-5.029.002 1.051-1.82 2.557.002a.75.75 0 0 0 0-1.5l-1.689-.002 1.545-2.676a.75.75 0 1 0-1.302-.75l-1.547 2.676-.844-1.463a.749.749 0 1 0-1.297.75l1.278 2.213-1.051 1.818-2.514-4.354a.75.75 0 0 0-1.298.75l2.946 5.104-1.016 1.758a6.692 6.692 0 0 0-2.706-.57 6.74 6.74 0 0 0-2.707.568l-1.013-1.754 2.946-5.105a.75.75 0 0 0-1.298-.75L13.56 8.697l-1.05-1.818 1.278-2.217a.749.749 0 0 0-1.298-.75l-.845 1.465-1.551-2.678a.75.75 0 0 0-1.024-.273.748.748 0 0 0-.274 1.023l1.545 2.678H8.652a.75.75 0 0 0 0 1.5h2.556l1.05 1.818H7.231a.75.75 0 0 0 0 1.5h5.894l1.017 1.762a6.755 6.755 0 0 0-2.712 4.684H9.406l-2.95-5.104a.75.75 0 1 0-1.299.75l2.516 4.354H5.569l-1.277-2.213a.75.75 0 0 0-1.298.75l.845 1.463H.75a.75.75 0 0 0 0 1.5h3.09l-.845 1.465a.747.747 0 0 0 .275 1.022.75.75 0 0 0 .374.103.75.75 0 0 0 .65-.375l1.277-2.215h2.103l-2.516 4.354a.75.75 0 0 0 1.299.75l2.949-5.104h2.024a6.761 6.761 0 0 0 2.712 4.685l-1.017 1.762H7.232a.75.75 0 0 0 0 1.5h5.026l-1.05 1.818H8.651a.75.75 0 0 0 0 1.5h1.69l-1.545 2.676a.75.75 0 0 0 1.299.75l1.546-2.676.846 1.465a.755.755 0 0 0 .65.375.737.737 0 0 0 .375-.103.747.747 0 0 0 .274-1.022l-1.279-2.215 1.05-1.82 2.515 4.354a.75.75 0 0 0 1.299-.75l-2.947-5.104 1.013-1.756a6.72 6.72 0 0 0 5.415 0l1.014 1.756-2.947 5.104a.75.75 0 0 0 1.298.75l2.515-4.354 1.053 1.82-1.277 2.213a.75.75 0 0 0 1.298.75l.844-1.463 1.545 2.678c.141.24.393.375.65.375a.75.75 0 0 0 .649-1.125l-1.548-2.678h1.689a.75.75 0 0 0 0-1.5h-2.557l-1.051-1.82 5.029.002a.75.75 0 0 0 0-1.5l-5.896-.002-1.019-1.76a6.75 6.75 0 0 0 2.711-4.685h2.023l2.947 5.104a.753.753 0 0 0 1.025.273.749.749 0 0 0 .272-1.023l-2.515-4.354h2.104l1.279 2.215a.75.75 0 0 0 .649.375c.127 0 .256-.03.375-.103a.748.748 0 0 0 .273-1.022l-.848-1.465h3.092a.75.75 0 0 0 .003-1.5zm-12.136.75c0 .257-.041.502-.076.75a5.223 5.223 0 0 1-1.943 3.358 5.242 5.242 0 0 1-1.291.766 5.224 5.224 0 0 1-1.949.384 5.157 5.157 0 0 1-3.239-1.15 5.22 5.22 0 0 1-1.943-3.358c-.036-.247-.076-.493-.076-.75s.04-.503.076-.75a5.22 5.22 0 0 1 1.944-3.359c.393-.312.82-.576 1.291-.765a5.219 5.219 0 0 1 1.948-.384c.69 0 1.344.142 1.948.384.471.188.898.454 1.291.765a5.222 5.222 0 0 1 1.943 3.359c.035.247.076.493.076.75z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_1:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.813' height='32.813'%3E%3Cpath d='M29.106 24.424a.781.781 0 0 1-.781.781h-3.119v3.119a.782.782 0 0 1-1.562 0v-4.682h4.682c.43.001.78.351.78.782zM4.673 9.352h4.682V4.671a.781.781 0 0 0-1.563 0V7.79H4.673a.781.781 0 0 0 0 1.562zM3.708 24.24c0 .431.35.781.781.781H7.61v3.12a.78.78 0 1 0 1.562 0v-4.683H4.489a.782.782 0 0 0-.781.782zM28.923 8.39a.78.78 0 0 0-.781-.781h-3.121V4.488a.781.781 0 0 0-1.562 0v4.684h4.684a.783.783 0 0 0 .78-.782zm3.889 8.017c0 .431-.35.781-.781.781h-3.426l1.876 1.873a.784.784 0 0 1 0 1.107.791.791 0 0 1-.554.228.773.773 0 0 1-.55-.228l-2.979-2.98h-2.995a6.995 6.995 0 0 1-1.728 3.875h5.609a.781.781 0 0 1 0 1.562h-4.666v4.667a.782.782 0 0 1-1.562 0v-5.61a7 7 0 0 1-3.866 1.719v2.995l2.978 2.98c.306.305.306.8 0 1.104a.78.78 0 0 1-1.104 0l-1.874-1.876v3.427a.781.781 0 0 1-1.562 0v-3.427l-1.875 1.876a.78.78 0 1 1-1.105-1.104l2.979-2.98v-2.995a7.016 7.016 0 0 1-3.865-1.717v5.608a.781.781 0 0 1-1.562 0v-4.667H5.535a.781.781 0 0 1 0-1.562h5.607a7.022 7.022 0 0 1-1.728-3.875H6.417l-2.979 2.979a.784.784 0 0 1-1.104 0 .781.781 0 0 1 0-1.106l1.874-1.873H.782a.78.78 0 1 1-.001-1.563h3.426L2.333 13.75a.783.783 0 0 1 1.105-1.106l2.979 2.979h2.995a6.996 6.996 0 0 1 1.72-3.866H5.533a.781.781 0 0 1 0-1.562h4.666V5.528a.781.781 0 0 1 1.562 0v5.599a6.995 6.995 0 0 1 3.865-1.717V6.415l-2.978-2.979a.782.782 0 0 1 1.105-1.105l1.874 1.875V.781a.78.78 0 1 1 1.562 0v3.426l1.875-1.875a.777.777 0 0 1 1.104 0 .78.78 0 0 1 0 1.105l-2.978 2.98v2.996a7.021 7.021 0 0 1 3.866 1.718V5.532a.78.78 0 1 1 1.562 0v4.666h4.666a.78.78 0 1 1 0 1.562h-5.599a7 7 0 0 1 1.718 3.866h2.995l2.979-2.979a.783.783 0 0 1 1.106 1.106l-1.876 1.874h3.427a.777.777 0 0 1 .778.78zm-11.006-.782a5.457 5.457 0 0 0-4.618-4.617c-.257-.037-.514-.079-.781-.079-.268 0-.524.042-.781.079a5.458 5.458 0 0 0-4.618 4.617c-.038.257-.079.514-.079.781s.041.522.079.781a5.455 5.455 0 0 0 4.618 4.616c.257.036.514.079.781.079s.524-.043.781-.079a5.457 5.457 0 0 0 4.618-4.616c.037-.259.079-.515.079-.781s-.043-.524-.079-.781z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_2:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35.79' height='35.79'%3E%3Cpath d='M7.161 22.223l.026-.047.865.5-.026.047a.503.503 0 0 1-.434.25c-.019 0-.034-.013-.053-.016l-.355-.205a.493.493 0 0 1-.023-.529zM9.969 8.988l2.785.001 1.393-2.414a.502.502 0 0 0-.869-.499l-1.103 1.913-2.208-.001a.5.5 0 1 0 .002 1zm15.854 17.813h-2.785l-1.393 2.411a.499.499 0 0 0 .436.75c.172 0 .34-.09.434-.25l1.104-1.911h2.207c.274 0 .5-.224.5-.5a.505.505 0 0 0-.503-.5zM23.038 8.99h2.785a.5.5 0 0 0 0-1h-2.207l-1.105-1.913a.5.5 0 0 0-.868.5l1.395 2.413zM12.754 26.801H9.967a.5.5 0 0 0 0 1h2.209l1.105 1.912a.496.496 0 0 0 .682.184.5.5 0 0 0 .184-.684l-1.393-2.412zm-7.218-6.309a.502.502 0 0 0 .685-.184l1.391-2.413-1.394-2.413a.5.5 0 0 0-.867.5l1.104 1.913-1.104 1.913a.5.5 0 0 0 .185.684zM30.254 15.3a.505.505 0 0 0-.685.183l-1.392 2.412 1.395 2.414a.501.501 0 0 0 .867-.5l-1.104-1.914 1.104-1.912a.5.5 0 0 0-.185-.683zm3.138 11.542a.501.501 0 0 1-.683.184l-.98-.565-2.137 1.231a.516.516 0 0 1-.5 0l-2.385-1.377a.502.502 0 0 1-.25-.433v-.854h-4.441l-2.225 3.852.736.428c.154.088.25.254.25.432l.001 2.755a.5.5 0 0 1-.25.433l-2.133 1.229v1.136c0 .274-.225.5-.5.5s-.5-.226-.5-.5v-1.136l-2.136-1.23a.5.5 0 0 1-.25-.433l.001-2.755c0-.178.096-.344.25-.432l.738-.427-2.224-3.849H9.332l.002.851a.505.505 0 0 1-.25.435l-2.387 1.377a.5.5 0 0 1-.5 0L4.06 26.46l-.982.567a.5.5 0 0 1-.5-.867l.982-.567.001-2.465c0-.179.097-.344.25-.434l2.388-1.377a.497.497 0 0 1 .5 0l.736.426 2.221-3.848-2.222-3.849-.737.426a.51.51 0 0 1-.5 0l-2.386-1.377a.5.5 0 0 1-.25-.434l.002-2.464-.983-.567a.501.501 0 0 1-.184-.683.502.502 0 0 1 .684-.183l.983.568 2.134-1.233a.5.5 0 0 1 .5 0l2.385 1.379c.156.089.25.255.25.433v.85h4.443l2.223-3.846-.74-.427a.501.501 0 0 1-.25-.434l.002-2.755c0-.178.096-.343.25-.433l2.135-1.233V.5a.5.5 0 0 1 1 0v1.135l2.134 1.231c.154.089.25.254.25.434l-.002 2.755a.503.503 0 0 1-.25.433l-.733.425 2.224 3.849h4.44l-.002-.851c0-.179.096-.344.25-.434l2.388-1.378a.502.502 0 0 1 .5 0l2.136 1.233.982-.568a.5.5 0 1 1 .5.866l-.983.568v2.464a.503.503 0 0 1-.25.433l-2.388 1.378a.5.5 0 0 1-.5 0l-.735-.426-2.222 3.849 2.223 3.849.734-.425a.506.506 0 0 1 .5 0l2.389 1.375c.154.09.25.255.25.435l-.002 2.462.982.568c.24.137.321.444.182.682zm-2.165-1.828l.001-1.597-1.888-1.087-.734.424-.348.201-.301.173-.5.289v2.179l1.885 1.088 1.386-.802.498-.286.001-.582zm-3.736-11.467l-.531-.307-2.283 1.318-2.443 3.337 2.442 3.337 2.283 1.316.531-.306-2.514-4.348 2.515-4.347zm-7.712 16.478l-.762-.438-.339-.194-.283-.166-.5-.289-.5.289-.279.162-.349.2-.757.437-.001 2.177 1.386.797.501.289.499-.287 1.386-.798-.002-2.179zM16.008 5.767l.736.425.371.214.279.16.5.288.5-.289.281-.163.367-.212.732-.424.002-2.178-1.381-.797-.502-.289-.498.287-1.385.8-.002 2.178zm6.52 14.227l-1.535-2.099 1.535-2.098.732-1-1.232.134-2.585.281-1.048-2.379-.5-1.133-.5 1.134-1.049 2.379-2.585-.281-1.232-.134.732 1 1.536 2.097-1.536 2.098-.732 1 1.232-.134 2.585-.281 1.049 2.379.5 1.134.5-1.134 1.048-2.379 2.585.281 1.232.134-.732-.999zm8.2-10.084l-1.386-.8-1.887 1.089v1.279l.002.32v.577l.5.289.28.163.367.213.732.424 1.888-1.089v-2.178l-.496-.287zM18.927 7.413l-.532.307v2.637l1.667 3.784 4.111-.447 2.283-1.317-.002-.613h-5.02l-2.507-4.351zm-9.594 4.348v.614l2.283 1.318 4.111.447 1.668-3.785V7.719l-.531-.306-2.509 4.347-5.022.001zm-2.15 1.279l.37-.213.279-.162.5-.289V10.2L6.446 9.11l-1.384.8-.499.289v.578l-.002 1.599 1.885 1.088.737-.424zm1.119 9.205l.53.306 2.281-1.316 2.443-3.339-2.442-3.337-2.281-1.317-.531.307 2.511 4.348-2.511 4.348zm-1.115-.069l-.026.047a.493.493 0 0 0 .023.529l-.734-.424-1.887 1.089-.001 1.599v.578l.5.288 1.386.8 1.887-1.088v-1.278l-.002-.321v-.577l-.5-.289-.293-.169c.02.002.035.017.055.017a.5.5 0 0 0 .433-.25l.026-.047-.867-.504zm9.679 6.202l.529-.306v-2.637l-1.668-3.785-4.111.447-2.283 1.316.002.611 5.021.002 2.51 4.352zm9.591-4.349v-.612L24.174 22.1l-4.111-.447-1.667 3.783v2.639l.531.307 2.512-4.352h5.018v-.001z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_3:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.815' height='32.815'%3E%3Cpath d='M4.581 23.55h4.681v4.681a.78.78 0 1 1-1.562 0v-3.118H4.581a.781.781 0 0 1 0-1.563zM29.016 8.481a.781.781 0 0 0-.781-.781h-3.119V4.582a.781.781 0 0 0-1.562 0v4.681h4.682c.429 0 .78-.35.78-.782zm-24.252.598l4.683-.001V4.395a.781.781 0 0 0-1.562 0v3.121l-3.121.001a.781.781 0 0 0 0 1.562zm23.655 14.287h-4.685l.002 4.684a.78.78 0 1 0 1.562 0l-.002-3.121h3.122a.781.781 0 0 0 .001-1.563zm4.394-6.96a.78.78 0 0 1-.781.781h-3.426l1.876 1.875a.782.782 0 0 1-1.104 1.105l-2.979-2.979h-1.986L17.19 24.41v1.987l2.977 2.979a.781.781 0 0 1-1.103 1.106l-1.874-1.875v3.426a.78.78 0 1 1-1.562 0v-3.426l-1.875 1.875a.782.782 0 0 1-1.105-1.105l2.978-2.979V24.41l-7.219-7.22H6.418l-2.98 2.98a.777.777 0 0 1-1.103 0 .781.781 0 0 1 0-1.106L4.21 17.19H.783a.78.78 0 1 1 0-1.562h3.426l-1.876-1.875a.782.782 0 1 1 1.106-1.105l2.979 2.979h1.989l7.219-7.218v-1.99L12.648 3.44a.782.782 0 1 1 1.106-1.105l1.874 1.874V.781a.782.782 0 0 1 1.563 0v3.426l1.875-1.875a.783.783 0 0 1 1.106 1.105l-2.979 2.979v1.99l7.216 7.218h1.992l2.979-2.979a.782.782 0 0 1 1.105 1.105l-1.876 1.874h3.427a.781.781 0 0 1 .777.782zm-10.613.782l.778-.78-.781-.782-5.009-5.008-.781-.781-.781.781-5.01 5.008-.781.781.781.781 5.01 5.011.782.781.78-.779 5.012-5.013zm5.863 4.646a.782.782 0 0 0-.781-.781h-6.229v6.228a.78.78 0 1 0 1.562 0v-4.665h4.666a.782.782 0 0 0 .782-.782zm-.001-10.855a.782.782 0 0 0-.781-.781h-4.664V5.532a.782.782 0 0 0-1.562 0v6.228h6.227a.78.78 0 0 0 .78-.781zm-23.318 0c0 .432.35.781.781.781h6.228V5.532a.781.781 0 0 0-1.562 0v4.666H5.525a.781.781 0 0 0-.781.781zm.002 10.855c0 .432.35.781.781.781h4.664v4.665a.78.78 0 1 0 1.562 0v-6.228H5.527a.783.783 0 0 0-.781.782z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_4:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='37.794' height='37.794'%3E%3Cpath d='M30.638 17.313l-.914 1.584.915 1.585a.78.78 0 1 1-1.352.78l-1.366-2.366 1.366-2.365a.782.782 0 0 1 1.067-.286c.372.215.5.692.284 1.068zM11.65 11.08l2.733.002 1.367-2.367a.78.78 0 0 0-1.352-.781l-.915 1.585-1.831-.002h-.001a.78.78 0 0 0-.001 1.563zm14.491 15.633h-2.733l-1.365 2.365a.78.78 0 1 0 1.352.78l.914-1.584h1.831a.781.781 0 0 0 .001-1.561zm-4.1-17.998l1.367 2.367h2.733a.78.78 0 1 0 0-1.562h-1.833l-.915-1.585a.78.78 0 0 0-1.352.78zM15.75 29.08l-1.368-2.366h-2.733a.781.781 0 0 0 0 1.562h1.832l.917 1.585c.146.25.409.391.677.391a.779.779 0 0 0 .675-1.172zm-8.313-7.531a.78.78 0 0 0 1.067-.284L9.87 18.9l-1.367-2.368a.781.781 0 0 0-1.351.781l.916 1.587-.914 1.584a.776.776 0 0 0 .283 1.065zm27.827 6.798a.784.784 0 0 1-1.067.285l-.89-.515-2.096 1.209a.793.793 0 0 1-.391.105.762.762 0 0 1-.391-.105l-2.484-1.435a.78.78 0 0 1-.391-.676l-.002-2.417-2.408-1.392a7.714 7.714 0 0 1-5.467 3.168v2.773l2.093 1.208a.78.78 0 0 1 .391.676l.001 2.868c0 .28-.149.537-.392.676l-2.093 1.205v1.032a.781.781 0 0 1-1.562 0V35.98l-2.095-1.207a.78.78 0 0 1-.391-.676l.001-2.868c0-.28.15-.537.391-.676l2.094-1.206v-2.773a7.718 7.718 0 0 1-5.468-3.168l-2.408 1.392.002 2.415c0 .281-.15.539-.391.676l-2.487 1.437a.785.785 0 0 1-.782 0l-2.095-1.209-.893.518a.782.782 0 0 1-.782-1.354l.893-.517.001-2.414a.78.78 0 0 1 .391-.677l2.487-1.434a.774.774 0 0 1 .781 0l2.093 1.208 2.407-1.39a7.655 7.655 0 0 1 0-6.317l-2.406-1.39-2.096 1.209a.772.772 0 0 1-.782 0l-2.485-1.434a.786.786 0 0 1-.391-.676l.002-2.416-.894-.517a.78.78 0 0 1-.285-1.066.788.788 0 0 1 1.07-.283l.893.514 2.093-1.208a.774.774 0 0 1 .781 0L9.851 9.91c.24.14.391.398.391.675L10.24 13l2.408 1.392a7.712 7.712 0 0 1 5.468-3.167V8.45L16.02 7.242a.78.78 0 0 1-.391-.676l.002-2.87c0-.279.15-.538.391-.675l2.094-1.208V.781a.781.781 0 0 1 1.562 0v1.032l2.093 1.206a.785.785 0 0 1 .391.677l-.002 2.87c0 .28-.149.536-.391.674l-2.091 1.208v2.772a7.708 7.708 0 0 1 5.467 3.167l2.409-1.392-.002-2.416c0-.28.149-.539.391-.676l2.487-1.436c.24-.14.539-.14.781 0l2.095 1.208.894-.514a.78.78 0 1 1 .781 1.352l-.894.516v2.417c0 .279-.15.538-.391.675l-2.487 1.436a.785.785 0 0 1-.782 0l-2.092-1.209-2.408 1.39c.436.967.684 2.032.684 3.158a7.65 7.65 0 0 1-.684 3.158l2.408 1.391 2.091-1.206a.782.782 0 0 1 .78 0l2.488 1.432c.24.141.392.398.392.677l-.002 2.414.893.517a.783.783 0 0 1 .287 1.068zm-6.147-16.251l.001.9.78.453.921.531 1.706-.982v-1.965l-.78-.451-.923-.533-1.707.983.002 1.064zm-20.443-.002l.002-1.063-1.706-.985-.922.535-.778.451-.001.902-.001 1.063 1.703.982.924-.533.779-.451v-.901zm0 13.604l-.001-.899-.781-.451-.919-.533-1.706.982-.001 1.064v.901l.781.451.923.533 1.707-.982-.003-1.066zm15.109-3.076c.315-.413.586-.864.789-1.351a6.121 6.121 0 0 0 0-4.748 6.175 6.175 0 0 0-.789-1.35 6.158 6.158 0 0 0-4.106-2.375 6.48 6.48 0 0 0-.781-.056c-.266 0-.525.022-.781.056a6.149 6.149 0 0 0-4.106 2.375 6.128 6.128 0 0 0-.789 1.35 6.104 6.104 0 0 0-.479 2.374 6.1 6.1 0 0 0 1.268 3.725 6.15 6.15 0 0 0 4.106 2.374c.256.031.516.056.781.056s.525-.022.781-.056a6.142 6.142 0 0 0 4.106-2.374zM17.19 6.113l.924.531.781.452.781-.452.919-.531.002-1.968-.921-.531-.784-.452-.779.451-.922.532-.001 1.968zm3.408 25.57l-.921-.532-.781-.452-.781.452-.922.532-.001 1.966.923.531.782.451.78-.449.922-.533-.001-1.966zm11.925-5.819l.001-1.063-1.707-.981-.919.529-.782.451v.901l.001 1.065 1.702.981.924-.533.778-.449.002-.901z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_5:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='31.25' height='31.25'%3E%3Cpath d='M20.581 1.176l-3.914 3.915V0h1.041v2.576L19.845.439l.736.737zm-1.615 9.069l.351.217 6.623-6.625-.736-.737-6.048 6.051a7.141 7.141 0 0 0-1.449-.6v-.082l5.082-5.082-.737-.737-5.387 5.388v1.33l.402.093a6.213 6.213 0 0 1 1.899.784zm2.041 2.043c.368.585.63 1.224.786 1.893l.094.403h1.028l5.171-5.173-.736-.737-4.699 4.701a7.523 7.523 0 0 0-.549-1.28l6.048-6.05-.737-.735-6.622 6.625.216.353zm7.368 1.254l1.921-1.923-.736-.735-3.699 3.7h5.39v-1.042h-2.876zm1.185 6.826l.736-.736-1.923-1.923h2.877v-1.042h-5.389l3.699 3.701zm-6.915-2.498l4.705 4.707.736-.736-5.171-5.174h-1.03l-.096.4a6.24 6.24 0 0 1-.795 1.883l-.22.353 6.639 6.641.736-.736-6.061-6.062c.227-.414.414-.84.557-1.276zm-3.7 3.125a6.241 6.241 0 0 1-1.88.794l-.399.096v1.33l5.387 5.387.736-.736-5.082-5.082v-.089a7.322 7.322 0 0 0 1.434-.605l6.061 6.062.736-.736-6.641-6.641-.352.22zM16.667 31.25h1.041v-2.576l2.137 2.137.736-.737-3.914-3.914v5.09zm-5.26-.439l2.134-2.137v2.576h1.042v-5.093l-3.913 3.916.737.738zm.897-9.816l-.352-.222-6.642 6.641.736.736 6.062-6.062c.456.254.937.456 1.433.605v.089l-5.08 5.082.736.736 5.387-5.387v-1.33l-.4-.096a6.175 6.175 0 0 1-1.88-.792zm-2.046-2.047a6.315 6.315 0 0 1-.798-1.883l-.096-.4H8.335l-5.172 5.174.737.736 4.706-4.71c.145.441.329.865.556 1.276L3.1 25.202l.736.736 6.643-6.643-.221-.347zM0 16.667v1.042h2.876L.954 19.632l.736.736 3.698-3.701H0zm1.69-5.783l-.736.735 1.921 1.923H0v1.042h5.39l-3.7-3.7zm6.916 2.498L3.9 8.674l-.736.737 5.172 5.173h1.029l.096-.4a6.15 6.15 0 0 1 .798-1.881l.222-.352L3.837 5.31l-.736.736 6.062 6.06a7.268 7.268 0 0 0-.557 1.276zm-.145-9.996l5.08 5.082v.088c-.497.15-.977.352-1.433.606L6.047 3.101l-.736.737 6.643 6.643.352-.222a6.223 6.223 0 0 1 1.88-.797l.4-.095v-1.33L9.2 2.649l-.739.737zm5.081-.81L11.408.439l-.736.737 3.913 3.917V0h-1.042v2.576zm-1.757 14.831a4.2 4.2 0 0 0 2.06 2.058l.739.338v-3.136h-3.138l.339.74zm0-3.562l-.337.738h3.135v-3.136l-.739.338a4.223 4.223 0 0 0-2.059 2.06zm7.679 3.561l.338-.739h-3.135v3.136l.738-.338a4.204 4.204 0 0 0 2.059-2.059zm0-3.561a4.198 4.198 0 0 0-2.059-2.06l-.738-.34v3.138h3.135l-.338-.738z' fill=':color:'/%3E%3C/svg%3E")}`,lu=class ss{constructor(t){this.destroyed=!1,this.flakes=[],this.isBody=!1,this.handleResize=()=>{this.params.autoResize&&this.resize()},this.handleOrientationChange=()=>{this.resize()},this.params=this.setParams(t),this.isBody=H4(this.params.container),ss.gid++,this.gid=ss.gid,this.container=this.appendContainer(),this.params.stop&&this.stop(),this.appendStyles(),this.appendFlakes(),this.containerSize={width:this.width(),height:this.height()},window.addEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.addEventListener&&screen.orientation.addEventListener("change",this.handleOrientationChange)}start(){tb(this.container,"snowflakes_paused")}stop(){Mo(this.container,"snowflakes_paused")}show(){tb(this.container,"snowflakes_hidden")}hide(){Mo(this.container,"snowflakes_hidden")}resize(){let t=this.width(),r=this.height();if(r===this.containerSize.height)return;this.containerSize.width=t,this.containerSize.height=r;let a=this.getFlakeParams();this.flakes.forEach(l=>l.resize(a)),!this.isBody&&(nb(this.container),this.updateAnimationStyle(),rb(this.container))}destroy(){this.destroyed||(this.destroyed=!0,ss.instanceCounter&&ss.instanceCounter--,this.removeStyles(),Nd(this.container),this.flakes.forEach(t=>t.destroy()),this.flakes=[],window.removeEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.removeEventListener&&screen.orientation.removeEventListener("change",this.handleOrientationChange,!1))}appendContainer(){let t=document.createElement("div");return Mo(t,"snowflakes"),Mo(t,`snowflakes_gid_${this.gid}`),this.isBody&&Mo(t,"snowflakes_body"),Bs(t,{zIndex:String(this.params.zIndex)}),this.params.container.appendChild(t),t}appendStyles(){ss.instanceCounter||(this.mainStyleNode=this.injectStyle(U4)),ss.instanceCounter++,this.imagesStyleNode=this.injectStyle(V4.replace(/:color:/g,encodeURIComponent(this.params.color))),this.animationStyleNode=this.injectStyle(this.getAnimationStyle())}injectStyle(t,r){return B4(t.replace(/_gid_value/g,`_gid_${this.gid}`),r)}getFlakeParams(){let t=this.height(),r=this.params;return{containerHeight:t,gid:this.gid,count:r.count,speed:r.speed,rotation:r.rotation,minOpacity:r.minOpacity,maxOpacity:r.maxOpacity,minSize:r.minSize,maxSize:r.maxSize,types:r.types,wind:r.wind}}appendFlakes(){let t=this.getFlakeParams();this.flakes=[];for(let r=0;r<this.params.count;r++)this.flakes.push(new z4(t));this.flakes.sort((r,a)=>r.size-a.size).forEach(r=>{r.appendTo(this.container)})}setParams(t){let r=t||{},a={},l={color:"#5ECDEF",container:document.body,count:50,speed:1,stop:!1,rotation:!0,minOpacity:.6,maxOpacity:1,minSize:10,maxSize:25,types:6,width:void 0,height:void 0,wind:!0,zIndex:9999,autoResize:!0};return Object.keys(l).forEach(o=>{a[o]=typeof r[o]>"u"?l[o]:r[o]}),a}getAnimationStyle(){let t="0px",r=this.params.maxSize*Math.sqrt(2),a=this.isBody?`calc(100vh + ${r}px)`:`${this.height()+r}px`,l=this.gid,o=`@-webkit-keyframes snowflake_gid_${l}_y{from{-webkit-transform:translateY(${t})}to{-webkit-transform:translateY(${a});}}
@keyframes snowflake_gid_${l}_y{from{transform:translateY(${t})}to{transform:translateY(${a});}}`;for(let c=0;c<=Ef;c++){let n=ob(c,this.params.minSize,this.params.maxSize)+"px";o+=`@-webkit-keyframes snowflake_gid_${l}_x_${c}{from{-webkit-transform:translateX(0px)}to{-webkit-transform:translateX(${n});}}
@keyframes snowflake_gid_${l}_x_${c}{from{transform:translateX(0px)}to{transform:translateX(${n})}}`}return o}updateAnimationStyle(){this.injectStyle(this.getAnimationStyle(),this.animationStyleNode)}removeStyles(){ss.instanceCounter||(Nd(this.mainStyleNode),delete this.mainStyleNode),Nd(this.imagesStyleNode),delete this.imagesStyleNode,Nd(this.animationStyleNode),delete this.animationStyleNode}width(){return this.params.width||(this.isBody?N4():this.params.container.offsetWidth)}height(){return this.params.height||(this.isBody?j4():this.params.container.offsetHeight+this.params.maxSize)}};lu.instanceCounter=0;lu.gid=0;});var ab=Kt(()=>{Tf();Tf()});function va(e,t){var r=this;if(!(r instanceof va))return new va(e,t);var a=Object.assign({},W4,t),l=Pf(a.precision),o=Bd(e,a);r.intValue=o,r.value=o/l,a.increment=a.increment||1/l,a.useVedic?a.groups=Y4:a.groups=G4,this.s=a,this.p=l}function Bd(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=0,l=t.decimal,o=t.errorOnInvalid,c=t.precision,n=t.fromCents,u=Pf(c),p=typeof e=="number",g=e instanceof va;if(g&&n)return e.intValue;if(p||g)a=g?e.value:e;else if(typeof e=="string"){var m=new RegExp("[^-\\d"+l+"]","g"),y=new RegExp("\\"+l,"g");a=e.replace(/\((.*)\)/,"-$1").replace(m,"").replace(y,"."),a=a||0}else{if(o)throw Error("Invalid Input");a=0}return n||(a*=u,a=a.toFixed(4)),r?sb(a):a}function K4(e,t){var r=t.pattern,a=t.negativePattern,l=t.symbol,o=t.separator,c=t.decimal,n=t.groups,u=(""+e).replace(/^-/,"").split("."),p=u[0],g=u[1];return(e.value>=0?r:a).replace("!",l).replace("#",p.replace(n,"$1"+o)+(g?c+g:""))}var W4,sb,Pf,q4,G4,Y4,$f,Lf=Kt(()=>{W4={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:K4,fromCents:!1},sb=function(e){return Math.round(e)},Pf=function(e){return Math.pow(10,e)},q4=function(e,t){return sb(e/t)*t},G4=/(\d)(?=(\d{3})+\b)/g,Y4=/(\d)(?=(\d\d)+\d\b)/g;va.prototype={add:function(e){var t=this.intValue,r=this.s,a=this.p;return va((t+=Bd(e,r))/(r.fromCents?1:a),r)},subtract:function(e){var t=this.intValue,r=this.s,a=this.p;return va((t-=Bd(e,r))/(r.fromCents?1:a),r)},multiply:function(e){var t=this.intValue,r=this.s;return va((t*=e)/(r.fromCents?1:Pf(r.precision)),r)},divide:function(e){var t=this.intValue,r=this.s;return va(t/=Bd(e,r,!1),r)},distribute:function(e){for(var t=this.intValue,r=this.p,a=this.s,l=[],o=Math[t>=0?"floor":"ceil"](t/e),c=Math.abs(t-o*e),n=a.fromCents?1:r;e!==0;e--){var u=va(o/n,a);c-- >0&&(u=u[t>=0?"add":"subtract"](1/n)),l.push(u)}return l},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,t=this.p;return~~(e%t)},format:function(e){var t=this.s;return typeof e=="function"?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.intValue,t=this.p,r=this.s;return q4(e/t,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};$f=va;});var lb,Hd,ra,cb,ub,Mf=Kt(()=>{(function(e){e.CreditCard="Credit Card",e.PayPal="PayPal",e.GooglePay="Google Pay",e.Venmo="Venmo",e.ApplePay="Apple Pay"})(lb||(lb={}));Hd=class Of{get feeAmountCovered(){return this.coverFees?this.fee:0}get fee(){return Of.calculateFeeAmount(this.amount)}get total(){return Of.calculateTotal(this.amount,this.coverFees)}static calculateTotal(t,r){let a=r?this.calculateFeeAmount(t):0,l=t+a;return isNaN(l)?0:this.roundAmount(l)}static calculateFeeAmount(t){let r=t*.02+.49;return isNaN(r)?0:this.roundAmount(r)}static roundAmount(t){return Math.round(t*100)/100}constructor(t){this.donationType=t.donationType,this.amount=t.amount,this.coverFees=t.coverFees}};(function(e){e.OneTime="one-time",e.Monthly="monthly",e.Upsell="up_sell"})(ra||(ra={}));cb=[5,10,25,50,100,500,1e3],ub=new Hd({donationType:ra.OneTime,amount:10,coverFees:!1})});var db,If=Kt(()=>{db=class{keydown(e){var t,r;let a=e.key;if(e.metaKey)return;switch(a){case"Tab":case"Delete":case"Backspace":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}let l=e.target,o=l.value,c=o.slice(0,(t=l.selectionStart)!==null&&t!==void 0?t:0),n=o.slice((r=l.selectionEnd)!==null&&r!==void 0?r:0),u=`${c}${a}${n}`,p=/^[0-9]+(\.[0-9]{0,2})?$/g;u.match(p)||e.preventDefault()}}});var Ql,cu,Rf=Kt(()=>{vr();_i();Fr();(function(e){e.HideBadge="hidebadge",e.ShowBadge="showbadge",e.HideBadgeLeaveSpacing="hidebadgeleavespacing"})(Ql||(Ql={}));cu=class extends mi{constructor(){super(...arguments),this.sectionBadge="0",this.badgeMode=Ql.ShowBadge}render(){return Ke`
      <div class="container ${this.badgeMode}">
        <div class="badge-container">
          <div class="badge">${this.sectionBadge}</div>
        </div>
        <div class="content-container">
          ${this.headline?Ke` <div class="title">${this.headline}</div> `:""}
          <div class="content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}static get styles(){let e=pt`var(--formSectionBadgeTransition, 0.25s ease-out)`,t=pt`var(--formSectionBadgeMargin, 1rem)`,r=pt`var(--formSectionBadgeBackgroundColor, #333)`,a=pt`var(--formSectionBadgeRadius, 1.2rem)`,l=pt`calc(${a} * 2)`,o=pt`var(--formSectionBadgeFontSize, 1.8rem)`,c=pt`var(--formSectionBadgeFontWeight, bold)`,n=pt`var(--formSectionBadgeFontColor, #fff)`,u=pt`var(--formSectionTitleFontSize, 1.8rem)`,p=pt`var(--formSectionTitleFontWeight, bold)`,g=pt`var(--formSectionContentBackgroundColor, transparent)`,m=pt`var(--formSectionTextColor, #333)`,y=pt`calc(${a} * 2)`;return pt`
      :host {
        display: block;
        background-color: ${g};
        color: ${m};
      }
      .container {
        position: relative;
        padding: 0.5rem;
      }

      .content-container {
        position: relative;
        left: calc(${l} + ${t});
        width: calc(100% - (${l} + ${t}));
        transition: ${e};
        z-index: 1;
      }

      .hidebadge .content-container {
        left: 0;
        width: 100%;
      }

      .hidebadge .badge-container {
        display: none;
      }

      .hidebadgeleavespacing .badge {
        display: none;
      }

      .badge-container {
        position: absolute;
        width: ${l};
      }

      .badge {
        background-color: ${r};
        color: ${n};
        width: ${l};
        height: ${l};
        border-radius: ${a};
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: ${c};
        font-size: ${o};
      }

      .title {
        line-height: ${y};
        margin-bottom: 0.5rem;
        font-size: ${u};
        font-weight: ${p};
      }
    `}};le([Qt({type:String})],cu.prototype,"sectionBadge",void 0);le([Qt({type:String})],cu.prototype,"headline",void 0);le([Qt({type:String})],cu.prototype,"badgeMode",void 0);cu=le([ur("donation-form-section")],cu)});var uu,ya,Uo,Hs,Fd,mo,hb=Kt(()=>{vr();_i();Fr();Lf();Mf();If();Rf();(function(e){e.HideNumbers="hidenumbers",e.ShowNumbers="shownumbers"})(uu||(uu={}));(function(e){e.DonationType="donationType",e.Amount="amount"})(ya||(ya={}));(function(e){e.ValidDonationAmount="valid_donation_amount",e.InvalidDonationAmount="invalid_donation_amount",e.DonationTooHigh="donation_too_high",e.DonationTooLow="donation_too_low"})(Uo||(Uo={}));(function(e){e.Button="button",e.Checkbox="checkbox",e.Hide="hide"})(Hs||(Hs={}));(function(e){e.SingleLine="single-line",e.MultiLine="multi-line"})(Fd||(Fd={}));mo=class extends mi{constructor(){super(...arguments),this.donationInfo=ub,this.stepNumberMode=uu.ShowNumbers,this.amountOptions=cb,this.amountSelectionLayout=Fd.MultiLine,this.frequencySelectionMode=Hs.Button,this.customAmountMode="display",this.customFeesCheckboxMode="display",this.amountTitleDisplayMode="default",this.customAmountSelected=!1,this.currencyValidator=new db}render(){let e=this.amountTitleDisplayMode==="default"?"Choose an amount (USD)":"";return Ke`
      ${this.frequencySelectionMode===Hs.Button?this.frequencyButtonsTemplate:Ei}

      <donation-form-section
        sectionBadge="${this.amountSelectionSectionNumber}"
        headline=${e}
        badgeMode=${this.formSectionNumberMode}
      >
        ${this.amountTitleDisplayMode==="slot"?Ke`<slot name="edit-donation-amount-title"></slot>`:Ei}
        <ul class="amount-selector">
          ${this.presetAmountsTemplate}
          ${this.customAmountMode==="display"?Ke`<li class="custom-amount">${this.customAmountTemplate}</li>`:Ei}
        </ul>

        <div class="errors">${this.error}</div>

        ${this.customFeesCheckboxMode==="display"?Ke` <div class="checkbox-options">
              ${this.customFeesCheckboxTemplate}
              ${this.frequencySelectionMode===Hs.Checkbox?this.frequencyCheckboxTemplate:Ei}
            </div>`:Ei}
      </donation-form-section>
    `}updated(e){e.has("customAmountSelected")&&this.customAmountButton&&(this.customAmountButton.checked=this.customAmountSelected),e.has("amountOptions")&&(this.customAmountSelected=!1,this.updateSelectedDonationInfo(),this.setupAmountColumnsLayoutConfig()),e.has("amountSelectionLayout")&&this.setupAmountColumnsLayoutConfig(),e.has("donationInfo")&&this.updateSelectedDonationInfo(),e.has("defaultSelectedAmount")&&this.defaultSelectedAmount!==void 0&&(this.customAmountSelected=!1,this.donationInfo=new Hd({donationType:this.donationInfo.donationType,amount:this.defaultSelectedAmount,coverFees:this.donationInfo.coverFees}))}get frequencyButtonsTemplate(){return Ke`
      <donation-form-section
        sectionBadge="1"
        headline="Choose a frequency"
        badgeMode=${this.formSectionNumberMode}
      >
        <ul class="frequency-selector">
          ${this.frequencyTemplate}
        </ul>
      </donation-form-section>
    `}get frequencyCheckboxTemplate(){return Ke`
      <div class="checkbox-option-container">
        <input
          type="checkbox"
          id="make-this-monthly"
          @input=${this.monthlyCheckboxChecked}
          .checked=${this.donationInfo.donationType===ra.Monthly}
          tabindex="0"
        />
        <label for="make-this-monthly"> Make this monthly </label>
      </div>
    `}get customFeesCheckboxTemplate(){return Ke`
      <div class="checkbox-option-container">
        <input
          type="checkbox"
          id="cover-fees"
          @input=${this.coverFeesChecked}
          .checked=${this.donationInfo.coverFees}
          tabindex="0"
        />
        <label for="cover-fees"> ${this.coverFeesTextTemplate} </label>
      </div>
    `}get amountSelectionSectionNumber(){return this.frequencySelectionMode===Hs.Button?2:1}get formSectionNumberMode(){switch(this.stepNumberMode){case uu.ShowNumbers:return Ql.ShowBadge;case uu.HideNumbers:return Ql.HideBadge}}setupAmountColumnsLayoutConfig(){let e=this.customAmountMode==="hide"&&this.customFeesCheckboxMode==="hide"&&this.frequencySelectionMode===Hs.Hide,t=this.amountOptions.length,r=5,a=3;switch(t){case 7:r=5,a=3;break;case 6:r=4,a=2;break;case 5:r=4,a=3;break;case 4:if(e){r=4,a=0;break}r=3,a=2;break;case 3:r=2,a=1;break}this.amountSelectionLayout===Fd.SingleLine&&(r=t+3,a=3),this.style.setProperty("--paymentSelectorAmountColumnCount",`${r}`),this.style.setProperty("--paymentSelectorCustomAmountColSpan",`${a}`)}updateSelectedDonationInfo(){var e,t;if(!this.customAmountSelected&&this.amountOptions.includes(this.donationInfo.amount)){let r=(e=this.shadowRoot)===null||e===void 0?void 0:e.querySelector(`input[type="radio"][name="${ya.Amount}"][value="${this.donationInfo.amount}"]`);r.checked=!0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value="")}else if(this.customAmountSelected=!0,((t=this.shadowRoot)===null||t===void 0?void 0:t.activeElement)!==this.customAmountInput){this.customAmountInput.value=`${this.donationInfo.amount}`;let r=this.getDonationInfoStatus(this.donationInfo.amount);this.handleDonationInfoStatus(r)}}get coverFeesTextTemplate(){let e=$f(this.donationInfo.fee,{symbol:"$"}).format();return Ke` I'll generously add ${e} to cover fees. `}formatShortenedAmount(e){let t=e%1===0?0:2;return $f(e,{symbol:"$",precision:t}).format()}get frequencyTemplate(){return Ke`
      <li>
        ${this.getRadioButton({group:ya.DonationType,value:ra.OneTime,displayText:"One time",checked:this.donationInfo.donationType===ra.OneTime})}
      </li>

      <li>
        ${this.getRadioButton({group:ya.DonationType,value:ra.Monthly,displayText:"Monthly",checked:this.donationInfo.donationType===ra.Monthly})}
      </li>
    `}get presetAmountsTemplate(){return Ke`
      ${this.amountOptions.map(e=>{let t=!this.customAmountSelected&&e===this.donationInfo.amount,r=this.formatShortenedAmount(e);return Ke`
          <li>
            ${this.getRadioButton({group:ya.Amount,value:`${e}`,displayText:`${r}`,checked:t})}
          </li>
        `})}
    `}getRadioButton(e){let t=`${e.group}-${e.value}-option`;return Ke`
      <div class="selection-button">
        <input
          type="radio"
          name=${e.group}
          value=${e.value}
          id=${t}
          tabindex="0"
          .checked=${e.checked}
          @change=${this.radioSelected}
          @click=${r=>{e.group===ya.Amount&&parseFloat(e.value)===this.donationInfo.amount&&(console.log("SAME VALUE"),this.radioSelected(r))}}
        />
        <label for=${t}> ${e.displayText} </label>
      </div>
    `}get customAmountTemplate(){let e=this.amountOptions.includes(this.donationInfo.amount)?"":this.donationInfo.amount;return Ke`
      <div class="selection-button">
        <input
          type="radio"
          name=${ya.Amount}
          value="custom"
          id="custom-amount-button"
          tabindex="0"
          @change=${this.customRadioSelected}
        />

        <label for="custom-amount-button">
          <span class="custom-amount-text">Custom: $</span
          ><input
            type="text"
            id="custom-amount-input"
            tabindex="-1"
            value=${e}
            @input=${this.customAmountChanged}
            @keydown=${this.currencyValidator.keydown}
            @focus=${this.customAmountFocused}
          />
        </label>
      </div>
    `}customRadioSelected(){this.customAmountInput.focus()}customAmountFocused(e){let t=e.target;this.customAmountSelected=!0,this.handleCustomAmountInput(t.value)}coverFeesChecked(e){let t=e.target.checked;this.updateDonationInfo({coverFees:t})}customAmountChanged(e){let t=e.target.value;this.customAmountSelected=!0,this.handleCustomAmountInput(t)}handleCustomAmountInput(e){let t=parseFloat(e);isNaN(t)?this.dispatchEditDonationError(Uo.InvalidDonationAmount):this.amountChanged(t)}handleDonationInfoStatus(e){switch(e){case Uo.ValidDonationAmount:this.error=void 0;break;case Uo.DonationTooHigh:this.error=Ke`
          To make a donation of $10,000 or more, please contact our philanthropy
          department at
          <a href="mailto:donations@archive.org">donations@archive.org</a>
        `,this.dispatchEditDonationError(e);break;case Uo.DonationTooLow:this.customAmountInput.value.length>0&&(this.error=Ke` Please select an amount (minimum $1) `),this.dispatchEditDonationError(e);break;case Uo.InvalidDonationAmount:this.error=Ke` Please enter a valid donation amount `,this.dispatchEditDonationError(e);break}}amountChanged(e){let t=this.getDonationInfoStatus(e);this.handleDonationInfoStatus(t),t===Uo.ValidDonationAmount&&this.updateDonationInfo({amount:e})}getDonationInfoStatus(e){return isNaN(e)?Uo.InvalidDonationAmount:e>=1e4?Uo.DonationTooHigh:e<1?Uo.DonationTooLow:Uo.ValidDonationAmount}radioSelected(e){let t=e.target,r=t.name,{value:a}=t;switch(r){case ya.Amount:this.presetAmountChanged(parseFloat(a));break;case ya.DonationType:this.updateDonationInfo({donationType:a});break;default:break}}monthlyCheckboxChecked(e){let t=e.target.checked?ra.Monthly:ra.OneTime;this.updateDonationInfo({donationType:t})}dispatchEditDonationError(e){let t=new CustomEvent("editDonationError",{detail:{error:e}});this.dispatchEvent(t)}presetAmountChanged(e){this.error=void 0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value=""),this.updateDonationInfo({amount:e})}updateDonationInfo(e){var t,r,a;let l=new Hd({donationType:(t=e.donationType)!==null&&t!==void 0?t:this.donationInfo.donationType,amount:(r=e.amount)!==null&&r!==void 0?r:this.donationInfo.amount,coverFees:(a=e.coverFees)!==null&&a!==void 0?a:this.donationInfo.coverFees});this.donationInfo=l;let o=new CustomEvent("donationInfoChanged",{detail:{donationInfo:l}});this.dispatchEvent(o)}static get styles(){let e=pt`var(--paymentButtonBorderColor, #333)`,t=pt`var(--paymentButtonGridGap, 1rem)`,r=pt`var(--paymentButtonFontSize, 1.6rem)`,a=pt`var(--paymentButtonFontColor, #000)`,l=pt`var(--paymentButtonSelectedFontColor, #000)`,o=pt`var(--paymentButtonSelectedColor, #f9bf3b)`,c=pt`var(--paymentButtonFocusedOutlineColor, #7fb3f9)`,n=pt`var(--paymentButtonColor, #fff)`,u=pt`var(--coverFeesFontSize, 1.2rem)`,p=pt`var(--coverFeesFontWeight, bold)`,g=pt`var(--customAmountWidth, 4rem)`,m=pt`var(--inputFieldFontColor, #333)`,y=pt`var(--inputBorder, 1px solid #d9d9d9)`,x=pt`var(--paymentSelectorAmountColumnCount, 5)`,w=pt`var(--paymentSelectorCustomAmountColSpan, 3)`;return pt`
      :host {
        --formSectionContentBackgroundColor: var(
          --editFormBgColor,
          transparent
        );
        --formSectionBadgeBackgroundColor: var(--editFormBadgeBgColor, #333);
        --formSectionBadgeFontColor: var(--editFormBadgeFontColor, #fff);
        --formSectionTextColor: var(--editFormTextColor, #333);
      }
      .errors {
        color: red;
        font-size: 1.4rem;
        margin-top: 0.5rem;
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        grid-gap: ${t};
      }

      li {
        margin: 0;
        padding: 0;
        display: inline-block;
      }

      .frequency-selector {
        grid-template-columns: repeat(2, 1fr);
      }

      .amount-selector {
        grid-template-columns: repeat(${x}, 1fr);
      }

      .custom-amount {
        grid-column: span ${w};
      }

      .selection-button {
        height: 3rem;
      }

      .selection-button label {
        padding: 0 0.3rem;
        display: flex;
        cursor: pointer;
        text-align: center;
        font-size: ${r};
        font-weight: bold;
        border: 1px solid ${e};
        border-radius: 5px;
        background-color: #ccc;
        height: 100%;
        justify-content: center;
        align-items: center;
      }

      label[for='custom-amount-button'] {
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .custom-amount-text {
        white-space: nowrap;
        margin-right: 0.5rem;
      }

      input[type='radio'] {
        opacity: 0;
        width: 0;
        height: 0;
        position: absolute;
      }

      input[type='radio'] + label {
        color: ${a};
        background-color: ${n};
      }

      input[type='radio']:checked + label {
        color: ${l};
        background-color: ${o};
      }

      input[type='radio']:focus + label {
        outline: 2px solid ${c};
      }

      .checkbox-options {
        margin-top: 1rem;
      }

      .checkbox-option-container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .checkbox-option-container input {
        width: 2rem;
      }

      .checkbox-option-container label {
        font-size: ${u};
        font-weight: ${p};
        flex: 1;
      }

      #custom-amount-input {
        width: ${g};
        font-size: 1.6rem;
        font-weight: bold;
        color: ${m};
        padding: 0.1rem;
        border: ${y};
        appearance: none;
        -moz-appearance: none;
        -webkit-appearance: none;
      }
    `}};le([Qt({type:Object})],mo.prototype,"donationInfo",void 0);le([Qt({type:String})],mo.prototype,"stepNumberMode",void 0);le([Qt({type:Number})],mo.prototype,"defaultSelectedAmount",void 0);le([Qt({type:Array})],mo.prototype,"amountOptions",void 0);le([Qt({type:String})],mo.prototype,"amountSelectionLayout",void 0);le([Qt({type:String,reflect:!0})],mo.prototype,"frequencySelectionMode",void 0);le([Qt({type:String,reflect:!0})],mo.prototype,"customAmountMode",void 0);le([Qt({type:String,reflect:!0})],mo.prototype,"customFeesCheckboxMode",void 0);le([Qt({type:String,reflect:!0})],mo.prototype,"amountTitleDisplayMode",void 0);le([Qt({type:Object})],mo.prototype,"error",void 0);le([Qt({type:Boolean})],mo.prototype,"customAmountSelected",void 0);le([sn("#custom-amount-button")],mo.prototype,"customAmountButton",void 0);le([sn("#custom-amount-input")],mo.prototype,"customAmountInput",void 0);mo=le([ur("donation-form-edit-donation")],mo)});var pb=Kt(()=>{vr();_i();Fr();Lf();Mf();If();Rf();hb()});var Io,fb=Kt(()=>{vr();_i();Fr();Io=class extends mi{constructor(){super(...arguments),this.goalMessageMode="amount",this.goalNearMessage="We\u2019ve almost reached our goal!",this.goalReachedMessage="We've reached our goal!",this.goalAmount=75e5,this.currentAmountMode="on",this.currentAmount=0,this.thermometerValueWidth=0,this.thermometerFillWidth=0}render(){return Ke`
      <div
        class="container"
        role="progressbar"
        aria-valuemin="0"
        aria-valuemax="${this.goalAmount}"
        aria-valuenow="${this.currentAmount}"
        aria-valuetext="${this.currentAmountDisplayValue}"
      >
        <div class="thermometer-message-container">
          <div class="thermometer-container">
            <div
              class="thermometer-background ${this.thermometerValuePosition}"
            >
              <div
                class="thermometer-fill"
                style="width: ${this.percentComplete}%"
              >
                ${this.thermometerValuePosition==="value-left"?this.thermometerValueTemplate:Ei}
              </div>
              ${this.thermometerValuePosition==="value-right"?this.thermometerValueTemplate:Ei}
            </div>
          </div>
          ${this.goalMessageMode!=="off"?Ke` <div class="donate-goal">${this.currentGoalMessage}</div> `:Ei}
        </div>
      </div>
    `}get thermometerValueTemplate(){return this.currentAmountMode==="off"?Ke`${Ei}`:Ke`
          <div class="thermometer-value">${this.currentAmountDisplayValue}</div>
        `}get thermometerValuePosition(){return this.thermometerValueWidth+10<this.thermometerFillWidth?"value-left":"value-right"}updated(e){if(e.has("resizeObserver")){let t=e.get("resizeObserver");this.disconnectResizeObserver(t),this.setupResizeObserver(this.resizeObserver)}e.has("currentAmountMode")&&(this.unobserveCurrentAmountResize(this.resizeObserver),this.observeCurrentAmountResize(this.resizeObserver))}disconnectedCallback(){this.disconnectResizeObserver(this.resizeObserver)}handleResize(e){var t;switch(e.target){case((t=this.shadowRoot)===null||t===void 0?void 0:t.host):this.style.setProperty("--bannerThermometerHeight",e.contentRect.height+"px");break;case this.thermometerValue:this.thermometerValueWidth=e.contentRect.width;break;case this.thermometerFill:this.thermometerFillWidth=e.contentRect.width;break}}setupResizeObserver(e){var t;!(!((t=this.shadowRoot)===null||t===void 0)&&t.host)||!e||(e.addObserver({handler:this,target:this.shadowRoot.host}),e.addObserver({handler:this,target:this.thermometerFill}),this.observeCurrentAmountResize(e))}disconnectResizeObserver(e){var t;!(!((t=this.shadowRoot)===null||t===void 0)&&t.host)||!e||(e.removeObserver({handler:this,target:this.shadowRoot.host}),e.removeObserver({handler:this,target:this.thermometerFill}),this.unobserveCurrentAmountResize(e))}observeCurrentAmountResize(e){!this.thermometerValue||!e||(e==null||e.addObserver({handler:this,target:this.thermometerValue}))}unobserveCurrentAmountResize(e){!this.thermometerValue||!e||(e==null||e.removeObserver({handler:this,target:this.thermometerValue}))}get goalMessage(){return this.currentAmount>=this.goalAmount?this.goalReachedMessage:this.goalNearMessage}get currentAmountDisplayValue(){return this.formatNumber(this.currentAmount)}get goalAmountDisplayValue(){return this.formatNumber(this.goalAmount)}formatNumber(e){if(e===0)return"$0";let t="MM",r=e/1e6,a=r<10,l=0;return a?l=Math.round((r+Number.EPSILON)*10)/10:l=Math.round(r),`$${l}${t}`}get currentGoalMessage(){switch(this.goalMessageMode){case"amount":return`${this.goalAmountDisplayValue} goal`;case"message":return this.goalMessage;case"off":return""}}get percentComplete(){return Math.min(this.currentAmount/this.goalAmount*100,100)}static get styles(){let e=pt`var(--bannerThermometerHeight, 20px)`,t=pt`var(--bannerThermometerCurrentValueLeftColor, #fff)`,r=pt`var(--bannerThermometerProgressColor, #23765D)`,a=pt`var(--bannerThermometerCurrentValueRightColor, ${r})`,l=pt`var(--bannerThermometerBackgroundColor, #B8F5E2)`,o=pt`var(--bannerThermometerBorder, 1px solid ${r})`,c=pt`var(--bannerThermometerBorderRadius, calc(${e} / 2))`,n=pt`var(--bannerThermometerGoalMessagePadding, 0 10px)`,u=pt`var(--bannerThermometerGoalValueColor, #2c2c2c)`;return pt`
      :host {
        display: block;
      }

      .container {
        height: 100%;
      }

      .thermometer-message-container {
        height: 100%;
        display: flex;
        align-items: center;
      }

      .thermometer-container {
        height: 100%;
        flex: 1;
      }

      .thermometer-background {
        background-color: ${l};
        padding: 0;
        height: 100%;
        border-radius: ${c};
        border: ${o};
        overflow: hidden;
        display: flex;
        align-items: center;
      }

      .thermometer-fill {
        background-color: ${r};
        text-align: right;
        height: 100%;
        display: flex;
        justify-content: flex-end;
        align-items: center;
      }

      .thermometer-value {
        font-weight: bold;
      }

      .value-left .thermometer-value {
        color: ${t};
        padding: 0 0.5rem 0 1rem;
      }

      .value-right .thermometer-value {
        color: ${a};
        padding: 0 1rem 0 0.5rem;
      }

      .donate-goal {
        text-align: left;
        padding: ${n};
        text-transform: uppercase;
        font-weight: bold;
        color: ${u};
      }
    `}};le([Qt({type:String})],Io.prototype,"goalMessageMode",void 0);le([Qt({type:String})],Io.prototype,"goalNearMessage",void 0);le([Qt({type:String})],Io.prototype,"goalReachedMessage",void 0);le([Qt({type:Number})],Io.prototype,"goalAmount",void 0);le([Qt({type:String})],Io.prototype,"currentAmountMode",void 0);le([Qt({type:Number})],Io.prototype,"currentAmount",void 0);le([Qt({type:Object})],Io.prototype,"resizeObserver",void 0);le([sn(".thermometer-value")],Io.prototype,"thermometerValue",void 0);le([sn(".thermometer-fill")],Io.prototype,"thermometerFill",void 0);le([$n()],Io.prototype,"thermometerValueWidth",void 0);le([$n()],Io.prototype,"thermometerFillWidth",void 0);Io=le([ur("donation-banner-thermometer")],Io)});var mb=Kt(()=>{vr();_i();Fr();fb()});var Fs,X4,Z4,gb,J4,hu,zs,Q4,Sb,Bf,Cb,vb,e6,du,zd,yb,t6,i6,ba,ec,bb,Eb,Tb,r6,Pb,n6,wb,o6,Df,$b,a6,s6,l6,Wd,c6,u6,d6,xb,_b,jf,h6,Nf,kb,p6,f6,m6,Ud,Ab,Vd,Lb,Ob=Kt(()=>{Fs=[],X4=function(){return Fs.some(function(e){return e.activeTargets.length>0})},Z4=function(){return Fs.some(function(e){return e.skippedTargets.length>0})},gb="ResizeObserver loop completed with undelivered notifications.",J4=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:gb}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=gb),window.dispatchEvent(e)};(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(hu||(hu={}));zs=function(e){return Object.freeze(e)},Q4=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,zs(this)}return e}(),Sb=function(){function e(t,r,a,l){return this.x=t,this.y=r,this.width=a,this.height=l,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,zs(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,a=t.y,l=t.top,o=t.right,c=t.bottom,n=t.left,u=t.width,p=t.height;return{x:r,y:a,top:l,right:o,bottom:c,left:n,width:u,height:p}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Bf=function(e){return e instanceof SVGElement&&"getBBox"in e},Cb=function(e){if(Bf(e)){var t=e.getBBox(),r=t.width,a=t.height;return!r&&!a}var l=e,o=l.offsetWidth,c=l.offsetHeight;return!(o||c||e.getClientRects().length)},vb=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},e6=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},du=typeof window<"u"?window:{},zd=new WeakMap,yb=/auto|scroll/,t6=/^tb|vertical/,i6=/msie|trident/i.test(du.navigator&&du.navigator.userAgent),ba=function(e){return parseFloat(e||"0")},ec=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new Q4((r?t:e)||0,(r?e:t)||0)},bb=zs({devicePixelContentBoxSize:ec(),borderBoxSize:ec(),contentBoxSize:ec(),contentRect:new Sb(0,0,0,0)}),Eb=function(e,t){if(t===void 0&&(t=!1),zd.has(e)&&!t)return zd.get(e);if(Cb(e))return zd.set(e,bb),bb;var r=getComputedStyle(e),a=Bf(e)&&e.ownerSVGElement&&e.getBBox(),l=!i6&&r.boxSizing==="border-box",o=t6.test(r.writingMode||""),c=!a&&yb.test(r.overflowY||""),n=!a&&yb.test(r.overflowX||""),u=a?0:ba(r.paddingTop),p=a?0:ba(r.paddingRight),g=a?0:ba(r.paddingBottom),m=a?0:ba(r.paddingLeft),y=a?0:ba(r.borderTopWidth),x=a?0:ba(r.borderRightWidth),w=a?0:ba(r.borderBottomWidth),k=a?0:ba(r.borderLeftWidth),S=m+p,P=u+g,E=k+x,L=y+w,s=n?e.offsetHeight-L-e.clientHeight:0,h=c?e.offsetWidth-E-e.clientWidth:0,v=l?S+E:0,d=l?P+L:0,_=a?a.width:ba(r.width)-v-h,C=a?a.height:ba(r.height)-d-s,N=_+S+h+E,G=C+P+s+L,q=zs({devicePixelContentBoxSize:ec(Math.round(_*devicePixelRatio),Math.round(C*devicePixelRatio),o),borderBoxSize:ec(N,G,o),contentBoxSize:ec(_,C,o),contentRect:new Sb(m,u,_,C)});return zd.set(e,q),q},Tb=function(e,t,r){var a=Eb(e,r),l=a.borderBoxSize,o=a.contentBoxSize,c=a.devicePixelContentBoxSize;switch(t){case hu.DEVICE_PIXEL_CONTENT_BOX:return c;case hu.BORDER_BOX:return l;default:return o}},r6=function(){function e(t){var r=Eb(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=zs([r.borderBoxSize]),this.contentBoxSize=zs([r.contentBoxSize]),this.devicePixelContentBoxSize=zs([r.devicePixelContentBoxSize])}return e}(),Pb=function(e){if(Cb(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},n6=function(){var e=1/0,t=[];Fs.forEach(function(o){if(o.activeTargets.length!==0){var c=[];o.activeTargets.forEach(function(n){var u=new r6(n.target),p=Pb(n.target);c.push(u),n.lastReportedSize=Tb(n.target,n.observedBox),p<e&&(e=p)}),t.push(function(){o.callback.call(o.observer,c,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var r=0,a=t;r<a.length;r++){var l=a[r];l()}return e},wb=function(e){Fs.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(r){r.isActive()&&(Pb(r.target)>e?t.activeTargets.push(r):t.skippedTargets.push(r))})})},o6=function(){var e=0;for(wb(e);X4();)e=n6(),wb(e);return Z4()&&J4(),e>0},$b=[],a6=function(){return $b.splice(0).forEach(function(e){return e()})},s6=function(e){if(!Df){var t=0,r=document.createTextNode(""),a={characterData:!0};new MutationObserver(function(){return a6()}).observe(r,a),Df=function(){r.textContent="".concat(t?t--:t++)}}$b.push(e),Df()},l6=function(e){s6(function(){requestAnimationFrame(e)})},Wd=0,c6=function(){return!!Wd},u6=250,d6={attributes:!0,characterData:!0,childList:!0,subtree:!0},xb=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],_b=function(e){return e===void 0&&(e=0),Date.now()+e},jf=!1,h6=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=u6),!jf){jf=!0;var a=_b(t);l6(function(){var l=!1;try{l=o6()}finally{if(jf=!1,t=a-_b(),!c6())return;l?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,d6)};document.body?r():du.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),xb.forEach(function(r){return du.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),xb.forEach(function(r){return du.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),Nf=new h6,kb=function(e){!Wd&&e>0&&Nf.start(),Wd+=e,!Wd&&Nf.stop()},p6=function(e){return!Bf(e)&&!e6(e)&&getComputedStyle(e).display==="inline"},f6=function(){function e(t,r){this.target=t,this.observedBox=r||hu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Tb(this.target,this.observedBox,!0);return p6(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),m6=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),Ud=new WeakMap,Ab=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},Vd=function(){function e(){}return e.connect=function(t,r){var a=new m6(t,r);Ud.set(t,a)},e.observe=function(t,r,a){var l=Ud.get(t),o=l.observationTargets.length===0;Ab(l.observationTargets,r)<0&&(o&&Fs.push(l),l.observationTargets.push(new f6(r,a&&a.box)),kb(1),Nf.schedule())},e.unobserve=function(t,r){var a=Ud.get(t),l=Ab(a.observationTargets,r),o=a.observationTargets.length===1;l>=0&&(o&&Fs.splice(Fs.indexOf(a),1),a.observationTargets.splice(l,1),kb(-1))},e.disconnect=function(t){var r=this,a=Ud.get(t);a.observationTargets.slice().forEach(function(l){return r.unobserve(t,l.target)}),a.activeTargets.splice(0,a.activeTargets.length)},e}(),Lb=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Vd.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!vb(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Vd.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!vb(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Vd.unobserve(this,t)},e.prototype.disconnect=function(){Vd.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()});var Mb=Kt(()=>{Ob()});var g6,Ib=Kt(()=>{Mb();g6=window.ResizeObserver||Lb;window.ResizeObserver=g6});var Ro,Us=Kt(()=>{Ro=class{constructor(){this.resizeObserver=new ResizeObserver(e=>{window.requestAnimationFrame(()=>{for(let t of e){let r=this.resizeHandlers.get(t.target);r==null||r.forEach(a=>{a.handleResize(t)})}})}),this.resizeHandlers=new Map}shutdown(){this.resizeHandlers.forEach((e,t)=>{this.resizeObserver.unobserve(t)}),this.resizeHandlers.clear()}addObserver(e){var t;let r=(t=this.resizeHandlers.get(e.target))!==null&&t!==void 0?t:new Set;r.add(e.handler),this.resizeHandlers.set(e.target,r),this.resizeObserver.observe(e.target,e.options)}removeObserver(e){let t=this.resizeHandlers.get(e.target);t&&(t.delete(e.handler),t.size===0&&(this.resizeObserver.unobserve(e.target),this.resizeHandlers.delete(e.target)))}}});var Rb=Kt(()=>{Us()});var qd=Kt(()=>{Ib();Rb();window.SharedResizeObserver=Ro});var Gd,na,Hf=Kt(()=>{Hn();xo();Gd=class e{static get_banner_height(){return xe("#donate_banner").outerHeight()}static postMessage(t,r=0){Ci("postin",{event:t,incomingValue:r});let a=e.get_banner_height(),l=e.preventResizeEventResponse?e.calculateBannerWithReminderForm():0,o=Math.max(l,r);window.parent.postMessage(JSON.stringify({event:t,value:o,bannerHeight:a}),"*"),t==="close modal"&&e.adjust_height()}static openReminderForm(){e.preventResizeEventResponse=!0,e.postMessage("set height"),window.scrollTo(0,0)}static closeReminderForm(){e.preventResizeEventResponse=!1,e.postMessage("close modal"),window.scrollTo(0,0)}static onSubmitReminderForm(t=0){e.preventResizeEventResponse=!1,e.postMessage("set cookie",t)}static calculateBannerWithReminderForm(){let t=document.querySelector(".js-donate-banner"),r=document.querySelector(".js-donate-form"),a=document.querySelector(".js-donate-later-dropdown"),l=15,o=t.offsetHeight,c=a.offsetHeight,n=r.offsetHeight+r.offsetTop,u=o-n;return o-u+c+l}static adjust_height(t){let r=t!=null?t:e.get_banner_height();e.postMessage("set height",r),Ci({banner_height:r}),this.currentBannerHeight=r}static init(){Ci("donato tornado"),xe(window).on("resize  orientationchange",()=>{e.fixBannerHeightIfNeeded(),clearTimeout(e.adjust_height_throttler),e.adjust_height_throttler=setTimeout(e.adjust_height,100)}),this.currentWindowWidth=window.innerWidth,this.currentBannerHeight=e.get_banner_height(),e.adjust_height()}static fixBannerHeightIfNeeded(){if(window.innerWidth===this.currentWindowWidth){let t=e.get_banner_height();t!==this.currentBannerHeight&&(Ci("Performing banner height correction: current, new",this.currentBannerHeight,t),e.adjust_height(t))}else this.currentWindowWidth=window.innerWidth}};Gd.preventResizeEventResponse=!1;na=Gd});var Vs,Ff=Kt(()=>{Vs=class{constructor(t){this.analyticsBackend=t||window.archive_analytics}send_event(t,r,a,l){this.analyticsBackend&&this.analyticsBackend.send_event(t,r,a,l)}send_event_no_sampling(t,r,a,l){this.analyticsBackend&&this.analyticsBackend.send_event_no_sampling(t,r,a,l)}}});var v6,Yd,Kd,Db=Kt(()=>{Hf();v6=27,Yd="RemindForm",Kd=class e{constructor(t,r,a){this.$form=t,this.$trigger=r,this.setDonationCookie=a||$.noop}static validateDonorEmail(t){return/.+@.+\..+/.test(t)}static validateNameField(t){return!/[<>&:?'"]/.test(t)}setup(){let t=$("#donate_dropdown"),r=$("#close_donate_dropdown"),a=this.$form.attr("data-base-url")||"https://archive.org";this.$trigger.on(`click.${Yd}`,l=>{t.hasClass("is-open")||t.addClass("is-open"),this.$form.find("input").filter((o,c)=>!c.value).eq(0).focus(),na.openReminderForm(),l.preventDefault()}),r.on(`click.${Yd}`,()=>{t.removeClass("is-open"),na.closeReminderForm(),this.$trigger.focus()}),$(window).on(`keydown.${Yd}`,l=>{t.hasClass("is-open")&&l.keyCode===v6&&r.click()}),this.$form.on(`submit.${Yd}`,l=>{if(l.preventDefault(),!e.validateDonorEmail(this.$form.find("[name=email]").val())){this.$form.find(".error-email").show();return}["first_name","last_name"].forEach(c=>{e.validateNameField(this.$form.find(`[name='${c}']`).val())||this.$form.find(`[name='${c}']`).val("")});let o=this.$trigger.attr("data-source-context")||"";typeof archive_analytics!="undefined"&&archive_analytics.send_event_no_sampling(`DonateBanner${o}`,"MaybeLaterFormSubmit",window.location.pathname),this.sendForm(a)})}sendForm(t){let r=$("#donate_reminder_success").addClass("hidden"),a=(l,o)=>`<h2>${l}</h2><p>${o}</p>`;$.ajax({type:"post",url:`${t}/donate/remindDonate.php`,data:this.$form.serialize(),success:()=>{this.$form.addClass("hidden"),r.html(a("Thank You!","We'll be in touch in the next few days with a reminder to donate to the Internet Archive.")).removeClass("hidden");let l=90;this.setDonationCookie(l),na.onSubmitReminderForm(l)},error:()=>{r.html(a("Hmmm...","Something is amiss. Can you try again in a little while?")).removeClass("hidden")}})}}});var zf,jb=Kt(()=>{Xl();ab();pb();mb();qd();Hn();Hf();Ff();Db();console==null||console.log("donation-banner loaded",{version:"1.1.1"});zf=class e{addCloseSupport(){let t=function(l){l.stopPropagation();let o=42;na.postMessage("hide banner",o),this.bannerElement.style.display="none",this.logEvent("CloseClicked",!0),this.setDonationCookie(o)},r=document.getElementById("donate-close-button");r&&r.addEventListener("click",t.bind(this))}initialize(){if(!this.bannerElement)return;this.donationInfoError=!1,this.addCloseSupport(),this.setupDonationForm(),this.setupThermometer(),this.setupMinimalDonateButton(),this.setupSnow(),na.init(),new Kd(xe("#donate_reminder_form"),xe("#donate_later"),this.setDonationCookie).setup(),this.logEvent("Viewed")}setDonationCookie(t){e.setDonationCookie(t),na.postMessage("set cookie",t)}get bannerElement(){return document.querySelector("#donate_banner")}get donationFormElement(){return document.querySelector("donation-form-edit-donation")}get bannerThermometerElement(){return document.querySelector("donation-banner-thermometer")}get minimalDonateButtonElement(){return document.querySelector("#minimal-donate-button")}get donationOrigin(){let t=this.bannerElement,r=t.dataset.exp,a=t.dataset.variant,l;try{l=window.parent.innerWidth}catch(n){l=na.currentWindowWidth}let o=l<768?"Mobile":"Desktop",c=`DonateBanner-${r}-${a}-${o}`;return console.log("PSA Donation Banner donationOrigin: ",{responsiveMode:o,currentWindowWidth:l,origin:c}),c}static setDonationCookie(t){let r=parseInt(t,10);if(!r)return;let a={path:"/",expires:r,domain:".archive.org"};qn.set("donation","x",a),qn.set("donation","x",xe.extend(a,{domain:".openlibrary.org"}))}setupSnow(){if(this.bannerElement.dataset.snowfall!=="on")return;new lu({container:document.querySelector("#donate-body-background-layer2"),count:100,minOpacity:.08,maxOpacity:.15,minSize:4,maxSize:8,rotation:!0,speed:.15}).start()}setupMinimalDonateButton(){let t=this.minimalDonateButtonElement;t&&t.addEventListener("click",()=>{this.logEvent("MinimalDonateButtonClicked"),na.postMessage("set cookie",30),window.top.location=this.baseDonatePageUrl})}get baseDonatePageUrl(){let t=this.bannerElement,r=t.dataset.baseurl,a=t.dataset.donationsourcedata,l=t.dataset.variantdollaramounts,o=t.dataset.variantamountlayout,c=t.dataset.variantfrequencymode,n=t.dataset.bannertemplate,{platform:u}=t.dataset,p=new URLSearchParams;return this.donationOrigin&&p.set("origin",this.donationOrigin),a&&p.set("referer",a),l&&p.set("dollarAmounts",l),o&&p.set("amountLayout",o),c&&p.set("frequencyMode",c),u&&p.set("platform",u),n&&p.set("bannerTemplate",n),`${r}/donate?${p.toString()}`}openPsaUrl(){let t=this.donationFormElement;if(!t)return;let{donationInfo:r}=t,a=`${this.baseDonatePageUrl}&amt=${r.amount}`;this.logEvent("ContinueClicked"),this.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:a}),window.top.location=a}setupDonationForm(){let t=this.donationFormElement,{donationInfo:r}=t;if(this.bannerElement.classList.contains("formdesign-psa")){this.bannerElement.addEventListener("click",()=>{this.openPsaUrl()});let o=document.querySelectorAll(".psa-cta");if(console.log("PSA Donation Banner CTA: ",o),o.length===0)return;o.forEach(c=>{c.addEventListener("click",n=>{this.openPsaUrl()})});return}t.addEventListener("donationInfoChanged",o=>{this.donationInfoError=!1,r=o.detail.donationInfo;let c=this.bannerElement.classList.contains("formdesign-minimal");if(console==null||console.log("donationInfoChanged",Dr({isMinimalBanner:c},r)),c){let n=`${this.baseDonatePageUrl}&amt=${r.amount}`;this.logEvent("ContinueClicked"),this.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:n}),window.top.location=n}}),t.addEventListener("editDonationError",o=>{this.donationInfoError=!0});let l=document.querySelector("#continue-button");l&&l.addEventListener("click",()=>{if(this.donationInfoError)return;this.logEvent("ContinueClicked");let o=this.bannerElement.dataset,c=encodeURIComponent(o.selectedtextcolor),n=encodeURIComponent(o.selectedfillcolor),u=encodeURIComponent(o.donatepageselectedfillcolor),p=encodeURIComponent(o.donatepageselectedtextcolor),g=encodeURIComponent(o.formtextcolor),m=o.selectedtextcolor?`&selectedTextColor=${c}`:"",y=o.selectedfillcolor?`&selectedFillColor=${n}`:"";o.donatepageselectedfillcolor&&(y=`&selectedFillColor=${u}`),o.donatepageselectedtextcolor&&(m=`&selectedTextColor=${p}`);let x=o.formtextcolor?`&formTextColor=${g}`:"",w=`${this.baseDonatePageUrl}&amt=${r.amount}&contrib_type=${r.donationType}&coverFees=${r.coverFees}${m}${y}${x}`;na.postMessage("set cookie",30),window.top.location=w})}setupThermometer(){let t=this.bannerThermometerElement;if(!t)return;let r=new Ro;t.resizeObserver=r}logEvent(t,r=!1){let a=new Vs,l=this.bannerElement,o=l.dataset.debugmode==="true",{platform:c}=l.dataset,n=o?"DonateBannerDebug":"DonateBanner";r||t==="Viewed"&&(c==="ia"||c==="wb")?a.send_event(n,t,this.donationOrigin):a.send_event_no_sampling(n,t,this.donationOrigin)}};document.addEventListener("DOMContentLoaded",()=>{new zf().initialize()})});var y6,b6,w6,jn,x6,_6,k6,Xd=Kt(()=>{y6=e=>typeof e!="string"&&"strTag"in e,b6=(e,t,r)=>{let a=e[0];for(let l=1;l<e.length;l++)a+=t[r?r[l-1]:l-1],a+=e[l];return a},w6=e=>y6(e)?b6(e.strings,e.values):e,jn=w6,x6=class{constructor(){this.settled=!1,this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}},_6=[];for(let e=0;e<256;e++)_6[e]=(e>>4&15).toString(16)+(e&15).toString(16);k6=new x6;k6.resolve();});var ls,wa,xa,tc=Kt(()=>{ls={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},wa=e=>(...t)=>({_$litDirective$:e,values:t}),xa=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};});function Yb(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Nb!==void 0?Nb.createHTML(t):t}function nc(e,t,r=e,a){var l,o,c,n;if(t===rc)return t;let u=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,p=fu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,a)),a!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[a]=u:r._$Cl=u),u!==void 0&&(t=nc(e,u._$AS(e,t.values),u,a)),t}var Uf,Zd,ic,Nb,qf,cs,Vb,A6,Gs,Jd,fu,Wb,S6,Vf,pu,Bb,Hb,Ws,Fb,zb,qb,Gb,IM,RM,rc,Wn,Ub,qs,C6,Gf,E6,Xb,Qd,T6,P6,$6,L6,O6,Wf,Yf,us,Jb=Kt(()=>{tc();Zd=window,ic=Zd.trustedTypes,Nb=ic?ic.createPolicy("lit-html",{createHTML:e=>e}):void 0,qf="$lit$",cs=`lit$${(Math.random()+"").slice(9)}$`,Vb="?"+cs,A6=`<${Vb}>`,Gs=document,Jd=()=>Gs.createComment(""),fu=e=>e===null||typeof e!="object"&&typeof e!="function",Wb=Array.isArray,S6=e=>Wb(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Vf=`[ 	
\f\r]`,pu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Bb=/-->/g,Hb=/>/g,Ws=RegExp(`>|${Vf}(?:([^\\s"'>=/]+)(${Vf}*=${Vf}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Fb=/'/g,zb=/"/g,qb=/^(?:script|style|textarea|title)$/i,Gb=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),IM=Gb(1),RM=Gb(2),rc=Symbol.for("lit-noChange"),Wn=Symbol.for("lit-nothing"),Ub=new WeakMap,qs=Gs.createTreeWalker(Gs,129,null,!1);C6=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",c=pu;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===pu?g[1]==="!--"?c=Bb:g[1]!==void 0?c=Hb:g[2]!==void 0?(qb.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=Ws):g[3]!==void 0&&(c=Ws):c===Ws?g[0]===">"?(c=l!=null?l:pu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?Ws:g[3]==='"'?zb:Fb):c===zb||c===Fb?c=Ws:c===Bb||c===Hb?c=pu:(c=Ws,l=void 0);let x=c===Ws&&e[n+1].startsWith("/>")?" ":"";o+=c===pu?u+A6:m>=0?(a.push(p),u.slice(0,m)+qf+u.slice(m)+cs+x):u+cs+(m===-2?(a.push(void 0),n):x)}return[Yb(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Gf=class Kb{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=C6(t,r);if(this.el=Kb.createElement(p,a),qs.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=qs.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(qf)||y.startsWith(cs)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+qf).split(cs),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?T6:k[1]==="?"?$6:k[1]==="@"?L6:Qd})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(qb.test(l.tagName)){let m=l.textContent.split(cs),y=m.length-1;if(y>0){l.textContent=ic?ic.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Jd()),qs.nextNode(),u.push({type:2,index:++o});l.append(m[y],Jd())}}}else if(l.nodeType===8)if(l.data===Vb)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(cs,m+1))!==-1;)u.push({type:7,index:o}),m+=cs.length-1}o++}}static createElement(t,r){let a=Gs.createElement("template");return a.innerHTML=t,a}};E6=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Gs).importNode(r,!0);qs.currentNode=l;let o=qs.nextNode(),c=0,n=0,u=a[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new Xb(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new O6(o,this,e)),this._$AV.push(p),u=a[++n]}c!==(u==null?void 0:u.index)&&(o=qs.nextNode(),c++)}return qs.currentNode=Gs,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Xb=class Zb{constructor(t,r,a,l){var o;this.type=2,this._$AH=Wn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=nc(this,t,r),fu(t)?t===Wn||t==null||t===""?(this._$AH!==Wn&&this._$AR(),this._$AH=Wn):t!==this._$AH&&t!==rc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):S6(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Wn&&fu(this._$AH)?this._$AA.nextSibling.data=t:this.$(Gs.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Gf.createElement(Yb(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let c=new E6(o,this),n=c.u(this.options);c.v(a),this.$(n),this._$AH=c}}_$AC(t){let r=Ub.get(t.strings);return r===void 0&&Ub.set(t.strings,r=new Gf(t)),r}T(t){Wb(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new Zb(this.k(Jd()),this.k(Jd()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Qd=class{constructor(e,t,r,a,l){this.type=1,this._$AH=Wn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Wn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=nc(this,e,t,0),o=!fu(e)||e!==this._$AH&&e!==rc,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=nc(this,c[r+n],t,n),u===rc&&(u=this._$AH[n]),o||(o=!fu(u)||u!==this._$AH[n]),u===Wn?e=Wn:e!==Wn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!a&&this.j(e)}j(e){e===Wn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},T6=class extends Qd{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Wn?void 0:e}},P6=ic?ic.emptyScript:"",$6=class extends Qd{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Wn?this.element.setAttribute(this.name,P6):this.element.removeAttribute(this.name)}},L6=class extends Qd{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=nc(this,e,t,0))!==null&&r!==void 0?r:Wn)===rc)return;let a=this._$AH,l=e===Wn&&a!==Wn||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==Wn&&(a===Wn||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},O6=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){nc(this,e)}},Wf=Zd.litHtmlPolyfillSupport;Wf==null||Wf(Gf,Xb),((Uf=Zd.litHtmlVersions)!==null&&Uf!==void 0?Uf:Zd.litHtmlVersions=[]).push("2.8.0");Yf=class extends xa{constructor(e){if(super(e),this.et=Wn,e.type!==ls.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===Wn||e==null)return this.ft=void 0,this.et=e;if(e===rc)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;let t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}};Yf.directiveName="unsafeHTML",Yf.resultType=1;us=wa(Yf);});var ds=Kt(()=>{Jb()});function yo(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return em(e,t,a)}}function H6(e){return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return tm(e,r)}}function rn(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ih;Qb&&Qb(e,null);let a=t.length;for(;a--;){let l=t[a];if(typeof l=="string"){let o=r(l);o!==l&&(M6(t)||(t[a]=o),l=o)}e[l]=!0}return e}function F6(e){for(let t=0;t<e.length;t++)oa(e,t)||(e[t]=null);return e}function Na(e){let t=c1(null);for(let[r,a]of l1(e))oa(e,r)&&(Array.isArray(a)?t[r]=F6(a):a&&typeof a=="object"&&a.constructor===Object?t[r]=Na(a):t[r]=a);return t}function yu(e,t){for(;e!==null;){let a=R6(e,t);if(a){if(a.get)return yo(a.get);if(typeof a.value=="function")return yo(a.value)}e=I6(e)}function r(){return null}return r}function h1(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J6(),t=Xe=>h1(Xe);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==bu.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e,a=r,l=a.currentScript,{DocumentFragment:o,HTMLTemplateElement:c,Node:n,Element:u,NodeFilter:p,NamedNodeMap:g=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:y,trustedTypes:x}=e,w=u.prototype,k=yu(w,"cloneNode"),S=yu(w,"remove"),P=yu(w,"nextSibling"),E=yu(w,"childNodes"),L=yu(w,"parentNode");if(typeof c=="function"){let Xe=r.createElement("template");Xe.content&&Xe.content.ownerDocument&&(r=Xe.content.ownerDocument)}let s,h="",{implementation:v,createNodeIterator:d,createDocumentFragment:_,getElementsByTagName:C}=r,{importNode:N}=a,G=s1();t.isSupported=typeof l1=="function"&&typeof L=="function"&&v&&v.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:q,ERB_EXPR:K,TMPLIT_EXPR:ie,DATA_ATTR:Q,ARIA_ATTR:te,IS_SCRIPT_OR_DATA:Oe,ATTR_WHITESPACE:fe,CUSTOM_ELEMENT:W}=a1,{IS_ALLOWED_URI:ae}=a1,de=null,Z=rn({},[...i1,...Xf,...Zf,...Jf,...r1]),ye=null,Y=rn({},[...n1,...Qf,...o1,...th]),ce=Object.seal(c1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ze=null,ft=null,ct=!0,Ge=!0,Ae=!1,Me=!0,De=!1,Ne=!0,Ve=!1,rt=!1,je=!1,ee=!1,J=!1,qe=!1,_t=!0,we=!1,$e="user-content-",at=!0,Ee=!1,tt={},nt=null,Vt=rn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),dt=null,vt=rn({},["audio","video","img","source","image","track"]),Rt=null,ii=rn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ai="http://www.w3.org/1998/Math/MathML",ui="http://www.w3.org/2000/svg",Mt="http://www.w3.org/1999/xhtml",It=Mt,Et=!1,Ct=null,St=rn({},[ai,ui,Mt],Kf),I=rn({},["mi","mo","mn","ms","mtext"]),We=rn({},["annotation-xml"]),ke=rn({},["title","style","font","a","script"]),Ye=null,Qe=["application/xhtml+xml","text/html"],ht="text/html",oe=null,Le=null,ze=r.createElement("form"),yt=function(Xe){return Xe instanceof RegExp||Xe instanceof Function},ut=function(){let Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Le&&Le===Xe)){if((!Xe||typeof Xe!="object")&&(Xe={}),Xe=Na(Xe),Ye=Qe.indexOf(Xe.PARSER_MEDIA_TYPE)===-1?ht:Xe.PARSER_MEDIA_TYPE,oe=Ye==="application/xhtml+xml"?Kf:ih,de=oa(Xe,"ALLOWED_TAGS")?rn({},Xe.ALLOWED_TAGS,oe):Z,ye=oa(Xe,"ALLOWED_ATTR")?rn({},Xe.ALLOWED_ATTR,oe):Y,Ct=oa(Xe,"ALLOWED_NAMESPACES")?rn({},Xe.ALLOWED_NAMESPACES,Kf):St,Rt=oa(Xe,"ADD_URI_SAFE_ATTR")?rn(Na(ii),Xe.ADD_URI_SAFE_ATTR,oe):ii,dt=oa(Xe,"ADD_DATA_URI_TAGS")?rn(Na(vt),Xe.ADD_DATA_URI_TAGS,oe):vt,nt=oa(Xe,"FORBID_CONTENTS")?rn({},Xe.FORBID_CONTENTS,oe):Vt,Ze=oa(Xe,"FORBID_TAGS")?rn({},Xe.FORBID_TAGS,oe):Na({}),ft=oa(Xe,"FORBID_ATTR")?rn({},Xe.FORBID_ATTR,oe):Na({}),tt=oa(Xe,"USE_PROFILES")?Xe.USE_PROFILES:!1,ct=Xe.ALLOW_ARIA_ATTR!==!1,Ge=Xe.ALLOW_DATA_ATTR!==!1,Ae=Xe.ALLOW_UNKNOWN_PROTOCOLS||!1,Me=Xe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,De=Xe.SAFE_FOR_TEMPLATES||!1,Ne=Xe.SAFE_FOR_XML!==!1,Ve=Xe.WHOLE_DOCUMENT||!1,ee=Xe.RETURN_DOM||!1,J=Xe.RETURN_DOM_FRAGMENT||!1,qe=Xe.RETURN_TRUSTED_TYPE||!1,je=Xe.FORCE_BODY||!1,_t=Xe.SANITIZE_DOM!==!1,we=Xe.SANITIZE_NAMED_PROPS||!1,at=Xe.KEEP_CONTENT!==!1,Ee=Xe.IN_PLACE||!1,ae=Xe.ALLOWED_URI_REGEXP||u1,It=Xe.NAMESPACE||Mt,I=Xe.MATHML_TEXT_INTEGRATION_POINTS||I,We=Xe.HTML_INTEGRATION_POINTS||We,ce=Xe.CUSTOM_ELEMENT_HANDLING||{},Xe.CUSTOM_ELEMENT_HANDLING&&yt(Xe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=Xe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Xe.CUSTOM_ELEMENT_HANDLING&&yt(Xe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=Xe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Xe.CUSTOM_ELEMENT_HANDLING&&typeof Xe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=Xe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(Ge=!1),J&&(ee=!0),tt&&(de=rn({},r1),ye=[],tt.html===!0&&(rn(de,i1),rn(ye,n1)),tt.svg===!0&&(rn(de,Xf),rn(ye,Qf),rn(ye,th)),tt.svgFilters===!0&&(rn(de,Zf),rn(ye,Qf),rn(ye,th)),tt.mathMl===!0&&(rn(de,Jf),rn(ye,o1),rn(ye,th))),Xe.ADD_TAGS&&(de===Z&&(de=Na(de)),rn(de,Xe.ADD_TAGS,oe)),Xe.ADD_ATTR&&(ye===Y&&(ye=Na(ye)),rn(ye,Xe.ADD_ATTR,oe)),Xe.ADD_URI_SAFE_ATTR&&rn(Rt,Xe.ADD_URI_SAFE_ATTR,oe),Xe.FORBID_CONTENTS&&(nt===Vt&&(nt=Na(nt)),rn(nt,Xe.FORBID_CONTENTS,oe)),at&&(de["#text"]=!0),Ve&&rn(de,["html","head","body"]),de.table&&(rn(de,["tbody"]),delete Ze.tbody),Xe.TRUSTED_TYPES_POLICY){if(typeof Xe.TRUSTED_TYPES_POLICY.createHTML!="function")throw vu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Xe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw vu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');s=Xe.TRUSTED_TYPES_POLICY,h=s.createHTML("")}else s===void 0&&(s=Q6(x,l)),s!==null&&typeof h=="string"&&(h=s.createHTML(""));vo&&vo(Xe),Le=Xe}},Tt=rn({},[...Xf,...Zf,...z6]),Ut=rn({},[...Jf,...U6]),Jt=function(Xe){let ni=L(Xe);(!ni||!ni.tagName)&&(ni={namespaceURI:It,tagName:"template"});let ti=ih(Xe.tagName),Ai=ih(ni.tagName);return Ct[Xe.namespaceURI]?Xe.namespaceURI===ui?ni.namespaceURI===Mt?ti==="svg":ni.namespaceURI===ai?ti==="svg"&&(Ai==="annotation-xml"||I[Ai]):!!Tt[ti]:Xe.namespaceURI===ai?ni.namespaceURI===Mt?ti==="math":ni.namespaceURI===ui?ti==="math"&&We[Ai]:!!Ut[ti]:Xe.namespaceURI===Mt?ni.namespaceURI===ui&&!We[Ai]||ni.namespaceURI===ai&&!I[Ai]?!1:!Ut[ti]&&(ke[ti]||!Tt[ti]):!!(Ye==="application/xhtml+xml"&&Ct[Xe.namespaceURI]):!1},Lt=function(Xe){mu(t.removed,{element:Xe});try{L(Xe).removeChild(Xe)}catch(ni){S(Xe)}},jt=function(Xe,ni){try{mu(t.removed,{attribute:ni.getAttributeNode(Xe),from:ni})}catch(ti){mu(t.removed,{attribute:null,from:ni})}if(ni.removeAttribute(Xe),Xe==="is")if(ee||J)try{Lt(ni)}catch(ti){}else try{ni.setAttribute(Xe,"")}catch(ti){}},Je=function(Xe){let ni=null,ti=null;if(je)Xe="<remove></remove>"+Xe;else{let ci=t1(Xe,/^[\r\n\t ]+/);ti=ci&&ci[0]}Ye==="application/xhtml+xml"&&It===Mt&&(Xe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Xe+"</body></html>");let Ai=s?s.createHTML(Xe):Xe;if(It===Mt)try{ni=new y().parseFromString(Ai,Ye)}catch(ci){}if(!ni||!ni.documentElement){ni=v.createDocument(It,"template",null);try{ni.documentElement.innerHTML=Et?h:Ai}catch(ci){}}let qt=ni.body||ni.documentElement;return Xe&&ti&&qt.insertBefore(r.createTextNode(ti),qt.childNodes[0]||null),It===Mt?C.call(ni,Ve?"html":"body")[0]:Ve?ni.documentElement:qt},Re=function(Xe){return d.call(Xe.ownerDocument||Xe,Xe,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},Be=function(Xe){return Xe instanceof m&&(typeof Xe.nodeName!="string"||typeof Xe.textContent!="string"||typeof Xe.removeChild!="function"||!(Xe.attributes instanceof g)||typeof Xe.removeAttribute!="function"||typeof Xe.setAttribute!="function"||typeof Xe.namespaceURI!="string"||typeof Xe.insertBefore!="function"||typeof Xe.hasChildNodes!="function")},it=function(Xe){return typeof n=="function"&&Xe instanceof n};function Pt(Xe,ni,ti){eh(Xe,Ai=>{Ai.call(t,ni,ti,Le)})}let Ht=function(Xe){let ni=null;if(Pt(G.beforeSanitizeElements,Xe,null),Be(Xe))return Lt(Xe),!0;let ti=oe(Xe.nodeName);if(Pt(G.uponSanitizeElement,Xe,{tagName:ti,allowedTags:de}),Ne&&Xe.hasChildNodes()&&!it(Xe.firstElementChild)&&go(/<[/\w!]/g,Xe.innerHTML)&&go(/<[/\w!]/g,Xe.textContent)||Xe.nodeType===bu.progressingInstruction||Ne&&Xe.nodeType===bu.comment&&go(/<[/\w]/g,Xe.data))return Lt(Xe),!0;if(!de[ti]||Ze[ti]){if(!Ze[ti]&&xt(ti)&&(ce.tagNameCheck instanceof RegExp&&go(ce.tagNameCheck,ti)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(ti)))return!1;if(at&&!nt[ti]){let Ai=L(Xe)||Xe.parentNode,qt=E(Xe)||Xe.childNodes;if(qt&&Ai){let ci=qt.length;for(let Ti=ci-1;Ti>=0;--Ti){let Mi=k(qt[Ti],!0);Mi.__removalCount=(Xe.__removalCount||0)+1,Ai.insertBefore(Mi,P(Xe))}}}return Lt(Xe),!0}return Xe instanceof u&&!Jt(Xe)||(ti==="noscript"||ti==="noembed"||ti==="noframes")&&go(/<\/no(script|embed|frames)/i,Xe.innerHTML)?(Lt(Xe),!0):(De&&Xe.nodeType===bu.text&&(ni=Xe.textContent,eh([q,K,ie],Ai=>{ni=gu(ni,Ai," ")}),Xe.textContent!==ni&&(mu(t.removed,{element:Xe.cloneNode()}),Xe.textContent=ni)),Pt(G.afterSanitizeElements,Xe,null),!1)},et=function(Xe,ni,ti){if(_t&&(ni==="id"||ni==="name")&&(ti in r||ti in ze))return!1;if(!(Ge&&!ft[ni]&&go(Q,ni))&&!(ct&&go(te,ni))){if(!ye[ni]||ft[ni]){if(!(xt(Xe)&&(ce.tagNameCheck instanceof RegExp&&go(ce.tagNameCheck,Xe)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(Xe))&&(ce.attributeNameCheck instanceof RegExp&&go(ce.attributeNameCheck,ni)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(ni))||ni==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&go(ce.tagNameCheck,ti)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(ti))))return!1}else if(!Rt[ni]&&!go(ae,gu(ti,fe,""))&&!((ni==="src"||ni==="xlink:href"||ni==="href")&&Xe!=="script"&&N6(ti,"data:")===0&&dt[Xe])&&!(Ae&&!go(Oe,gu(ti,fe,"")))&&ti)return!1}return!0},xt=function(Xe){return Xe!=="annotation-xml"&&t1(Xe,W)},kt=function(Xe){Pt(G.beforeSanitizeAttributes,Xe,null);let{attributes:ni}=Xe;if(!ni||Be(Xe))return;let ti={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye,forceKeepAttr:void 0},Ai=ni.length;for(;Ai--;){let qt=ni[Ai],{name:ci,namespaceURI:Ti,value:Mi}=qt,ir=oe(ci),Ki=Mi,Gi=ci==="value"?Ki:B6(Ki);if(ti.attrName=ir,ti.attrValue=Gi,ti.keepAttr=!0,ti.forceKeepAttr=void 0,Pt(G.uponSanitizeAttribute,Xe,ti),Gi=ti.attrValue,we&&(ir==="id"||ir==="name")&&(jt(ci,Xe),Gi=$e+Gi),Ne&&go(/((--!?|])>)|<\/(style|title)/i,Gi)){jt(ci,Xe);continue}if(ti.forceKeepAttr)continue;if(!ti.keepAttr){jt(ci,Xe);continue}if(!Me&&go(/\/>/i,Gi)){jt(ci,Xe);continue}De&&eh([q,K,ie],tr=>{Gi=gu(Gi,tr," ")});let Sr=oe(Xe.nodeName);if(!et(Sr,ir,Gi)){jt(ci,Xe);continue}if(s&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!Ti)switch(x.getAttributeType(Sr,ir)){case"TrustedHTML":{Gi=s.createHTML(Gi);break}case"TrustedScriptURL":{Gi=s.createScriptURL(Gi);break}}if(Gi!==Ki)try{Ti?Xe.setAttributeNS(Ti,ci,Gi):Xe.setAttribute(ci,Gi),Be(Xe)?Lt(Xe):e1(t.removed)}catch(tr){jt(ci,Xe)}}Pt(G.afterSanitizeAttributes,Xe,null)},Xt=function Xe(ni){let ti=null,Ai=Re(ni);for(Pt(G.beforeSanitizeShadowDOM,ni,null);ti=Ai.nextNode();)Pt(G.uponSanitizeShadowNode,ti,null),Ht(ti),kt(ti),ti.content instanceof o&&Xe(ti.content);Pt(G.afterSanitizeShadowDOM,ni,null)};return t.sanitize=function(Xe){let ni=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ti=null,Ai=null,qt=null,ci=null;if(Et=!Xe,Et&&(Xe="<!-->"),typeof Xe!="string"&&!it(Xe))if(typeof Xe.toString=="function"){if(Xe=Xe.toString(),typeof Xe!="string")throw vu("dirty is not a string, aborting")}else throw vu("toString is not a function");if(!t.isSupported)return Xe;if(rt||ut(ni),t.removed=[],typeof Xe=="string"&&(Ee=!1),Ee){if(Xe.nodeName){let ir=oe(Xe.nodeName);if(!de[ir]||Ze[ir])throw vu("root node is forbidden and cannot be sanitized in-place")}}else if(Xe instanceof n)ti=Je("<!---->"),Ai=ti.ownerDocument.importNode(Xe,!0),Ai.nodeType===bu.element&&Ai.nodeName==="BODY"||Ai.nodeName==="HTML"?ti=Ai:ti.appendChild(Ai);else{if(!ee&&!De&&!Ve&&Xe.indexOf("<")===-1)return s&&qe?s.createHTML(Xe):Xe;if(ti=Je(Xe),!ti)return ee?null:qe?h:""}ti&&je&&Lt(ti.firstChild);let Ti=Re(Ee?Xe:ti);for(;qt=Ti.nextNode();)Ht(qt),kt(qt),qt.content instanceof o&&Xt(qt.content);if(Ee)return Xe;if(ee){if(J)for(ci=_.call(ti.ownerDocument);ti.firstChild;)ci.appendChild(ti.firstChild);else ci=ti;return(ye.shadowroot||ye.shadowrootmode)&&(ci=N.call(a,ci,!0)),ci}let Mi=Ve?ti.outerHTML:ti.innerHTML;return Ve&&de["!doctype"]&&ti.ownerDocument&&ti.ownerDocument.doctype&&ti.ownerDocument.doctype.name&&go(d1,ti.ownerDocument.doctype.name)&&(Mi="<!DOCTYPE "+ti.ownerDocument.doctype.name+`>
`+Mi),De&&eh([q,K,ie],ir=>{Mi=gu(Mi,ir," ")}),s&&qe?s.createHTML(Mi):Mi},t.setConfig=function(){let Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ut(Xe),rt=!0},t.clearConfig=function(){Le=null,rt=!1},t.isValidAttribute=function(Xe,ni,ti){Le||ut({});let Ai=oe(Xe),qt=oe(ni);return et(Ai,qt,ti)},t.addHook=function(Xe,ni){typeof ni=="function"&&mu(G[Xe],ni)},t.removeHook=function(Xe,ni){if(ni!==void 0){let ti=D6(G[Xe],ni);return ti===-1?void 0:j6(G[Xe],ti,1)[0]}return e1(G[Xe])},t.removeHooks=function(Xe){G[Xe]=[]},t.removeAllHooks=function(){G=s1()},t}var l1,Qb,M6,I6,R6,vo,Vo,c1,em,tm,eh,D6,e1,mu,j6,ih,Kf,t1,gu,N6,B6,oa,go,vu,i1,Xf,Zf,z6,Jf,U6,r1,n1,Qf,o1,th,V6,W6,q6,G6,Y6,u1,K6,X6,d1,Z6,a1,bu,J6,Q6,s1,wu,rh=Kt(()=>{({entries:l1,setPrototypeOf:Qb,isFrozen:M6,getPrototypeOf:I6,getOwnPropertyDescriptor:R6}=Object),{freeze:vo,seal:Vo,create:c1}=Object,{apply:em,construct:tm}=typeof Reflect<"u"&&Reflect;vo||(vo=function(e){return e});Vo||(Vo=function(e){return e});em||(em=function(e,t,r){return e.apply(t,r)});tm||(tm=function(e,t){return new e(...t)});eh=yo(Array.prototype.forEach),D6=yo(Array.prototype.lastIndexOf),e1=yo(Array.prototype.pop),mu=yo(Array.prototype.push),j6=yo(Array.prototype.splice),ih=yo(String.prototype.toLowerCase),Kf=yo(String.prototype.toString),t1=yo(String.prototype.match),gu=yo(String.prototype.replace),N6=yo(String.prototype.indexOf),B6=yo(String.prototype.trim),oa=yo(Object.prototype.hasOwnProperty),go=yo(RegExp.prototype.test),vu=H6(TypeError);i1=vo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xf=vo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Zf=vo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),z6=vo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Jf=vo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),U6=vo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),r1=vo(["#text"]),n1=vo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qf=vo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),o1=vo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),th=vo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V6=Vo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W6=Vo(/<%[\w\W]*|[\w\W]*%>/gm),q6=Vo(/\$\{[\w\W]*/gm),G6=Vo(/^data-[\-\w.\u00B7-\uFFFF]+$/),Y6=Vo(/^aria-[\-\w]+$/),u1=Vo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K6=Vo(/^(?:\w+script|data):/i),X6=Vo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),d1=Vo(/^html$/i),Z6=Vo(/^[a-z][.\w]*(-[.\w]+)+$/i),a1=Object.freeze({__proto__:null,ARIA_ATTR:Y6,ATTR_WHITESPACE:X6,CUSTOM_ELEMENT:Z6,DATA_ATTR:G6,DOCTYPE_NAME:d1,ERB_EXPR:W6,IS_ALLOWED_URI:u1,IS_SCRIPT_OR_DATA:K6,MUSTACHE_EXPR:V6,TMPLIT_EXPR:q6}),bu={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},J6=function(){return typeof window>"u"?null:window},Q6=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null,a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(r=t.getAttribute(a));let l="dompurify"+(r?"#"+r:"");try{return e.createPolicy(l,{createHTML(o){return o},createScriptURL(o){return o}})}catch(o){return console.warn("TrustedTypes policy "+l+" could not be created."),null}},s1=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};wu=h1();});var p1,eA,tA,iA,rA,im,nA,oA,rm,aA,sA,nm,lA,cA,om,uA,f1,XM,am=Kt(()=>{_i();_i();p1=pt`var(--white, #fff)`,eA=pt`var(--ia-theme-link-color, #4b64ff)`,tA=pt`var(--primaryDisableCTAFill, #767676)`,iA=pt`var(--secondaryCTABorder, #999)`,rA=pt`var(--primaryCTAFill, #194880)`,im=pt`var(--primaryCTAFillRGB, 25, 72, 128)`,nA=pt`var(--primaryCTABorder, #c5d1df)`,oA=pt`var(--primaryErrorCTAFill, #d9534f)`,rm=pt`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,aA=pt`var(--primaryErrorCTABorder, #d43f3a)`,sA=pt`var(--secondaryCTAFill, #333)`,nm=pt`var(--secondaryCTAFillRGB, 51, 51, 51)`,lA=pt`var(--primaryCTABorder, #979797)`,cA=pt`var(---primaryWarningFill, #ee8950)`,om=pt`var(--primaryWarningFillRGB, 238, 137, 80)`,uA=pt`var(--primaryWarningBorder, #ec7939)`,f1=pt`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${p1};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 3rem;
    outline-color: ${p1};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${tA};
    border: 1px solid ${iA};
  }
  .ia-button.transparent {
    background-color: transparent;
  }

  .ia-button.primary:disabled,
  .ia-button.danger:disabled,
  .ia-button.warning:disabled,
  .ia-button.dark:disabled {
    opacity: 0.5;
  }

  .ia-button.primary {
    background-color: ${rA};
    border-color: ${nA};
  }
  .ia-button.primary:hover {
    background-color: rgba(${im}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${im}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${im}, 0.7);
  }

  .ia-button.danger {
    background-color: ${oA};
    border-color: ${aA};
  }
  .ia-button.danger:hover {
    background-color: rgba(${rm}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${rm}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${rm}, 0.7);
  }

  .ia-button.warning {
    background-color: ${cA};
    border-color: ${uA};
  }
  .ia-button.warning:hover {
    background-color: rgba(${om}, 0.9);
  }
  .ia-button.warning:focus-visible {
    background-color: rgba(${om}, 0.8);
  }
  .ia-button.warning:active {
    background-color: rgba(${om}, 0.7);
  }

  .ia-button.dark {
    background-color: ${sA};
    border-color: ${lA};
  }
  .ia-button.dark:hover {
    background-color: rgba(${nm}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${nm}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${nm}, 0.7);
  }

  .ia-button.link {
    margin: 0;
    padding: 6px;
    border: 0;
    appearance: none;
    background: none;
    color: ${eA};
    text-decoration: none;
    cursor: pointer;
  }
  .ia-button.link:hover {
    text-decoration: underline;
  }
`,XM=pt`
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    margin: -1px !important;
    padding: 0 !important;
    border: 0 !important;
    overflow: hidden !important;
    white-space: nowrap !important;
    clip: rect(1px, 1px, 1px, 1px) !important;
    -webkit-clip-path: inset(50%) !important;
    clip-path: inset(50%) !important;
    user-select: none !important;
  }
`});var m1,g1,v1=Kt(()=>{m1=class{constructor(e){var t,r,a,l;this.ARCHIVE_ANALYTICS_VERSION=2,this.DEFAULT_SERVICE="ao_2",this.NO_SAMPLING_SERVICE="ao_no_sampling",this.DEFAULT_IMAGE_URL="https://athena.archive.org/0.gif",this.defaultService=(t=e==null?void 0:e.defaultService)!==null&&t!==void 0?t:this.DEFAULT_SERVICE,this.imageUrl=(r=e==null?void 0:e.imageUrl)!==null&&r!==void 0?r:this.DEFAULT_IMAGE_URL,this.imageContainer=(a=e==null?void 0:e.imageContainer)!==null&&a!==void 0?a:document.body,this.requireImagePing=(l=e==null?void 0:e.requireImagePing)!==null&&l!==void 0?l:!1}sendPing(e){let t=this.generateTrackingUrl(e).toString();if(this.requireImagePing){this.sendPingViaImage(t);return}let r=navigator.sendBeacon&&navigator.sendBeacon.bind(navigator);try{r(t)}catch(a){this.sendPingViaImage(t)}}sendEvent(e){let t=e.label&&e.label.trim().length>0?e.label:window.location.pathname,r=Dr({kind:"event",ec:e.category,ea:e.action,el:t,cache_bust:Math.random()},e.eventConfiguration);this.sendPing(r)}sendEventNoSampling(e){let t=e.eventConfiguration||{};t.service=this.NO_SAMPLING_SERVICE;let r=e;r.eventConfiguration=t,this.sendEvent(r)}sendPingViaImage(e){let t=new Image(1,1);t.src=e,t.alt="",this.imageContainer.appendChild(t)}generateTrackingUrl(e){var t;let r=e!=null?e:{};r.service=(t=r.service)!==null&&t!==void 0?t:this.defaultService;let a=new URL(this.imageUrl),l=Object.keys(r);return l.forEach(o=>{let c=r[o];a.searchParams.append(o,c)}),a.searchParams.append("version",`${this.ARCHIVE_ANALYTICS_VERSION}`),a.searchParams.append("count",`${l.length+2}`),a}},g1=class{constructor(e){this.analyticsManager=e}trackIaxParameter(e){let t=new URL(e).searchParams.get("iax");if(!t)return;let r=t.split("|"),a=r.length>=1?r[1]:"",l=r.length>=2?r[2]:"";this.analyticsManager.sendEventNoSampling({category:r[0],action:a,label:l})}trackPageView(e){let t={};t.kind="pageview",t.timediff=new Date().getTimezoneOffset()/60*-1,t.locale=navigator.language,t.referrer=document.referrer===""?"-":document.referrer;let{domInteractive:r,defaultFontSize:a}=this;r&&(t.loadtime=r),a&&(t.iaprop_fontSize=a),"devicePixelRatio"in window&&(t.iaprop_devicePixelRatio=window.devicePixelRatio),e!=null&&e.mediaType&&(t.iaprop_mediaType=e.mediaType),e!=null&&e.mediaLanguage&&(t.iaprop_mediaLanguage=e.mediaLanguage),e!=null&&e.primaryCollection&&(t.iaprop_primaryCollection=e.primaryCollection),e!=null&&e.page&&(t.page=e.page),this.analyticsManager.sendPing(t)}get defaultFontSize(){let e=window.getComputedStyle(document.documentElement);if(!e)return null;let t=e.fontSize,r=parseFloat(t)*1.6,a=t.replace(/(\d*\.\d+)|\d+/,"");return`${r}${a}`}get domInteractive(){if(!window.performance||!window.performance.getEntriesByType)return;let e=window.performance.getEntriesByType("navigation");return e.length===0?void 0:e[0].domInteractive}}});function hA(e){return new Promise(t=>setTimeout(t,e))}var dA,pA,y1,sm=Kt(()=>{v1();dA=class{constructor(e){e.enableAnalytics&&(this.analyticsBackend=new m1,this.analyticsHelpers=new g1(this.analyticsBackend))}sendPing(e){var t;(t=this.analyticsBackend)===null||t===void 0||t.sendPing(e)}sendEvent(e){var t;(t=this.analyticsBackend)===null||t===void 0||t.sendEvent(e)}send_event(e,t,r,a){this.sendEvent({category:e,action:t,label:r,eventConfiguration:a})}sendEventNoSampling(e){var t;(t=this.analyticsBackend)===null||t===void 0||t.sendEventNoSampling(e)}trackIaxParameter(e){var t;(t=this.analyticsHelpers)===null||t===void 0||t.trackIaxParameter(e)}trackPageView(e){var t;(t=this.analyticsHelpers)===null||t===void 0||t.trackPageView(e)}};pA=class{constructor(e){this.analyticsHandler=new dA({enableAnalytics:!0}),this.sleep=hA,this.retryCount=2,this.retryDelay=1e3,this.eventCategory="offshootFetchRetry",e!=null&&e.analyticsHandler&&(this.analyticsHandler=e.analyticsHandler),e!=null&&e.retryCount&&(this.retryCount=e.retryCount),e!=null&&e.retryDelay&&(this.retryDelay=e.retryDelay),e!=null&&e.sleepFn&&(this.sleep=e.sleepFn)}fetchRetry(a,l){return yi(this,arguments,function*(e,t,r=this.retryCount){let o=typeof e=="string"?e:e.url,c=this.retryCount-r+1;try{let n=yield fetch(e,t);return n.ok?n:n.status===404?(this.log404Event(o),n):r>0?(yield this.sleep(this.retryDelay),this.logRetryEvent(o,c,n.statusText,n.status),this.fetchRetry(e,t,r-1)):(this.logFailureEvent(o,n.status),n)}catch(n){if(this.isContentBlockerError(n))throw this.logContentBlockingEvent(o,n),n;if(r>0)return yield this.sleep(this.retryDelay),this.logRetryEvent(o,c,n,n),this.fetchRetry(e,t,r-1);throw this.logFailureEvent(o,n),n}})}isContentBlockerError(e){return e instanceof TypeError?e.message.toLowerCase().includes("content blocker"):!1}logRetryEvent(e,t,r,a){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"retryingFetch",label:`retryNumber: ${t} / ${this.retryCount}, code: ${a}, status: ${r}, url: ${e}`})}logFailureEvent(e,t){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"fetchFailed",label:`error: ${t}, url: ${e}`})}log404Event(e){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"status404NotRetrying",label:`url: ${e}`})}logContentBlockingEvent(e,t){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"contentBlockerDetectedNotRetrying",label:`error: ${t}, url: ${e}`})}},y1=class{constructor(e){this.fetchRetrier=new pA,e!=null&&e.iaApiBaseUrl&&(this.iaApiBaseUrl=e.iaApiBaseUrl),e!=null&&e.fetchRetrier&&(this.fetchRetrier=e.fetchRetrier),e!=null&&e.searchParams?this.searchParams=e.searchParams:this.searchParams=window.location.search}fetchIAApiResponse(e,t){return yi(this,null,function*(){let r=`${this.iaApiBaseUrl}${e}`;return this.fetchApiResponse(r,t)})}fetchApiResponse(e,t){return yi(this,null,function*(){let r={};return t!=null&&t.includeCredentials&&(r.credentials="include"),t!=null&&t.method&&(r.method=t.method),t!=null&&t.body&&(r.body=t.body),t!=null&&t.headers&&(r.headers=t.headers),yield(yield this.fetch(e,r)).json()})}fetch(e,t){return yi(this,null,function*(){let r=e;return new URLSearchParams(this.searchParams).get("reCache")==="1"&&(r=this.addSearchParams(e,{reCache:"1"})),this.fetchRetrier.fetchRetry(r,t)})}addSearchParams(e,t){let r=typeof e=="string"?e:e.url,a=new URL(r,window.location.href);for(let[l,o]of Object.entries(t))a.searchParams.set(l,o);return typeof e=="string"?a.href:new Request(a.href,e)}}});function At(e){let t,r,a;return typeof e=="object"?(t=e.hashFunction,r=e.expiring,a=e.tags):t=e,(l,o,c)=>{if(c.value!=null)c.value=b1(c.value,t,r,a);else if(c.get!=null)c.get=b1(c.get,t,r,a);else throw"Only put a Memoize() decorator on a method or get accessor."}}function b1(e,t,r=0,a){let l=Symbol("__memoized_map__");return function(...o){let c;this.hasOwnProperty(l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let n=this[l];if(Array.isArray(a))for(let u of a)lm.has(u)?lm.get(u).push(n):lm.set(u,[n]);if(t||o.length>0||r>0){let u;t===!0?u=o.map(m=>m.toString()).join("!"):t?u=t.apply(this,o):u=o[0];let p=`${u}__timestamp`,g=!1;if(r>0)if(!n.has(p))g=!0;else{let m=n.get(p);g=Date.now()-m>r}n.has(u)&&!g?c=n.get(u):(c=e.apply(this,o),n.set(u,c),r>0&&n.set(p,Date.now()))}else{let u=this;n.has(u)?c=n.get(u):(c=e.apply(this,o),n.set(u,c))}return c}}var lm,Ln=Kt(()=>{lm=new Map});var oc,ko,hs,Ba,ps,ac,nh,sc,_a,Un=Kt(()=>{oc=class{parseValue(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}};oc.shared=new oc;ko=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=parseFloat(e);if(!Number.isNaN(t))return t}};ko.shared=new ko;hs=class{parseValue(e){return ko.shared.parseValue(e)}};hs.shared=new hs;Ba=class{parseValue(e){return this.parseJSDate(e)||this.parseBracketDate(e)}parseBracketDate(e){if(typeof e!="string")return;let t=e.match(/\[([0-9]{4})\]/);if(!(!t||t.length<2))return this.parseJSDate(t[1])}parseJSDate(e){if(typeof e!="string")return;let t=e;t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(t=t.replace(" ","T"));let r=Date.parse(t);if(Number.isNaN(r))return;let a=new Date(t);return(t.indexOf("Z")>-1||t.indexOf("+")>-1||t.match(/^[0-9]{4}$/)||t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||t.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||t.match(/^.*?-[0-9]{4}$/))&&(a=new Date(a.getTime()+a.getTimezoneOffset()*1e3*60)),a}};Ba.shared=new Ba;ps=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=e.split(":"),r;return t.length===1?r=this.parseNumberFormat(t[0]):r=this.parseColonSeparatedFormat(t),r}parseNumberFormat(e){let t=parseFloat(e);return Number.isNaN(t)&&(t=void 0),t}parseColonSeparatedFormat(e){let t=!1,r=e.map((a,l)=>{let o=parseFloat(a);if(Number.isNaN(o))return t=!0,0;let c=Pn(60,e.length-1-l);return o*Math.floor(c)}).reduce((a,l)=>a+l,0);return t?void 0:r}};ps.shared=new ps;ac=class{parseValue(e){if(typeof e=="string")return e}};ac.shared=new ac;nh=class{constructor(e,t){this.separators=[";",","],this.parser=e,t&&t.separators&&(this.separators=t.separators)}parseValue(e){let t=String(e),r=[];for(let a of this.separators)if(r=t.split(a),r.length>1)break;return this.parseListValues(r)}parseListValues(e){let t=e.map(a=>a.trim()).map(a=>this.parser.parseValue(a)),r=[];return t.forEach(a=>{a!==void 0&&r.push(a)}),r}},sc=class{parseValue(e){if(typeof e=="string")return e}};sc.shared=new sc;_a=class{parseValue(e){return String(e)}};_a.shared=new _a});var aa,Ys,Ao,cm,Gn,Ur,fA,w1,um,mA,gA,kr,Ha=Kt(()=>{vr();Ln();Un();vr();Ln();Un();Un();Un();Un();Un();Un();Un();Un();aa=class{get values(){return this.parseRawValue()}get value(){return this.values[0]}constructor(e,t){this.parser=e,this.rawValue=t}parseRawValue(){let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let a=this.parser.parseValue(r);Array.isArray(a)?t.push(...a):a!==void 0&&t.push(a)}),t}};le([At()],aa.prototype,"values",null);le([At()],aa.prototype,"value",null);Ys=class extends aa{constructor(e){super(oc.shared,e)}},Ao=class extends aa{constructor(e){super(Ba.shared,e)}},cm=class extends aa{constructor(e){super(ps.shared,e)}},Gn=class extends aa{constructor(e){super(ko.shared,e)}},Ur=class extends aa{constructor(e){super(_a.shared,e)}},fA=class extends aa{constructor(e){super(sc.shared,e)}},w1=class extends aa{constructor(e){super(hs.shared,e)}},um=class extends aa{constructor(e){super(ac.shared,e)}},mA=class extends aa{constructor(e,t){super(t,e)}},gA=class extends mA{constructor(e){let t=new nh(_a.shared);super(e,t)}},kr=class{get identifier(){return this.rawMetadata.identifier}get addeddate(){return this.rawMetadata.addeddate!=null?new Ao(this.rawMetadata.addeddate):void 0}get audio_codec(){return this.rawMetadata.audio_codec!=null?new Ur(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){return this.rawMetadata.audio_sample_rate!=null?new Gn(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){return this.rawMetadata.avg_rating!=null?new Gn(this.rawMetadata.avg_rating):void 0}get collection(){return this.rawMetadata.collection!=null?new Ur(this.rawMetadata.collection):void 0}get collections_raw(){return this.rawMetadata.collections_raw!=null?new Ur(this.rawMetadata.collections_raw):void 0}get collection_size(){return this.rawMetadata.collection_size!=null?new w1(this.rawMetadata.collection_size):void 0}get contributor(){return this.rawMetadata.contributor!=null?new Ur(this.rawMetadata.contributor):void 0}get coverage(){return this.rawMetadata.coverage!=null?new Ur(this.rawMetadata.coverage):void 0}get creator(){return this.rawMetadata.creator!=null?new Ur(this.rawMetadata.creator):void 0}get collection_layout(){return this.rawMetadata.collection_layout!=null?new Ur(this.rawMetadata.collection_layout):void 0}get date(){return this.rawMetadata.date!=null?new Ao(this.rawMetadata.date):void 0}get description(){return this.rawMetadata.description!=null?new Ur(this.rawMetadata.description):void 0}get downloads(){return this.rawMetadata.downloads!=null?new Gn(this.rawMetadata.downloads):void 0}get duration(){return this.rawMetadata.duration!=null?new cm(this.rawMetadata.duration):void 0}get external_identifier(){return this.rawMetadata["external-identifier"]!=null?new Ur(this.rawMetadata["external-identifier"]):void 0}get files_count(){return this.rawMetadata.files_count!=null?new Gn(this.rawMetadata.files_count):void 0}get indexdate(){return this.rawMetadata.indexdate!=null?new Ao(this.rawMetadata.indexdate):void 0}get isbn(){return this.rawMetadata.isbn!=null?new Ur(this.rawMetadata.isbn):void 0}get issue(){return this.rawMetadata.issue!=null?new Ur(this.rawMetadata.issue):void 0}get item_count(){return this.rawMetadata.item_count!=null?new Gn(this.rawMetadata.item_count):void 0}get item_size(){return this.rawMetadata.item_size!=null?new w1(this.rawMetadata.item_size):void 0}get language(){return this.rawMetadata.language!=null?new Ur(this.rawMetadata.language):void 0}get length(){return this.rawMetadata.length!=null?new cm(this.rawMetadata.length):void 0}get lineage(){return this.rawMetadata.lineage!=null?new Ur(this.rawMetadata.lineage):void 0}get month(){return this.rawMetadata.month!=null?new Gn(this.rawMetadata.month):void 0}get mediatype(){return this.rawMetadata.mediatype!=null?new um(this.rawMetadata.mediatype):void 0}get noindex(){return this.rawMetadata.noindex!=null?new Ys(this.rawMetadata.noindex):void 0}get notes(){return this.rawMetadata.notes!=null?new Ur(this.rawMetadata.notes):void 0}get num_favorites(){return this.rawMetadata.num_favorites!=null?new Gn(this.rawMetadata.num_favorites):void 0}get num_reviews(){return this.rawMetadata.num_reviews!=null?new Gn(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){return this.rawMetadata.openlibrary_edition!=null?new Ur(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){return this.rawMetadata.openlibrary_work!=null?new Ur(this.rawMetadata.openlibrary_work):void 0}get page_progression(){return this.rawMetadata.page_progression!=null?new fA(this.rawMetadata.page_progression):void 0}get partner(){return this.rawMetadata.partner!=null?new Ur(this.rawMetadata.partner):void 0}get ppi(){return this.rawMetadata.ppi!=null?new Gn(this.rawMetadata.ppi):void 0}get publicdate(){return this.rawMetadata.publicdate!=null?new Ao(this.rawMetadata.publicdate):void 0}get publisher(){return this.rawMetadata.publisher!=null?new Ur(this.rawMetadata.publisher):void 0}get reviewdate(){return this.rawMetadata.reviewdate!=null?new Ao(this.rawMetadata.reviewdate):void 0}get runtime(){return this.rawMetadata.runtime!=null?new cm(this.rawMetadata.runtime):void 0}get scanner(){return this.rawMetadata.scanner!=null?new Ur(this.rawMetadata.scanner):void 0}get source(){return this.rawMetadata.source!=null?new Ur(this.rawMetadata.source):void 0}get start_localtime(){return this.rawMetadata.start_localtime!=null?new Ao(this.rawMetadata.start_localtime):void 0}get start_time(){return this.rawMetadata.start_time!=null?new Ao(this.rawMetadata.start_time):void 0}get stop_time(){return this.rawMetadata.stop_time!=null?new Ao(this.rawMetadata.stop_time):void 0}get subject(){return this.rawMetadata.subject!=null?new gA(this.rawMetadata.subject):void 0}get taper(){return this.rawMetadata.taper!=null?new Ur(this.rawMetadata.taper):void 0}get title(){return this.rawMetadata.title!=null?new Ur(this.rawMetadata.title):void 0}get transferer(){return this.rawMetadata.transferer!=null?new Ur(this.rawMetadata.transferer):void 0}get track(){return this.rawMetadata.track!=null?new Gn(this.rawMetadata.track):void 0}get type(){return this.rawMetadata.type!=null?new Ur(this.rawMetadata.type):void 0}get uploader(){return this.rawMetadata.uploader!=null?new Ur(this.rawMetadata.uploader):void 0}get utc_offset(){return this.rawMetadata.utc_offset!=null?new Gn(this.rawMetadata.utc_offset):void 0}get venue(){return this.rawMetadata.venue!=null?new Ur(this.rawMetadata.venue):void 0}get volume(){return this.rawMetadata.volume!=null?new Ur(this.rawMetadata.volume):void 0}get week(){return this.rawMetadata.week!=null?new Gn(this.rawMetadata.week):void 0}get year(){return this.rawMetadata.year!=null?new Gn(this.rawMetadata.year):void 0}constructor(e={}){this.rawMetadata=e}};le([At()],kr.prototype,"addeddate",null);le([At()],kr.prototype,"audio_codec",null);le([At()],kr.prototype,"audio_sample_rate",null);le([At()],kr.prototype,"avg_rating",null);le([At()],kr.prototype,"collection",null);le([At()],kr.prototype,"collections_raw",null);le([At()],kr.prototype,"collection_size",null);le([At()],kr.prototype,"contributor",null);le([At()],kr.prototype,"coverage",null);le([At()],kr.prototype,"creator",null);le([At()],kr.prototype,"collection_layout",null);le([At()],kr.prototype,"date",null);le([At()],kr.prototype,"description",null);le([At()],kr.prototype,"downloads",null);le([At()],kr.prototype,"duration",null);le([At()],kr.prototype,"external_identifier",null);le([At()],kr.prototype,"files_count",null);le([At()],kr.prototype,"indexdate",null);le([At()],kr.prototype,"isbn",null);le([At()],kr.prototype,"issue",null);le([At()],kr.prototype,"item_count",null);le([At()],kr.prototype,"item_size",null);le([At()],kr.prototype,"language",null);le([At()],kr.prototype,"length",null);le([At()],kr.prototype,"lineage",null);le([At()],kr.prototype,"month",null);le([At()],kr.prototype,"mediatype",null);le([At()],kr.prototype,"noindex",null);le([At()],kr.prototype,"notes",null);le([At()],kr.prototype,"num_favorites",null);le([At()],kr.prototype,"num_reviews",null);le([At()],kr.prototype,"openlibrary_edition",null);le([At()],kr.prototype,"openlibrary_work",null);le([At()],kr.prototype,"page_progression",null);le([At()],kr.prototype,"partner",null);le([At()],kr.prototype,"ppi",null);le([At()],kr.prototype,"publicdate",null);le([At()],kr.prototype,"publisher",null);le([At()],kr.prototype,"reviewdate",null);le([At()],kr.prototype,"runtime",null);le([At()],kr.prototype,"scanner",null);le([At()],kr.prototype,"source",null);le([At()],kr.prototype,"start_localtime",null);le([At()],kr.prototype,"start_time",null);le([At()],kr.prototype,"stop_time",null);le([At()],kr.prototype,"subject",null);le([At()],kr.prototype,"taper",null);le([At()],kr.prototype,"title",null);le([At()],kr.prototype,"transferer",null);le([At()],kr.prototype,"track",null);le([At()],kr.prototype,"type",null);le([At()],kr.prototype,"uploader",null);le([At()],kr.prototype,"utc_offset",null);le([At()],kr.prototype,"venue",null);le([At()],kr.prototype,"volume",null);le([At()],kr.prototype,"week",null);le([At()],kr.prototype,"year",null)});var lc,cc,hm,Ks,dm,vA,x1,oh=Kt(()=>{Ha();vr();Ln();Un();vr();Ln();Un();lc=class{get name(){return this.rawValue.name}get source(){return this.rawValue.source}get btih(){return this.rawValue.btih}get md5(){return this.rawValue.md5}get format(){return this.rawValue.format}get mtime(){return this.rawValue.mtime}get crc32(){return this.rawValue.crc32}get sha1(){return this.rawValue.sha1}get original(){return this.rawValue.original}get size(){return this.rawValue.size!=null?hs.shared.parseValue(this.rawValue.size):void 0}get title(){return this.rawValue.title}get length(){return this.rawValue.length!=null?ps.shared.parseValue(this.rawValue.length):void 0}get height(){return this.rawValue.height!=null?ko.shared.parseValue(this.rawValue.height):void 0}get width(){return this.rawValue.width!=null?ko.shared.parseValue(this.rawValue.width):void 0}get track(){return this.rawValue.track!=null?ko.shared.parseValue(this.rawValue.track):void 0}get external_identifier(){return this.rawValue.external_identifier}get creator(){return this.rawValue.creator}get album(){return this.rawValue.album}constructor(e={}){this.rawValue=e}};le([At()],lc.prototype,"size",null);le([At()],lc.prototype,"length",null);le([At()],lc.prototype,"height",null);le([At()],lc.prototype,"width",null);le([At()],lc.prototype,"track",null);cc=class{get reviewbody(){return this.rawValue.reviewbody}get reviewtitle(){return this.rawValue.reviewtitle}get reviewer(){return this.rawValue.reviewer}get reviewer_itemname(){return this.rawValue.reviewer_itemname}get reviewdate(){return this.rawValue.reviewdate!=null?Ba.shared.parseValue(this.rawValue.reviewdate):void 0}get createdate(){return this.rawValue.createdate!=null?Ba.shared.parseValue(this.rawValue.createdate):void 0}get stars(){return this.rawValue.stars!=null?ko.shared.parseValue(this.rawValue.stars):void 0}constructor(e={}){this.rawValue=e}};le([At()],cc.prototype,"reviewdate",null);le([At()],cc.prototype,"createdate",null);le([At()],cc.prototype,"stars",null);hm=class{constructor(e){var t,r;this.rawResponse=e,this.created=e.created,this.d1=e.d1,this.d2=e.d2,this.dir=e.dir,this.files=(t=e.files)===null||t===void 0?void 0:t.map(a=>new lc(a)),this.files_count=e.files_count,this.item_last_updated=e.item_last_updated,this.item_size=e.item_size,this.metadata=new kr(e.metadata),this.server=e.server,this.uniq=e.uniq,this.workable_servers=e.workable_servers,this.speech_vs_music_asr=e.speech_vs_music_asr,this.reviews=(r=e.reviews)===null||r===void 0?void 0:r.map(a=>new cc(a))}};(function(e){e.networkError="MetadataService.NetworkError",e.itemNotFound="MetadataService.ItemNotFound",e.decodingError="MetadataService.DecodingError",e.searchEngineError="MetadataService.SearchEngineError"})(Ks||(Ks={}));dm=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},vA=class{constructor(e){var t;if(this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(e==null?void 0:e.scope)!==void 0)this.requestScope=e.scope;else{let r=new URL(window.location.href).searchParams.get("scope");r&&(this.requestScope=r)}}fetchMetadata(e,t){return yi(this,null,function*(){let r=t?`/${t}`:"",a=`https://${this.baseUrl}/metadata/${e}${r}`;return this.fetchUrl(a,{requestOptions:{credentials:"omit"}})})}fetchUrl(e,t){return yi(this,null,function*(){var r;let a=new URL(e);this.requestScope&&a.searchParams.set("scope",this.requestScope);let l;try{let o=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};l=yield fetch(a.href,o)}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(Ks.networkError,c)}try{let o=yield l.json(),c=o.error;if(c){let n=o.forensics;return this.getErrorResult(Ks.searchEngineError,c,n)}else return{success:o}}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(Ks.decodingError,c)}})}getErrorResult(e,t,r){return{error:new dm(e,t,r)}}},x1=class{constructor(e){this.backend=e}fetchMetadata(e){return yi(this,null,function*(){var t;let r=yield this.backend.fetchMetadata(e);return r.error?r:((t=r.success)===null||t===void 0?void 0:t.metadata)===void 0?{error:new dm(Ks.itemNotFound)}:{success:new hm(r.success)}})}fetchMetadataValue(e,t){return yi(this,null,function*(){var r;let a=yield this.backend.fetchMetadata(e,t);return a.error?a:((r=a.success)===null||r===void 0?void 0:r.result)===void 0?{error:new dm(Ks.itemNotFound)}:{success:a.success.result}})}};x1.default=new x1(new vA)});function _1(e=""){if(e.length<=40)return e;let t=e.substring(0,40)+"...";return Ke`<span title="${e}">${t}</span>`}function _A(e){return wu.addHook("afterSanitizeAttributes",t=>{t.nodeName.toLowerCase()==="a"&&(t.setAttribute("rel","ugc nofollow"),t.setAttribute("target","_blank"))}),wu.sanitize(e,{ALLOWED_TAGS:xA})}function k1(e,t=100,r=!0){if(e.length<t)return e;let a=t;if(r){let l=e.indexOf(" ",t),o=l-t<=20;if(o&&l===e.length-1)return e;l!==-1&&o&&(a=l)}return kA(e,a,t)}function kA(e,t,r){let a=e.slice(0,t),l=a.match(/<a/gi);if(l){let o=a.match(/<\/a/gi);if(!o||o.length<l.length){let c=e.indexOf("</a>",t),n=c-r<=20;if(n&&e.length===c+4)return e;if(c!==-1&&n)a=e.slice(0,c+4);else{let u=a.lastIndexOf("<a");a=e.slice(0,u)}}}return a.concat("...")}function SA(e){return e.replace(new RegExp('(?<=href=")[^"]+(?=")'),t=>t.replace(".","__DOT__")).replace(AA,t=>t=`<a href="${t.match(/^(https|http)/)?t:"https://"+t}" rel="ugc nofollow" target="_blank">${t}</a>`).replace("__DOT__",".")}function CA(e){return e.trim().replace(/[ |\t]+/g," ").replace(/[\n|\r\n]+/g,"<br />").replace(/(<br[^>]*>(<\/br>)?)+/g,"<br />")}var yA,bA,wA,xA,AA,EA,ka,Nn,A1=Kt(()=>{vr();_i();Fr();Xd();ds();rh();am();Zc();sm();oh();_i();_i();vr();_i();Fr();Xd();ds();_i();_i();rh();_i();yA=An`
  <svg class="star-selected" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
    d="m81.0388846 100-30.9636029-22.5595033-30.7410319 22.5595033 10.6670595-37.3922042-30.0013093-25.2155916h37.5556428l12.5196389-37.3922042 12.3690754 37.3922042h37.5556429l-29.7034563 25.2155916z"
    fill="#c2820a"
    stroke="#c2820a"
    stroke-width="3px"
  />
</svg>`,bA=An`
  <svg class="star-unselected" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
    d="m81.0388846 100-30.9636029-22.5595033-30.7410319 22.5595033 10.6670595-37.3922042-30.0013093-25.2155916h37.5556428l12.5196389-37.3922042 12.3690754 37.3922042h37.5556429l-29.7034563 25.2155916z"
    fill="#ffffff"
    stroke="#c2820a"
    stroke-width="3px"
  />
</svg>`,wA=An`
  <svg class="star-basic" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
    d="m81.0388846 100-30.9636029-22.5595033-30.7410319 22.5595033 10.6670595-37.3922042-30.0013093-25.2155916h37.5556428l12.5196389-37.3922042 12.3690754 37.3922042h37.5556429l-29.7034563 25.2155916z"
    fill="2C2C2C"
  />
</svg>`;xA=["a"];AA=/(http(s)?)?(:\/\/)?([a-zA-Z][-a-z0-9]*(\.[-a-z0-9]+)+(\/[^\s\?#<]*)*(\?[^\s#]*)?(#[^\s]*)?)/;EA=An`
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" class="delete-icon">
    <rect width="24" height="24" fill="white"/>
    <path d="M5 7.5H19L18 21H6L5 7.5Z" stroke="#000000" stroke-linejoin="round"/>
    <path d="M15.5 9.5L15 19" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12 9.5V19" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M8.5 9.5L9 19" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M16 5H19C20.1046 5 21 5.89543 21 7V7.5H3V7C3 5.89543 3.89543 5 5 5H8M16 5L15 3H9L8 5M16 5H8" stroke="#000000" stroke-linejoin="round"/>
  </svg>
`,ka=class extends mi{constructor(){super(...arguments),this.maxSubjectLength=100,this.maxBodyLength=150,this.baseHost="https://archive.org",this.canDelete=!1,this.showTruncatedContent=!1,this.deleteMsg=""}render(){return this.review?Ke`
          <article class="review" id=${this.generateDomId()}>
            ${this.canDelete?Ke`
                  <button
                    class="delete-btn"
                    title="Delete this review"
                    @click=${this.deleteReview}
                  >
                    ${EA}
                  </button>
                `:Ei}
            <div class="top-line">
              <b>${jn("Reviewer:")}</b> ${this.reviewerTemplate} -
              ${this.starsTemplate}${this.createDateTemplate}
            </div>
            <div class="subject">
              <b>${jn("Subject: ")}</b>${this.subjectTemplate}
            </div>
            <div class="body">
              ${this.deleteMsg?Ke`<i>${jn(this.deleteMsg)}</i>`:this.bodyTemplate}
            </div>
            ${this.truncationButtonsTemplate}
          </article>
        `:Ke`
          <div class="error">
            ${jn("This review cannot be displayed at this time.")}
          </div>
        `}get subjectTemplate(){var e;return!((e=this.review)===null||e===void 0)&&e.reviewtitle?this.review.reviewtitle.length<=this.maxSubjectLength||this.showTruncatedContent?this.review.reviewtitle:k1(this.review.reviewtitle,this.maxSubjectLength):""}get bodyTemplate(){var e;if(!(!((e=this.review)===null||e===void 0)&&e.reviewbody))return Ei;let t=_A(this.review.reviewbody),r=t.length<=this.maxBodyLength||this.showTruncatedContent?t:k1(t,this.maxBodyLength);return Ke`${us(this.prepReview(r))}`}get truncationButtonsTemplate(){var e,t;return!(!((e=this.review)===null||e===void 0)&&e.reviewtitle)||!(!((t=this.review)===null||t===void 0)&&t.reviewbody)?Ei:this.review.reviewtitle.length<=this.maxSubjectLength&&this.review.reviewbody.length<=this.maxBodyLength?Ei:this.showTruncatedContent?this.lessButtonTemplate:this.moreButtonTemplate}get moreButtonTemplate(){return Ke`
      <button
        class="simple-link more-btn"
        @click=${()=>this.showTruncatedContent=!0}
      >
        ${jn("More...")}
      </button>
    `}get lessButtonTemplate(){return Ke`<button
      class="simple-link less-btn"
      @click=${()=>this.showTruncatedContent=!1}
    >
      ${jn("...Less")}
    </button>`}get reviewerTemplate(){return this.review?this.review.reviewer_itemname?Ke`
            <a
              href="${this.baseHost}/details/${this.review.reviewer_itemname}"
              class="reviewer-link simple-link"
              data-event-click-tracking="ItemReviews|ReviewerLink"
            >
              ${_1(this.review.reviewer)}
            </a>
          `:Ke`${_1(this.review.reviewer)}`:Ei}get starsTemplate(){return!this.review||!this.review.stars?Ei:Ke`
      <div
        class="review-stars"
        title="${jn(`${this.review.stars} out of 5 stars`)}"
      >
        ${new Array(Number(this.review.stars)).fill(null).map(()=>Ke`<div class="review-star">${wA}</div>`)}
      </div>
      -
    `}get createDateTemplate(){var e,t;if(!(!((e=this.review)===null||e===void 0)&&e.createdate)||!(!((t=this.review)===null||t===void 0)&&t.reviewdate))return Ei;let r=new Date(this.review.reviewdate),a=new Date(this.review.createdate),l=a.toLocaleString("en-us",{month:"long",day:"numeric",year:"numeric"}),o=r.getTime()!==a.getTime()?"(edited)":"";return jn(`${l} ${o}`)}generateDomId(){var e;return!((e=this.review)===null||e===void 0)&&e.createdate?`review-${Date.parse(this.review.createdate.toString())}`:""}prepReview(e){return CA(SA(e))}deleteReview(){return yi(this,null,function*(){if(!this.review||!this.identifier||!confirm(jn("Are you sure you want to delete this review?")))return;let e=`${this.baseHost}/edit-reviews.php?identifier=${this.identifier}&deleteReviewer=${this.review.reviewer}`;try{yield fetch(e,{method:"POST"}),this.deleteMsg="This review has been queued for deletion."}catch(t){this.deleteMsg="Sorry, we were unable to delete this review."}})}static get styles(){return pt`
      :host {
        font-family: var(
          --ia-font-stack,
          'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif
        );

        font-size: inherit;
        --container-bg-color: #fbfbfd;
        --container-border-color: #999999;
      }

      .review {
        position: relative;
        padding-right: 30px;
      }

      .error {
        color: var(--error-color, #cc0000);
      }

      .top-line {
        margin-bottom: 0.5rem;
      }

      .top-line > * {
        display: inline-block;
      }

      .review-star {
        width: 1rem;
        display: inline-block;
      }

      .simple-link,
      .body a {
        color: var(--link-color, #4b64ff);
        text-decoration: none;
        background: transparent;
        border: none;
        padding: 0px;
      }

      .simple-link:hover,
      .body a:hover {
        cursor: pointer;
        text-decoration: underline;
      }

      .subject {
        margin-bottom: 0.5rem;
      }

      .delete-btn {
        position: absolute;
        top: 0;
        right: 0;
        padding: 0;
        background: none;
        border: 0;
      }

      .delete-btn:hover {
        cursor: pointer;
      }

      .delete-icon {
        width: 20px;
        mix-blend-mode: multiply;
      }
    `}};le([Qt({type:Object})],ka.prototype,"review",void 0);le([Qt({type:String})],ka.prototype,"identifier",void 0);le([Qt({type:Number})],ka.prototype,"maxSubjectLength",void 0);le([Qt({type:Number})],ka.prototype,"maxBodyLength",void 0);le([Qt({type:String})],ka.prototype,"baseHost",void 0);le([Qt({type:Boolean})],ka.prototype,"canDelete",void 0);le([$n()],ka.prototype,"showTruncatedContent",void 0);le([$n()],ka.prototype,"deleteMsg",void 0);ka=le([ur("ia-review")],ka);Nn=class extends mi{constructor(){super(...arguments),this.token="",this.baseHost="https://archive.org",this.endpointPath="/write-review.php",this.displayMode="form",this.submitterScreenname="Anonymous",this.fetchHandler=new y1,this.bypassRecaptcha=!1,this.canDelete=!1,this.currentStars=0,this.currentSubjectLength=0,this.currentBodyLength=0,this.formCanSubmit=!1,this.submissionInProgress=!1,this.RECAPTCHA_ERROR_MESSAGE="Could not validate review. Please try again later.",this.GENERIC_ERROR_MESSAGE="There's been a temporary error. Please wait a moment and try again."}render(){return this.displayMode==="review"?this.reviewTemplate:Ke`<form id="review-form" @submit=${this.handleSubmit}>
          ${this.unrecoverableError?this.unrecoverableErrorTemplate:Ke`
                <span class="inputs">
                  ${this.starsInputTemplate} ${this.subjectInputTemplate}
                  ${this.bodyInputTemplate} ${this.hiddenInputsTemplate}
                </span>
              `}
          ${this.recaptchaMessageTemplate} ${this.recoverableErrorTemplate}
          ${this.actionButtonsTemplate}
        </form>`}firstUpdated(){this.formCanSubmit=this.checkSubmissionAllowed()}updated(e){e.has("oldReview")&&this.oldReview&&(this.oldReview.stars&&(this.currentStars=this.oldReview.stars),this.oldReview.reviewtitle&&(this.currentSubjectLength=this.oldReview.reviewtitle.length),this.oldReview.reviewbody&&(this.currentBodyLength=this.oldReview.reviewbody.length)),e.has("recaptchaManager")&&!this.bypassRecaptcha&&this.recaptchaManager&&!this.unrecoverableError&&this.setupRecaptcha(),(e.has("currentSubjectLength")||e.has("currentBodyLength"))&&(this.formCanSubmit=this.checkSubmissionAllowed())}get reviewTemplate(){return this.oldReview?Ke`
      <div class="review-container">
        <ia-review
          .identifier=${this.identifier}
          .review=${this.oldReview}
          .baseHost=${this.baseHost}
          ?canDelete=${this.canDelete}
        ></ia-review>
      </div>
    `:Ei}get unrecoverableErrorTemplate(){return this.unrecoverableError?Ke`
          <div class="unrecoverable-error">
            <span class="error-msg">${jn(this.unrecoverableError)}</span>
          </div>
        `:Ei}get recoverableErrorTemplate(){return this.recoverableError?Ke`
          <div class="recoverable-error">
            ${us(this.sanitizeErrorMsg(jn(this.recoverableError)))}
          </div>
        `:Ei}get recaptchaMessageTemplate(){return this.bypassRecaptcha?Ei:Ke`${jn(Ke`This site is protected by reCAPTCHA and the Google
        <a
          target="_blank"
          class="inline-link"
          href="https://policies.google.com/privacy"
          >Privacy Policy</a
        >
        and
        <a
          target="_blank"
          class="inline-link"
          href="https://policies.google.com/terms"
          >Terms of Service</a
        >
        apply.`)}`}get starsInputTemplate(){return Ke`
      <div class="form-heading rating">
        <label for="stars-field">${jn("Rating (optional)")}</label>
      </div>
      <input
        type="hidden"
        name="field_stars"
        id="stars-input"
        .value=${this.currentStars.toString()}
        required
      />
      <div class="stars">
        ${[1,2,3,4,5].map(e=>this.renderStar(e))}
        <button
          type="button"
          class="clear-stars-btn"
          @click=${this.handleClearBtnClicked}
        >
          ${jn("Clear")}
        </button>
      </div>
    `}get subjectInputTemplate(){var e,t;return Ke`
      <span id="subject-input" class="input-box ${this.maxSubjectLength&&this.currentSubjectLength>this.maxSubjectLength?"error":""}"
      ><div class="form-heading">
        <label for="field_reviewtitle">${jn("Subject")}</label>
        ${this.maxSubjectLength?Ke`<div class="char-count subject">
                ${this.currentSubjectLength}/${this.maxSubjectLength}
              </div>`:Ei}
      </div>
      <input
        type="text"
        name="field_reviewtitle"
        id="field_reviewtitle"
        .value=${(t=(e=this.oldReview)===null||e===void 0?void 0:e.reviewtitle)!==null&&t!==void 0?t:""}
        @input=${this.handleSubjectChanged}
        required
    />${this.maxSubjectLength?Ke`
            <div class="input-error">
              ${jn(`Subject may only have ${this.maxSubjectLength} characters`)}
            </div>
          `:Ei}</div></span>
    `}get bodyInputTemplate(){var e,t;return Ke`
      <span
        id="body-input"
        class="input-box ${this.maxBodyLength&&this.currentBodyLength>this.maxBodyLength?"error":""}"
        ><div class="form-heading">
          <label for="field_reviewbody">${jn("Review")}</label>
          ${this.maxBodyLength?Ke`<div class="char-count body">
                ${this.currentBodyLength}/${this.maxBodyLength}
              </div>`:Ei}
        </div>
        <textarea
          name="field_reviewbody"
          id="field_reviewbody"
          .value=${(t=(e=this.oldReview)===null||e===void 0?void 0:e.reviewbody)!==null&&t!==void 0?t:""}
          rows="10"
          cols="50"
          required
          @input=${this.handleBodyChanged}
        ></textarea>
        ${this.maxBodyLength?Ke`
              <div class="input-error">
                ${jn(`Review may only have ${this.maxBodyLength} characters`)}
              </div>
            `:Ei}
      </span>
    `}get hiddenInputsTemplate(){return Ke`
      <input type="hidden" name="field_reviewtoken" .value=${this.token} />
      ${this.identifier?Ke`<input
            type="hidden"
            name="identifier"
            .value=${this.identifier}
          />`:Ei}
    `}get actionButtonsTemplate(){return Ke`<div class="action-btns">
      <button
        type="button"
        class="ia-button dark"
        data-testid="cancel-btn"
        @click=${()=>this.displayMode="review"}
      >
        ${jn("Cancel")}
      </button>
      <button
        type="submit"
        class="ia-button primary"
        name="submit"
        ?disabled=${!this.formCanSubmit||this.submissionInProgress}
      >
        ${this.submissionInProgress?Ke`
              <span class="loading-indicator" alt="Loading indicator">
                <ia-activity-indicator></ia-activity-indicator>
              </span>
            `:jn("Submit review")}
      </button>
    </div>`}renderStar(e){let t=e===this.currentStars,r=jn(`Rate ${e>1?`${e} stars`:"1 star"}`);return Ke`
      <button
        class="star star-${e}"
        title=${t?jn("Clear rating"):r}
        @click=${a=>this.handleStarClicked(a,e)}
      >
        ${e<=this.currentStars?yA:bA}
      </button>
    `}setupRecaptcha(){return yi(this,null,function*(){var e;try{this.recaptchaWidget=yield(e=this.recaptchaManager)===null||e===void 0?void 0:e.getRecaptchaWidget()}catch(t){this.unrecoverableError=this.RECAPTCHA_ERROR_MESSAGE}})}sanitizeErrorMsg(e){return wu.sanitize(e,{ALLOWED_TAGS:["a","b","br"]})}handleSubmit(e){return yi(this,null,function*(){var t;if(e.preventDefault(),!(!this.formCanSubmit||this.submissionInProgress)){if(this.submissionInProgress=!0,this.recoverableError="",!this.reviewForm.reportValidity())return this.stopSubmission();try{let r=new URLSearchParams;if(!this.bypassRecaptcha){let l=yield this.getRecaptchaToken();if(!l)return this.handleRecaptchaError();r.append("g-recaptcha-response",l!=null?l:"")}for(let l of new FormData(this.reviewForm))r.append(l[0],l[1]);r.append("submitter","review-form");let a=yield this.fetchHandler.fetchApiResponse(`${this.baseHost}${this.endpointPath}`,{method:"POST",includeCredentials:!0,body:r});(a==null?void 0:a.success)===!0?(this.submissionInProgress=!1,this.oldReview=this.generateSubmittedReview(),this.displayMode="review"):(this.recoverableError=(t=a.error)!==null&&t!==void 0?t:this.GENERIC_ERROR_MESSAGE,this.stopSubmission())}catch(r){console.error(r),this.recoverableError=this.GENERIC_ERROR_MESSAGE,this.stopSubmission()}}})}generateSubmittedReview(){var e,t,r,a,l,o;let c=new Date().toDateString();return new cc({reviewtitle:this.reviewForm.field_reviewtitle.value,reviewbody:this.reviewForm.field_reviewbody.value,stars:this.reviewForm.field_stars.value,reviewdate:c,reviewer:(t=(e=this.oldReview)===null||e===void 0?void 0:e.reviewer)!==null&&t!==void 0?t:this.submitterScreenname,reviewer_itemname:(a=(r=this.oldReview)===null||r===void 0?void 0:r.reviewer_itemname)!==null&&a!==void 0?a:this.submitterItemname,createdate:(o=this.dateToString((l=this.oldReview)===null||l===void 0?void 0:l.createdate))!==null&&o!==void 0?o:c})}dateToString(e){return e instanceof Date?e.toDateString():e}getRecaptchaToken(){return yi(this,null,function*(){if(!this.recaptchaWidget){this.handleRecaptchaError();return}try{return yield this.recaptchaWidget.execute()}catch(e){this.handleRecaptchaError();return}})}handleRecaptchaError(){this.recoverableError=this.RECAPTCHA_ERROR_MESSAGE,this.stopSubmission()}stopSubmission(){this.submissionInProgress&&(this.submissionInProgress=!1)}handleStarClicked(e,t){e.preventDefault(),this.setStars(t)}handleClearBtnClicked(e){e.preventDefault(),this.currentStars=0}setStars(e){this.currentStars=e===this.currentStars?0:e}handleSubjectChanged(e){let t=e.target;this.currentSubjectLength=t.value.length}handleBodyChanged(e){let t=e.target;this.currentBodyLength=t.value.length}checkSubmissionAllowed(){return!(this.unrecoverableError||!this.currentBodyLength||!this.currentSubjectLength||this.maxSubjectLength&&this.currentSubjectLength>this.maxSubjectLength||this.maxBodyLength&&this.currentBodyLength>this.maxBodyLength)}static get styles(){return[f1,pt`
        :host {
          font-family: var(
            --ia-font-stack,
            'Helvetica Neue',
            Helvetica,
            Arial,
            sans-serif
          );

          color: var(--ia-text-color, #2c2c2c);

          --container-error-color: #ea0202;
          --container-link-color: #4f65f5;
          --container-bg-color: #fbfbfd;
          --container-border-color: #999999;
        }

        ia-review {
          --error-color: var(--container-error-color, #ea0202);
          --link-color: var(--container-link-color, #4f65f5);
        }

        form,
        .review-container {
          border: 2px solid var(--container-border-color, #999999);
          border-radius: 5px;
          background-color: var(--container-bg-color, #fbfbfd);
          padding: 10px;
          margin-bottom: 20px;
        }

        .form-heading {
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          padding-top: 15px;
        }

        .form-heading.rating {
          padding-top: 0;
        }

        .form-heading label {
          font-size: 1.6rem;
          font-weight: bold;
        }

        label {
          display: inline-block;
          margin-bottom: 5px;
        }

        textarea,
        input[type='text'],
        .unrecoverable-error {
          padding: 5px;
          width: calc(100% - 10px);
          font-family: inherit;
          border-radius: 5px;
          border: 1px solid var(--container-border-color, #999999);
        }

        .input-box.error input,
        .input-box.error textarea {
          border: 2px solid var(--container-error-color, #ea0202);
        }

        .input-box.error .char-count,
        .input-error,
        .unrecoverable-error,
        .recoverable-error {
          color: var(--container-error-color, #ea0202);
        }

        .input-error {
          display: none;
        }

        .input-box.error .input-error {
          display: block;
          text-align: right;
          padding-top: 5px;
        }

        .inline-link {
          color: var(--container-link-color, #4f65f5);
          text-decoration: none;
        }

        .inline-link:hover {
          text-decoration: underline;
        }

        .stars {
          display: flex;
          flex-direction: row;
          gap: 2px;
          align-items: center;
        }

        .star {
          all: unset;
          height: 30px;
          width: 30px;
        }

        .star:hover {
          cursor: pointer;
        }

        .clear-stars-btn,
        .recoverable-error a {
          padding: 0 5px;
          color: var(--container-link-color, #4f65f5);
          font-family: inherit;
          border: none;
          background: transparent;
          display: inline-block;
          padding-top: 5px;
        }

        .clear-stars-btn:hover,
        .recoverable-error a:hover {
          cursor: pointer;
          text-decoration: underline;
        }

        .action-btns {
          width: 100%;
          display: flex;
          justify-content: flex-end;
          gap: 10px;
          padding-top: 15px;
        }

        .ia-button:disabled {
          opacity: 0.75;
        }

        .ia-button:disabled:hover {
          cursor: not-allowed;
        }

        .unrecoverable-error {
          min-height: 50px;
          padding: 5px;
          text-align: center;
          display: flex;
          flex-direction: column;
          justify-content: center;
          background-color: var(--container-bg-color, #fbfbfd);
        }

        .loading-indicator {
          display: block;
          width: 20px;
          height: 20px;
          margin-top: 2px;
          --activityIndicatorLoadingRingColor: #fff;
          --activityIndicatorLoadingDotColor: #fff;
        }

        @media only screen and (max-width: 350px) {
          .action-btns {
            flex-direction: column-reverse;
            align-items: center;
          }
        }
      `]}};le([Qt({type:String})],Nn.prototype,"identifier",void 0);le([Qt({type:String})],Nn.prototype,"token",void 0);le([Qt({type:String})],Nn.prototype,"baseHost",void 0);le([Qt({type:String})],Nn.prototype,"endpointPath",void 0);le([Qt({type:String})],Nn.prototype,"displayMode",void 0);le([Qt({type:String})],Nn.prototype,"submitterScreenname",void 0);le([Qt({type:String})],Nn.prototype,"submitterItemname",void 0);le([Qt({type:Object})],Nn.prototype,"oldReview",void 0);le([Qt({type:String})],Nn.prototype,"unrecoverableError",void 0);le([Qt({type:Number})],Nn.prototype,"maxSubjectLength",void 0);le([Qt({type:Number})],Nn.prototype,"maxBodyLength",void 0);le([Qt({type:Object})],Nn.prototype,"fetchHandler",void 0);le([Qt({type:Object})],Nn.prototype,"recaptchaManager",void 0);le([Qt({type:Boolean})],Nn.prototype,"bypassRecaptcha",void 0);le([Qt({type:Boolean})],Nn.prototype,"canDelete",void 0);le([$n()],Nn.prototype,"currentStars",void 0);le([$n()],Nn.prototype,"currentSubjectLength",void 0);le([$n()],Nn.prototype,"currentBodyLength",void 0);le([$n()],Nn.prototype,"recoverableError",void 0);le([$n()],Nn.prototype,"formCanSubmit",void 0);le([$n()],Nn.prototype,"submissionInProgress",void 0);le([sn("#review-form")],Nn.prototype,"reviewForm",void 0);Nn=le([ur("ia-review-form")],Nn)});var S1=Kt(()=>{vr();_i();Fr();Xd();ds();rh();am();Zc();sm();oh();A1()});var C1,E1=Kt(()=>{C1=()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach(r=>r(...t))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter(r=>r!==t)}})});function TA(e){return new Promise(t=>setTimeout(t,e))}var Aa,T1,P1,pm=Kt(()=>{vr();E1();(function(e){e.retryNumber="retryNumber",e.owner="owner",e.dynamicImportLoaded="dynamicImportLoaded",e.hasBeenRetried="hasBeenRetried"})(Aa||(Aa={}));T1="lazyLoaderService",P1=class{constructor(e){var t,r,a;this.emitter=C1(),this.container=(t=e==null?void 0:e.container)!==null&&t!==void 0?t:document.head,this.retryCount=(r=e==null?void 0:e.retryCount)!==null&&r!==void 0?r:2,this.retryInterval=(a=e==null?void 0:e.retryInterval)!==null&&a!==void 0?a:1}on(e,t){return this.emitter.on(e,t)}loadBundle(e){return Oo(this,void 0,void 0,function*(){let t,r;return e.module&&(t=this.loadScript({src:e.module,bundleType:"module"})),e.nomodule&&(r=this.loadScript({src:e.nomodule,bundleType:"nomodule"})),Promise.race([t,r])})}loadScript(e){return Oo(this,void 0,void 0,function*(){return this.doLoad(e)})}doLoad(e){var t;return Oo(this,void 0,void 0,function*(){let r=(t=e.retryNumber)!==null&&t!==void 0?t:0,a=`script[src='${e.src}'][async][${Aa.owner}='${T1}'][${Aa.retryNumber}='${r}']`,l=this.container.querySelector(a);return l||(l=this.getScriptTag(Object.assign(Object.assign({},e),{retryNumber:r})),this.container.appendChild(l)),new Promise((o,c)=>{if(l.getAttribute(Aa.dynamicImportLoaded)){o();return}let n=e.scriptBeingRetried,u=l.onload||(n==null?void 0:n.onload);l.onload=g=>{u==null||u(g),l.setAttribute(Aa.dynamicImportLoaded,"true"),o()};let p=l.onerror||(n==null?void 0:n.onerror);l.onerror=g=>Oo(this,void 0,void 0,function*(){let m=l.getAttribute(Aa.hasBeenRetried);if(r<this.retryCount&&!m){l.setAttribute(Aa.hasBeenRetried,"true"),yield TA(this.retryInterval*1e3);let y=r+1;this.emitter.emit("scriptLoadRetried",e.src,y),this.doLoad(Object.assign(Object.assign({},e),{retryNumber:y,scriptBeingRetried:l}))}else m||this.emitter.emit("scriptLoadFailed",e.src,g),p==null||p(g),c(g)})})})}getScriptTag(e){var t;let r=e.src.replace("'",'"'),a=document.createElement("script"),l=e.retryNumber;a.setAttribute(Aa.owner,T1),a.setAttribute("src",r),a.setAttribute(Aa.retryNumber,l.toString()),a.async=!0;let o=(t=e.attributes)!==null&&t!==void 0?t:{};switch(Object.keys(o).forEach(c=>{a.setAttribute(c,o[c])}),e.bundleType){case"module":a.setAttribute("type",e.bundleType);break;case"nomodule":a.setAttribute(e.bundleType,"");break;default:break}return a}}});var PA,$1,L1=Kt(()=>{pm();PA=class{constructor(e,t){this.widgetId=null,this.isExecuting=!1,this.siteKey=e.siteKey,this.grecaptchaLibrary=e.grecaptchaLibrary;let r=this.createContainer();this.setup(r,t)}execute(){return yi(this,null,function*(){let{widgetId:e}=this;if(e===null)throw new Error("Recaptcha is not setup");return this.isExecuting&&this.finishExecution(),this.isExecuting=!0,new Promise((t,r)=>{this.executionSuccessBlock=a=>{this.finishExecution(),t(a)},this.executionExpiredBlock=()=>{this.finishExecution(),r(new Error("expired"))},this.executionErrorBlock=()=>{this.finishExecution(),r(new Error("error"))},this.grecaptchaLibrary.execute(e)})})}finishExecution(){this.isExecuting=!1;let{widgetId:e}=this;e!==null&&this.grecaptchaLibrary.reset(e)}setup(e,t){var r;this.widgetId=this.grecaptchaLibrary.render(e,{callback:this.responseHandler.bind(this),"expired-callback":this.expiredHandler.bind(this),"error-callback":this.errorHandler.bind(this),sitekey:this.siteKey,tabindex:t==null?void 0:t.tabindex,theme:t==null?void 0:t.theme,type:t==null?void 0:t.type,size:(r=t==null?void 0:t.size)!==null&&r!==void 0?r:"invisible",badge:t==null?void 0:t.badge})}createContainer(e){let t=`recaptchaManager-${this.siteKey}`,r=document.getElementById(t);return r||(r=document.createElement("div"),r.id=t,r.style.position="fixed",r.style.top="50%",r.style.left="50%",r.style.zIndex=e?`${e}`:"10",document.body.appendChild(r)),r}responseHandler(e){this.executionSuccessBlock&&(this.executionSuccessBlock(e),this.executionSuccessBlock=void 0)}expiredHandler(){this.executionExpiredBlock&&(this.executionExpiredBlock(),this.executionExpiredBlock=void 0)}errorHandler(){this.executionErrorBlock&&(this.executionErrorBlock(),this.executionErrorBlock=void 0)}},$1=class{constructor(e){var t;this.recaptchaCache={},this.defaultSiteKey=e==null?void 0:e.defaultSiteKey,this.lazyLoader=(t=e==null?void 0:e.lazyLoader)!==null&&t!==void 0?t:new P1,this.grecaptchaLibraryCache=e==null?void 0:e.grecaptchaLibrary}getRecaptchaWidget(e){return yi(this,null,function*(){var t;let r=(t=e==null?void 0:e.siteKey)!==null&&t!==void 0?t:this.defaultSiteKey;if(!r)throw new Error("The reCaptcha widget requires a site key");let a=this.recaptchaCache[r];if(a)return a;let l=yield this.getRecaptchaLibrary(),o=new PA({siteKey:r,grecaptchaLibrary:l},e==null?void 0:e.recaptchaParams);return this.recaptchaCache[r]=o,o})}getRecaptchaLibrary(){return yi(this,null,function*(){return this.grecaptchaLibraryCache?this.grecaptchaLibraryCache:new Promise(e=>{window.grecaptchaLoadedCallback=()=>{setTimeout(()=>{delete window.grecaptchaLoadedCallback},10),this.grecaptchaLibraryCache=window.grecaptcha,e(window.grecaptcha)},this.lazyLoader.loadScript({src:"https://www.google.com/recaptcha/api.js?onload=grecaptchaLoadedCallback&render=explicit"})})})}}});var O1=Kt(()=>{pm();L1()});function $A(){let e=document.querySelector("ia-review-form"),t=new $1({defaultSiteKey:"6Ld64a8UAAAAAGbDwi1927ztGNw7YABQ-dqzvTN2"});e&&(e.recaptchaManager=t)}var M1,I1=Kt(()=>{S1();O1();Hn();ru();M1=!1;xe(()=>{function e(){xe(".details-reviews-list").show(),xe(".display-reviews-msg").hide()}Zr(".js-reviews-displayReviews",t=>{e()}),Zr(".js-reviews-addEditReview",t=>{M1||($A(),M1=!0),e(),xe("ia-review-form").attr("displayMode","form")}),Zr(".js-reviews-deleteReview",t=>{if(confirm("Are you sure you want to delete this review?")){let r=xe(t.currentTarget).attr("href");r&&(xe.ajax({type:"POST",url:r}),xe(t.currentTarget).parent().children(".review-body").html('<span class="deleted-review-msg">This review has been queued for deletion.</span>'))}}),Zr(".js-reviews-expandReview",t=>{let r=xe(t.currentTarget).closest(".aReview");r.find(".truncated-msg").hide(),r.find(".remainder").show()}),Zr(".js-reviews-collapseReview",t=>{let r=xe(t.currentTarget).closest(".aReview");r.find(".truncated-msg").show(),r.find(".remainder").hide()})})});var LA,mm,OA,MA,IA,RA,Do,DA,fm,jA,j1,NA,BA,HA,FA,zA,UA,VA,WA,qA,GA,YA,KA,N1,B1,XA,R1,D1,ZA,gm,vm=Kt(()=>{LA=Object.create,mm=Object.defineProperty,OA=Object.getOwnPropertyDescriptor,MA=Object.getOwnPropertyNames,IA=Object.getPrototypeOf,RA=Object.prototype.hasOwnProperty,Do=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),DA=(e,t)=>{for(var r in t)mm(e,r,{get:t[r],enumerable:!0})},fm=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of MA(t))!RA.call(e,l)&&l!==r&&mm(e,l,{get:()=>t[l],enumerable:!(a=OA(t,l))||a.enumerable});return e},jA=(e,t,r)=>(fm(e,t,"default"),r&&fm(r,t,"default")),j1=(e,t,r)=>(r=e!=null?LA(IA(e)):{},fm(t||!e||!e.__esModule?mm(r,"default",{value:e,enumerable:!0}):r,e)),NA=Do(()=>{+function(e){"use strict";function t(){var r=document.createElement("bootstrap"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var l in a)if(r.style[l]!==void 0)return{end:a[l]};return!1}e.fn.emulateTransitionEnd=function(r){var a=!1,l=this;e(this).one("bsTransitionEnd",function(){a=!0});var o=function(){a||e(l).trigger(e.support.transition.end)};return setTimeout(o,r),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(r){if(e(r.target).is(this))return r.handleObj.handler.apply(this,arguments)}})})}(jQuery)}),BA=Do(()=>{+function(e){"use strict";var t='[data-dismiss="alert"]',r=function(o){e(o).on("click",t,this.close)};r.VERSION="3.4.1",r.TRANSITION_DURATION=150,r.prototype.close=function(o){var c=e(this),n=c.attr("data-target");n||(n=c.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),n=n==="#"?[]:n;var u=e(document).find(n);if(o&&o.preventDefault(),u.length||(u=c.closest(".alert")),u.trigger(o=e.Event("close.bs.alert")),o.isDefaultPrevented())return;u.removeClass("in");function p(){u.detach().trigger("closed.bs.alert").remove()}e.support.transition&&u.hasClass("fade")?u.one("bsTransitionEnd",p).emulateTransitionEnd(r.TRANSITION_DURATION):p()};function a(o){return this.each(function(){var c=e(this),n=c.data("bs.alert");n||c.data("bs.alert",n=new r(this)),typeof o=="string"&&n[o].call(c)})}var l=e.fn.alert;e.fn.alert=a,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=l,this},e(document).on("click.bs.alert.data-api",t,r.prototype.close)}(jQuery)}),HA=Do(()=>{+function(e){"use strict";var t=function(l,o){this.$element=e(l),this.options=e.extend({},t.DEFAULTS,o),this.isLoading=!1};t.VERSION="3.4.1",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(l){var o="disabled",c=this.$element,n=c.is("input")?"val":"html",u=c.data();l+="Text",u.resetText==null&&c.data("resetText",c[n]()),setTimeout(e.proxy(function(){c[n](u[l]==null?this.options[l]:u[l]),l=="loadingText"?(this.isLoading=!0,c.addClass(o).attr(o,o).prop(o,!0)):this.isLoading&&(this.isLoading=!1,c.removeClass(o).removeAttr(o).prop(o,!1))},this),0)},t.prototype.toggle=function(){var l=!0,o=this.$element.closest('[data-toggle="buttons"]');if(o.length){var c=this.$element.find("input");c.prop("type")=="radio"?(c.prop("checked")&&(l=!1),o.find(".active").removeClass("active"),this.$element.addClass("active")):c.prop("type")=="checkbox"&&(c.prop("checked")!==this.$element.hasClass("active")&&(l=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),l&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.button"),n=typeof l=="object"&&l;c||o.data("bs.button",c=new t(this,n)),l=="toggle"?c.toggle():l&&c.setState(l)})}var a=e.fn.button;e.fn.button=r,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(l){var o=e(l.target).closest(".btn");r.call(o,"toggle"),e(l.target).is('input[type="radio"], input[type="checkbox"]')||(l.preventDefault(),o.is("input,button")?o.trigger("focus"):o.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(l){e(l.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(l.type))})}(jQuery)}),FA=Do(()=>{+function(e){"use strict";var t=function(o,c){this.$element=e(o),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};t.VERSION="3.4.1",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(o){if(!/input|textarea/i.test(o.target.tagName)){switch(o.which){case 37:this.prev();break;case 39:this.next();break;default:return}o.preventDefault()}},t.prototype.cycle=function(o){return o||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(o){return this.$items=o.parent().children(".item"),this.$items.index(o||this.$active)},t.prototype.getItemForDirection=function(o,c){var n=this.getItemIndex(c),u=o=="prev"&&n===0||o=="next"&&n==this.$items.length-1;if(u&&!this.options.wrap)return c;var p=o=="prev"?-1:1,g=(n+p)%this.$items.length;return this.$items.eq(g)},t.prototype.to=function(o){var c=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(o>this.$items.length-1||o<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(o)}):n==o?this.pause().cycle():this.slide(o>n?"next":"prev",this.$items.eq(o))},t.prototype.pause=function(o){return o||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(o,c){var n=this.$element.find(".item.active"),u=c||this.getItemForDirection(o,n),p=this.interval,g=o=="next"?"left":"right",m=this;if(u.hasClass("active"))return this.sliding=!1;var y=u[0],x=e.Event("slide.bs.carousel",{relatedTarget:y,direction:g});if(this.$element.trigger(x),!x.isDefaultPrevented()){if(this.sliding=!0,p&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var w=e(this.$indicators.children()[this.getItemIndex(u)]);w&&w.addClass("active")}var k=e.Event("slid.bs.carousel",{relatedTarget:y,direction:g});return e.support.transition&&this.$element.hasClass("slide")?(u.addClass(o),typeof u=="object"&&u.length&&u[0].offsetWidth,n.addClass(g),u.addClass(g),n.one("bsTransitionEnd",function(){u.removeClass([o,g].join(" ")).addClass("active"),n.removeClass(["active",g].join(" ")),m.sliding=!1,setTimeout(function(){m.$element.trigger(k)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(n.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(k)),p&&this.cycle(),this}};function r(o){return this.each(function(){var c=e(this),n=c.data("bs.carousel"),u=e.extend({},t.DEFAULTS,c.data(),typeof o=="object"&&o),p=typeof o=="string"?o:u.slide;n||c.data("bs.carousel",n=new t(this,u)),typeof o=="number"?n.to(o):p?n[p]():u.interval&&n.pause().cycle()})}var a=e.fn.carousel;e.fn.carousel=r,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=a,this};var l=function(o){var c=e(this),n=c.attr("href");n&&(n=n.replace(/.*(?=#[^\s]+$)/,""));var u=c.attr("data-target")||n,p=e(document).find(u);if(p.hasClass("carousel")){var g=e.extend({},p.data(),c.data()),m=c.attr("data-slide-to");m&&(g.interval=!1),r.call(p,g),m&&p.data("bs.carousel").to(m),o.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",l).on("click.bs.carousel.data-api","[data-slide-to]",l),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var o=e(this);r.call(o,o.data())})})}(jQuery)}),zA=Do(()=>{+function(e){"use strict";var t=function(o,c){this.$element=e(o),this.options=e.extend({},t.DEFAULTS,c),this.$trigger=e('[data-toggle="collapse"][href="#'+o.id+'"],[data-toggle="collapse"][data-target="#'+o.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};t.VERSION="3.4.1",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var o=this.$element.hasClass("width");return o?"width":"height"},t.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass("in"))){var o,c=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(c&&c.length&&(o=c.data("bs.collapse"),o&&o.transitioning))){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){c&&c.length&&(a.call(c,"hide"),o||c.data("bs.collapse",null));var u=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var p=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return p.call(this);var g=e.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",e.proxy(p,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][g])}}}},t.prototype.hide=function(){if(!(this.transitioning||!this.$element.hasClass("in"))){var o=e.Event("hide.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return n.call(this);this.$element[c](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(o,c){var n=e(c);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(o,c){var n=o.hasClass("in");o.attr("aria-expanded",n),c.toggleClass("collapsed",!n).attr("aria-expanded",n)};function r(o){var c,n=o.attr("data-target")||(c=o.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return e(document).find(n)}function a(o){return this.each(function(){var c=e(this),n=c.data("bs.collapse"),u=e.extend({},t.DEFAULTS,c.data(),typeof o=="object"&&o);!n&&u.toggle&&/show|hide/.test(o)&&(u.toggle=!1),n||c.data("bs.collapse",n=new t(this,u)),typeof o=="string"&&n[o]()})}var l=e.fn.collapse;e.fn.collapse=a,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=l,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var c=e(this);c.attr("data-target")||o.preventDefault();var n=r(c),u=n.data("bs.collapse"),p=u?"toggle":c.data();a.call(n,p)})}(jQuery)}),UA=Do(()=>{+function(e){"use strict";var t=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(u){e(u).on("click.bs.dropdown",this.toggle)};a.VERSION="3.4.1";function l(u){var p=u.attr("data-target");p||(p=u.attr("href"),p=p&&/#[A-Za-z]/.test(p)&&p.replace(/.*(?=#[^\s]*$)/,""));var g=p!=="#"?e(document).find(p):null;return g&&g.length?g:u.parent()}function o(u){u&&u.which===3||(e(t).remove(),e(r).each(function(){var p=e(this),g=l(p),m={relatedTarget:this};g.hasClass("open")&&(u&&u.type=="click"&&/input|textarea/i.test(u.target.tagName)&&e.contains(g[0],u.target)||(g.trigger(u=e.Event("hide.bs.dropdown",m)),!u.isDefaultPrevented()&&(p.attr("aria-expanded","false"),g.removeClass("open").trigger(e.Event("hidden.bs.dropdown",m)))))}))}a.prototype.toggle=function(u){var p=e(this);if(!p.is(".disabled, :disabled")){var g=l(p),m=g.hasClass("open");if(o(),!m){"ontouchstart"in document.documentElement&&!g.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",o);var y={relatedTarget:this};if(g.trigger(u=e.Event("show.bs.dropdown",y)),u.isDefaultPrevented())return;p.trigger("focus").attr("aria-expanded","true"),g.toggleClass("open").trigger(e.Event("shown.bs.dropdown",y))}return!1}},a.prototype.keydown=function(u){if(!(!/(38|40|27|32)/.test(u.which)||/input|textarea/i.test(u.target.tagName))){var p=e(this);if(u.preventDefault(),u.stopPropagation(),!p.is(".disabled, :disabled")){var g=l(p),m=g.hasClass("open");if(!m&&u.which!=27||m&&u.which==27)return u.which==27&&g.find(r).trigger("focus"),p.trigger("click");var y=" li:not(.disabled):visible a",x=g.find(".dropdown-menu"+y);if(x.length){var w=x.index(u.target);u.which==38&&w>0&&w--,u.which==40&&w<x.length-1&&w++,~w||(w=0),x.eq(w).trigger("focus")}}}};function c(u){return this.each(function(){var p=e(this),g=p.data("bs.dropdown");g||p.data("bs.dropdown",g=new a(this)),typeof u=="string"&&g[u].call(p)})}var n=e.fn.dropdown;e.fn.dropdown=c,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=n,this},e(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(u){u.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery)}),VA=Do(()=>{+function(e){"use strict";var t=function(l,o){this.options=o,this.$body=e(document.body),this.$element=e(l),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.4.1",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(l){return this.isShown?this.hide():this.show(l)},t.prototype.show=function(l){var o=this,c=e.Event("show.bs.modal",{relatedTarget:l});this.$element.trigger(c),!(this.isShown||c.isDefaultPrevented())&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(n){e(n.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=e.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var u=e.Event("shown.bs.modal",{relatedTarget:l});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):o.$element.trigger("focus").trigger(u)}))},t.prototype.hide=function(l){l&&l.preventDefault(),l=e.Event("hide.bs.modal"),this.$element.trigger(l),!(!this.isShown||l.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(l){document!==l.target&&this.$element[0]!==l.target&&!this.$element.has(l.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(l){l.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var l=this;this.$element.hide(),this.backdrop(function(){l.$body.removeClass("modal-open"),l.resetAdjustments(),l.resetScrollbar(),l.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(l){var o=this,c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&c;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+c).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(p){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}p.target===p.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!l)return;n?this.$backdrop.one("bsTransitionEnd",l).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):l()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var u=function(){o.removeBackdrop(),l&&l()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()}else l&&l()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var l=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&l?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!l?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var l=window.innerWidth;if(!l){var o=document.documentElement.getBoundingClientRect();l=o.right-Math.abs(o.left)}this.bodyIsOverflowing=document.body.clientWidth<l,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var l=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var o=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",l+o),e(this.fixedContent).each(function(c,n){var u=n.style.paddingRight,p=e(n).css("padding-right");e(n).data("padding-right",u).css("padding-right",parseFloat(p)+o+"px")}))},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),e(this.fixedContent).each(function(l,o){var c=e(o).data("padding-right");e(o).removeData("padding-right"),o.style.paddingRight=c||""})},t.prototype.measureScrollbar=function(){var l=document.createElement("div");l.className="modal-scrollbar-measure",this.$body.append(l);var o=l.offsetWidth-l.clientWidth;return this.$body[0].removeChild(l),o};function r(l,o){return this.each(function(){var c=e(this),n=c.data("bs.modal"),u=e.extend({},t.DEFAULTS,c.data(),typeof l=="object"&&l);n||c.data("bs.modal",n=new t(this,u)),typeof l=="string"?n[l](o):u.show&&n.show(o)})}var a=e.fn.modal;e.fn.modal=r,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(l){var o=e(this),c=o.attr("href"),n=o.attr("data-target")||c&&c.replace(/.*(?=#[^\s]+$)/,""),u=e(document).find(n),p=u.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(c)&&c},u.data(),o.data());o.is("a")&&l.preventDefault(),u.one("show.bs.modal",function(g){g.isDefaultPrevented()||u.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),r.call(u,p,this)})}(jQuery)}),WA=Do(()=>{+function(e){"use strict";var t=["sanitize","whiteList","sanitizeFn"],r=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],a=/^aria-[\w-]*$/i,l={"*":["class","dir","id","lang","role",a],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},o=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,c=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function n(y,x){var w=y.nodeName.toLowerCase();if(e.inArray(w,x)!==-1)return e.inArray(w,r)!==-1?!!(y.nodeValue.match(o)||y.nodeValue.match(c)):!0;for(var k=e(x).filter(function(E,L){return L instanceof RegExp}),S=0,P=k.length;S<P;S++)if(w.match(k[S]))return!0;return!1}function u(y,x,w){if(y.length===0)return y;if(w&&typeof w=="function")return w(y);if(!document.implementation||!document.implementation.createHTMLDocument)return y;var k=document.implementation.createHTMLDocument("sanitization");k.body.innerHTML=y;for(var S=e.map(x,function(N,G){return G}),P=e(k.body).find("*"),E=0,L=P.length;E<L;E++){var s=P[E],h=s.nodeName.toLowerCase();if(e.inArray(h,S)===-1){s.parentNode.removeChild(s);continue}for(var v=e.map(s.attributes,function(N){return N}),d=[].concat(x["*"]||[],x[h]||[]),_=0,C=v.length;_<C;_++)n(v[_],d)||s.removeAttribute(v[_].nodeName)}return k.body.innerHTML}var p=function(y,x){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",y,x)};p.VERSION="3.4.1",p.TRANSITION_DURATION=150,p.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:l},p.prototype.init=function(y,x,w){if(this.enabled=!0,this.type=y,this.$element=e(x),this.options=this.getOptions(w),this.$viewport=this.options.viewport&&e(document).find(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var k=this.options.trigger.split(" "),S=k.length;S--;){var P=k[S];if(P=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(P!="manual"){var E=P=="hover"?"mouseenter":"focusin",L=P=="hover"?"mouseleave":"focusout";this.$element.on(E+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(L+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},p.prototype.getDefaults=function(){return p.DEFAULTS},p.prototype.getOptions=function(y){var x=this.$element.data();for(var w in x)x.hasOwnProperty(w)&&e.inArray(w,t)!==-1&&delete x[w];return y=e.extend({},this.getDefaults(),x,y),y.delay&&typeof y.delay=="number"&&(y.delay={show:y.delay,hide:y.delay}),y.sanitize&&(y.template=u(y.template,y.whiteList,y.sanitizeFn)),y},p.prototype.getDelegateOptions=function(){var y={},x=this.getDefaults();return this._options&&e.each(this._options,function(w,k){x[w]!=k&&(y[w]=k)}),y},p.prototype.enter=function(y){var x=y instanceof this.constructor?y:e(y.currentTarget).data("bs."+this.type);if(x||(x=new this.constructor(y.currentTarget,this.getDelegateOptions()),e(y.currentTarget).data("bs."+this.type,x)),y instanceof e.Event&&(x.inState[y.type=="focusin"?"focus":"hover"]=!0),x.tip().hasClass("in")||x.hoverState=="in"){x.hoverState="in";return}if(clearTimeout(x.timeout),x.hoverState="in",!x.options.delay||!x.options.delay.show)return x.show();x.timeout=setTimeout(function(){x.hoverState=="in"&&x.show()},x.options.delay.show)},p.prototype.isInStateTrue=function(){for(var y in this.inState)if(this.inState[y])return!0;return!1},p.prototype.leave=function(y){var x=y instanceof this.constructor?y:e(y.currentTarget).data("bs."+this.type);if(x||(x=new this.constructor(y.currentTarget,this.getDelegateOptions()),e(y.currentTarget).data("bs."+this.type,x)),y instanceof e.Event&&(x.inState[y.type=="focusout"?"focus":"hover"]=!1),!x.isInStateTrue()){if(clearTimeout(x.timeout),x.hoverState="out",!x.options.delay||!x.options.delay.hide)return x.hide();x.timeout=setTimeout(function(){x.hoverState=="out"&&x.hide()},x.options.delay.hide)}},p.prototype.show=function(){var y=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(y);var x=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(y.isDefaultPrevented()||!x)return;var w=this,k=this.tip(),S=this.getUID(this.type);this.setContent(),k.attr("id",S),this.$element.attr("aria-describedby",S),this.options.animation&&k.addClass("fade");var P=typeof this.options.placement=="function"?this.options.placement.call(this,k[0],this.$element[0]):this.options.placement,E=/\s?auto?\s?/i,L=E.test(P);L&&(P=P.replace(E,"")||"top"),k.detach().css({top:0,left:0,display:"block"}).addClass(P).data("bs."+this.type,this),this.options.container?k.appendTo(e(document).find(this.options.container)):k.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var s=this.getPosition(),h=k[0].offsetWidth,v=k[0].offsetHeight;if(L){var d=P,_=this.getPosition(this.$viewport);P=P=="bottom"&&s.bottom+v>_.bottom?"top":P=="top"&&s.top-v<_.top?"bottom":P=="right"&&s.right+h>_.width?"left":P=="left"&&s.left-h<_.left?"right":P,k.removeClass(d).addClass(P)}var C=this.getCalculatedOffset(P,s,h,v);this.applyPlacement(C,P);var N=function(){var G=w.hoverState;w.$element.trigger("shown.bs."+w.type),w.hoverState=null,G=="out"&&w.leave(w)};e.support.transition&&this.$tip.hasClass("fade")?k.one("bsTransitionEnd",N).emulateTransitionEnd(p.TRANSITION_DURATION):N()}},p.prototype.applyPlacement=function(y,x){var w=this.tip(),k=w[0].offsetWidth,S=w[0].offsetHeight,P=parseInt(w.css("margin-top"),10),E=parseInt(w.css("margin-left"),10);isNaN(P)&&(P=0),isNaN(E)&&(E=0),y.top+=P,y.left+=E,e.offset.setOffset(w[0],e.extend({using:function(C){w.css({top:Math.round(C.top),left:Math.round(C.left)})}},y),0),w.addClass("in");var L=w[0].offsetWidth,s=w[0].offsetHeight;x=="top"&&s!=S&&(y.top=y.top+S-s);var h=this.getViewportAdjustedDelta(x,y,L,s);h.left?y.left+=h.left:y.top+=h.top;var v=/top|bottom/.test(x),d=v?h.left*2-k+L:h.top*2-S+s,_=v?"offsetWidth":"offsetHeight";w.offset(y),this.replaceArrow(d,w[0][_],v)},p.prototype.replaceArrow=function(y,x,w){this.arrow().css(w?"left":"top",50*(1-y/x)+"%").css(w?"top":"left","")},p.prototype.setContent=function(){var y=this.tip(),x=this.getTitle();this.options.html?(this.options.sanitize&&(x=u(x,this.options.whiteList,this.options.sanitizeFn)),y.find(".tooltip-inner").html(x)):y.find(".tooltip-inner").text(x),y.removeClass("fade in top bottom left right")},p.prototype.hide=function(y){var x=this,w=e(this.$tip),k=e.Event("hide.bs."+this.type);function S(){x.hoverState!="in"&&w.detach(),x.$element&&x.$element.removeAttr("aria-describedby").trigger("hidden.bs."+x.type),y&&y()}if(this.$element.trigger(k),!k.isDefaultPrevented())return w.removeClass("in"),e.support.transition&&w.hasClass("fade")?w.one("bsTransitionEnd",S).emulateTransitionEnd(p.TRANSITION_DURATION):S(),this.hoverState=null,this},p.prototype.fixTitle=function(){var y=this.$element;(y.attr("title")||typeof y.attr("data-original-title")!="string")&&y.attr("data-original-title",y.attr("title")||"").attr("title","")},p.prototype.hasContent=function(){return this.getTitle()},p.prototype.getPosition=function(y){y=y||this.$element;var x=y[0],w=x.tagName=="BODY",k=x.getBoundingClientRect();k.width==null&&(k=e.extend({},k,{width:k.right-k.left,height:k.bottom-k.top}));var S=window.SVGElement&&x instanceof window.SVGElement,P=w?{top:0,left:0}:S?null:y.offset(),E={scroll:w?document.documentElement.scrollTop||document.body.scrollTop:y.scrollTop()},L=w?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},k,E,L,P)},p.prototype.getCalculatedOffset=function(y,x,w,k){return y=="bottom"?{top:x.top+x.height,left:x.left+x.width/2-w/2}:y=="top"?{top:x.top-k,left:x.left+x.width/2-w/2}:y=="left"?{top:x.top+x.height/2-k/2,left:x.left-w}:{top:x.top+x.height/2-k/2,left:x.left+x.width}},p.prototype.getViewportAdjustedDelta=function(y,x,w,k){var S={top:0,left:0};if(!this.$viewport)return S;var P=this.options.viewport&&this.options.viewport.padding||0,E=this.getPosition(this.$viewport);if(/right|left/.test(y)){var L=x.top-P-E.scroll,s=x.top+P-E.scroll+k;L<E.top?S.top=E.top-L:s>E.top+E.height&&(S.top=E.top+E.height-s)}else{var h=x.left-P,v=x.left+P+w;h<E.left?S.left=E.left-h:v>E.right&&(S.left=E.left+E.width-v)}return S},p.prototype.getTitle=function(){var y,x=this.$element,w=this.options;return y=x.attr("data-original-title")||(typeof w.title=="function"?w.title.call(x[0]):w.title),y},p.prototype.getUID=function(y){do y+=~~(Math.random()*1e6);while(document.getElementById(y));return y},p.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},p.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},p.prototype.enable=function(){this.enabled=!0},p.prototype.disable=function(){this.enabled=!1},p.prototype.toggleEnabled=function(){this.enabled=!this.enabled},p.prototype.toggle=function(y){var x=this;y&&(x=e(y.currentTarget).data("bs."+this.type),x||(x=new this.constructor(y.currentTarget,this.getDelegateOptions()),e(y.currentTarget).data("bs."+this.type,x))),y?(x.inState.click=!x.inState.click,x.isInStateTrue()?x.enter(x):x.leave(x)):x.tip().hasClass("in")?x.leave(x):x.enter(x)},p.prototype.destroy=function(){var y=this;clearTimeout(this.timeout),this.hide(function(){y.$element.off("."+y.type).removeData("bs."+y.type),y.$tip&&y.$tip.detach(),y.$tip=null,y.$arrow=null,y.$viewport=null,y.$element=null})},p.prototype.sanitizeHtml=function(y){return u(y,this.options.whiteList,this.options.sanitizeFn)};function g(y){return this.each(function(){var x=e(this),w=x.data("bs.tooltip"),k=typeof y=="object"&&y;!w&&/destroy|hide/.test(y)||(w||x.data("bs.tooltip",w=new p(this,k)),typeof y=="string"&&w[y]())})}var m=e.fn.tooltip;e.fn.tooltip=g,e.fn.tooltip.Constructor=p,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=m,this}}(jQuery)}),qA=Do(()=>{+function(e){"use strict";var t=function(l,o){this.init("popover",l,o)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var l=this.tip(),o=this.getTitle(),c=this.getContent();if(this.options.html){var n=typeof c;this.options.sanitize&&(o=this.sanitizeHtml(o),n==="string"&&(c=this.sanitizeHtml(c))),l.find(".popover-title").html(o),l.find(".popover-content").children().detach().end()[n==="string"?"html":"append"](c)}else l.find(".popover-title").text(o),l.find(".popover-content").children().detach().end().text(c);l.removeClass("fade top bottom left right in"),l.find(".popover-title").html()||l.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var l=this.$element,o=this.options;return l.attr("data-content")||(typeof o.content=="function"?o.content.call(l[0]):o.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.popover"),n=typeof l=="object"&&l;!c&&/destroy|hide/.test(l)||(c||o.data("bs.popover",c=new t(this,n)),typeof l=="string"&&c[l]())})}var a=e.fn.popover;e.fn.popover=r,e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=a,this}}(jQuery)}),GA=Do(()=>{+function(e){"use strict";function t(l,o){this.$body=e(document.body),this.$scrollElement=e(l).is(document.body)?e(window):e(l),this.options=e.extend({},t.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}t.VERSION="3.4.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var l=this,o="offset",c=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(o="position",c=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var n=e(this),u=n.data("target")||n.attr("href"),p=/^#./.test(u)&&e(u);return p&&p.length&&p.is(":visible")&&[[p[o]().top+c,u]]||null}).sort(function(n,u){return n[0]-u[0]}).each(function(){l.offsets.push(this[0]),l.targets.push(this[1])})},t.prototype.process=function(){var l=this.$scrollElement.scrollTop()+this.options.offset,o=this.getScrollHeight(),c=this.options.offset+o-this.$scrollElement.height(),n=this.offsets,u=this.targets,p=this.activeTarget,g;if(this.scrollHeight!=o&&this.refresh(),l>=c)return p!=(g=u[u.length-1])&&this.activate(g);if(p&&l<n[0])return this.activeTarget=null,this.clear();for(g=n.length;g--;)p!=u[g]&&l>=n[g]&&(n[g+1]===void 0||l<n[g+1])&&this.activate(u[g])},t.prototype.activate=function(l){this.activeTarget=l,this.clear();var o=this.selector+'[data-target="'+l+'"],'+this.selector+'[href="'+l+'"]',c=e(o).parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.scrollspy"),n=typeof l=="object"&&l;c||o.data("bs.scrollspy",c=new t(this,n)),typeof l=="string"&&c[l]()})}var a=e.fn.scrollspy;e.fn.scrollspy=r,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=a,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var l=e(this);r.call(l,l.data())})})}(jQuery)}),YA=Do(()=>{+function(e){"use strict";var t=function(o){this.element=e(o)};t.VERSION="3.4.1",t.TRANSITION_DURATION=150,t.prototype.show=function(){var o=this.element,c=o.closest("ul:not(.dropdown-menu)"),n=o.data("target");if(n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!o.parent("li").hasClass("active")){var u=c.find(".active:last a"),p=e.Event("hide.bs.tab",{relatedTarget:o[0]}),g=e.Event("show.bs.tab",{relatedTarget:u[0]});if(u.trigger(p),o.trigger(g),!(g.isDefaultPrevented()||p.isDefaultPrevented())){var m=e(document).find(n);this.activate(o.closest("li"),c),this.activate(m,m.parent(),function(){u.trigger({type:"hidden.bs.tab",relatedTarget:o[0]}),o.trigger({type:"shown.bs.tab",relatedTarget:u[0]})})}}},t.prototype.activate=function(o,c,n){var u=c.find("> .active"),p=n&&e.support.transition&&(u.length&&u.hasClass("fade")||!!c.find("> .fade").length);function g(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),o.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),p?(o[0].offsetWidth,o.addClass("in")):o.removeClass("fade"),o.parent(".dropdown-menu").length&&o.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}u.length&&p?u.one("bsTransitionEnd",g).emulateTransitionEnd(t.TRANSITION_DURATION):g(),u.removeClass("in")};function r(o){return this.each(function(){var c=e(this),n=c.data("bs.tab");n||c.data("bs.tab",n=new t(this)),typeof o=="string"&&n[o]()})}var a=e.fn.tab;e.fn.tab=r,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=a,this};var l=function(o){o.preventDefault(),r.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',l).on("click.bs.tab.data-api",'[data-toggle="pill"]',l)}(jQuery)}),KA=Do(()=>{+function(e){"use strict";var t=function(l,o){this.options=e.extend({},t.DEFAULTS,o);var c=this.options.target===t.DEFAULTS.target?e(this.options.target):e(document).find(this.options.target);this.$target=c.on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(l),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};t.VERSION="3.4.1",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(l,o,c,n){var u=this.$target.scrollTop(),p=this.$element.offset(),g=this.$target.height();if(c!=null&&this.affixed=="top")return u<c?"top":!1;if(this.affixed=="bottom")return c!=null?u+this.unpin<=p.top?!1:"bottom":u+g<=l-n?!1:"bottom";var m=this.affixed==null,y=m?u:p.top,x=m?g:o;return c!=null&&u<=c?"top":n!=null&&y+x>=l-n?"bottom":!1},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var l=this.$target.scrollTop(),o=this.$element.offset();return this.pinnedOffset=o.top-l},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var l=this.$element.height(),o=this.options.offset,c=o.top,n=o.bottom,u=Math.max(e(document).height(),e(document.body).height());typeof o!="object"&&(n=c=o),typeof c=="function"&&(c=o.top(this.$element)),typeof n=="function"&&(n=o.bottom(this.$element));var p=this.getState(u,l,c,n);if(this.affixed!=p){this.unpin!=null&&this.$element.css("top","");var g="affix"+(p?"-"+p:""),m=e.Event(g+".bs.affix");if(this.$element.trigger(m),m.isDefaultPrevented())return;this.affixed=p,this.unpin=p=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(g).trigger(g.replace("affix","affixed")+".bs.affix")}p=="bottom"&&this.$element.offset({top:u-l-n})}};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.affix"),n=typeof l=="object"&&l;c||o.data("bs.affix",c=new t(this,n)),typeof l=="string"&&c[l]()})}var a=e.fn.affix;e.fn.affix=r,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=a,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var l=e(this),o=l.data();o.offset=o.offset||{},o.offsetBottom!=null&&(o.offset.bottom=o.offsetBottom),o.offsetTop!=null&&(o.offset.top=o.offsetTop),r.call(l,o)})})}(jQuery)}),N1=Do(()=>{NA(),BA(),HA(),FA(),zA(),UA(),VA(),WA(),qA(),GA(),YA(),KA()}),B1={};DA(B1,{default:()=>gm});XA=j1(N1());jA(B1,j1(N1()));R1=XA,{default:D1}=R1,ZA=an(R1,["default"]),gm=D1!==void 0?D1:ZA});var ym={};Dn(ym,{default:()=>gm});var bm=Kt(()=>{vm();vm()});var JA,xm,QA,eS,tS,iS,rS,nS,wm,oS,z1,U1,V1,aS,H1,F1,sS,_m,km=Kt(()=>{JA=Object.create,xm=Object.defineProperty,QA=Object.getOwnPropertyDescriptor,eS=Object.getOwnPropertyNames,tS=Object.getPrototypeOf,iS=Object.prototype.hasOwnProperty,rS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),nS=(e,t)=>{for(var r in t)xm(e,r,{get:t[r],enumerable:!0})},wm=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of eS(t))!iS.call(e,l)&&l!==r&&xm(e,l,{get:()=>t[l],enumerable:!(a=QA(t,l))||a.enumerable});return e},oS=(e,t,r)=>(wm(e,t,"default"),r&&wm(r,t,"default")),z1=(e,t,r)=>(r=e!=null?JA(tS(e)):{},wm(t||!e||!e.__esModule?xm(r,"default",{value:e,enumerable:!0}):r,e)),U1=rS(()=>{(function(e){e.color={},e.color.make=function(r,a,l,o){var c={};return c.r=r||0,c.g=a||0,c.b=l||0,c.a=o!=null?o:1,c.add=function(n,u){for(var p=0;p<n.length;++p)c[n.charAt(p)]+=u;return c.normalize()},c.scale=function(n,u){for(var p=0;p<n.length;++p)c[n.charAt(p)]*=u;return c.normalize()},c.toString=function(){return c.a>=1?"rgb("+[c.r,c.g,c.b].join(",")+")":"rgba("+[c.r,c.g,c.b,c.a].join(",")+")"},c.normalize=function(){function n(u,p,g){return p<u?u:p>g?g:p}return c.r=n(0,parseInt(c.r),255),c.g=n(0,parseInt(c.g),255),c.b=n(0,parseInt(c.b),255),c.a=n(0,c.a,1),c},c.clone=function(){return e.color.make(c.r,c.b,c.g,c.a)},c.normalize()},e.color.extract=function(r,a){var l;do{if(l=r.css(a).toLowerCase(),l!=""&&l!="transparent")break;r=r.parent()}while(r.length&&!e.nodeName(r.get(0),"body"));return l=="rgba(0, 0, 0, 0)"&&(l="transparent"),e.color.parse(l)},e.color.parse=function(r){var a,l=e.color.make;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(r))return l(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10));if(a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(r))return l(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseFloat(a[4]));if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(r))return l(parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55);if(a=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(r))return l(parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55,parseFloat(a[4]));if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(r))return l(parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16));if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(r))return l(parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16));var o=e.trim(r).toLowerCase();return o=="transparent"?l(255,255,255,0):(a=t[o]||[0,0,0],l(a[0],a[1],a[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(e){var t=Object.prototype.hasOwnProperty;e.fn.detach||(e.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});function r(o,c){var n=c.children("."+o)[0];if(n==null&&(n=document.createElement("canvas"),n.className=o,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!n.getContext))if(window.G_vmlCanvasManager)n=window.G_vmlCanvasManager.initElement(n);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=n;var u=this.context=n.getContext("2d"),p=window.devicePixelRatio||1,g=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;this.pixelRatio=p/g,this.resize(c.width(),c.height()),this.textContainer=null,this.text={},this._textCache={}}r.prototype.resize=function(o,c){if(o<=0||c<=0)throw new Error("Invalid dimensions for plot, width = "+o+", height = "+c);var n=this.element,u=this.context,p=this.pixelRatio;this.width!=o&&(n.width=o*p,n.style.width=o+"px",this.width=o),this.height!=c&&(n.height=c*p,n.style.height=c+"px",this.height=c),u.restore(),u.save(),u.scale(p,p)},r.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},r.prototype.render=function(){var o=this._textCache;for(var c in o)if(t.call(o,c)){var n=this.getTextLayer(c),u=o[c];n.hide();for(var p in u)if(t.call(u,p)){var g=u[p];for(var m in g)if(t.call(g,m)){for(var y=g[m].positions,x=0,w;w=y[x];x++)w.active?w.rendered||(n.append(w.element),w.rendered=!0):(y.splice(x--,1),w.rendered&&w.element.detach());y.length==0&&delete g[m]}}n.show()}},r.prototype.getTextLayer=function(o){var c=this.text[o];return c==null&&(this.textContainer==null&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[o]=e("<div></div>").addClass(o).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),c},r.prototype.getTextInfo=function(o,c,n,u,p){var g,m,y,x;if(c=""+c,typeof n=="object"?g=n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:g=n,m=this._textCache[o],m==null&&(m=this._textCache[o]={}),y=m[g],y==null&&(y=m[g]={}),x=y[c],x==null){var w=e("<div></div>").html(c).css({position:"absolute","max-width":p,top:-9999}).appendTo(this.getTextLayer(o));typeof n=="object"?w.css({font:g,color:n.color}):typeof n=="string"&&w.addClass(n),x=y[c]={width:w.outerWidth(!0),height:w.outerHeight(!0),element:w,positions:[]},w.detach()}return x},r.prototype.addText=function(o,c,n,u,p,g,m,y,x){var w=this.getTextInfo(o,u,p,g,m),k=w.positions;y=="center"?c-=w.width/2:y=="right"&&(c-=w.width),x=="middle"?n-=w.height/2:x=="bottom"&&(n-=w.height);for(var S=0,P;P=k[S];S++)if(P.x==c&&P.y==n){P.active=!0;return}P={active:!0,rendered:!1,element:k.length?w.element.clone():w.element,x:c,y:n},k.push(P),P.element.css({top:Math.round(n),left:Math.round(c),"text-align":y})},r.prototype.removeText=function(o,c,n,u,p,g){if(u==null){var m=this._textCache[o];if(m!=null){for(var y in m)if(t.call(m,y)){var x=m[y];for(var w in x)if(t.call(x,w))for(var k=x[w].positions,S=0,P;P=k[S];S++)P.active=!1}}}else for(var k=this.getTextInfo(o,u,p,g).positions,S=0,P;P=k[S];S++)P.x==c&&P.y==n&&(P.active=!1)};function a(o,c,n,u){var p=[],g={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},m=null,y=null,x=null,w=null,k=null,S=[],P=[],E={left:0,right:0,top:0,bottom:0},L=0,s=0,h={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},v=this;v.setData=N,v.setupGrid=ft,v.draw=De,v.getPlaceholder=function(){return o},v.getCanvas=function(){return m.element},v.getPlotOffset=function(){return E},v.width=function(){return L},v.height=function(){return s},v.offset=function(){var I=x.offset();return I.left+=E.left,I.top+=E.top,I},v.getData=function(){return p},v.getAxes=function(){var I={},We;return e.each(S.concat(P),function(ke,Ye){Ye&&(I[Ye.direction+(Ye.n!=1?Ye.n:"")+"axis"]=Ye)}),I},v.getXAxes=function(){return S},v.getYAxes=function(){return P},v.c2p=ie,v.p2c=Q,v.getOptions=function(){return g},v.highlight=ui,v.unhighlight=Mt,v.triggerRedrawOverlay=ii,v.pointOffset=function(I){return{left:parseInt(S[q(I,"x")-1].p2c(+I.x)+E.left,10),top:parseInt(P[q(I,"y")-1].p2c(+I.y)+E.top,10)}},v.shutdown=de,v.destroy=function(){de(),o.removeData("plot").empty(),p=[],g=null,m=null,y=null,x=null,w=null,k=null,S=[],P=[],h=null,Ee=[],v=null},v.resize=function(){var I=o.width(),We=o.height();m.resize(I,We),y.resize(I,We)},v.hooks=h,_(v),C(n),W(),N(c),ft(),De(),ae();function d(I,We){We=[v].concat(We);for(var ke=0;ke<I.length;++ke)I[ke].apply(this,We)}function _(){for(var I={Canvas:r},We=0;We<u.length;++We){var ke=u[We];ke.init(v,I),ke.options&&e.extend(!0,g,ke.options)}}function C(I){e.extend(!0,g,I),I&&I.colors&&(g.colors=I.colors),g.xaxis.color==null&&(g.xaxis.color=e.color.parse(g.grid.color).scale("a",.22).toString()),g.yaxis.color==null&&(g.yaxis.color=e.color.parse(g.grid.color).scale("a",.22).toString()),g.xaxis.tickColor==null&&(g.xaxis.tickColor=g.grid.tickColor||g.xaxis.color),g.yaxis.tickColor==null&&(g.yaxis.tickColor=g.grid.tickColor||g.yaxis.color),g.grid.borderColor==null&&(g.grid.borderColor=g.grid.color),g.grid.tickColor==null&&(g.grid.tickColor=e.color.parse(g.grid.color).scale("a",.22).toString());var We,ke,Ye,Qe=o.css("font-size"),ht=Qe?+Qe.replace("px",""):13,oe={style:o.css("font-style"),size:Math.round(.8*ht),variant:o.css("font-variant"),weight:o.css("font-weight"),family:o.css("font-family")};for(Ye=g.xaxes.length||1,We=0;We<Ye;++We)ke=g.xaxes[We],ke&&!ke.tickColor&&(ke.tickColor=ke.color),ke=e.extend(!0,{},g.xaxis,ke),g.xaxes[We]=ke,ke.font&&(ke.font=e.extend({},oe,ke.font),ke.font.color||(ke.font.color=ke.color),ke.font.lineHeight||(ke.font.lineHeight=Math.round(ke.font.size*1.15)));for(Ye=g.yaxes.length||1,We=0;We<Ye;++We)ke=g.yaxes[We],ke&&!ke.tickColor&&(ke.tickColor=ke.color),ke=e.extend(!0,{},g.yaxis,ke),g.yaxes[We]=ke,ke.font&&(ke.font=e.extend({},oe,ke.font),ke.font.color||(ke.font.color=ke.color),ke.font.lineHeight||(ke.font.lineHeight=Math.round(ke.font.size*1.15)));for(g.xaxis.noTicks&&g.xaxis.ticks==null&&(g.xaxis.ticks=g.xaxis.noTicks),g.yaxis.noTicks&&g.yaxis.ticks==null&&(g.yaxis.ticks=g.yaxis.noTicks),g.x2axis&&(g.xaxes[1]=e.extend(!0,{},g.xaxis,g.x2axis),g.xaxes[1].position="top",g.x2axis.min==null&&(g.xaxes[1].min=null),g.x2axis.max==null&&(g.xaxes[1].max=null)),g.y2axis&&(g.yaxes[1]=e.extend(!0,{},g.yaxis,g.y2axis),g.yaxes[1].position="right",g.y2axis.min==null&&(g.yaxes[1].min=null),g.y2axis.max==null&&(g.yaxes[1].max=null)),g.grid.coloredAreas&&(g.grid.markings=g.grid.coloredAreas),g.grid.coloredAreasColor&&(g.grid.markingsColor=g.grid.coloredAreasColor),g.lines&&e.extend(!0,g.series.lines,g.lines),g.points&&e.extend(!0,g.series.points,g.points),g.bars&&e.extend(!0,g.series.bars,g.bars),g.shadowSize!=null&&(g.series.shadowSize=g.shadowSize),g.highlightColor!=null&&(g.series.highlightColor=g.highlightColor),We=0;We<g.xaxes.length;++We)te(S,We+1).options=g.xaxes[We];for(We=0;We<g.yaxes.length;++We)te(P,We+1).options=g.yaxes[We];for(var Le in h)g.hooks[Le]&&g.hooks[Le].length&&(h[Le]=h[Le].concat(g.hooks[Le]));d(h.processOptions,[g])}function N(I){p=G(I),Oe(),fe()}function G(I){for(var We=[],ke=0;ke<I.length;++ke){var Ye=e.extend(!0,{},g.series);I[ke].data!=null?(Ye.data=I[ke].data,delete I[ke].data,e.extend(!0,Ye,I[ke]),I[ke].data=Ye.data):Ye.data=I[ke],We.push(Ye)}return We}function q(I,We){var ke=I[We+"axis"];return typeof ke=="object"&&(ke=ke.n),typeof ke!="number"&&(ke=1),ke}function K(){return e.grep(S.concat(P),function(I){return I})}function ie(I){var We={},ke,Ye;for(ke=0;ke<S.length;++ke)Ye=S[ke],Ye&&Ye.used&&(We["x"+Ye.n]=Ye.c2p(I.left));for(ke=0;ke<P.length;++ke)Ye=P[ke],Ye&&Ye.used&&(We["y"+Ye.n]=Ye.c2p(I.top));return We.x1!==void 0&&(We.x=We.x1),We.y1!==void 0&&(We.y=We.y1),We}function Q(I){var We={},ke,Ye,Qe;for(ke=0;ke<S.length;++ke)if(Ye=S[ke],Ye&&Ye.used&&(Qe="x"+Ye.n,I[Qe]==null&&Ye.n==1&&(Qe="x"),I[Qe]!=null)){We.left=Ye.p2c(I[Qe]);break}for(ke=0;ke<P.length;++ke)if(Ye=P[ke],Ye&&Ye.used&&(Qe="y"+Ye.n,I[Qe]==null&&Ye.n==1&&(Qe="y"),I[Qe]!=null)){We.top=Ye.p2c(I[Qe]);break}return We}function te(I,We){return I[We-1]||(I[We-1]={n:We,direction:I==S?"x":"y",options:e.extend(!0,{},I==S?g.xaxis:g.yaxis)}),I[We-1]}function Oe(){var I=p.length,We=-1,ke;for(ke=0;ke<p.length;++ke){var Ye=p[ke].color;Ye!=null&&(I--,typeof Ye=="number"&&Ye>We&&(We=Ye))}I<=We&&(I=We+1);var Qe,ht=[],oe=g.colors,Le=oe.length,ze=0;for(ke=0;ke<I;ke++)Qe=e.color.parse(oe[ke%Le]||"#666"),ke%Le==0&&ke&&(ze>=0?ze<.5?ze=-ze-.2:ze=0:ze=-ze),ht[ke]=Qe.scale("rgb",1+ze);var yt=0,ut;for(ke=0;ke<p.length;++ke){if(ut=p[ke],ut.color==null?(ut.color=ht[yt].toString(),++yt):typeof ut.color=="number"&&(ut.color=ht[ut.color].toString()),ut.lines.show==null){var Tt,Ut=!0;for(Tt in ut)if(ut[Tt]&&ut[Tt].show){Ut=!1;break}Ut&&(ut.lines.show=!0)}ut.lines.zero==null&&(ut.lines.zero=!!ut.lines.fill),ut.xaxis=te(S,q(ut,"x")),ut.yaxis=te(P,q(ut,"y"))}}function fe(){var I=Number.POSITIVE_INFINITY,We=Number.NEGATIVE_INFINITY,ke=Number.MAX_VALUE,Ye,Qe,ht,oe,Le,ze,yt,ut,Tt,Ut,Jt,Lt,jt,Je,Re,Be;function it(ti,Ai,qt){Ai<ti.datamin&&Ai!=-ke&&(ti.datamin=Ai),qt>ti.datamax&&qt!=ke&&(ti.datamax=qt)}for(e.each(K(),function(ti,Ai){Ai.datamin=I,Ai.datamax=We,Ai.used=!1}),Ye=0;Ye<p.length;++Ye)ze=p[Ye],ze.datapoints={points:[]},d(h.processRawData,[ze,ze.data,ze.datapoints]);for(Ye=0;Ye<p.length;++Ye){if(ze=p[Ye],Re=ze.data,Be=ze.datapoints.format,!Be){if(Be=[],Be.push({x:!0,number:!0,required:!0}),Be.push({y:!0,number:!0,required:!0}),ze.bars.show||ze.lines.show&&ze.lines.fill){var Pt=!!(ze.bars.show&&ze.bars.zero||ze.lines.show&&ze.lines.zero);Be.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:Pt}),ze.bars.horizontal&&(delete Be[Be.length-1].y,Be[Be.length-1].x=!0)}ze.datapoints.format=Be}if(ze.datapoints.pointsize==null){ze.datapoints.pointsize=Be.length,ut=ze.datapoints.pointsize,yt=ze.datapoints.points;var Ht=ze.lines.show&&ze.lines.steps;for(ze.xaxis.used=ze.yaxis.used=!0,Qe=ht=0;Qe<Re.length;++Qe,ht+=ut){Je=Re[Qe];var et=Je==null;if(!et)for(oe=0;oe<ut;++oe)Lt=Je[oe],jt=Be[oe],jt&&(jt.number&&Lt!=null&&(Lt=+Lt,isNaN(Lt)?Lt=null:Lt==1/0?Lt=ke:Lt==-1/0&&(Lt=-ke)),Lt==null&&(jt.required&&(et=!0),jt.defaultValue!=null&&(Lt=jt.defaultValue))),yt[ht+oe]=Lt;if(et)for(oe=0;oe<ut;++oe)Lt=yt[ht+oe],Lt!=null&&(jt=Be[oe],jt.autoscale!==!1&&(jt.x&&it(ze.xaxis,Lt,Lt),jt.y&&it(ze.yaxis,Lt,Lt))),yt[ht+oe]=null;else if(Ht&&ht>0&&yt[ht-ut]!=null&&yt[ht-ut]!=yt[ht]&&yt[ht-ut+1]!=yt[ht+1]){for(oe=0;oe<ut;++oe)yt[ht+ut+oe]=yt[ht+oe];yt[ht+1]=yt[ht-ut+1],ht+=ut}}}}for(Ye=0;Ye<p.length;++Ye)ze=p[Ye],d(h.processDatapoints,[ze,ze.datapoints]);for(Ye=0;Ye<p.length;++Ye){ze=p[Ye],yt=ze.datapoints.points,ut=ze.datapoints.pointsize,Be=ze.datapoints.format;var xt=I,kt=I,Xt=We,Xe=We;for(Qe=0;Qe<yt.length;Qe+=ut)if(yt[Qe]!=null)for(oe=0;oe<ut;++oe)Lt=yt[Qe+oe],jt=Be[oe],!(!jt||jt.autoscale===!1||Lt==ke||Lt==-ke)&&(jt.x&&(Lt<xt&&(xt=Lt),Lt>Xt&&(Xt=Lt)),jt.y&&(Lt<kt&&(kt=Lt),Lt>Xe&&(Xe=Lt)));if(ze.bars.show){var ni;switch(ze.bars.align){case"left":ni=0;break;case"right":ni=-ze.bars.barWidth;break;default:ni=-ze.bars.barWidth/2}ze.bars.horizontal?(kt+=ni,Xe+=ni+ze.bars.barWidth):(xt+=ni,Xt+=ni+ze.bars.barWidth)}it(ze.xaxis,xt,Xt),it(ze.yaxis,kt,Xe)}e.each(K(),function(ti,Ai){Ai.datamin==I&&(Ai.datamin=null),Ai.datamax==We&&(Ai.datamax=null)})}function W(){o.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),o.css("position")=="static"&&o.css("position","relative"),m=new r("flot-base",o),y=new r("flot-overlay",o),w=m.context,k=y.context,x=e(y.element).unbind();var I=o.data("plot");I&&(I.shutdown(),y.clear()),o.data("plot",v)}function ae(){g.grid.hoverable&&(x.mousemove(Vt),x.bind("mouseleave",dt)),g.grid.clickable&&x.click(vt),d(h.bindEvents,[x])}function de(){tt&&clearTimeout(tt),x.unbind("mousemove",Vt),x.unbind("mouseleave",dt),x.unbind("click",vt),d(h.shutdown,[x])}function Z(I){function We(oe){return oe}var ke,Ye,Qe=I.options.transform||We,ht=I.options.inverseTransform;I.direction=="x"?(ke=I.scale=L/Math.abs(Qe(I.max)-Qe(I.min)),Ye=Math.min(Qe(I.max),Qe(I.min))):(ke=I.scale=s/Math.abs(Qe(I.max)-Qe(I.min)),ke=-ke,Ye=Math.max(Qe(I.max),Qe(I.min))),Qe==We?I.p2c=function(oe){return(oe-Ye)*ke}:I.p2c=function(oe){return(Qe(oe)-Ye)*ke},ht?I.c2p=function(oe){return ht(Ye+oe/ke)}:I.c2p=function(oe){return Ye+oe/ke}}function ye(I){for(var We=I.options,ke=I.ticks||[],Ye=We.labelWidth||0,Qe=We.labelHeight||0,ht=Ye||(I.direction=="x"?Math.floor(m.width/(ke.length||1)):null),oe=I.direction+"Axis "+I.direction+I.n+"Axis",Le="flot-"+I.direction+"-axis flot-"+I.direction+I.n+"-axis "+oe,ze=We.font||"flot-tick-label tickLabel",yt=0;yt<ke.length;++yt){var ut=ke[yt];if(ut.label){var Tt=m.getTextInfo(Le,ut.label,ze,null,ht);Ye=Math.max(Ye,Tt.width),Qe=Math.max(Qe,Tt.height)}}I.labelWidth=We.labelWidth||Ye,I.labelHeight=We.labelHeight||Qe}function Y(I){var We=I.labelWidth,ke=I.labelHeight,Ye=I.options.position,Qe=I.direction==="x",ht=I.options.tickLength,oe=g.grid.axisMargin,Le=g.grid.labelMargin,ze=!0,yt=!0,ut=!0,Tt=!1;e.each(Qe?S:P,function(Ut,Jt){Jt&&(Jt.show||Jt.reserveSpace)&&(Jt===I?Tt=!0:Jt.options.position===Ye&&(Tt?yt=!1:ze=!1),Tt||(ut=!1))}),yt&&(oe=0),ht==null&&(ht=ut?"full":5),isNaN(+ht)||(Le+=+ht),Qe?(ke+=Le,Ye=="bottom"?(E.bottom+=ke+oe,I.box={top:m.height-E.bottom,height:ke}):(I.box={top:E.top+oe,height:ke},E.top+=ke+oe)):(We+=Le,Ye=="left"?(I.box={left:E.left+oe,width:We},E.left+=We+oe):(E.right+=We+oe,I.box={left:m.width-E.right,width:We})),I.position=Ye,I.tickLength=ht,I.box.padding=Le,I.innermost=ze}function ce(I){I.direction=="x"?(I.box.left=E.left-I.labelWidth/2,I.box.width=m.width-E.left-E.right+I.labelWidth):(I.box.top=E.top-I.labelHeight/2,I.box.height=m.height-E.bottom-E.top+I.labelHeight)}function Ze(){var I=g.grid.minBorderMargin,We,ke;if(I==null)for(I=0,ke=0;ke<p.length;++ke)I=Math.max(I,2*(p[ke].points.radius+p[ke].points.lineWidth/2));var Ye={left:I,right:I,top:I,bottom:I};e.each(K(),function(Qe,ht){ht.reserveSpace&&ht.ticks&&ht.ticks.length&&(ht.direction==="x"?(Ye.left=Math.max(Ye.left,ht.labelWidth/2),Ye.right=Math.max(Ye.right,ht.labelWidth/2)):(Ye.bottom=Math.max(Ye.bottom,ht.labelHeight/2),Ye.top=Math.max(Ye.top,ht.labelHeight/2)))}),E.left=Math.ceil(Math.max(Ye.left,E.left)),E.right=Math.ceil(Math.max(Ye.right,E.right)),E.top=Math.ceil(Math.max(Ye.top,E.top)),E.bottom=Math.ceil(Math.max(Ye.bottom,E.bottom))}function ft(){var I,We=K(),ke=g.grid.show;for(var Ye in E){var Qe=g.grid.margin||0;E[Ye]=typeof Qe=="number"?Qe:Qe[Ye]||0}d(h.processOffset,[E]);for(var Ye in E)typeof g.grid.borderWidth=="object"?E[Ye]+=ke?g.grid.borderWidth[Ye]:0:E[Ye]+=ke?g.grid.borderWidth:0;if(e.each(We,function(oe,Le){var ze=Le.options;Le.show=ze.show==null?Le.used:ze.show,Le.reserveSpace=ze.reserveSpace==null?Le.show:ze.reserveSpace,ct(Le)}),ke){var ht=e.grep(We,function(oe){return oe.show||oe.reserveSpace});for(e.each(ht,function(oe,Le){Ge(Le),Ae(Le),Me(Le,Le.ticks),ye(Le)}),I=ht.length-1;I>=0;--I)Y(ht[I]);Ze(),e.each(ht,function(oe,Le){ce(Le)})}L=m.width-E.left-E.right,s=m.height-E.bottom-E.top,e.each(We,function(oe,Le){Z(Le)}),ke&&je(),at()}function ct(I){var We=I.options,ke=+(We.min!=null?We.min:I.datamin),Ye=+(We.max!=null?We.max:I.datamax),Qe=Ye-ke;if(Qe==0){var ht=Ye==0?1:.01;We.min==null&&(ke-=ht),(We.max==null||We.min!=null)&&(Ye+=ht)}else{var oe=We.autoscaleMargin;oe!=null&&(We.min==null&&(ke-=Qe*oe,ke<0&&I.datamin!=null&&I.datamin>=0&&(ke=0)),We.max==null&&(Ye+=Qe*oe,Ye>0&&I.datamax!=null&&I.datamax<=0&&(Ye=0)))}I.min=ke,I.max=Ye}function Ge(I){var We=I.options,ke;typeof We.ticks=="number"&&We.ticks>0?ke=We.ticks:ke=.3*Math.sqrt(I.direction=="x"?m.width:m.height);var Ye=(I.max-I.min)/ke,Qe=-Math.floor(Math.log(Ye)/Math.LN10),ht=We.tickDecimals;ht!=null&&Qe>ht&&(Qe=ht);var oe=Math.pow(10,-Qe),Le=Ye/oe,ze;if(Le<1.5?ze=1:Le<3?(ze=2,Le>2.25&&(ht==null||Qe+1<=ht)&&(ze=2.5,++Qe)):Le<7.5?ze=5:ze=10,ze*=oe,We.minTickSize!=null&&ze<We.minTickSize&&(ze=We.minTickSize),I.delta=Ye,I.tickDecimals=Math.max(0,ht!=null?ht:Qe),I.tickSize=We.tickSize||ze,We.mode=="time"&&!I.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(I.tickGenerator||(I.tickGenerator=function(Jt){var Lt=[],jt=l(Jt.min,Jt.tickSize),Je=0,Re=Number.NaN,Be;do Be=Re,Re=jt+Je*Jt.tickSize,Lt.push(Re),++Je;while(Re<Jt.max&&Re!=Be);return Lt},I.tickFormatter=function(Jt,Lt){var jt=Lt.tickDecimals?Math.pow(10,Lt.tickDecimals):1,Je=""+Math.round(Jt*jt)/jt;if(Lt.tickDecimals!=null){var Re=Je.indexOf("."),Be=Re==-1?0:Je.length-Re-1;if(Be<Lt.tickDecimals)return(Be?Je:Je+".")+(""+jt).substr(1,Lt.tickDecimals-Be)}return Je}),e.isFunction(We.tickFormatter)&&(I.tickFormatter=function(Jt,Lt){return""+We.tickFormatter(Jt,Lt)}),We.alignTicksWithAxis!=null){var yt=(I.direction=="x"?S:P)[We.alignTicksWithAxis-1];if(yt&&yt.used&&yt!=I){var ut=I.tickGenerator(I);if(ut.length>0&&(We.min==null&&(I.min=Math.min(I.min,ut[0])),We.max==null&&ut.length>1&&(I.max=Math.max(I.max,ut[ut.length-1]))),I.tickGenerator=function(Jt){var Lt=[],jt,Je;for(Je=0;Je<yt.ticks.length;++Je)jt=(yt.ticks[Je].v-yt.min)/(yt.max-yt.min),jt=Jt.min+jt*(Jt.max-Jt.min),Lt.push(jt);return Lt},!I.mode&&We.tickDecimals==null){var Tt=Math.max(0,-Math.floor(Math.log(I.delta)/Math.LN10)+1),Ut=I.tickGenerator(I);Ut.length>1&&/\..*0$/.test((Ut[1]-Ut[0]).toFixed(Tt))||(I.tickDecimals=Tt)}}}}function Ae(I){var We=I.options.ticks,ke=[];We==null||typeof We=="number"&&We>0?ke=I.tickGenerator(I):We&&(e.isFunction(We)?ke=We(I):ke=We);var Ye,Qe;for(I.ticks=[],Ye=0;Ye<ke.length;++Ye){var ht=null,oe=ke[Ye];typeof oe=="object"?(Qe=+oe[0],oe.length>1&&(ht=oe[1])):Qe=+oe,ht==null&&(ht=I.tickFormatter(Qe,I)),isNaN(Qe)||I.ticks.push({v:Qe,label:ht})}}function Me(I,We){I.options.autoscaleMargin&&We.length>0&&(I.options.min==null&&(I.min=Math.min(I.min,We[0].v)),I.options.max==null&&We.length>1&&(I.max=Math.max(I.max,We[We.length-1].v)))}function De(){m.clear(),d(h.drawBackground,[w]);var I=g.grid;I.show&&I.backgroundColor&&Ve(),I.show&&!I.aboveData&&rt();for(var We=0;We<p.length;++We)d(h.drawSeries,[w,p[We]]),ee(p[We]);d(h.draw,[w]),I.show&&I.aboveData&&rt(),m.render(),ii()}function Ne(I,We){for(var ke,Ye,Qe,ht,oe=K(),Le=0;Le<oe.length;++Le)if(ke=oe[Le],ke.direction==We&&(ht=We+ke.n+"axis",!I[ht]&&ke.n==1&&(ht=We+"axis"),I[ht])){Ye=I[ht].from,Qe=I[ht].to;break}if(I[ht]||(ke=We=="x"?S[0]:P[0],Ye=I[We+"1"],Qe=I[We+"2"]),Ye!=null&&Qe!=null&&Ye>Qe){var ze=Ye;Ye=Qe,Qe=ze}return{from:Ye,to:Qe,axis:ke}}function Ve(){w.save(),w.translate(E.left,E.top),w.fillStyle=St(g.grid.backgroundColor,s,0,"rgba(255, 255, 255, 0)"),w.fillRect(0,0,L,s),w.restore()}function rt(){var I,We,ke,Ye;w.save(),w.translate(E.left,E.top);var Qe=g.grid.markings;if(Qe)for(e.isFunction(Qe)&&(We=v.getAxes(),We.xmin=We.xaxis.min,We.xmax=We.xaxis.max,We.ymin=We.yaxis.min,We.ymax=We.yaxis.max,Qe=Qe(We)),I=0;I<Qe.length;++I){var ht=Qe[I],oe=Ne(ht,"x"),Le=Ne(ht,"y");if(oe.from==null&&(oe.from=oe.axis.min),oe.to==null&&(oe.to=oe.axis.max),Le.from==null&&(Le.from=Le.axis.min),Le.to==null&&(Le.to=Le.axis.max),!(oe.to<oe.axis.min||oe.from>oe.axis.max||Le.to<Le.axis.min||Le.from>Le.axis.max)){oe.from=Math.max(oe.from,oe.axis.min),oe.to=Math.min(oe.to,oe.axis.max),Le.from=Math.max(Le.from,Le.axis.min),Le.to=Math.min(Le.to,Le.axis.max);var ze=oe.from===oe.to,yt=Le.from===Le.to;if(!(ze&&yt))if(oe.from=Math.floor(oe.axis.p2c(oe.from)),oe.to=Math.floor(oe.axis.p2c(oe.to)),Le.from=Math.floor(Le.axis.p2c(Le.from)),Le.to=Math.floor(Le.axis.p2c(Le.to)),ze||yt){var ut=ht.lineWidth||g.grid.markingsLineWidth,Tt=ut%2?.5:0;w.beginPath(),w.strokeStyle=ht.color||g.grid.markingsColor,w.lineWidth=ut,ze?(w.moveTo(oe.to+Tt,Le.from),w.lineTo(oe.to+Tt,Le.to)):(w.moveTo(oe.from,Le.to+Tt),w.lineTo(oe.to,Le.to+Tt)),w.stroke()}else w.fillStyle=ht.color||g.grid.markingsColor,w.fillRect(oe.from,Le.to,oe.to-oe.from,Le.from-Le.to)}}We=K(),ke=g.grid.borderWidth;for(var Ut=0;Ut<We.length;++Ut){var Jt=We[Ut],Lt=Jt.box,jt=Jt.tickLength,Je,Re,Be,it;if(!(!Jt.show||Jt.ticks.length==0)){for(w.lineWidth=1,Jt.direction=="x"?(Je=0,jt=="full"?Re=Jt.position=="top"?0:s:Re=Lt.top-E.top+(Jt.position=="top"?Lt.height:0)):(Re=0,jt=="full"?Je=Jt.position=="left"?0:L:Je=Lt.left-E.left+(Jt.position=="left"?Lt.width:0)),Jt.innermost||(w.strokeStyle=Jt.options.color,w.beginPath(),Be=it=0,Jt.direction=="x"?Be=L+1:it=s+1,w.lineWidth==1&&(Jt.direction=="x"?Re=Math.floor(Re)+.5:Je=Math.floor(Je)+.5),w.moveTo(Je,Re),w.lineTo(Je+Be,Re+it),w.stroke()),w.strokeStyle=Jt.options.tickColor,w.beginPath(),I=0;I<Jt.ticks.length;++I){var Pt=Jt.ticks[I].v;Be=it=0,!(isNaN(Pt)||Pt<Jt.min||Pt>Jt.max||jt=="full"&&(typeof ke=="object"&&ke[Jt.position]>0||ke>0)&&(Pt==Jt.min||Pt==Jt.max))&&(Jt.direction=="x"?(Je=Jt.p2c(Pt),it=jt=="full"?-s:jt,Jt.position=="top"&&(it=-it)):(Re=Jt.p2c(Pt),Be=jt=="full"?-L:jt,Jt.position=="left"&&(Be=-Be)),w.lineWidth==1&&(Jt.direction=="x"?Je=Math.floor(Je)+.5:Re=Math.floor(Re)+.5),w.moveTo(Je,Re),w.lineTo(Je+Be,Re+it))}w.stroke()}}ke&&(Ye=g.grid.borderColor,typeof ke=="object"||typeof Ye=="object"?(typeof ke!="object"&&(ke={top:ke,right:ke,bottom:ke,left:ke}),typeof Ye!="object"&&(Ye={top:Ye,right:Ye,bottom:Ye,left:Ye}),ke.top>0&&(w.strokeStyle=Ye.top,w.lineWidth=ke.top,w.beginPath(),w.moveTo(0-ke.left,0-ke.top/2),w.lineTo(L,0-ke.top/2),w.stroke()),ke.right>0&&(w.strokeStyle=Ye.right,w.lineWidth=ke.right,w.beginPath(),w.moveTo(L+ke.right/2,0-ke.top),w.lineTo(L+ke.right/2,s),w.stroke()),ke.bottom>0&&(w.strokeStyle=Ye.bottom,w.lineWidth=ke.bottom,w.beginPath(),w.moveTo(L+ke.right,s+ke.bottom/2),w.lineTo(0,s+ke.bottom/2),w.stroke()),ke.left>0&&(w.strokeStyle=Ye.left,w.lineWidth=ke.left,w.beginPath(),w.moveTo(0-ke.left/2,s+ke.bottom),w.lineTo(0-ke.left/2,0),w.stroke())):(w.lineWidth=ke,w.strokeStyle=g.grid.borderColor,w.strokeRect(-ke/2,-ke/2,L+ke,s+ke))),w.restore()}function je(){e.each(K(),function(I,We){var ke=We.box,Ye=We.direction+"Axis "+We.direction+We.n+"Axis",Qe="flot-"+We.direction+"-axis flot-"+We.direction+We.n+"-axis "+Ye,ht=We.options.font||"flot-tick-label tickLabel",oe,Le,ze,yt,ut;if(m.removeText(Qe),!(!We.show||We.ticks.length==0))for(var Tt=0;Tt<We.ticks.length;++Tt)oe=We.ticks[Tt],!(!oe.label||oe.v<We.min||oe.v>We.max)&&(We.direction=="x"?(yt="center",Le=E.left+We.p2c(oe.v),We.position=="bottom"?ze=ke.top+ke.padding:(ze=ke.top+ke.height-ke.padding,ut="bottom")):(ut="middle",ze=E.top+We.p2c(oe.v),We.position=="left"?(Le=ke.left+ke.width-ke.padding,yt="right"):Le=ke.left+ke.padding),m.addText(Qe,Le,ze,oe.label,ht,null,null,yt,ut))})}function ee(I){I.lines.show&&J(I),I.bars.show&&we(I),I.points.show&&qe(I)}function J(I){function We(Le,ze,yt,ut,Tt){var Ut=Le.points,Jt=Le.pointsize,Lt=null,jt=null;w.beginPath();for(var Je=Jt;Je<Ut.length;Je+=Jt){var Re=Ut[Je-Jt],Be=Ut[Je-Jt+1],it=Ut[Je],Pt=Ut[Je+1];if(!(Re==null||it==null)){if(Be<=Pt&&Be<Tt.min){if(Pt<Tt.min)continue;Re=(Tt.min-Be)/(Pt-Be)*(it-Re)+Re,Be=Tt.min}else if(Pt<=Be&&Pt<Tt.min){if(Be<Tt.min)continue;it=(Tt.min-Be)/(Pt-Be)*(it-Re)+Re,Pt=Tt.min}if(Be>=Pt&&Be>Tt.max){if(Pt>Tt.max)continue;Re=(Tt.max-Be)/(Pt-Be)*(it-Re)+Re,Be=Tt.max}else if(Pt>=Be&&Pt>Tt.max){if(Be>Tt.max)continue;it=(Tt.max-Be)/(Pt-Be)*(it-Re)+Re,Pt=Tt.max}if(Re<=it&&Re<ut.min){if(it<ut.min)continue;Be=(ut.min-Re)/(it-Re)*(Pt-Be)+Be,Re=ut.min}else if(it<=Re&&it<ut.min){if(Re<ut.min)continue;Pt=(ut.min-Re)/(it-Re)*(Pt-Be)+Be,it=ut.min}if(Re>=it&&Re>ut.max){if(it>ut.max)continue;Be=(ut.max-Re)/(it-Re)*(Pt-Be)+Be,Re=ut.max}else if(it>=Re&&it>ut.max){if(Re>ut.max)continue;Pt=(ut.max-Re)/(it-Re)*(Pt-Be)+Be,it=ut.max}(Re!=Lt||Be!=jt)&&w.moveTo(ut.p2c(Re)+ze,Tt.p2c(Be)+yt),Lt=it,jt=Pt,w.lineTo(ut.p2c(it)+ze,Tt.p2c(Pt)+yt)}}w.stroke()}function ke(Le,ze,yt){for(var ut=Le.points,Tt=Le.pointsize,Ut=Math.min(Math.max(0,yt.min),yt.max),Jt=0,Lt,jt=!1,Je=1,Re=0,Be=0;!(Tt>0&&Jt>ut.length+Tt);){Jt+=Tt;var it=ut[Jt-Tt],Pt=ut[Jt-Tt+Je],Ht=ut[Jt],et=ut[Jt+Je];if(jt){if(Tt>0&&it!=null&&Ht==null){Be=Jt,Tt=-Tt,Je=2;continue}if(Tt<0&&Jt==Re+Tt){w.fill(),jt=!1,Tt=-Tt,Je=1,Jt=Re=Be+Tt;continue}}if(!(it==null||Ht==null)){if(it<=Ht&&it<ze.min){if(Ht<ze.min)continue;Pt=(ze.min-it)/(Ht-it)*(et-Pt)+Pt,it=ze.min}else if(Ht<=it&&Ht<ze.min){if(it<ze.min)continue;et=(ze.min-it)/(Ht-it)*(et-Pt)+Pt,Ht=ze.min}if(it>=Ht&&it>ze.max){if(Ht>ze.max)continue;Pt=(ze.max-it)/(Ht-it)*(et-Pt)+Pt,it=ze.max}else if(Ht>=it&&Ht>ze.max){if(it>ze.max)continue;et=(ze.max-it)/(Ht-it)*(et-Pt)+Pt,Ht=ze.max}if(jt||(w.beginPath(),w.moveTo(ze.p2c(it),yt.p2c(Ut)),jt=!0),Pt>=yt.max&&et>=yt.max){w.lineTo(ze.p2c(it),yt.p2c(yt.max)),w.lineTo(ze.p2c(Ht),yt.p2c(yt.max));continue}else if(Pt<=yt.min&&et<=yt.min){w.lineTo(ze.p2c(it),yt.p2c(yt.min)),w.lineTo(ze.p2c(Ht),yt.p2c(yt.min));continue}var xt=it,kt=Ht;Pt<=et&&Pt<yt.min&&et>=yt.min?(it=(yt.min-Pt)/(et-Pt)*(Ht-it)+it,Pt=yt.min):et<=Pt&&et<yt.min&&Pt>=yt.min&&(Ht=(yt.min-Pt)/(et-Pt)*(Ht-it)+it,et=yt.min),Pt>=et&&Pt>yt.max&&et<=yt.max?(it=(yt.max-Pt)/(et-Pt)*(Ht-it)+it,Pt=yt.max):et>=Pt&&et>yt.max&&Pt<=yt.max&&(Ht=(yt.max-Pt)/(et-Pt)*(Ht-it)+it,et=yt.max),it!=xt&&w.lineTo(ze.p2c(xt),yt.p2c(Pt)),w.lineTo(ze.p2c(it),yt.p2c(Pt)),w.lineTo(ze.p2c(Ht),yt.p2c(et)),Ht!=kt&&(w.lineTo(ze.p2c(Ht),yt.p2c(et)),w.lineTo(ze.p2c(kt),yt.p2c(et)))}}}w.save(),w.translate(E.left,E.top),w.lineJoin="round";var Ye=I.lines.lineWidth,Qe=I.shadowSize;if(Ye>0&&Qe>0){w.lineWidth=Qe,w.strokeStyle="rgba(0,0,0,0.1)";var ht=Math.PI/18;We(I.datapoints,Math.sin(ht)*(Ye/2+Qe/2),Math.cos(ht)*(Ye/2+Qe/2),I.xaxis,I.yaxis),w.lineWidth=Qe/2,We(I.datapoints,Math.sin(ht)*(Ye/2+Qe/4),Math.cos(ht)*(Ye/2+Qe/4),I.xaxis,I.yaxis)}w.lineWidth=Ye,w.strokeStyle=I.color;var oe=$e(I.lines,I.color,0,s);oe&&(w.fillStyle=oe,ke(I.datapoints,I.xaxis,I.yaxis)),Ye>0&&We(I.datapoints,0,0,I.xaxis,I.yaxis),w.restore()}function qe(I){function We(Le,ze,yt,ut,Tt,Ut,Jt,Lt){for(var jt=Le.points,Je=Le.pointsize,Re=0;Re<jt.length;Re+=Je){var Be=jt[Re],it=jt[Re+1];Be==null||Be<Ut.min||Be>Ut.max||it<Jt.min||it>Jt.max||(w.beginPath(),Be=Ut.p2c(Be),it=Jt.p2c(it)+ut,Lt=="circle"?w.arc(Be,it,ze,0,Tt?Math.PI:Math.PI*2,!1):Lt(w,Be,it,ze,Tt),w.closePath(),yt&&(w.fillStyle=yt,w.fill()),w.stroke())}}w.save(),w.translate(E.left,E.top);var ke=I.points.lineWidth,Ye=I.shadowSize,Qe=I.points.radius,ht=I.points.symbol;if(ke==0&&(ke=1e-4),ke>0&&Ye>0){var oe=Ye/2;w.lineWidth=oe,w.strokeStyle="rgba(0,0,0,0.1)",We(I.datapoints,Qe,null,oe+oe/2,!0,I.xaxis,I.yaxis,ht),w.strokeStyle="rgba(0,0,0,0.2)",We(I.datapoints,Qe,null,oe/2,!0,I.xaxis,I.yaxis,ht)}w.lineWidth=ke,w.strokeStyle=I.color,We(I.datapoints,Qe,$e(I.points,I.color),0,!1,I.xaxis,I.yaxis,ht),w.restore()}function _t(I,We,ke,Ye,Qe,ht,oe,Le,ze,yt,ut){var Tt,Ut,Jt,Lt,jt,Je,Re,Be,it;yt?(Be=Je=Re=!0,jt=!1,Tt=ke,Ut=I,Lt=We+Ye,Jt=We+Qe,Ut<Tt&&(it=Ut,Ut=Tt,Tt=it,jt=!0,Je=!1)):(jt=Je=Re=!0,Be=!1,Tt=I+Ye,Ut=I+Qe,Jt=ke,Lt=We,Lt<Jt&&(it=Lt,Lt=Jt,Jt=it,Be=!0,Re=!1)),!(Ut<oe.min||Tt>oe.max||Lt<Le.min||Jt>Le.max)&&(Tt<oe.min&&(Tt=oe.min,jt=!1),Ut>oe.max&&(Ut=oe.max,Je=!1),Jt<Le.min&&(Jt=Le.min,Be=!1),Lt>Le.max&&(Lt=Le.max,Re=!1),Tt=oe.p2c(Tt),Jt=Le.p2c(Jt),Ut=oe.p2c(Ut),Lt=Le.p2c(Lt),ht&&(ze.fillStyle=ht(Jt,Lt),ze.fillRect(Tt,Lt,Ut-Tt,Jt-Lt)),ut>0&&(jt||Je||Re||Be)&&(ze.beginPath(),ze.moveTo(Tt,Jt),jt?ze.lineTo(Tt,Lt):ze.moveTo(Tt,Lt),Re?ze.lineTo(Ut,Lt):ze.moveTo(Ut,Lt),Je?ze.lineTo(Ut,Jt):ze.moveTo(Ut,Jt),Be?ze.lineTo(Tt,Jt):ze.moveTo(Tt,Jt),ze.stroke()))}function we(I){function We(Qe,ht,oe,Le,ze,yt){for(var ut=Qe.points,Tt=Qe.pointsize,Ut=0;Ut<ut.length;Ut+=Tt)ut[Ut]!=null&&_t(ut[Ut],ut[Ut+1],ut[Ut+2],ht,oe,Le,ze,yt,w,I.bars.horizontal,I.bars.lineWidth)}w.save(),w.translate(E.left,E.top),w.lineWidth=I.bars.lineWidth,w.strokeStyle=I.color;var ke;switch(I.bars.align){case"left":ke=0;break;case"right":ke=-I.bars.barWidth;break;default:ke=-I.bars.barWidth/2}var Ye=I.bars.fill?function(Qe,ht){return $e(I.bars,I.color,Qe,ht)}:null;We(I.datapoints,ke,ke+I.bars.barWidth,Ye,I.xaxis,I.yaxis),w.restore()}function $e(I,We,ke,Ye){var Qe=I.fill;if(!Qe)return null;if(I.fillColor)return St(I.fillColor,ke,Ye,We);var ht=e.color.parse(We);return ht.a=typeof Qe=="number"?Qe:.4,ht.normalize(),ht.toString()}function at(){if(g.legend.container!=null?e(g.legend.container).html(""):o.find(".legend").remove(),!!g.legend.show){for(var I=[],We=[],ke=!1,Ye=g.legend.labelFormatter,Qe,ht,oe=0;oe<p.length;++oe)Qe=p[oe],Qe.label&&(ht=Ye?Ye(Qe.label,Qe):Qe.label,ht&&We.push({label:ht,color:Qe.color}));if(g.legend.sorted)if(e.isFunction(g.legend.sorted))We.sort(g.legend.sorted);else if(g.legend.sorted=="reverse")We.reverse();else{var Le=g.legend.sorted!="descending";We.sort(function(Je,Re){return Je.label==Re.label?0:Je.label<Re.label!=Le?1:-1})}for(var oe=0;oe<We.length;++oe){var ze=We[oe];oe%g.legend.noColumns==0&&(ke&&I.push("</tr>"),I.push("<tr>"),ke=!0),I.push('<td class="legendColorBox"><div style="border:1px solid '+g.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+ze.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+ze.label+"</td>")}if(ke&&I.push("</tr>"),I.length!=0){var yt='<table style="font-size:smaller;color:'+g.grid.color+'">'+I.join("")+"</table>";if(g.legend.container!=null)e(g.legend.container).html(yt);else{var ut="",Tt=g.legend.position,Ut=g.legend.margin;Ut[0]==null&&(Ut=[Ut,Ut]),Tt.charAt(0)=="n"?ut+="top:"+(Ut[1]+E.top)+"px;":Tt.charAt(0)=="s"&&(ut+="bottom:"+(Ut[1]+E.bottom)+"px;"),Tt.charAt(1)=="e"?ut+="right:"+(Ut[0]+E.right)+"px;":Tt.charAt(1)=="w"&&(ut+="left:"+(Ut[0]+E.left)+"px;");var Jt=e('<div class="legend">'+yt.replace('style="','style="position:absolute;'+ut+";")+"</div>").appendTo(o);if(g.legend.backgroundOpacity!=0){var Lt=g.legend.backgroundColor;Lt==null&&(Lt=g.grid.backgroundColor,Lt&&typeof Lt=="string"?Lt=e.color.parse(Lt):Lt=e.color.extract(Jt,"background-color"),Lt.a=1,Lt=Lt.toString());var jt=Jt.children();e('<div style="position:absolute;width:'+jt.width()+"px;height:"+jt.height()+"px;"+ut+"background-color:"+Lt+';"> </div>').prependTo(Jt).css("opacity",g.legend.backgroundOpacity)}}}}}var Ee=[],tt=null;function nt(I,We,ke){var Ye=g.grid.mouseActiveRadius,Qe=Ye*Ye+1,ht=null,oe=!1,Le,ze,yt;for(Le=p.length-1;Le>=0;--Le)if(ke(p[Le])){var ut=p[Le],Tt=ut.xaxis,Ut=ut.yaxis,Jt=ut.datapoints.points,Lt=Tt.c2p(I),jt=Ut.c2p(We),Je=Ye/Tt.scale,Re=Ye/Ut.scale;if(yt=ut.datapoints.pointsize,Tt.options.inverseTransform&&(Je=Number.MAX_VALUE),Ut.options.inverseTransform&&(Re=Number.MAX_VALUE),ut.lines.show||ut.points.show)for(ze=0;ze<Jt.length;ze+=yt){var Be=Jt[ze],it=Jt[ze+1];if(Be!=null&&!(Be-Lt>Je||Be-Lt<-Je||it-jt>Re||it-jt<-Re)){var Pt=Math.abs(Tt.p2c(Be)-I),Ht=Math.abs(Ut.p2c(it)-We),et=Pt*Pt+Ht*Ht;et<Qe&&(Qe=et,ht=[Le,ze/yt])}}if(ut.bars.show&&!ht){var xt,kt;switch(ut.bars.align){case"left":xt=0;break;case"right":xt=-ut.bars.barWidth;break;default:xt=-ut.bars.barWidth/2}for(kt=xt+ut.bars.barWidth,ze=0;ze<Jt.length;ze+=yt){var Be=Jt[ze],it=Jt[ze+1],Xt=Jt[ze+2];Be!=null&&(p[Le].bars.horizontal?Lt<=Math.max(Xt,Be)&&Lt>=Math.min(Xt,Be)&&jt>=it+xt&&jt<=it+kt:Lt>=Be+xt&&Lt<=Be+kt&&jt>=Math.min(Xt,it)&&jt<=Math.max(Xt,it))&&(ht=[Le,ze/yt])}}}return ht?(Le=ht[0],ze=ht[1],yt=p[Le].datapoints.pointsize,{datapoint:p[Le].datapoints.points.slice(ze*yt,(ze+1)*yt),dataIndex:ze,series:p[Le],seriesIndex:Le}):null}function Vt(I){g.grid.hoverable&&Rt("plothover",I,function(We){return We.hoverable!=!1})}function dt(I){g.grid.hoverable&&Rt("plothover",I,function(We){return!1})}function vt(I){Rt("plotclick",I,function(We){return We.clickable!=!1})}function Rt(I,We,ke){var Ye=x.offset(),Qe=We.pageX-Ye.left-E.left,ht=We.pageY-Ye.top-E.top,oe=ie({left:Qe,top:ht});oe.pageX=We.pageX,oe.pageY=We.pageY;var Le=nt(Qe,ht,ke);if(Le&&(Le.pageX=parseInt(Le.series.xaxis.p2c(Le.datapoint[0])+Ye.left+E.left,10),Le.pageY=parseInt(Le.series.yaxis.p2c(Le.datapoint[1])+Ye.top+E.top,10)),g.grid.autoHighlight){for(var ze=0;ze<Ee.length;++ze){var yt=Ee[ze];yt.auto==I&&!(Le&&yt.series==Le.series&&yt.point[0]==Le.datapoint[0]&&yt.point[1]==Le.datapoint[1])&&Mt(yt.series,yt.point)}Le&&ui(Le.series,Le.datapoint,I)}o.trigger(I,[oe,Le])}function ii(){var I=g.interaction.redrawOverlayInterval;if(I==-1){ai();return}tt||(tt=setTimeout(ai,I))}function ai(){tt=null,k.save(),y.clear(),k.translate(E.left,E.top);var I,We;for(I=0;I<Ee.length;++I)We=Ee[I],We.series.bars.show?Ct(We.series,We.point):Et(We.series,We.point);k.restore(),d(h.drawOverlay,[k])}function ui(I,We,ke){if(typeof I=="number"&&(I=p[I]),typeof We=="number"){var Ye=I.datapoints.pointsize;We=I.datapoints.points.slice(Ye*We,Ye*(We+1))}var Qe=It(I,We);Qe==-1?(Ee.push({series:I,point:We,auto:ke}),ii()):ke||(Ee[Qe].auto=!1)}function Mt(I,We){if(I==null&&We==null){Ee=[],ii();return}if(typeof I=="number"&&(I=p[I]),typeof We=="number"){var ke=I.datapoints.pointsize;We=I.datapoints.points.slice(ke*We,ke*(We+1))}var Ye=It(I,We);Ye!=-1&&(Ee.splice(Ye,1),ii())}function It(I,We){for(var ke=0;ke<Ee.length;++ke){var Ye=Ee[ke];if(Ye.series==I&&Ye.point[0]==We[0]&&Ye.point[1]==We[1])return ke}return-1}function Et(I,We){var ke=We[0],Ye=We[1],Qe=I.xaxis,ht=I.yaxis,oe=typeof I.highlightColor=="string"?I.highlightColor:e.color.parse(I.color).scale("a",.5).toString();if(!(ke<Qe.min||ke>Qe.max||Ye<ht.min||Ye>ht.max)){var Le=I.points.radius+I.points.lineWidth/2;k.lineWidth=Le,k.strokeStyle=oe;var ze=1.5*Le;ke=Qe.p2c(ke),Ye=ht.p2c(Ye),k.beginPath(),I.points.symbol=="circle"?k.arc(ke,Ye,ze,0,2*Math.PI,!1):I.points.symbol(k,ke,Ye,ze,!1),k.closePath(),k.stroke()}}function Ct(I,We){var ke=typeof I.highlightColor=="string"?I.highlightColor:e.color.parse(I.color).scale("a",.5).toString(),Ye=ke,Qe;switch(I.bars.align){case"left":Qe=0;break;case"right":Qe=-I.bars.barWidth;break;default:Qe=-I.bars.barWidth/2}k.lineWidth=I.bars.lineWidth,k.strokeStyle=ke,_t(We[0],We[1],We[2]||0,Qe,Qe+I.bars.barWidth,function(){return Ye},I.xaxis,I.yaxis,k,I.bars.horizontal,I.bars.lineWidth)}function St(I,We,ke,Ye){if(typeof I=="string")return I;for(var Qe=w.createLinearGradient(0,ke,0,We),ht=0,oe=I.colors.length;ht<oe;++ht){var Le=I.colors[ht];if(typeof Le!="string"){var ze=e.color.parse(Ye);Le.brightness!=null&&(ze=ze.scale("rgb",Le.brightness)),Le.opacity!=null&&(ze.a*=Le.opacity),Le=ze.toString()}Qe.addColorStop(ht/(oe-1),Le)}return Qe}}e.plot=function(o,c,n){var u=new a(e(o),c,n,e.plot.plugins);return u},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(o,c){return this.each(function(){e.plot(this,o,c)})};function l(o,c){return c*Math.floor(o/c)}}(jQuery)}),V1={};nS(V1,{default:()=>_m});aS=z1(U1());oS(V1,z1(U1()));H1=aS,{default:F1}=H1,sS=an(H1,["default"]),_m=F1!==void 0?F1:sS});var W1={};Dn(W1,{default:()=>_m});var q1=Kt(()=>{km();km()});var lS,Sm,cS,uS,dS,hS,pS,fS,Am,mS,K1,X1,Z1,gS,G1,Y1,vS,Cm,Em=Kt(()=>{lS=Object.create,Sm=Object.defineProperty,cS=Object.getOwnPropertyDescriptor,uS=Object.getOwnPropertyNames,dS=Object.getPrototypeOf,hS=Object.prototype.hasOwnProperty,pS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fS=(e,t)=>{for(var r in t)Sm(e,r,{get:t[r],enumerable:!0})},Am=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of uS(t))!hS.call(e,l)&&l!==r&&Sm(e,l,{get:()=>t[l],enumerable:!(a=cS(t,l))||a.enumerable});return e},mS=(e,t,r)=>(Am(e,t,"default"),r&&Am(r,t,"default")),K1=(e,t,r)=>(r=e!=null?lS(dS(e)):{},Am(t||!e||!e.__esModule?Sm(r,"default",{value:e,enumerable:!0}):r,e)),X1=pS(()=>{(function(e){var t={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}};function r(m,y){return y*Math.floor(m/y)}function a(m,y,x,w){if(typeof m.strftime=="function")return m.strftime(y);var k=function(d,_){return d=""+d,_=""+(_!=null?_:"0"),d.length==1?_+d:d},S=[],P=!1,E=m.getHours(),L=E<12;x==null&&(x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),w==null&&(w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var s;E>12?s=E-12:E==0?s=12:s=E;for(var h=0;h<y.length;++h){var v=y.charAt(h);if(P){switch(v){case"a":v=""+w[m.getDay()];break;case"b":v=""+x[m.getMonth()];break;case"d":v=k(m.getDate());break;case"e":v=k(m.getDate()," ");break;case"h":case"H":v=k(E);break;case"I":v=k(s);break;case"l":v=k(s," ");break;case"m":v=k(m.getMonth()+1);break;case"M":v=k(m.getMinutes());break;case"q":v=""+(Math.floor(m.getMonth()/3)+1);break;case"S":v=k(m.getSeconds());break;case"y":v=k(m.getFullYear()%100);break;case"Y":v=""+m.getFullYear();break;case"p":v=L?"am":"pm";break;case"P":v=L?"AM":"PM";break;case"w":v=""+m.getDay();break}S.push(v),P=!1}else v=="%"?P=!0:S.push(v)}return S.join("")}function l(m){function y(S,P,E,L){S[P]=function(){return E[L].apply(E,arguments)}}var x={date:m};m.strftime!=null&&y(x,"strftime",m,"strftime"),y(x,"getTime",m,"getTime"),y(x,"setTime",m,"setTime");for(var w=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],k=0;k<w.length;k++)y(x,"get"+w[k],m,"getUTC"+w[k]),y(x,"set"+w[k],m,"setUTC"+w[k]);return x}function o(m,y){if(y.timezone=="browser")return new Date(m);if(!y.timezone||y.timezone=="utc")return l(new Date(m));if(typeof timezoneJS<"u"&&typeof timezoneJS.Date<"u"){var x=new timezoneJS.Date;return x.setTimezone(y.timezone),x.setTime(m),x}else return l(new Date(m))}var c={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3},n=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],u=n.concat([[3,"month"],[6,"month"],[1,"year"]]),p=n.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function g(m){m.hooks.processOptions.push(function(y,x){e.each(y.getAxes(),function(w,k){var S=k.options;S.mode=="time"&&(k.tickGenerator=function(P){var E=[],L=o(P.min,S),s=0,h=S.tickSize&&S.tickSize[1]==="quarter"||S.minTickSize&&S.minTickSize[1]==="quarter"?p:u;S.minTickSize!=null&&(typeof S.tickSize=="number"?s=S.tickSize:s=S.minTickSize[0]*c[S.minTickSize[1]]);for(var v=0;v<h.length-1&&!(P.delta<(h[v][0]*c[h[v][1]]+h[v+1][0]*c[h[v+1][1]])/2&&h[v][0]*c[h[v][1]]>=s);++v);var d=h[v][0],_=h[v][1];if(_=="year"){if(S.minTickSize!=null&&S.minTickSize[1]=="year")d=Math.floor(S.minTickSize[0]);else{var C=Math.pow(10,Math.floor(Math.log(P.delta/c.year)/Math.LN10)),N=P.delta/c.year/C;N<1.5?d=1:N<3?d=2:N<7.5?d=5:d=10,d*=C}d<1&&(d=1)}P.tickSize=S.tickSize||[d,_];var G=P.tickSize[0];_=P.tickSize[1];var q=G*c[_];_=="second"?L.setSeconds(r(L.getSeconds(),G)):_=="minute"?L.setMinutes(r(L.getMinutes(),G)):_=="hour"?L.setHours(r(L.getHours(),G)):_=="month"?L.setMonth(r(L.getMonth(),G)):_=="quarter"?L.setMonth(3*r(L.getMonth()/3,G)):_=="year"&&L.setFullYear(r(L.getFullYear(),G)),L.setMilliseconds(0),q>=c.minute&&L.setSeconds(0),q>=c.hour&&L.setMinutes(0),q>=c.day&&L.setHours(0),q>=c.day*4&&L.setDate(1),q>=c.month*2&&L.setMonth(r(L.getMonth(),3)),q>=c.quarter*2&&L.setMonth(r(L.getMonth(),6)),q>=c.year&&L.setMonth(0);var K=0,ie=Number.NaN,Q;do if(Q=ie,ie=L.getTime(),E.push(ie),_=="month"||_=="quarter")if(G<1){L.setDate(1);var te=L.getTime();L.setMonth(L.getMonth()+(_=="quarter"?3:1));var Oe=L.getTime();L.setTime(ie+K*c.hour+(Oe-te)*G),K=L.getHours(),L.setHours(0)}else L.setMonth(L.getMonth()+G*(_=="quarter"?3:1));else _=="year"?L.setFullYear(L.getFullYear()+G):L.setTime(ie+q);while(ie<P.max&&ie!=Q);return E},k.tickFormatter=function(P,E){var L=o(P,E.options);if(S.timeformat!=null)return a(L,S.timeformat,S.monthNames,S.dayNames);var s=E.options.tickSize&&E.options.tickSize[1]=="quarter"||E.options.minTickSize&&E.options.minTickSize[1]=="quarter",h=E.tickSize[0]*c[E.tickSize[1]],v=E.max-E.min,d=S.twelveHourClock?" %p":"",_=S.twelveHourClock?"%I":"%H",C;h<c.minute?C=_+":%M:%S"+d:h<c.day?v<2*c.day?C=_+":%M"+d:C="%b %d "+_+":%M"+d:h<c.month?C="%b %d":s&&h<c.quarter||!s&&h<c.year?v<c.year?C="%b":C="%b %Y":s&&h<c.year?v<c.year?C="Q%q":C="Q%q %Y":C="%Y";var N=a(L,C,S.monthNames,S.dayNames);return N})})})}e.plot.plugins.push({init:g,options:t,name:"time",version:"1.0"}),e.plot.formatDate=a,e.plot.dateGenerator=o})(jQuery)}),Z1={};fS(Z1,{default:()=>Cm});gS=K1(X1());mS(Z1,K1(X1()));G1=gS,{default:Y1}=G1,vS=an(G1,["default"]),Cm=Y1!==void 0?Y1:vS});var J1={};Dn(J1,{default:()=>Cm});var Q1=Kt(()=>{Em();Em()});var yS,Pm,bS,wS,xS,_S,kS,AS,Tm,SS,iw,rw,nw,CS,ew,tw,ES,$m,Lm=Kt(()=>{yS=Object.create,Pm=Object.defineProperty,bS=Object.getOwnPropertyDescriptor,wS=Object.getOwnPropertyNames,xS=Object.getPrototypeOf,_S=Object.prototype.hasOwnProperty,kS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),AS=(e,t)=>{for(var r in t)Pm(e,r,{get:t[r],enumerable:!0})},Tm=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of wS(t))!_S.call(e,l)&&l!==r&&Pm(e,l,{get:()=>t[l],enumerable:!(a=bS(t,l))||a.enumerable});return e},SS=(e,t,r)=>(Tm(e,t,"default"),r&&Tm(r,t,"default")),iw=(e,t,r)=>(r=e!=null?yS(xS(e)):{},Tm(t||!e||!e.__esModule?Pm(r,"default",{value:e,enumerable:!0}):r,e)),rw=kS(()=>{(function(e){var t={series:{stack:null}};function r(a){function l(c,n){for(var u=null,p=0;p<n.length&&c!=n[p];++p)n[p].stack==c.stack&&(u=n[p]);return u}function o(c,n,u){if(!(n.stack==null||n.stack===!1)){var p=l(n,c.getData());if(p){for(var g=u.pointsize,m=u.points,y=p.datapoints.pointsize,x=p.datapoints.points,w=[],k,S,P,E,L,s,h=n.lines.show,v=n.bars.horizontal,d=g>2&&(v?u.format[2].x:u.format[2].y),_=h&&n.lines.steps,C=!0,N=v?1:0,G=v?0:1,q=0,K=0,ie,Q;!(q>=m.length);){if(ie=w.length,m[q]==null){for(Q=0;Q<g;++Q)w.push(m[q+Q]);q+=g}else if(K>=x.length){if(!h)for(Q=0;Q<g;++Q)w.push(m[q+Q]);q+=g}else if(x[K]==null){for(Q=0;Q<g;++Q)w.push(null);C=!0,K+=y}else{if(k=m[q+N],S=m[q+G],E=x[K+N],L=x[K+G],s=0,k==E){for(Q=0;Q<g;++Q)w.push(m[q+Q]);w[ie+G]+=L,s=L,q+=g,K+=y}else if(k>E){if(h&&q>0&&m[q-g]!=null){for(P=S+(m[q-g+G]-S)*(E-k)/(m[q-g+N]-k),w.push(E),w.push(P+L),Q=2;Q<g;++Q)w.push(m[q+Q]);s=L}K+=y}else{if(C&&h){q+=g;continue}for(Q=0;Q<g;++Q)w.push(m[q+Q]);h&&K>0&&x[K-y]!=null&&(s=L+(x[K-y+G]-L)*(k-E)/(x[K-y+N]-E)),w[ie+G]+=s,q+=g}C=!1,ie!=w.length&&d&&(w[ie+2]+=s)}if(_&&ie!=w.length&&ie>0&&w[ie]!=null&&w[ie]!=w[ie-g]&&w[ie+1]!=w[ie-g+1]){for(Q=0;Q<g;++Q)w[ie+g+Q]=w[ie+Q];w[ie+1]=w[ie-g+1]}}u.points=w}}}a.hooks.processDatapoints.push(o)}e.plot.plugins.push({init:r,options:t,name:"stack",version:"1.2"})})(jQuery)}),nw={};AS(nw,{default:()=>$m});CS=iw(rw());SS(nw,iw(rw()));ew=CS,{default:tw}=ew,ES=an(ew,["default"]),$m=tw!==void 0?tw:ES});var ow={};Dn(ow,{default:()=>$m});var aw=Kt(()=>{Lm();Lm()});var uc,TS,Mm,PS,$S,LS,OS,MS,IS,RS,Om,DS,cw,uw,dw,jS,sw,lw,NS,Im,Rm=Kt(()=>{eu();uc=e=>{let t=a=>typeof a.default<"u"?a.default:a,r=a=>Object.assign({},a);switch(e){case"jquery":return t(sf);default:throw new Error('module "'+e+'" not found')}},TS=Object.create,Mm=Object.defineProperty,PS=Object.getOwnPropertyDescriptor,$S=Object.getOwnPropertyNames,LS=Object.getPrototypeOf,OS=Object.prototype.hasOwnProperty,MS=(e=>typeof uc<"u"?uc:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof uc<"u"?uc:t)[r]}):e)(function(e){if(typeof uc<"u")return uc.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),IS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),RS=(e,t)=>{for(var r in t)Mm(e,r,{get:t[r],enumerable:!0})},Om=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of $S(t))!OS.call(e,l)&&l!==r&&Mm(e,l,{get:()=>t[l],enumerable:!(a=PS(t,l))||a.enumerable});return e},DS=(e,t,r)=>(Om(e,t,"default"),r&&Om(r,t,"default")),cw=(e,t,r)=>(r=e!=null?TS(LS(e)):{},Om(t||!e||!e.__esModule?Mm(r,"default",{value:e,enumerable:!0}):r,e)),uw=IS((e,t)=>{(function(r){typeof define=="function"&&define.amd?define(["jquery"],r):typeof t=="object"&&typeof t.exports=="object"?t.exports=r(MS("jquery")):r(jQuery)})(function(r){return function(a){"use strict";var l=a.tablesorter={version:"2.32.0",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:null,ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(o,c){if(!o||!o.tHead||o.tBodies.length===0||o.hasInitialized===!0){l.debug(c,"core")&&(o.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",o));return}var n="",u=a(o),p=a.metadata;o.hasInitialized=!1,o.isProcessing=!0,o.config=c,a.data(o,"tablesorter",c),l.debug(c,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+l.version),a.data(o,"startoveralltimer",new Date)),c.supportsDataObject=function(g){return g[0]=parseInt(g[0],10),g[0]>1||g[0]===1&&parseInt(g[1],10)>=4}(a.fn.jquery.split(".")),c.emptyTo=c.emptyTo.toLowerCase(),c.stringTo=c.stringTo.toLowerCase(),c.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(u.attr("class"))||(n=c.theme!==""?" tablesorter-"+c.theme:""),c.namespace?c.namespace="."+c.namespace.replace(l.regex.nonWord,""):c.namespace=".tablesorter"+Math.random().toString(16).slice(2),c.table=o,c.$table=u.addClass(l.css.table+" "+c.tableClass+n+" "+c.namespace.slice(1)).attr("role","grid"),c.$headers=u.find(c.selectorHeaders),c.$table.children().children("tr").attr("role","row"),c.$tbodies=u.children("tbody:not(."+c.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),c.$table.children("caption").length&&(n=c.$table.children("caption")[0],n.id||(n.id=c.namespace.slice(1)+"caption"),c.$table.attr("aria-labelledby",n.id)),c.widgetInit={},c.textExtraction=c.$table.attr("data-text-extraction")||c.textExtraction||"basic",l.buildHeaders(c),l.fixColumnWidth(o),l.addWidgetFromClass(o),l.applyWidgetOptions(o),l.setupParsers(c),c.totalRows=0,c.debug&&l.validateOptions(c),c.delayInit||l.buildCache(c),l.bindEvents(o,c.$headers,!0),l.bindMethods(c),c.supportsDataObject&&typeof u.data().sortlist<"u"?c.sortList=u.data().sortlist:p&&u.metadata()&&u.metadata().sortlist&&(c.sortList=u.metadata().sortlist),l.applyWidget(o,!0),c.sortList.length>0?(c.last.sortList=c.sortList,l.sortOn(c,c.sortList,{},!c.initWidgets)):(l.setHeadersCss(c),c.initWidgets&&l.applyWidget(o,!1)),c.showProcessing&&u.unbind("sortBegin"+c.namespace+" sortEnd"+c.namespace).bind("sortBegin"+c.namespace+" sortEnd"+c.namespace,function(g){clearTimeout(c.timerProcessing),l.isProcessing(o),g.type==="sortBegin"&&(c.timerProcessing=setTimeout(function(){l.isProcessing(o,!0)},500))}),o.hasInitialized=!0,o.isProcessing=!1,l.debug(c,"core")&&(console.log("Overall initialization time:"+l.benchmark(a.data(o,"startoveralltimer"))),l.debug(c,"core")&&console.groupEnd&&console.groupEnd()),u.triggerHandler("tablesorter-initialized",o),typeof c.initialized=="function"&&c.initialized(o)},bindMethods:function(o){var c=o.$table,n=o.namespace,u="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(n+" ");c.unbind(u.replace(l.regex.spaces," ")).bind("sortReset"+n,function(p,g){p.stopPropagation(),l.sortReset(this.config,function(m){m.isApplyingWidgets?setTimeout(function(){l.applyWidget(m,"",g)},100):l.applyWidget(m,"",g)})}).bind("updateAll"+n,function(p,g,m){p.stopPropagation(),l.updateAll(this.config,g,m)}).bind("update"+n+" updateRows"+n,function(p,g,m){p.stopPropagation(),l.update(this.config,g,m)}).bind("updateHeaders"+n,function(p,g){p.stopPropagation(),l.updateHeaders(this.config,g)}).bind("updateCell"+n,function(p,g,m,y){p.stopPropagation(),l.updateCell(this.config,g,m,y)}).bind("addRows"+n,function(p,g,m,y){p.stopPropagation(),l.addRows(this.config,g,m,y)}).bind("updateComplete"+n,function(){this.isUpdating=!1}).bind("sorton"+n,function(p,g,m,y){p.stopPropagation(),l.sortOn(this.config,g,m,y)}).bind("appendCache"+n,function(p,g,m){p.stopPropagation(),l.appendCache(this.config,m),a.isFunction(g)&&g(this)}).bind("updateCache"+n,function(p,g,m){p.stopPropagation(),l.updateCache(this.config,g,m)}).bind("applyWidgetId"+n,function(p,g){p.stopPropagation(),l.applyWidgetId(this,g)}).bind("applyWidgets"+n,function(p,g){p.stopPropagation(),l.applyWidget(this,!1,g)}).bind("refreshWidgets"+n,function(p,g,m){p.stopPropagation(),l.refreshWidgets(this,g,m)}).bind("removeWidget"+n,function(p,g,m){p.stopPropagation(),l.removeWidget(this,g,m)}).bind("destroy"+n,function(p,g,m){p.stopPropagation(),l.destroy(this,g,m)}).bind("resetToLoadState"+n,function(p){p.stopPropagation(),l.removeWidget(this,!0,!1);var g=a.extend(!0,{},o.originalSettings);o=a.extend(!0,{},l.defaults,g),o.originalSettings=g,this.hasInitialized=!1,l.setup(this,o)})},bindEvents:function(o,c,n){o=a(o)[0];var u,p=o.config,g=p.namespace,m=null;n!==!0&&(c.addClass(g.slice(1)+"_extra_headers"),u=l.getClosest(c,"table"),u.length&&u[0].nodeName==="TABLE"&&u[0]!==o&&a(u[0]).addClass(g.slice(1)+"_extra_table")),u=(p.pointerDown+" "+p.pointerUp+" "+p.pointerClick+" sort keyup ").replace(l.regex.spaces," ").split(" ").join(g+" "),c.find(p.selectorSort).add(c.filter(p.selectorSort)).unbind(u).bind(u,function(y,x){var w,k,S,P=a(y.target),E=" "+y.type+" ";if(!((y.which||y.button)!==1&&!E.match(" "+p.pointerClick+" | sort | keyup ")||E===" keyup "&&y.which!==l.keyCodes.enter||E.match(" "+p.pointerClick+" ")&&typeof y.which<"u")&&!(E.match(" "+p.pointerUp+" ")&&m!==y.target&&x!==!0)){if(E.match(" "+p.pointerDown+" ")){m=y.target,S=P.jquery.split("."),S[0]==="1"&&S[1]<4&&y.preventDefault();return}if(m=null,w=l.getClosest(a(this),"."+l.css.header),l.regex.formElements.test(y.target.nodeName)||P.hasClass(p.cssNoSort)||P.parents("."+p.cssNoSort).length>0||w.hasClass("sorter-false")||P.parents("button").length>0)return!p.cancelSelection;p.delayInit&&l.isEmptyObject(p.cache)&&l.buildCache(p),p.last.clickedIndex=w.attr("data-column")||w.index(),k=p.$headerIndexed[p.last.clickedIndex][0],k&&!k.sortDisabled&&l.initSort(p,k,y)}}),p.cancelSelection&&c.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(o){var c,n,u,p;for(o.headerList=[],o.headerContent=[],o.sortVars=[],l.debug(o,"core")&&(u=new Date),o.columns=l.computeColumnIndex(o.$table.children("thead, tfoot").children("tr")),n=o.cssIcon?'<i class="'+(o.cssIcon===l.css.icon?l.css.icon:o.cssIcon+" "+l.css.icon)+'"></i>':"",o.$headers=a(a.map(o.$table.find(o.selectorHeaders),function(g,m){var y,x,w,k,S,P=a(g);if(!l.getClosest(P,"tr").hasClass(o.cssIgnoreRow))return/(th|td)/i.test(g.nodeName)||(S=l.getClosest(P,"th, td"),P.attr("data-column",S.attr("data-column"))),y=l.getColumnData(o.table,o.headers,m,!0),o.headerContent[m]=P.html(),o.headerTemplate!==""&&!P.find("."+l.css.headerIn).length&&(k=o.headerTemplate.replace(l.regex.templateContent,P.html()).replace(l.regex.templateIcon,P.find("."+l.css.icon).length?"":n),o.onRenderTemplate&&(x=o.onRenderTemplate.apply(P,[m,k]),x&&typeof x=="string"&&(k=x)),P.html('<div class="'+l.css.headerIn+'">'+k+"</div>")),o.onRenderHeader&&o.onRenderHeader.apply(P,[m,o,o.$table]),w=parseInt(P.attr("data-column"),10),g.column=w,S=l.getOrder(l.getData(P,y,"sortInitialOrder")||o.sortInitialOrder),o.sortVars[w]={count:-1,order:S?o.sortReset?[1,0,2]:[1,0]:o.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},S=l.getData(P,y,"lockedOrder")||!1,typeof S<"u"&&S!==!1&&(o.sortVars[w].lockedOrder=!0,o.sortVars[w].order=l.getOrder(S)?[1,1]:[0,0]),o.headerList[m]=g,P.addClass(l.css.header+" "+o.cssHeader),l.getClosest(P,"tr").addClass(l.css.headerRow+" "+o.cssHeaderRow).attr("role","row"),o.tabIndex&&P.attr("tabindex",0),g})),o.$headerIndexed=[],p=0;p<o.columns;p++)l.isEmptyObject(o.sortVars[p])&&(o.sortVars[p]={}),c=o.$headers.filter('[data-column="'+p+'"]'),o.$headerIndexed[p]=c.length?c.not(".sorter-false").length?c.not(".sorter-false").filter(":last"):c.filter(":last"):a();o.$table.find(o.selectorHeaders).attr({scope:"col",role:"columnheader"}),l.updateHeader(o),l.debug(o,"core")&&(console.log("Built headers:"+l.benchmark(u)),console.log(o.$headers))},addInstanceMethods:function(o){a.extend(l.instanceMethods,o)},setupParsers:function(o,c){var n,u,p,g,m,y,x,w,k,S,P,E,L,s,h=o.table,v=0,d=l.debug(o,"core"),_={};if(o.$tbodies=o.$table.children("tbody:not(."+o.cssInfoBlock+")"),L=typeof c>"u"?o.$tbodies:c,s=L.length,s===0)return d?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(d&&(E=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),u={extractors:[],parsers:[]};v<s;){if(n=L[v].rows,n.length)for(m=0,g=o.columns,y=0;y<g;y++){if(x=o.$headerIndexed[m],x&&x.length&&(w=l.getColumnData(h,o.headers,m),P=l.getParserById(l.getData(x,w,"extractor")),S=l.getParserById(l.getData(x,w,"sorter")),k=l.getData(x,w,"parser")==="false",o.empties[m]=(l.getData(x,w,"empty")||o.emptyTo||(o.emptyToBottom?"bottom":"top")).toLowerCase(),o.strings[m]=(l.getData(x,w,"string")||o.stringTo||"max").toLowerCase(),k&&(S=l.getParserById("no-parser")),P||(P=!1),S||(S=l.detectParserForColumn(o,n,-1,m)),d&&(_["("+m+") "+x.text()]={parser:S.id,extractor:P?P.id:"none",string:o.strings[m],empty:o.empties[m]}),u.parsers[m]=S,u.extractors[m]=P,p=x[0].colSpan-1,p>0))for(m+=p,g+=p;p+1>0;)u.parsers[m-p]=S,u.extractors[m-p]=P,p--;m++}v+=u.parsers.length?s:1}d&&(l.isEmptyObject(_)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](_),console.log("Completed detecting parsers"+l.benchmark(E)),console.groupEnd&&console.groupEnd()),o.parsers=u.parsers,o.extractors=u.extractors},addParser:function(o){var c,n=l.parsers.length,u=!0;for(c=0;c<n;c++)l.parsers[c].id.toLowerCase()===o.id.toLowerCase()&&(u=!1);u&&(l.parsers[l.parsers.length]=o)},getParserById:function(o){if(o=="false")return!1;var c,n=l.parsers.length;for(c=0;c<n;c++)if(l.parsers[c].id.toLowerCase()===o.toString().toLowerCase())return l.parsers[c];return!1},detectParserForColumn:function(o,c,n,u){for(var p,g,m,y=l.parsers.length,x=!1,w="",k=l.debug(o,"core"),S=!0;w===""&&S;)n++,m=c[n],m&&n<50?m.className.indexOf(l.cssIgnoreRow)<0&&(x=c[n].cells[u],w=l.getElementText(o,x,u),g=a(x),k&&console.log("Checking if value was empty on row "+n+", column: "+u+': "'+w+'"')):S=!1;for(;--y>=0;)if(p=l.parsers[y],p&&p.id!=="text"&&p.is&&p.is(w,o.table,x,g))return p;return l.getParserById("text")},getElementText:function(o,c,n){if(!c)return"";var u,p=o.textExtraction||"",g=c.jquery?c:a(c);return typeof p=="string"?p==="basic"&&typeof(u=g.attr(o.textAttribute))<"u"?a.trim(u):a.trim(c.textContent||g.text()):typeof p=="function"?a.trim(p(g[0],o.table,n)):typeof(u=l.getColumnData(o.table,p,n))=="function"?a.trim(u(g[0],o.table,n)):a.trim(g[0].textContent||g.text())},getParsedText:function(o,c,n,u){typeof u>"u"&&(u=l.getElementText(o,c,n));var p=""+u,g=o.parsers[n],m=o.extractors[n];return g&&(m&&typeof m.format=="function"&&(u=m.format(u,o.table,c,n)),p=g.id==="no-parser"?"":g.format(""+u,o.table,c,n),o.ignoreCase&&typeof p=="string"&&(p=p.toLowerCase())),p},buildCache:function(o,c,n){var u,p,g,m,y,x,w,k,S,P,E,L,s,h,v,d,_,C,N,G,q,K,ie=o.table,Q=o.parsers,te=l.debug(o,"core");if(o.$tbodies=o.$table.children("tbody:not(."+o.cssInfoBlock+")"),w=typeof n>"u"?o.$tbodies:n,o.cache={},o.totalRows=0,!Q)return te?console.warn("Warning: *Empty table!* Not building a cache"):"";for(te&&(L=new Date),o.showProcessing&&l.isProcessing(ie,!0),x=0;x<w.length;x++){for(d=[],u=o.cache[x]={normalized:[]},s=w[x]&&w[x].rows.length||0,m=0;m<s;++m)if(h={child:[],raw:[]},k=a(w[x].rows[m]),S=[],!k.hasClass(o.selectorRemove.slice(1))){if(k.hasClass(o.cssChildRow)&&m!==0){for(q=u.normalized.length-1,v=u.normalized[q][o.columns],v.$row=v.$row.add(k),k.prev().hasClass(o.cssChildRow)||k.prev().addClass(l.css.cssHasChild),P=k.children("th, td"),q=v.child.length,v.child[q]=[],C=0,G=o.columns,y=0;y<G;y++)E=P[y],E&&(v.child[q][y]=l.getParsedText(o,E,y),_=P[y].colSpan-1,_>0&&(C+=_,G+=_)),C++;continue}for(h.$row=k,h.order=m,C=0,G=o.columns,y=0;y<G;++y){if(E=k[0].cells[y],E&&C<o.columns&&(N=typeof Q[C]<"u",!N&&te&&console.warn("No parser found for row: "+m+", column: "+y+'; cell containing: "'+a(E).text()+'"; does it have a header?'),p=l.getElementText(o,E,C),h.raw[C]=p,g=l.getParsedText(o,E,C,p),S[C]=g,N&&(Q[C].type||"").toLowerCase()==="numeric"&&(d[C]=Math.max(Math.abs(g)||0,d[C]||0)),_=E.colSpan-1,_>0)){for(K=0;K<=_;)g=o.duplicateSpan||K===0?g:typeof o.textExtraction!="string"&&l.getElementText(o,E,C+K)||"",h.raw[C+K]=g,S[C+K]=g,K++;C+=_,G+=_}C++}S[o.columns]=h,u.normalized[u.normalized.length]=S}u.colMax=d,o.totalRows+=u.normalized.length}if(o.showProcessing&&l.isProcessing(ie),te){for(q=Math.min(5,o.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+o.totalRows+" rows (showing "+q+" rows in log) and "+o.columns+" columns"+l.benchmark(L)),p={},y=0;y<o.columns;y++)for(C=0;C<q;C++)p["row: "+C]||(p["row: "+C]={}),p["row: "+C][o.$headerIndexed[y].text()]=o.cache[0].normalized[C][y];console[console.table?"table":"log"](p),console.groupEnd&&console.groupEnd()}a.isFunction(c)&&c(ie)},getColumnText:function(o,c,n,u){o=a(o)[0];var p,g,m,y,x,w,k,S,P,E,L=typeof n=="function",s=c==="all",h={raw:[],parsed:[],$cell:[]},v=o.config;if(l.isEmptyObject(v))l.debug(v,"core")&&console.warn("No cache found - aborting getColumnText function!");else{for(x=v.$tbodies.length,p=0;p<x;p++)for(m=v.cache[p].normalized,w=m.length,g=0;g<w;g++)y=m[g],!(u&&!y[v.columns].$row.is(u))&&(E=!0,S=s?y.slice(0,v.columns):y[c],y=y[v.columns],k=s?y.raw:y.raw[c],P=s?y.$row.children():y.$row.children().eq(c),L&&(E=n({tbodyIndex:p,rowIndex:g,parsed:S,raw:k,$row:y.$row,$cell:P})),E!==!1&&(h.parsed[h.parsed.length]=S,h.raw[h.raw.length]=k,h.$cell[h.$cell.length]=P));return h}},setHeadersCss:function(o){var c,n,u=o.sortList,p=u.length,g=l.css.sortNone+" "+o.cssNone,m=[l.css.sortAsc+" "+o.cssAsc,l.css.sortDesc+" "+o.cssDesc],y=[o.cssIconAsc,o.cssIconDesc,o.cssIconNone],x=["ascending","descending"],w=function(P,E){P.removeClass(g).addClass(m[E]).attr("aria-sort",x[E]).find("."+l.css.icon).removeClass(y[2]).addClass(y[E])},k=o.$table.find("tfoot tr").children("td, th").add(a(o.namespace+"_extra_headers")).removeClass(m.join(" ")),S=o.$headers.add(a("thead "+o.namespace+"_extra_headers")).removeClass(m.join(" ")).addClass(g).attr("aria-sort","none").find("."+l.css.icon).removeClass(y.join(" ")).end();for(S.not(".sorter-false").find("."+l.css.icon).addClass(y[2]),o.cssIconDisabled&&S.filter(".sorter-false").find("."+l.css.icon).addClass(o.cssIconDisabled),c=0;c<p;c++)if(u[c][1]!==2){if(S=o.$headers.filter(function(P){for(var E=!0,L=o.$headers.eq(P),s=parseInt(L.attr("data-column"),10),h=s+l.getClosest(L,"th, td")[0].colSpan;s<h;s++)E=E?E||l.isValueInArray(s,o.sortList)>-1:!1;return E}),S=S.not(".sorter-false").filter('[data-column="'+u[c][0]+'"]'+(p===1?":last":"")),S.length)for(n=0;n<S.length;n++)S[n].sortDisabled||w(S.eq(n),u[c][1]);k.length&&w(k.filter('[data-column="'+u[c][0]+'"]'),u[c][1])}for(p=o.$headers.length,c=0;c<p;c++)l.setColumnAriaLabel(o,o.$headers.eq(c))},getClosest:function(o,c){return a.fn.closest?o.closest(c):o.is(c)?o:o.parents(c).filter(":first")},setColumnAriaLabel:function(o,c,n){if(c.length){var u=parseInt(c.attr("data-column"),10),p=o.sortVars[u],g=c.hasClass(l.css.sortAsc)?"sortAsc":c.hasClass(l.css.sortDesc)?"sortDesc":"sortNone",m=a.trim(c.text())+": "+l.language[g];c.hasClass("sorter-false")||n===!1?m+=l.language.sortDisabled:(g=(p.count+1)%p.order.length,n=p.order[g],m+=l.language[n===0?"nextAsc":n===1?"nextDesc":"nextNone"]),c.attr("aria-label",m),p.sortedBy?c.attr("data-sortedBy",p.sortedBy):c.removeAttr("data-sortedBy")}},updateHeader:function(o){var c,n,u,p,g=o.table,m=o.$headers.length;for(c=0;c<m;c++)u=o.$headers.eq(c),p=l.getColumnData(g,o.headers,c,!0),n=l.getData(u,p,"sorter")==="false"||l.getData(u,p,"parser")==="false",l.setColumnSort(o,u,n)},setColumnSort:function(o,c,n){var u=o.table.id;c[0].sortDisabled=n,c[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),o.tabIndex&&(n?c.removeAttr("tabindex"):c.attr("tabindex","0")),u&&(n?c.removeAttr("aria-controls"):c.attr("aria-controls",u))},updateHeaderSortCount:function(o,c){var n,u,p,g,m,y,x,w,k=c||o.sortList,S=k.length;for(o.sortList=[],g=0;g<S;g++)if(x=k[g],n=parseInt(x[0],10),n<o.columns){switch(o.sortVars[n].order||(l.getOrder(o.sortInitialOrder)?w=o.sortReset?[1,0,2]:[1,0]:w=o.sortReset?[0,1,2]:[0,1],o.sortVars[n].order=w,o.sortVars[n].count=0),w=o.sortVars[n].order,u=(""+x[1]).match(/^(1|d|s|o|n)/),u=u?u[0]:"",u){case"1":case"d":u=1;break;case"s":u=m||0;break;case"o":y=w[(m||0)%w.length],u=y===0?1:y===1?0:2;break;case"n":u=w[++o.sortVars[n].count%w.length];break;default:u=0;break}m=g===0?u:m,p=[n,parseInt(u,10)||0],o.sortList[o.sortList.length]=p,u=a.inArray(p[1],w),o.sortVars[n].count=u>=0?u:p[1]%w.length}},updateAll:function(o,c,n){var u=o.table;u.isUpdating=!0,l.refreshWidgets(u,!0,!0),l.buildHeaders(o),l.bindEvents(u,o.$headers,!0),l.bindMethods(o),l.commonUpdate(o,c,n)},update:function(o,c,n){var u=o.table;u.isUpdating=!0,l.updateHeader(o),l.commonUpdate(o,c,n)},updateHeaders:function(o,c){o.table.isUpdating=!0,l.buildHeaders(o),l.bindEvents(o.table,o.$headers,!0),l.resortComplete(o,c)},updateCell:function(o,c,n,u){if(a(c).closest("tr").hasClass(o.cssChildRow)){console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');return}if(l.isEmptyObject(o.cache)){l.updateHeader(o),l.commonUpdate(o,n,u);return}o.table.isUpdating=!0,o.$table.find(o.selectorRemove).remove();var p,g,m,y,x,w,k=o.$tbodies,S=a(c),P=k.index(l.getClosest(S,"tbody")),E=o.cache[P],L=l.getClosest(S,"tr");if(c=S[0],k.length&&P>=0){if(m=k.eq(P).find("tr").not("."+o.cssChildRow).index(L),x=E.normalized[m],w=L[0].cells.length,w!==o.columns)for(y=0,p=!1,g=0;g<w;g++)!p&&L[0].cells[g]!==c?y+=L[0].cells[g].colSpan:p=!0;else y=S.index();p=l.getElementText(o,c,y),x[o.columns].raw[y]=p,p=l.getParsedText(o,c,y,p),x[y]=p,(o.parsers[y].type||"").toLowerCase()==="numeric"&&(E.colMax[y]=Math.max(Math.abs(p)||0,E.colMax[y]||0)),p=n!=="undefined"?n:o.resort,p!==!1?l.checkResort(o,p,u):l.resortComplete(o,u)}else l.debug(o,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),o.table.isUpdating=!1},addRows:function(o,c,n,u){var p,g,m,y,x,w,k,S,P,E,L,s,h,v=typeof c=="string"&&o.$tbodies.length===1&&/<tr/.test(c||""),d=o.table;if(v)c=a(c),o.$tbodies.append(c);else if(!c||!(c instanceof a)||l.getClosest(c,"table")[0]!==o.table)return l.debug(o,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(d.isUpdating=!0,l.isEmptyObject(o.cache))l.updateHeader(o),l.commonUpdate(o,n,u);else{for(x=c.filter("tr").attr("role","row").length,m=o.$tbodies.index(c.parents("tbody").filter(":first")),o.parsers&&o.parsers.length||l.setupParsers(o),y=0;y<x;y++){for(P=0,k=c[y].cells.length,S=o.cache[m].normalized.length,L=[],E={child:[],raw:[],$row:c.eq(y),order:S},w=0;w<k;w++)s=c[y].cells[w],p=l.getElementText(o,s,P),E.raw[P]=p,g=l.getParsedText(o,s,P,p),L[P]=g,(o.parsers[P].type||"").toLowerCase()==="numeric"&&(o.cache[m].colMax[P]=Math.max(Math.abs(g)||0,o.cache[m].colMax[P]||0)),h=s.colSpan-1,h>0&&(P+=h),P++;L[o.columns]=E,o.cache[m].normalized[S]=L}l.checkResort(o,n,u)}},updateCache:function(o,c,n){o.parsers&&o.parsers.length||l.setupParsers(o,n),l.buildCache(o,c,n)},appendCache:function(o,c){var n,u,p,g,m,y,x,w=o.table,k=o.$tbodies,S=[],P=o.cache;if(l.isEmptyObject(P))return o.appender?o.appender(w,S):w.isUpdating?o.$table.triggerHandler("updateComplete",w):"";for(l.debug(o,"core")&&(x=new Date),y=0;y<k.length;y++)if(p=k.eq(y),p.length){for(g=l.processTbody(w,p,!0),n=P[y].normalized,u=n.length,m=0;m<u;m++)S[S.length]=n[m][o.columns].$row,(!o.appender||o.pager&&!o.pager.removeRows&&!o.pager.ajax)&&g.append(n[m][o.columns].$row);l.processTbody(w,g,!1)}o.appender&&o.appender(w,S),l.debug(o,"core")&&console.log("Rebuilt table"+l.benchmark(x)),!c&&!o.appender&&l.applyWidget(w),w.isUpdating&&o.$table.triggerHandler("updateComplete",w)},commonUpdate:function(o,c,n){o.$table.find(o.selectorRemove).remove(),l.setupParsers(o),l.buildCache(o),l.checkResort(o,c,n)},initSort:function(o,c,n){if(o.table.isUpdating)return setTimeout(function(){l.initSort(o,c,n)},50);var u,p,g,m,y,x,w,k=!n[o.sortMultiSortKey],S=o.table,P=o.$headers.length,E=l.getClosest(a(c),"th, td"),L=parseInt(E.attr("data-column"),10),s=n.type==="mouseup"?"user":n.type,h=o.sortVars[L].order;if(E=E[0],o.$table.triggerHandler("sortStart",S),x=(o.sortVars[L].count+1)%h.length,o.sortVars[L].count=n[o.sortResetKey]?2:x,o.sortRestart)for(g=0;g<P;g++)w=o.$headers.eq(g),x=parseInt(w.attr("data-column"),10),L!==x&&(k||w.hasClass(l.css.sortNone))&&(o.sortVars[x].count=-1);if(k){if(a.each(o.sortVars,function(v){o.sortVars[v].sortedBy=""}),o.sortList=[],o.last.sortList=[],o.sortForce!==null)for(u=o.sortForce,p=0;p<u.length;p++)u[p][0]!==L&&(o.sortList[o.sortList.length]=u[p],o.sortVars[u[p][0]].sortedBy="sortForce");if(m=h[o.sortVars[L].count],m<2&&(o.sortList[o.sortList.length]=[L,m],o.sortVars[L].sortedBy=s,E.colSpan>1))for(p=1;p<E.colSpan;p++)o.sortList[o.sortList.length]=[L+p,m],o.sortVars[L+p].count=a.inArray(m,h),o.sortVars[L+p].sortedBy=s}else if(o.sortList=a.extend([],o.last.sortList),l.isValueInArray(L,o.sortList)>=0)for(o.sortVars[L].sortedBy=s,p=0;p<o.sortList.length;p++)x=o.sortList[p],x[0]===L&&(x[1]=h[o.sortVars[L].count],x[1]===2&&(o.sortList.splice(p,1),o.sortVars[L].count=-1));else if(m=h[o.sortVars[L].count],o.sortVars[L].sortedBy=s,m<2&&(o.sortList[o.sortList.length]=[L,m],E.colSpan>1))for(p=1;p<E.colSpan;p++)o.sortList[o.sortList.length]=[L+p,m],o.sortVars[L+p].count=a.inArray(m,h),o.sortVars[L+p].sortedBy=s;if(o.last.sortList=a.extend([],o.sortList),o.sortList.length&&o.sortAppend&&(u=a.isArray(o.sortAppend)?o.sortAppend:o.sortAppend[o.sortList[0][0]],!l.isEmptyObject(u))){for(p=0;p<u.length;p++)if(u[p][0]!==L&&l.isValueInArray(u[p][0],o.sortList)<0){if(m=u[p][1],y=(""+m).match(/^(a|d|s|o|n)/),y)switch(x=o.sortList[0][1],y[0]){case"d":m=1;break;case"s":m=x;break;case"o":m=x===0?1:0;break;case"n":m=(x+1)%h.length;break;default:m=0;break}o.sortList[o.sortList.length]=[u[p][0],m],o.sortVars[u[p][0]].sortedBy="sortAppend"}}o.$table.triggerHandler("sortBegin",S),setTimeout(function(){l.setHeadersCss(o),l.multisort(o),l.appendCache(o),o.$table.triggerHandler("sortBeforeEnd",S),o.$table.triggerHandler("sortEnd",S)},1)},multisort:function(o){var c,n,u,p,g,m=o.table,y=[],x=0,w=o.textSorter||"",k=o.sortList,S=k.length,P=o.$tbodies.length;if(!(o.serverSideSorting||l.isEmptyObject(o.cache))){if(l.debug(o,"core")&&(n=new Date),typeof w=="object")for(u=o.columns;u--;)g=l.getColumnData(m,w,u),typeof g=="function"&&(y[u]=g);for(c=0;c<P;c++)u=o.cache[c].colMax,p=o.cache[c].normalized,p.sort(function(E,L){var s,h,v,d,_,C,N;for(s=0;s<S;s++){if(v=k[s][0],d=k[s][1],x=d===0,o.sortStable&&E[v]===L[v]&&S===1)return E[o.columns].order-L[o.columns].order;if(h=/n/i.test(l.getSortType(o.parsers,v)),h&&o.strings[v]?(typeof l.string[o.strings[v]]=="boolean"?h=(x?1:-1)*(l.string[o.strings[v]]?-1:1):h=o.strings[v]&&l.string[o.strings[v]]||0,_=o.numberSorter?o.numberSorter(E[v],L[v],x,u[v],m):l["sortNumeric"+(x?"Asc":"Desc")](E[v],L[v],h,u[v],v,o)):(C=x?E:L,N=x?L:E,typeof w=="function"?_=w(C[v],N[v],x,v,m):typeof y[v]=="function"?_=y[v](C[v],N[v],x,v,m):_=l["sortNatural"+(x?"Asc":"Desc")](E[v]||"",L[v]||"",v,o)),_)return _}return E[o.columns].order-L[o.columns].order});l.debug(o,"core")&&console.log("Applying sort "+k.toString()+l.benchmark(n))}},resortComplete:function(o,c){o.table.isUpdating&&o.$table.triggerHandler("updateComplete",o.table),a.isFunction(c)&&c(o.table)},checkResort:function(o,c,n){var u=a.isArray(c)?c:o.sortList,p=typeof c>"u"?o.resort:c;p!==!1&&!o.serverSideSorting&&!o.table.isProcessing?u.length?l.sortOn(o,u,function(){l.resortComplete(o,n)},!0):l.sortReset(o,function(){l.resortComplete(o,n),l.applyWidget(o.table,!1)}):(l.resortComplete(o,n),l.applyWidget(o.table,!1))},sortOn:function(o,c,n,u){var p,g=o.table;for(o.$table.triggerHandler("sortStart",g),p=0;p<o.columns;p++)o.sortVars[p].sortedBy=l.isValueInArray(p,c)>-1?"sorton":"";l.updateHeaderSortCount(o,c),l.setHeadersCss(o),o.delayInit&&l.isEmptyObject(o.cache)&&l.buildCache(o),o.$table.triggerHandler("sortBegin",g),l.multisort(o),l.appendCache(o,u),o.$table.triggerHandler("sortBeforeEnd",g),o.$table.triggerHandler("sortEnd",g),l.applyWidget(g),a.isFunction(n)&&n(g)},sortReset:function(o,c){o.sortList=[];var n;for(n=0;n<o.columns;n++)o.sortVars[n].count=-1,o.sortVars[n].sortedBy="";l.setHeadersCss(o),l.multisort(o),l.appendCache(o),a.isFunction(c)&&c(o.table)},getSortType:function(o,c){return o&&o[c]&&o[c].type||""},getOrder:function(o){return/^d/i.test(o)||o===1},sortNatural:function(o,c){if(o===c)return 0;o=(o||"").toString(),c=(c||"").toString();var n,u,p,g,m,y,x=l.regex;if(x.hex.test(c)){if(n=parseInt(o.match(x.hex),16),u=parseInt(c.match(x.hex),16),n<u)return-1;if(n>u)return 1}for(n=o.replace(x.chunk,"\\0$1\\0").replace(x.chunks,"").split("\\0"),u=c.replace(x.chunk,"\\0$1\\0").replace(x.chunks,"").split("\\0"),y=Math.max(n.length,u.length),m=0;m<y;m++){if(p=isNaN(n[m])?n[m]||0:parseFloat(n[m])||0,g=isNaN(u[m])?u[m]||0:parseFloat(u[m])||0,isNaN(p)!==isNaN(g))return isNaN(p)?1:-1;if(typeof p!=typeof g&&(p+="",g+=""),p<g)return-1;if(p>g)return 1}return 0},sortNaturalAsc:function(o,c,n,u){if(o===c)return 0;var p=l.string[u.empties[n]||u.emptyTo];return o===""&&p!==0?typeof p=="boolean"?p?-1:1:-p||-1:c===""&&p!==0?typeof p=="boolean"?p?1:-1:p||1:l.sortNatural(o,c)},sortNaturalDesc:function(o,c,n,u){if(o===c)return 0;var p=l.string[u.empties[n]||u.emptyTo];return o===""&&p!==0?typeof p=="boolean"?p?-1:1:p||1:c===""&&p!==0?typeof p=="boolean"?p?1:-1:-p||-1:l.sortNatural(c,o)},sortText:function(o,c){return o>c?1:o<c?-1:0},getTextValue:function(o,c,n){if(n){var u,p=o?o.length:0,g=n+c;for(u=0;u<p;u++)g+=o.charCodeAt(u);return c*g}return 0},sortNumericAsc:function(o,c,n,u,p,g){if(o===c)return 0;var m=l.string[g.empties[p]||g.emptyTo];return o===""&&m!==0?typeof m=="boolean"?m?-1:1:-m||-1:c===""&&m!==0?typeof m=="boolean"?m?1:-1:m||1:(isNaN(o)&&(o=l.getTextValue(o,n,u)),isNaN(c)&&(c=l.getTextValue(c,n,u)),o-c)},sortNumericDesc:function(o,c,n,u,p,g){if(o===c)return 0;var m=l.string[g.empties[p]||g.emptyTo];return o===""&&m!==0?typeof m=="boolean"?m?-1:1:m||1:c===""&&m!==0?typeof m=="boolean"?m?1:-1:-m||-1:(isNaN(o)&&(o=l.getTextValue(o,n,u)),isNaN(c)&&(c=l.getTextValue(c,n,u)),c-o)},sortNumeric:function(o,c){return o-c},addWidget:function(o){o.id&&!l.isEmptyObject(l.getWidgetById(o.id))&&console.warn('"'+o.id+'" widget was loaded more than once!'),l.widgets[l.widgets.length]=o},hasWidget:function(o,c){return o=a(o),o.length&&o[0].config&&o[0].config.widgetInit[c]||!1},getWidgetById:function(o){var c,n,u=l.widgets.length;for(c=0;c<u;c++)if(n=l.widgets[c],n&&n.id&&n.id.toLowerCase()===o.toLowerCase())return n},applyWidgetOptions:function(o){var c,n,u,p=o.config,g=p.widgets.length;if(g)for(c=0;c<g;c++)n=l.getWidgetById(p.widgets[c]),n&&n.options&&(u=a.extend(!0,{},n.options),p.widgetOptions=a.extend(!0,u,p.widgetOptions),a.extend(!0,l.defaults.widgetOptions,n.options))},addWidgetFromClass:function(o){var c,n,u=o.config,p="^"+u.widgetClass.replace(l.regex.templateName,"(\\S+)+")+"$",g=new RegExp(p,"g"),m=(o.className||"").split(l.regex.spaces);if(m.length)for(c=m.length,n=0;n<c;n++)m[n].match(g)&&(u.widgets[u.widgets.length]=m[n].replace(g,"$1"))},applyWidgetId:function(o,c,n){o=a(o)[0];var u,p,g,m=o.config,y=m.widgetOptions,x=l.debug(m,"core"),w=l.getWidgetById(c);w&&(g=w.id,u=!1,a.inArray(g,m.widgets)<0&&(m.widgets[m.widgets.length]=g),x&&(p=new Date),(n||!m.widgetInit[g])&&(m.widgetInit[g]=!0,o.hasInitialized&&l.applyWidgetOptions(o),typeof w.init=="function"&&(u=!0,x&&console[console.group?"group":"log"]("Initializing "+g+" widget"),w.init(o,w,m,y))),!n&&typeof w.format=="function"&&(u=!0,x&&console[console.group?"group":"log"]("Updating "+g+" widget"),w.format(o,m,y,!1)),x&&u&&(console.log("Completed "+(n?"initializing ":"applying ")+g+" widget"+l.benchmark(p)),console.groupEnd&&console.groupEnd()))},applyWidget:function(o,c,n){o=a(o)[0];var u,p,g,m,y,x=o.config,w=l.debug(x,"core"),k=[];if(!(c!==!1&&o.hasInitialized&&(o.isApplyingWidgets||o.isUpdating))){if(w&&(y=new Date),l.addWidgetFromClass(o),clearTimeout(x.timerReady),x.widgets.length){for(o.isApplyingWidgets=!0,x.widgets=a.grep(x.widgets,function(S,P){return a.inArray(S,x.widgets)===P}),g=x.widgets||[],p=g.length,u=0;u<p;u++)m=l.getWidgetById(g[u]),m&&m.id?(m.priority||(m.priority=10),k[u]=m):w&&console.warn('"'+g[u]+'" was enabled, but the widget code has not been loaded!');for(k.sort(function(S,P){return S.priority<P.priority?-1:S.priority===P.priority?0:1}),p=k.length,w&&console[console.group?"group":"log"]("Start "+(c?"initializing":"applying")+" widgets"),u=0;u<p;u++)m=k[u],m&&m.id&&l.applyWidgetId(o,m.id,c);w&&console.groupEnd&&console.groupEnd()}x.timerReady=setTimeout(function(){o.isApplyingWidgets=!1,a.data(o,"lastWidgetApplication",new Date),x.$table.triggerHandler("tablesorter-ready"),!c&&typeof n=="function"&&n(o),w&&(m=x.widgets.length,console.log("Completed "+(c===!0?"initializing ":"applying ")+m+" widget"+(m!==1?"s":"")+l.benchmark(y)))},10)}},removeWidget:function(o,c,n){o=a(o)[0];var u,p,g,m,y=o.config;if(c===!0)for(c=[],m=l.widgets.length,g=0;g<m;g++)p=l.widgets[g],p&&p.id&&(c[c.length]=p.id);else c=(a.isArray(c)?c.join(","):c||"").toLowerCase().split(/[\s,]+/);for(m=c.length,u=0;u<m;u++)p=l.getWidgetById(c[u]),g=a.inArray(c[u],y.widgets),g>=0&&n!==!0&&y.widgets.splice(g,1),p&&p.remove&&(l.debug(y,"core")&&console.log((n?"Refreshing":"Removing")+' "'+c[u]+'" widget'),p.remove(o,y,y.widgetOptions,n),y.widgetInit[c[u]]=!1);y.$table.triggerHandler("widgetRemoveEnd",o)},refreshWidgets:function(o,c,n){o=a(o)[0];var u,p,g=o.config,m=g.widgets,y=l.widgets,x=y.length,w=[],k=function(S){a(S).triggerHandler("refreshComplete")};for(u=0;u<x;u++)p=y[u],p&&p.id&&(c||a.inArray(p.id,m)<0)&&(w[w.length]=p.id);l.removeWidget(o,w.join(","),!0),n!==!0?(l.applyWidget(o,c||!1,k),c&&l.applyWidget(o,!1,k)):k(o)},benchmark:function(o){return" ("+(new Date().getTime()-o.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(o,c){return o&&(o.debug===!0||typeof o.debug=="string"&&o.debug.indexOf(c)>-1)},isEmptyObject:function(o){for(var c in o)return!1;return!0},isValueInArray:function(o,c){var n,u=c&&c.length||0;for(n=0;n<u;n++)if(c[n][0]===o)return n;return-1},formatFloat:function(o,c){if(typeof o!="string"||o==="")return o;var n,u=c&&c.config?c.config.usNumberFormat!==!1:typeof c<"u"?c:!0;return u?o=o.replace(l.regex.comma,""):o=o.replace(l.regex.digitNonUS,"").replace(l.regex.comma,"."),l.regex.digitNegativeTest.test(o)&&(o=o.replace(l.regex.digitNegativeReplace,"-$1")),n=parseFloat(o),isNaN(n)?a.trim(o):n},isDigit:function(o){return isNaN(o)?l.regex.digitTest.test(o.toString().replace(l.regex.digitReplace,"")):o!==""},computeColumnIndex:function(o,c){var n,u,p,g,m,y,x,w,k,S,P=c&&c.columns||0,E=[],L=new Array(P);for(n=0;n<o.length;n++)for(y=o[n].cells,u=0;u<y.length;u++){for(m=y[u],x=n,w=m.rowSpan||1,k=m.colSpan||1,typeof E[x]>"u"&&(E[x]=[]),p=0;p<E[x].length+1;p++)if(typeof E[x][p]>"u"){S=p;break}for(P&&m.cellIndex===S||(m.setAttribute?m.setAttribute("data-column",S):a(m).attr("data-column",S)),p=x;p<x+w;p++)for(typeof E[p]>"u"&&(E[p]=[]),L=E[p],g=S;g<S+k;g++)L[g]="x"}return l.checkColumnCount(o,E,L.length),L.length},checkColumnCount:function(o,c,n){var u,p,g=!0,m=[];for(u=0;u<c.length;u++)if(c[u]&&(p=c[u].length,c[u].length!==n)){g=!1;break}g||(o.each(function(y,x){var w=x.parentElement.nodeName;m.indexOf(w)<0&&m.push(w)}),console.error("Invalid or incorrect number of columns in the "+m.join(" or ")+"; expected "+n+", but found "+p+" columns"))},fixColumnWidth:function(o){o=a(o)[0];var c,n,u,p,g,m=o.config,y=m.$table.children("colgroup");if(y.length&&y.hasClass(l.css.colgroup)&&y.remove(),m.widthFixed&&m.$table.children("colgroup").length===0){for(y=a('<colgroup class="'+l.css.colgroup+'">'),c=m.$table.width(),u=m.$tbodies.find("tr:first").children(":visible"),p=u.length,g=0;g<p;g++)n=parseInt(u.eq(g).width()/c*1e3,10)/10+"%",y.append(a("<col>").css("width",n));m.$table.prepend(y)}},getData:function(o,c,n){var u,p,g="",m=a(o);return m.length?(u=a.metadata?m.metadata():!1,p=" "+(m.attr("class")||""),typeof m.data(n)<"u"||typeof m.data(n.toLowerCase())<"u"?g+=m.data(n)||m.data(n.toLowerCase()):u&&typeof u[n]<"u"?g+=u[n]:c&&typeof c[n]<"u"?g+=c[n]:p!==" "&&p.match(" "+n+"-")&&(g=p.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),a.trim(g)):""},getColumnData:function(o,c,n,u,p){if(typeof c!="object"||c===null)return c;o=a(o)[0];var g,m,y=o.config,x=p||y.$headers,w=y.$headerIndexed&&y.$headerIndexed[n]||x.find('[data-column="'+n+'"]:last');if(typeof c[n]<"u")return u?c[n]:c[x.index(w)];for(m in c)if(typeof m=="string"&&(g=w.filter(m).add(w.find(m)),g.length))return c[m]},isProcessing:function(o,c,n){o=a(o);var u=o[0].config,p=n||o.find("."+l.css.header);c?(typeof n<"u"&&u.sortList.length>0&&(p=p.filter(function(){return this.sortDisabled?!1:l.isValueInArray(parseFloat(a(this).attr("data-column")),u.sortList)>=0})),o.add(p).addClass(l.css.processing+" "+u.cssProcessing)):o.add(p).removeClass(l.css.processing+" "+u.cssProcessing)},processTbody:function(o,c,n){if(o=a(o)[0],n)return o.isProcessing=!0,c.before('<colgroup class="tablesorter-savemyplace"/>'),a.fn.detach?c.detach():c.remove();var u=a(o).find("colgroup.tablesorter-savemyplace");c.insertAfter(u),u.remove(),o.isProcessing=!1},clearTableBody:function(o){a(o)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xE1\xE0\xE2\xE3\xE4\u0105\xE5",A:"\xC1\xC0\xC2\xC3\xC4\u0104\xC5",c:"\xE7\u0107\u010D",C:"\xC7\u0106\u010C",e:"\xE9\xE8\xEA\xEB\u011B\u0119",E:"\xC9\xC8\xCA\xCB\u011A\u0118",i:"\xED\xEC\u0130\xEE\xEF\u0131",I:"\xCD\xCC\u0130\xCE\xCF",o:"\xF3\xF2\xF4\xF5\xF6\u014D",O:"\xD3\xD2\xD4\xD5\xD6\u014C",ss:"\xDF",SS:"\u1E9E",u:"\xFA\xF9\xFB\xFC\u016F",U:"\xDA\xD9\xDB\xDC\u016E"},replaceAccents:function(o){var c,n="[",u=l.characterEquivalents;if(!l.characterRegex){l.characterRegexArray={};for(c in u)typeof c=="string"&&(n+=u[c],l.characterRegexArray[c]=new RegExp("["+u[c]+"]","g"));l.characterRegex=new RegExp(n+"]")}if(l.characterRegex.test(o))for(c in u)typeof c=="string"&&(o=o.replace(l.characterRegexArray[c],c));return o},validateOptions:function(o){var c,n,u,p,g="headers sortForce sortList sortAppend widgets".split(" "),m=o.originalSettings;if(m){l.debug(o,"core")&&(p=new Date);for(c in m)if(u=typeof l.defaults[c],u==="undefined")console.warn('Tablesorter Warning! "table.config.'+c+'" option not recognized');else if(u==="object")for(n in m[c])u=l.defaults[c]&&typeof l.defaults[c][n],a.inArray(c,g)<0&&u==="undefined"&&console.warn('Tablesorter Warning! "table.config.'+c+"."+n+'" option not recognized');l.debug(o,"core")&&console.log("validate options time:"+l.benchmark(p))}},restoreHeaders:function(o){var c,n,u=a(o)[0].config,p=u.$table.find(u.selectorHeaders),g=p.length;for(c=0;c<g;c++)n=p.eq(c),n.find("."+l.css.headerIn).length&&n.html(u.headerContent[c])},destroy:function(o,c,n){if(o=a(o)[0],!!o.hasInitialized){l.removeWidget(o,!0,!1);var u,p=a(o),g=o.config,m=p.find("thead:first"),y=m.find("tr."+l.css.headerRow).removeClass(l.css.headerRow+" "+g.cssHeaderRow),x=p.find("tfoot:first > tr").children("th, td");c===!1&&a.inArray("uitheme",g.widgets)>=0&&(p.triggerHandler("applyWidgetId",["uitheme"]),p.triggerHandler("applyWidgetId",["zebra"])),m.find("tr").not(y).remove(),u="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(g.namespace+" "),p.removeData("tablesorter").unbind(u.replace(l.regex.spaces," ")),g.$headers.add(x).removeClass([l.css.header,g.cssHeader,g.cssAsc,g.cssDesc,l.css.sortAsc,l.css.sortDesc,l.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),y.find(g.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(g.namespace+" ").replace(l.regex.spaces," ")),l.restoreHeaders(o),p.toggleClass(l.css.table+" "+g.tableClass+" tablesorter-"+g.theme,c===!1),p.removeClass(g.namespace.slice(1)),o.hasInitialized=!1,delete o.config.cache,typeof n=="function"&&n(o),l.debug(g,"core")&&console.log("tablesorter has been removed")}}};a.fn.tablesorter=function(o){return this.each(function(){var c=this,n=a.extend(!0,{},l.defaults,o,l.instanceMethods);n.originalSettings=o,!c.hasInitialized&&l.buildTable&&this.nodeName!=="TABLE"?l.buildTable(c,n):l.setup(c,n)})},window.console&&window.console.log||(l.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var o=arguments.length>1?arguments:arguments[0];l.logs[l.logs.length]={date:Date.now(),log:o}}),l.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),l.addParser({id:"text",is:function(){return!0},format:function(o,c){var n=c.config;return o&&(o=a.trim(n.ignoreCase?o.toLocaleLowerCase():o),o=n.sortLocaleCompare?l.replaceAccents(o):o),o},type:"text"}),l.regex.nondigit=/[^\w,. \-()]/g,l.addParser({id:"digit",is:function(o){return l.isDigit(o)},format:function(o,c){var n=l.formatFloat((o||"").replace(l.regex.nondigit,""),c);return o&&typeof n=="number"?n:o&&a.trim(o&&c.config.ignoreCase?o.toLocaleLowerCase():o)},type:"numeric"}),l.regex.currencyReplace=/[+\-,. ]/g,l.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,l.addParser({id:"currency",is:function(o){return o=(o||"").replace(l.regex.currencyReplace,""),l.regex.currencyTest.test(o)},format:function(o,c){var n=l.formatFloat((o||"").replace(l.regex.nondigit,""),c);return o&&typeof n=="number"?n:o&&a.trim(o&&c.config.ignoreCase?o.toLocaleLowerCase():o)},type:"numeric"}),l.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,l.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,l.addParser({id:"url",is:function(o){return l.regex.urlProtocolTest.test(o)},format:function(o){return o&&a.trim(o.replace(l.regex.urlProtocolReplace,""))},type:"text"}),l.regex.dash=/-/g,l.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,l.addParser({id:"isoDate",is:function(o){return l.regex.isoDate.test(o)},format:function(o){var c=o&&new Date(o.replace(l.regex.dash,"/"));return c instanceof Date&&isFinite(c)?c.getTime():o},type:"numeric"}),l.regex.percent=/%/g,l.regex.percentTest=/(\d\s*?%|%\s*?\d)/,l.addParser({id:"percent",is:function(o){return l.regex.percentTest.test(o)&&o.length<15},format:function(o,c){return o&&l.formatFloat(o.replace(l.regex.percent,""),c)},type:"numeric"}),l.addParser({id:"image",is:function(o,c,n,u){return u.find("img").length>0},format:function(o,c,n){return a(n).find("img").attr(c.config.imgAttr||"alt")||o},parsed:!0,type:"text"}),l.regex.dateReplace=/(\S)([AP]M)$/i,l.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,l.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,l.addParser({id:"usLongDate",is:function(o){return l.regex.usLongDateTest1.test(o)||l.regex.usLongDateTest2.test(o)},format:function(o){var c=o&&new Date(o.replace(l.regex.dateReplace,"$1 $2"));return c instanceof Date&&isFinite(c)?c.getTime():o},type:"numeric"}),l.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,l.regex.shortDateReplace=/[\-.,]/g,l.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,l.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,l.convertFormat=function(o,c){o=(o||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),c==="mmddyyyy"?o=o.replace(l.regex.shortDateXXY,"$3/$1/$2"):c==="ddmmyyyy"?o=o.replace(l.regex.shortDateXXY,"$3/$2/$1"):c==="yyyymmdd"&&(o=o.replace(l.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(o);return n instanceof Date&&isFinite(n)?n.getTime():""},l.addParser({id:"shortDate",is:function(o){return o=(o||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),l.regex.shortDateTest.test(o)},format:function(o,c,n,u){if(o){var p=c.config,g=p.$headerIndexed[u],m=g.length&&g.data("dateFormat")||l.getData(g,l.getColumnData(c,p.headers,u),"dateFormat")||p.dateFormat;return g.length&&g.data("dateFormat",m),l.convertFormat(o,m)||o}return o},type:"numeric"}),l.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,l.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,l.addParser({id:"time",is:function(o){return l.regex.timeTest.test(o)},format:function(o){var c,n=(o||"").match(l.regex.timeMatch),u=new Date(o),p=o&&(n!==null?n[0]:"00:00 AM"),g=p&&new Date("2000/01/01 "+p.replace(l.regex.dateReplace,"$1 $2"));return g instanceof Date&&isFinite(g)?(c=u instanceof Date&&isFinite(u)?u.getTime():0,c?parseFloat(g.getTime()+"."+u.getTime()):g.getTime()):o},type:"numeric"}),l.addParser({id:"metadata",is:function(){return!1},format:function(o,c,n){var u=c.config,p=u.parserMetadataName?u.parserMetadataName:"sortValue";return a(n).metadata()[p]},type:"numeric"}),l.addWidget({id:"zebra",priority:90,format:function(o,c,n){var u,p,g,m,y,x,w,k=new RegExp(c.cssChildRow,"i"),S=c.$tbodies.add(a(c.namespace+"_extra_table").children("tbody:not(."+c.cssInfoBlock+")"));for(y=0;y<S.length;y++)for(g=0,u=S.eq(y).children("tr:visible").not(c.selectorRemove),w=u.length,x=0;x<w;x++)p=u.eq(x),k.test(p[0].className)||g++,m=g%2===0,p.removeClass(n.zebra[m?1:0]).addClass(n.zebra[m?0:1])},remove:function(o,c,n,u){if(!u){var p,g,m=c.$tbodies,y=(n.zebra||["even","odd"]).join(" ");for(p=0;p<m.length;p++)g=l.processTbody(o,m.eq(p),!0),g.children().removeClass(y),l.processTbody(o,g,!1)}}})}(r),function(a,l,o){"use strict";var c=a.tablesorter||{};a.extend(!0,c.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),c.storage=function(n,u,p,g){n=a(n)[0];var m,y,x,w=!1,k={},S=n.config,P=S&&S.widgetOptions,E=c.debug(S,"storage"),L=(g&&g.storageType||P&&P.storage_storageType).toString().charAt(0).toLowerCase(),s=L?"":g&&g.useSessionStorage||P&&P.storage_useSessionStorage,h=a(n),v=g&&g.id||h.attr(g&&g.group||P&&P.storage_group||"data-table-group")||P&&P.storage_tableId||n.id||a(".tablesorter").index(h),d=g&&g.url||h.attr(g&&g.page||P&&P.storage_page||"data-table-page")||P&&P.storage_fixedUrl||S&&S.fixedUrl||l.location.pathname;if(L!=="c"&&(L=L==="s"||s?"sessionStorage":"localStorage",L in l))try{l[L].setItem("_tmptest","temp"),w=!0,l[L].removeItem("_tmptest")}catch(_){console.warn(L+" is not supported in this browser")}if(E&&console.log("Storage >> Using",w?L:"cookies"),a.parseJSON&&(w?k=a.parseJSON(l[L][u]||"null")||{}:(y=o.cookie.split(/[;\s|=]/),m=a.inArray(u,y)+1,k=m!==0?a.parseJSON(y[m]||"null")||{}:{})),typeof p<"u"&&l.JSON&&JSON.hasOwnProperty("stringify"))k[d]||(k[d]={}),k[d][v]=p,w?l[L][u]=JSON.stringify(k):(x=new Date,x.setTime(x.getTime()+31536e6),o.cookie=u+"="+JSON.stringify(k).replace(/\"/g,'"')+"; expires="+x.toGMTString()+"; path=/");else return k&&k[d]?k[d][v]:""}}(r,window,document),function(a){"use strict";var l=a.tablesorter||{};l.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},a.extend(l.css,{wrapper:"tablesorter-wrapper"}),l.addWidget({id:"uitheme",priority:10,format:function(o,c,n){var u,p,g,m,y,x,w,k,S,P,E,L,s,h=l.themes,v=c.$table.add(a(c.namespace+"_extra_table")),d=c.$headers.add(a(c.namespace+"_extra_headers")),_=c.theme||"jui",C=h[_]||{},N=a.trim([C.sortNone,C.sortDesc,C.sortAsc,C.active].join(" ")),G=a.trim([C.iconSortNone,C.iconSortDesc,C.iconSortAsc].join(" ")),q=l.debug(c,"uitheme");for(q&&(y=new Date),(!v.hasClass("tablesorter-"+_)||c.theme!==c.appliedTheme||!n.uitheme_applied)&&(n.uitheme_applied=!0,P=h[c.appliedTheme]||{},s=!a.isEmptyObject(P),E=s?[P.sortNone,P.sortDesc,P.sortAsc,P.active].join(" "):"",L=s?[P.iconSortNone,P.iconSortDesc,P.iconSortAsc].join(" "):"",s&&(n.zebra[0]=a.trim(" "+n.zebra[0].replace(" "+P.even,"")),n.zebra[1]=a.trim(" "+n.zebra[1].replace(" "+P.odd,"")),c.$tbodies.children().removeClass([P.even,P.odd].join(" "))),C.even&&(n.zebra[0]+=" "+C.even),C.odd&&(n.zebra[1]+=" "+C.odd),v.children("caption").removeClass(P.caption||"").addClass(C.caption),k=v.removeClass((c.appliedTheme?"tablesorter-"+(c.appliedTheme||""):"")+" "+(P.table||"")).addClass("tablesorter-"+_+" "+(C.table||"")).children("tfoot"),c.appliedTheme=c.theme,k.length&&k.children("tr").removeClass(P.footerRow||"").addClass(C.footerRow).children("th, td").removeClass(P.footerCells||"").addClass(C.footerCells),d.removeClass((s?[P.header,P.hover,E].join(" "):"")||"").addClass(C.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(K){a(this)[K.type==="mouseenter"?"addClass":"removeClass"](C.hover||"")}),d.each(function(){var K=a(this);K.find("."+l.css.wrapper).length||K.wrapInner('<div class="'+l.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),c.cssIcon&&d.find("."+l.css.icon).removeClass(s?[P.icons,L].join(" "):"").addClass(C.icons||""),l.hasWidget(c.table,"filter")&&(p=function(){v.children("thead").children("."+l.css.filterRow).removeClass(s&&P.filterRow||"").addClass(C.filterRow||"")},n.filter_initialized?p():v.one("filterInit",function(){p()}))),u=0;u<c.columns;u++)x=c.$headers.add(a(c.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+u+'"]'),w=l.css.icon?x.find("."+l.css.icon):a(),S=d.not(".sorter-false").filter('[data-column="'+u+'"]:last'),S.length&&(x.removeClass(N),w.removeClass(G),S[0].sortDisabled?w.removeClass(C.icons||""):(g=C.sortNone,m=C.iconSortNone,S.hasClass(l.css.sortAsc)?(g=[C.sortAsc,C.active].join(" "),m=C.iconSortAsc):S.hasClass(l.css.sortDesc)&&(g=[C.sortDesc,C.active].join(" "),m=C.iconSortDesc),x.addClass(g),w.addClass(m||"")));q&&console.log("uitheme >> Applied "+_+" theme"+l.benchmark(y))},remove:function(o,c,n,u){if(n.uitheme_applied){var p=c.$table,g=c.appliedTheme||"jui",m=l.themes[g]||l.themes.jui,y=p.children("thead").children(),x=m.sortNone+" "+m.sortDesc+" "+m.sortAsc,w=m.iconSortNone+" "+m.iconSortDesc+" "+m.iconSortAsc;p.removeClass("tablesorter-"+g+" "+m.table),n.uitheme_applied=!1,!u&&(p.find(l.css.header).removeClass(m.header),y.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(m.hover+" "+x+" "+m.active).filter("."+l.css.filterRow).removeClass(m.filterRow),y.find("."+l.css.icon).removeClass(m.icons+" "+w))}}})}(r),function(a){"use strict";var l=a.tablesorter||{};l.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(o,c,n){var u,p,g,m,y,x,w,k,S=c.$table,P=c.$tbodies,E=c.sortList,L=E.length,s=n&&n.columns||["primary","secondary","tertiary"],h=s.length-1;for(w=s.join(" "),p=0;p<P.length;p++)u=l.processTbody(o,P.eq(p),!0),g=u.children("tr"),g.each(function(){if(y=a(this),this.style.display!=="none"&&(x=y.children().removeClass(w),E&&E[0]&&(x.eq(E[0][0]).addClass(s[0]),L>1)))for(k=1;k<L;k++)x.eq(E[k][0]).addClass(s[k]||s[h])}),l.processTbody(o,u,!1);if(m=n.columns_thead!==!1?["thead tr"]:[],n.columns_tfoot!==!1&&m.push("tfoot tr"),m.length&&(g=S.find(m.join(",")).children().removeClass(w),L))for(k=0;k<L;k++)g.filter('[data-column="'+E[k][0]+'"]').addClass(s[k]||s[h])},remove:function(o,c,n){var u,p,g=c.$tbodies,m=(n.columns||["primary","secondary","tertiary"]).join(" ");for(c.$headers.removeClass(m),c.$table.children("tfoot").children("tr").children("th, td").removeClass(m),u=0;u<g.length;u++)p=l.processTbody(o,g.eq(u),!0),p.children("tr").each(function(){a(this).children().removeClass(m)}),l.processTbody(o,p,!1)}})}(r),function(a){"use strict";var l,o,c=a.tablesorter||{},n=c.css,u=c.keyCodes;a.extend(n,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),a.extend(u,{backSpace:8,escape:27,space:32,left:37,down:40}),c.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(p,g,m){g.$table.hasClass("hasFilters")||l.init(p,g,m)},remove:function(p,g,m,y){var x,w,k=g.$table,S=g.$tbodies,P="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(g.namespace+"filter ");if(k.removeClass("hasFilters").unbind(P.replace(c.regex.spaces," ")).find("."+n.filterRow).remove(),m.filter_initialized=!1,!y){for(x=0;x<S.length;x++)w=c.processTbody(p,S.eq(x),!0),w.children().removeClass(m.filter_filteredRow).show(),c.processTbody(p,w,!1);m.filter_reset&&a(document).undelegate(m.filter_reset,"click"+g.namespace+"filter")}}}),l=c.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(p,g,m){if((o.orTest.test(g.iFilter)||o.orSplit.test(g.filter))&&!o.regex.test(g.filter)){var y,x,w,k,S=a.extend({},g),P=g.filter.split(o.orSplit),E=g.iFilter.split(o.orSplit),L=P.length;for(y=0;y<L;y++){S.nestedFilters=!0,S.filter=""+(l.parseFilter(p,P[y],g)||""),S.iFilter=""+(l.parseFilter(p,E[y],g)||""),w="("+(l.parseFilter(p,S.filter,g)||"")+")";try{if(k=new RegExp(g.isMatch?w:"^"+w+"$",p.widgetOptions.filter_ignoreCase?"i":""),x=k.test(S.exact)||l.processTypes(p,S,m),x)return x}catch(s){return null}}return x||!1}return null},and:function(p,g,m){if(o.andTest.test(g.filter)){var y,x,w,k,S,P=a.extend({},g),E=g.filter.split(o.andSplit),L=g.iFilter.split(o.andSplit),s=E.length;for(y=0;y<s;y++){P.nestedFilters=!0,P.filter=""+(l.parseFilter(p,E[y],g)||""),P.iFilter=""+(l.parseFilter(p,L[y],g)||""),k=("("+(l.parseFilter(p,P.filter,g)||"")+")").replace(o.wild01,"\\S{1}").replace(o.wild0More,"\\S*");try{S=new RegExp(g.isMatch?k:"^"+k+"$",p.widgetOptions.filter_ignoreCase?"i":""),w=S.test(P.exact)||l.processTypes(p,P,m),y===0?x=w:x=x&&w}catch(h){return null}}return x||!1}return null},regex:function(p,g){if(o.regex.test(g.filter)){var m,y=g.filter_regexCache[g.index]||o.regex.exec(g.filter),x=y instanceof RegExp;try{x||(g.filter_regexCache[g.index]=y=new RegExp(y[1],y[2])),m=y.test(g.exact)}catch(w){m=!1}return m}return null},operators:function(p,g){if(o.operTest.test(g.iFilter)&&g.iExact!==""){var m,y,x,w=p.table,k=g.parsed[g.index],S=c.formatFloat(g.iFilter.replace(o.operators,""),w),P=p.parsers[g.index]||{},E=S;return(k||P.type==="numeric")&&(x=a.trim(""+g.iFilter.replace(o.operators,"")),y=l.parseFilter(p,x,g,!0),S=typeof y=="number"&&y!==""&&!isNaN(y)?y:S),(k||P.type==="numeric")&&!isNaN(S)&&typeof g.cache<"u"?m=g.cache:(x=isNaN(g.iExact)?g.iExact.replace(c.regex.nondigit,""):g.iExact,m=c.formatFloat(x,w)),o.gtTest.test(g.iFilter)?y=o.gteTest.test(g.iFilter)?m>=S:m>S:o.ltTest.test(g.iFilter)&&(y=o.lteTest.test(g.iFilter)?m<=S:m<S),!y&&E===""&&(y=!0),y}return null},notMatch:function(p,g){if(o.notTest.test(g.iFilter)){var m,y=g.iFilter.replace("!",""),x=l.parseFilter(p,y,g)||"";return o.exact.test(x)?(x=x.replace(o.exact,""),x===""?!0:a.trim(x)!==g.iExact):(m=g.iExact.search(a.trim(x)),x===""?!0:g.anyMatch?m<0:!(p.widgetOptions.filter_startsWith?m===0:m>=0))}return null},exact:function(p,g){if(o.exact.test(g.iFilter)){var m=g.iFilter.replace(o.exact,""),y=l.parseFilter(p,m,g)||"";return g.anyMatch?a.inArray(y,g.rowArray)>=0:y==g.iExact}return null},range:function(p,g){if(o.toTest.test(g.iFilter)){var m,y,x,w,k=p.table,S=g.index,P=g.parsed[S],E=g.iFilter.split(o.toSplit);return y=E[0].replace(c.regex.nondigit,"")||"",x=c.formatFloat(l.parseFilter(p,y,g),k),y=E[1].replace(c.regex.nondigit,"")||"",w=c.formatFloat(l.parseFilter(p,y,g),k),(P||p.parsers[S].type==="numeric")&&(m=p.parsers[S].format(""+E[0],k,p.$headers.eq(S),S),x=m!==""&&!isNaN(m)?m:x,m=p.parsers[S].format(""+E[1],k,p.$headers.eq(S),S),w=m!==""&&!isNaN(m)?m:w),(P||p.parsers[S].type==="numeric")&&!isNaN(x)&&!isNaN(w)?m=g.cache:(y=isNaN(g.iExact)?g.iExact.replace(c.regex.nondigit,""):g.iExact,m=c.formatFloat(y,k)),x>w&&(y=x,x=w,w=y),m>=x&&m<=w||x===""||w===""}return null},wild:function(p,g){if(o.wildOrTest.test(g.iFilter)){var m=""+(l.parseFilter(p,g.iFilter,g)||"");!o.wildTest.test(m)&&g.nestedFilters&&(m=g.isMatch?m:"^("+m+")$");try{return new RegExp(m.replace(o.wild01,"\\S{1}").replace(o.wild0More,"\\S*"),p.widgetOptions.filter_ignoreCase?"i":"").test(g.exact)}catch(y){return null}}return null},fuzzy:function(p,g){if(o.fuzzyTest.test(g.iFilter)){var m,y=0,x=g.iExact.length,w=g.iFilter.slice(1),k=l.parseFilter(p,w,g)||"";for(m=0;m<x;m++)g.iExact[m]===k[y]&&(y+=1);return y===k.length}return null}},init:function(p){c.language=a.extend(!0,{},{to:"to",or:"or",and:"and"},c.language);var g,m,y,x,w,k,S,P,E=p.config,L=E.widgetOptions,s=function(h,v,d){return v=v.trim(),v===""?"":(h||"")+v+(d||"")};if(E.$table.addClass("hasFilters"),E.lastSearch=[],L.filter_searchTimer=null,L.filter_initTimer=null,L.filter_formatterCount=0,L.filter_formatterInit=[],L.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',L.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',k="\\{"+o.query+"\\}",a.extend(o,{child:new RegExp(E.cssChildRow),filtered:new RegExp(L.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+s("|",c.language.or)+s("|",c.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+s("|",c.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+s("|",c.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+s("",c.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+s("",c.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+s("|\\s+",c.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+s("|\\s+(?:",c.language.or,")\\s+")+")","gi"),iQuery:new RegExp(k,"i"),igQuery:new RegExp(k,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),k=E.$headers.filter(".filter-false, .parser-false").length,L.filter_columnFilters!==!1&&k!==E.$headers.length&&l.buildRow(p,E,L),y="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(E.namespace+"filter "),E.$table.bind(y,function(h,v){return k=L.filter_hideEmpty&&a.isEmptyObject(E.cache)&&!(E.delayInit&&h.type==="appendCache"),E.$table.find("."+n.filterRow).toggleClass(L.filter_filteredRow,k),/(search|filter)/.test(h.type)||(h.stopPropagation(),l.buildDefault(p,!0)),h.type==="filterReset"||h.type==="filterAndSortReset"?(E.$table.find("."+n.filter).add(L.filter_$externalFilters).val(""),h.type==="filterAndSortReset"?c.sortReset(this.config,function(){l.searching(p,[])}):l.searching(p,[])):h.type==="filterResetSaved"?c.storage(p,"tablesorter-filters",""):h.type==="filterEnd"?l.buildDefault(p,!0):(v=h.type==="search"?v:h.type==="updateComplete"?E.$table.data("lastSearch"):"",/(update|add)/.test(h.type)&&h.type!=="updateComplete"&&(E.lastCombinedFilter=null,E.lastSearch=[],setTimeout(function(){E.$table.triggerHandler("filterFomatterUpdate")},100)),l.searching(p,v,!0)),!1}),L.filter_reset&&(L.filter_reset instanceof a?L.filter_reset.click(function(){E.$table.triggerHandler("filterReset")}):a(L.filter_reset).length&&a(document).undelegate(L.filter_reset,"click"+E.namespace+"filter").delegate(L.filter_reset,"click"+E.namespace+"filter",function(){E.$table.triggerHandler("filterReset")})),L.filter_functions){for(w=0;w<E.columns;w++)if(S=c.getColumnData(p,L.filter_functions,w),S){if(x=E.$headerIndexed[w].removeClass("filter-select"),P=!(x.hasClass("filter-false")||x.hasClass("parser-false")),g="",S===!0&&P)l.buildSelect(p,w);else if(typeof S=="object"&&P){for(m in S)typeof m=="string"&&(g+=g===""?'<option value="">'+(x.data("placeholder")||x.attr("data-placeholder")||L.filter_placeholder.select||"")+"</option>":"",k=m,y=m,m.indexOf(L.filter_selectSourceSeparator)>=0&&(k=m.split(L.filter_selectSourceSeparator),y=k[1],k=k[0]),g+="<option "+(y===k?"":'data-function-name="'+m+'" ')+'value="'+k+'">'+y+"</option>");E.$table.find("thead").find("select."+n.filter+'[data-column="'+w+'"]').append(g),y=L.filter_selectSource,S=typeof y=="function"?!0:c.getColumnData(p,y,w),S&&l.buildSelect(E.table,w,"",!0,x.hasClass(L.filter_onlyAvail))}}}l.buildDefault(p,!0),l.bindSearch(p,E.$table.find("."+n.filter),!0),L.filter_external&&l.bindSearch(p,L.filter_external),L.filter_hideFilters&&l.hideFilters(E),E.showProcessing&&(y="filterStart filterEnd ".split(" ").join(E.namespace+"filter-sp "),E.$table.unbind(y.replace(c.regex.spaces," ")).bind(y,function(h,v){x=v?E.$table.find("."+n.header).filter("[data-column]").filter(function(){return v[a(this).data("column")]!==""}):"",c.isProcessing(p,h.type==="filterStart",v?x:"")})),E.filteredRows=E.totalRows,y="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(E.namespace+"filter "),E.$table.unbind(y.replace(c.regex.spaces," ")).bind(y,function(){l.completeInit(this)}),E.pager&&E.pager.initialized&&!L.filter_initialized?(E.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){l.filterInitComplete(E)},100)):L.filter_initialized||l.completeInit(p)},completeInit:function(p){var g=p.config,m=g.widgetOptions,y=l.setDefaults(p,g,m)||[];y.length&&(g.delayInit&&y.join("")===""||c.setFilters(p,y,!0)),g.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){m.filter_initialized||l.filterInitComplete(g)},100)},formatterUpdated:function(p,g){var m=p&&p.closest("table"),y=m.length&&m[0].config,x=y&&y.widgetOptions;x&&!x.filter_initialized&&(x.filter_formatterInit[g]=1)},filterInitComplete:function(p){var g,m,y=p.widgetOptions,x=0,w=function(){y.filter_initialized=!0,p.lastSearch=p.$table.data("lastSearch"),p.$table.triggerHandler("filterInit",p),l.findRows(p.table,p.lastSearch||[]),c.debug(p,"filter")&&console.log("Filter >> Widget initialized")};if(a.isEmptyObject(y.filter_formatter))w();else{for(m=y.filter_formatterInit.length,g=0;g<m;g++)y.filter_formatterInit[g]===1&&x++;clearTimeout(y.filter_initTimer),!y.filter_initialized&&x===y.filter_formatterCount?w():y.filter_initialized||(y.filter_initTimer=setTimeout(function(){w()},500))}},processFilters:function(p,g){var m,y=[],x=g?encodeURIComponent:decodeURIComponent,w=p.length;for(m=0;m<w;m++)p[m]&&(y[m]=x(p[m]));return y},setDefaults:function(p,g,m){var y,x,w,k,S,P=c.getFilters(p)||[];if(m.filter_saveFilters&&c.storage&&(x=c.storage(p,"tablesorter-filters")||[],y=a.isArray(x),y&&x.join("")===""||!y||(P=l.processFilters(x))),P.join("")==="")for(S=g.$headers.add(m.filter_$externalFilters).filter("["+m.filter_defaultAttrib+"]"),w=0;w<=g.columns;w++)k=w===g.columns?"all":w,P[w]=S.filter('[data-column="'+k+'"]').attr(m.filter_defaultAttrib)||P[w]||"";return g.$table.data("lastSearch",P),P},parseFilter:function(p,g,m,y){return y||m.parsed[m.index]?p.parsers[m.index].format(g,p.table,[],m.index):g},buildRow:function(p,g,m){var y,x,w,k,S,P,E,L,s,h=m.filter_cellFilter,v=g.columns,d=a.isArray(h),_='<tr role="search" class="'+n.filterRow+" "+g.cssIgnoreRow+'">';for(w=0;w<v;w++)g.$headerIndexed[w].length&&(s=g.$headerIndexed[w]&&g.$headerIndexed[w][0].colSpan||0,s>1?_+='<td data-column="'+w+"-"+(w+s-1)+'" colspan="'+s+'"':_+='<td data-column="'+w+'"',d?_+=h[w]?' class="'+h[w]+'"':"":_+=h!==""?' class="'+h+'"':"",_+="></td>");for(g.$filters=a(_+="</tr>").appendTo(g.$table.children("thead").eq(0)).children("td"),w=0;w<v;w++)P=!1,k=g.$headerIndexed[w],k&&k.length&&(y=l.getColumnElm(g,g.$filters,w),L=c.getColumnData(p,m.filter_functions,w),S=m.filter_functions&&L&&typeof L!="function"||k.hasClass("filter-select"),x=c.getColumnData(p,g.headers,w),P=c.getData(k[0],x,"filter")==="false"||c.getData(k[0],x,"parser")==="false",S?_=a("<select>").appendTo(y):(L=c.getColumnData(p,m.filter_formatter,w),L?(m.filter_formatterCount++,_=L(y,w),_&&_.length===0&&(_=y.children("input")),_&&(_.parent().length===0||_.parent().length&&_.parent()[0]!==y[0])&&y.append(_)):_=a('<input type="search">').appendTo(y),_&&(s=k.data("placeholder")||k.attr("data-placeholder")||m.filter_placeholder.search||"",_.attr("placeholder",s))),_&&(E=(a.isArray(m.filter_cssFilter)?typeof m.filter_cssFilter[w]<"u"&&m.filter_cssFilter[w]||"":m.filter_cssFilter)||"",_.addClass(n.filter+" "+E),E=m.filter_filterLabel,s=E.match(/{{([^}]+?)}}/g),s||(s=["{{label}}"]),a.each(s,function(C,N){var G=new RegExp(N,"g"),q=k.attr("data-"+N.replace(/{{|}}/g,"")),K=typeof q>"u"?k.text():q;E=E.replace(G,a.trim(K))}),_.attr({"data-column":y.attr("data-column"),"aria-label":E}),P&&(_.attr("placeholder","").addClass(n.filterDisabled)[0].disabled=!0)))},bindSearch:function(p,g,m){if(p=a(p)[0],g=a(g),!!g.length){var y,x=p.config,w=x.widgetOptions,k=x.namespace+"filter",S=w.filter_$externalFilters;m!==!0&&(y=w.filter_anyColumnSelector+","+w.filter_multipleColumnSelector,w.filter_$anyMatch=g.filter(y),S&&S.length?w.filter_$externalFilters=w.filter_$externalFilters.add(g):w.filter_$externalFilters=g,c.setFilters(p,x.$table.data("lastSearch")||[],m===!1)),y="keypress keyup keydown search change input ".split(" ").join(k+" "),g.attr("data-lastSearchTime",new Date().getTime()).unbind(y.replace(c.regex.spaces," ")).bind("keydown"+k,function(P){if(P.which===u.escape&&!p.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+k,function(P){w=p.config.widgetOptions;var E=parseInt(a(this).attr("data-column"),10),L=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:c.getColumnData(p,w.filter_liveSearch,E);if(typeof L>"u"&&(L=w.filter_liveSearch.fallback||!1),a(this).attr("data-lastSearchTime",new Date().getTime()),P.which===u.escape)this.value=w.filter_resetOnEsc?"":x.lastSearch[E];else if(this.value!==""&&(typeof L=="number"&&this.value.length<L||P.which!==u.enter&&P.which!==u.backSpace&&(P.which<u.space||P.which>=u.left&&P.which<=u.down))||L===!1&&this.value!==""&&P.which!==u.enter)return;l.searching(p,!0,!0,E)}).bind("search change keypress input blur ".split(" ").join(k+" "),function(P){var E=parseInt(a(this).attr("data-column"),10),L=P.type,s=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:c.getColumnData(p,w.filter_liveSearch,E);p.config.widgetOptions.filter_initialized&&(P.which===u.enter||L==="search"||L==="blur"||(L==="change"||L==="input")&&(s===!0||s!==!0&&P.target.nodeName!=="INPUT")&&this.value!==x.lastSearch[E])&&(P.preventDefault(),a(this).attr("data-lastSearchTime",new Date().getTime()),l.searching(p,L!=="keypress"||P.which===u.enter,!0,E))})}},searching:function(p,g,m,y){var x,w=p.config.widgetOptions;typeof y>"u"?x=!1:(x=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:c.getColumnData(p,w.filter_liveSearch,y),typeof x>"u"&&(x=w.filter_liveSearch.fallback||!1)),clearTimeout(w.filter_searchTimer),typeof g>"u"||g===!0?w.filter_searchTimer=setTimeout(function(){l.checkFilters(p,g,m)},x?w.filter_searchDelay:10):l.checkFilters(p,g,m)},equalFilters:function(p,g,m){var y,x=[],w=[],k=p.columns+1;for(g=a.isArray(g)?g:[],m=a.isArray(m)?m:[],y=0;y<k;y++)x[y]=g[y]||"",w[y]=m[y]||"";return x.join(",")===w.join(",")},checkFilters:function(p,g,m){var y=p.config,x=y.widgetOptions,w=a.isArray(g),k=w?g:c.getFilters(p,!0),S=k||[];if(a.isEmptyObject(y.cache)){y.delayInit&&(!y.pager||y.pager&&y.pager.initialized)&&c.updateCache(y,function(){l.checkFilters(p,!1,m)});return}if(w&&(c.setFilters(p,k,!1,m!==!0),x.filter_initialized||(y.lastSearch=[],y.lastCombinedFilter="")),x.filter_hideFilters&&y.$table.find("."+n.filterRow).triggerHandler(l.hideFiltersCheck(y)?"mouseleave":"mouseenter"),l.equalFilters(y,y.lastSearch,S)){if(g!==!1)return;y.lastCombinedFilter="",y.lastSearch=[]}if(k=k||[],k=Array.prototype.map?k.map(String):k.join("\uFFFD").split("\uFFFD"),x.filter_initialized&&y.$table.triggerHandler("filterStart",[k]),y.showProcessing)setTimeout(function(){return l.findRows(p,k,S),!1},30);else return l.findRows(p,k,S),!1},hideFiltersCheck:function(p){if(typeof p.widgetOptions.filter_hideFilters=="function"){var g=p.widgetOptions.filter_hideFilters(p);if(typeof g=="boolean")return g}return c.getFilters(p.$table).join("")===""},hideFilters:function(p,g){var m;(g||p.$table).find("."+n.filterRow).addClass(n.filterRowHide).bind("mouseenter mouseleave",function(y){var x=y,w=a(this);clearTimeout(m),m=setTimeout(function(){/enter|over/.test(x.type)?w.removeClass(n.filterRowHide):a(document.activeElement).closest("tr")[0]!==w[0]&&w.toggleClass(n.filterRowHide,l.hideFiltersCheck(p))},200)}).find("input, select").bind("focus blur",function(y){var x=y,w=a(this).closest("tr");clearTimeout(m),m=setTimeout(function(){clearTimeout(m),w.toggleClass(n.filterRowHide,l.hideFiltersCheck(p)&&x.type!=="focus")},200)})},defaultFilter:function(p,g){if(p==="")return p;var m=o.iQuery,y=g.match(o.igQuery).length,x=y>1?a.trim(p).split(/\s/):[a.trim(p)],w=x.length-1,k=0,S=g;for(w<1&&y>1&&(x[1]=x[0]);m.test(S);)S=S.replace(m,x[k++]||""),m.test(S)&&k<w&&(x[k]||"")!==""&&(S=g.replace(m,S));return S},getLatestSearch:function(p){return p?p.sort(function(g,m){return a(m).attr("data-lastSearchTime")-a(g).attr("data-lastSearchTime")}):p||a()},findRange:function(p,g,m){var y,x,w,k,S,P,E,L,s,h=[];if(/^[0-9]+$/.test(g))return[parseInt(g,10)];if(!m&&/-/.test(g))for(x=g.match(/(\d+)\s*-\s*(\d+)/g),s=x?x.length:0,L=0;L<s;L++){for(w=x[L].split(/\s*-\s*/),k=parseInt(w[0],10)||0,S=parseInt(w[1],10)||p.columns-1,k>S&&(y=k,k=S,S=y),S>=p.columns&&(S=p.columns-1);k<=S;k++)h[h.length]=k;g=g.replace(x[L],"")}if(!m&&/,/.test(g))for(P=g.split(/\s*,\s*/),s=P.length,E=0;E<s;E++)P[E]!==""&&(L=parseInt(P[E],10),L<p.columns&&(h[h.length]=L));if(!h.length)for(L=0;L<p.columns;L++)h[h.length]=L;return h},getColumnElm:function(p,g,m){return g.filter(function(){var y=l.findRange(p,a(this).attr("data-column"));return a.inArray(m,y)>-1})},multipleColumns:function(p,g){var m=p.widgetOptions,y=m.filter_initialized||!g.filter(m.filter_anyColumnSelector).length,x=a.trim(l.getLatestSearch(g).attr("data-column")||"");return l.findRange(p,x,!y)},processTypes:function(p,g,m){var y,x=null,w=null;for(y in l.types)a.inArray(y,m.excludeMatch)<0&&w===null&&(w=l.types[y](p,g,m),w!==null&&(g.matchedOn=y,x=w));return x},matchType:function(p,g){var m,y=p.widgetOptions,x=p.$headerIndexed[g];return x.hasClass("filter-exact")?m=!1:x.hasClass("filter-match")?m=!0:(y.filter_columnFilters?x=p.$filters.find("."+n.filter).add(y.filter_$externalFilters).filter('[data-column="'+g+'"]'):y.filter_$externalFilters&&(x=y.filter_$externalFilters.filter('[data-column="'+g+'"]')),m=x.length?p.widgetOptions.filter_matchType[(x[0].nodeName||"").toLowerCase()]==="match":!1),m},processRow:function(p,g,m){var y,x,w,k,S,P=p.widgetOptions,E=!0,L=P.filter_$anyMatch&&P.filter_$anyMatch.length,s=P.filter_$anyMatch&&P.filter_$anyMatch.length?l.multipleColumns(p,P.filter_$anyMatch):[];if(g.$cells=g.$row.children(),g.matchedOn=null,g.anyMatchFlag&&s.length>1||g.anyMatchFilter&&!L){if(g.anyMatch=!0,g.isMatch=!0,g.rowArray=g.$cells.map(function(h){if(a.inArray(h,s)>-1||g.anyMatchFilter&&!L)return g.parsed[h]?S=g.cacheArray[h]:(S=g.rawArray[h],S=a.trim(P.filter_ignoreCase?S.toLowerCase():S),p.sortLocaleCompare&&(S=c.replaceAccents(S))),S}).get(),g.filter=g.anyMatchFilter,g.iFilter=g.iAnyMatchFilter,g.exact=g.rowArray.join(" "),g.iExact=P.filter_ignoreCase?g.exact.toLowerCase():g.exact,g.cache=g.cacheArray.slice(0,-1).join(" "),m.excludeMatch=m.noAnyMatch,x=l.processTypes(p,g,m),x!==null)E=x;else if(P.filter_startsWith)for(E=!1,s=Math.min(p.columns,g.rowArray.length);!E&&s>0;)s--,E=E||g.rowArray[s].indexOf(g.iFilter)===0;else E=(g.iExact+g.childRowText).indexOf(g.iFilter)>=0;if(g.anyMatch=!1,g.filters.join("")===g.filter)return E}for(s=0;s<p.columns;s++)g.filter=g.filters[s],g.index=s,m.excludeMatch=m.excludeFilter[s],g.filter&&(g.cache=g.cacheArray[s],y=g.parsed[s]?g.cache:g.rawArray[s]||"",g.exact=p.sortLocaleCompare?c.replaceAccents(y):y,g.iExact=!o.type.test(typeof g.exact)&&P.filter_ignoreCase?g.exact.toLowerCase():g.exact,g.isMatch=l.matchType(p,s),y=E,k=P.filter_columnFilters&&p.$filters.add(P.filter_$externalFilters).filter('[data-column="'+s+'"]').find("select option:selected").attr("data-function-name")||"",p.sortLocaleCompare&&(g.filter=c.replaceAccents(g.filter)),P.filter_defaultFilter&&o.iQuery.test(m.defaultColFilter[s])&&(g.filter=l.defaultFilter(g.filter,m.defaultColFilter[s])),g.iFilter=P.filter_ignoreCase?(g.filter||"").toLowerCase():g.filter,w=m.functions[s],x=null,w&&(typeof w=="function"?x=w(g.exact,g.cache,g.filter,s,g.$row,p,g):typeof w[k||g.filter]=="function"&&(S=k||g.filter,x=w[S](g.exact,g.cache,g.filter,s,g.$row,p,g))),x===null?(x=l.processTypes(p,g,m),S=w===!0&&(g.matchedOn==="and"||g.matchedOn==="or"),x!==null&&!S?y=x:w===!0?y=g.isMatch?(""+g.iExact).search(g.iFilter)>=0:g.filter===g.exact:(S=(g.iExact+g.childRowText).indexOf(l.parseFilter(p,g.iFilter,g)),y=!P.filter_startsWith&&S>=0||P.filter_startsWith&&S===0)):y=x,E=y?E:!1);return E},findRows:function(p,g,m){if(!(l.equalFilters(p.config,p.config.lastSearch,m)||!p.config.widgetOptions.filter_initialized)){var y,x,w,k,S,P,E,L,s,h,v,d,_,C,N,G,q,K,ie,Q,te,Oe,fe,W,ae=a.extend([],g),de=p.config,Z=de.widgetOptions,ye=c.debug(de,"filter"),Y={anyMatch:!1,filters:g,filter_regexCache:[]},ce={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:c.getColumnData(p,Z.filter_defaultFilter,de.columns,!0)||""};for(Y.parsed=[],s=0;s<de.columns;s++)Y.parsed[s]=Z.filter_useParsedData||de.parsers&&de.parsers[s]&&de.parsers[s].parsed||c.getData&&c.getData(de.$headerIndexed[s],c.getColumnData(p,de.headers,s),"filter")==="parsed"||de.$headerIndexed[s].hasClass("filter-parsed"),ce.functions[s]=c.getColumnData(p,Z.filter_functions,s)||de.$headerIndexed[s].hasClass("filter-select"),ce.defaultColFilter[s]=c.getColumnData(p,Z.filter_defaultFilter,s)||"",ce.excludeFilter[s]=(c.getColumnData(p,Z.filter_excludeFilter,s,!0)||"").split(/\s+/);for(ye&&(console.log("Filter >> Starting filter widget search",g),N=new Date),de.filteredRows=0,de.totalRows=0,m=ae||[],E=0;E<de.$tbodies.length;E++){if(L=c.processTbody(p,de.$tbodies.eq(E),!0),s=de.columns,x=de.cache[E].normalized,k=a(a.map(x,function(Ze){return Ze[s].$row.get()})),m.join("")===""||Z.filter_serversideFiltering)k.removeClass(Z.filter_filteredRow).not("."+de.cssChildRow).css("display","");else{if(k=k.not("."+de.cssChildRow),y=k.length,(Z.filter_$anyMatch&&Z.filter_$anyMatch.length||typeof g[de.columns]<"u")&&(Y.anyMatchFlag=!0,Y.anyMatchFilter=""+(g[de.columns]||Z.filter_$anyMatch&&l.getLatestSearch(Z.filter_$anyMatch).val()||""),Z.filter_columnAnyMatch)){for(Q=Y.anyMatchFilter.split(o.andSplit),te=!1,q=0;q<Q.length;q++)Oe=Q[q].split(":"),Oe.length>1&&(isNaN(Oe[0])?a.each(de.headerContent,function(Ze,ft){ft.toLowerCase().indexOf(Oe[0])>-1&&(fe=Ze,g[fe]=Oe[1])}):fe=parseInt(Oe[0],10)-1,fe>=0&&fe<de.columns&&(g[fe]=Oe[1],Q.splice(q,1),q--,te=!0));te&&(Y.anyMatchFilter=Q.join(" && "))}if(ie=Z.filter_searchFiltered,d=de.lastSearch||de.$table.data("lastSearch")||[],ie)for(q=0;q<s+1;q++)G=g[q]||"",ie||(q=s),ie=ie&&d.length&&G.indexOf(d[q]||"")===0&&!o.alreadyFiltered.test(G)&&!o.exactTest.test(G)&&!(o.isNeg1.test(G)||o.isNeg2.test(G))&&!(G!==""&&de.$filters&&de.$filters.filter('[data-column="'+q+'"]').find("select").length&&!l.matchType(de,q));for(K=k.not("."+Z.filter_filteredRow).length,ie&&K===0&&(ie=!1),ye&&console.log("Filter >> Searching through "+(ie&&K<y?K:"all")+" rows"),Y.anyMatchFlag&&(de.sortLocaleCompare&&(Y.anyMatchFilter=c.replaceAccents(Y.anyMatchFilter)),Z.filter_defaultFilter&&o.iQuery.test(ce.defaultAnyFilter)&&(Y.anyMatchFilter=l.defaultFilter(Y.anyMatchFilter,ce.defaultAnyFilter),ie=!1),Y.iAnyMatchFilter=Z.filter_ignoreCase&&de.ignoreCase?Y.anyMatchFilter.toLowerCase():Y.anyMatchFilter),P=0;P<y;P++)if(W=k[P].className,h=P&&o.child.test(W),!(h||ie&&o.filtered.test(W))){if(Y.$row=k.eq(P),Y.rowIndex=P,Y.cacheArray=x[P],w=Y.cacheArray[de.columns],Y.rawArray=w.raw,Y.childRowText="",!Z.filter_childByColumn){for(W="",v=w.child,q=0;q<v.length;q++)W+=" "+v[q].join(" ")||"";Y.childRowText=Z.filter_childRows?Z.filter_ignoreCase?W.toLowerCase():W:""}if(_=!1,C=l.processRow(de,Y,ce),S=w.$row,G=!!C,v=w.$row.filter(":gt(0)"),Z.filter_childRows&&v.length){if(Z.filter_childByColumn)for(Z.filter_childWithSibs||(v.addClass(Z.filter_filteredRow),S=S.eq(0)),q=0;q<v.length;q++)Y.$row=v.eq(q),Y.cacheArray=w.child[q],Y.rawArray=Y.cacheArray,G=l.processRow(de,Y,ce),_=_||G,!Z.filter_childWithSibs&&G&&v.eq(q).removeClass(Z.filter_filteredRow);_=_||C}else _=G;S.toggleClass(Z.filter_filteredRow,!_)[0].display=_?"":"none"}}de.filteredRows+=k.not("."+Z.filter_filteredRow).length,de.totalRows+=k.length,c.processTbody(p,L,!1)}de.lastCombinedFilter=ae.join(""),de.lastSearch=ae,de.$table.data("lastSearch",ae),Z.filter_saveFilters&&c.storage&&c.storage(p,"tablesorter-filters",l.processFilters(ae,!0)),ye&&console.log("Filter >> Completed search"+c.benchmark(N)),Z.filter_initialized&&(de.$table.triggerHandler("filterBeforeEnd",de),de.$table.triggerHandler("filterEnd",de)),setTimeout(function(){c.applyWidget(de.table)},0)}},getOptionSource:function(p,g,m){p=a(p)[0];var y=p.config,x=y.widgetOptions,w=!1,k=x.filter_selectSource,S=y.$table.data("lastSearch")||[],P=typeof k=="function"?!0:c.getColumnData(p,k,g);if(m&&S[g]!==""&&(m=!1),P===!0)w=k(p,g,m);else{if(P instanceof a||a.type(P)==="string"&&P.indexOf("</option>")>=0)return P;if(a.isArray(P))w=P;else if(a.type(k)==="object"&&P&&(w=P(p,g,m),w===null))return null}return w===!1&&(w=l.getOptions(p,g,m)),l.processOptions(p,g,w)},processOptions:function(p,g,m){if(!a.isArray(m))return!1;p=a(p)[0];var y,x,w,k,S,P,E=p.config,L=typeof g<"u"&&g!==null&&g>=0&&g<E.columns,s=L?E.$headerIndexed[g].hasClass("filter-select-sort-desc"):!1,h=[];if(m=a.grep(m,function(v,d){return v.text?!0:a.inArray(v,m)===d}),L&&E.$headerIndexed[g].hasClass("filter-select-nosort"))return m;for(k=m.length,w=0;w<k;w++)x=m[w],P=x.text?x.text:x,S=(L&&E.parsers&&E.parsers.length&&E.parsers[g].format(P,p,[],g)||P).toString(),S=E.widgetOptions.filter_ignoreCase?S.toLowerCase():S,x.text?(x.parsed=S,h[h.length]=x):h[h.length]={text:x,parsed:S};for(y=E.textSorter||"",h.sort(function(v,d){var _=s?d.parsed:v.parsed,C=s?v.parsed:d.parsed;return L&&typeof y=="function"?y(_,C,!0,g,p):L&&typeof y=="object"&&y.hasOwnProperty(g)?y[g](_,C,!0,g,p):c.sortNatural?c.sortNatural(_,C):!0}),m=[],k=h.length,w=0;w<k;w++)m[m.length]=h[w];return m},getOptions:function(p,g,m){p=a(p)[0];var y,x,w,k,S,P,E,L,s=p.config,h=s.widgetOptions,v=[];for(x=0;x<s.$tbodies.length;x++)for(S=s.cache[x],w=s.cache[x].normalized.length,y=0;y<w;y++)if(k=S.row?S.row[y]:S.normalized[y][s.columns].$row[0],!(m&&k.className.match(h.filter_filteredRow))){if(h.filter_useParsedData||s.parsers[g].parsed||s.$headerIndexed[g].hasClass("filter-parsed")){if(v[v.length]=""+S.normalized[y][g],h.filter_childRows&&h.filter_childByColumn)for(L=S.normalized[y][s.columns].$row.length-1,P=0;P<L;P++)v[v.length]=""+S.normalized[y][s.columns].child[P][g]}else if(v[v.length]=S.normalized[y][s.columns].raw[g],h.filter_childRows&&h.filter_childByColumn)for(L=S.normalized[y][s.columns].$row.length,P=1;P<L;P++)E=S.normalized[y][s.columns].$row.eq(P).children().eq(g),v[v.length]=""+c.getElementText(s,E,g)}return v},buildSelect:function(p,g,m,y,x){if(p=a(p)[0],g=parseInt(g,10),!(!p.config.cache||a.isEmptyObject(p.config.cache))){var w,k,S,P,E,L,s,h=p.config,v=h.widgetOptions,d=h.$headerIndexed[g],_='<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||v.filter_placeholder.select||"")+"</option>",C=h.$table.find("thead").find("select."+n.filter+'[data-column="'+g+'"]').val();if(!((typeof m>"u"||m==="")&&(m=l.getOptionSource(p,g,x),m===null))){if(a.isArray(m)){for(w=0;w<m.length;w++)if(s=m[w],s.text){s["data-function-name"]=typeof s.value>"u"?s.text:s.value,_+="<option";for(k in s)s.hasOwnProperty(k)&&k!=="text"&&(_+=" "+k+'="'+s[k].replace(o.quote,"&quot;")+'"');s.value||(_+=' value="'+s.text.replace(o.quote,"&quot;")+'"'),_+=">"+s.text.replace(o.quote,"&quot;")+"</option>"}else""+s!="[object Object]"&&(S=s=(""+s).replace(o.quote,"&quot;"),k=S,S.indexOf(v.filter_selectSourceSeparator)>=0&&(P=S.split(v.filter_selectSourceSeparator),k=P[0],S=P[1]),_+=s!==""?"<option "+(k===S?"":'data-function-name="'+s+'" ')+'value="'+k+'">'+S+"</option>":"");m=[]}E=(h.$filters?h.$filters:h.$table.children("thead")).find("."+n.filter),v.filter_$externalFilters&&(E=E&&E.length?E.add(v.filter_$externalFilters):v.filter_$externalFilters),L=E.filter('select[data-column="'+g+'"]'),L.length&&(L[y?"html":"append"](_),a.isArray(m)||L.append(m).val(C),L.val(C))}}},buildDefault:function(p,g){var m,y,x,w=p.config,k=w.widgetOptions,S=w.columns;for(m=0;m<S;m++)y=w.$headerIndexed[m],x=!(y.hasClass("filter-false")||y.hasClass("parser-false")),(y.hasClass("filter-select")||c.getColumnData(p,k.filter_functions,m)===!0)&&x&&l.buildSelect(p,m,"",g,y.hasClass(k.filter_onlyAvail))}},o=l.regex,c.getFilters=function(p,g,m,y){var x,w,k,S,P=[],E=p?a(p)[0].config:"",L=E?E.widgetOptions:"";if(g!==!0&&L&&!L.filter_columnFilters||a.isArray(m)&&l.equalFilters(E,m,E.lastSearch))return a(p).data("lastSearch")||[];if(E&&(E.$filters&&(w=E.$filters.find("."+n.filter)),L.filter_$externalFilters&&(w=w&&w.length?w.add(L.filter_$externalFilters):L.filter_$externalFilters),w&&w.length))for(P=m||[],x=0;x<E.columns+1;x++)S=x===E.columns?L.filter_anyColumnSelector+","+L.filter_multipleColumnSelector:'[data-column="'+x+'"]',k=w.filter(S),k.length&&(k=l.getLatestSearch(k),a.isArray(m)?(y&&k.length>1&&(k=k.slice(1)),x===E.columns&&(S=k.filter(L.filter_anyColumnSelector),k=S.length?S:k),k.val(m[x]).trigger("change"+E.namespace)):(P[x]=k.val()||"",x===E.columns?k.slice(1).filter('[data-column*="'+k.attr("data-column")+'"]').val(P[x]):k.slice(1).val(P[x])),x===E.columns&&k.length&&(L.filter_$anyMatch=k));return P},c.setFilters=function(p,g,m,y){var x=p?a(p)[0].config:"",w=c.getFilters(p,!0,g,y);return typeof m>"u"&&(m=!0),x&&m&&(x.lastCombinedFilter=null,x.lastSearch=[],l.searching(x.table,g,y),x.$table.triggerHandler("filterFomatterUpdate")),w.length!==0}}(r),function(a,l){"use strict";var o=a.tablesorter||{};a.extend(o.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),o.addHeaderResizeEvent=function(n,u,p){if(n=a(n)[0],!!n.config){var g={timer:250},m=a.extend({},g,p),y=n.config,x=y.widgetOptions,w=function(k){var S,P,E,L,s,h,v=y.$headers.length;for(x.resize_flag=!0,P=[],S=0;S<v;S++)E=y.$headers.eq(S),L=E.data("savedSizes")||[0,0],s=E[0].offsetWidth,h=E[0].offsetHeight,(s!==L[0]||h!==L[1])&&(E.data("savedSizes",[s,h]),P.push(E[0]));P.length&&k!==!1&&y.$table.triggerHandler("resize",[P]),x.resize_flag=!1};if(clearInterval(x.resize_timer),u)return x.resize_flag=!1,!1;w(!1),x.resize_timer=setInterval(function(){x.resize_flag||w()},m.timer)}};function c(n,u){var p=isNaN(u.stickyHeaders_offset)?a(u.stickyHeaders_offset):[];return p.length?p.height()||0:parseInt(u.stickyHeaders_offset,10)||0}o.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,u,p){if(!(u.$table.hasClass("hasStickyHeaders")||a.inArray("filter",u.widgets)>=0&&!u.$table.hasClass("hasFilters"))){var g,m,y,x=u.$table,w=a(p.stickyHeaders_attachTo||p.stickyHeaders_appendTo),k=u.namespace+"stickyheaders ",S=a(p.stickyHeaders_yScroll||p.stickyHeaders_attachTo||l),P=a(p.stickyHeaders_xScroll||p.stickyHeaders_attachTo||l),E=x.children("thead:first"),L=E.children("tr").not(".sticky-false").children(),s=x.children("tfoot"),h=c(u,p),v=x.parent().closest("."+o.css.table).hasClass("hasStickyHeaders")?x.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],d=v.length?v.height():0,_=p.$sticky=x.clone().addClass("containsStickyHeaders "+o.css.sticky+" "+p.stickyHeaders+" "+u.namespace.slice(1)+"_extra_table").wrap('<div class="'+o.css.stickyWrap+'">'),C=_.parent().addClass(o.css.stickyHide).css({position:w.length?"absolute":"fixed",padding:parseInt(_.parent().parent().css("padding-left"),10),top:h+d,left:0,visibility:"hidden",zIndex:p.stickyHeaders_zIndex||2}),N=_.children("thead:first"),G,q="",K=function(Oe,fe){var W,ae,de,Z,ye,Y=Oe.filter(":visible"),ce=Y.length;for(W=0;W<ce;W++)Z=fe.filter(":visible").eq(W),ye=Y.eq(W),ye.css("box-sizing")==="border-box"?ae=ye.outerWidth():Z.css("border-collapse")==="collapse"?l.getComputedStyle?ae=parseFloat(l.getComputedStyle(ye[0],null).width):(de=parseFloat(ye.css("border-width")),ae=ye.outerWidth()-parseFloat(ye.css("padding-left"))-parseFloat(ye.css("padding-right"))-de):ae=ye.width(),Z.css({width:ae,"min-width":ae,"max-width":ae})},ie=function(Oe){return Oe===!1&&v.length?x.position().left:w.length?parseInt(w.css("padding-left"),10)||0:x.offset().left-parseInt(x.css("margin-left"),10)-a(l).scrollLeft()},Q=function(){C.css({left:ie(),width:x.outerWidth()}),K(x,_),K(L,G)},te=function(Oe){if(x.is(":visible")){d=v.length?v.offset().top-S.scrollTop()+v.height():0;var fe,W=x.offset(),ae=c(u,p),de=a.isWindow(S[0]),Z=de?S.scrollTop():v.length?parseInt(v[0].style.top,10):S.offset().top,ye=w.length?Z:S.scrollTop(),Y=p.stickyHeaders_includeCaption?0:x.children("caption").height()||0,ce=ye+ae+d-Y,Ze=x.height()-(C.height()+(s.height()||0))-Y,ft=ce>W.top&&ce<W.top+Ze?"visible":"hidden",ct=ft==="visible"?o.css.stickyVis:o.css.stickyHide,Ge=!C.hasClass(ct),Ae={visibility:ft};w.length&&(Ge=!0,Ae.top=de?ce-w.offset().top:w.scrollTop()),fe=ie(de),fe!==parseInt(C.css("left"),10)&&(Ge=!0,Ae.left=fe),Ae.top=(Ae.top||0)+(!de&&v.length?v.height():ae+d),Ge&&C.removeClass(o.css.stickyVis+" "+o.css.stickyHide).addClass(ct).css(Ae),(ft!==q||Oe)&&(Q(),q=ft)}};if(w.length&&!w.css("position")&&w.css("position","relative"),_.attr("id")&&(_[0].id+=p.stickyHeaders_cloneId),_.find("> thead:gt(0), tr.sticky-false").hide(),_.find("> tbody, > tfoot").remove(),_.find("caption").toggle(p.stickyHeaders_includeCaption),G=N.children().children(),_.css({height:0,width:0,margin:0}),G.find("."+o.css.resizer).remove(),x.addClass("hasStickyHeaders").bind("pagerComplete"+k,function(){Q()}),o.bindEvents(n,N.children().children("."+o.css.header)),p.stickyHeaders_appendTo?a(p.stickyHeaders_appendTo).append(C):x.after(C),u.onRenderHeader)for(y=N.children("tr").children(),m=y.length,g=0;g<m;g++)u.onRenderHeader.apply(y.eq(g),[g,u,_]);P.add(S).unbind("scroll resize ".split(" ").join(k).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(k),function(Oe){te(Oe.type==="resize")}),u.$table.unbind("stickyHeadersUpdate"+k).bind("stickyHeadersUpdate"+k,function(){te(!0)}),p.stickyHeaders_addResizeEvent&&o.addHeaderResizeEvent(n),x.hasClass("hasFilters")&&p.filter_columnFilters&&(x.bind("filterEnd"+k,function(){var Oe=a(document.activeElement).closest("td"),fe=Oe.parent().children().index(Oe);C.hasClass(o.css.stickyVis)&&p.stickyHeaders_filteredToTop&&(l.scrollTo(0,x.position().top),fe>=0&&u.$filters&&u.$filters.eq(fe).find("a, select, input").filter(":visible").focus())}),o.filter.bindSearch(x,G.find("."+o.css.filter)),p.filter_hideFilters&&o.filter.hideFilters(u,_)),p.stickyHeaders_addResizeEvent&&x.bind("resize"+u.namespace+"stickyheaders",function(){Q()}),te(!0),x.triggerHandler("stickyHeadersInit")}},remove:function(n,u,p){var g=u.namespace+"stickyheaders ";u.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(g).replace(/\s+/g," ")).next("."+o.css.stickyWrap).remove(),p.$sticky&&p.$sticky.length&&p.$sticky.remove(),a(l).add(p.stickyHeaders_xScroll).add(p.stickyHeaders_yScroll).add(p.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(g).replace(/\s+/g," ")),o.addHeaderResizeEvent(n,!0)}})}(r,window),function(a,l){"use strict";var o=a.tablesorter||{};a.extend(o.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),a(function(){var c="<style>body."+o.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+o.css.resizableContainer+" { position: relative; height: 1px; }."+o.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";a("head").append(c)}),o.resizable={init:function(c,n){if(!c.$table.hasClass("hasResizable")){c.$table.addClass("hasResizable");var u,p,g,m,y,x=c.$table,w=x.parent(),k=parseInt(x.css("margin-top"),10),S=n.resizable_vars={useStorage:o.storage&&n.resizable!==!1,$wrap:w,mouseXPosition:0,$target:null,$next:null,overflow:w.css("overflow")==="auto"||w.css("overflow")==="scroll"||w.css("overflow-x")==="auto"||w.css("overflow-x")==="scroll",storedSizes:[]};for(o.resizableReset(c.table,!0),S.tableWidth=x.width(),S.fullWidth=Math.abs(w.width()-S.tableWidth)<20,S.useStorage&&S.overflow&&(o.storage(c.table,"tablesorter-table-original-css-width",S.tableWidth),y=o.storage(c.table,"tablesorter-table-resized-width")||"auto",o.resizable.setWidth(x,y,!0)),n.resizable_vars.storedSizes=m=(S.useStorage?o.storage(c.table,o.css.resizableStorage):[])||[],o.resizable.setWidths(c,n,m),o.resizable.updateStoredSizes(c,n),n.$resizable_container=a('<div class="'+o.css.resizableContainer+'">').css({top:k}).insertBefore(x),g=0;g<c.columns;g++)p=c.$headerIndexed[g],y=o.getColumnData(c.table,c.headers,g),u=o.getData(p,y,"resizable")==="false",u||a('<div class="'+o.css.resizableHandle+'">').appendTo(n.$resizable_container).attr({"data-column":g,unselectable:"on"}).data("header",p).bind("selectstart",!1);o.resizable.bindings(c,n)}},updateStoredSizes:function(c,n){var u,p,g=c.columns,m=n.resizable_vars;for(m.storedSizes=[],u=0;u<g;u++)p=c.$headerIndexed[u],m.storedSizes[u]=p.is(":visible")?p.width():0},setWidth:function(c,n,u){c.css({width:n,"min-width":u?n:"","max-width":u?n:""})},setWidths:function(c,n,u){var p,g,m=n.resizable_vars,y=a(c.namespace+"_extra_headers"),x=c.$table.children("colgroup").children("col");if(u=u||m.storedSizes||[],u.length){for(p=0;p<c.columns;p++)o.resizable.setWidth(c.$headerIndexed[p],u[p],m.overflow),y.length&&(g=y.eq(p).add(x.eq(p)),o.resizable.setWidth(g,u[p],m.overflow));g=a(c.namespace+"_extra_table"),g.length&&!o.hasWidget(c.table,"scroller")&&o.resizable.setWidth(g,c.$table.outerWidth(),m.overflow)}},setHandlePosition:function(c,n){var u,p=c.$table.height(),g=n.$resizable_container.children(),m=Math.floor(g.width()/2);o.hasWidget(c.table,"scroller")&&(p=0,c.$table.closest("."+o.css.scrollerWrap).children().each(function(){var y=a(this);p+=y.filter('[style*="height"]').length?y.height():y.children("table").height()})),!n.resizable_includeFooter&&c.$table.children("tfoot").length&&(p-=c.$table.children("tfoot").height()),u=parseFloat(a.fn.jquery)>=3.3?0:c.$table.position().left,g.each(function(){var y=a(this),x=parseInt(y.attr("data-column"),10),w=c.columns-1,k=y.data("header");k&&(!k.is(":visible")||!n.resizable_addLastColumn&&o.resizable.checkVisibleColumns(c,x)?y.hide():(x<w||x===w&&n.resizable_addLastColumn)&&y.css({display:"inline-block",height:p,left:k.position().left-u+k.outerWidth()-m}))})},checkVisibleColumns:function(c,n){var u,p=0;for(u=n+1;u<c.columns;u++)p+=c.$headerIndexed[u].is(":visible")?1:0;return p===0},toggleTextSelection:function(c,n,u){var p=c.namespace+"tsresize";n.resizable_vars.disabled=u,a("body").toggleClass(o.css.resizableNoSelect,u),u?a("body").attr("unselectable","on").bind("selectstart"+p,!1):a("body").removeAttr("unselectable").unbind("selectstart"+p)},bindings:function(c,n){var u=c.namespace+"tsresize";n.$resizable_container.children().bind("mousedown",function(p){var g,m=n.resizable_vars,y=a(c.namespace+"_extra_headers"),x=a(p.target).data("header");g=parseInt(x.attr("data-column"),10),m.$target=x=x.add(y.filter('[data-column="'+g+'"]')),m.target=g,m.$next=p.shiftKey||n.resizable_targetLast?x.parent().children().not(".resizable-false").filter(":last"):x.nextAll(":not(.resizable-false)").eq(0),g=parseInt(m.$next.attr("data-column"),10),m.$next=m.$next.add(y.filter('[data-column="'+g+'"]')),m.next=g,m.mouseXPosition=p.pageX,o.resizable.updateStoredSizes(c,n),o.resizable.toggleTextSelection(c,n,!0)}),a(document).bind("mousemove"+u,function(p){var g=n.resizable_vars;!g.disabled||g.mouseXPosition===0||!g.$target||(n.resizable_throttle?(clearTimeout(g.timer),g.timer=setTimeout(function(){o.resizable.mouseMove(c,n,p)},isNaN(n.resizable_throttle)?5:n.resizable_throttle)):o.resizable.mouseMove(c,n,p))}).bind("mouseup"+u,function(){n.resizable_vars.disabled&&(o.resizable.toggleTextSelection(c,n,!1),o.resizable.stopResize(c,n),o.resizable.setHandlePosition(c,n))}),a(l).bind("resize"+u+" resizeEnd"+u,function(){o.resizable.setHandlePosition(c,n)}),c.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(u+" "),function(){o.resizable.setHandlePosition(c,n)}).bind("resizableReset"+u,function(){o.resizableReset(c.table)}).find("thead:first").add(a(c.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+u,function(){var p=n.resizable_vars.storedSizes.length===0;return o.resizableReset(c.table),o.resizable.setHandlePosition(c,n),n.resizable_vars.storedSizes=[],p})},mouseMove:function(c,n,u){if(!(n.resizable_vars.mouseXPosition===0||!n.resizable_vars.$target)){var p,g=0,m=n.resizable_vars,y=m.$next,x=m.storedSizes[m.target],w=u.pageX-m.mouseXPosition;if(m.overflow){if(x+w>0){for(m.storedSizes[m.target]+=w,o.resizable.setWidth(m.$target,m.storedSizes[m.target],!0),p=0;p<c.columns;p++)g+=m.storedSizes[p];o.resizable.setWidth(c.$table.add(a(c.namespace+"_extra_table")),g)}y.length||(m.$wrap[0].scrollLeft=c.$table.width())}else m.fullWidth?(m.storedSizes[m.target]+=w,m.storedSizes[m.next]-=w,o.resizable.setWidths(c,n)):(m.storedSizes[m.target]+=w,o.resizable.setWidths(c,n));m.mouseXPosition=u.pageX,c.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(c,n){var u=n.resizable_vars;o.resizable.updateStoredSizes(c,n),u.useStorage&&(o.storage(c.table,o.css.resizableStorage,u.storedSizes),o.storage(c.table,"tablesorter-table-resized-width",c.$table.width())),u.mouseXPosition=0,u.$target=u.$next=null,c.$table.triggerHandler("stickyHeadersUpdate"),c.$table.triggerHandler("resizableComplete")}},o.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(c,n,u,p){o.resizable.init(u,p)},format:function(c,n,u){o.resizable.setHandlePosition(n,u)},remove:function(c,n,u,p){if(u.$resizable_container){var g=n.namespace+"tsresize";n.$table.add(a(n.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+g),u.$resizable_container.remove(),o.resizable.toggleTextSelection(n,u,!1),o.resizableReset(c,p),a(document).unbind("mousemove"+g+" mouseup"+g)}}}),o.resizableReset=function(c,n){a(c).each(function(){var u,p,g=this.config,m=g&&g.widgetOptions,y=m.resizable_vars;if(c&&g&&g.$headerIndexed.length){for(y.overflow&&y.tableWidth&&(o.resizable.setWidth(g.$table,y.tableWidth,!0),y.useStorage&&o.storage(c,"tablesorter-table-resized-width",y.tableWidth)),u=0;u<g.columns;u++)p=g.$headerIndexed[u],m.resizable_widths&&m.resizable_widths[u]?o.resizable.setWidth(p,m.resizable_widths[u],y.overflow):p.hasClass("resizable-false")||o.resizable.setWidth(p,"",y.overflow);g.$table.triggerHandler("stickyHeadersUpdate"),o.storage&&!n&&o.storage(this,o.css.resizableStorage,[])}})}}(r,window),function(a){"use strict";var l=a.tablesorter||{};function o(n){var u=l.storage(n.table,"tablesorter-savesort");return u&&u.hasOwnProperty("sortList")&&a.isArray(u.sortList)?u.sortList:[]}function c(n,u){return(u||o(n)).join(",")!==n.sortList.join(",")}l.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(n,u,p,g){u.format(n,p,g,!0)},format:function(n,u,p,g){var m,y=u.$table,x=p.saveSort!==!1,w={sortList:u.sortList},k=l.debug(u,"saveSort");k&&(m=new Date),y.hasClass("hasSaveSort")?x&&n.hasInitialized&&l.storage&&c(u)&&(l.storage(n,"tablesorter-savesort",w),k&&console.log("saveSort >> Saving last sort: "+u.sortList+l.benchmark(m))):(y.addClass("hasSaveSort"),w="",l.storage&&(w=o(u),k&&console.log('saveSort >> Last sort loaded: "'+w+'"'+l.benchmark(m)),y.bind("saveSortReset",function(S){S.stopPropagation(),l.storage(n,"tablesorter-savesort","")})),g&&w&&w.length>0?u.sortList=w:n.hasInitialized&&w&&w.length>0&&c(u,w)&&l.sortOn(u,w))},remove:function(n,u){u.$table.removeClass("hasSaveSort"),l.storage&&l.storage(n,"tablesorter-savesort","")}})}(r),r.tablesorter})}),dw={};RS(dw,{default:()=>Im});jS=cw(uw());DS(dw,cw(uw()));sw=jS,{default:lw}=sw,NS=an(sw,["default"]),Im=lw!==void 0?lw:NS;});var hw={};Dn(hw,{default:()=>Im});var pw=Kt(()=>{eu();Rm();Rm()});var xr,nu=Kt(()=>{Xl();Hn();uf();yy();pf();Ly();My();Ry();Dy();Ny();xo();vf();yf();cf();Hy();Fy();Gy();Yy();ru();Xy();Jy();eb();jb();I1();xr=class e{static paramsToJSON(){return Iy()}static isTouchDevice(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch}static theatre_controls_position(t,r,a,l){let o=t,c=l&&!t;if(!c&&(t||(o=xe("#canvas")),!o.length))return;let n=c?l:o.height()||0,u=c?a:o.width()||0;!c&&typeof r!="undefined"&&xe("#theatre-controls").offset({top:r});let p=Math.round((xe("#theatre-ia-wrap").width()-xe("#theatre-controls").width()-u)/2);Ci("width",u),Ci("right_gutter_width",p),xe("#theatre-controls").css({height:n,visibility:"visible",right:Math.max(20,p/2)})}static theatresize(t){e.theatresize_maxheight||(e.theatresize_maxheight=null);let r=()=>{let o=Math.min(xe(window).width(),400),c=xe(window).height()-(xe("#navwrap1").height()||0)-100;e.theatresize_maxheight&&(c=Math.min(c,e.theatresize_maxheight)),c=Math.max(c,o);let n=Math.min(c,1e3);xe("#theatre-ia-wrap").addClass("resized").css("height",n),t&&t(xe("#theatre-ia-wrap").height()||0)};r(),xe(window).on("resize  orientationchange",()=>{clearTimeout(e.theatresize_throttler),e.theatresize_throttler=setTimeout(r,250)})}static carouselsize(t,r){let a=xe(t),l=a.find("img.carousel-image").map((o,c)=>{let n=xe.Deferred(),u;return c.complete?u=n.resolve(c.naturalHeight).promise():(c.addEventListener("load",()=>{n.resolve(c.naturalHeight)}),u=n),u}).get();xe.when(...l).then((...o)=>{let c=a.height(),n=Math.max(...o);c>n&&(a.css("maxHeight",n),r&&(e.theatresize_maxheight=n,xe(window).trigger("resize")))})}static popover_menu(t,r){let a={trigger:"hover focus click",container:t,content:r.content,html:!0};r.title&&(a.title=r.title),r.placement&&(a.placement=r.placement),r.trigger&&(a.trigger=r.trigger),xe(t).popover(a)}static date_switcher(t){let r="#date_switcher";xe(r).tooltip({html:!0,trigger:"manual",placement:"bottom",title:t}).on("mouseenter focusin",function(){xe(r).parent().find(".tooltip").length||xe(this).tooltip("show")}),xe(".sortbar").on("mouseleave",()=>{Ci("not hovering sortbar anymore"),xe(r).tooltip("hide")}),xe(r).on("shown.bs.tooltip",()=>{xe(r).parent().find(".date_switcher").on("click",function(){xe(this).parents(".tooltip").find(".date_switcher.in").removeClass("in"),xe(this).addClass("in")})})}static lists_v_tiles_setup(t){let r="tiles",a=qn.get(`view-${t}`),l=qn.get(`showdetails-${t}`),o=l==="showdetails"||l===void 0&&r==="lists";if(a==="lists"||!a&&r==="lists"){if(o)return;xe("body").removeClass("showdetails")}else xe("body").removeClass("lists".concat(o?"":" showdetails")).addClass("tiles")}static showdetails_toggle(t){let r=xe("body"),a=r.hasClass("showdetails")?"":"showdetails";Ci("showdetails_toggle() going to: ",a),qn.set(`showdetails-${t}`,a,{path:"/",expires:30,domain:".archive.org"}),r.toggleClass("showdetails")}static tiles_toggle(t,r){let a=xe("body"),l=a.hasClass("tiles")?"lists":"tiles";return Ci("tiles_toggle() going to",l),a.removeClass("lists tiles").addClass(l),e.tiler(),qn.set(`view-${r}`,l,{path:"/",expires:30,domain:".archive.org"}),!1}static inTab(){let t=xe(".welcome .tabby.in .tabby-text").first().text().toLowerCase().trim();return t.indexOf("forum")===0?t.split(" ").shift():t}static selector(){let t=e.inTab();if(t==="forum"||t==="posts"||t==="about")return!1;let r=!1;if(t){Ci("inTab",t);let a=`#tabby-${t.replace(" ","-")}`;if(t==="collection"||t==="collections"||t==="uploads"||t==="reviews"||t==="web archives")r="#".concat(xe(a.concat(" div.ikind.in:first")).attr("id"));else{let l=xe(a.concat(" .ikind.stealth.in:first")).text().toLowerCase().replace(/ /,"-");r=`#ikind-${t}${l===""?"":"-"}${l}`}}else r="#ikind-".concat(xe(".ikind.stealth.in:first").text().toLowerCase().replace(/ /,"-")),xe(r).length||(r="#ikind-search");return Ci("SELECTOR",r),r}static parent_hover(t){t.find(".item-ia:not(.hov):not(.collection-ia):not(.account-ia)").addClass("hov").mouseover(r=>xe(r.currentTarget).find(".item-parent").addClass("hoverin")).mouseout(r=>xe(r.currentTarget).find(".item-parent").removeClass("hoverin"))}static tiler(t,r){xe("body").hasClass("tiles")||xe("body").hasClass("showdetails")&&xe(".sortbar input[name=showdetails]").prop("checked",!0);let a=t||e.selector();if(a===!1)return;let l=xe(a).first();e.parent_hovered=e.parent_hovered||{},e.parent_hovered[a]||(e.parent_hover(l),e.parent_hovered[a]=!0)}static ikind(t,r){let a=`#${r}`;Ci("ikind",r),xe(a).parent().find("div.ikind.in").hide(),xe(a).removeClass("hidden").addClass("in").show(),xe(a).parents(".tabby-data").find("a.ikind").removeClass("in"),xe(t).addClass("in"),e.tiler(a);let l=xe(a).parents(".tabby-data").find("select.ikind-mobile"),o=l.find("option:contains(".concat(xe(t).text(),")")),c=l.find("option:selected");return o.text().trim()!==c.text().trim()&&(Ci("changing ikind mobile now to ",o.text()),e.ikind_mobile_change_ignore_next=!0,o.attr("selected","selected")),!1}static ikind_mobile_change(t){if(e.ikind_mobile_change_ignore_next){e.ikind_mobile_change_ignore_next=!1;return}let r=xe(t).find("option:selected");Ci("ikind mobile changed to: ",r.text());let a=xe(t).parents(".tabby-data").find("a.ikind");if(a.length||(a=xe("body").find("a.ikind")),!a.length)return;let o=a.filter((c,n)=>xe(n).text()===r.text()).attr("href");Ci("goto",o),o&&(o.substr(0,1)==="#"?xe(`a.ikind[data-id=${o.substr(1)}]`).click():location.href=o)}static popState(t){if(e.pushState=typeof history.pushState!="undefined",Ci("popState(",t,") called, modern browser: ",e.pushState?"y":"n"),t)return;let r=a=>{let l=ou("tab",!0);l?l=`#tabby-${l}-finder`:a?l=`#tabby-${a}-finder`:l=".tabby-default-finder",e.pushState&&Ci("goto tab: ",l," ################################################### STATE"),e.tabby_no_pushState_next_click=!0,xe(l).click()};e.pushState&&xe(window).on("popstate",()=>r()),r()}static tabby(t,r){Ci("AJS.tabby()",r);let a=r.replace(/tabby-/,"").trim();if(!(a==="uploads"||a==="reviews"||a==="collections"||a==="loans"||a==="web archives")){if(xe(".tabby-data.in").removeClass("in").hide(),xe(`#${r}`).removeClass("hidden").addClass("in").show(),xe(".tabby").removeClass("in"),xe(t).parents(".tabby").addClass("in"),e.tabby_no_pushState_next_click)delete e.tabby_no_pushState_next_click;else if(e.pushState&&typeof history.pushState!="undefined"){let l=xe(t).attr("href"),o=location.href,c=location.protocol.concat("//",location.host,l);o!==c&&(Ci("pushState: ",l," ################################################### STATE"),history.pushState({},"",c))}(a==="collection"||a==="about")&&(a==="about"&&e.grafs(),e.tiler()),e.pushState&&(event==null||event.preventDefault())}}static collectionSummaryMoreClicked(){return e.tabby("#tabby-about-finder","tabby-about")}static head_img_dragdrop_setup(t){e.head_img_dragdrop_setup_done||(Ci("head_img_dragdrop_setup"),e.head_img_dragdrop_setup_done=!0,xe("#file-dropper-wrap").bind("mouseenter",()=>{Ci("enter"),e.head_img_replaceable(t),xe("#file-dropper").show()}).bind("mouseleave",()=>{Ci("ouddie"),e.file_picked||xe("#file-dropper").hide()}),xe("body").bind("dragover",r=>(Ci("dragover"),r.stopPropagation(),r.preventDefault(),e.head_img_replaceable(t),xe("#file-dropper").addClass("drag_over").show(),!1)),xe("body").bind("dragleave",r=>{Ci("dragleave");let a=xe("#file-dropper-wrap").is(":hover")||xe("#file-dropper     ").is(":hover")||xe("#file-dropper-img ").is(":hover"),l=r.pageX||r.originalEvent.pageX,o=r.pageY||r.originalEvent.pageY;if(!a){let c=xe("#file-dropper-wrap"),{left:n,top:u}=c.offset();l>=n&&l<=n+c.outerWidth()&&o>=u&&o<=u+c.outerHeight()&&(a=!0)}if(!a){let c=xe("#file-dropper"),{left:n,top:u}=c.offset();l>=n&&l<=n+c.outerWidth()&&o>=u&&o<=u+c.outerHeight()&&(a=!0)}a||xe("#file-dropper").removeClass("drag_over").hide()}))}static head_img_replaceable(t){if(xe("#file-dropper").html().trim()!=="")return;xe("#file-dropper").show().html(`
<div>
<button id="file-cancel" type="button" class="close" data-dismiss="alert" aria-hidden="true"
        title="cancel file upload" alt="cancel file upload">
  &times;
</button>
<b>
  <span style="font-size:40px; color:#aaa" class="iconochive-plus-circle" />
</b><br/>
<b>
  Drag & Drop an image file here or
</b>
<button id="file-picker" type="button" class="btn btn-info btn-xs">
  Pick image to upload
</button>
<form method="POST" action="/services/post-file.php?submit=1&identifier=${t}"
      enctype="multipart/form-data" id="poster">
  <div class="hidden">
    <input id="file-selector" name="file" type="file" accept="image/*"/>
  </div>
  <input type="hidden" name="identifier" value="${t}"/>
  <input id="file-submit" type="submit" name="submit" value="SUBMIT" class="btn btn-success"/>
  <div id="file-uploading">
    Uploading your file..
  </div>
</form>
</div>`),Zr("#file-picker",()=>xe("#file-selector").click()),xe("#file-cancel").bind("click",u=>(e.cancelFile(),u.stopPropagation(),u.preventDefault(),!1));let r=()=>{Ci("success!")},a=()=>{let u=!1;typeof XMLHttpRequest=="undefined"&&(u="browser appears to not have HTML5 functionality"),u||(u=e.badFile());let p=new XMLHttpRequest;if(u||(Ci(e.file2post),p.upload||(u="browser submit setup failed")),u)return u;Ci("post");let g=Math.round(Date.now()/1e3);p.open("POST",location.protocol.concat("//",location.host,"/services/post-file.php?submit=1&identifier=",t,"&fname=",encodeURIComponent(e.file2post.name))),p.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),p.send(e.file2post),Ci("posted in background"),xe("#file-dropper").html("waiting for your tasks to queue");let m=!1;return m=setInterval(()=>{Ci("STALKING..."),xe.getJSON(`/metadata/${t}?rand=${Math.random()}`,x=>{let w=x.pending_tasks&&x.tasks?x.tasks.length:0;w?x.tasks.filter(S=>S.wait_admin===2).length?(xe("#file-dropper").html(`
                  <div class="alert alert-danger">
                    status task failure -- an admin will need to resolve
                  </div>`),clearInterval(m)):xe("#file-dropper").html(`waiting for your ${w} tasks to finish`):(Ci("last update",x.item_last_updated,"vs now",g),x.item_last_updated<g?xe("#file-dropper").html("waiting for your tasks to queue"):(Ci("task(s) done!"),clearInterval(m),xe("#file-dropper").html("reloading page with your image"),window.location.reload()))})},2e3),""};xe("#file-selector").bind("click",()=>{e.file_picked="selected"}).bind("change",u=>{Ci("file dropdown selected!"),xe("#file-submit, #file-cancel").show(),Ci(u),u.target&&u.target.files&&u.target.files.length&&([e.file2post]=u.target.files,e.previewFile())}),xe("#file-dropper").bind("drop",u=>{var p,g;u.stopPropagation(),u.preventDefault(),xe("#file-dropper").removeClass("drag_over"),xe("#file-submit, #file-cancel").show(),(g=(p=u.originalEvent)==null?void 0:p.dataTransfer)!=null&&g.files&&(Ci(u.originalEvent.dataTransfer.files),e.file_picked="dropped",[e.file2post]=u.originalEvent.dataTransfer.files,e.previewFile(),xe("#file-selector").files=u.originalEvent.dataTransfer.files)}),xe("#poster").bind("focusin",u=>{Ci(u.type),xe("#file-uploading").show()}).bind("submit",u=>{Ci("submit!"),xe("#file-uploading").show();let p=a();return p===""?(r(),u.stopPropagation(),u.preventDefault(),!1):e.file_picked==="dropped"?(e.cancelFile(),alert(`Failure: ${p}`),u.stopPropagation(),u.preventDefault(),!1):!0});let l=xe("#file-dropper-img").outerWidth(),o=xe("#file-dropper-img").outerHeight(),c=xe("#file-dropper").outerWidth(),n=xe("#file-dropper").outerHeight();xe("#file-dropper").css({left:Math.round((l-c)/2),top:Math.round((o-n)/2)}),Zl&&(xe("#file-dropper > form > div.hidden").removeClass("hidden"),xe("#file-dropper > button").addClass("hidden"))}static previewFile(){if(xe("#file-dropper .uppreview").remove(),e.badFile())return e.cancelFile(),!1;if(typeof FileReader=="undefined")return!1;let t=new FileReader;return t.onload=r=>{Ci(r.target);let a=new Image;a.src=r.target.result,xe("#file-dropper").append(a),xe(a).addClass("uppreview")},Ci(e.file2post),t.readAsDataURL(e.file2post),!0}static cancelFile(){xe("#file-dropper .uppreview").remove(),xe("#file-dropper, file-submit, #file-cancel, #file-uploading").hide(),e.file_picked&&delete e.file_picked,e.file2post&&delete e.file2post}static badFile(){let t=!1;if(!t&&!e.file2post&&(t="file is missing"),!t&&e.file2post.size>8e6&&(t="file is over 8MB in size"),!t){let r=e.file2post.type.toLowerCase();r!=="image/jpeg"&&r!=="image/png"&&r!=="image/gif"&&(t="file not required format of JPEG or PNG or GIF")}return t&&alert(t),t}static drawPDF(t,r){let a="/download/".concat(t,"/",t,"_pdf.zip/",t,"_pdf/",t,"_"),l=!1,o=!1;for(let p of Object.keys(r)){let g=p.slice(0,4);if(o===!1&&(o=g),o!==g){l=!0;break}}let n="",u=666;for(let p of Object.keys(r)){if(p==="yyyymmdd")continue;let g=r[p].split(","),m=p.slice(0,4),y=parseInt(p.slice(4,6),10),x=parseInt(p.slice(6,8),10),w=m.concat("-",y),k=!1,S="";w!==u&&(y===1?S="January":y===2?S="February":y===3?S="March":y===4?S="April":y===5?S="May":y===6?S="June":y===7?S="July":y===8?S="August":y===9?S="September":y===10?S="October":y===11?S="November":y===12?S="December":y===void 0?S="Single Page PDFs":S="Unknown_".concat(y),l&&(S=m.concat(" ",S)),n+=n?"</div><!--mo--><br/>":"",n+=`
<a href="#${S},${m}" class="year-month" data-toggle="#m${w}">
  <span class="iconochive-folder"></span> ${S}
</a>
<div class="mo" id="m${w}">`),(x===void 0||x==="")&&(k=!0),k?n+='<div class="day">':n+=`
<div class="day">
<a href="#${w}-${x}" class="year-month-day" data-toggle="#m${w}d${x}">
  <span class="iconochive-folder" /> ${x}
</a>
<div class="pages" id="m${w}d${x}">`;let P=1,E,L;for(let s=0;s<g.length;s++){if(E=g[s],!E)continue;P>0&&(P=1-E),L=parseInt(E,10)+P,E="0000".concat(E),E=E.substr(E.length-4,4);let h=a.concat(E,".pdf");n+=`<a href="${h}">[${L}]</a> `}k?n+="</div>":n+="</div><!--pages--></div><!--day-->",u=w}n+="</div><!--mo-->",xe("#pdfs .replaced").html(n),Zr("#pdfs .year-month",p=>xe(xe(p.currentTarget).data().toggle).toggle()),Zr("#pdfs .year-month-day",p=>xe(xe(p.currentTarget).data().toggle).toggle())}static grafs(){let t=xe("#grafs_views_api"),r=xe("#grafs2"),a=r.attr("data-id");Ci("loading grafs"),t.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show(),r.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show();let l="<h2>";xe.get("/details/".concat(a,"&grafs=1&v=3"),o=>{let c=o.split(l);c.length>=3&&(xe("#activity-reviewsN").html(c[1]).parents(".activity-box").show(),xe("#activity-forumN  ").html(c[2]).parents(".activity-box").show()),c.length===6?(t.html(l+c[3]),r.html(l+c[5])):(t.html("(graph data not available)"),r.html("(graph data not available)")),e.plot_graphs()}),au.setUpTopRegionsTable()}static quick_down(t,r){let a=`#${t}`;if(xe(".format-group.in").length)xe(".format-group").slideDown(400),setTimeout(()=>{xe(".format-group.in").removeClass("in"),xe(".download-button").html("DOWNLOAD OPTIONS")},400),xe(a).slideUp();else{let l=xe(r).text(),o=xe(a).parents(".format-group");xe(".download-button").html(l.concat(" FILES")),o.addClass("in"),xe(".format-group:not(.in)").slideUp(),xe(a).slideDown()}return!1}static arg(t,r){let a=r&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&");for(let l=0;l<a.length;l++)if(a[l].slice(0,a[l].indexOf("="))===t){let o=a[l].slice(a[l].indexOf("=")+1);return o.length>0?unescape(o):""}return""}static scrolled(){let t=xe(window).scrollTop(),r=".more_search:visible",a=xe(r);if(!a.length)return;let l=a.offset().top+a.outerHeight()-xe(window).height()-40;t>l&&(Ci("hit rock bottom > ",l),e.more_searching||xe(r.concat(" > a")).get(0).click())}static more_search(t,r,a){let l=e.selector();if(l===!1)return!1;let o=l.replace(/#ikind-/,""),c=xe(l.concat(" .more_search")),n=l;if(typeof e.page_map=="undefined"&&(e.page_map={}),typeof e.page_map[n]=="undefined"&&(e.page_map[n]=a||1),e.page_map[n]<0)return!1;e.page_map[n]+=1;let u=e.page_map[n];c.find(".more-search-fetching").show(),e.more_searching=!0;let p=r+u,g=location.protocol.concat("//",location.host,p);return p+="&scroll=1",Ci("url: ",p),Ci("urlreplace",g),Ci("more_search(selector=",l,"sort=",o,"page=",u,"url=",p,")"),xe.get(p,m=>{if(m.length<100&&xe(m).find("div.no-results")){c.find(".more-search-fetching, a.btn").hide(),e.page_map[n]=-1,e.more_searching=!1;return}e.pushState&&typeof history.replaceState!="undefined"&&history.replaceState({},"",g);let y=xe(l).attr("id");e.tilerPREV&&e.tilerPREV.unsourced&&e.tilerPREV.unsourced[y]&&delete e.tilerPREV.unsourced[y];let x=xe(l.concat(" .results"));x.append(e.addNotes(e.addingNotesKind,m)),e.tiler(l),c.find(".more-search-fetching").hide(),e.more_searching=!1,e.parent_hover(x),xe(l.concat(" img")).on("load",()=>{clearTimeout(e.more_search_throttler),e.more_search_throttler=setTimeout(e.tiler,1e3)}),typeof archive_analytics!="undefined"&&archive_analytics.send_scroll_fetch_event(u)}),!1}static embed_codes_adjust(){Ci("showing embeds!");for(let t of["embedcodehere","embedcodehereWP"]){let r=xe(`#${t}`);r.removeAttr("rows").css("height","");let a=r.text();xe("body").prepend(xe("<div/>").attr({id:`${t}Shadow`,class:"textarea-invert-readonly roundbox5"}).css({position:"absolute",visibility:"hidden",top:60,left:10,padding:"5px 15px 5px 15px",width:r.width(),"font-size":r.css("font-size")}).text(a));let l=xe(`#${t}Shadow`).outerHeight()+15;Ci(t,"bestie height",l,"for current width",r.width()),xe(`#${t}Shadow`).remove(),r.height(l)}}static modal_add(t,r){xe(t).length&&xe(t).remove();let a=t.replace(/#/,""),{prepended_el:l=document.body}=r;return xe(l).prepend(`
<div id="${a}" class="modal fade" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-lg">
  <div class="modal-content">
    <div class="modal-header ${r.headerClass!==void 0?r.headerClass:"modal-header-std"}">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        <span class="iconochive-remove-circle"></span>
      </button>
      <h1 class="modal-title">
        ${typeof r.title=="undefined"?"Confirmed":r.title}
      </h1>
    </div>
    <div id="${a}-body">
      ${typeof r.body=="undefined"?"":r.body}
    </div>
  </div>
</div>
</div>`),xe(t)}static isFavoriteSuccessful(t){return t.indexOf('<meta name="ia-favorite-success" content="1">')!==-1}static modal_go(t,r){let a=r,l=xe(t);if(typeof xe.fn.modal=="undefined"){if(r.recalling)throw Error("still cant modal -- are there two jquery on the page?");return r.recalling=1,Promise.resolve().then(()=>(bm(),ym)).then(()=>e.modal_go(t,r)),!1}a.favorite&&(a.login=!0,qn.get("logged-in-user")!==void 0&&(_o.toggle_favorite_icon(l,!0),_o.update_favorite_count(!0)));let o=l.attr("data-target"),c=a.favorite?l.attr("data-href"):l.attr("href");if((!a.ignore_lnk||a.add_modal)&&e.modal_add(o,a),a.shown&&xe(o).on("shown.bs.modal",()=>{a.shown()}),a.follow_link_on_dismiss&&xe(o).on("hidden.bs.modal",()=>{Ci("modal hidden, going to ",c,".."),xe("body").removeClass("blurry"),location.href=c}),a.login&&qn.get("logged-in-user")===void 0){if(location.protocol!=="https:")return location.href="https://archive.org/account/login",!1;let n="/account/login";return xe.get(n,u=>{let p=xe(u).find(".container-ia > div").length?xe(u).find(".container-ia > div").get(0):u;xe(o).addClass("login-modal"),xe(o.concat("-body")).html(p),xe(o).modal("show");let g=xe(o.concat("-body form:has(input[type=submit])"));if(!g.length)return;let m=xe(".password_icon")[0];navigator.cookieEnabled===!0?(xe(".cookie-warning").addClass("hidden"),xe(".login-form :input").prop("disabled",!1),m.src="/images/eye-crossed.svg",m.alt="Show text",xe(".password_icon").on("click",()=>{let y=xe(".input-password")[0];y.type==="password"?(y.type="text",m.src="/images/eye.svg",m.alt="Hide text"):(y.type="password",m.src="/images/eye-crossed.svg",m.alt="Show text")}),xe(".input-email, .input-password").on("focus",()=>{xe(".password-error").html(""),xe(".reset-password").show()})):(xe(".cookie-warning").removeClass("hidden"),xe(".login-form :input").prop("disabled",!0)),By({$form:g,url:n,selector:o,element:t,conf:a})}),!1}return a.auto_remove&&(a.auto_close=!0,xe(o).on("hidden.bs.modal",()=>{xe(o).remove(),xe("body").removeClass("blurry")})),a.ignore_lnk?xe(o).modal("show"):(xe.get(c,n=>{if(a.favorite)if(typeof archive_analytics!="undefined"&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"favorite",el:location.pathname,cache_bust:Math.random()}),e.isFavoriteSuccessful(n))setTimeout(()=>{a.postLogin&&location.reload(!0)},e.modalInterval);else{_o.toggle_favorite_icon(l,!1),_o.update_favorite_count(!1);let u=xe(o),p=`
              <center>
                <p class="favorite-failure-message">
                  There was an error adding the favorite. If the problem persists, please contact support.
                </p>
              </center>
            `;u.find(".modal-title").html("Failed"),u.find(`${o}-body`).html(p),xe(o).modal("show")}else xe(o).modal("show"),a.auto_close&&setTimeout(()=>xe(o).modal("hide"),e.modalInterval)}),xe(o).on("hidden.bs.modal",()=>{xe(o).remove()})),a.center&&xe(o.concat(" .modal-dialog")).center(),a.auto_close&&a.ignore_lnk&&setTimeout(()=>xe(o).modal("hide"),e.modalInterval),!1}static suffixFmt(t,r){return r.min>=0&&r.max<=5?Math.round(t*10,1)/10:t>=1e6?(t/1e6).toFixed(0).concat(" M"):t>=1e3?(t/1e3).toFixed(0).concat(" K"):t.toFixed(0)}static suffixFmtPercent(t,r){return e.suffixFmt(t,r).concat("%")}static pluralize(t,r,a){return t===1?r:a}static viewMessage(t,r,a){let l=r.length,o="<table><tr>";o+=`<th class="tt-date" rowspan="${l}">${t[2]} ${t[3]}</th>`,o+=`<td class="tt-number">${ia(r[0])}</td>`,o+=`<td>${e.pluralize(r[0],"View","Views")} ${a[0]}</td></tr>`;for(let c=1;c<l;c++)o+=`<tr><td class="tt-number">${ia(r[c])}</td>`,o+=`<td>${e.pluralize(r[c],"View","Views")} ${a[c]}</td></tr>`;return o+="<table>",o}static plot_graphs(){xe(".js-ajs-plotter").each((t,r)=>{let a=JSON.parse(xe(r).val());e.plotter(()=>{var o,c,n;Ci("js-ajs-plotter",a);let l=JSON.parse(a.cfg);a.dayBarsNoPoints&&(l.dayBarsNoPoints=!0),a.dark&&(l.dark=!0),((o=l.yaxis)==null?void 0:o.tickFormatter)==="AJS.suffixFmt"&&(l.yaxis.tickFormatter=e.suffixFmt),a.fmt==="AJS.broadcastsTooltip"?a.fmt=e.broadcastsTooltip:a.fmt==="AJS.airedTooltip"?a.fmt=e.airedTooltip:((c=a.fmt)==null?void 0:c.length)===3&&a.fmt[0]==="AJS.graphsTooltip"?a.fmt=e.graphsTooltip(a.fmt[1],a.fmt[2]):((n=a.fmt)==null?void 0:n.length)===3&&a.fmt[0]==="AJS.statsTooltip"&&(a.fmt=e.statsTooltip(a.fmt[1],a.fmt[2])),e.plot(a.id,l,a.fmt,JSON.parse(a.pts),a.many)})})}static broadcastsTooltip(t,r){let a=new Date(t).toUTCString().split(" ");return`<nobr>${ia(r)} broadcasts on ${a[2]} ${a[3]}</nobr>`}static airedTooltip(t,r){let a=new Date(t).toDateString().split(" ");return`<nobr>Aired ${ia(r)} times on ${a[1]} ${a[2]}</nobr>`}static graphsTooltip(t,r){return(a,l)=>{let o=new Date(a).toDateString().split(" ");return`<nobr>${ia(l)} ${t} in ${o[1]} ${r==="day"?o[2]:""} ${o[3]}</nobr>`}}static statsTooltip(t,r=0){let a;switch(t){case"main":{a=({y:o,t:c})=>`${ia(o)} total items in <strong>${c[2]} ${c[3]}</strong>`;break}case"item":{a=({t:o,item:c})=>`<strong>${o[2]} ${o[3]}</strong>: ${ia(c.datapoint[1])} ${e.pluralize(c.datapoint[1],"Item","Items")}`;break}case"download":{a=({t:o,item:c})=>`<strong>${o[2]} ${o[3]}</strong>: ${ia(c.datapoint[1])} ${e.pluralize(c.datapoint[1],"Download","Downloads")}`;break}case"view":{a=({t:o,values:c,labels:n})=>e.viewMessage(o,c,n);break}default:break}return(o,c,n,u,p)=>{let g=new Date(o-r).toUTCString().split(" ");return`<span style="white-space: nowrap;">${a({x:o,y:c,item:n,t:g,values:u,labels:p})}</span>`}}static plotter(t){if(typeof e.plotters=="undefined"&&(e.plotters=[]),t)e.plotters.push(t),t();else{Ci("plotter() resize/orient change",e.plotters.length,"graphs to resize");for(let r=0;r<e.plotters.length;r++)e.plotters[r]()}}static plot(t,r,a,l,o){let c=r;c.xaxis||(c.xaxis={mode:"time",color:c.dark?"#ccc":"#545454"}),c.yaxis||(c.yaxis={color:c.dark?"#ccc":"#545454"});let n;o&&c.barWidth?n=c.barWidth*1:c.barWidth?n=c.barWidth*86400*1e3:n=(c.dayBarsNoPoints?1:7)*86400*1e3,c.color||(c.color="#385C74"),c.stack?c.series={stack:!0,bars:{show:!0,barWidth:n,fill:!0},legend:{show:!0}}:c.series={bars:{show:!0,barWidth:n,fill:.6,color:c.color},color:c.color,points:{show:!c.dayBarsNoPoints}},typeof c.grid=="undefined"&&(c.grid={borderColor:c.dark?"#333":"#aaa",hoverable:!0}),c.dark&&(c.grid.backgroundColor="#002b36"),c.tip||(c.tip={}),c.tip.id||(c.tip.id=t),typeof window.GraphPriorIndex=="undefined"&&(window.GraphPriorIndex={});let u=[];c.series.stack?u=l:(u=o?l:typeof l.data=="undefined"?[{data:l}]:[l],c.dayBarsNoPoints&&!c.noLabel&&(u[0].label=t));let p=`#${t}`;Promise.resolve().then(()=>(q1(),W1)).then(()=>{Promise.all([Promise.resolve().then(()=>(Q1(),J1)),Promise.resolve().then(()=>(aw(),ow))]).then(()=>{let g=xe.plot(xe(p),u,c);a&&xe(p).bind("plothover",(m,y,x)=>{if(!x){window.GraphPriorDatapoint=[0,0,0],xe("#gtip").remove();return}if(window.GraphPriorDatapoint!==x.datapoint){window.GraphPriorDatapoint=x.datapoint,xe("#gtip").remove();let w=[],k=[];if(c.stack){let h=g.getData();for(let v=0;v<h.length;v++){let d=h[v];k[v]=d.label;for(let _=0;_<d.data.length;_++)if(d.data[_][0]===x.datapoint[0]){w[v]=d.data[_][1];break}}}let S=a(x.datapoint[0],x.datapoint[1],x,w,k),P=xe(p),E=P.offset(),{pegTo:L}=c.tip;L||(L=y.pageX-E.left>P.width()/2?"right":"left");let s=L==="right"?P.width()-(y.pageX-E.left-20):y.pageX-E.left+20;Ci(L,s),xe(`#${c.tip.id}`).append(`<div id="gtip" class="roundbox5 grafs-tooltip" style="top:${y.pageY-E.top}px; ${L}:${s}px">${S}</div>`).fadeIn(200)}})})})}static makeMouseElementAccessible(t){xe(t).attr("tabindex","0").on("keypress keydown",function(a){if(a.type!=="click"){let l=a.keyCode||a.which;[32,13].indexOf(l)!==-1&&xe(this).click()}})}static autocomplete(t,r,a){Promise.resolve().then(()=>(Af(),kf)).then(()=>{xe(t).autocomplete({appendTo:"#autocompletee",minLength:0,source:(l,o)=>{o(xe.ui.autocomplete.filter(r,l.term.split(/,\s*/).pop()))},focus:()=>!1,select:function(o,c){if(a){let n=this.value.split(/,\s*/);n.pop(),n.push(c.item.value),n.push(""),this.value=n.join(", ")}else this.value=c.item.value;return!1}})})}static addNotes(t,r){if(t!=="favorite"&&t!=="list"||(!r&&xe("body").hasClass("editable")&&(e.addingNotesKind=t),!e.addingNotesKind))return r;if(e.addNoteHTM=xe(`
<div class="note">
  <span class="edit">
    <a href="#" class="js-note-add">Add a Note</a>
  </span>
</div>`),Ci("addNotes"),r){let a=xe(`<div>${r}</div>`);return a.find('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM),a.html()}return xe('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM),Zr(".js-note-add",a=>e.editNote(a.currentTarget))}static editNote(t){let r=xe(t);if(!r.parents(".details-ia").prev().attr("data-id"))return!1;let l=r.parents(".note"),o="";return r.text()==="edit"&&(o=l.find("span:first").text(),o=o.replace(/</g,"&lt;").replace(/>/g,"&gt;")),l.hide(),l.parent().append(xe(`
<form class="js-note-submit form form-horizontal note" role="form">
  <div class="form-group">
    <div class="col-xs-2 col-md-1 col-lg-1">
      <b>Note:</b>
    </div>
    <div class="col-xs-10 col-md-6 col-lg-7">
      <textarea class="form-control" name="comments">${o}</textarea>
      <div class="clearfix visible-xs-block"></div>
    </div>
    <div class="clearfix visible-xs-block"></div>
    <div class="col-xs-12 col-md-5 col-lg-4 btns">
      <button type="button" class="js-note-edited btn btn-success btn-xs">Save</button>
      <button type="button" class="js-note-edited btn btn-info btn-cancel btn-xs">Cancel</button>
      <button type="button" class="js-note-edited btn btn-danger btn-xs ${o?"":"hidden"}">Remove</button>
    </div>
  </div>
</form>`)),Zr(".js-note-edited",c=>e.editedNote(c.currentTarget)),Zy(".js-note-submit",c=>e.editedNote(c.currentTarget)),!1}static editedNote(t){let r=xe(t),a=r.parents(".details-ia").prev().attr("data-id");if(!a)return;r.is("form")&&(r=r.find('button:contains("Save")'));let l=r.text(),o=r.parents(".note"),c=o.prev();if(l==="Save"||l==="Remove"){let n=l==="Save"?o.find("textarea").val():"",u="/bookmarks.php?identifier=".concat(a,"&kind=",e.addingNotesKind,"&add_comment=",encodeURIComponent(n));Ci("get ",u),xe.get(u,()=>{let p=n?`Note: "<span>${n.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</span>"
          <span class="edit">(<a href="#" class="js-note">edit</a>)</span>`:e.addNoteHTM.html();c.html(p).show(),o.remove(),Zr(".js-note",g=>e.editNote(g.currentTarget))});return}c.show(),o.remove()}static thumbzilla(t=""){var o,c;let r=xe("body").hasClass("tv");r&&(window!=null&&window.TV2)&&TV2.unplay("thumbzilla"),t||(t=(o=location.pathname.match(/\/details\/([^/&?]+)/))==null?void 0:o[1]);let a="",l=()=>{xe("#opscreen1M").remove(),xe("body").prepend(xe("<div />").attr({id:"opscreen1M"})),xe("<div/>").attr({id:"thumbzilla"}).html(`<div>${a}</div>`).appendTo("#opscreen1M"),xe("#opscreen1M").css("visibility","hidden").show();let u=xe(window).height()+(Zl?60:0);for(let p=720;p>=10;p-=10){let g=Math.round(p*.6875);if(Ci("TRYING",p,"x",g),xe("#thumbzilla img").css({width:p,height:g}),xe("#thumbzilla img:last").offset().top+g<=u)break}xe("#thumbzilla div").center(),xe("#opscreen1M").hide().css("visibility","visible").fadeIn("slow").one("click.opscreen1M.nixer",()=>xe("#opscreen1M").fadeOut("slow")),window!=null&&window.TV2&&Zr(".js-tvthumb",p=>{xe("#opscreen1M").fadeOut("slow"),TV2.seekURL(xe(p.currentTarget).href.replace(/^\/details\/[^/+]/,""))})};if(r&&xe(".js-tv3-init").length){let n=JSON.parse((c=xe(".js-tv3-init").val())!=null?c:"{}");xe(n["TV3.thumbzillas"]).each((u,p)=>{let g=parseInt(p,10),m=`/details/${t}/start/${g}/end/${g+n["TV3.CLIP_SEC_MAX2"]}`;a+=`<a class="js-tvthumb" href="${m}">`,a+=`<img src="/download/${t}/${t}.thumbs/${t}_${p}.jpg"/></a>`}),l()}else xe.getJSON(`/metadata/${t}/files`,n=>{for(let u of n.result){let p="original"in u&&u.name.match(/\.thumbs\/.*_([0-9]+)\.jpg$/);p&&(a+=`
              <a href="/details/${t}/${u.original}?start=${Number(p[1])}"><img src="/download/${t}/${u.name}"></a>
            `)}a&&l()});return!1}static setUpSearchForms(){let t=xe(document.body),r=xe(".js-search-form");function a(l){let o=xe(l),c=o.find(".js-search-bar"),n=o.find(".js-search-options"),u=n.data("keepOpenWhenChanged"),p=!1;function g(w){let{waybackMachineSearchUrl:k}=this.dataset,S=xe(this.elements),P=S.filter('[name="sin"]:checked'),E=S.filter('[name="search"]'),L=P.length?P[0].value:"",s=E.length?E[0].value:"";k&&L==="WEB"&&(w.preventDefault(),window.location=[k.replace(/\/$/,""),s].join("/"))}function m(){n.addClass("is-open").attr("aria-expanded",!0)}function y(){n.removeClass("is-open").attr("aria-expanded",!1)}function x(w){!w||o[0].contains(w)||u&&p||xe(w).parents(".ui-autocomplete").length||y()}o.length&&(o.on("submit",g),n.hasClass("is-open")||(t.on("click",w=>{x(w.target)}),o.on("change",()=>{p=!0}).on("focusout",w=>{x(w.relatedTarget)}),c.on("focusin",()=>{m()})))}r.each((l,o)=>a(o))}static setUpAccordions(){function t(a,l){Array.from(a).forEach(o=>{o!==l&&(o.open=!1)})}function r(a){function l(o){o.target.open&&(t(a.querySelectorAll("details"),o.target),xe("html, body").animate({scrollTop:xe(o.target).offset().top},400))}Array.from(a.querySelectorAll("details")).forEach(o=>{o.addEventListener("toggle",l)}),a.setAttribute("data-accordion-ready","")}Array.from(document.querySelectorAll("[data-accordion]")).forEach(r)}static advanced_search(t){if(!e.is_advanced_TV_search(t))return!0;e.adv||(e.adv={mapping:!1});let r=new Date().toISOString().substr(0,10);xe.ajaxSetup({cache:!0});let a=`https://${location.host}/includes/`;return xe.when(typeof TVSearch!="undefined"||xe.getScript(a.concat("build/js/tvsearch.min.js?",r)),e.adv.mapping||xe.getJSON("/details/tv?mappings&output=json&".concat(r),l=>{e.adv.mapping=l})).then(()=>{if(e.adv.mapping.length!==2){alert("failed to get network and program mappings!");return}TVSearch.proPick(e.adv.mapping,t)}),!1}static is_advanced_TV_search(t){if(location.hostname==="web.archive.org"||xe(document.body).hasClass("top"))return!1;let r=xe(t).parents("form");return r.find(".js-search-options input[value=TV]").is(":checked")?r:!1}static isTextClamped(t){return t.clientHeight<t.scrollHeight}static bindClampCheckbox(t){let r=t.nextElementSibling;if(r&&r.type==="checkbox"){let a,l;xe(r).on("click",()=>{if(xe(r).is(":checked")){let o=window.visualViewport.pageTop;a=t.getBoundingClientRect().top+o,l=a<o?a-10:o}else a<window.visualViewport.pageTop&&window.scrollTo({top:l,behavior:"instant"})})}}static unbindClampCheckbox(t){let r=t.nextElementSibling;r&&r.type==="checkbox"&&r.checked&&xe(r).off("click")}};xe(()=>{xe(".tabby a").click(c=>{let n=xe(c.currentTarget).attr("data-tabby");xr.tabby(c.currentTarget,`tabby-${n}`)}),xe(".js-tiles-setup").each((c,n)=>{let u=JSON.parse(xe(n).val());xr.lists_v_tiles_setup(u.toggle_range),xe("div.ikind").css({visibility:" visible"}),u.popState!==!1&&xr.popState(u.popState),xr.tiler(),xe(window).on("resize  orientationchange",p=>{clearTimeout(xr.tiles_wrap_throttler),xr.tiles_wrap_throttler=setTimeout(xr.tiler,250)}),xe(window).scroll(xr.scrolled)}),xr.makeMouseElementAccessible(".accessible-link"),typeof archive_analytics!="undefined"&&archive_analytics.set_up_event_tracking(),xe(".js-tiles-toggle").click(c=>{let n=xe(c.currentTarget).attr("data-range");return xr.tiles_toggle(c.currentTarget,n)}),xe(".js-ikind-link").click(c=>{let n=xe(c.currentTarget).attr("data-id");xr.ikind(c.currentTarget,`ikind-${n}`)}),xe(".js-more-search").click(c=>{let n=c.currentTarget,u=decodeURIComponent(xe(n).attr("data-more-search")),p=parseInt(xe(n).attr("data-page"),10);return xr.more_search(n,u,p),!1}),xe("#showdetails").on("change",c=>{let n=xe(c.currentTarget).attr("data-toggle-range");xr.showdetails_toggle(n)}),xe(".ikind-mobile").on("change",c=>{xr.ikind_mobile_change(c.currentTarget)}),xr.setUpSearchForms(),xr.setUpAccordions(),typeof archive_analytics!="undefined"&&archive_analytics.create_tracking_image("external_executes"),xr.modalInterval=2e3,jy.init(),su.setup(),xe(".js-search-beta-opt-in").each((c,n)=>{xe(n).on("click",()=>{window.localStorage.setItem("SearchBeta-opt-in",!0)})}),xe(".js-collection-setup").each((c,n)=>{let u=JSON.parse(xe(n).val());u.about&&xr.grafs(),xr.addNotes(u.is_list),xe(window).on("resize  orientationchange",p=>{clearTimeout(xr.plotter_throttler),xr.plotter_throttler=setTimeout(xr.plotter,250)})}),xe(".js-collection-setup2").each((c,n)=>{let u=JSON.parse(xe(n).val());u.editable&&(xe("#editlink").show(),u.image!==""&&xr.head_img_dragdrop_setup(u.image))}),xe(".js-account-setup").each((c,n)=>{var p;let u=JSON.parse(xe(n).val());xr.head_img_dragdrop_setup(u.dragdrop),(p=u.darking_ids)!=null&&p.length&&_o.decorate_pendings(u.darking_ids)}),xr.plot_graphs(),xe(".js-pages").each((c,n)=>{let u=JSON.parse(xe(n).val());xr.drawPDF(u.identifier,JSON.parse(u.pages))}),xe(".js-carousel2").each(()=>{xr.theatresize(),xr.carouselsize("#ia-carousel",!0)}),xe(".tablesorter").each((c,n)=>{let u={textExtraction:"complex"};xe("body").hasClass("js-tv-programPageColumnSorting")?u.headers={0:{sorter:!1}}:xe("body").hasClass("services-views")&&(u.ignoreCase=!0,u.sortList=[[1,0]],u.widgets=["saveSort"],u.widgetOptions={saveSort:!0}),typeof xe.fn.tablesorter=="undefined"?Promise.resolve().then(()=>(pw(),hw)).then(()=>{xe(n).tablesorter(u)}):xe(n).tablesorter(u)}),Zr(".js-ebook-maker",c=>yi(void 0,null,function*(){let n=c.currentTarget;n.parentElement.textContent="Generating...";let{maker:u}=xe(n).data();Ci({maker:u});let p=new URLSearchParams;for(let[m,y]of Object.entries(u))p.append(m,encodeURIComponent(y));let g=yield fetch("/services/make-ebook.php",{method:"POST",body:p});Ci({res:g})}));let e=xe(".js-date_switcher"),t=!xr.isTouchDevice()&&typeof xe.fn.tooltip=="undefined"?xe('.container-ia [data-toggle="tooltip"], #cols [data-toggle="tooltip"], #tvbanner [data-toggle="tooltip"], #cher-modal [data-toggle="tooltip"]'):[];(t.length||e.length)&&Promise.resolve().then(()=>(bm(),ym)).then(()=>{t.length&&t.tooltip({}),e.each((c,n)=>xr.date_switcher(JSON.parse(xe(n).val())))}),Zr(".js-createclick",c=>{location.href="/create/"}),Zr(".js-colclick",c=>{let n=xe(c.currentTarget),u=n.attr("data-id"),p=u&&!u.startsWith("__id_")?`/details/${u}`:n.find("a").attr("href");u&&xe("body").hasClass("tiles")&&!n.hasClass("manage-item")&&(location.href=p)}),Zr(".js-note",c=>xr.editNote(c.currentTarget)),Zr(".js-inliner",c=>{if(window.inlined)return;window.inlined=!0;let n=`${c.currentTarget.href}&nochrome=1`,u=xe(c.currentTarget).parent().parent().parent();u.append('<div id="loadin" style="padding:50px"><hr/><h4><img src="/images/loading.gif"/> loading...</h4><hr/></div>'),xe.get(n,p=>{xe("#loadin").remove(),u.append(`<hr/>${p}`)})}),Zr(".js-auto-submit-perpetual",()=>{document.getElementById("timeout_row").style.display="table-row",document.getElementById("loopsleep_row").style.display="table-row",document.getElementById("discard_itemlists_row").style.display="table-row",document.getElementById("timeout_row").classList.toggle("hidden"),document.getElementById("loopsleep_row").classList.toggle("hidden"),document.getElementById("discard_itemlists_row").classList.toggle("hidden")},"default"),Ky(".js-auto-submit-cmd",c=>{c.currentTarget.value==="delete.php"&&alert(`
        WARNING: The "lost_item" arg is automatically
        added to delete.php tasks submitted through this form.
        That means the command can be used only to
        tidy our records for items that have already
        gotten lost, not to delete existing items.
        If run on an item that actually exists still,
        the task will redrow.`)}),Zr(".js-slide-toggle",c=>xe(xe(c.currentTarget).data().target).slideToggle()),Zr(".js-ajs-deadlists",c=>{let{href:n}=c.currentTarget;window.open(n,"popup","width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,directories=no,location=no,menubar=no,status=no")}),Zr(".show-more-button",c=>{xe(".metadata-hidden").slideToggle("fast"),xe(c.currentTarget).find(".show-more-button__text").toggle()}),Zr(".js-archive-expand_files",c=>{let n=xe(c.currentTarget),u=n.data("id");u&&xr.quick_down(u,n)}),Zr(".js-archive-collapse_files",c=>{let u=xe(c.currentTarget).data("id");u&&xr.quick_down(u)}),Zr(".js-bookmark-removeBookmark",c=>{if(confirm("Are you sure you want to delete this favorite?")){let n=xe(c.currentTarget).attr("href");n&&(window.location=n)}}),Zr(".js-bookmarks-addCommentForm",c=>{let n=xe(c.currentTarget).attr("identifier"),u=xe(c.currentTarget).attr("action"),p=()=>{let P=document.getElementById(`${n}_form`);P.parentNode.removeChild(P);let E=document.getElementById(`${n}_commentLink`);E.style.display="";let L=document.getElementById(`${n}_existingComment`);L&&(L.style.display="")},g=document.createElement("form");g.action=u,g.method="post",g.id=`${n}_form`,g.style.margin="0",g.style.fontSize="12px",g.appendChild(document.createTextNode("Comment: "));let m=document.createElement("input");m.name="add_comment",m.type="text",document.getElementById(`${n}_existingCommentText`)&&(m.value=document.getElementById(`${n}_existingCommentText`).innerHTML),g.appendChild(m);let y=document.createElement("input");y.name="identifier",y.type="hidden",y.value=n,g.appendChild(y);let x=document.createElement("input");x.name="submit",x.type="submit",x.value="Save",g.appendChild(x);let w=document.createElement("input");w.type="button",w.id=`${n}_cancelButton`,w.rel=n,w.onclick=p,w.value="Cancel",g.appendChild(w),document.getElementById(`${n}_formSpan`).appendChild(g);let k=document.getElementById(`${n}_commentLink`);k.style.display="none";let S=document.getElementById(`${n}_existingComment`);S&&(S.style.display="none")});let r=document.querySelector("#js-useradmin-clipboard");r&&r.addEventListener("click",c=>{let n=Array.from(document.querySelectorAll(".js-useradmin-username")).map(u=>u.textContent).join(" ");navigator.clipboard.writeText(n)});let a=document.querySelector(".js-useradmin-search");a&&(a.addEventListener("submit",c=>{c.preventDefault(),Array.from(a.querySelectorAll("input")).filter(n=>!n.value).forEach(n=>{let u=n;u.disabled=!0}),a.submit()}),Array.from(a.querySelectorAll("input")).forEach(c=>{let n=c;n.disabled=!1}));let l=xe(".js-clamp"),o="clamped";l.length&&(l.each((c,n)=>{xr.isTextClamped(n)&&(n.classList.add(o),xr.bindClampCheckbox(n))}),window.addEventListener("resize",Qy(()=>{l.each((c,n)=>{xr.isTextClamped(n)?(n.classList.add(o),xr.bindClampCheckbox(n)):(xr.unbindClampCheckbox(n),n.classList.remove(o))})}),50))});window.AJS=xr});var wh,jo,gs,il,mc,xh,Zw,_h,gc,No=Kt(()=>{wh=class{parseValue(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}};wh.shared=new wh;jo=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=parseFloat(e);if(!Number.isNaN(t))return t}};jo.shared=new jo;gs=class{parseValue(e){return jo.shared.parseValue(e)}};gs.shared=new gs;il=class{parseValue(e){return this.parseJSDate(e)||this.parseBracketDate(e)}parseBracketDate(e){if(typeof e!="string")return;let t=e.match(/\[([0-9]{4})\]/);if(!(!t||t.length<2))return this.parseJSDate(t[1])}parseJSDate(e){if(typeof e!="string")return;let t=e;t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(t=t.replace(" ","T"));let r=Date.parse(t);if(Number.isNaN(r))return;let a=new Date(t);return(t.indexOf("Z")>-1||t.indexOf("+")>-1||t.match(/^[0-9]{4}$/)||t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||t.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||t.match(/^.*?-[0-9]{4}$/))&&(a=new Date(a.getTime()+a.getTimezoneOffset()*1e3*60)),a}};il.shared=new il;mc=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=e.split(":"),r;return t.length===1?r=this.parseNumberFormat(t[0]):r=this.parseColonSeparatedFormat(t),r}parseNumberFormat(e){let t=parseFloat(e);return Number.isNaN(t)&&(t=void 0),t}parseColonSeparatedFormat(e){let t=!1,r=e.map((a,l)=>{let o=parseFloat(a);if(Number.isNaN(o))return t=!0,0;let c=Pn(60,e.length-1-l);return o*Math.floor(c)}).reduce((a,l)=>a+l,0);return t?void 0:r}};mc.shared=new mc;xh=class{parseValue(e){if(typeof e=="string")return e}};xh.shared=new xh;Zw=class{constructor(e,t){this.separators=[";",","],this.parser=e,t&&t.separators&&(this.separators=t.separators)}parseValue(e){let t=String(e),r=[];for(let a of this.separators)if(r=t.split(a),r.length>1)break;return this.parseListValues(r)}parseListValues(e){let t=e.map(a=>a.trim()).map(a=>this.parser.parseValue(a)),r=[];return t.forEach(a=>{a!==void 0&&r.push(a)}),r}},_h=class{parseValue(e){if(typeof e=="string")return e}};_h.shared=new _h;gc=class{parseValue(e){return String(e)}};gc.shared=new gc});var K7,a2,s2,X7,l2,ng=Kt(()=>{K7={};(function(){var e,t={2617:function(o){o.exports=function(){var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default=function(T){return!(!T||!T.Window)&&T instanceof T.Window};var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.getWindow=function(T){return(0,c.default)(T)?T:(T.ownerDocument||T).defaultView||p.window},n.init=g,n.window=n.realWindow=void 0;var u=void 0;n.realWindow=u;var p=void 0;function g(T){n.realWindow=u=T;var D=T.document.createTextNode("");D.ownerDocument!==T.document&&typeof T.wrap=="function"&&T.wrap(D)===D&&(T=T.wrap(T)),n.window=p=T}n.window=p,typeof window<"u"&&window&&g(window);var m={};function y(T){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},y(T)}Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var x=function(T){return!!T&&y(T)==="object"},w=function(T){return typeof T=="function"},k={window:function(T){return T===n.window||(0,c.default)(T)},docFrag:function(T){return x(T)&&T.nodeType===11},object:x,func:w,number:function(T){return typeof T=="number"},bool:function(T){return typeof T=="boolean"},string:function(T){return typeof T=="string"},element:function(T){if(!T||y(T)!=="object")return!1;var D=n.getWindow(T)||n.window;return/object|function/.test(typeof Element>"u"?"undefined":y(Element))?T instanceof Element||T instanceof D.Element:T.nodeType===1&&typeof T.nodeName=="string"},plainObject:function(T){return x(T)&&!!T.constructor&&/function Object\b/.test(T.constructor.toString())},array:function(T){return x(T)&&T.length!==void 0&&w(T.splice)}};m.default=k;var S={};function P(T){var D=T.interaction;if(D.prepared.name==="drag"){var z=D.prepared.axis;z==="x"?(D.coords.cur.page.y=D.coords.start.page.y,D.coords.cur.client.y=D.coords.start.client.y,D.coords.velocity.client.y=0,D.coords.velocity.page.y=0):z==="y"&&(D.coords.cur.page.x=D.coords.start.page.x,D.coords.cur.client.x=D.coords.start.client.x,D.coords.velocity.client.x=0,D.coords.velocity.page.x=0)}}function E(T){var D=T.iEvent,z=T.interaction;if(z.prepared.name==="drag"){var V=z.prepared.axis;if(V==="x"||V==="y"){var ne=V==="x"?"y":"x";D.page[ne]=z.coords.start.page[ne],D.client[ne]=z.coords.start.client[ne],D.delta[ne]=0}}}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var L={id:"actions/drag",install:function(T){var D=T.actions,z=T.Interactable,V=T.defaults;z.prototype.draggable=L.draggable,D.map.drag=L,D.methodDict.drag="draggable",V.actions.drag=L.defaults},listeners:{"interactions:before-action-move":P,"interactions:action-resume":P,"interactions:action-move":E,"auto-start:check":function(T){var D=T.interaction,z=T.interactable,V=T.buttons,ne=z.options.drag;if(ne&&ne.enabled&&(!D.pointerIsDown||!/mouse|pointer/.test(D.pointerType)||V&z.options.drag.mouseButtons))return T.action={name:"drag",axis:ne.lockAxis==="start"?ne.startAxis:ne.lockAxis},!1}},draggable:function(T){return m.default.object(T)?(this.options.drag.enabled=T.enabled!==!1,this.setPerAction("drag",T),this.setOnEvents("drag",T),/^(xy|x|y|start)$/.test(T.lockAxis)&&(this.options.drag.lockAxis=T.lockAxis),/^(xy|x|y)$/.test(T.startAxis)&&(this.options.drag.startAxis=T.startAxis),this):m.default.bool(T)?(this.options.drag.enabled=T,this):this.options.drag},beforeMove:P,move:E,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},s=L;S.default=s;var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var v={init:function(T){var D=T;v.document=D.document,v.DocumentFragment=D.DocumentFragment||d,v.SVGElement=D.SVGElement||d,v.SVGSVGElement=D.SVGSVGElement||d,v.SVGElementInstance=D.SVGElementInstance||d,v.Element=D.Element||d,v.HTMLElement=D.HTMLElement||v.Element,v.Event=D.Event,v.Touch=D.Touch||d,v.PointerEvent=D.PointerEvent||D.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function d(){}var _=v;h.default=_;var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var N={init:function(T){var D=h.default.Element,z=T.navigator||{};N.supportsTouch="ontouchstart"in T||m.default.func(T.DocumentTouch)&&h.default.document instanceof T.DocumentTouch,N.supportsPointerEvent=z.pointerEnabled!==!1&&!!h.default.PointerEvent,N.isIOS=/iP(hone|od|ad)/.test(z.platform),N.isIOS7=/iP(hone|od|ad)/.test(z.platform)&&/OS 7[^\d]/.test(z.appVersion),N.isIe9=/MSIE 9/.test(z.userAgent),N.isOperaMobile=z.appName==="Opera"&&N.supportsTouch&&/Presto/.test(z.userAgent),N.prefixedMatchesSelector="matches"in D.prototype?"matches":"webkitMatchesSelector"in D.prototype?"webkitMatchesSelector":"mozMatchesSelector"in D.prototype?"mozMatchesSelector":"oMatchesSelector"in D.prototype?"oMatchesSelector":"msMatchesSelector",N.pEventTypes=N.supportsPointerEvent?h.default.PointerEvent===T.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,N.wheelEvent=h.default.document&&"onmousewheel"in h.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},G=N;C.default=G;var q={};function K(T){var D=T.parentNode;if(m.default.docFrag(D)){for(;(D=D.host)&&m.default.docFrag(D););return D}return D}function ie(T,D){return n.window!==n.realWindow&&(D=D.replace(/\/deep\//g," ")),T[C.default.prefixedMatchesSelector](D)}Object.defineProperty(q,"__esModule",{value:!0}),q.closest=function(T,D){for(;m.default.element(T);){if(ie(T,D))return T;T=K(T)}return null},q.getActualElement=function(T){return T.correspondingUseElement||T},q.getElementClientRect=fe,q.getElementRect=function(T){var D=fe(T);if(!C.default.isIOS7&&D){var z=Oe(n.getWindow(T));D.left+=z.x,D.right+=z.x,D.top+=z.y,D.bottom+=z.y}return D},q.getPath=function(T){for(var D=[];T;)D.push(T),T=K(T);return D},q.getScrollXY=Oe,q.indexOfDeepestElement=function(T){for(var D,z=[],V=0;V<T.length;V++){var ne=T[V],Se=T[D];if(ne&&V!==D)if(Se){var Ue=Q(ne),Fe=Q(Se);if(Ue!==ne.ownerDocument)if(Fe!==ne.ownerDocument)if(Ue!==Fe){z=z.length?z:te(Se);var ot=void 0;if(Se instanceof h.default.HTMLElement&&ne instanceof h.default.SVGElement&&!(ne instanceof h.default.SVGSVGElement)){if(ne===Fe)continue;ot=ne.ownerSVGElement}else ot=ne;for(var Ft=te(ot,Se.ownerDocument),Bt=0;Ft[Bt]&&Ft[Bt]===z[Bt];)Bt++;var ei=[Ft[Bt-1],Ft[Bt],z[Bt]];if(ei[0])for(var wi=ei[0].lastChild;wi;){if(wi===ei[1]){D=V,z=Ft;break}if(wi===ei[2])break;wi=wi.previousSibling}}else Pi=ne,pi=Se,(parseInt(n.getWindow(Pi).getComputedStyle(Pi).zIndex,10)||0)>=(parseInt(n.getWindow(pi).getComputedStyle(pi).zIndex,10)||0)&&(D=V);else D=V}else D=V}var Pi,pi;return D},q.matchesSelector=ie,q.matchesUpTo=function(T,D,z){for(;m.default.element(T);){if(ie(T,D))return!0;if((T=K(T))===z)return ie(T,D)}return!1},q.nodeContains=function(T,D){if(T.contains)return T.contains(D);for(;D;){if(D===T)return!0;D=D.parentNode}return!1},q.parentNode=K,q.trySelector=function(T){return!!m.default.string(T)&&(h.default.document.querySelector(T),!0)};var Q=function(T){return T.parentNode||T.host};function te(T,D){for(var z,V=[],ne=T;(z=Q(ne))&&ne!==D&&z!==ne.ownerDocument;)V.unshift(ne),ne=z;return V}function Oe(T){return{x:(T=T||n.window).scrollX||T.document.documentElement.scrollLeft,y:T.scrollY||T.document.documentElement.scrollTop}}function fe(T){var D=T instanceof h.default.SVGElement?T.getBoundingClientRect():T.getClientRects()[0];return D&&{left:D.left,right:D.right,top:D.top,bottom:D.bottom,width:D.width||D.right-D.left,height:D.height||D.bottom-D.top}}var W={};Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(T,D){for(var z in D)T[z]=D[z];return T};var ae={};function de(T,D){(D==null||D>T.length)&&(D=T.length);for(var z=0,V=Array(D);z<D;z++)V[z]=T[z];return V}function Z(T,D,z){return T==="parent"?(0,q.parentNode)(z):T==="self"?D.getRect(z):(0,q.closest)(z,T)}Object.defineProperty(ae,"__esModule",{value:!0}),ae.addEdges=function(T,D,z){T.left&&(D.left+=z.x),T.right&&(D.right+=z.x),T.top&&(D.top+=z.y),T.bottom&&(D.bottom+=z.y),D.width=D.right-D.left,D.height=D.bottom-D.top},ae.getStringOptionResult=Z,ae.rectToXY=function(T){return T&&{x:"x"in T?T.x:T.left,y:"y"in T?T.y:T.top}},ae.resolveRectLike=function(T,D,z,V){var ne,Se=T;return m.default.string(Se)?Se=Z(Se,D,z):m.default.func(Se)&&(Se=Se.apply(void 0,function(Ue){if(Array.isArray(Ue))return de(Ue)}(ne=V)||function(Ue){if(typeof Symbol<"u"&&Ue[Symbol.iterator]!=null||Ue["@@iterator"]!=null)return Array.from(Ue)}(ne)||function(Ue,Fe){if(Ue){if(typeof Ue=="string")return de(Ue,Fe);var ot=Object.prototype.toString.call(Ue).slice(8,-1);return ot==="Object"&&Ue.constructor&&(ot=Ue.constructor.name),ot==="Map"||ot==="Set"?Array.from(Ue):ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot)?de(Ue,Fe):void 0}}(ne)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),m.default.element(Se)&&(Se=(0,q.getElementRect)(Se)),Se},ae.tlbrToXywh=function(T){return!T||"x"in T&&"y"in T||((T=(0,W.default)({},T)).x=T.left||0,T.y=T.top||0,T.width=T.width||(T.right||0)-T.x,T.height=T.height||(T.bottom||0)-T.y),T},ae.xywhToTlbr=function(T){return!T||"left"in T&&"top"in T||((T=(0,W.default)({},T)).left=T.x||0,T.top=T.y||0,T.right=T.right||T.left+T.width,T.bottom=T.bottom||T.top+T.height),T};var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=function(T,D,z){var V=T.options[z],ne=V&&V.origin||T.options.origin,Se=(0,ae.resolveRectLike)(ne,T,D,[T&&D]);return(0,ae.rectToXY)(Se)||{x:0,y:0}};var Y={};function ce(T){return T.trim().split(/ +/)}Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=function T(D,z,V){if(V=V||{},m.default.string(D)&&D.search(" ")!==-1&&(D=ce(D)),m.default.array(D))return D.reduce(function(ot,Ft){return(0,W.default)(ot,T(Ft,z,V))},V);if(m.default.object(D)&&(z=D,D=""),m.default.func(z))V[D]=V[D]||[],V[D].push(z);else if(m.default.array(z))for(var ne=0;ne<z.length;ne++){var Se;Se=z[ne],T(D,Se,V)}else if(m.default.object(z))for(var Ue in z){var Fe=ce(Ue).map(function(ot){return"".concat(D).concat(ot)});T(Fe,z[Ue],V)}return V};var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=void 0,Ze.default=function(T,D){return Math.sqrt(T*T+D*D)};var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=function(T,D){T.__set||(T.__set={});var z=function(ne){typeof T[ne]!="function"&&ne!=="__set"&&Object.defineProperty(T,ne,{get:function(){return ne in T.__set?T.__set[ne]:T.__set[ne]=D[ne]},set:function(Se){T.__set[ne]=Se},configurable:!0})};for(var V in D)z(V);return T};var ct={};function Ge(T){return T instanceof h.default.Event||T instanceof h.default.Touch}function Ae(T,D,z){return T=T||"page",(z=z||{}).x=D[T+"X"],z.y=D[T+"Y"],z}function Me(T,D){return D=D||{x:0,y:0},C.default.isOperaMobile&&Ge(T)?(Ae("screen",T,D),D.x+=window.scrollX,D.y+=window.scrollY):Ae("page",T,D),D}function De(T,D){return D=D||{},C.default.isOperaMobile&&Ge(T)?Ae("screen",T,D):Ae("client",T,D),D}function Ne(T){var D=[];return m.default.array(T)?(D[0]=T[0],D[1]=T[1]):T.type==="touchend"?T.touches.length===1?(D[0]=T.touches[0],D[1]=T.changedTouches[0]):T.touches.length===0&&(D[0]=T.changedTouches[0],D[1]=T.changedTouches[1]):(D[0]=T.touches[0],D[1]=T.touches[1]),D}function Ve(T){for(var D={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},z=0;z<T.length;z++){var V=T[z];for(var ne in D)D[ne]+=V[ne]}for(var Se in D)D[Se]/=T.length;return D}Object.defineProperty(ct,"__esModule",{value:!0}),ct.coordsToEvent=function(T){return{coords:T,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},ct.copyCoords=function(T,D){T.page=T.page||{},T.page.x=D.page.x,T.page.y=D.page.y,T.client=T.client||{},T.client.x=D.client.x,T.client.y=D.client.y,T.timeStamp=D.timeStamp},ct.getClientXY=De,ct.getEventTargets=function(T){var D=m.default.func(T.composedPath)?T.composedPath():T.path;return[q.getActualElement(D?D[0]:T.target),q.getActualElement(T.currentTarget)]},ct.getPageXY=Me,ct.getPointerId=function(T){return m.default.number(T.pointerId)?T.pointerId:T.identifier},ct.getPointerType=function(T){return m.default.string(T.pointerType)?T.pointerType:m.default.number(T.pointerType)?[void 0,void 0,"touch","pen","mouse"][T.pointerType]:/touch/.test(T.type||"")||T instanceof h.default.Touch?"touch":"mouse"},ct.getTouchPair=Ne,ct.getXY=Ae,ct.isNativePointer=Ge,ct.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},ct.pointerAverage=Ve,Object.defineProperty(ct,"pointerExtend",{enumerable:!0,get:function(){return ft.default}}),ct.setCoordDeltas=function(T,D,z){T.page.x=z.page.x-D.page.x,T.page.y=z.page.y-D.page.y,T.client.x=z.client.x-D.client.x,T.client.y=z.client.y-D.client.y,T.timeStamp=z.timeStamp-D.timeStamp},ct.setCoordVelocity=function(T,D){var z=Math.max(D.timeStamp/1e3,.001);T.page.x=D.page.x/z,T.page.y=D.page.y/z,T.client.x=D.client.x/z,T.client.y=D.client.y/z,T.timeStamp=z},ct.setCoords=function(T,D,z){var V=D.length>1?Ve(D):D[0];Me(V,T.page),De(V,T.client),T.timeStamp=z},ct.setZeroCoords=function(T){T.page.x=0,T.page.y=0,T.client.x=0,T.client.y=0},ct.touchAngle=function(T,D){var z=D+"X",V=D+"Y",ne=Ne(T),Se=ne[1][z]-ne[0][z],Ue=ne[1][V]-ne[0][V];return 180*Math.atan2(Ue,Se)/Math.PI},ct.touchBBox=function(T){if(!T.length)return null;var D=Ne(T),z=Math.min(D[0].pageX,D[1].pageX),V=Math.min(D[0].pageY,D[1].pageY),ne=Math.max(D[0].pageX,D[1].pageX),Se=Math.max(D[0].pageY,D[1].pageY);return{x:z,y:V,left:z,top:V,right:ne,bottom:Se,width:ne-z,height:Se-V}},ct.touchDistance=function(T,D){var z=D+"X",V=D+"Y",ne=Ne(T),Se=ne[0][z]-ne[1][z],Ue=ne[0][V]-ne[1][V];return(0,Ze.default)(Se,Ue)};var rt={};function je(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty(rt,"__esModule",{value:!0}),rt.BaseEvent=void 0;var ee=function(){function T(V){(function(ne,Se){if(!(ne instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,T),je(this,"immediatePropagationStopped",!1),je(this,"propagationStopped",!1),this._interaction=V}var D,z;return D=T,(z=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(V,ne){for(var Se=0;Se<ne.length;Se++){var Ue=ne[Se];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(V,Ue.key,Ue)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),T}();rt.BaseEvent=ee,Object.defineProperty(ee.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var J={};Object.defineProperty(J,"__esModule",{value:!0}),J.remove=J.merge=J.from=J.findIndex=J.find=J.contains=void 0,J.contains=function(T,D){return T.indexOf(D)!==-1},J.remove=function(T,D){return T.splice(T.indexOf(D),1)};var qe=function(T,D){for(var z=0;z<D.length;z++){var V=D[z];T.push(V)}return T};J.merge=qe,J.from=function(T){return qe([],T)};var _t=function(T,D){for(var z=0;z<T.length;z++)if(D(T[z],z,T))return z;return-1};J.findIndex=_t,J.find=function(T,D){return T[_t(T,D)]};var we={};function $e(T){return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},$e(T)}function at(T,D){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},at(T,D)}function Ee(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function tt(T){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},tt(T)}function nt(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty(we,"__esModule",{value:!0}),we.DropEvent=void 0;var Vt=function(T){(function(Fe,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(ot&&ot.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),ot&&at(Fe,ot)})(Ue,T);var D,z,V,ne,Se=(V=Ue,ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var Fe,ot=tt(V);if(ne){var Ft=tt(this).constructor;Fe=Reflect.construct(ot,arguments,Ft)}else Fe=ot.apply(this,arguments);return function(Bt,ei){if(ei&&($e(ei)==="object"||typeof ei=="function"))return ei;if(ei!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ee(Bt)}(this,Fe)});function Ue(Fe,ot,Ft){var Bt;(function(pi,Vi){if(!(pi instanceof Vi))throw new TypeError("Cannot call a class as a function")})(this,Ue),nt(Ee(Bt=Se.call(this,ot._interaction)),"dropzone",void 0),nt(Ee(Bt),"dragEvent",void 0),nt(Ee(Bt),"relatedTarget",void 0),nt(Ee(Bt),"draggable",void 0),nt(Ee(Bt),"propagationStopped",!1),nt(Ee(Bt),"immediatePropagationStopped",!1);var ei=Ft==="dragleave"?Fe.prev:Fe.cur,wi=ei.element,Pi=ei.dropzone;return Bt.type=Ft,Bt.target=wi,Bt.currentTarget=wi,Bt.dropzone=Pi,Bt.dragEvent=ot,Bt.relatedTarget=ot.target,Bt.draggable=ot.interactable,Bt.timeStamp=ot.timeStamp,Bt}return D=Ue,(z=[{key:"reject",value:function(){var Fe=this,ot=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&ot.cur.dropzone===this.dropzone&&ot.cur.element===this.target)if(ot.prev.dropzone=this.dropzone,ot.prev.element=this.target,ot.rejected=!0,ot.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var Ft=ot.activeDrops,Bt=J.findIndex(Ft,function(wi){var Pi=wi.dropzone,pi=wi.element;return Pi===Fe.dropzone&&pi===Fe.target});ot.activeDrops.splice(Bt,1);var ei=new Ue(ot,this.dragEvent,"dropdeactivate");ei.dropzone=this.dropzone,ei.target=this.target,this.dropzone.fire(ei)}else this.dropzone.fire(new Ue(ot,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(Fe,ot){for(var Ft=0;Ft<ot.length;Ft++){var Bt=ot[Ft];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Fe,Bt.key,Bt)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),Ue}(rt.BaseEvent);we.DropEvent=Vt;var dt={};function vt(T,D){for(var z=0;z<T.slice().length;z++){var V=T.slice()[z],ne=V.dropzone,Se=V.element;D.dropzone=ne,D.target=Se,ne.fire(D),D.propagationStopped=D.immediatePropagationStopped=!1}}function Rt(T,D){for(var z=function(Se,Ue){for(var Fe=Se.interactables,ot=[],Ft=0;Ft<Fe.list.length;Ft++){var Bt=Fe.list[Ft];if(Bt.options.drop.enabled){var ei=Bt.options.drop.accept;if(!(m.default.element(ei)&&ei!==Ue||m.default.string(ei)&&!q.matchesSelector(Ue,ei)||m.default.func(ei)&&!ei({dropzone:Bt,draggableElement:Ue})))for(var wi=m.default.string(Bt.target)?Bt._context.querySelectorAll(Bt.target):m.default.array(Bt.target)?Bt.target:[Bt.target],Pi=0;Pi<wi.length;Pi++){var pi=wi[Pi];pi!==Ue&&ot.push({dropzone:Bt,element:pi,rect:Bt.getRect(pi)})}}}return ot}(T,D),V=0;V<z.length;V++){var ne=z[V];ne.rect=ne.dropzone.getRect(ne.element)}return z}function ii(T,D,z){for(var V=T.dropState,ne=T.interactable,Se=T.element,Ue=[],Fe=0;Fe<V.activeDrops.length;Fe++){var ot=V.activeDrops[Fe],Ft=ot.dropzone,Bt=ot.element,ei=ot.rect;Ue.push(Ft.dropCheck(D,z,ne,Se,Bt,ei)?Bt:null)}var wi=q.indexOfDeepestElement(Ue);return V.activeDrops[wi]||null}function ai(T,D,z){var V=T.dropState,ne={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return z.type==="dragstart"&&(ne.activate=new we.DropEvent(V,z,"dropactivate"),ne.activate.target=null,ne.activate.dropzone=null),z.type==="dragend"&&(ne.deactivate=new we.DropEvent(V,z,"dropdeactivate"),ne.deactivate.target=null,ne.deactivate.dropzone=null),V.rejected||(V.cur.element!==V.prev.element&&(V.prev.dropzone&&(ne.leave=new we.DropEvent(V,z,"dragleave"),z.dragLeave=ne.leave.target=V.prev.element,z.prevDropzone=ne.leave.dropzone=V.prev.dropzone),V.cur.dropzone&&(ne.enter=new we.DropEvent(V,z,"dragenter"),z.dragEnter=V.cur.element,z.dropzone=V.cur.dropzone)),z.type==="dragend"&&V.cur.dropzone&&(ne.drop=new we.DropEvent(V,z,"drop"),z.dropzone=V.cur.dropzone,z.relatedTarget=V.cur.element),z.type==="dragmove"&&V.cur.dropzone&&(ne.move=new we.DropEvent(V,z,"dropmove"),ne.move.dragmove=z,z.dropzone=V.cur.dropzone)),ne}function ui(T,D){var z=T.dropState,V=z.activeDrops,ne=z.cur,Se=z.prev;D.leave&&Se.dropzone.fire(D.leave),D.enter&&ne.dropzone.fire(D.enter),D.move&&ne.dropzone.fire(D.move),D.drop&&ne.dropzone.fire(D.drop),D.deactivate&&vt(V,D.deactivate),z.prev.dropzone=ne.dropzone,z.prev.element=ne.element}function Mt(T,D){var z=T.interaction,V=T.iEvent,ne=T.event;if(V.type==="dragmove"||V.type==="dragend"){var Se=z.dropState;D.dynamicDrop&&(Se.activeDrops=Rt(D,z.element));var Ue=V,Fe=ii(z,Ue,ne);Se.rejected=Se.rejected&&!!Fe&&Fe.dropzone===Se.cur.dropzone&&Fe.element===Se.cur.element,Se.cur.dropzone=Fe&&Fe.dropzone,Se.cur.element=Fe&&Fe.element,Se.events=ai(z,0,Ue)}}Object.defineProperty(dt,"__esModule",{value:!0}),dt.default=void 0;var It={id:"actions/drop",install:function(T){var D=T.actions,z=T.interactStatic,V=T.Interactable,ne=T.defaults;T.usePlugin(S.default),V.prototype.dropzone=function(Se){return function(Ue,Fe){if(m.default.object(Fe)){if(Ue.options.drop.enabled=Fe.enabled!==!1,Fe.listeners){var ot=(0,Y.default)(Fe.listeners),Ft=Object.keys(ot).reduce(function(Bt,ei){return Bt[/^(enter|leave)/.test(ei)?"drag".concat(ei):/^(activate|deactivate|move)/.test(ei)?"drop".concat(ei):ei]=ot[ei],Bt},{});Ue.off(Ue.options.drop.listeners),Ue.on(Ft),Ue.options.drop.listeners=Ft}return m.default.func(Fe.ondrop)&&Ue.on("drop",Fe.ondrop),m.default.func(Fe.ondropactivate)&&Ue.on("dropactivate",Fe.ondropactivate),m.default.func(Fe.ondropdeactivate)&&Ue.on("dropdeactivate",Fe.ondropdeactivate),m.default.func(Fe.ondragenter)&&Ue.on("dragenter",Fe.ondragenter),m.default.func(Fe.ondragleave)&&Ue.on("dragleave",Fe.ondragleave),m.default.func(Fe.ondropmove)&&Ue.on("dropmove",Fe.ondropmove),/^(pointer|center)$/.test(Fe.overlap)?Ue.options.drop.overlap=Fe.overlap:m.default.number(Fe.overlap)&&(Ue.options.drop.overlap=Math.max(Math.min(1,Fe.overlap),0)),"accept"in Fe&&(Ue.options.drop.accept=Fe.accept),"checker"in Fe&&(Ue.options.drop.checker=Fe.checker),Ue}return m.default.bool(Fe)?(Ue.options.drop.enabled=Fe,Ue):Ue.options.drop}(this,Se)},V.prototype.dropCheck=function(Se,Ue,Fe,ot,Ft,Bt){return function(ei,wi,Pi,pi,Vi,qi,Ji){var sr=!1;if(!(Ji=Ji||ei.getRect(qi)))return!!ei.options.drop.checker&&ei.options.drop.checker(wi,Pi,sr,ei,qi,pi,Vi);var Hr=ei.options.drop.overlap;if(Hr==="pointer"){var Gr=(0,ye.default)(pi,Vi,"drag"),un=ct.getPageXY(wi);un.x+=Gr.x,un.y+=Gr.y;var _n=un.x>Ji.left&&un.x<Ji.right,ln=un.y>Ji.top&&un.y<Ji.bottom;sr=_n&&ln}var kn=pi.getRect(Vi);if(kn&&Hr==="center"){var ga=kn.left+kn.width/2,ja=kn.top+kn.height/2;sr=ga>=Ji.left&&ga<=Ji.right&&ja>=Ji.top&&ja<=Ji.bottom}return kn&&m.default.number(Hr)&&(sr=Math.max(0,Math.min(Ji.right,kn.right)-Math.max(Ji.left,kn.left))*Math.max(0,Math.min(Ji.bottom,kn.bottom)-Math.max(Ji.top,kn.top))/(kn.width*kn.height)>=Hr),ei.options.drop.checker&&(sr=ei.options.drop.checker(wi,Pi,sr,ei,qi,pi,Vi)),sr}(this,Se,Ue,Fe,ot,Ft,Bt)},z.dynamicDrop=function(Se){return m.default.bool(Se)?(T.dynamicDrop=Se,z):T.dynamicDrop},(0,W.default)(D.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),D.methodDict.drop="dropzone",T.dynamicDrop=!1,ne.actions.drop=It.defaults},listeners:{"interactions:before-action-start":function(T){var D=T.interaction;D.prepared.name==="drag"&&(D.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(T,D){var z=T.interaction,V=(T.event,T.iEvent);if(z.prepared.name==="drag"){var ne=z.dropState;ne.activeDrops=null,ne.events=null,ne.activeDrops=Rt(D,z.element),ne.events=ai(z,0,V),ne.events.activate&&(vt(ne.activeDrops,ne.events.activate),D.fire("actions/drop:start",{interaction:z,dragEvent:V}))}},"interactions:action-move":Mt,"interactions:after-action-move":function(T,D){var z=T.interaction,V=T.iEvent;z.prepared.name==="drag"&&(ui(z,z.dropState.events),D.fire("actions/drop:move",{interaction:z,dragEvent:V}),z.dropState.events={})},"interactions:action-end":function(T,D){if(T.interaction.prepared.name==="drag"){var z=T.interaction,V=T.iEvent;Mt(T,D),ui(z,z.dropState.events),D.fire("actions/drop:end",{interaction:z,dragEvent:V})}},"interactions:stop":function(T){var D=T.interaction;if(D.prepared.name==="drag"){var z=D.dropState;z&&(z.activeDrops=null,z.events=null,z.cur.dropzone=null,z.cur.element=null,z.prev.dropzone=null,z.prev.element=null,z.rejected=!1)}}},getActiveDrops:Rt,getDrop:ii,getDropEvents:ai,fireDropEvents:ui,defaults:{enabled:!1,accept:null,overlap:"pointer"}},Et=It;dt.default=Et;var Ct={};function St(T){var D=T.interaction,z=T.iEvent,V=T.phase;if(D.prepared.name==="gesture"){var ne=D.pointers.map(function(Ft){return Ft.pointer}),Se=V==="start",Ue=V==="end",Fe=D.interactable.options.deltaSource;if(z.touches=[ne[0],ne[1]],Se)z.distance=ct.touchDistance(ne,Fe),z.box=ct.touchBBox(ne),z.scale=1,z.ds=0,z.angle=ct.touchAngle(ne,Fe),z.da=0,D.gesture.startDistance=z.distance,D.gesture.startAngle=z.angle;else if(Ue){var ot=D.prevEvent;z.distance=ot.distance,z.box=ot.box,z.scale=ot.scale,z.ds=0,z.angle=ot.angle,z.da=0}else z.distance=ct.touchDistance(ne,Fe),z.box=ct.touchBBox(ne),z.scale=z.distance/D.gesture.startDistance,z.angle=ct.touchAngle(ne,Fe),z.ds=z.scale-D.gesture.scale,z.da=z.angle-D.gesture.angle;D.gesture.distance=z.distance,D.gesture.angle=z.angle,m.default.number(z.scale)&&z.scale!==1/0&&!isNaN(z.scale)&&(D.gesture.scale=z.scale)}}Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=void 0;var I={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(T){var D=T.actions,z=T.Interactable,V=T.defaults;z.prototype.gesturable=function(ne){return m.default.object(ne)?(this.options.gesture.enabled=ne.enabled!==!1,this.setPerAction("gesture",ne),this.setOnEvents("gesture",ne),this):m.default.bool(ne)?(this.options.gesture.enabled=ne,this):this.options.gesture},D.map.gesture=I,D.methodDict.gesture="gesturable",V.actions.gesture=I.defaults},listeners:{"interactions:action-start":St,"interactions:action-move":St,"interactions:action-end":St,"interactions:new":function(T){T.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(T){if(!(T.interaction.pointers.length<2)){var D=T.interactable.options.gesture;if(D&&D.enabled)return T.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},We=I;Ct.default=We;var ke={};function Ye(T,D,z,V,ne,Se,Ue){if(!D)return!1;if(D===!0){var Fe=m.default.number(Se.width)?Se.width:Se.right-Se.left,ot=m.default.number(Se.height)?Se.height:Se.bottom-Se.top;if(Ue=Math.min(Ue,Math.abs((T==="left"||T==="right"?Fe:ot)/2)),Fe<0&&(T==="left"?T="right":T==="right"&&(T="left")),ot<0&&(T==="top"?T="bottom":T==="bottom"&&(T="top")),T==="left"){var Ft=Fe>=0?Se.left:Se.right;return z.x<Ft+Ue}if(T==="top"){var Bt=ot>=0?Se.top:Se.bottom;return z.y<Bt+Ue}if(T==="right")return z.x>(Fe>=0?Se.right:Se.left)-Ue;if(T==="bottom")return z.y>(ot>=0?Se.bottom:Se.top)-Ue}return!!m.default.element(V)&&(m.default.element(D)?D===V:q.matchesUpTo(V,D,ne))}function Qe(T){var D=T.iEvent,z=T.interaction;if(z.prepared.name==="resize"&&z.resizeAxes){var V=D;z.interactable.options.resize.square?(z.resizeAxes==="y"?V.delta.x=V.delta.y:V.delta.y=V.delta.x,V.axes="xy"):(V.axes=z.resizeAxes,z.resizeAxes==="x"?V.delta.y=0:z.resizeAxes==="y"&&(V.delta.x=0))}}Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var ht={id:"actions/resize",before:["actions/drag"],install:function(T){var D=T.actions,z=T.browser,V=T.Interactable,ne=T.defaults;ht.cursors=function(Se){return Se.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(z),ht.defaultMargin=z.supportsTouch||z.supportsPointerEvent?20:10,V.prototype.resizable=function(Se){return function(Ue,Fe,ot){return m.default.object(Fe)?(Ue.options.resize.enabled=Fe.enabled!==!1,Ue.setPerAction("resize",Fe),Ue.setOnEvents("resize",Fe),m.default.string(Fe.axis)&&/^x$|^y$|^xy$/.test(Fe.axis)?Ue.options.resize.axis=Fe.axis:Fe.axis===null&&(Ue.options.resize.axis=ot.defaults.actions.resize.axis),m.default.bool(Fe.preserveAspectRatio)?Ue.options.resize.preserveAspectRatio=Fe.preserveAspectRatio:m.default.bool(Fe.square)&&(Ue.options.resize.square=Fe.square),Ue):m.default.bool(Fe)?(Ue.options.resize.enabled=Fe,Ue):Ue.options.resize}(this,Se,T)},D.map.resize=ht,D.methodDict.resize="resizable",ne.actions.resize=ht.defaults},listeners:{"interactions:new":function(T){T.interaction.resizeAxes="xy"},"interactions:action-start":function(T){(function(D){var z=D.iEvent,V=D.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var ne=z,Se=V.rect;V._rects={start:(0,W.default)({},Se),corrected:(0,W.default)({},Se),previous:(0,W.default)({},Se),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},ne.edges=V.prepared.edges,ne.rect=V._rects.corrected,ne.deltaRect=V._rects.delta}})(T),Qe(T)},"interactions:action-move":function(T){(function(D){var z=D.iEvent,V=D.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var ne=z,Se=V.interactable.options.resize.invert,Ue=Se==="reposition"||Se==="negate",Fe=V.rect,ot=V._rects,Ft=ot.start,Bt=ot.corrected,ei=ot.delta,wi=ot.previous;if((0,W.default)(wi,Bt),Ue){if((0,W.default)(Bt,Fe),Se==="reposition"){if(Bt.top>Bt.bottom){var Pi=Bt.top;Bt.top=Bt.bottom,Bt.bottom=Pi}if(Bt.left>Bt.right){var pi=Bt.left;Bt.left=Bt.right,Bt.right=pi}}}else Bt.top=Math.min(Fe.top,Ft.bottom),Bt.bottom=Math.max(Fe.bottom,Ft.top),Bt.left=Math.min(Fe.left,Ft.right),Bt.right=Math.max(Fe.right,Ft.left);for(var Vi in Bt.width=Bt.right-Bt.left,Bt.height=Bt.bottom-Bt.top,Bt)ei[Vi]=Bt[Vi]-wi[Vi];ne.edges=V.prepared.edges,ne.rect=Bt,ne.deltaRect=ei}})(T),Qe(T)},"interactions:action-end":function(T){var D=T.iEvent,z=T.interaction;if(z.prepared.name==="resize"&&z.prepared.edges){var V=D;V.edges=z.prepared.edges,V.rect=z._rects.corrected,V.deltaRect=z._rects.delta}},"auto-start:check":function(T){var D=T.interaction,z=T.interactable,V=T.element,ne=T.rect,Se=T.buttons;if(ne){var Ue=(0,W.default)({},D.coords.cur.page),Fe=z.options.resize;if(Fe&&Fe.enabled&&(!D.pointerIsDown||!/mouse|pointer/.test(D.pointerType)||Se&Fe.mouseButtons)){if(m.default.object(Fe.edges)){var ot={left:!1,right:!1,top:!1,bottom:!1};for(var Ft in ot)ot[Ft]=Ye(Ft,Fe.edges[Ft],Ue,D._latestPointer.eventTarget,V,ne,Fe.margin||ht.defaultMargin);ot.left=ot.left&&!ot.right,ot.top=ot.top&&!ot.bottom,(ot.left||ot.right||ot.top||ot.bottom)&&(T.action={name:"resize",edges:ot})}else{var Bt=Fe.axis!=="y"&&Ue.x>ne.right-ht.defaultMargin,ei=Fe.axis!=="x"&&Ue.y>ne.bottom-ht.defaultMargin;(Bt||ei)&&(T.action={name:"resize",axes:(Bt?"x":"")+(ei?"y":"")})}return!T.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(T){var D=T.edges,z=T.axis,V=T.name,ne=ht.cursors,Se=null;if(z)Se=ne[V+z];else if(D){for(var Ue="",Fe=["top","bottom","left","right"],ot=0;ot<Fe.length;ot++){var Ft=Fe[ot];D[Ft]&&(Ue+=Ft)}Se=ne[Ue]}return Se},defaultMargin:null},oe=ht;ke.default=oe;var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var ze={id:"actions",install:function(T){T.usePlugin(Ct.default),T.usePlugin(ke.default),T.usePlugin(S.default),T.usePlugin(dt.default)}};Le.default=ze;var yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=void 0;var ut,Tt,Ut=0,Jt={request:function(T){return ut(T)},cancel:function(T){return Tt(T)},init:function(T){if(ut=T.requestAnimationFrame,Tt=T.cancelAnimationFrame,!ut)for(var D=["ms","moz","webkit","o"],z=0;z<D.length;z++){var V=D[z];ut=T["".concat(V,"RequestAnimationFrame")],Tt=T["".concat(V,"CancelAnimationFrame")]||T["".concat(V,"CancelRequestAnimationFrame")]}ut=ut&&ut.bind(T),Tt=Tt&&Tt.bind(T),ut||(ut=function(ne){var Se=Date.now(),Ue=Math.max(0,16-(Se-Ut)),Fe=T.setTimeout(function(){ne(Se+Ue)},Ue);return Ut=Se+Ue,Fe},Tt=function(ne){return clearTimeout(ne)})}};yt.default=Jt;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=void 0,Lt.getContainer=Je,Lt.getScroll=Re,Lt.getScrollSize=function(T){return m.default.window(T)&&(T=window.document.body),{x:T.scrollWidth,y:T.scrollHeight}},Lt.getScrollSizeDelta=function(T,D){var z=T.interaction,V=T.element,ne=z&&z.interactable.options[z.prepared.name].autoScroll;if(!ne||!ne.enabled)return D(),{x:0,y:0};var Se=Je(ne.container,z.interactable,V),Ue=Re(Se);D();var Fe=Re(Se);return{x:Fe.x-Ue.x,y:Fe.y-Ue.y}};var jt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(T){jt.isScrolling=!0,yt.default.cancel(jt.i),T.autoScroll=jt,jt.interaction=T,jt.prevTime=jt.now(),jt.i=yt.default.request(jt.scroll)},stop:function(){jt.isScrolling=!1,jt.interaction&&(jt.interaction.autoScroll=null),yt.default.cancel(jt.i)},scroll:function(){var T=jt.interaction,D=T.interactable,z=T.element,V=T.prepared.name,ne=D.options[V].autoScroll,Se=Je(ne.container,D,z),Ue=jt.now(),Fe=(Ue-jt.prevTime)/1e3,ot=ne.speed*Fe;if(ot>=1){var Ft={x:jt.x*ot,y:jt.y*ot};if(Ft.x||Ft.y){var Bt=Re(Se);m.default.window(Se)?Se.scrollBy(Ft.x,Ft.y):Se&&(Se.scrollLeft+=Ft.x,Se.scrollTop+=Ft.y);var ei=Re(Se),wi={x:ei.x-Bt.x,y:ei.y-Bt.y};(wi.x||wi.y)&&D.fire({type:"autoscroll",target:z,interactable:D,delta:wi,interaction:T,container:Se})}jt.prevTime=Ue}jt.isScrolling&&(yt.default.cancel(jt.i),jt.i=yt.default.request(jt.scroll))},check:function(T,D){var z;return(z=T.options[D].autoScroll)==null?void 0:z.enabled},onInteractionMove:function(T){var D=T.interaction,z=T.pointer;if(D.interacting()&&jt.check(D.interactable,D.prepared.name))if(D.simulation)jt.x=jt.y=0;else{var V,ne,Se,Ue,Fe=D.interactable,ot=D.element,Ft=D.prepared.name,Bt=Fe.options[Ft].autoScroll,ei=Je(Bt.container,Fe,ot);if(m.default.window(ei))Ue=z.clientX<jt.margin,V=z.clientY<jt.margin,ne=z.clientX>ei.innerWidth-jt.margin,Se=z.clientY>ei.innerHeight-jt.margin;else{var wi=q.getElementClientRect(ei);Ue=z.clientX<wi.left+jt.margin,V=z.clientY<wi.top+jt.margin,ne=z.clientX>wi.right-jt.margin,Se=z.clientY>wi.bottom-jt.margin}jt.x=ne?1:Ue?-1:0,jt.y=Se?1:V?-1:0,jt.isScrolling||(jt.margin=Bt.margin,jt.speed=Bt.speed,jt.start(D))}}};function Je(T,D,z){return(m.default.string(T)?(0,ae.getStringOptionResult)(T,D,z):T)||(0,n.getWindow)(z)}function Re(T){return m.default.window(T)&&(T=window.document.body),{x:T.scrollLeft,y:T.scrollTop}}var Be={id:"auto-scroll",install:function(T){var D=T.defaults,z=T.actions;T.autoScroll=jt,jt.now=function(){return T.now()},z.phaselessTypes.autoscroll=!0,D.perAction.autoScroll=jt.defaults},listeners:{"interactions:new":function(T){T.interaction.autoScroll=null},"interactions:destroy":function(T){T.interaction.autoScroll=null,jt.stop(),jt.interaction&&(jt.interaction=null)},"interactions:stop":jt.stop,"interactions:action-move":function(T){return jt.onInteractionMove(T)}}},it=Be;Lt.default=it;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.copyAction=function(T,D){return T.name=D.name,T.axis=D.axis,T.edges=D.edges,T},Pt.sign=void 0,Pt.warnOnce=function(T,D){var z=!1;return function(){return z||(n.window.console.warn(D),z=!0),T.apply(this,arguments)}},Pt.sign=function(T){return T>=0?1:-1};var Ht={};function et(T){return m.default.bool(T)?(this.options.styleCursor=T,this):T===null?(delete this.options.styleCursor,this):this.options.styleCursor}function xt(T){return m.default.func(T)?(this.options.actionChecker=T,this):T===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0;var kt={id:"auto-start/interactableMethods",install:function(T){var D=T.Interactable;D.prototype.getAction=function(z,V,ne,Se){var Ue=function(Fe,ot,Ft,Bt,ei){var wi=Fe.getRect(Bt),Pi={action:null,interactable:Fe,interaction:Ft,element:Bt,rect:wi,buttons:ot.buttons||{0:1,1:4,3:8,4:16}[ot.button]};return ei.fire("auto-start:check",Pi),Pi.action}(this,V,ne,Se,T);return this.options.actionChecker?this.options.actionChecker(z,V,Ue,this,Se,ne):Ue},D.prototype.ignoreFrom=(0,Pt.warnOnce)(function(z){return this._backCompatOption("ignoreFrom",z)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),D.prototype.allowFrom=(0,Pt.warnOnce)(function(z){return this._backCompatOption("allowFrom",z)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),D.prototype.actionChecker=xt,D.prototype.styleCursor=et}};Ht.default=kt;var Xt={};function Xe(T,D,z,V,ne){return D.testIgnoreAllow(D.options[T.name],z,V)&&D.options[T.name].enabled&&qt(D,z,T,ne)?T:null}function ni(T,D,z,V,ne,Se,Ue){for(var Fe=0,ot=V.length;Fe<ot;Fe++){var Ft=V[Fe],Bt=ne[Fe],ei=Ft.getAction(D,z,T,Bt);if(ei){var wi=Xe(ei,Ft,Bt,Se,Ue);if(wi)return{action:wi,interactable:Ft,element:Bt}}}return{action:null,interactable:null,element:null}}function ti(T,D,z,V,ne){var Se=[],Ue=[],Fe=V;function ot(Bt){Se.push(Bt),Ue.push(Fe)}for(;m.default.element(Fe);){Se=[],Ue=[],ne.interactables.forEachMatch(Fe,ot);var Ft=ni(T,D,z,Se,Ue,V,ne);if(Ft.action&&!Ft.interactable.options[Ft.action.name].manualStart)return Ft;Fe=q.parentNode(Fe)}return{action:null,interactable:null,element:null}}function Ai(T,D,z){var V=D.action,ne=D.interactable,Se=D.element;V=V||{name:null},T.interactable=ne,T.element=Se,(0,Pt.copyAction)(T.prepared,V),T.rect=ne&&V.name?ne.getRect(Se):null,Mi(T,z),z.fire("autoStart:prepared",{interaction:T})}function qt(T,D,z,V){var ne=T.options,Se=ne[z.name].max,Ue=ne[z.name].maxPerElement,Fe=V.autoStart.maxInteractions,ot=0,Ft=0,Bt=0;if(!(Se&&Ue&&Fe))return!1;for(var ei=0;ei<V.interactions.list.length;ei++){var wi=V.interactions.list[ei],Pi=wi.prepared.name;if(wi.interacting()&&(++ot>=Fe||wi.interactable===T&&((Ft+=Pi===z.name?1:0)>=Se||wi.element===D&&(Bt++,Pi===z.name&&Bt>=Ue))))return!1}return Fe>0}function ci(T,D){return m.default.number(T)?(D.autoStart.maxInteractions=T,this):D.autoStart.maxInteractions}function Ti(T,D,z){var V=z.autoStart.cursorElement;V&&V!==T&&(V.style.cursor=""),T.ownerDocument.documentElement.style.cursor=D,T.style.cursor=D,z.autoStart.cursorElement=D?T:null}function Mi(T,D){var z=T.interactable,V=T.element,ne=T.prepared;if(T.pointerType==="mouse"&&z&&z.options.styleCursor){var Se="";if(ne.name){var Ue=z.options[ne.name].cursorChecker;Se=m.default.func(Ue)?Ue(ne,z,V,T._interacting):D.actions.map[ne.name].getCursor(ne)}Ti(T.element,Se||"",D)}else D.autoStart.cursorElement&&Ti(D.autoStart.cursorElement,"",D)}Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=void 0;var ir={id:"auto-start/base",before:["actions"],install:function(T){var D=T.interactStatic,z=T.defaults;T.usePlugin(Ht.default),z.base.actionChecker=null,z.base.styleCursor=!0,(0,W.default)(z.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),D.maxInteractions=function(V){return ci(V,T)},T.autoStart={maxInteractions:1/0,withinInteractionLimit:qt,cursorElement:null}},listeners:{"interactions:down":function(T,D){var z=T.interaction,V=T.pointer,ne=T.event,Se=T.eventTarget;z.interacting()||Ai(z,ti(z,V,ne,Se,D),D)},"interactions:move":function(T,D){(function(z,V){var ne=z.interaction,Se=z.pointer,Ue=z.event,Fe=z.eventTarget;ne.pointerType!=="mouse"||ne.pointerIsDown||ne.interacting()||Ai(ne,ti(ne,Se,Ue,Fe,V),V)})(T,D),function(z,V){var ne=z.interaction;if(ne.pointerIsDown&&!ne.interacting()&&ne.pointerWasMoved&&ne.prepared.name){V.fire("autoStart:before-start",z);var Se=ne.interactable,Ue=ne.prepared.name;Ue&&Se&&(Se.options[Ue].manualStart||!qt(Se,ne.element,ne.prepared,V)?ne.stop():(ne.start(ne.prepared,Se,ne.element),Mi(ne,V)))}}(T,D)},"interactions:stop":function(T,D){var z=T.interaction,V=z.interactable;V&&V.options.styleCursor&&Ti(z.element,"",D)}},maxInteractions:ci,withinInteractionLimit:qt,validateAction:Xe},Ki=ir;Xt.default=Ki;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.default=void 0;var Sr={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(T,D){var z=T.interaction,V=T.eventTarget,ne=T.dx,Se=T.dy;if(z.prepared.name==="drag"){var Ue=Math.abs(ne),Fe=Math.abs(Se),ot=z.interactable.options.drag,Ft=ot.startAxis,Bt=Ue>Fe?"x":Ue<Fe?"y":"xy";if(z.prepared.axis=ot.lockAxis==="start"?Bt[0]:ot.lockAxis,Bt!=="xy"&&Ft!=="xy"&&Ft!==Bt){z.prepared.name=null;for(var ei=V,wi=function(pi){if(pi!==z.interactable){var Vi=z.interactable.options.drag;if(!Vi.manualStart&&pi.testIgnoreAllow(Vi,ei,V)){var qi=pi.getAction(z.downPointer,z.downEvent,z,ei);if(qi&&qi.name==="drag"&&function(Ji,sr){if(!sr)return!1;var Hr=sr.options.drag.startAxis;return Ji==="xy"||Hr==="xy"||Hr===Ji}(Bt,pi)&&Xt.default.validateAction(qi,pi,ei,V,D))return pi}}};m.default.element(ei);){var Pi=D.interactables.forEachMatch(ei,wi);if(Pi){z.prepared.name="drag",z.interactable=Pi,z.element=ei;break}ei=(0,q.parentNode)(ei)}}}}}};Gi.default=Sr;var tr={};function yr(T){var D=T.prepared&&T.prepared.name;if(!D)return null;var z=T.interactable.options;return z[D].hold||z[D].delay}Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0;var _r={id:"auto-start/hold",install:function(T){var D=T.defaults;T.usePlugin(Xt.default),D.perAction.hold=0,D.perAction.delay=0},listeners:{"interactions:new":function(T){T.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(T){var D=T.interaction,z=yr(D);z>0&&(D.autoStartHoldTimer=setTimeout(function(){D.start(D.prepared,D.interactable,D.element)},z))},"interactions:move":function(T){var D=T.interaction,z=T.duplicate;D.autoStartHoldTimer&&D.pointerWasMoved&&!z&&(clearTimeout(D.autoStartHoldTimer),D.autoStartHoldTimer=null)},"autoStart:before-start":function(T){var D=T.interaction;yr(D)>0&&(D.prepared.name=null)}},getHoldDuration:yr},Pr=_r;tr.default=Pr;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.default=void 0;var cn={id:"auto-start",install:function(T){T.usePlugin(Xt.default),T.usePlugin(tr.default),T.usePlugin(Gi.default)}};Jr.default=cn;var $r={};function jr(T){return/^(always|never|auto)$/.test(T)?(this.options.preventDefault=T,this):m.default.bool(T)?(this.options.preventDefault=T?"always":"never",this):this.options.preventDefault}function Yr(T){var D=T.interaction,z=T.event;D.interactable&&D.interactable.checkAndPreventDefault(z)}function Wr(T){var D=T.Interactable;D.prototype.preventDefault=jr,D.prototype.checkAndPreventDefault=function(z){return function(V,ne,Se){var Ue=V.options.preventDefault;if(Ue!=="never")if(Ue!=="always"){if(ne.events.supportsPassive&&/^touch(start|move)$/.test(Se.type)){var Fe=(0,n.getWindow)(Se.target).document,ot=ne.getDocOptions(Fe);if(!ot||!ot.events||ot.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(Se.type)||m.default.element(Se.target)&&(0,q.matchesSelector)(Se.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||Se.preventDefault()}else Se.preventDefault()}(this,T,z)},T.interactions.docEvents.push({type:"dragstart",listener:function(z){for(var V=0;V<T.interactions.list.length;V++){var ne=T.interactions.list[V];if(ne.element&&(ne.element===z.target||(0,q.nodeContains)(ne.element,z.target)))return void ne.interactable.checkAndPreventDefault(z)}}})}Object.defineProperty($r,"__esModule",{value:!0}),$r.default=void 0,$r.install=Wr;var ve={id:"core/interactablePreventDefault",install:Wr,listeners:["down","move","up","cancel"].reduce(function(T,D){return T["interactions:".concat(D)]=Yr,T},{})};$r.default=ve;var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0,he.default={};var B,be={};Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0,function(T){T.touchAction="touchAction",T.boxSizing="boxSizing",T.noListeners="noListeners"}(B||(B={})),B.touchAction,B.boxSizing,B.noListeners,be.default={id:"dev-tools",install:function(){}};var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function T(D){var z={};for(var V in D){var ne=D[V];m.default.plainObject(ne)?z[V]=T(ne):m.default.array(ne)?z[V]=J.from(ne):z[V]=ne}return z};var $t={};function zt(T,D){return function(z){if(Array.isArray(z))return z}(T)||function(z,V){var ne=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(ne!=null){var Se,Ue,Fe=[],ot=!0,Ft=!1;try{for(ne=ne.call(z);!(ot=(Se=ne.next()).done)&&(Fe.push(Se.value),!V||Fe.length!==V);ot=!0);}catch(Bt){Ft=!0,Ue=Bt}finally{try{ot||ne.return==null||ne.return()}finally{if(Ft)throw Ue}}return Fe}}(T,D)||function(z,V){if(z){if(typeof z=="string")return gi(z,V);var ne=Object.prototype.toString.call(z).slice(8,-1);return ne==="Object"&&z.constructor&&(ne=z.constructor.name),ne==="Map"||ne==="Set"?Array.from(z):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?gi(z,V):void 0}}(T,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gi(T,D){(D==null||D>T.length)&&(D=T.length);for(var z=0,V=Array(D);z<D;z++)V[z]=T[z];return V}function fi(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=void 0,$t.getRectOffset=or;var zi=function(){function T(V){(function(ne,Se){if(!(ne instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,T),fi(this,"states",[]),fi(this,"startOffset",{left:0,right:0,top:0,bottom:0}),fi(this,"startDelta",void 0),fi(this,"result",void 0),fi(this,"endResult",void 0),fi(this,"startEdges",void 0),fi(this,"edges",void 0),fi(this,"interaction",void 0),this.interaction=V,this.result=hr(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var D,z;return D=T,(z=[{key:"start",value:function(V,ne){var Se=V.phase,Ue=this.interaction,Fe=function(Ft){var Bt=Ft.interactable.options[Ft.prepared.name],ei=Bt.modifiers;return ei&&ei.length?ei:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(wi){var Pi=Bt[wi];return Pi&&Pi.enabled&&{options:Pi,methods:Pi._methods}}).filter(function(wi){return!!wi})}(Ue);this.prepareStates(Fe),this.startEdges=(0,W.default)({},Ue.edges),this.edges=(0,W.default)({},this.startEdges),this.startOffset=or(Ue.rect,ne),this.startDelta={x:0,y:0};var ot=this.fillArg({phase:Se,pageCoords:ne,preEnd:!1});return this.result=hr(),this.startAll(ot),this.result=this.setAll(ot)}},{key:"fillArg",value:function(V){var ne=this.interaction;return V.interaction=ne,V.interactable=ne.interactable,V.element=ne.element,V.rect||(V.rect=ne.rect),V.edges||(V.edges=this.startEdges),V.startOffset=this.startOffset,V}},{key:"startAll",value:function(V){for(var ne=0;ne<this.states.length;ne++){var Se=this.states[ne];Se.methods.start&&(V.state=Se,Se.methods.start(V))}}},{key:"setAll",value:function(V){var ne=V.phase,Se=V.preEnd,Ue=V.skipModifiers,Fe=V.rect,ot=V.edges;V.coords=(0,W.default)({},V.pageCoords),V.rect=(0,W.default)({},Fe),V.edges=(0,W.default)({},ot);for(var Ft=Ue?this.states.slice(Ue):this.states,Bt=hr(V.coords,V.rect),ei=0;ei<Ft.length;ei++){var wi,Pi=Ft[ei],pi=Pi.options,Vi=(0,W.default)({},V.coords),qi=null;(wi=Pi.methods)!=null&&wi.set&&this.shouldDo(pi,Se,ne)&&(V.state=Pi,qi=Pi.methods.set(V),ae.addEdges(V.edges,V.rect,{x:V.coords.x-Vi.x,y:V.coords.y-Vi.y})),Bt.eventProps.push(qi)}(0,W.default)(this.edges,V.edges),Bt.delta.x=V.coords.x-V.pageCoords.x,Bt.delta.y=V.coords.y-V.pageCoords.y,Bt.rectDelta.left=V.rect.left-Fe.left,Bt.rectDelta.right=V.rect.right-Fe.right,Bt.rectDelta.top=V.rect.top-Fe.top,Bt.rectDelta.bottom=V.rect.bottom-Fe.bottom;var Ji=this.result.coords,sr=this.result.rect;if(Ji&&sr){var Hr=Bt.rect.left!==sr.left||Bt.rect.right!==sr.right||Bt.rect.top!==sr.top||Bt.rect.bottom!==sr.bottom;Bt.changed=Hr||Ji.x!==Bt.coords.x||Ji.y!==Bt.coords.y}return Bt}},{key:"applyToInteraction",value:function(V){var ne=this.interaction,Se=V.phase,Ue=ne.coords.cur,Fe=ne.coords.start,ot=this.result,Ft=this.startDelta,Bt=ot.delta;Se==="start"&&(0,W.default)(this.startDelta,ot.delta);for(var ei=0;ei<2;ei++){var wi=zt([[Fe,Ft],[Ue,Bt]][ei],2),Pi=wi[0],pi=wi[1];Pi.page.x+=pi.x,Pi.page.y+=pi.y,Pi.client.x+=pi.x,Pi.client.y+=pi.y}var Vi=this.result.rectDelta,qi=V.rect||ne.rect;qi.left+=Vi.left,qi.right+=Vi.right,qi.top+=Vi.top,qi.bottom+=Vi.bottom,qi.width=qi.right-qi.left,qi.height=qi.bottom-qi.top}},{key:"setAndApply",value:function(V){var ne=this.interaction,Se=V.phase,Ue=V.preEnd,Fe=V.skipModifiers,ot=this.setAll(this.fillArg({preEnd:Ue,phase:Se,pageCoords:V.modifiedCoords||ne.coords.cur.page}));if(this.result=ot,!ot.changed&&(!Fe||Fe<this.states.length)&&ne.interacting())return!1;if(V.modifiedCoords){var Ft=ne.coords.cur.page,Bt={x:V.modifiedCoords.x-Ft.x,y:V.modifiedCoords.y-Ft.y};ot.coords.x+=Bt.x,ot.coords.y+=Bt.y,ot.delta.x+=Bt.x,ot.delta.y+=Bt.y}this.applyToInteraction(V)}},{key:"beforeEnd",value:function(V){var ne=V.interaction,Se=V.event,Ue=this.states;if(Ue&&Ue.length){for(var Fe=!1,ot=0;ot<Ue.length;ot++){var Ft=Ue[ot];V.state=Ft;var Bt=Ft.options,ei=Ft.methods,wi=ei.beforeEnd&&ei.beforeEnd(V);if(wi)return this.endResult=wi,!1;Fe=Fe||!Fe&&this.shouldDo(Bt,!0,V.phase,!0)}Fe&&ne.move({event:Se,preEnd:!0})}}},{key:"stop",value:function(V){var ne=V.interaction;if(this.states&&this.states.length){var Se=(0,W.default)({states:this.states,interactable:ne.interactable,element:ne.element,rect:null},V);this.fillArg(Se);for(var Ue=0;Ue<this.states.length;Ue++){var Fe=this.states[Ue];Se.state=Fe,Fe.methods.stop&&Fe.methods.stop(Se)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(V){this.states=[];for(var ne=0;ne<V.length;ne++){var Se=V[ne],Ue=Se.options,Fe=Se.methods,ot=Se.name;this.states.push({options:Ue,methods:Fe,index:ne,name:ot})}return this.states}},{key:"restoreInteractionCoords",value:function(V){var ne=V.interaction,Se=ne.coords,Ue=ne.rect,Fe=ne.modification;if(Fe.result){for(var ot=Fe.startDelta,Ft=Fe.result,Bt=Ft.delta,ei=Ft.rectDelta,wi=[[Se.start,ot],[Se.cur,Bt]],Pi=0;Pi<wi.length;Pi++){var pi=zt(wi[Pi],2),Vi=pi[0],qi=pi[1];Vi.page.x-=qi.x,Vi.page.y-=qi.y,Vi.client.x-=qi.x,Vi.client.y-=qi.y}Ue.left-=ei.left,Ue.right-=ei.right,Ue.top-=ei.top,Ue.bottom-=ei.bottom}}},{key:"shouldDo",value:function(V,ne,Se,Ue){return!(!V||V.enabled===!1||Ue&&!V.endOnly||V.endOnly&&!ne||Se==="start"&&!V.setStart)}},{key:"copyFrom",value:function(V){this.startOffset=V.startOffset,this.startDelta=V.startDelta,this.startEdges=V.startEdges,this.edges=V.edges,this.states=V.states.map(function(ne){return(0,_e.default)(ne)}),this.result=hr((0,W.default)({},V.result.coords),(0,W.default)({},V.result.rect))}},{key:"destroy",value:function(){for(var V in this)this[V]=null}}])&&function(V,ne){for(var Se=0;Se<ne.length;Se++){var Ue=ne[Se];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(V,Ue.key,Ue)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),T}();function hr(T,D){return{rect:D,coords:T,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function or(T,D){return T?{left:D.x-T.left,top:D.y-T.top,right:T.right-D.x,bottom:T.bottom-D.y}:{left:0,top:0,right:0,bottom:0}}$t.default=zi;var Vr={};function ue(T){var D=T.iEvent,z=T.interaction.modification.result;z&&(D.modifiers=z.eventProps)}Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.addEventModifiers=ue,Vr.default=void 0,Vr.makeModifier=function(T,D){var z=T.defaults,V={start:T.start,set:T.set,beforeEnd:T.beforeEnd,stop:T.stop},ne=function(Se){var Ue=Se||{};for(var Fe in Ue.enabled=Ue.enabled!==!1,z)Fe in Ue||(Ue[Fe]=z[Fe]);var ot={options:Ue,methods:V,name:D,enable:function(){return Ue.enabled=!0,ot},disable:function(){return Ue.enabled=!1,ot}};return ot};return D&&typeof D=="string"&&(ne._defaults=z,ne._methods=V),ne};var In={id:"modifiers/base",before:["actions"],install:function(T){T.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(T){var D=T.interaction;D.modification=new $t.default(D)},"interactions:before-action-start":function(T){var D=T.interaction,z=T.interaction.modification;z.start(T,D.coords.start.page),D.edges=z.edges,z.applyToInteraction(T)},"interactions:before-action-move":function(T){var D=T.interaction,z=D.modification,V=z.setAndApply(T);return D.edges=z.edges,V},"interactions:before-action-end":function(T){var D=T.interaction,z=D.modification,V=z.beforeEnd(T);return D.edges=z.startEdges,V},"interactions:action-start":ue,"interactions:action-move":ue,"interactions:action-end":ue,"interactions:after-action-start":function(T){return T.interaction.modification.restoreInteractionCoords(T)},"interactions:after-action-move":function(T){return T.interaction.modification.restoreInteractionCoords(T)},"interactions:stop":function(T){return T.interaction.modification.stop(T)}}},bn=In;Vr.default=bn;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.defaults=void 0,Cn.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var wn={};function di(T){return di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},di(T)}function Si(T,D){return Si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},Si(T,D)}function vi(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function rr(T){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},rr(T)}function ar(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty(wn,"__esModule",{value:!0}),wn.InteractEvent=void 0;var En=function(T){(function(Fe,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(ot&&ot.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),ot&&Si(Fe,ot)})(Ue,T);var D,z,V,ne,Se=(V=Ue,ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var Fe,ot=rr(V);if(ne){var Ft=rr(this).constructor;Fe=Reflect.construct(ot,arguments,Ft)}else Fe=ot.apply(this,arguments);return function(Bt,ei){if(ei&&(di(ei)==="object"||typeof ei=="function"))return ei;if(ei!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vi(Bt)}(this,Fe)});function Ue(Fe,ot,Ft,Bt,ei,wi,Pi){var pi;(function(_n,ln){if(!(_n instanceof ln))throw new TypeError("Cannot call a class as a function")})(this,Ue),ar(vi(pi=Se.call(this,Fe)),"relatedTarget",null),ar(vi(pi),"screenX",void 0),ar(vi(pi),"screenY",void 0),ar(vi(pi),"button",void 0),ar(vi(pi),"buttons",void 0),ar(vi(pi),"ctrlKey",void 0),ar(vi(pi),"shiftKey",void 0),ar(vi(pi),"altKey",void 0),ar(vi(pi),"metaKey",void 0),ar(vi(pi),"page",void 0),ar(vi(pi),"client",void 0),ar(vi(pi),"delta",void 0),ar(vi(pi),"rect",void 0),ar(vi(pi),"x0",void 0),ar(vi(pi),"y0",void 0),ar(vi(pi),"t0",void 0),ar(vi(pi),"dt",void 0),ar(vi(pi),"duration",void 0),ar(vi(pi),"clientX0",void 0),ar(vi(pi),"clientY0",void 0),ar(vi(pi),"velocity",void 0),ar(vi(pi),"speed",void 0),ar(vi(pi),"swipe",void 0),ar(vi(pi),"axes",void 0),ar(vi(pi),"preEnd",void 0),ei=ei||Fe.element;var Vi=Fe.interactable,qi=(Vi&&Vi.options||Cn.defaults).deltaSource,Ji=(0,ye.default)(Vi,ei,Ft),sr=Bt==="start",Hr=Bt==="end",Gr=sr?vi(pi):Fe.prevEvent,un=sr?Fe.coords.start:Hr?{page:Gr.page,client:Gr.client,timeStamp:Fe.coords.cur.timeStamp}:Fe.coords.cur;return pi.page=(0,W.default)({},un.page),pi.client=(0,W.default)({},un.client),pi.rect=(0,W.default)({},Fe.rect),pi.timeStamp=un.timeStamp,Hr||(pi.page.x-=Ji.x,pi.page.y-=Ji.y,pi.client.x-=Ji.x,pi.client.y-=Ji.y),pi.ctrlKey=ot.ctrlKey,pi.altKey=ot.altKey,pi.shiftKey=ot.shiftKey,pi.metaKey=ot.metaKey,pi.button=ot.button,pi.buttons=ot.buttons,pi.target=ei,pi.currentTarget=ei,pi.preEnd=wi,pi.type=Pi||Ft+(Bt||""),pi.interactable=Vi,pi.t0=sr?Fe.pointers[Fe.pointers.length-1].downTime:Gr.t0,pi.x0=Fe.coords.start.page.x-Ji.x,pi.y0=Fe.coords.start.page.y-Ji.y,pi.clientX0=Fe.coords.start.client.x-Ji.x,pi.clientY0=Fe.coords.start.client.y-Ji.y,pi.delta=sr||Hr?{x:0,y:0}:{x:pi[qi].x-Gr[qi].x,y:pi[qi].y-Gr[qi].y},pi.dt=Fe.coords.delta.timeStamp,pi.duration=pi.timeStamp-pi.t0,pi.velocity=(0,W.default)({},Fe.coords.velocity[qi]),pi.speed=(0,Ze.default)(pi.velocity.x,pi.velocity.y),pi.swipe=Hr||Bt==="inertiastart"?pi.getSwipe():null,pi}return D=Ue,(z=[{key:"getSwipe",value:function(){var Fe=this._interaction;if(Fe.prevEvent.speed<600||this.timeStamp-Fe.prevEvent.timeStamp>150)return null;var ot=180*Math.atan2(Fe.prevEvent.velocityY,Fe.prevEvent.velocityX)/Math.PI;ot<0&&(ot+=360);var Ft=112.5<=ot&&ot<247.5,Bt=202.5<=ot&&ot<337.5;return{up:Bt,down:!Bt&&22.5<=ot&&ot<157.5,left:Ft,right:!Ft&&(292.5<=ot||ot<67.5),angle:ot,speed:Fe.prevEvent.speed,velocity:{x:Fe.prevEvent.velocityX,y:Fe.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(Fe,ot){for(var Ft=0;Ft<ot.length;Ft++){var Bt=ot[Ft];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Fe,Bt.key,Bt)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),Ue}(rt.BaseEvent);wn.InteractEvent=En,Object.defineProperties(En.prototype,{pageX:{get:function(){return this.page.x},set:function(T){this.page.x=T}},pageY:{get:function(){return this.page.y},set:function(T){this.page.y=T}},clientX:{get:function(){return this.client.x},set:function(T){this.client.x=T}},clientY:{get:function(){return this.client.y},set:function(T){this.client.y=T}},dx:{get:function(){return this.delta.x},set:function(T){this.delta.x=T}},dy:{get:function(){return this.delta.y},set:function(T){this.delta.y=T}},velocityX:{get:function(){return this.velocity.x},set:function(T){this.velocity.x=T}},velocityY:{get:function(){return this.velocity.y},set:function(T){this.velocity.y=T}}});var vn={};function bo(T,D){for(var z=0;z<D.length;z++){var V=D[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(T,V.key,V)}}function ho(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty(vn,"__esModule",{value:!0}),vn.PointerInfo=void 0;var is=function(T,D,z){return D&&bo(T.prototype,D),z&&bo(T,z),Object.defineProperty(T,"prototype",{writable:!1}),T}(function T(D,z,V,ne,Se){(function(Ue,Fe){if(!(Ue instanceof Fe))throw new TypeError("Cannot call a class as a function")})(this,T),ho(this,"id",void 0),ho(this,"pointer",void 0),ho(this,"event",void 0),ho(this,"downTime",void 0),ho(this,"downTarget",void 0),this.id=D,this.pointer=z,this.event=V,this.downTime=ne,this.downTarget=Se});vn.PointerInfo=is;var pa,Eo,Rn={};function en(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.Interaction=void 0,Object.defineProperty(Rn,"PointerInfo",{enumerable:!0,get:function(){return vn.PointerInfo}}),Rn.default=Rn._ProxyValues=Rn._ProxyMethods=void 0,Rn._ProxyValues=pa,function(T){T.interactable="",T.element="",T.prepared="",T.pointerIsDown="",T.pointerWasMoved="",T._proxy=""}(pa||(Rn._ProxyValues=pa={})),Rn._ProxyMethods=Eo,function(T){T.start="",T.move="",T.end="",T.stop="",T.interacting=""}(Eo||(Rn._ProxyMethods=Eo={}));var po=0,To=function(){function T(V){var ne=this,Se=V.pointerType,Ue=V.scopeFire;(function(wi,Pi){if(!(wi instanceof Pi))throw new TypeError("Cannot call a class as a function")})(this,T),en(this,"interactable",null),en(this,"element",null),en(this,"rect",null),en(this,"_rects",void 0),en(this,"edges",null),en(this,"_scopeFire",void 0),en(this,"prepared",{name:null,axis:null,edges:null}),en(this,"pointerType",void 0),en(this,"pointers",[]),en(this,"downEvent",null),en(this,"downPointer",{}),en(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),en(this,"prevEvent",null),en(this,"pointerIsDown",!1),en(this,"pointerWasMoved",!1),en(this,"_interacting",!1),en(this,"_ending",!1),en(this,"_stopped",!0),en(this,"_proxy",null),en(this,"simulation",null),en(this,"doMove",(0,Pt.warnOnce)(function(wi){this.move(wi)},"The interaction.doMove() method has been renamed to interaction.move()")),en(this,"coords",{start:ct.newCoords(),prev:ct.newCoords(),cur:ct.newCoords(),delta:ct.newCoords(),velocity:ct.newCoords()}),en(this,"_id",po++),this._scopeFire=Ue,this.pointerType=Se;var Fe=this;this._proxy={};var ot=function(wi){Object.defineProperty(ne._proxy,wi,{get:function(){return Fe[wi]}})};for(var Ft in pa)ot(Ft);var Bt=function(wi){Object.defineProperty(ne._proxy,wi,{value:function(){return Fe[wi].apply(Fe,arguments)}})};for(var ei in Eo)Bt(ei);this._scopeFire("interactions:new",{interaction:this})}var D,z;return D=T,z=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(V,ne,Se){var Ue=this.updatePointer(V,ne,Se,!0),Fe=this.pointers[Ue];this._scopeFire("interactions:down",{pointer:V,event:ne,eventTarget:Se,pointerIndex:Ue,pointerInfo:Fe,type:"down",interaction:this})}},{key:"start",value:function(V,ne,Se){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(V.name==="gesture"?2:1)||!ne.options[V.name].enabled)&&((0,Pt.copyAction)(this.prepared,V),this.interactable=ne,this.element=Se,this.rect=ne.getRect(Se),this.edges=this.prepared.edges?(0,W.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(V,ne,Se){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(V,ne,Se,!1);var Ue,Fe,ot=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(Ue=this.coords.cur.client.x-this.coords.start.client.x,Fe=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,Ze.default)(Ue,Fe)>this.pointerMoveTolerance);var Ft=this.getPointerIndex(V),Bt={pointer:V,pointerIndex:Ft,pointerInfo:this.pointers[Ft],event:ne,type:"move",eventTarget:Se,dx:Ue,dy:Fe,duplicate:ot,interaction:this};ot||ct.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",Bt),ot||this.simulation||(this.interacting()&&(Bt.type=null,this.move(Bt)),this.pointerWasMoved&&ct.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(V){V&&V.event||ct.setZeroCoords(this.coords.delta),(V=(0,W.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},V||{})).phase="move",this._doPhase(V)}},{key:"pointerUp",value:function(V,ne,Se,Ue){var Fe=this.getPointerIndex(V);Fe===-1&&(Fe=this.updatePointer(V,ne,Se,!1));var ot=/cancel$/i.test(ne.type)?"cancel":"up";this._scopeFire("interactions:".concat(ot),{pointer:V,pointerIndex:Fe,pointerInfo:this.pointers[Fe],event:ne,eventTarget:Se,type:ot,curEventTarget:Ue,interaction:this}),this.simulation||this.end(ne),this.removePointer(V,ne)}},{key:"documentBlur",value:function(V){this.end(V),this._scopeFire("interactions:blur",{event:V,type:"blur",interaction:this})}},{key:"end",value:function(V){var ne;this._ending=!0,V=V||this._latestPointer.event,this.interacting()&&(ne=this._doPhase({event:V,interaction:this,phase:"end"})),this._ending=!1,ne===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(V){var ne=ct.getPointerId(V);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:J.findIndex(this.pointers,function(Se){return Se.id===ne})}},{key:"getPointerInfo",value:function(V){return this.pointers[this.getPointerIndex(V)]}},{key:"updatePointer",value:function(V,ne,Se,Ue){var Fe=ct.getPointerId(V),ot=this.getPointerIndex(V),Ft=this.pointers[ot];return Ue=Ue!==!1&&(Ue||/(down|start)$/i.test(ne.type)),Ft?Ft.pointer=V:(Ft=new vn.PointerInfo(Fe,V,ne,null,null),ot=this.pointers.length,this.pointers.push(Ft)),ct.setCoords(this.coords.cur,this.pointers.map(function(Bt){return Bt.pointer}),this._now()),ct.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),Ue&&(this.pointerIsDown=!0,Ft.downTime=this.coords.cur.timeStamp,Ft.downTarget=Se,ct.pointerExtend(this.downPointer,V),this.interacting()||(ct.copyCoords(this.coords.start,this.coords.cur),ct.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=ne,this.pointerWasMoved=!1)),this._updateLatestPointer(V,ne,Se),this._scopeFire("interactions:update-pointer",{pointer:V,event:ne,eventTarget:Se,down:Ue,pointerInfo:Ft,pointerIndex:ot,interaction:this}),ot}},{key:"removePointer",value:function(V,ne){var Se=this.getPointerIndex(V);if(Se!==-1){var Ue=this.pointers[Se];this._scopeFire("interactions:remove-pointer",{pointer:V,event:ne,eventTarget:null,pointerIndex:Se,pointerInfo:Ue,interaction:this}),this.pointers.splice(Se,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(V,ne,Se){this._latestPointer.pointer=V,this._latestPointer.event=ne,this._latestPointer.eventTarget=Se}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(V,ne,Se,Ue){return new wn.InteractEvent(this,V,this.prepared.name,ne,this.element,Se,Ue)}},{key:"_fireEvent",value:function(V){var ne;(ne=this.interactable)==null||ne.fire(V),(!this.prevEvent||V.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=V)}},{key:"_doPhase",value:function(V){var ne=V.event,Se=V.phase,Ue=V.preEnd,Fe=V.type,ot=this.rect;if(ot&&Se==="move"&&(ae.addEdges(this.edges,ot,this.coords.delta[this.interactable.options.deltaSource]),ot.width=ot.right-ot.left,ot.height=ot.bottom-ot.top),this._scopeFire("interactions:before-action-".concat(Se),V)===!1)return!1;var Ft=V.iEvent=this._createPreparedEvent(ne,Se,Ue,Fe);return this._scopeFire("interactions:action-".concat(Se),V),Se==="start"&&(this.prevEvent=Ft),this._fireEvent(Ft),this._scopeFire("interactions:after-action-".concat(Se),V),!0}},{key:"_now",value:function(){return Date.now()}}],z&&function(V,ne){for(var Se=0;Se<ne.length;Se++){var Ue=ne[Se];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(V,Ue.key,Ue)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),T}();Rn.Interaction=To;var fa=To;Rn.default=fa;var Zn={};function La(T){T.pointerIsDown&&(zo(T.coords.cur,T.offset.total),T.offset.pending.x=0,T.offset.pending.y=0)}function rs(T){Oa(T.interaction)}function Oa(T){if(!function(z){return!(!z.offset.pending.x&&!z.offset.pending.y)}(T))return!1;var D=T.offset.pending;return zo(T.coords.cur,D),zo(T.coords.delta,D),ae.addEdges(T.edges,T.rect,D),D.x=0,D.y=0,!0}function lo(T){var D=T.x,z=T.y;this.offset.pending.x+=D,this.offset.pending.y+=z,this.offset.total.x+=D,this.offset.total.y+=z}function zo(T,D){var z=T.page,V=T.client,ne=D.x,Se=D.y;z.x+=ne,z.y+=Se,V.x+=ne,V.y+=Se}Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.addTotal=La,Zn.applyPending=Oa,Zn.default=void 0,Rn._ProxyMethods.offsetBy="";var Go={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(T){T.Interaction.prototype.offsetBy=lo},listeners:{"interactions:new":function(T){T.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(T){return La(T.interaction)},"interactions:before-action-start":rs,"interactions:before-action-move":rs,"interactions:before-action-end":function(T){var D=T.interaction;if(Oa(D))return D.move({offset:!0}),D.end(),!1},"interactions:stop":function(T){var D=T.interaction;D.offset.total.x=0,D.offset.total.y=0,D.offset.pending.x=0,D.offset.pending.y=0}}},Yo=Go;Zn.default=Yo;var fo={};function xn(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty(fo,"__esModule",{value:!0}),fo.default=fo.InertiaState=void 0;var f=function(){function T(V){(function(ne,Se){if(!(ne instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,T),xn(this,"active",!1),xn(this,"isModified",!1),xn(this,"smoothEnd",!1),xn(this,"allowResume",!1),xn(this,"modification",void 0),xn(this,"modifierCount",0),xn(this,"modifierArg",void 0),xn(this,"startCoords",void 0),xn(this,"t0",0),xn(this,"v0",0),xn(this,"te",0),xn(this,"targetOffset",void 0),xn(this,"modifiedOffset",void 0),xn(this,"currentOffset",void 0),xn(this,"lambda_v0",0),xn(this,"one_ve_v0",0),xn(this,"timeout",void 0),xn(this,"interaction",void 0),this.interaction=V}var D,z;return D=T,(z=[{key:"start",value:function(V){var ne=this.interaction,Se=b(ne);if(!Se||!Se.enabled)return!1;var Ue=ne.coords.velocity.client,Fe=(0,Ze.default)(Ue.x,Ue.y),ot=this.modification||(this.modification=new $t.default(ne));if(ot.copyFrom(ne.modification),this.t0=ne._now(),this.allowResume=Se.allowResume,this.v0=Fe,this.currentOffset={x:0,y:0},this.startCoords=ne.coords.cur.page,this.modifierArg=ot.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-ne.coords.cur.timeStamp<50&&Fe>Se.minSpeed&&Fe>Se.endSpeed)this.startInertia();else{if(ot.result=ot.setAll(this.modifierArg),!ot.result.changed)return!1;this.startSmoothEnd()}return ne.modification.result.rect=null,ne.offsetBy(this.targetOffset),ne._doPhase({interaction:ne,event:V,phase:"inertiastart"}),ne.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),ne.modification.result.rect=null,this.active=!0,ne.simulation=this,!0}},{key:"startInertia",value:function(){var V=this,ne=this.interaction.coords.velocity.client,Se=b(this.interaction),Ue=Se.resistance,Fe=-Math.log(Se.endSpeed/this.v0)/Ue;this.targetOffset={x:(ne.x-Fe)/Ue,y:(ne.y-Fe)/Ue},this.te=Fe,this.lambda_v0=Ue/this.v0,this.one_ve_v0=1-Se.endSpeed/this.v0;var ot=this.modification,Ft=this.modifierArg;Ft.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},ot.result=ot.setAll(Ft),ot.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+ot.result.delta.x,y:this.targetOffset.y+ot.result.delta.y}),this.onNextFrame(function(){return V.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var V=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return V.smoothEndTick()})}},{key:"onNextFrame",value:function(V){var ne=this;this.timeout=yt.default.request(function(){ne.active&&V()})}},{key:"inertiaTick",value:function(){var V,ne,Se,Ue,Fe,ot=this,Ft=this.interaction,Bt=b(Ft).resistance,ei=(Ft._now()-this.t0)/1e3;if(ei<this.te){var wi,Pi=1-(Math.exp(-Bt*ei)-this.lambda_v0)/this.one_ve_v0;this.isModified?(V=this.targetOffset.x,ne=this.targetOffset.y,Se=this.modifiedOffset.x,Ue=this.modifiedOffset.y,wi={x:O(Fe=Pi,0,V,Se),y:O(Fe,0,ne,Ue)}):wi={x:this.targetOffset.x*Pi,y:this.targetOffset.y*Pi};var pi={x:wi.x-this.currentOffset.x,y:wi.y-this.currentOffset.y};this.currentOffset.x+=pi.x,this.currentOffset.y+=pi.y,Ft.offsetBy(pi),Ft.move(),this.onNextFrame(function(){return ot.inertiaTick()})}else Ft.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var V=this,ne=this.interaction,Se=ne._now()-this.t0,Ue=b(ne).smoothEndDuration;if(Se<Ue){var Fe={x:H(Se,0,this.targetOffset.x,Ue),y:H(Se,0,this.targetOffset.y,Ue)},ot={x:Fe.x-this.currentOffset.x,y:Fe.y-this.currentOffset.y};this.currentOffset.x+=ot.x,this.currentOffset.y+=ot.y,ne.offsetBy(ot),ne.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return V.smoothEndTick()})}else ne.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(V){var ne=V.pointer,Se=V.event,Ue=V.eventTarget,Fe=this.interaction;Fe.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),Fe.updatePointer(ne,Se,Ue,!0),Fe._doPhase({interaction:Fe,event:Se,phase:"resume"}),(0,ct.copyCoords)(Fe.coords.prev,Fe.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,yt.default.cancel(this.timeout)}}])&&function(V,ne){for(var Se=0;Se<ne.length;Se++){var Ue=ne[Se];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(V,Ue.key,Ue)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),T}();function b(T){var D=T.interactable,z=T.prepared;return D&&D.options&&z.name&&D.options[z.name].inertia}fo.InertiaState=f;var A={id:"inertia",before:["modifiers","actions"],install:function(T){var D=T.defaults;T.usePlugin(Zn.default),T.usePlugin(Vr.default),T.actions.phases.inertiastart=!0,T.actions.phases.resume=!0,D.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(T){var D=T.interaction;D.inertia=new f(D)},"interactions:before-action-end":function(T){var D=T.interaction,z=T.event;return(!D._interacting||D.simulation||!D.inertia.start(z))&&null},"interactions:down":function(T){var D=T.interaction,z=T.eventTarget,V=D.inertia;if(V.active)for(var ne=z;m.default.element(ne);){if(ne===D.element){V.resume(T);break}ne=q.parentNode(ne)}},"interactions:stop":function(T){var D=T.interaction.inertia;D.active&&D.stop()},"interactions:before-action-resume":function(T){var D=T.interaction.modification;D.stop(T),D.start(T,T.interaction.coords.cur.page),D.applyToInteraction(T)},"interactions:before-action-inertiastart":function(T){return T.interaction.modification.setAndApply(T)},"interactions:action-resume":Vr.addEventModifiers,"interactions:action-inertiastart":Vr.addEventModifiers,"interactions:after-action-inertiastart":function(T){return T.interaction.modification.restoreInteractionCoords(T)},"interactions:after-action-resume":function(T){return T.interaction.modification.restoreInteractionCoords(T)}}};function O(T,D,z,V){var ne=1-T;return ne*ne*D+2*ne*T*z+T*T*V}function H(T,D,z,V){return-z*(T/=V)*(T-2)+D}var F=A;fo.default=F;var X={};function He(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}function Pe(T,D){for(var z=0;z<D.length;z++){var V=D[z];if(T.immediatePropagationStopped)break;V(T)}}Object.defineProperty(X,"__esModule",{value:!0}),X.Eventable=void 0;var gt=function(){function T(V){(function(ne,Se){if(!(ne instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,T),He(this,"options",void 0),He(this,"types",{}),He(this,"propagationStopped",!1),He(this,"immediatePropagationStopped",!1),He(this,"global",void 0),this.options=(0,W.default)({},V||{})}var D,z;return D=T,(z=[{key:"fire",value:function(V){var ne,Se=this.global;(ne=this.types[V.type])&&Pe(V,ne),!V.propagationStopped&&Se&&(ne=Se[V.type])&&Pe(V,ne)}},{key:"on",value:function(V,ne){var Se=(0,Y.default)(V,ne);for(V in Se)this.types[V]=J.merge(this.types[V]||[],Se[V])}},{key:"off",value:function(V,ne){var Se=(0,Y.default)(V,ne);for(V in Se){var Ue=this.types[V];if(Ue&&Ue.length)for(var Fe=0;Fe<Se[V].length;Fe++){var ot=Se[V][Fe],Ft=Ue.indexOf(ot);Ft!==-1&&Ue.splice(Ft,1)}}}},{key:"getRect",value:function(V){return null}}])&&function(V,ne){for(var Se=0;Se<ne.length;Se++){var Ue=ne[Se];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(V,Ue.key,Ue)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),T}();X.Eventable=gt;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.default=function(T,D){if(D.phaselessTypes[T])return!0;for(var z in D.map)if(T.indexOf(z)===0&&T.substr(z.length)in D.phases)return!0;return!1};var ri={};Object.defineProperty(ri,"__esModule",{value:!0}),ri.createInteractStatic=function(T){var D=function z(V,ne){var Se=T.interactables.get(V,ne);return Se||((Se=T.interactables.new(V,ne)).events.global=z.globalEvents),Se};return D.getPointerAverage=ct.pointerAverage,D.getTouchBBox=ct.touchBBox,D.getTouchDistance=ct.touchDistance,D.getTouchAngle=ct.touchAngle,D.getElementRect=q.getElementRect,D.getElementClientRect=q.getElementClientRect,D.matchesSelector=q.matchesSelector,D.closest=q.closest,D.globalEvents={},D.version="1.10.18",D.scope=T,D.use=function(z,V){return this.scope.usePlugin(z,V),this},D.isSet=function(z,V){return!!this.scope.interactables.get(z,V&&V.context)},D.on=(0,Pt.warnOnce)(function(z,V,ne){if(m.default.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),m.default.array(z)){for(var Se=0;Se<z.length;Se++){var Ue=z[Se];this.on(Ue,V,ne)}return this}if(m.default.object(z)){for(var Fe in z)this.on(Fe,z[Fe],V);return this}return(0,Dt.default)(z,this.scope.actions)?this.globalEvents[z]?this.globalEvents[z].push(V):this.globalEvents[z]=[V]:this.scope.events.add(this.scope.document,z,V,{options:ne}),this},"The interact.on() method is being deprecated"),D.off=(0,Pt.warnOnce)(function(z,V,ne){if(m.default.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),m.default.array(z)){for(var Se=0;Se<z.length;Se++){var Ue=z[Se];this.off(Ue,V,ne)}return this}if(m.default.object(z)){for(var Fe in z)this.off(Fe,z[Fe],V);return this}var ot;return(0,Dt.default)(z,this.scope.actions)?z in this.globalEvents&&(ot=this.globalEvents[z].indexOf(V))!==-1&&this.globalEvents[z].splice(ot,1):this.scope.events.remove(this.scope.document,z,V,ne),this},"The interact.off() method is being deprecated"),D.debug=function(){return this.scope},D.supportsTouch=function(){return C.default.supportsTouch},D.supportsPointerEvent=function(){return C.default.supportsPointerEvent},D.stop=function(){for(var z=0;z<this.scope.interactions.list.length;z++)this.scope.interactions.list[z].stop();return this},D.pointerMoveTolerance=function(z){return m.default.number(z)?(this.scope.interactions.pointerMoveTolerance=z,this):this.scope.interactions.pointerMoveTolerance},D.addDocument=function(z,V){this.scope.addDocument(z,V)},D.removeDocument=function(z){this.scope.removeDocument(z)},D};var Ot={};function st(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.Interactable=void 0;var Li=function(){function T(V,ne,Se,Ue){(function(Fe,ot){if(!(Fe instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,T),st(this,"options",void 0),st(this,"_actions",void 0),st(this,"target",void 0),st(this,"events",new X.Eventable),st(this,"_context",void 0),st(this,"_win",void 0),st(this,"_doc",void 0),st(this,"_scopeEvents",void 0),st(this,"_rectChecker",void 0),this._actions=ne.actions,this.target=V,this._context=ne.context||Se,this._win=(0,n.getWindow)((0,q.trySelector)(V)?this._context:V),this._doc=this._win.document,this._scopeEvents=Ue,this.set(ne)}var D,z;return D=T,(z=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(V,ne){return m.default.func(ne.onstart)&&this.on("".concat(V,"start"),ne.onstart),m.default.func(ne.onmove)&&this.on("".concat(V,"move"),ne.onmove),m.default.func(ne.onend)&&this.on("".concat(V,"end"),ne.onend),m.default.func(ne.oninertiastart)&&this.on("".concat(V,"inertiastart"),ne.oninertiastart),this}},{key:"updatePerActionListeners",value:function(V,ne,Se){(m.default.array(ne)||m.default.object(ne))&&this.off(V,ne),(m.default.array(Se)||m.default.object(Se))&&this.on(V,Se)}},{key:"setPerAction",value:function(V,ne){var Se=this._defaults;for(var Ue in ne){var Fe=Ue,ot=this.options[V],Ft=ne[Fe];Fe==="listeners"&&this.updatePerActionListeners(V,ot.listeners,Ft),m.default.array(Ft)?ot[Fe]=J.from(Ft):m.default.plainObject(Ft)?(ot[Fe]=(0,W.default)(ot[Fe]||{},(0,_e.default)(Ft)),m.default.object(Se.perAction[Fe])&&"enabled"in Se.perAction[Fe]&&(ot[Fe].enabled=Ft.enabled!==!1)):m.default.bool(Ft)&&m.default.object(Se.perAction[Fe])?ot[Fe].enabled=Ft:ot[Fe]=Ft}}},{key:"getRect",value:function(V){return V=V||(m.default.element(this.target)?this.target:null),m.default.string(this.target)&&(V=V||this._context.querySelector(this.target)),(0,q.getElementRect)(V)}},{key:"rectChecker",value:function(V){var ne=this;return m.default.func(V)?(this._rectChecker=V,this.getRect=function(Se){var Ue=(0,W.default)({},ne._rectChecker(Se));return"width"in Ue||(Ue.width=Ue.right-Ue.left,Ue.height=Ue.bottom-Ue.top),Ue},this):V===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(V,ne){if((0,q.trySelector)(ne)||m.default.object(ne)){for(var Se in this.options[V]=ne,this._actions.map)this.options[Se][V]=ne;return this}return this.options[V]}},{key:"origin",value:function(V){return this._backCompatOption("origin",V)}},{key:"deltaSource",value:function(V){return V==="page"||V==="client"?(this.options.deltaSource=V,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(V){return this._context===V.ownerDocument||(0,q.nodeContains)(this._context,V)}},{key:"testIgnoreAllow",value:function(V,ne,Se){return!this.testIgnore(V.ignoreFrom,ne,Se)&&this.testAllow(V.allowFrom,ne,Se)}},{key:"testAllow",value:function(V,ne,Se){return!V||!!m.default.element(Se)&&(m.default.string(V)?(0,q.matchesUpTo)(Se,V,ne):!!m.default.element(V)&&(0,q.nodeContains)(V,Se))}},{key:"testIgnore",value:function(V,ne,Se){return!(!V||!m.default.element(Se))&&(m.default.string(V)?(0,q.matchesUpTo)(Se,V,ne):!!m.default.element(V)&&(0,q.nodeContains)(V,Se))}},{key:"fire",value:function(V){return this.events.fire(V),this}},{key:"_onOff",value:function(V,ne,Se,Ue){m.default.object(ne)&&!m.default.array(ne)&&(Ue=Se,Se=null);var Fe=V==="on"?"add":"remove",ot=(0,Y.default)(ne,Se);for(var Ft in ot){Ft==="wheel"&&(Ft=C.default.wheelEvent);for(var Bt=0;Bt<ot[Ft].length;Bt++){var ei=ot[Ft][Bt];(0,Dt.default)(Ft,this._actions)?this.events[V](Ft,ei):m.default.string(this.target)?this._scopeEvents["".concat(Fe,"Delegate")](this.target,this._context,Ft,ei,Ue):this._scopeEvents[Fe](this.target,Ft,ei,Ue)}}return this}},{key:"on",value:function(V,ne,Se){return this._onOff("on",V,ne,Se)}},{key:"off",value:function(V,ne,Se){return this._onOff("off",V,ne,Se)}},{key:"set",value:function(V){var ne=this._defaults;for(var Se in m.default.object(V)||(V={}),this.options=(0,_e.default)(ne.base),this._actions.methodDict){var Ue=Se,Fe=this._actions.methodDict[Ue];this.options[Ue]={},this.setPerAction(Ue,(0,W.default)((0,W.default)({},ne.perAction),ne.actions[Ue])),this[Fe](V[Ue])}for(var ot in V)m.default.func(this[ot])&&this[ot](V[ot]);return this}},{key:"unset",value:function(){if(m.default.string(this.target))for(var V in this._scopeEvents.delegatedEvents)for(var ne=this._scopeEvents.delegatedEvents[V],Se=ne.length-1;Se>=0;Se--){var Ue=ne[Se],Fe=Ue.selector,ot=Ue.context,Ft=Ue.listeners;Fe===this.target&&ot===this._context&&ne.splice(Se,1);for(var Bt=Ft.length-1;Bt>=0;Bt--)this._scopeEvents.removeDelegate(this.target,this._context,V,Ft[Bt][0],Ft[Bt][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(V,ne){for(var Se=0;Se<ne.length;Se++){var Ue=ne[Se];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(V,Ue.key,Ue)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),T}();Ot.Interactable=Li;var R={};function M(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty(R,"__esModule",{value:!0}),R.InteractableSet=void 0;var j=function(){function T(V){var ne=this;(function(Se,Ue){if(!(Se instanceof Ue))throw new TypeError("Cannot call a class as a function")})(this,T),M(this,"list",[]),M(this,"selectorMap",{}),M(this,"scope",void 0),this.scope=V,V.addListeners({"interactable:unset":function(Se){var Ue=Se.interactable,Fe=Ue.target,ot=Ue._context,Ft=m.default.string(Fe)?ne.selectorMap[Fe]:Fe[ne.scope.id],Bt=J.findIndex(Ft,function(ei){return ei.context===ot});Ft[Bt]&&(Ft[Bt].context=null,Ft[Bt].interactable=null),Ft.splice(Bt,1)}})}var D,z;return D=T,(z=[{key:"new",value:function(V,ne){ne=(0,W.default)(ne||{},{actions:this.scope.actions});var Se=new this.scope.Interactable(V,ne,this.scope.document,this.scope.events),Ue={context:Se._context,interactable:Se};return this.scope.addDocument(Se._doc),this.list.push(Se),m.default.string(V)?(this.selectorMap[V]||(this.selectorMap[V]=[]),this.selectorMap[V].push(Ue)):(Se.target[this.scope.id]||Object.defineProperty(V,this.scope.id,{value:[],configurable:!0}),V[this.scope.id].push(Ue)),this.scope.fire("interactable:new",{target:V,options:ne,interactable:Se,win:this.scope._win}),Se}},{key:"get",value:function(V,ne){var Se=ne&&ne.context||this.scope.document,Ue=m.default.string(V),Fe=Ue?this.selectorMap[V]:V[this.scope.id];if(!Fe)return null;var ot=J.find(Fe,function(Ft){return Ft.context===Se&&(Ue||Ft.interactable.inContext(V))});return ot&&ot.interactable}},{key:"forEachMatch",value:function(V,ne){for(var Se=0;Se<this.list.length;Se++){var Ue=this.list[Se],Fe=void 0;if((m.default.string(Ue.target)?m.default.element(V)&&q.matchesSelector(V,Ue.target):V===Ue.target)&&Ue.inContext(V)&&(Fe=ne(Ue)),Fe!==void 0)return Fe}}}])&&function(V,ne){for(var Se=0;Se<ne.length;Se++){var Ue=ne[Se];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(V,Ue.key,Ue)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),T}();R.InteractableSet=j;var U={};function se(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}function me(T,D){return function(z){if(Array.isArray(z))return z}(T)||function(z,V){var ne=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(ne!=null){var Se,Ue,Fe=[],ot=!0,Ft=!1;try{for(ne=ne.call(z);!(ot=(Se=ne.next()).done)&&(Fe.push(Se.value),!V||Fe.length!==V);ot=!0);}catch(Bt){Ft=!0,Ue=Bt}finally{try{ot||ne.return==null||ne.return()}finally{if(Ft)throw Ue}}return Fe}}(T,D)||function(z,V){if(z){if(typeof z=="string")return Ce(z,V);var ne=Object.prototype.toString.call(z).slice(8,-1);return ne==="Object"&&z.constructor&&(ne=z.constructor.name),ne==="Map"||ne==="Set"?Array.from(z):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?Ce(z,V):void 0}}(T,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ce(T,D){(D==null||D>T.length)&&(D=T.length);for(var z=0,V=Array(D);z<D;z++)V[z]=T[z];return V}Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var Nt=function(){function T(V){(function(ne,Se){if(!(ne instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,T),se(this,"currentTarget",void 0),se(this,"originalEvent",void 0),se(this,"type",void 0),this.originalEvent=V,(0,ft.default)(this,V)}var D,z;return D=T,(z=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(V,ne){for(var Se=0;Se<ne.length;Se++){var Ue=ne[Se];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(V,Ue.key,Ue)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),T}();function bt(T){if(!m.default.object(T))return{capture:!!T,passive:!1};var D=(0,W.default)({},T);return D.capture=!!T.capture,D.passive=!!T.passive,D}var Yt={id:"events",install:function(T){var D,z=[],V={},ne=[],Se={add:Ue,remove:Fe,addDelegate:function(Bt,ei,wi,Pi,pi){var Vi=bt(pi);if(!V[wi]){V[wi]=[];for(var qi=0;qi<ne.length;qi++){var Ji=ne[qi];Ue(Ji,wi,ot),Ue(Ji,wi,Ft,!0)}}var sr=V[wi],Hr=J.find(sr,function(Gr){return Gr.selector===Bt&&Gr.context===ei});Hr||(Hr={selector:Bt,context:ei,listeners:[]},sr.push(Hr)),Hr.listeners.push([Pi,Vi])},removeDelegate:function(Bt,ei,wi,Pi,pi){var Vi,qi=bt(pi),Ji=V[wi],sr=!1;if(Ji)for(Vi=Ji.length-1;Vi>=0;Vi--){var Hr=Ji[Vi];if(Hr.selector===Bt&&Hr.context===ei){for(var Gr=Hr.listeners,un=Gr.length-1;un>=0;un--){var _n=me(Gr[un],2),ln=_n[0],kn=_n[1],ga=kn.capture,ja=kn.passive;if(ln===Pi&&ga===qi.capture&&ja===qi.passive){Gr.splice(un,1),Gr.length||(Ji.splice(Vi,1),Fe(ei,wi,ot),Fe(ei,wi,Ft,!0)),sr=!0;break}}if(sr)break}}},delegateListener:ot,delegateUseCapture:Ft,delegatedEvents:V,documents:ne,targets:z,supportsOptions:!1,supportsPassive:!1};function Ue(Bt,ei,wi,Pi){var pi=bt(Pi),Vi=J.find(z,function(qi){return qi.eventTarget===Bt});Vi||(Vi={eventTarget:Bt,events:{}},z.push(Vi)),Vi.events[ei]||(Vi.events[ei]=[]),Bt.addEventListener&&!J.contains(Vi.events[ei],wi)&&(Bt.addEventListener(ei,wi,Se.supportsOptions?pi:pi.capture),Vi.events[ei].push(wi))}function Fe(Bt,ei,wi,Pi){var pi=bt(Pi),Vi=J.findIndex(z,function(un){return un.eventTarget===Bt}),qi=z[Vi];if(qi&&qi.events)if(ei!=="all"){var Ji=!1,sr=qi.events[ei];if(sr){if(wi==="all"){for(var Hr=sr.length-1;Hr>=0;Hr--)Fe(Bt,ei,sr[Hr],pi);return}for(var Gr=0;Gr<sr.length;Gr++)if(sr[Gr]===wi){Bt.removeEventListener(ei,wi,Se.supportsOptions?pi:pi.capture),sr.splice(Gr,1),sr.length===0&&(delete qi.events[ei],Ji=!0);break}}Ji&&!Object.keys(qi.events).length&&z.splice(Vi,1)}else for(ei in qi.events)qi.events.hasOwnProperty(ei)&&Fe(Bt,ei,"all")}function ot(Bt,ei){for(var wi=bt(ei),Pi=new Nt(Bt),pi=V[Bt.type],Vi=me(ct.getEventTargets(Bt),1)[0],qi=Vi;m.default.element(qi);){for(var Ji=0;Ji<pi.length;Ji++){var sr=pi[Ji],Hr=sr.selector,Gr=sr.context;if(q.matchesSelector(qi,Hr)&&q.nodeContains(Gr,Vi)&&q.nodeContains(Gr,qi)){var un=sr.listeners;Pi.currentTarget=qi;for(var _n=0;_n<un.length;_n++){var ln=me(un[_n],2),kn=ln[0],ga=ln[1],ja=ga.capture,Ap=ga.passive;ja===wi.capture&&Ap===wi.passive&&kn(Pi)}}}qi=q.parentNode(qi)}}function Ft(Bt){return ot(Bt,!0)}return(D=T.document)==null||D.createElement("div").addEventListener("test",null,{get capture(){return Se.supportsOptions=!0},get passive(){return Se.supportsPassive=!0}}),T.events=Se,Se}};U.default=Yt;var li={};Object.defineProperty(li,"__esModule",{value:!0}),li.default=void 0;var $i={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(T){for(var D=0;D<$i.methodOrder.length;D++){var z;z=$i.methodOrder[D];var V=$i[z](T);if(V)return V}return null},simulationResume:function(T){var D=T.pointerType,z=T.eventType,V=T.eventTarget,ne=T.scope;if(!/down|start/i.test(z))return null;for(var Se=0;Se<ne.interactions.list.length;Se++){var Ue=ne.interactions.list[Se],Fe=V;if(Ue.simulation&&Ue.simulation.allowResume&&Ue.pointerType===D)for(;Fe;){if(Fe===Ue.element)return Ue;Fe=q.parentNode(Fe)}}return null},mouseOrPen:function(T){var D,z=T.pointerId,V=T.pointerType,ne=T.eventType,Se=T.scope;if(V!=="mouse"&&V!=="pen")return null;for(var Ue=0;Ue<Se.interactions.list.length;Ue++){var Fe=Se.interactions.list[Ue];if(Fe.pointerType===V){if(Fe.simulation&&!Ri(Fe,z))continue;if(Fe.interacting())return Fe;D||(D=Fe)}}if(D)return D;for(var ot=0;ot<Se.interactions.list.length;ot++){var Ft=Se.interactions.list[ot];if(!(Ft.pointerType!==V||/down/i.test(ne)&&Ft.simulation))return Ft}return null},hasPointer:function(T){for(var D=T.pointerId,z=T.scope,V=0;V<z.interactions.list.length;V++){var ne=z.interactions.list[V];if(Ri(ne,D))return ne}return null},idle:function(T){for(var D=T.pointerType,z=T.scope,V=0;V<z.interactions.list.length;V++){var ne=z.interactions.list[V];if(ne.pointers.length===1){var Se=ne.interactable;if(Se&&(!Se.options.gesture||!Se.options.gesture.enabled))continue}else if(ne.pointers.length>=2)continue;if(!ne.interacting()&&D===ne.pointerType)return ne}return null}};function Ri(T,D){return T.pointers.some(function(z){return z.id===D})}var Oi=$i;li.default=Oi;var lr={};function Wi(T){return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},Wi(T)}function ji(T,D){return function(z){if(Array.isArray(z))return z}(T)||function(z,V){var ne=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(ne!=null){var Se,Ue,Fe=[],ot=!0,Ft=!1;try{for(ne=ne.call(z);!(ot=(Se=ne.next()).done)&&(Fe.push(Se.value),!V||Fe.length!==V);ot=!0);}catch(Bt){Ft=!0,Ue=Bt}finally{try{ot||ne.return==null||ne.return()}finally{if(Ft)throw Ue}}return Fe}}(T,D)||function(z,V){if(z){if(typeof z=="string")return Xi(z,V);var ne=Object.prototype.toString.call(z).slice(8,-1);return ne==="Object"&&z.constructor&&(ne=z.constructor.name),ne==="Map"||ne==="Set"?Array.from(z):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?Xi(z,V):void 0}}(T,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xi(T,D){(D==null||D>T.length)&&(D=T.length);for(var z=0,V=Array(D);z<D;z++)V[z]=T[z];return V}function er(T,D){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},er(T,D)}function Zi(T){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},Zi(T)}Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var gr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Rr(T,D){return function(z){var V=D.interactions.list,ne=ct.getPointerType(z),Se=ji(ct.getEventTargets(z),2),Ue=Se[0],Fe=Se[1],ot=[];if(/^touch/.test(z.type)){D.prevTouchTime=D.now();for(var Ft=0;Ft<z.changedTouches.length;Ft++){var Bt=z.changedTouches[Ft],ei={pointer:Bt,pointerId:ct.getPointerId(Bt),pointerType:ne,eventType:z.type,eventTarget:Ue,curEventTarget:Fe,scope:D},wi=Ii(ei);ot.push([ei.pointer,ei.eventTarget,ei.curEventTarget,wi])}}else{var Pi=!1;if(!C.default.supportsPointerEvent&&/mouse/.test(z.type)){for(var pi=0;pi<V.length&&!Pi;pi++)Pi=V[pi].pointerType!=="mouse"&&V[pi].pointerIsDown;Pi=Pi||D.now()-D.prevTouchTime<500||z.timeStamp===0}if(!Pi){var Vi={pointer:z,pointerId:ct.getPointerId(z),pointerType:ne,eventType:z.type,curEventTarget:Fe,eventTarget:Ue,scope:D},qi=Ii(Vi);ot.push([Vi.pointer,Vi.eventTarget,Vi.curEventTarget,qi])}}for(var Ji=0;Ji<ot.length;Ji++){var sr=ji(ot[Ji],4),Hr=sr[0],Gr=sr[1],un=sr[2];sr[3][T](Hr,z,Gr,un)}}}function Ii(T){var D=T.pointerType,z=T.scope,V={interaction:li.default.search(T),searchDetails:T};return z.fire("interactions:find",V),V.interaction||z.interactions.new({pointerType:D})}function cr(T,D){var z=T.doc,V=T.scope,ne=T.options,Se=V.interactions.docEvents,Ue=V.events,Fe=Ue[D];for(var ot in V.browser.isIOS&&!ne.events&&(ne.events={passive:!1}),Ue.delegatedEvents)Fe(z,ot,Ue.delegateListener),Fe(z,ot,Ue.delegateUseCapture,!0);for(var Ft=ne&&ne.events,Bt=0;Bt<Se.length;Bt++){var ei=Se[Bt];Fe(z,ei.type,ei.listener,Ft)}}var Kr={id:"core/interactions",install:function(T){for(var D={},z=0;z<gr.length;z++){var V=gr[z];D[V]=Rr(V,T)}var ne,Se=C.default.pEventTypes;function Ue(){for(var Fe=0;Fe<T.interactions.list.length;Fe++){var ot=T.interactions.list[Fe];if(ot.pointerIsDown&&ot.pointerType==="touch"&&!ot._interacting)for(var Ft=function(){var ei=ot.pointers[Bt];T.documents.some(function(wi){var Pi=wi.doc;return(0,q.nodeContains)(Pi,ei.downTarget)})||ot.removePointer(ei.pointer,ei.event)},Bt=0;Bt<ot.pointers.length;Bt++)Ft()}}(ne=h.default.PointerEvent?[{type:Se.down,listener:Ue},{type:Se.down,listener:D.pointerDown},{type:Se.move,listener:D.pointerMove},{type:Se.up,listener:D.pointerUp},{type:Se.cancel,listener:D.pointerUp}]:[{type:"mousedown",listener:D.pointerDown},{type:"mousemove",listener:D.pointerMove},{type:"mouseup",listener:D.pointerUp},{type:"touchstart",listener:Ue},{type:"touchstart",listener:D.pointerDown},{type:"touchmove",listener:D.pointerMove},{type:"touchend",listener:D.pointerUp},{type:"touchcancel",listener:D.pointerUp}]).push({type:"blur",listener:function(Fe){for(var ot=0;ot<T.interactions.list.length;ot++)T.interactions.list[ot].documentBlur(Fe)}}),T.prevTouchTime=0,T.Interaction=function(Fe){(function(pi,Vi){if(typeof Vi!="function"&&Vi!==null)throw new TypeError("Super expression must either be null or a function");pi.prototype=Object.create(Vi&&Vi.prototype,{constructor:{value:pi,writable:!0,configurable:!0}}),Object.defineProperty(pi,"prototype",{writable:!1}),Vi&&er(pi,Vi)})(Pi,Fe);var ot,Ft,Bt,ei,wi=(Bt=Pi,ei=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(pi){return!1}}(),function(){var pi,Vi=Zi(Bt);if(ei){var qi=Zi(this).constructor;pi=Reflect.construct(Vi,arguments,qi)}else pi=Vi.apply(this,arguments);return function(Ji,sr){if(sr&&(Wi(sr)==="object"||typeof sr=="function"))return sr;if(sr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Hr){if(Hr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Hr}(Ji)}(this,pi)});function Pi(){return function(pi,Vi){if(!(pi instanceof Vi))throw new TypeError("Cannot call a class as a function")}(this,Pi),wi.apply(this,arguments)}return ot=Pi,(Ft=[{key:"pointerMoveTolerance",get:function(){return T.interactions.pointerMoveTolerance},set:function(pi){T.interactions.pointerMoveTolerance=pi}},{key:"_now",value:function(){return T.now()}}])&&function(pi,Vi){for(var qi=0;qi<Vi.length;qi++){var Ji=Vi[qi];Ji.enumerable=Ji.enumerable||!1,Ji.configurable=!0,"value"in Ji&&(Ji.writable=!0),Object.defineProperty(pi,Ji.key,Ji)}}(ot.prototype,Ft),Object.defineProperty(ot,"prototype",{writable:!1}),Pi}(Rn.default),T.interactions={list:[],new:function(Fe){Fe.scopeFire=function(Ft,Bt){return T.fire(Ft,Bt)};var ot=new T.Interaction(Fe);return T.interactions.list.push(ot),ot},listeners:D,docEvents:ne,pointerMoveTolerance:1},T.usePlugin($r.default)},listeners:{"scope:add-document":function(T){return cr(T,"add")},"scope:remove-document":function(T){return cr(T,"remove")},"interactable:unset":function(T,D){for(var z=T.interactable,V=D.interactions.list.length-1;V>=0;V--){var ne=D.interactions.list[V];ne.interactable===z&&(ne.stop(),D.fire("interactions:destroy",{interaction:ne}),ne.destroy(),D.interactions.list.length>2&&D.interactions.list.splice(V,1))}}},onDocSignal:cr,doOnInteractions:Rr,methodNames:gr},mr=Kr;lr.default=mr;var Br={};function Mr(T){return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},Mr(T)}function fn(){return fn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(T,D,z){var V=function(Se,Ue){for(;!Object.prototype.hasOwnProperty.call(Se,Ue)&&(Se=Ir(Se))!==null;);return Se}(T,D);if(V){var ne=Object.getOwnPropertyDescriptor(V,D);return ne.get?ne.get.call(arguments.length<3?T:z):ne.value}},fn.apply(this,arguments)}function Nr(T,D){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},Nr(T,D)}function Ir(T){return Ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},Ir(T)}function Xr(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}function ge(T,D){for(var z=0;z<D.length;z++){var V=D[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(T,V.key,V)}}function pe(T,D,z){return D&&ge(T.prototype,D),z&&ge(T,z),Object.defineProperty(T,"prototype",{writable:!1}),T}function Te(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty(Br,"__esModule",{value:!0}),Br.Scope=void 0,Br.initScope=wt;var Wt=function(){function T(){var D=this;Xr(this,T),Te(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),Te(this,"isInitialized",!1),Te(this,"listenerMaps",[]),Te(this,"browser",C.default),Te(this,"defaults",(0,_e.default)(Cn.defaults)),Te(this,"Eventable",X.Eventable),Te(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),Te(this,"interactStatic",(0,ri.createInteractStatic)(this)),Te(this,"InteractEvent",wn.InteractEvent),Te(this,"Interactable",void 0),Te(this,"interactables",new R.InteractableSet(this)),Te(this,"_win",void 0),Te(this,"document",void 0),Te(this,"window",void 0),Te(this,"documents",[]),Te(this,"_plugins",{list:[],map:{}}),Te(this,"onWindowUnload",function(V){return D.removeDocument(V.target)});var z=this;this.Interactable=function(V){(function(ot,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),Ft&&Nr(ot,Ft)})(Fe,V);var ne,Se,Ue=(ne=Fe,Se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ot){return!1}}(),function(){var ot,Ft=Ir(ne);if(Se){var Bt=Ir(this).constructor;ot=Reflect.construct(Ft,arguments,Bt)}else ot=Ft.apply(this,arguments);return function(ei,wi){if(wi&&(Mr(wi)==="object"||typeof wi=="function"))return wi;if(wi!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Pi){if(Pi===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pi}(ei)}(this,ot)});function Fe(){return Xr(this,Fe),Ue.apply(this,arguments)}return pe(Fe,[{key:"_defaults",get:function(){return z.defaults}},{key:"set",value:function(ot){return fn(Ir(Fe.prototype),"set",this).call(this,ot),z.fire("interactable:set",{options:ot,interactable:this}),this}},{key:"unset",value:function(){fn(Ir(Fe.prototype),"unset",this).call(this);var ot=z.interactables.list.indexOf(this);ot<0||(fn(Ir(Fe.prototype),"unset",this).call(this),z.interactables.list.splice(ot,1),z.fire("interactable:unset",{interactable:this}))}}]),Fe}(Ot.Interactable)}return pe(T,[{key:"addListeners",value:function(D,z){this.listenerMaps.push({id:z,map:D})}},{key:"fire",value:function(D,z){for(var V=0;V<this.listenerMaps.length;V++){var ne=this.listenerMaps[V].map[D];if(ne&&ne(z,this,D)===!1)return!1}}},{key:"init",value:function(D){return this.isInitialized?this:wt(this,D)}},{key:"pluginIsInstalled",value:function(D){return this._plugins.map[D.id]||this._plugins.list.indexOf(D)!==-1}},{key:"usePlugin",value:function(D,z){if(!this.isInitialized)return this;if(this.pluginIsInstalled(D))return this;if(D.id&&(this._plugins.map[D.id]=D),this._plugins.list.push(D),D.install&&D.install(this,z),D.listeners&&D.before){for(var V=0,ne=this.listenerMaps.length,Se=D.before.reduce(function(Fe,ot){return Fe[ot]=!0,Fe[si(ot)]=!0,Fe},{});V<ne;V++){var Ue=this.listenerMaps[V].id;if(Se[Ue]||Se[si(Ue)])break}this.listenerMaps.splice(V,0,{id:D.id,map:D.listeners})}else D.listeners&&this.listenerMaps.push({id:D.id,map:D.listeners});return this}},{key:"addDocument",value:function(D,z){if(this.getDocIndex(D)!==-1)return!1;var V=n.getWindow(D);z=z?(0,W.default)({},z):{},this.documents.push({doc:D,options:z}),this.events.documents.push(D),D!==this.document&&this.events.add(V,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:D,window:V,scope:this,options:z})}},{key:"removeDocument",value:function(D){var z=this.getDocIndex(D),V=n.getWindow(D),ne=this.documents[z].options;this.events.remove(V,"unload",this.onWindowUnload),this.documents.splice(z,1),this.events.documents.splice(z,1),this.fire("scope:remove-document",{doc:D,window:V,scope:this,options:ne})}},{key:"getDocIndex",value:function(D){for(var z=0;z<this.documents.length;z++)if(this.documents[z].doc===D)return z;return-1}},{key:"getDocOptions",value:function(D){var z=this.getDocIndex(D);return z===-1?null:this.documents[z].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),T}();function wt(T,D){return T.isInitialized=!0,m.default.window(D)&&n.init(D),h.default.init(D),C.default.init(D),yt.default.init(D),T.window=D,T.document=D.document,T.usePlugin(lr.default),T.usePlugin(U.default),T}function si(T){return T&&T.replace(/\/.*$/,"")}Br.Scope=Wt;var xi={};Object.defineProperty(xi,"__esModule",{value:!0}),xi.default=void 0;var Ui=new Br.Scope,Di=Ui.interactStatic;xi.default=Di;var Qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;Ui.init(Qi);var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.default=void 0,fr.default=function(){};var wr={};Object.defineProperty(wr,"__esModule",{value:!0}),wr.default=void 0,wr.default=function(){};var Po={};function Ma(T,D){return function(z){if(Array.isArray(z))return z}(T)||function(z,V){var ne=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(ne!=null){var Se,Ue,Fe=[],ot=!0,Ft=!1;try{for(ne=ne.call(z);!(ot=(Se=ne.next()).done)&&(Fe.push(Se.value),!V||Fe.length!==V);ot=!0);}catch(Bt){Ft=!0,Ue=Bt}finally{try{ot||ne.return==null||ne.return()}finally{if(Ft)throw Ue}}return Fe}}(T,D)||function(z,V){if(z){if(typeof z=="string")return dr(z,V);var ne=Object.prototype.toString.call(z).slice(8,-1);return ne==="Object"&&z.constructor&&(ne=z.constructor.name),ne==="Map"||ne==="Set"?Array.from(z):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?dr(z,V):void 0}}(T,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dr(T,D){(D==null||D>T.length)&&(D=T.length);for(var z=0,V=Array(D);z<D;z++)V[z]=T[z];return V}Object.defineProperty(Po,"__esModule",{value:!0}),Po.default=void 0,Po.default=function(T){var D=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(V){var ne=Ma(V,2),Se=ne[0],Ue=ne[1];return Se in T||Ue in T}),z=function(V,ne){for(var Se=T.range,Ue=T.limits,Fe=Ue===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:Ue,ot=T.offset,Ft=ot===void 0?{x:0,y:0}:ot,Bt={range:Se,grid:T,x:null,y:null},ei=0;ei<D.length;ei++){var wi=Ma(D[ei],2),Pi=wi[0],pi=wi[1],Vi=Math.round((V-Ft.x)/T[Pi]),qi=Math.round((ne-Ft.y)/T[pi]);Bt[Pi]=Math.max(Fe.left,Math.min(Fe.right,Vi*T[Pi]+Ft.x)),Bt[pi]=Math.max(Fe.top,Math.min(Fe.bottom,qi*T[pi]+Ft.y))}return Bt};return z.grid=T,z.coordFields=D,z};var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0}),Object.defineProperty(Tn,"edgeTarget",{enumerable:!0,get:function(){return fr.default}}),Object.defineProperty(Tn,"elements",{enumerable:!0,get:function(){return wr.default}}),Object.defineProperty(Tn,"grid",{enumerable:!0,get:function(){return Po.default}});var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.default=void 0;var mn={id:"snappers",install:function(T){var D=T.interactStatic;D.snappers=(0,W.default)(D.snappers||{},Tn),D.createSnapGrid=D.snappers.grid}},Ko=mn;hn.default=Ko;var wo={};function Xo(T,D){var z=Object.keys(T);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(T);D&&(V=V.filter(function(ne){return Object.getOwnPropertyDescriptor(T,ne).enumerable})),z.push.apply(z,V)}return z}function Ia(T){for(var D=1;D<arguments.length;D++){var z=arguments[D]!=null?arguments[D]:{};D%2?Xo(Object(z),!0).forEach(function(V){Ra(T,V,z[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(z)):Xo(Object(z)).forEach(function(V){Object.defineProperty(T,V,Object.getOwnPropertyDescriptor(z,V))})}return T}function Ra(T,D,z){return D in T?Object.defineProperty(T,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[D]=z,T}Object.defineProperty(wo,"__esModule",{value:!0}),wo.default=wo.aspectRatio=void 0;var Fn={start:function(T){var D=T.state,z=T.rect,V=T.edges,ne=T.pageCoords,Se=D.options,Ue=Se.ratio,Fe=Se.enabled,ot=D.options,Ft=ot.equalDelta,Bt=ot.modifiers;Ue==="preserve"&&(Ue=z.width/z.height),D.startCoords=(0,W.default)({},ne),D.startRect=(0,W.default)({},z),D.ratio=Ue,D.equalDelta=Ft;var ei=D.linkedEdges={top:V.top||V.left&&!V.bottom,left:V.left||V.top&&!V.right,bottom:V.bottom||V.right&&!V.top,right:V.right||V.bottom&&!V.left};if(D.xIsPrimaryAxis=!(!V.left&&!V.right),D.equalDelta){var wi=(ei.left?1:-1)*(ei.top?1:-1);D.edgeSign={x:wi,y:wi}}else D.edgeSign={x:ei.left?-1:1,y:ei.top?-1:1};if(Fe!==!1&&(0,W.default)(V,ei),Bt!=null&&Bt.length){var Pi=new $t.default(T.interaction);Pi.copyFrom(T.interaction.modification),Pi.prepareStates(Bt),D.subModification=Pi,Pi.startAll(Ia({},T))}},set:function(T){var D=T.state,z=T.rect,V=T.coords,ne=D.linkedEdges,Se=(0,W.default)({},V),Ue=D.equalDelta?Zo:Da;if((0,W.default)(T.edges,ne),Ue(D,D.xIsPrimaryAxis,V,z),!D.subModification)return null;var Fe=(0,W.default)({},z);(0,ae.addEdges)(ne,Fe,{x:V.x-Se.x,y:V.y-Se.y});var ot=D.subModification.setAll(Ia(Ia({},T),{},{rect:Fe,edges:ne,pageCoords:V,prevCoords:V,prevRect:Fe})),Ft=ot.delta;return ot.changed&&(Ue(D,Math.abs(Ft.x)>Math.abs(Ft.y),ot.coords,ot.rect),(0,W.default)(V,ot.coords)),ot.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Zo(T,D,z){var V=T.startCoords,ne=T.edgeSign;D?z.y=V.y+(z.x-V.x)*ne.y:z.x=V.x+(z.y-V.y)*ne.x}function Da(T,D,z,V){var ne=T.startRect,Se=T.startCoords,Ue=T.ratio,Fe=T.edgeSign;if(D){var ot=V.width/Ue;z.y=Se.y+(ot-ne.height)*Fe.y}else{var Ft=V.height*Ue;z.x=Se.x+(Ft-ne.width)*Fe.x}}wo.aspectRatio=Fn;var Jo=(0,Vr.makeModifier)(Fn,"aspectRatio");wo.default=Jo;var oo={};Object.defineProperty(oo,"__esModule",{value:!0}),oo.default=void 0;var ma=function(){};ma._defaults={};var zc=ma;oo.default=zc;var $o={};Object.defineProperty($o,"__esModule",{value:!0}),Object.defineProperty($o,"default",{enumerable:!0,get:function(){return oo.default}});var Bn={};function Qo(T,D,z){return m.default.func(T)?ae.resolveRectLike(T,D.interactable,D.element,[z.x,z.y,D]):ae.resolveRectLike(T,D.interactable,D.element)}Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.default=void 0,Bn.getRestrictionRect=Qo,Bn.restrict=void 0;var Fl={start:function(T){var D=T.rect,z=T.startOffset,V=T.state,ne=T.interaction,Se=T.pageCoords,Ue=V.options,Fe=Ue.elementRect,ot=(0,W.default)({left:0,top:0,right:0,bottom:0},Ue.offset||{});if(D&&Fe){var Ft=Qo(Ue.restriction,ne,Se);if(Ft){var Bt=Ft.right-Ft.left-D.width,ei=Ft.bottom-Ft.top-D.height;Bt<0&&(ot.left+=Bt,ot.right+=Bt),ei<0&&(ot.top+=ei,ot.bottom+=ei)}ot.left+=z.left-D.width*Fe.left,ot.top+=z.top-D.height*Fe.top,ot.right+=z.right-D.width*(1-Fe.right),ot.bottom+=z.bottom-D.height*(1-Fe.bottom)}V.offset=ot},set:function(T){var D=T.coords,z=T.interaction,V=T.state,ne=V.options,Se=V.offset,Ue=Qo(ne.restriction,z,D);if(Ue){var Fe=ae.xywhToTlbr(Ue);D.x=Math.max(Math.min(Fe.right-Se.right,D.x),Fe.left+Se.left),D.y=Math.max(Math.min(Fe.bottom-Se.bottom,D.y),Fe.top+Se.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Bn.restrict=Fl;var re=(0,Vr.makeModifier)(Fl,"restrict");Bn.default=re;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.restrictEdges=Ie.default=void 0;var lt={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Gt={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function mt(T,D){for(var z=["top","left","bottom","right"],V=0;V<z.length;V++){var ne=z[V];ne in T||(T[ne]=D[ne])}return T}var Zt={noInner:lt,noOuter:Gt,start:function(T){var D,z=T.interaction,V=T.startOffset,ne=T.state,Se=ne.options;if(Se){var Ue=(0,Bn.getRestrictionRect)(Se.offset,z,z.coords.start.page);D=ae.rectToXY(Ue)}D=D||{x:0,y:0},ne.offset={top:D.y+V.top,left:D.x+V.left,bottom:D.y-V.bottom,right:D.x-V.right}},set:function(T){var D=T.coords,z=T.edges,V=T.interaction,ne=T.state,Se=ne.offset,Ue=ne.options;if(z){var Fe=(0,W.default)({},D),ot=(0,Bn.getRestrictionRect)(Ue.inner,V,Fe)||{},Ft=(0,Bn.getRestrictionRect)(Ue.outer,V,Fe)||{};mt(ot,lt),mt(Ft,Gt),z.top?D.y=Math.min(Math.max(Ft.top+Se.top,Fe.y),ot.top+Se.top):z.bottom&&(D.y=Math.max(Math.min(Ft.bottom+Se.bottom,Fe.y),ot.bottom+Se.bottom)),z.left?D.x=Math.min(Math.max(Ft.left+Se.left,Fe.x),ot.left+Se.left):z.right&&(D.x=Math.max(Math.min(Ft.right+Se.right,Fe.x),ot.right+Se.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Ie.restrictEdges=Zt;var oi=(0,Vr.makeModifier)(Zt,"restrictEdges");Ie.default=oi;var hi={};Object.defineProperty(hi,"__esModule",{value:!0}),hi.restrictRect=hi.default=void 0;var bi=(0,W.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(T){}},Bn.restrict.defaults),Hi={start:Bn.restrict.start,set:Bn.restrict.set,defaults:bi};hi.restrictRect=Hi;var Ni=(0,Vr.makeModifier)(Hi,"restrictRect");hi.default=Ni;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.restrictSize=Bi.default=void 0;var nr={width:-1/0,height:-1/0},Tr={width:1/0,height:1/0},Fi={start:function(T){return Ie.restrictEdges.start(T)},set:function(T){var D=T.interaction,z=T.state,V=T.rect,ne=T.edges,Se=z.options;if(ne){var Ue=ae.tlbrToXywh((0,Bn.getRestrictionRect)(Se.min,D,T.coords))||nr,Fe=ae.tlbrToXywh((0,Bn.getRestrictionRect)(Se.max,D,T.coords))||Tr;z.options={endOnly:Se.endOnly,inner:(0,W.default)({},Ie.restrictEdges.noInner),outer:(0,W.default)({},Ie.restrictEdges.noOuter)},ne.top?(z.options.inner.top=V.bottom-Ue.height,z.options.outer.top=V.bottom-Fe.height):ne.bottom&&(z.options.inner.bottom=V.top+Ue.height,z.options.outer.bottom=V.top+Fe.height),ne.left?(z.options.inner.left=V.right-Ue.width,z.options.outer.left=V.right-Fe.width):ne.right&&(z.options.inner.right=V.left+Ue.width,z.options.outer.right=V.left+Fe.width),Ie.restrictEdges.set(T),z.options=Se}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Bi.restrictSize=Fi;var qr=(0,Vr.makeModifier)(Fi,"restrictSize");Bi.default=qr;var tn={};Object.defineProperty(tn,"__esModule",{value:!0}),Object.defineProperty(tn,"default",{enumerable:!0,get:function(){return oo.default}});var nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.snap=nn.default=void 0;var Or={start:function(T){var D,z=T.interaction,V=T.interactable,ne=T.element,Se=T.rect,Ue=T.state,Fe=T.startOffset,ot=Ue.options,Ft=ot.offsetWithOrigin?function(wi){var Pi=wi.interaction.element;return(0,ae.rectToXY)((0,ae.resolveRectLike)(wi.state.options.origin,null,null,[Pi]))||(0,ye.default)(wi.interactable,Pi,wi.interaction.prepared.name)}(T):{x:0,y:0};if(ot.offset==="startCoords")D={x:z.coords.start.page.x,y:z.coords.start.page.y};else{var Bt=(0,ae.resolveRectLike)(ot.offset,V,ne,[z]);(D=(0,ae.rectToXY)(Bt)||{x:0,y:0}).x+=Ft.x,D.y+=Ft.y}var ei=ot.relativePoints;Ue.offsets=Se&&ei&&ei.length?ei.map(function(wi,Pi){return{index:Pi,relativePoint:wi,x:Fe.left-Se.width*wi.x+D.x,y:Fe.top-Se.height*wi.y+D.y}}):[{index:0,relativePoint:null,x:D.x,y:D.y}]},set:function(T){var D=T.interaction,z=T.coords,V=T.state,ne=V.options,Se=V.offsets,Ue=(0,ye.default)(D.interactable,D.element,D.prepared.name),Fe=(0,W.default)({},z),ot=[];ne.offsetWithOrigin||(Fe.x-=Ue.x,Fe.y-=Ue.y);for(var Ft=0;Ft<Se.length;Ft++)for(var Bt=Se[Ft],ei=Fe.x-Bt.x,wi=Fe.y-Bt.y,Pi=0,pi=ne.targets.length;Pi<pi;Pi++){var Vi,qi=ne.targets[Pi];(Vi=m.default.func(qi)?qi(ei,wi,D._proxy,Bt,Pi):qi)&&ot.push({x:(m.default.number(Vi.x)?Vi.x:ei)+Bt.x,y:(m.default.number(Vi.y)?Vi.y:wi)+Bt.y,range:m.default.number(Vi.range)?Vi.range:ne.range,source:qi,index:Pi,offset:Bt})}for(var Ji={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},sr=0;sr<ot.length;sr++){var Hr=ot[sr],Gr=Hr.range,un=Hr.x-Fe.x,_n=Hr.y-Fe.y,ln=(0,Ze.default)(un,_n),kn=ln<=Gr;Gr===1/0&&Ji.inRange&&Ji.range!==1/0&&(kn=!1),Ji.target&&!(kn?Ji.inRange&&Gr!==1/0?ln/Gr<Ji.distance/Ji.range:Gr===1/0&&Ji.range!==1/0||ln<Ji.distance:!Ji.inRange&&ln<Ji.distance)||(Ji.target=Hr,Ji.distance=ln,Ji.range=Gr,Ji.inRange=kn,Ji.delta.x=un,Ji.delta.y=_n)}return Ji.inRange&&(z.x=Ji.target.x,z.y=Ji.target.y),V.closest=Ji,Ji},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};nn.snap=Or;var Lo=(0,Vr.makeModifier)(Or,"snap");nn.default=Lo;var zn={};function pn(T,D){(D==null||D>T.length)&&(D=T.length);for(var z=0,V=Array(D);z<D;z++)V[z]=T[z];return V}Object.defineProperty(zn,"__esModule",{value:!0}),zn.snapSize=zn.default=void 0;var A0={start:function(T){var D=T.state,z=T.edges,V=D.options;if(!z)return null;T.state={options:{targets:null,relativePoints:[{x:z.left?0:1,y:z.top?0:1}],offset:V.offset||"self",origin:{x:0,y:0},range:V.range}},D.targetFields=D.targetFields||[["width","height"],["x","y"]],nn.snap.start(T),D.offsets=T.state.offsets,T.state=D},set:function(T){var D,z=T.interaction,V=T.state,ne=T.coords,Se=V.options,Ue=V.offsets,Fe={x:ne.x-Ue[0].x,y:ne.y-Ue[0].y};V.options=(0,W.default)({},Se),V.options.targets=[];for(var ot=0;ot<(Se.targets||[]).length;ot++){var Ft=(Se.targets||[])[ot],Bt=void 0;if(Bt=m.default.func(Ft)?Ft(Fe.x,Fe.y,z):Ft){for(var ei=0;ei<V.targetFields.length;ei++){var wi=function(qi){if(Array.isArray(qi))return qi}(D=V.targetFields[ei])||function(qi,Ji){var sr=qi==null?null:typeof Symbol<"u"&&qi[Symbol.iterator]||qi["@@iterator"];if(sr!=null){var Hr,Gr,un=[],_n=!0,ln=!1;try{for(sr=sr.call(qi);!(_n=(Hr=sr.next()).done)&&(un.push(Hr.value),un.length!==2);_n=!0);}catch(kn){ln=!0,Gr=kn}finally{try{_n||sr.return==null||sr.return()}finally{if(ln)throw Gr}}return un}}(D)||function(qi,Ji){if(qi){if(typeof qi=="string")return pn(qi,2);var sr=Object.prototype.toString.call(qi).slice(8,-1);return sr==="Object"&&qi.constructor&&(sr=qi.constructor.name),sr==="Map"||sr==="Set"?Array.from(qi):sr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(sr)?pn(qi,2):void 0}}(D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),Pi=wi[0],pi=wi[1];if(Pi in Bt||pi in Bt){Bt.x=Bt[Pi],Bt.y=Bt[pi];break}}V.options.targets.push(Bt)}}var Vi=nn.snap.set(T);return V.options=Se,Vi},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};zn.snapSize=A0;var Q5=(0,Vr.makeModifier)(A0,"snapSize");zn.default=Q5;var zl={};Object.defineProperty(zl,"__esModule",{value:!0}),zl.snapEdges=zl.default=void 0;var S0={start:function(T){var D=T.edges;return D?(T.state.targetFields=T.state.targetFields||[[D.left?"left":"right",D.top?"top":"bottom"]],zn.snapSize.start(T)):null},set:zn.snapSize.set,defaults:(0,W.default)((0,_e.default)(zn.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};zl.snapEdges=S0;var e3=(0,Vr.makeModifier)(S0,"snapEdges");zl.default=e3;var vp={};Object.defineProperty(vp,"__esModule",{value:!0}),Object.defineProperty(vp,"default",{enumerable:!0,get:function(){return oo.default}});var yp={};Object.defineProperty(yp,"__esModule",{value:!0}),Object.defineProperty(yp,"default",{enumerable:!0,get:function(){return oo.default}});var Ul={};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.default=void 0;var t3={aspectRatio:wo.default,restrictEdges:Ie.default,restrict:Bn.default,restrictRect:hi.default,restrictSize:Bi.default,snapEdges:zl.default,snap:nn.default,snapSize:zn.default,spring:vp.default,avoid:$o.default,transform:yp.default,rubberband:tn.default};Ul.default=t3;var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.default=void 0;var i3={id:"modifiers",install:function(T){var D=T.interactStatic;for(var z in T.usePlugin(Vr.default),T.usePlugin(hn.default),D.modifiers=Ul.default,Ul.default){var V=Ul.default[z],ne=V._defaults,Se=V._methods;ne._methods=Se,T.defaults.perAction[z]=ne}}},r3=i3;Uc.default=r3;var Ss={};function bp(T){return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},bp(T)}function wp(T,D){return wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},wp(T,D)}function xp(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function md(T){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},md(T)}Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.default=Ss.PointerEvent=void 0;var n3=function(T){(function(Fe,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(ot&&ot.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),ot&&wp(Fe,ot)})(Ue,T);var D,z,V,ne,Se=(V=Ue,ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var Fe,ot=md(V);if(ne){var Ft=md(this).constructor;Fe=Reflect.construct(ot,arguments,Ft)}else Fe=ot.apply(this,arguments);return function(Bt,ei){if(ei&&(bp(ei)==="object"||typeof ei=="function"))return ei;if(ei!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xp(Bt)}(this,Fe)});function Ue(Fe,ot,Ft,Bt,ei,wi){var Pi;if(function(qi,Ji){if(!(qi instanceof Ji))throw new TypeError("Cannot call a class as a function")}(this,Ue),Pi=Se.call(this,ei),ct.pointerExtend(xp(Pi),Ft),Ft!==ot&&ct.pointerExtend(xp(Pi),ot),Pi.timeStamp=wi,Pi.originalEvent=Ft,Pi.type=Fe,Pi.pointerId=ct.getPointerId(ot),Pi.pointerType=ct.getPointerType(ot),Pi.target=Bt,Pi.currentTarget=null,Fe==="tap"){var pi=ei.getPointerIndex(ot);Pi.dt=Pi.timeStamp-ei.pointers[pi].downTime;var Vi=Pi.timeStamp-ei.tapTime;Pi.double=!!ei.prevTap&&ei.prevTap.type!=="doubletap"&&ei.prevTap.target===Pi.target&&Vi<500}else Fe==="doubletap"&&(Pi.dt=ot.timeStamp-ei.tapTime,Pi.double=!0);return Pi}return D=Ue,(z=[{key:"_subtractOrigin",value:function(Fe){var ot=Fe.x,Ft=Fe.y;return this.pageX-=ot,this.pageY-=Ft,this.clientX-=ot,this.clientY-=Ft,this}},{key:"_addOrigin",value:function(Fe){var ot=Fe.x,Ft=Fe.y;return this.pageX+=ot,this.pageY+=Ft,this.clientX+=ot,this.clientY+=Ft,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(Fe,ot){for(var Ft=0;Ft<ot.length;Ft++){var Bt=ot[Ft];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Fe,Bt.key,Bt)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),Ue}(rt.BaseEvent);Ss.PointerEvent=Ss.default=n3;var Vc={};Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.default=void 0;var gd={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(T){T.pointerEvents=gd,T.defaults.actions.pointerEvents=gd.defaults,(0,W.default)(T.actions.phaselessTypes,gd.types)},listeners:{"interactions:new":function(T){var D=T.interaction;D.prevTap=null,D.tapTime=0},"interactions:update-pointer":function(T){var D=T.down,z=T.pointerInfo;!D&&z.hold||(z.hold={duration:1/0,timeout:null})},"interactions:move":function(T,D){var z=T.interaction,V=T.pointer,ne=T.event,Se=T.eventTarget;T.duplicate||z.pointerIsDown&&!z.pointerWasMoved||(z.pointerIsDown&&_p(T),ns({interaction:z,pointer:V,event:ne,eventTarget:Se,type:"move"},D))},"interactions:down":function(T,D){(function(z,V){for(var ne=z.interaction,Se=z.pointer,Ue=z.event,Fe=z.eventTarget,ot=z.pointerIndex,Ft=ne.pointers[ot].hold,Bt=q.getPath(Fe),ei={interaction:ne,pointer:Se,event:Ue,eventTarget:Fe,type:"hold",targets:[],path:Bt,node:null},wi=0;wi<Bt.length;wi++){var Pi=Bt[wi];ei.node=Pi,V.fire("pointerEvents:collect-targets",ei)}if(ei.targets.length){for(var pi=1/0,Vi=0;Vi<ei.targets.length;Vi++){var qi=ei.targets[Vi].eventable.options.holdDuration;qi<pi&&(pi=qi)}Ft.duration=pi,Ft.timeout=setTimeout(function(){ns({interaction:ne,eventTarget:Fe,pointer:Se,event:Ue,type:"hold"},V)},pi)}})(T,D),ns(T,D)},"interactions:up":function(T,D){_p(T),ns(T,D),function(z,V){var ne=z.interaction,Se=z.pointer,Ue=z.event,Fe=z.eventTarget;ne.pointerWasMoved||ns({interaction:ne,eventTarget:Fe,pointer:Se,event:Ue,type:"tap"},V)}(T,D)},"interactions:cancel":function(T,D){_p(T),ns(T,D)}},PointerEvent:Ss.PointerEvent,fire:ns,collectEventTargets:C0,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ns(T,D){var z=T.interaction,V=T.pointer,ne=T.event,Se=T.eventTarget,Ue=T.type,Fe=T.targets,ot=Fe===void 0?C0(T,D):Fe,Ft=new Ss.PointerEvent(Ue,V,ne,Se,z,D.now());D.fire("pointerEvents:new",{pointerEvent:Ft});for(var Bt={interaction:z,pointer:V,event:ne,eventTarget:Se,targets:ot,type:Ue,pointerEvent:Ft},ei=0;ei<ot.length;ei++){var wi=ot[ei];for(var Pi in wi.props||{})Ft[Pi]=wi.props[Pi];var pi=(0,ye.default)(wi.eventable,wi.node);if(Ft._subtractOrigin(pi),Ft.eventable=wi.eventable,Ft.currentTarget=wi.node,wi.eventable.fire(Ft),Ft._addOrigin(pi),Ft.immediatePropagationStopped||Ft.propagationStopped&&ei+1<ot.length&&ot[ei+1].node!==Ft.currentTarget)break}if(D.fire("pointerEvents:fired",Bt),Ue==="tap"){var Vi=Ft.double?ns({interaction:z,pointer:V,event:ne,eventTarget:Se,type:"doubletap"},D):Ft;z.prevTap=Vi,z.tapTime=Vi.timeStamp}return Ft}function C0(T,D){var z=T.interaction,V=T.pointer,ne=T.event,Se=T.eventTarget,Ue=T.type,Fe=z.getPointerIndex(V),ot=z.pointers[Fe];if(Ue==="tap"&&(z.pointerWasMoved||!ot||ot.downTarget!==Se))return[];for(var Ft=q.getPath(Se),Bt={interaction:z,pointer:V,event:ne,eventTarget:Se,type:Ue,path:Ft,targets:[],node:null},ei=0;ei<Ft.length;ei++){var wi=Ft[ei];Bt.node=wi,D.fire("pointerEvents:collect-targets",Bt)}return Ue==="hold"&&(Bt.targets=Bt.targets.filter(function(Pi){var pi;return Pi.eventable.options.holdDuration===((pi=z.pointers[Fe])==null?void 0:pi.hold.duration)})),Bt.targets}function _p(T){var D=T.interaction,z=T.pointerIndex,V=D.pointers[z].hold;V&&V.timeout&&(clearTimeout(V.timeout),V.timeout=null)}var o3=gd;Vc.default=o3;var vd={};function a3(T){var D=T.interaction;D.holdIntervalHandle&&(clearInterval(D.holdIntervalHandle),D.holdIntervalHandle=null)}Object.defineProperty(vd,"__esModule",{value:!0}),vd.default=void 0;var s3={id:"pointer-events/holdRepeat",install:function(T){T.usePlugin(Vc.default);var D=T.pointerEvents;D.defaults.holdRepeatInterval=0,D.types.holdrepeat=T.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(T,D){return T["pointerEvents:".concat(D)]=a3,T},{"pointerEvents:new":function(T){var D=T.pointerEvent;D.type==="hold"&&(D.count=(D.count||0)+1)},"pointerEvents:fired":function(T,D){var z=T.interaction,V=T.pointerEvent,ne=T.eventTarget,Se=T.targets;if(V.type==="hold"&&Se.length){var Ue=Se[0].eventable.options.holdRepeatInterval;Ue<=0||(z.holdIntervalHandle=setTimeout(function(){D.pointerEvents.fire({interaction:z,eventTarget:ne,type:"hold",pointer:V,event:V},D)},Ue))}}})},l3=s3;vd.default=l3;var yd={};function c3(T){return(0,W.default)(this.events.options,T),this}Object.defineProperty(yd,"__esModule",{value:!0}),yd.default=void 0;var u3={id:"pointer-events/interactableTargets",install:function(T){var D=T.Interactable;D.prototype.pointerEvents=c3;var z=D.prototype._backCompatOption;D.prototype._backCompatOption=function(V,ne){var Se=z.call(this,V,ne);return Se===this&&(this.events.options[V]=ne),Se}},listeners:{"pointerEvents:collect-targets":function(T,D){var z=T.targets,V=T.node,ne=T.type,Se=T.eventTarget;D.interactables.forEachMatch(V,function(Ue){var Fe=Ue.events,ot=Fe.options;Fe.types[ne]&&Fe.types[ne].length&&Ue.testIgnoreAllow(ot,V,Se)&&z.push({node:V,eventable:Fe,props:{interactable:Ue}})})},"interactable:new":function(T){var D=T.interactable;D.events.getRect=function(z){return D.getRect(z)}},"interactable:set":function(T,D){var z=T.interactable,V=T.options;(0,W.default)(z.events.options,D.pointerEvents.defaults),(0,W.default)(z.events.options,V.pointerEvents||{})}}},d3=u3;yd.default=d3;var Wc={};Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.default=void 0;var h3={id:"pointer-events",install:function(T){T.usePlugin(Vc),T.usePlugin(vd.default),T.usePlugin(yd.default)}},p3=h3;Wc.default=p3;var Vl={};function E0(T){var D=T.Interactable;T.actions.phases.reflow=!0,D.prototype.reflow=function(z){return function(V,ne,Se){for(var Ue=m.default.string(V.target)?J.from(V._context.querySelectorAll(V.target)):[V.target],Fe=Se.window.Promise,ot=Fe?[]:null,Ft=function(){var ei=Ue[Bt],wi=V.getRect(ei);if(!wi)return"break";var Pi=J.find(Se.interactions.list,function(sr){return sr.interacting()&&sr.interactable===V&&sr.element===ei&&sr.prepared.name===ne.name}),pi=void 0;if(Pi)Pi.move(),ot&&(pi=Pi._reflowPromise||new Fe(function(sr){Pi._reflowResolve=sr}));else{var Vi=(0,ae.tlbrToXywh)(wi),qi={page:{x:Vi.x,y:Vi.y},client:{x:Vi.x,y:Vi.y},timeStamp:Se.now()},Ji=ct.coordsToEvent(qi);pi=function(sr,Hr,Gr,un,_n){var ln=sr.interactions.new({pointerType:"reflow"}),kn={interaction:ln,event:_n,pointer:_n,eventTarget:Gr,phase:"reflow"};ln.interactable=Hr,ln.element=Gr,ln.prevEvent=_n,ln.updatePointer(_n,_n,Gr,!0),ct.setZeroCoords(ln.coords.delta),(0,Pt.copyAction)(ln.prepared,un),ln._doPhase(kn);var ga=sr.window.Promise,ja=ga?new ga(function(Ap){ln._reflowResolve=Ap}):void 0;return ln._reflowPromise=ja,ln.start(un,Hr,Gr),ln._interacting?(ln.move(kn),ln.end(_n)):(ln.stop(),ln._reflowResolve()),ln.removePointer(_n,_n),ja}(Se,V,ei,ne,Ji)}ot&&ot.push(pi)},Bt=0;Bt<Ue.length&&Ft()!=="break";Bt++);return ot&&Fe.all(ot).then(function(){return V})}(this,z,T)}}Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.default=void 0,Vl.install=E0;var f3={id:"reflow",install:E0,listeners:{"interactions:stop":function(T,D){var z=T.interaction;z.pointerType==="reflow"&&(z._reflowResolve&&z._reflowResolve(),J.remove(D.interactions.list,z))}}},m3=f3;Vl.default=m3;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.default=void 0,xi.default.use($r.default),xi.default.use(Zn.default),xi.default.use(Wc.default),xi.default.use(fo.default),xi.default.use(Uc.default),xi.default.use(Jr.default),xi.default.use(Le.default),xi.default.use(Lt.default),xi.default.use(Vl.default);var g3=xi.default;Cs.default=g3,xi.default.default=xi.default,Le.default,Lt.default,Jr.default,$r.default,be.default,fo.default,xi.default,Uc.default,Zn.default,Wc.default,Vl.default;var Es={exports:{}};function kp(T){return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},kp(T)}Object.defineProperty(Es.exports,"__esModule",{value:!0}),Es.exports.default=void 0;var v3=Cs.default;if(Es.exports.default=v3,kp(Es)==="object"&&Es)try{Es.exports=Cs.default}catch(T){}return Cs.default.default=Cs.default,Es.exports}()},4638:function(o,c,n){(function(u,p,g){var m,y,x,w,k,S,P,E,L,s,h,v,d,_,C,N,G,q,K,ie,Q,te,Oe,fe,W,ae,de,Z,ye,Y,ce,Ze,ft,ct={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return u(this).attr("href")},title:function(){return this.title},createImg:function(){var It=new Image,Et=u(this).data("cbox-img-attrs");return typeof Et=="object"&&u.each(Et,function(Ct,St){It[Ct]=St}),It},createIframe:function(){var It=p.createElement("iframe"),Et=u(this).data("cbox-iframe-attrs");return typeof Et=="object"&&u.each(Et,function(Ct,St){It[Ct]=St}),"frameBorder"in It&&(It.frameBorder=0),"allowTransparency"in It&&(It.allowTransparency="true"),It.name=new Date().getTime(),It.allowFullscreen=!0,It}},Ge="colorbox",Ae="cbox",Me=Ae+"Element",De=Ae+"_open",Ne=Ae+"_load",Ve=Ae+"_complete",rt=Ae+"_cleanup",je=Ae+"_closed",ee=Ae+"_purge",J=u("<a/>"),qe="div",_t=0,we={};function $e(It,Et,Ct){var St=p.createElement(It);return Et&&(St.id=Ae+Et),Ct&&(St.style.cssText=Ct),u(St)}function at(){return g.innerHeight?g.innerHeight:u(g).height()}function Ee(It,Et){Et!==Object(Et)&&(Et={}),this.cache={},this.el=It,this.value=function(Ct){var St;return this.cache[Ct]===void 0&&((St=u(this.el).attr("data-cbox-"+Ct))!==void 0?this.cache[Ct]=St:Et[Ct]!==void 0?this.cache[Ct]=Et[Ct]:ct[Ct]!==void 0&&(this.cache[Ct]=ct[Ct])),this.cache[Ct]},this.get=function(Ct){var St=this.value(Ct);return u.isFunction(St)?St.call(this.el,this):St}}function tt(It){var Et=L.length,Ct=(ae+It)%Et;return Ct<0?Et+Ct:Ct}function nt(It,Et){return Math.round((/%/.test(It)?(Et==="x"?s.width():at())/100:1)*parseInt(It,10))}function Vt(It,Et){return It.get("photo")||It.get("photoRegex").test(Et)}function dt(It,Et){return It.get("retinaUrl")&&g.devicePixelRatio>1?Et.replace(It.get("photoRegex"),It.get("retinaSuffix")):Et}function vt(It){"contains"in y[0]&&!y[0].contains(It.target)&&It.target!==m[0]&&(It.stopPropagation(),y.focus())}function Rt(It){Rt.str!==It&&(y.add(m).removeClass(Rt.str).addClass(It),Rt.str=It)}function ii(It){u(p).trigger(It),J.triggerHandler(It)}var ai=function(){var It,Et,Ct=Ae+"Slideshow_",St="click."+Ae;function I(){clearTimeout(Et)}function We(){(Q.get("loop")||L[ae+1])&&(I(),Et=setTimeout(Ze.next,Q.get("slideshowSpeed")))}function ke(){N.html(Q.get("slideshowStop")).unbind(St).one(St,Ye),J.bind(Ve,We).bind(Ne,I),y.removeClass(Ct+"off").addClass(Ct+"on")}function Ye(){I(),J.unbind(Ve,We).unbind(Ne,I),N.html(Q.get("slideshowStart")).unbind(St).one(St,function(){Ze.next(),ke()}),y.removeClass(Ct+"on").addClass(Ct+"off")}function Qe(){It=!1,N.hide(),I(),J.unbind(Ve,We).unbind(Ne,I),y.removeClass(Ct+"off "+Ct+"on")}return function(){It?Q.get("slideshow")||(J.unbind(rt,Qe),Qe()):Q.get("slideshow")&&L[1]&&(It=!0,J.one(rt,Qe),Q.get("slideshowAuto")?ke():Ye(),N.show())}}();function ui(It){var Et,Ct;if(!Y){if(Et=u(It).data(Ge),Q=new Ee(It,Et),Ct=Q.get("rel"),ae=0,Ct&&Ct!==!1&&Ct!=="nofollow"?(L=u("."+Me).filter(function(){return new Ee(this,u.data(this,Ge)).get("rel")===Ct}),(ae=L.index(Q.el))===-1&&(L=L.add(Q.el),ae=L.length-1)):L=u(Q.el),!Z){Z=ye=!0,Rt(Q.get("className")),y.css({visibility:"hidden",display:"block",opacity:""}),h=$e(qe,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),w.css({width:"",height:""}).append(h),te=k.height()+E.height()+w.outerHeight(!0)-w.height(),Oe=S.width()+P.width()+w.outerWidth(!0)-w.width(),fe=h.outerHeight(!0),W=h.outerWidth(!0);var St=nt(Q.get("initialWidth"),"x"),I=nt(Q.get("initialHeight"),"y"),We=Q.get("maxWidth"),ke=Q.get("maxHeight");Q.w=Math.max((We!==!1?Math.min(St,nt(We,"x")):St)-W-Oe,0),Q.h=Math.max((ke!==!1?Math.min(I,nt(ke,"y")):I)-fe-te,0),h.css({width:"",height:Q.h}),Ze.position(),ii(De),Q.get("onOpen"),ie.add(_).hide(),y.focus(),Q.get("trapFocus")&&p.addEventListener&&(p.addEventListener("focus",vt,!0),J.one(je,function(){p.removeEventListener("focus",vt,!0)})),Q.get("returnFocus")&&J.one(je,function(){u(Q.el).focus()})}var Ye=parseFloat(Q.get("opacity"));m.css({opacity:Ye==Ye?Ye:"",cursor:Q.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),Q.get("closeButton")?K.html(Q.get("close")).appendTo(w):K.appendTo("<div/>"),function(){var Qe,ht,oe,Le=Ze.prep,ze=++_t;if(ye=!0,de=!1,ii(ee),ii(Ne),Q.get("onLoad"),Q.h=Q.get("height")?nt(Q.get("height"),"y")-fe-te:Q.get("innerHeight")&&nt(Q.get("innerHeight"),"y"),Q.w=Q.get("width")?nt(Q.get("width"),"x")-W-Oe:Q.get("innerWidth")&&nt(Q.get("innerWidth"),"x"),Q.mw=Q.w,Q.mh=Q.h,Q.get("maxWidth")&&(Q.mw=nt(Q.get("maxWidth"),"x")-W-Oe,Q.mw=Q.w&&Q.w<Q.mw?Q.w:Q.mw),Q.get("maxHeight")&&(Q.mh=nt(Q.get("maxHeight"),"y")-fe-te,Q.mh=Q.h&&Q.h<Q.mh?Q.h:Q.mh),Qe=Q.get("href"),ce=setTimeout(function(){d.show()},100),Q.get("inline")){var yt=u(Qe).eq(0);oe=u("<div>").hide().insertBefore(yt),J.one(ee,function(){oe.replaceWith(yt)}),Le(yt)}else Q.get("iframe")?Le(" "):Q.get("html")?Le(Q.get("html")):Vt(Q,Qe)?(Qe=dt(Q,Qe),de=Q.get("createImg"),u(de).addClass(Ae+"Photo").bind("error."+Ae,function(){Le($e(qe,"Error").html(Q.get("imgError")))}).one("load",function(){ze===_t&&setTimeout(function(){var ut;Q.get("retinaImage")&&g.devicePixelRatio>1&&(de.height=de.height/g.devicePixelRatio,de.width=de.width/g.devicePixelRatio),Q.get("scalePhotos")&&(ht=function(){de.height-=de.height*ut,de.width-=de.width*ut},Q.mw&&de.width>Q.mw&&(ut=(de.width-Q.mw)/de.width,ht()),Q.mh&&de.height>Q.mh&&(ut=(de.height-Q.mh)/de.height,ht())),Q.h&&(de.style.marginTop=Math.max(Q.mh-de.height,0)/2+"px"),L[1]&&(Q.get("loop")||L[ae+1])&&(de.style.cursor="pointer",u(de).bind("click."+Ae,function(){Ze.next()})),de.style.width=de.width+"px",de.style.height=de.height+"px",Le(de)},1)}),de.src=Qe):Qe&&v.load(Qe,Q.get("data"),function(ut,Tt){ze===_t&&Le(Tt==="error"?$e(qe,"Error").html(Q.get("xhrError")):u(this).contents())})}()}}function Mt(){y||(ft=!1,s=u(g),y=$e(qe).attr({id:Ge,class:u.support.opacity===!1?Ae+"IE":"",role:"dialog",tabindex:"-1"}).hide(),m=$e(qe,"Overlay").hide(),d=u([$e(qe,"LoadingOverlay")[0],$e(qe,"LoadingGraphic")[0]]),x=$e(qe,"Wrapper"),w=$e(qe,"Content").append(_=$e(qe,"Title"),C=$e(qe,"Current"),q=u('<button type="button"/>').attr({id:Ae+"Previous"}),G=u('<button type="button"/>').attr({id:Ae+"Next"}),N=u('<button type="button"/>').attr({id:Ae+"Slideshow"}),d),K=u('<button type="button"/>').attr({id:Ae+"Close"}),x.append($e(qe).append($e(qe,"TopLeft"),k=$e(qe,"TopCenter"),$e(qe,"TopRight")),$e(qe,!1,"clear:left").append(S=$e(qe,"MiddleLeft"),w,P=$e(qe,"MiddleRight")),$e(qe,!1,"clear:left").append($e(qe,"BottomLeft"),E=$e(qe,"BottomCenter"),$e(qe,"BottomRight"))).find("div div").css({float:"left"}),v=$e(qe,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),ie=G.add(q).add(C).add(N)),p.body&&!y.parent().length&&u(p.body).append(m,y.append(x,v))}u[Ge]||(u(Mt),(Ze=u.fn[Ge]=u[Ge]=function(It,Et){var Ct=this;return It=It||{},u.isFunction(Ct)&&(Ct=u("<a/>"),It.open=!0),Ct[0]&&(Mt(),function(){function St(I){I.which>1||I.shiftKey||I.altKey||I.metaKey||I.ctrlKey||(I.preventDefault(),ui(this))}return!!y&&(ft||(ft=!0,G.click(function(){Ze.next()}),q.click(function(){Ze.prev()}),K.click(function(){Ze.close()}),m.click(function(){Q.get("overlayClose")&&Ze.close()}),u(p).bind("keydown."+Ae,function(I){var We=I.keyCode;Z&&Q.get("escKey")&&We===27&&(I.preventDefault(),Ze.close()),Z&&Q.get("arrowKey")&&L[1]&&!I.altKey&&(We===37?(I.preventDefault(),q.click()):We===39&&(I.preventDefault(),G.click()))}),u.isFunction(u.fn.on)?u(p).on("click."+Ae,"."+Me,St):u("."+Me).live("click."+Ae,St)),!0)}()&&(Et&&(It.onComplete=Et),Ct.each(function(){var St=u.data(this,Ge)||{};u.data(this,Ge,u.extend(St,It))}).addClass(Me),new Ee(Ct[0],It).get("open")&&ui(Ct[0]))),Ct}).position=function(It,Et){var Ct,St,I,We=0,ke=0,Ye=y.offset();function Qe(){k[0].style.width=E[0].style.width=w[0].style.width=parseInt(y[0].style.width,10)-Oe+"px",w[0].style.height=S[0].style.height=P[0].style.height=parseInt(y[0].style.height,10)-te+"px"}if(s.unbind("resize."+Ae),y.css({top:-9e4,left:-9e4}),St=s.scrollTop(),I=s.scrollLeft(),Q.get("fixed")?(Ye.top-=St,Ye.left-=I,y.css({position:"fixed"})):(We=St,ke=I,y.css({position:"absolute"})),Q.get("right")!==!1?ke+=Math.max(s.width()-Q.w-W-Oe-nt(Q.get("right"),"x"),0):Q.get("left")!==!1?ke+=nt(Q.get("left"),"x"):ke+=Math.round(Math.max(s.width()-Q.w-W-Oe,0)/2),Q.get("bottom")!==!1?We+=Math.max(at()-Q.h-fe-te-nt(Q.get("bottom"),"y"),0):Q.get("top")!==!1?We+=nt(Q.get("top"),"y"):We+=Math.round(Math.max(at()-Q.h-fe-te,0)/2),y.css({top:Ye.top,left:Ye.left,visibility:"visible"}),x[0].style.width=x[0].style.height="9999px",Ct={width:Q.w+W+Oe,height:Q.h+fe+te,top:We,left:ke},It){var ht=0;u.each(Ct,function(oe){Ct[oe]===we[oe]||(ht=It)}),It=ht}we=Ct,It||y.css(Ct),y.dequeue().animate(Ct,{duration:It||0,complete:function(){Qe(),ye=!1,x[0].style.width=Q.w+W+Oe+"px",x[0].style.height=Q.h+fe+te+"px",Q.get("reposition")&&setTimeout(function(){s.bind("resize."+Ae,Ze.position)},1),u.isFunction(Et)&&Et()},step:Qe})},Ze.resize=function(It){var Et;Z&&((It=It||{}).width&&(Q.w=nt(It.width,"x")-W-Oe),It.innerWidth&&(Q.w=nt(It.innerWidth,"x")),h.css({width:Q.w}),It.height&&(Q.h=nt(It.height,"y")-fe-te),It.innerHeight&&(Q.h=nt(It.innerHeight,"y")),It.innerHeight||It.height||(Et=h.scrollTop(),h.css({height:"auto"}),Q.h=h.height()),h.css({height:Q.h}),Et&&h.scrollTop(Et),Ze.position(Q.get("transition")==="none"?0:Q.get("speed")))},Ze.prep=function(It){if(Z){var Et,Ct=Q.get("transition")==="none"?0:Q.get("speed");h.remove(),(h=$e(qe,"LoadedContent").append(It)).hide().appendTo(v.show()).css({width:(Q.w=Q.w||h.width(),Q.w=Q.mw&&Q.mw<Q.w?Q.mw:Q.w,Q.w),overflow:Q.get("scrolling")?"auto":"hidden"}).css({height:(Q.h=Q.h||h.height(),Q.h=Q.mh&&Q.mh<Q.h?Q.mh:Q.h,Q.h)}).prependTo(w),v.hide(),u(de).css({float:"none"}),Rt(Q.get("className")),Et=function(){var St,I,We=L.length;function ke(){u.support.opacity===!1&&y[0].style.removeAttribute("filter")}Z&&(I=function(){clearTimeout(ce),d.hide(),ii(Ve),Q.get("onComplete")},_.html(Q.get("title")).show(),h.show(),We>1?(typeof Q.get("current")=="string"&&C.html(Q.get("current").replace("{current}",ae+1).replace("{total}",We)).show(),G[Q.get("loop")||ae<We-1?"show":"hide"]().html(Q.get("next")),q[Q.get("loop")||ae?"show":"hide"]().html(Q.get("previous")),ai(),Q.get("preloading")&&u.each([tt(-1),tt(1)],function(){var Ye=L[this],Qe=new Ee(Ye,u.data(Ye,Ge)),ht=Qe.get("href");ht&&Vt(Qe,ht)&&(ht=dt(Qe,ht),p.createElement("img").src=ht)})):ie.hide(),Q.get("iframe")?(St=Q.get("createIframe"),Q.get("scrolling")||(St.scrolling="no"),u(St).attr({src:Q.get("href"),class:Ae+"Iframe"}).one("load",I).appendTo(h),J.one(ee,function(){St.src="//about:blank"}),Q.get("fastIframe")&&u(St).trigger("load")):I(),Q.get("transition")==="fade"?y.fadeTo(Ct,1,ke):ke())},Q.get("transition")==="fade"?y.fadeTo(Ct,0,function(){Ze.position(0,Et)}):Ze.position(Ct,Et)}},Ze.next=function(){!ye&&L[1]&&(Q.get("loop")||L[ae+1])&&(ae=tt(1),ui(L[ae]))},Ze.prev=function(){!ye&&L[1]&&(Q.get("loop")||ae)&&(ae=tt(-1),ui(L[ae]))},Ze.close=function(){Z&&!Y&&(Y=!0,Z=!1,ii(rt),Q.get("onCleanup"),s.unbind("."+Ae),m.fadeTo(Q.get("fadeOut")||0,0),y.stop().fadeTo(Q.get("fadeOut")||0,0,function(){y.hide(),m.hide(),ii(ee),h.remove(),setTimeout(function(){Y=!1,ii(je),Q.get("onClosed")},1)}))},Ze.remove=function(){y&&(y.stop(),u[Ge].close(),y.stop(!1,!0).remove(),m.remove(),Y=!1,y=null,u("."+Me).removeData(Ge).removeClass(Me),u(p).unbind("click."+Ae).unbind("keydown."+Ae))},Ze.element=function(){return u(Q.el)},Ze.settings=ct)})(n(1669),document,window)},8497:function(o,c,n){(function(u){if(u.support.touch="ontouchend"in document,u.support.touch){var p,g=u.ui.mouse.prototype,m=g._mouseInit,y=g._mouseDestroy;g._touchStart=function(w){!p&&this._mouseCapture(w.originalEvent.changedTouches[0])&&(p=!0,this._touchMoved=!1,x(w,"mouseover"),x(w,"mousemove"),x(w,"mousedown"))},g._touchMove=function(w){p&&(this._touchMoved=!0,x(w,"mousemove"))},g._touchEnd=function(w){p&&(x(w,"mouseup"),x(w,"mouseout"),this._touchMoved||x(w,"click"),p=!1)},g._mouseInit=function(){var w=this;w.element.bind({touchstart:u.proxy(w,"_touchStart"),touchmove:u.proxy(w,"_touchMove"),touchend:u.proxy(w,"_touchEnd")}),m.call(w)},g._mouseDestroy=function(){var w=this;w.element.unbind({touchstart:u.proxy(w,"_touchStart"),touchmove:u.proxy(w,"_touchMove"),touchend:u.proxy(w,"_touchEnd")}),y.call(w)}}function x(w,k){if(!(w.originalEvent.touches.length>1)){w.preventDefault();var S=w.originalEvent.changedTouches[0],P=document.createEvent("MouseEvents");P.initMouseEvent(k,!0,!0,window,1,S.screenX,S.screenY,S.clientX,S.clientY,!1,!1,!1,!1,0,null),w.target.dispatchEvent(P)}}})(n(1669))},8045:function(o,c,n){var u,p,g;p=[n(1669),n(6883)],(g=typeof(u=function(m){return m.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})=="function"?u.apply(c,p):u)===void 0||(o.exports=g)},1897:function(o,c,n){var u,p,g;p=[n(1669),n(6883)],(g=typeof(u=function(m){return m.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})=="function"?u.apply(c,p):u)===void 0||(o.exports=g)},6883:function(o,c,n){var u,p,g;p=[n(1669)],(g=typeof(u=function(m){return m.ui=m.ui||{},m.ui.version="1.12.1"})=="function"?u.apply(c,p):u)===void 0||(o.exports=g)},9139:function(o,c,n){var u,p,g;p=[n(1669),n(6883)],u=function(m){var y,x=0,w=Array.prototype.slice;return m.cleanData=(y=m.cleanData,function(k){var S,P,E;for(E=0;(P=k[E])!=null;E++)try{(S=m._data(P,"events"))&&S.remove&&m(P).triggerHandler("remove")}catch(L){}y(k)}),m.widget=function(k,S,P){var E,L,s,h={},v=k.split(".")[0],d=v+"-"+(k=k.split(".")[1]);return P||(P=S,S=m.Widget),m.isArray(P)&&(P=m.extend.apply(null,[{}].concat(P))),m.expr[":"][d.toLowerCase()]=function(_){return!!m.data(_,d)},m[v]=m[v]||{},E=m[v][k],L=m[v][k]=function(_,C){if(!this._createWidget)return new L(_,C);arguments.length&&this._createWidget(_,C)},m.extend(L,E,{version:P.version,_proto:m.extend({},P),_childConstructors:[]}),(s=new S).options=m.widget.extend({},s.options),m.each(P,function(_,C){m.isFunction(C)?h[_]=function(){function N(){return S.prototype[_].apply(this,arguments)}function G(q){return S.prototype[_].apply(this,q)}return function(){var q,K=this._super,ie=this._superApply;return this._super=N,this._superApply=G,q=C.apply(this,arguments),this._super=K,this._superApply=ie,q}}():h[_]=C}),L.prototype=m.widget.extend(s,{widgetEventPrefix:E&&s.widgetEventPrefix||k},h,{constructor:L,namespace:v,widgetName:k,widgetFullName:d}),E?(m.each(E._childConstructors,function(_,C){var N=C.prototype;m.widget(N.namespace+"."+N.widgetName,L,C._proto)}),delete E._childConstructors):S._childConstructors.push(L),m.widget.bridge(k,L),L},m.widget.extend=function(k){for(var S,P,E=w.call(arguments,1),L=0,s=E.length;L<s;L++)for(S in E[L])P=E[L][S],E[L].hasOwnProperty(S)&&P!==void 0&&(m.isPlainObject(P)?k[S]=m.isPlainObject(k[S])?m.widget.extend({},k[S],P):m.widget.extend({},P):k[S]=P);return k},m.widget.bridge=function(k,S){var P=S.prototype.widgetFullName||k;m.fn[k]=function(E){var L=typeof E=="string",s=w.call(arguments,1),h=this;return L?this.length||E!=="instance"?this.each(function(){var v,d=m.data(this,P);return E==="instance"?(h=d,!1):d?m.isFunction(d[E])&&E.charAt(0)!=="_"?(v=d[E].apply(d,s))!==d&&v!==void 0?(h=v&&v.jquery?h.pushStack(v.get()):v,!1):void 0:m.error("no such method '"+E+"' for "+k+" widget instance"):m.error("cannot call methods on "+k+" prior to initialization; attempted to call method '"+E+"'")}):h=void 0:(s.length&&(E=m.widget.extend.apply(null,[E].concat(s))),this.each(function(){var v=m.data(this,P);v?(v.option(E||{}),v._init&&v._init()):m.data(this,P,new S(E,this))})),h}},m.Widget=function(){},m.Widget._childConstructors=[],m.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(k,S){S=m(S||this.defaultElement||this)[0],this.element=m(S),this.uuid=x++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=m(),this.hoverable=m(),this.focusable=m(),this.classesElementLookup={},S!==this&&(m.data(S,this.widgetFullName,this),this._on(!0,this.element,{remove:function(P){P.target===S&&this.destroy()}}),this.document=m(S.style?S.ownerDocument:S.document||S),this.window=m(this.document[0].defaultView||this.document[0].parentWindow)),this.options=m.widget.extend({},this.options,this._getCreateOptions(),k),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:m.noop,_create:m.noop,_init:m.noop,destroy:function(){var k=this;this._destroy(),m.each(this.classesElementLookup,function(S,P){k._removeClass(P,S)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:m.noop,widget:function(){return this.element},option:function(k,S){var P,E,L,s=k;if(arguments.length===0)return m.widget.extend({},this.options);if(typeof k=="string")if(s={},P=k.split("."),k=P.shift(),P.length){for(E=s[k]=m.widget.extend({},this.options[k]),L=0;L<P.length-1;L++)E[P[L]]=E[P[L]]||{},E=E[P[L]];if(k=P.pop(),arguments.length===1)return E[k]===void 0?null:E[k];E[k]=S}else{if(arguments.length===1)return this.options[k]===void 0?null:this.options[k];s[k]=S}return this._setOptions(s),this},_setOptions:function(k){var S;for(S in k)this._setOption(S,k[S]);return this},_setOption:function(k,S){return k==="classes"&&this._setOptionClasses(S),this.options[k]=S,k==="disabled"&&this._setOptionDisabled(S),this},_setOptionClasses:function(k){var S,P,E;for(S in k)E=this.classesElementLookup[S],k[S]!==this.options.classes[S]&&E&&E.length&&(P=m(E.get()),this._removeClass(E,S),P.addClass(this._classes({element:P,keys:S,classes:k,add:!0})))},_setOptionDisabled:function(k){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!k),k&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(k){var S=[],P=this;function E(L,s){var h,v;for(v=0;v<L.length;v++)h=P.classesElementLookup[L[v]]||m(),h=k.add?m(m.unique(h.get().concat(k.element.get()))):m(h.not(k.element).get()),P.classesElementLookup[L[v]]=h,S.push(L[v]),s&&k.classes[L[v]]&&S.push(k.classes[L[v]])}return k=m.extend({element:this.element,classes:this.options.classes||{}},k),this._on(k.element,{remove:"_untrackClassesElement"}),k.keys&&E(k.keys.match(/\S+/g)||[],!0),k.extra&&E(k.extra.match(/\S+/g)||[]),S.join(" ")},_untrackClassesElement:function(k){var S=this;m.each(S.classesElementLookup,function(P,E){m.inArray(k.target,E)!==-1&&(S.classesElementLookup[P]=m(E.not(k.target).get()))})},_removeClass:function(k,S,P){return this._toggleClass(k,S,P,!1)},_addClass:function(k,S,P){return this._toggleClass(k,S,P,!0)},_toggleClass:function(k,S,P,E){E=typeof E=="boolean"?E:P;var L=typeof k=="string"||k===null,s={extra:L?S:P,keys:L?k:S,element:L?this.element:k,add:E};return s.element.toggleClass(this._classes(s),E),this},_on:function(k,S,P){var E,L=this;typeof k!="boolean"&&(P=S,S=k,k=!1),P?(S=E=m(S),this.bindings=this.bindings.add(S)):(P=S,S=this.element,E=this.widget()),m.each(P,function(s,h){function v(){if(k||L.options.disabled!==!0&&!m(this).hasClass("ui-state-disabled"))return(typeof h=="string"?L[h]:h).apply(L,arguments)}typeof h!="string"&&(v.guid=h.guid=h.guid||v.guid||m.guid++);var d=s.match(/^([\w:-]*)\s*(.*)$/),_=d[1]+L.eventNamespace,C=d[2];C?E.on(_,C,v):S.on(_,v)})},_off:function(k,S){S=(S||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,k.off(S).off(S),this.bindings=m(this.bindings.not(k).get()),this.focusable=m(this.focusable.not(k).get()),this.hoverable=m(this.hoverable.not(k).get())},_delay:function(k,S){var P=this;return setTimeout(function(){return(typeof k=="string"?P[k]:k).apply(P,arguments)},S||0)},_hoverable:function(k){this.hoverable=this.hoverable.add(k),this._on(k,{mouseenter:function(S){this._addClass(m(S.currentTarget),null,"ui-state-hover")},mouseleave:function(S){this._removeClass(m(S.currentTarget),null,"ui-state-hover")}})},_focusable:function(k){this.focusable=this.focusable.add(k),this._on(k,{focusin:function(S){this._addClass(m(S.currentTarget),null,"ui-state-focus")},focusout:function(S){this._removeClass(m(S.currentTarget),null,"ui-state-focus")}})},_trigger:function(k,S,P){var E,L,s=this.options[k];if(P=P||{},(S=m.Event(S)).type=(k===this.widgetEventPrefix?k:this.widgetEventPrefix+k).toLowerCase(),S.target=this.element[0],L=S.originalEvent)for(E in L)E in S||(S[E]=L[E]);return this.element.trigger(S,P),!(m.isFunction(s)&&s.apply(this.element[0],[S].concat(P))===!1||S.isDefaultPrevented())}},m.each({show:"fadeIn",hide:"fadeOut"},function(k,S){m.Widget.prototype["_"+k]=function(P,E,L){var s;typeof E=="string"&&(E={effect:E});var h=E?E===!0||typeof E=="number"?S:E.effect||S:k;typeof(E=E||{})=="number"&&(E={duration:E}),s=!m.isEmptyObject(E),E.complete=L,E.delay&&P.delay(E.delay),s&&m.effects&&m.effects.effect[h]?P[k](E):h!==k&&P[h]?P[h](E.duration,E.easing,L):P.queue(function(v){m(this)[k](),L&&L.call(P[0]),v()})}}),m.widget},(g=u.apply(c,p))===void 0||(o.exports=g)},3662:function(o,c,n){var u,p,g;p=[n(1669),n(8045),n(6883),n(9139)],(g=typeof(u=function(m){var y=!1;return m(document).on("mouseup",function(){y=!1}),m.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var x=this;this.element.on("mousedown."+this.widgetName,function(w){return x._mouseDown(w)}).on("click."+this.widgetName,function(w){if(m.data(w.target,x.widgetName+".preventClickEvent")===!0)return m.removeData(w.target,x.widgetName+".preventClickEvent"),w.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(x){if(!y){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(x),this._mouseDownEvent=x;var w=this,k=x.which===1,S=!(typeof this.options.cancel!="string"||!x.target.nodeName)&&m(x.target).closest(this.options.cancel).length;return!(k&&!S&&this._mouseCapture(x)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){w.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(x)&&this._mouseDelayMet(x)&&(this._mouseStarted=this._mouseStart(x)!==!1,!this._mouseStarted)?(x.preventDefault(),0):(m.data(x.target,this.widgetName+".preventClickEvent")===!0&&m.removeData(x.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(P){return w._mouseMove(P)},this._mouseUpDelegate=function(P){return w._mouseUp(P)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),x.preventDefault(),y=!0,0)))}},_mouseMove:function(x){if(this._mouseMoved){if(m.ui.ie&&(!document.documentMode||document.documentMode<9)&&!x.button)return this._mouseUp(x);if(!x.which){if(x.originalEvent.altKey||x.originalEvent.ctrlKey||x.originalEvent.metaKey||x.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(x)}}return(x.which||x.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(x),x.preventDefault()):(this._mouseDistanceMet(x)&&this._mouseDelayMet(x)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,x)!==!1,this._mouseStarted?this._mouseDrag(x):this._mouseUp(x)),!this._mouseStarted)},_mouseUp:function(x){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,x.target===this._mouseDownEvent.target&&m.data(x.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(x)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,y=!1,x.preventDefault()},_mouseDistanceMet:function(x){return Math.max(Math.abs(this._mouseDownEvent.pageX-x.pageX),Math.abs(this._mouseDownEvent.pageY-x.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})=="function"?u.apply(c,p):u)===void 0||(o.exports=g)},4720:function(o,c,n){var u,p,g;p=[n(1669),n(3662),n(1897),n(6883),n(9139)],u=function(m){return m.widget("ui.slider",m.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var y,x,w=this.options,k=this.element.find(".ui-slider-handle"),S=[];for(x=w.values&&w.values.length||1,k.length>x&&(k.slice(x).remove(),k=k.slice(0,x)),y=k.length;y<x;y++)S.push("<span tabindex='0'></span>");this.handles=k.add(m(S.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(P){m(this).data("ui-slider-handle-index",P).attr("tabIndex",0)})},_createRange:function(){var y=this.options;y.range?(y.range===!0&&(y.values?y.values.length&&y.values.length!==2?y.values=[y.values[0],y.values[0]]:m.isArray(y.values)&&(y.values=y.values.slice(0)):y.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=m("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),y.range!=="min"&&y.range!=="max"||this._addClass(this.range,"ui-slider-range-"+y.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(y){var x,w,k,S,P,E,L,s=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),x={x:y.pageX,y:y.pageY},w=this._normValueFromMouse(x),k=this._valueMax()-this._valueMin()+1,this.handles.each(function(v){var d=Math.abs(w-s.values(v));(k>d||k===d&&(v===s._lastChangedValue||s.values(v)===h.min))&&(k=d,S=m(this),P=v)}),this._start(y,P)!==!1&&(this._mouseSliding=!0,this._handleIndex=P,this._addClass(S,null,"ui-state-active"),S.trigger("focus"),E=S.offset(),L=!m(y.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=L?{left:0,top:0}:{left:y.pageX-E.left-S.width()/2,top:y.pageY-E.top-S.height()/2-(parseInt(S.css("borderTopWidth"),10)||0)-(parseInt(S.css("borderBottomWidth"),10)||0)+(parseInt(S.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(y,P,w),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(y){var x={x:y.pageX,y:y.pageY},w=this._normValueFromMouse(x);return this._slide(y,this._handleIndex,w),!1},_mouseStop:function(y){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(y,this._handleIndex),this._change(y,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(y){var x,w,k,S,P;return this.orientation==="horizontal"?(x=this.elementSize.width,w=y.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(x=this.elementSize.height,w=y.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(k=w/x)>1&&(k=1),k<0&&(k=0),this.orientation==="vertical"&&(k=1-k),S=this._valueMax()-this._valueMin(),P=this._valueMin()+k*S,this._trimAlignValue(P)},_uiHash:function(y,x,w){var k={handle:this.handles[y],handleIndex:y,value:x!==void 0?x:this.value()};return this._hasMultipleValues()&&(k.value=x!==void 0?x:this.values(y),k.values=w||this.values()),k},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(y,x){return this._trigger("start",y,this._uiHash(x))},_slide:function(y,x,w){var k,S=this.value(),P=this.values();this._hasMultipleValues()&&(k=this.values(x?0:1),S=this.values(x),this.options.values.length===2&&this.options.range===!0&&(w=x===0?Math.min(k,w):Math.max(k,w)),P[x]=w),w!==S&&this._trigger("slide",y,this._uiHash(x,w,P))!==!1&&(this._hasMultipleValues()?this.values(x,w):this.value(w))},_stop:function(y,x){this._trigger("stop",y,this._uiHash(x))},_change:function(y,x){this._keySliding||this._mouseSliding||(this._lastChangedValue=x,this._trigger("change",y,this._uiHash(x)))},value:function(y){return arguments.length?(this.options.value=this._trimAlignValue(y),this._refreshValue(),void this._change(null,0)):this._value()},values:function(y,x){var w,k,S;if(arguments.length>1)return this.options.values[y]=this._trimAlignValue(x),this._refreshValue(),void this._change(null,y);if(!arguments.length)return this._values();if(!m.isArray(arguments[0]))return this._hasMultipleValues()?this._values(y):this.value();for(w=this.options.values,k=arguments[0],S=0;S<w.length;S+=1)w[S]=this._trimAlignValue(k[S]),this._change(null,S);this._refreshValue()},_setOption:function(y,x){var w,k=0;switch(y==="range"&&this.options.range===!0&&(x==="min"?(this.options.value=this._values(0),this.options.values=null):x==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),m.isArray(this.options.values)&&(k=this.options.values.length),this._super(y,x),y){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(x),this.handles.css(x==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),w=k-1;w>=0;w--)this._change(null,w);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(y){this._super(y),this._toggleClass(null,"ui-state-disabled",!!y)},_value:function(){var y=this.options.value;return this._trimAlignValue(y)},_values:function(y){var x,w,k;if(arguments.length)return x=this.options.values[y],this._trimAlignValue(x);if(this._hasMultipleValues()){for(w=this.options.values.slice(),k=0;k<w.length;k+=1)w[k]=this._trimAlignValue(w[k]);return w}return[]},_trimAlignValue:function(y){if(y<=this._valueMin())return this._valueMin();if(y>=this._valueMax())return this._valueMax();var x=this.options.step>0?this.options.step:1,w=(y-this._valueMin())%x,k=y-w;return 2*Math.abs(w)>=x&&(k+=w>0?x:-x),parseFloat(k.toFixed(5))},_calculateNewMax:function(){var y=this.options.max,x=this._valueMin(),w=this.options.step;(y=Math.round((y-x)/w)*w+x)>this.options.max&&(y-=w),this.max=parseFloat(y.toFixed(this._precision()))},_precision:function(){var y=this._precisionOf(this.options.step);return this.options.min!==null&&(y=Math.max(y,this._precisionOf(this.options.min))),y},_precisionOf:function(y){var x=y.toString(),w=x.indexOf(".");return w===-1?0:x.length-w-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(y){y==="vertical"&&this.range.css({width:"",left:""}),y==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var y,x,w,k,S,P=this.options.range,E=this.options,L=this,s=!this._animateOff&&E.animate,h={};this._hasMultipleValues()?this.handles.each(function(v){x=(L.values(v)-L._valueMin())/(L._valueMax()-L._valueMin())*100,h[L.orientation==="horizontal"?"left":"bottom"]=x+"%",m(this).stop(1,1)[s?"animate":"css"](h,E.animate),L.options.range===!0&&(L.orientation==="horizontal"?(v===0&&L.range.stop(1,1)[s?"animate":"css"]({left:x+"%"},E.animate),v===1&&L.range[s?"animate":"css"]({width:x-y+"%"},{queue:!1,duration:E.animate})):(v===0&&L.range.stop(1,1)[s?"animate":"css"]({bottom:x+"%"},E.animate),v===1&&L.range[s?"animate":"css"]({height:x-y+"%"},{queue:!1,duration:E.animate}))),y=x}):(w=this.value(),k=this._valueMin(),S=this._valueMax(),x=S!==k?(w-k)/(S-k)*100:0,h[this.orientation==="horizontal"?"left":"bottom"]=x+"%",this.handle.stop(1,1)[s?"animate":"css"](h,E.animate),P==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[s?"animate":"css"]({width:x+"%"},E.animate),P==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[s?"animate":"css"]({width:100-x+"%"},E.animate),P==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[s?"animate":"css"]({height:x+"%"},E.animate),P==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[s?"animate":"css"]({height:100-x+"%"},E.animate))},_handleEvents:{keydown:function(y){var x,w,k,S=m(y.target).data("ui-slider-handle-index");switch(y.keyCode){case m.ui.keyCode.HOME:case m.ui.keyCode.END:case m.ui.keyCode.PAGE_UP:case m.ui.keyCode.PAGE_DOWN:case m.ui.keyCode.UP:case m.ui.keyCode.RIGHT:case m.ui.keyCode.DOWN:case m.ui.keyCode.LEFT:if(y.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(m(y.target),null,"ui-state-active"),this._start(y,S)===!1))return}switch(k=this.options.step,x=w=this._hasMultipleValues()?this.values(S):this.value(),y.keyCode){case m.ui.keyCode.HOME:w=this._valueMin();break;case m.ui.keyCode.END:w=this._valueMax();break;case m.ui.keyCode.PAGE_UP:w=this._trimAlignValue(x+(this._valueMax()-this._valueMin())/this.numPages);break;case m.ui.keyCode.PAGE_DOWN:w=this._trimAlignValue(x-(this._valueMax()-this._valueMin())/this.numPages);break;case m.ui.keyCode.UP:case m.ui.keyCode.RIGHT:if(x===this._valueMax())return;w=this._trimAlignValue(x+k);break;case m.ui.keyCode.DOWN:case m.ui.keyCode.LEFT:if(x===this._valueMin())return;w=this._trimAlignValue(x-k)}this._slide(y,S,w)},keyup:function(y){var x=m(y.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(y,x),this._change(y,x),this._removeClass(m(y.target),null,"ui-state-active"))}}})},(g=u.apply(c,p))===void 0||(o.exports=g)},1669:function(o){"use strict";o.exports=jQuery},9306:function(o,c,n){"use strict";var u=n(4901),p=n(6823),g=TypeError;o.exports=function(m){if(u(m))return m;throw new g(p(m)+" is not a function")}},5548:function(o,c,n){"use strict";var u=n(3517),p=n(6823),g=TypeError;o.exports=function(m){if(u(m))return m;throw new g(p(m)+" is not a constructor")}},3506:function(o,c,n){"use strict";var u=n(3925),p=String,g=TypeError;o.exports=function(m){if(u(m))return m;throw new g("Can't set "+p(m)+" as a prototype")}},6469:function(o,c,n){"use strict";var u=n(8227),p=n(2360),g=n(4913).f,m=u("unscopables"),y=Array.prototype;y[m]===void 0&&g(y,m,{configurable:!0,value:p(null)}),o.exports=function(x){y[m][x]=!0}},7829:function(o,c,n){"use strict";var u=n(8183).charAt;o.exports=function(p,g,m){return g+(m?u(p,g).length:1)}},679:function(o,c,n){"use strict";var u=n(1625),p=TypeError;o.exports=function(g,m){if(u(m,g))return g;throw new p("Incorrect invocation")}},8551:function(o,c,n){"use strict";var u=n(34),p=String,g=TypeError;o.exports=function(m){if(u(m))return m;throw new g(p(m)+" is not an object")}},5652:function(o,c,n){"use strict";var u=n(9039);o.exports=u(function(){if(typeof ArrayBuffer=="function"){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}})},4373:function(o,c,n){"use strict";var u=n(8981),p=n(5610),g=n(6198);o.exports=function(m){for(var y=u(this),x=g(y),w=arguments.length,k=p(w>1?arguments[1]:void 0,x),S=w>2?arguments[2]:void 0,P=S===void 0?x:p(S,x);P>k;)y[k++]=m;return y}},235:function(o,c,n){"use strict";var u=n(9213).forEach,p=n(4598)("forEach");o.exports=p?[].forEach:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}},7916:function(o,c,n){"use strict";var u=n(6080),p=n(9565),g=n(8981),m=n(6319),y=n(4209),x=n(3517),w=n(6198),k=n(4659),S=n(81),P=n(851),E=Array;o.exports=function(L){var s=g(L),h=x(this),v=arguments.length,d=v>1?arguments[1]:void 0,_=d!==void 0;_&&(d=u(d,v>2?arguments[2]:void 0));var C,N,G,q,K,ie,Q=P(s),te=0;if(!Q||this===E&&y(Q))for(C=w(s),N=h?new this(C):E(C);C>te;te++)ie=_?d(s[te],te):s[te],k(N,te,ie);else for(N=h?new this:[],K=(q=S(s,Q)).next;!(G=p(K,q)).done;te++)ie=_?m(q,d,[G.value,te],!0):G.value,k(N,te,ie);return N.length=te,N}},9617:function(o,c,n){"use strict";var u=n(5397),p=n(5610),g=n(6198),m=function(y){return function(x,w,k){var S=u(x),P=g(S);if(P===0)return!y&&-1;var E,L=p(k,P);if(y&&w!=w){for(;P>L;)if((E=S[L++])!=E)return!0}else for(;P>L;L++)if((y||L in S)&&S[L]===w)return y||L||0;return!y&&-1}};o.exports={includes:m(!0),indexOf:m(!1)}},9213:function(o,c,n){"use strict";var u=n(6080),p=n(9504),g=n(7055),m=n(8981),y=n(6198),x=n(1469),w=p([].push),k=function(S){var P=S===1,E=S===2,L=S===3,s=S===4,h=S===6,v=S===7,d=S===5||h;return function(_,C,N,G){for(var q,K,ie=m(_),Q=g(ie),te=y(Q),Oe=u(C,N),fe=0,W=G||x,ae=P?W(_,te):E||v?W(_,0):void 0;te>fe;fe++)if((d||fe in Q)&&(K=Oe(q=Q[fe],fe,ie),S))if(P)ae[fe]=K;else if(K)switch(S){case 3:return!0;case 5:return q;case 6:return fe;case 2:w(ae,q)}else switch(S){case 4:return!1;case 7:w(ae,q)}return h?-1:L||s?s:ae}};o.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},597:function(o,c,n){"use strict";var u=n(9039),p=n(8227),g=n(9519),m=p("species");o.exports=function(y){return g>=51||!u(function(){var x=[];return(x.constructor={})[m]=function(){return{foo:1}},x[y](Boolean).foo!==1})}},4598:function(o,c,n){"use strict";var u=n(9039);o.exports=function(p,g){var m=[][p];return!!m&&u(function(){m.call(null,g||function(){return 1},1)})}},926:function(o,c,n){"use strict";var u=n(9306),p=n(8981),g=n(7055),m=n(6198),y=TypeError,x="Reduce of empty array with no initial value",w=function(k){return function(S,P,E,L){var s=p(S),h=g(s),v=m(s);if(u(P),v===0&&E<2)throw new y(x);var d=k?v-1:0,_=k?-1:1;if(E<2)for(;;){if(d in h){L=h[d],d+=_;break}if(d+=_,k?d<0:v<=d)throw new y(x)}for(;k?d>=0:v>d;d+=_)d in h&&(L=P(L,h[d],d,s));return L}};o.exports={left:w(!1),right:w(!0)}},4527:function(o,c,n){"use strict";var u=n(3724),p=n(4376),g=TypeError,m=Object.getOwnPropertyDescriptor,y=u&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(x){return x instanceof TypeError}}();o.exports=y?function(x,w){if(p(x)&&!m(x,"length").writable)throw new g("Cannot set read only .length");return x.length=w}:function(x,w){return x.length=w}},7680:function(o,c,n){"use strict";var u=n(9504);o.exports=u([].slice)},4488:function(o,c,n){"use strict";var u=n(7680),p=Math.floor,g=function(m,y){var x=m.length;if(x<8)for(var w,k,S=1;S<x;){for(k=S,w=m[S];k&&y(m[k-1],w)>0;)m[k]=m[--k];k!==S++&&(m[k]=w)}else for(var P=p(x/2),E=g(u(m,0,P),y),L=g(u(m,P),y),s=E.length,h=L.length,v=0,d=0;v<s||d<h;)m[v+d]=v<s&&d<h?y(E[v],L[d])<=0?E[v++]:L[d++]:v<s?E[v++]:L[d++];return m};o.exports=g},7433:function(o,c,n){"use strict";var u=n(4376),p=n(3517),g=n(34),m=n(8227)("species"),y=Array;o.exports=function(x){var w;return u(x)&&(w=x.constructor,(p(w)&&(w===y||u(w.prototype))||g(w)&&(w=w[m])===null)&&(w=void 0)),w===void 0?y:w}},1469:function(o,c,n){"use strict";var u=n(7433);o.exports=function(p,g){return new(u(p))(g===0?0:g)}},6319:function(o,c,n){"use strict";var u=n(8551),p=n(9539);o.exports=function(g,m,y,x){try{return x?m(u(y)[0],y[1]):m(y)}catch(w){p(g,"throw",w)}}},4428:function(o,c,n){"use strict";var u=n(8227)("iterator"),p=!1;try{var g=0,m={next:function(){return{done:!!g++}},return:function(){p=!0}};m[u]=function(){return this},Array.from(m,function(){throw 2})}catch(y){}o.exports=function(y,x){try{if(!x&&!p)return!1}catch(S){return!1}var w=!1;try{var k={};k[u]=function(){return{next:function(){return{done:w=!0}}}},y(k)}catch(S){}return w}},2195:function(o,c,n){"use strict";var u=n(9504),p=u({}.toString),g=u("".slice);o.exports=function(m){return g(p(m),8,-1)}},6955:function(o,c,n){"use strict";var u=n(2140),p=n(4901),g=n(2195),m=n(8227)("toStringTag"),y=Object,x=g(function(){return arguments}())==="Arguments";o.exports=u?g:function(w){var k,S,P;return w===void 0?"Undefined":w===null?"Null":typeof(S=function(E,L){try{return E[L]}catch(s){}}(k=y(w),m))=="string"?S:x?g(k):(P=g(k))==="Object"&&p(k.callee)?"Arguments":P}},6938:function(o,c,n){"use strict";var u=n(2360),p=n(2106),g=n(6279),m=n(6080),y=n(679),x=n(4117),w=n(2652),k=n(1088),S=n(2529),P=n(7633),E=n(3724),L=n(3451).fastKey,s=n(1181),h=s.set,v=s.getterFor;o.exports={getConstructor:function(d,_,C,N){var G=d(function(te,Oe){y(te,q),h(te,{type:_,index:u(null),first:null,last:null,size:0}),E||(te.size=0),x(Oe)||w(Oe,te[N],{that:te,AS_ENTRIES:C})}),q=G.prototype,K=v(_),ie=function(te,Oe,fe){var W,ae,de=K(te),Z=Q(te,Oe);return Z?Z.value=fe:(de.last=Z={index:ae=L(Oe,!0),key:Oe,value:fe,previous:W=de.last,next:null,removed:!1},de.first||(de.first=Z),W&&(W.next=Z),E?de.size++:te.size++,ae!=="F"&&(de.index[ae]=Z)),te},Q=function(te,Oe){var fe,W=K(te),ae=L(Oe);if(ae!=="F")return W.index[ae];for(fe=W.first;fe;fe=fe.next)if(fe.key===Oe)return fe};return g(q,{clear:function(){for(var te=K(this),Oe=te.first;Oe;)Oe.removed=!0,Oe.previous&&(Oe.previous=Oe.previous.next=null),Oe=Oe.next;te.first=te.last=null,te.index=u(null),E?te.size=0:this.size=0},delete:function(te){var Oe=this,fe=K(Oe),W=Q(Oe,te);if(W){var ae=W.next,de=W.previous;delete fe.index[W.index],W.removed=!0,de&&(de.next=ae),ae&&(ae.previous=de),fe.first===W&&(fe.first=ae),fe.last===W&&(fe.last=de),E?fe.size--:Oe.size--}return!!W},forEach:function(te){for(var Oe,fe=K(this),W=m(te,arguments.length>1?arguments[1]:void 0);Oe=Oe?Oe.next:fe.first;)for(W(Oe.value,Oe.key,this);Oe&&Oe.removed;)Oe=Oe.previous},has:function(te){return!!Q(this,te)}}),g(q,C?{get:function(te){var Oe=Q(this,te);return Oe&&Oe.value},set:function(te,Oe){return ie(this,te===0?0:te,Oe)}}:{add:function(te){return ie(this,te=te===0?0:te,te)}}),E&&p(q,"size",{configurable:!0,get:function(){return K(this).size}}),G},setStrong:function(d,_,C){var N=_+" Iterator",G=v(_),q=v(N);k(d,_,function(K,ie){h(this,{type:N,target:K,state:G(K),kind:ie,last:null})},function(){for(var K=q(this),ie=K.kind,Q=K.last;Q&&Q.removed;)Q=Q.previous;return K.target&&(K.last=Q=Q?Q.next:K.state.first)?S(ie==="keys"?Q.key:ie==="values"?Q.value:[Q.key,Q.value],!1):(K.target=null,S(void 0,!0))},C?"entries":"values",!C,!0),P(_)}}},4006:function(o,c,n){"use strict";var u=n(9504),p=n(6279),g=n(3451).getWeakData,m=n(679),y=n(8551),x=n(4117),w=n(34),k=n(2652),S=n(9213),P=n(9297),E=n(1181),L=E.set,s=E.getterFor,h=S.find,v=S.findIndex,d=u([].splice),_=0,C=function(q){return q.frozen||(q.frozen=new N)},N=function(){this.entries=[]},G=function(q,K){return h(q.entries,function(ie){return ie[0]===K})};N.prototype={get:function(q){var K=G(this,q);if(K)return K[1]},has:function(q){return!!G(this,q)},set:function(q,K){var ie=G(this,q);ie?ie[1]=K:this.entries.push([q,K])},delete:function(q){var K=v(this.entries,function(ie){return ie[0]===q});return~K&&d(this.entries,K,1),!!~K}},o.exports={getConstructor:function(q,K,ie,Q){var te=q(function(ae,de){m(ae,Oe),L(ae,{type:K,id:_++,frozen:null}),x(de)||k(de,ae[Q],{that:ae,AS_ENTRIES:ie})}),Oe=te.prototype,fe=s(K),W=function(ae,de,Z){var ye=fe(ae),Y=g(y(de),!0);return Y===!0?C(ye).set(de,Z):Y[ye.id]=Z,ae};return p(Oe,{delete:function(ae){var de=fe(this);if(!w(ae))return!1;var Z=g(ae);return Z===!0?C(de).delete(ae):Z&&P(Z,de.id)&&delete Z[de.id]},has:function(ae){var de=fe(this);if(!w(ae))return!1;var Z=g(ae);return Z===!0?C(de).has(ae):Z&&P(Z,de.id)}}),p(Oe,ie?{get:function(ae){var de=fe(this);if(w(ae)){var Z=g(ae);if(Z===!0)return C(de).get(ae);if(Z)return Z[de.id]}},set:function(ae,de){return W(this,ae,de)}}:{add:function(ae){return W(this,ae,!0)}}),te}}},6468:function(o,c,n){"use strict";var u=n(6518),p=n(4576),g=n(9504),m=n(2796),y=n(6840),x=n(3451),w=n(2652),k=n(679),S=n(4901),P=n(4117),E=n(34),L=n(9039),s=n(4428),h=n(687),v=n(3167);o.exports=function(d,_,C){var N=d.indexOf("Map")!==-1,G=d.indexOf("Weak")!==-1,q=N?"set":"add",K=p[d],ie=K&&K.prototype,Q=K,te={},Oe=function(ye){var Y=g(ie[ye]);y(ie,ye,ye==="add"?function(ce){return Y(this,ce===0?0:ce),this}:ye==="delete"?function(ce){return!(G&&!E(ce))&&Y(this,ce===0?0:ce)}:ye==="get"?function(ce){return G&&!E(ce)?void 0:Y(this,ce===0?0:ce)}:ye==="has"?function(ce){return!(G&&!E(ce))&&Y(this,ce===0?0:ce)}:function(ce,Ze){return Y(this,ce===0?0:ce,Ze),this})};if(m(d,!S(K)||!(G||ie.forEach&&!L(function(){new K().entries().next()}))))Q=C.getConstructor(_,d,N,q),x.enable();else if(m(d,!0)){var fe=new Q,W=fe[q](G?{}:-0,1)!==fe,ae=L(function(){fe.has(1)}),de=s(function(ye){new K(ye)}),Z=!G&&L(function(){for(var ye=new K,Y=5;Y--;)ye[q](Y,Y);return!ye.has(-0)});de||((Q=_(function(ye,Y){k(ye,ie);var ce=v(new K,ye,Q);return P(Y)||w(Y,ce[q],{that:ce,AS_ENTRIES:N}),ce})).prototype=ie,ie.constructor=Q),(ae||Z)&&(Oe("delete"),Oe("has"),N&&Oe("get")),(Z||W)&&Oe(q),G&&ie.clear&&delete ie.clear}return te[d]=Q,u({global:!0,constructor:!0,forced:Q!==K},te),h(Q,d),G||C.setStrong(Q,d,N),Q}},7740:function(o,c,n){"use strict";var u=n(9297),p=n(5031),g=n(7347),m=n(4913);o.exports=function(y,x,w){for(var k=p(x),S=m.f,P=g.f,E=0;E<k.length;E++){var L=k[E];u(y,L)||w&&u(w,L)||S(y,L,P(x,L))}}},1436:function(o,c,n){"use strict";var u=n(8227)("match");o.exports=function(p){var g=/./;try{"/./"[p](g)}catch(m){try{return g[u]=!1,"/./"[p](g)}catch(y){}}return!1}},2211:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},2529:function(o){"use strict";o.exports=function(c,n){return{value:c,done:n}}},6699:function(o,c,n){"use strict";var u=n(3724),p=n(4913),g=n(6980);o.exports=u?function(m,y,x){return p.f(m,y,g(1,x))}:function(m,y,x){return m[y]=x,m}},6980:function(o){"use strict";o.exports=function(c,n){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:n}}},4659:function(o,c,n){"use strict";var u=n(3724),p=n(4913),g=n(6980);o.exports=function(m,y,x){u?p.f(m,y,g(0,x)):m[y]=x}},3640:function(o,c,n){"use strict";var u=n(8551),p=n(4270),g=TypeError;o.exports=function(m){if(u(this),m==="string"||m==="default")m="string";else if(m!=="number")throw new g("Incorrect hint");return p(this,m)}},2106:function(o,c,n){"use strict";var u=n(283),p=n(4913);o.exports=function(g,m,y){return y.get&&u(y.get,m,{getter:!0}),y.set&&u(y.set,m,{setter:!0}),p.f(g,m,y)}},6840:function(o,c,n){"use strict";var u=n(4901),p=n(4913),g=n(283),m=n(9433);o.exports=function(y,x,w,k){k||(k={});var S=k.enumerable,P=k.name!==void 0?k.name:x;if(u(w)&&g(w,P,k),k.global)S?y[x]=w:m(x,w);else{try{k.unsafe?y[x]&&(S=!0):delete y[x]}catch(E){}S?y[x]=w:p.f(y,x,{value:w,enumerable:!1,configurable:!k.nonConfigurable,writable:!k.nonWritable})}return y}},6279:function(o,c,n){"use strict";var u=n(6840);o.exports=function(p,g,m){for(var y in g)u(p,y,g[y],m);return p}},9433:function(o,c,n){"use strict";var u=n(4576),p=Object.defineProperty;o.exports=function(g,m){try{p(u,g,{value:m,configurable:!0,writable:!0})}catch(y){u[g]=m}return m}},4606:function(o,c,n){"use strict";var u=n(6823),p=TypeError;o.exports=function(g,m){if(!delete g[m])throw new p("Cannot delete property "+u(m)+" of "+u(g))}},3724:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:function(o,c,n){"use strict";var u=n(4576),p=n(34),g=u.document,m=p(g)&&p(g.createElement);o.exports=function(y){return m?g.createElement(y):{}}},6837:function(o){"use strict";var c=TypeError;o.exports=function(n){if(n>9007199254740991)throw c("Maximum allowed index exceeded");return n}},7400:function(o){"use strict";o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(o,c,n){"use strict";var u=n(4055)("span").classList,p=u&&u.constructor&&u.constructor.prototype;o.exports=p===Object.prototype?void 0:p},8727:function(o){"use strict";o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(o,c,n){"use strict";var u=n(2839).match(/firefox\/(\d+)/i);o.exports=!!u&&+u[1]},3763:function(o,c,n){"use strict";var u=n(2839);o.exports=/MSIE|Trident/.test(u)},4265:function(o,c,n){"use strict";var u=n(2839);o.exports=/ipad|iphone|ipod/i.test(u)&&typeof Pebble<"u"},9544:function(o,c,n){"use strict";var u=n(2839);o.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(u)},6193:function(o,c,n){"use strict";var u=n(4215);o.exports=u==="NODE"},7860:function(o,c,n){"use strict";var u=n(2839);o.exports=/web0s(?!.*chrome)/i.test(u)},2839:function(o,c,n){"use strict";var u=n(4576).navigator,p=u&&u.userAgent;o.exports=p?String(p):""},9519:function(o,c,n){"use strict";var u,p,g=n(4576),m=n(2839),y=g.process,x=g.Deno,w=y&&y.versions||x&&x.version,k=w&&w.v8;k&&(p=(u=k.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!p&&m&&(!(u=m.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=m.match(/Chrome\/(\d+)/))&&(p=+u[1]),o.exports=p},3607:function(o,c,n){"use strict";var u=n(2839).match(/AppleWebKit\/(\d+)\./);o.exports=!!u&&+u[1]},4215:function(o,c,n){"use strict";var u=n(4576),p=n(2839),g=n(2195),m=function(y){return p.slice(0,y.length)===y};o.exports=m("Bun/")?"BUN":m("Cloudflare-Workers")?"CLOUDFLARE":m("Deno/")?"DENO":m("Node.js/")?"NODE":u.Bun&&typeof Bun.version=="string"?"BUN":u.Deno&&typeof Deno.version=="object"?"DENO":g(u.process)==="process"?"NODE":u.window&&u.document?"BROWSER":"REST"},6518:function(o,c,n){"use strict";var u=n(4576),p=n(7347).f,g=n(6699),m=n(6840),y=n(9433),x=n(7740),w=n(2796);o.exports=function(k,S){var P,E,L,s,h,v=k.target,d=k.global,_=k.stat;if(P=d?u:_?u[v]||y(v,{}):u[v]&&u[v].prototype)for(E in S){if(s=S[E],L=k.dontCallGetSet?(h=p(P,E))&&h.value:P[E],!w(d?E:v+(_?".":"#")+E,k.forced)&&L!==void 0){if(typeof s==typeof L)continue;x(s,L)}(k.sham||L&&L.sham)&&g(s,"sham",!0),m(P,E,s,k)}}},9039:function(o){"use strict";o.exports=function(c){try{return!!c()}catch(n){return!0}}},9228:function(o,c,n){"use strict";n(7495);var u=n(9565),p=n(6840),g=n(7323),m=n(9039),y=n(8227),x=n(6699),w=y("species"),k=RegExp.prototype;o.exports=function(S,P,E,L){var s=y(S),h=!m(function(){var C={};return C[s]=function(){return 7},""[S](C)!==7}),v=h&&!m(function(){var C=!1,N=/a/;return S==="split"&&((N={}).constructor={},N.constructor[w]=function(){return N},N.flags="",N[s]=/./[s]),N.exec=function(){return C=!0,null},N[s](""),!C});if(!h||!v||E){var d=/./[s],_=P(s,""[S],function(C,N,G,q,K){var ie=N.exec;return ie===g||ie===k.exec?h&&!K?{done:!0,value:u(d,N,G,q)}:{done:!0,value:u(C,G,N,q)}:{done:!1}});p(String.prototype,S,_[0]),p(k,s,_[1])}L&&x(k[s],"sham",!0)}},259:function(o,c,n){"use strict";var u=n(4376),p=n(6198),g=n(6837),m=n(6080),y=function(x,w,k,S,P,E,L,s){for(var h,v,d=P,_=0,C=!!L&&m(L,s);_<S;)_ in k&&(h=C?C(k[_],_,w):k[_],E>0&&u(h)?(v=p(h),d=y(x,w,h,v,d,E-1)-1):(g(d+1),x[d]=h),d++),_++;return d};o.exports=y},2744:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){return Object.isExtensible(Object.preventExtensions({}))})},8745:function(o,c,n){"use strict";var u=n(616),p=Function.prototype,g=p.apply,m=p.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(u?m.bind(g):function(){return m.apply(g,arguments)})},6080:function(o,c,n){"use strict";var u=n(7476),p=n(9306),g=n(616),m=u(u.bind);o.exports=function(y,x){return p(y),x===void 0?y:g?m(y,x):function(){return y.apply(x,arguments)}}},616:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){var p=function(){}.bind();return typeof p!="function"||p.hasOwnProperty("prototype")})},566:function(o,c,n){"use strict";var u=n(9504),p=n(9306),g=n(34),m=n(9297),y=n(7680),x=n(616),w=Function,k=u([].concat),S=u([].join),P={};o.exports=x?w.bind:function(E){var L=p(this),s=L.prototype,h=y(arguments,1),v=function(){var d=k(h,y(arguments));return this instanceof v?function(_,C,N){if(!m(P,C)){for(var G=[],q=0;q<C;q++)G[q]="a["+q+"]";P[C]=w("C,a","return new C("+S(G,",")+")")}return P[C](_,N)}(L,d.length,d):L.apply(E,d)};return g(s)&&(v.prototype=s),v}},9565:function(o,c,n){"use strict";var u=n(616),p=Function.prototype.call;o.exports=u?p.bind(p):function(){return p.apply(p,arguments)}},350:function(o,c,n){"use strict";var u=n(3724),p=n(9297),g=Function.prototype,m=u&&Object.getOwnPropertyDescriptor,y=p(g,"name"),x=y&&function(){}.name==="something",w=y&&(!u||u&&m(g,"name").configurable);o.exports={EXISTS:y,PROPER:x,CONFIGURABLE:w}},6706:function(o,c,n){"use strict";var u=n(9504),p=n(9306);o.exports=function(g,m,y){try{return u(p(Object.getOwnPropertyDescriptor(g,m)[y]))}catch(x){}}},7476:function(o,c,n){"use strict";var u=n(2195),p=n(9504);o.exports=function(g){if(u(g)==="Function")return p(g)}},9504:function(o,c,n){"use strict";var u=n(616),p=Function.prototype,g=p.call,m=u&&p.bind.bind(g,g);o.exports=u?m:function(y){return function(){return g.apply(y,arguments)}}},7751:function(o,c,n){"use strict";var u=n(4576),p=n(4901);o.exports=function(g,m){return arguments.length<2?(y=u[g],p(y)?y:void 0):u[g]&&u[g][m];var y}},851:function(o,c,n){"use strict";var u=n(6955),p=n(5966),g=n(4117),m=n(6269),y=n(8227)("iterator");o.exports=function(x){if(!g(x))return p(x,y)||p(x,"@@iterator")||m[u(x)]}},81:function(o,c,n){"use strict";var u=n(9565),p=n(9306),g=n(8551),m=n(6823),y=n(851),x=TypeError;o.exports=function(w,k){var S=arguments.length<2?y(w):k;if(p(S))return g(u(S,w));throw new x(m(w)+" is not iterable")}},6933:function(o,c,n){"use strict";var u=n(9504),p=n(4376),g=n(4901),m=n(2195),y=n(655),x=u([].push);o.exports=function(w){if(g(w))return w;if(p(w)){for(var k=w.length,S=[],P=0;P<k;P++){var E=w[P];typeof E=="string"?x(S,E):typeof E!="number"&&m(E)!=="Number"&&m(E)!=="String"||x(S,y(E))}var L=S.length,s=!0;return function(h,v){if(s)return s=!1,v;if(p(this))return v;for(var d=0;d<L;d++)if(S[d]===h)return v}}}},5966:function(o,c,n){"use strict";var u=n(9306),p=n(4117);o.exports=function(g,m){var y=g[m];return p(y)?void 0:u(y)}},2478:function(o,c,n){"use strict";var u=n(9504),p=n(8981),g=Math.floor,m=u("".charAt),y=u("".replace),x=u("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;o.exports=function(S,P,E,L,s,h){var v=E+S.length,d=L.length,_=k;return s!==void 0&&(s=p(s),_=w),y(h,_,function(C,N){var G;switch(m(N,0)){case"$":return"$";case"&":return S;case"`":return x(P,0,E);case"'":return x(P,v);case"<":G=s[x(N,1,-1)];break;default:var q=+N;if(q===0)return C;if(q>d){var K=g(q/10);return K===0?C:K<=d?L[K-1]===void 0?m(N,1):L[K-1]+m(N,1):C}G=L[q-1]}return G===void 0?"":G})}},4576:function(o,c,n){"use strict";var u=function(p){return p&&p.Math===Math&&p};o.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof n.g=="object"&&n.g)||u(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:function(o,c,n){"use strict";var u=n(9504),p=n(8981),g=u({}.hasOwnProperty);o.exports=Object.hasOwn||function(m,y){return g(p(m),y)}},421:function(o){"use strict";o.exports={}},3138:function(o){"use strict";o.exports=function(c,n){try{arguments.length===1?console.error(c):console.error(c,n)}catch(u){}}},397:function(o,c,n){"use strict";var u=n(7751);o.exports=u("document","documentElement")},5917:function(o,c,n){"use strict";var u=n(3724),p=n(9039),g=n(4055);o.exports=!u&&!p(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!==7})},7055:function(o,c,n){"use strict";var u=n(9504),p=n(9039),g=n(2195),m=Object,y=u("".split);o.exports=p(function(){return!m("z").propertyIsEnumerable(0)})?function(x){return g(x)==="String"?y(x,""):m(x)}:m},3167:function(o,c,n){"use strict";var u=n(4901),p=n(34),g=n(2967);o.exports=function(m,y,x){var w,k;return g&&u(w=y.constructor)&&w!==x&&p(k=w.prototype)&&k!==x.prototype&&g(m,k),m}},3706:function(o,c,n){"use strict";var u=n(9504),p=n(4901),g=n(7629),m=u(Function.toString);p(g.inspectSource)||(g.inspectSource=function(y){return m(y)}),o.exports=g.inspectSource},3451:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(421),m=n(34),y=n(9297),x=n(4913).f,w=n(8480),k=n(298),S=n(4124),P=n(3392),E=n(2744),L=!1,s=P("meta"),h=0,v=function(_){x(_,s,{value:{objectID:"O"+h++,weakData:{}}})},d=o.exports={enable:function(){d.enable=function(){},L=!0;var _=w.f,C=p([].splice),N={};N[s]=1,_(N).length&&(w.f=function(G){for(var q=_(G),K=0,ie=q.length;K<ie;K++)if(q[K]===s){C(q,K,1);break}return q},u({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(_,C){if(!m(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!y(_,s)){if(!S(_))return"F";if(!C)return"E";v(_)}return _[s].objectID},getWeakData:function(_,C){if(!y(_,s)){if(!S(_))return!0;if(!C)return!1;v(_)}return _[s].weakData},onFreeze:function(_){return E&&L&&S(_)&&!y(_,s)&&v(_),_}};g[s]=!0},1181:function(o,c,n){"use strict";var u,p,g,m=n(8622),y=n(4576),x=n(34),w=n(6699),k=n(9297),S=n(7629),P=n(6119),E=n(421),L="Object already initialized",s=y.TypeError,h=y.WeakMap;if(m||S.state){var v=S.state||(S.state=new h);v.get=v.get,v.has=v.has,v.set=v.set,u=function(_,C){if(v.has(_))throw new s(L);return C.facade=_,v.set(_,C),C},p=function(_){return v.get(_)||{}},g=function(_){return v.has(_)}}else{var d=P("state");E[d]=!0,u=function(_,C){if(k(_,d))throw new s(L);return C.facade=_,w(_,d,C),C},p=function(_){return k(_,d)?_[d]:{}},g=function(_){return k(_,d)}}o.exports={set:u,get:p,has:g,enforce:function(_){return g(_)?p(_):u(_,{})},getterFor:function(_){return function(C){var N;if(!x(C)||(N=p(C)).type!==_)throw new s("Incompatible receiver, "+_+" required");return N}}}},4209:function(o,c,n){"use strict";var u=n(8227),p=n(6269),g=u("iterator"),m=Array.prototype;o.exports=function(y){return y!==void 0&&(p.Array===y||m[g]===y)}},4376:function(o,c,n){"use strict";var u=n(2195);o.exports=Array.isArray||function(p){return u(p)==="Array"}},4901:function(o){"use strict";var c=typeof document=="object"&&document.all;o.exports=c===void 0&&c!==void 0?function(n){return typeof n=="function"||n===c}:function(n){return typeof n=="function"}},3517:function(o,c,n){"use strict";var u=n(9504),p=n(9039),g=n(4901),m=n(6955),y=n(7751),x=n(3706),w=function(){},k=y("Reflect","construct"),S=/^\s*(?:class|function)\b/,P=u(S.exec),E=!S.test(w),L=function(h){if(!g(h))return!1;try{return k(w,[],h),!0}catch(v){return!1}},s=function(h){if(!g(h))return!1;switch(m(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return E||!!P(S,x(h))}catch(v){return!0}};s.sham=!0,o.exports=!k||p(function(){var h;return L(L.call)||!L(Object)||!L(function(){h=!0})||h})?s:L},6575:function(o,c,n){"use strict";var u=n(9297);o.exports=function(p){return p!==void 0&&(u(p,"value")||u(p,"writable"))}},2796:function(o,c,n){"use strict";var u=n(9039),p=n(4901),g=/#|\.prototype\./,m=function(S,P){var E=x[y(S)];return E===k||E!==w&&(p(P)?u(P):!!P)},y=m.normalize=function(S){return String(S).replace(g,".").toLowerCase()},x=m.data={},w=m.NATIVE="N",k=m.POLYFILL="P";o.exports=m},4117:function(o){"use strict";o.exports=function(c){return c==null}},34:function(o,c,n){"use strict";var u=n(4901);o.exports=function(p){return typeof p=="object"?p!==null:u(p)}},3925:function(o,c,n){"use strict";var u=n(34);o.exports=function(p){return u(p)||p===null}},6395:function(o){"use strict";o.exports=!1},788:function(o,c,n){"use strict";var u=n(34),p=n(2195),g=n(8227)("match");o.exports=function(m){var y;return u(m)&&((y=m[g])!==void 0?!!y:p(m)==="RegExp")}},757:function(o,c,n){"use strict";var u=n(7751),p=n(4901),g=n(1625),m=n(7040),y=Object;o.exports=m?function(x){return typeof x=="symbol"}:function(x){var w=u("Symbol");return p(w)&&g(w.prototype,y(x))}},2652:function(o,c,n){"use strict";var u=n(6080),p=n(9565),g=n(8551),m=n(6823),y=n(4209),x=n(6198),w=n(1625),k=n(81),S=n(851),P=n(9539),E=TypeError,L=function(h,v){this.stopped=h,this.result=v},s=L.prototype;o.exports=function(h,v,d){var _,C,N,G,q,K,ie,Q=d&&d.that,te=!(!d||!d.AS_ENTRIES),Oe=!(!d||!d.IS_RECORD),fe=!(!d||!d.IS_ITERATOR),W=!(!d||!d.INTERRUPTED),ae=u(v,Q),de=function(ye){return _&&P(_,"normal",ye),new L(!0,ye)},Z=function(ye){return te?(g(ye),W?ae(ye[0],ye[1],de):ae(ye[0],ye[1])):W?ae(ye,de):ae(ye)};if(Oe)_=h.iterator;else if(fe)_=h;else{if(!(C=S(h)))throw new E(m(h)+" is not iterable");if(y(C)){for(N=0,G=x(h);G>N;N++)if((q=Z(h[N]))&&w(s,q))return q;return new L(!1)}_=k(h,C)}for(K=Oe?h.next:_.next;!(ie=p(K,_)).done;){try{q=Z(ie.value)}catch(ye){P(_,"throw",ye)}if(typeof q=="object"&&q&&w(s,q))return q}return new L(!1)}},9539:function(o,c,n){"use strict";var u=n(9565),p=n(8551),g=n(5966);o.exports=function(m,y,x){var w,k;p(m);try{if(!(w=g(m,"return"))){if(y==="throw")throw x;return x}w=u(w,m)}catch(S){k=!0,w=S}if(y==="throw")throw x;if(k)throw w;return p(w),x}},3994:function(o,c,n){"use strict";var u=n(7657).IteratorPrototype,p=n(2360),g=n(6980),m=n(687),y=n(6269),x=function(){return this};o.exports=function(w,k,S,P){var E=k+" Iterator";return w.prototype=p(u,{next:g(+!P,S)}),m(w,E,!1,!0),y[E]=x,w}},1088:function(o,c,n){"use strict";var u=n(6518),p=n(9565),g=n(6395),m=n(350),y=n(4901),x=n(3994),w=n(2787),k=n(2967),S=n(687),P=n(6699),E=n(6840),L=n(8227),s=n(6269),h=n(7657),v=m.PROPER,d=m.CONFIGURABLE,_=h.IteratorPrototype,C=h.BUGGY_SAFARI_ITERATORS,N=L("iterator"),G="keys",q="values",K="entries",ie=function(){return this};o.exports=function(Q,te,Oe,fe,W,ae,de){x(Oe,te,fe);var Z,ye,Y,ce=function(De){if(De===W&&Ae)return Ae;if(!C&&De&&De in ct)return ct[De];switch(De){case G:case q:case K:return function(){return new Oe(this,De)}}return function(){return new Oe(this)}},Ze=te+" Iterator",ft=!1,ct=Q.prototype,Ge=ct[N]||ct["@@iterator"]||W&&ct[W],Ae=!C&&Ge||ce(W),Me=te==="Array"&&ct.entries||Ge;if(Me&&(Z=w(Me.call(new Q)))!==Object.prototype&&Z.next&&(g||w(Z)===_||(k?k(Z,_):y(Z[N])||E(Z,N,ie)),S(Z,Ze,!0,!0),g&&(s[Ze]=ie)),v&&W===q&&Ge&&Ge.name!==q&&(!g&&d?P(ct,"name",q):(ft=!0,Ae=function(){return p(Ge,this)})),W)if(ye={values:ce(q),keys:ae?Ae:ce(G),entries:ce(K)},de)for(Y in ye)(C||ft||!(Y in ct))&&E(ct,Y,ye[Y]);else u({target:te,proto:!0,forced:C||ft},ye);return g&&!de||ct[N]===Ae||E(ct,N,Ae,{name:W}),s[te]=Ae,ye}},7657:function(o,c,n){"use strict";var u,p,g,m=n(9039),y=n(4901),x=n(34),w=n(2360),k=n(2787),S=n(6840),P=n(8227),E=n(6395),L=P("iterator"),s=!1;[].keys&&("next"in(g=[].keys())?(p=k(k(g)))!==Object.prototype&&(u=p):s=!0),!x(u)||m(function(){var h={};return u[L].call(h)!==h})?u={}:E&&(u=w(u)),y(u[L])||S(u,L,function(){return this}),o.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:s}},6269:function(o){"use strict";o.exports={}},6198:function(o,c,n){"use strict";var u=n(8014);o.exports=function(p){return u(p.length)}},283:function(o,c,n){"use strict";var u=n(9504),p=n(9039),g=n(4901),m=n(9297),y=n(3724),x=n(350).CONFIGURABLE,w=n(3706),k=n(1181),S=k.enforce,P=k.get,E=String,L=Object.defineProperty,s=u("".slice),h=u("".replace),v=u([].join),d=y&&!p(function(){return L(function(){},"length",{value:8}).length!==8}),_=String(String).split("String"),C=o.exports=function(N,G,q){s(E(G),0,7)==="Symbol("&&(G="["+h(E(G),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),q&&q.getter&&(G="get "+G),q&&q.setter&&(G="set "+G),(!m(N,"name")||x&&N.name!==G)&&(y?L(N,"name",{value:G,configurable:!0}):N.name=G),d&&q&&m(q,"arity")&&N.length!==q.arity&&L(N,"length",{value:q.arity});try{q&&m(q,"constructor")&&q.constructor?y&&L(N,"prototype",{writable:!1}):N.prototype&&(N.prototype=void 0)}catch(ie){}var K=S(N);return m(K,"source")||(K.source=v(_,typeof G=="string"?G:"")),N};Function.prototype.toString=C(function(){return g(this)&&P(this).source||w(this)},"toString")},7782:function(o){"use strict";o.exports=Math.sign||function(c){var n=+c;return n===0||n!=n?n:n<0?-1:1}},741:function(o){"use strict";var c=Math.ceil,n=Math.floor;o.exports=Math.trunc||function(u){var p=+u;return(p>0?n:c)(p)}},1955:function(o,c,n){"use strict";var u,p,g,m,y,x=n(4576),w=n(3389),k=n(6080),S=n(9225).set,P=n(8265),E=n(9544),L=n(4265),s=n(7860),h=n(6193),v=x.MutationObserver||x.WebKitMutationObserver,d=x.document,_=x.process,C=x.Promise,N=w("queueMicrotask");if(!N){var G=new P,q=function(){var K,ie;for(h&&(K=_.domain)&&K.exit();ie=G.get();)try{ie()}catch(Q){throw G.head&&u(),Q}K&&K.enter()};E||h||s||!v||!d?!L&&C&&C.resolve?((m=C.resolve(void 0)).constructor=C,y=k(m.then,m),u=function(){y(q)}):h?u=function(){_.nextTick(q)}:(S=k(S,x),u=function(){S(q)}):(p=!0,g=d.createTextNode(""),new v(q).observe(g,{characterData:!0}),u=function(){g.data=p=!p}),N=function(K){G.head||u(),G.add(K)}}o.exports=N},6043:function(o,c,n){"use strict";var u=n(9306),p=TypeError,g=function(m){var y,x;this.promise=new m(function(w,k){if(y!==void 0||x!==void 0)throw new p("Bad Promise constructor");y=w,x=k}),this.resolve=u(y),this.reject=u(x)};o.exports.f=function(m){return new g(m)}},2892:function(o,c,n){"use strict";var u=n(788),p=TypeError;o.exports=function(g){if(u(g))throw new p("The method doesn't accept regular expressions");return g}},3904:function(o,c,n){"use strict";var u=n(4576),p=n(9039),g=n(9504),m=n(655),y=n(3802).trim,x=n(7452),w=g("".charAt),k=u.parseFloat,S=u.Symbol,P=S&&S.iterator,E=1/k(x+"-0")!=-1/0||P&&!p(function(){k(Object(P))});o.exports=E?function(L){var s=y(m(L)),h=k(s);return h===0&&w(s,0)==="-"?-0:h}:k},2703:function(o,c,n){"use strict";var u=n(4576),p=n(9039),g=n(9504),m=n(655),y=n(3802).trim,x=n(7452),w=u.parseInt,k=u.Symbol,S=k&&k.iterator,P=/^[+-]?0x/i,E=g(P.exec),L=w(x+"08")!==8||w(x+"0x16")!==22||S&&!p(function(){w(Object(S))});o.exports=L?function(s,h){var v=y(m(s));return w(v,h>>>0||(E(P,v)?16:10))}:w},4213:function(o,c,n){"use strict";var u=n(3724),p=n(9504),g=n(9565),m=n(9039),y=n(1072),x=n(3717),w=n(8773),k=n(8981),S=n(7055),P=Object.assign,E=Object.defineProperty,L=p([].concat);o.exports=!P||m(function(){if(u&&P({b:1},P(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var s={},h={},v=Symbol("assign detection"),d="abcdefghijklmnopqrst";return s[v]=7,d.split("").forEach(function(_){h[_]=_}),P({},s)[v]!==7||y(P({},h)).join("")!==d})?function(s,h){for(var v=k(s),d=arguments.length,_=1,C=x.f,N=w.f;d>_;)for(var G,q=S(arguments[_++]),K=C?L(y(q),C(q)):y(q),ie=K.length,Q=0;ie>Q;)G=K[Q++],u&&!g(N,q,G)||(v[G]=q[G]);return v}:P},2360:function(o,c,n){"use strict";var u,p=n(8551),g=n(6801),m=n(8727),y=n(421),x=n(397),w=n(4055),k=n(6119),S="prototype",P="script",E=k("IE_PROTO"),L=function(){},s=function(d){return"<"+P+">"+d+"</"+P+">"},h=function(d){d.write(s("")),d.close();var _=d.parentWindow.Object;return d=null,_},v=function(){try{u=new ActiveXObject("htmlfile")}catch(G){}var d,_,C;v=typeof document<"u"?document.domain&&u?h(u):(_=w("iframe"),C="java"+P+":",_.style.display="none",x.appendChild(_),_.src=String(C),(d=_.contentWindow.document).open(),d.write(s("document.F=Object")),d.close(),d.F):h(u);for(var N=m.length;N--;)delete v[S][m[N]];return v()};y[E]=!0,o.exports=Object.create||function(d,_){var C;return d!==null?(L[S]=p(d),C=new L,L[S]=null,C[E]=d):C=v(),_===void 0?C:g.f(C,_)}},6801:function(o,c,n){"use strict";var u=n(3724),p=n(8686),g=n(4913),m=n(8551),y=n(5397),x=n(1072);c.f=u&&!p?Object.defineProperties:function(w,k){m(w);for(var S,P=y(k),E=x(k),L=E.length,s=0;L>s;)g.f(w,S=E[s++],P[S]);return w}},4913:function(o,c,n){"use strict";var u=n(3724),p=n(5917),g=n(8686),m=n(8551),y=n(6969),x=TypeError,w=Object.defineProperty,k=Object.getOwnPropertyDescriptor,S="enumerable",P="configurable",E="writable";c.f=u?g?function(L,s,h){if(m(L),s=y(s),m(h),typeof L=="function"&&s==="prototype"&&"value"in h&&E in h&&!h[E]){var v=k(L,s);v&&v[E]&&(L[s]=h.value,h={configurable:P in h?h[P]:v[P],enumerable:S in h?h[S]:v[S],writable:!1})}return w(L,s,h)}:w:function(L,s,h){if(m(L),s=y(s),m(h),p)try{return w(L,s,h)}catch(v){}if("get"in h||"set"in h)throw new x("Accessors not supported");return"value"in h&&(L[s]=h.value),L}},7347:function(o,c,n){"use strict";var u=n(3724),p=n(9565),g=n(8773),m=n(6980),y=n(5397),x=n(6969),w=n(9297),k=n(5917),S=Object.getOwnPropertyDescriptor;c.f=u?S:function(P,E){if(P=y(P),E=x(E),k)try{return S(P,E)}catch(L){}if(w(P,E))return m(!p(g.f,P,E),P[E])}},298:function(o,c,n){"use strict";var u=n(2195),p=n(5397),g=n(8480).f,m=n(7680),y=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(x){return y&&u(x)==="Window"?function(w){try{return g(w)}catch(k){return m(y)}}(x):g(p(x))}},8480:function(o,c,n){"use strict";var u=n(1828),p=n(8727).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(g){return u(g,p)}},3717:function(o,c){"use strict";c.f=Object.getOwnPropertySymbols},2787:function(o,c,n){"use strict";var u=n(9297),p=n(4901),g=n(8981),m=n(6119),y=n(2211),x=m("IE_PROTO"),w=Object,k=w.prototype;o.exports=y?w.getPrototypeOf:function(S){var P=g(S);if(u(P,x))return P[x];var E=P.constructor;return p(E)&&P instanceof E?E.prototype:P instanceof w?k:null}},4124:function(o,c,n){"use strict";var u=n(9039),p=n(34),g=n(2195),m=n(5652),y=Object.isExtensible,x=u(function(){y(1)});o.exports=x||m?function(w){return!!p(w)&&(!m||g(w)!=="ArrayBuffer")&&(!y||y(w))}:y},1625:function(o,c,n){"use strict";var u=n(9504);o.exports=u({}.isPrototypeOf)},1828:function(o,c,n){"use strict";var u=n(9504),p=n(9297),g=n(5397),m=n(9617).indexOf,y=n(421),x=u([].push);o.exports=function(w,k){var S,P=g(w),E=0,L=[];for(S in P)!p(y,S)&&p(P,S)&&x(L,S);for(;k.length>E;)p(P,S=k[E++])&&(~m(L,S)||x(L,S));return L}},1072:function(o,c,n){"use strict";var u=n(1828),p=n(8727);o.exports=Object.keys||function(g){return u(g,p)}},8773:function(o,c){"use strict";var n={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,p=u&&!n.call({1:2},1);c.f=p?function(g){var m=u(this,g);return!!m&&m.enumerable}:n},2967:function(o,c,n){"use strict";var u=n(6706),p=n(34),g=n(7750),m=n(3506);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var y,x=!1,w={};try{(y=u(Object.prototype,"__proto__","set"))(w,[]),x=w instanceof Array}catch(k){}return function(k,S){return g(k),m(S),p(k)&&(x?y(k,S):k.__proto__=S),k}}():void 0)},2357:function(o,c,n){"use strict";var u=n(3724),p=n(9039),g=n(9504),m=n(2787),y=n(1072),x=n(5397),w=g(n(8773).f),k=g([].push),S=u&&p(function(){var E=Object.create(null);return E[2]=2,!w(E,2)}),P=function(E){return function(L){for(var s,h=x(L),v=y(h),d=S&&m(h)===null,_=v.length,C=0,N=[];_>C;)s=v[C++],u&&!(d?s in h:w(h,s))||k(N,E?[s,h[s]]:h[s]);return N}};o.exports={entries:P(!0),values:P(!1)}},3179:function(o,c,n){"use strict";var u=n(2140),p=n(6955);o.exports=u?{}.toString:function(){return"[object "+p(this)+"]"}},4270:function(o,c,n){"use strict";var u=n(9565),p=n(4901),g=n(34),m=TypeError;o.exports=function(y,x){var w,k;if(x==="string"&&p(w=y.toString)&&!g(k=u(w,y))||p(w=y.valueOf)&&!g(k=u(w,y))||x!=="string"&&p(w=y.toString)&&!g(k=u(w,y)))return k;throw new m("Can't convert object to primitive value")}},5031:function(o,c,n){"use strict";var u=n(7751),p=n(9504),g=n(8480),m=n(3717),y=n(8551),x=p([].concat);o.exports=u("Reflect","ownKeys")||function(w){var k=g.f(y(w)),S=m.f;return S?x(k,S(w)):k}},9167:function(o,c,n){"use strict";var u=n(4576);o.exports=u},1103:function(o){"use strict";o.exports=function(c){try{return{error:!1,value:c()}}catch(n){return{error:!0,value:n}}}},916:function(o,c,n){"use strict";var u=n(4576),p=n(550),g=n(4901),m=n(2796),y=n(3706),x=n(8227),w=n(4215),k=n(6395),S=n(9519),P=p&&p.prototype,E=x("species"),L=!1,s=g(u.PromiseRejectionEvent),h=m("Promise",function(){var v=y(p),d=v!==String(p);if(!d&&S===66||k&&(!P.catch||!P.finally))return!0;if(!S||S<51||!/native code/.test(v)){var _=new p(function(N){N(1)}),C=function(N){N(function(){},function(){})};if((_.constructor={})[E]=C,!(L=_.then(function(){})instanceof C))return!0}return!(d||w!=="BROWSER"&&w!=="DENO"||s)});o.exports={CONSTRUCTOR:h,REJECTION_EVENT:s,SUBCLASSING:L}},550:function(o,c,n){"use strict";var u=n(4576);o.exports=u.Promise},3438:function(o,c,n){"use strict";var u=n(8551),p=n(34),g=n(6043);o.exports=function(m,y){if(u(m),p(y)&&y.constructor===m)return y;var x=g.f(m);return(0,x.resolve)(y),x.promise}},537:function(o,c,n){"use strict";var u=n(550),p=n(4428),g=n(916).CONSTRUCTOR;o.exports=g||!p(function(m){u.all(m).then(void 0,function(){})})},1056:function(o,c,n){"use strict";var u=n(4913).f;o.exports=function(p,g,m){m in p||u(p,m,{configurable:!0,get:function(){return g[m]},set:function(y){g[m]=y}})}},8265:function(o){"use strict";var c=function(){this.head=null,this.tail=null};c.prototype={add:function(n){var u={item:n,next:null},p=this.tail;p?p.next=u:this.head=u,this.tail=u},get:function(){var n=this.head;if(n)return(this.head=n.next)===null&&(this.tail=null),n.item}},o.exports=c},6682:function(o,c,n){"use strict";var u=n(9565),p=n(8551),g=n(4901),m=n(2195),y=n(7323),x=TypeError;o.exports=function(w,k){var S=w.exec;if(g(S)){var P=u(S,w,k);return P!==null&&p(P),P}if(m(w)==="RegExp")return u(y,w,k);throw new x("RegExp#exec called on incompatible receiver")}},7323:function(o,c,n){"use strict";var u,p,g=n(9565),m=n(9504),y=n(655),x=n(7979),w=n(8429),k=n(5745),S=n(2360),P=n(1181).get,E=n(3635),L=n(8814),s=k("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,v=h,d=m("".charAt),_=m("".indexOf),C=m("".replace),N=m("".slice),G=(p=/b*/g,g(h,u=/a/,"a"),g(h,p,"a"),u.lastIndex!==0||p.lastIndex!==0),q=w.BROKEN_CARET,K=/()??/.exec("")[1]!==void 0;(G||K||q||E||L)&&(v=function(ie){var Q,te,Oe,fe,W,ae,de,Z=this,ye=P(Z),Y=y(ie),ce=ye.raw;if(ce)return ce.lastIndex=Z.lastIndex,Q=g(v,ce,Y),Z.lastIndex=ce.lastIndex,Q;var Ze=ye.groups,ft=q&&Z.sticky,ct=g(x,Z),Ge=Z.source,Ae=0,Me=Y;if(ft&&(ct=C(ct,"y",""),_(ct,"g")===-1&&(ct+="g"),Me=N(Y,Z.lastIndex),Z.lastIndex>0&&(!Z.multiline||Z.multiline&&d(Y,Z.lastIndex-1)!==`
`)&&(Ge="(?: "+Ge+")",Me=" "+Me,Ae++),te=new RegExp("^(?:"+Ge+")",ct)),K&&(te=new RegExp("^"+Ge+"$(?!\\s)",ct)),G&&(Oe=Z.lastIndex),fe=g(h,ft?te:Z,Me),ft?fe?(fe.input=N(fe.input,Ae),fe[0]=N(fe[0],Ae),fe.index=Z.lastIndex,Z.lastIndex+=fe[0].length):Z.lastIndex=0:G&&fe&&(Z.lastIndex=Z.global?fe.index+fe[0].length:Oe),K&&fe&&fe.length>1&&g(s,fe[0],te,function(){for(W=1;W<arguments.length-2;W++)arguments[W]===void 0&&(fe[W]=void 0)}),fe&&Ze)for(fe.groups=ae=S(null),W=0;W<Ze.length;W++)ae[(de=Ze[W])[0]]=fe[de[1]];return fe}),o.exports=v},7979:function(o,c,n){"use strict";var u=n(8551);o.exports=function(){var p=u(this),g="";return p.hasIndices&&(g+="d"),p.global&&(g+="g"),p.ignoreCase&&(g+="i"),p.multiline&&(g+="m"),p.dotAll&&(g+="s"),p.unicode&&(g+="u"),p.unicodeSets&&(g+="v"),p.sticky&&(g+="y"),g}},1034:function(o,c,n){"use strict";var u=n(9565),p=n(9297),g=n(1625),m=n(7979),y=RegExp.prototype;o.exports=function(x){var w=x.flags;return w!==void 0||"flags"in y||p(x,"flags")||!g(y,x)?w:u(m,x)}},8429:function(o,c,n){"use strict";var u=n(9039),p=n(4576).RegExp,g=u(function(){var x=p("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),m=g||u(function(){return!p("a","y").sticky}),y=g||u(function(){var x=p("^r","gy");return x.lastIndex=2,x.exec("str")!==null});o.exports={BROKEN_CARET:y,MISSED_STICKY:m,UNSUPPORTED_Y:g}},3635:function(o,c,n){"use strict";var u=n(9039),p=n(4576).RegExp;o.exports=u(function(){var g=p(".","s");return!(g.dotAll&&g.test(`
`)&&g.flags==="s")})},8814:function(o,c,n){"use strict";var u=n(9039),p=n(4576).RegExp;o.exports=u(function(){var g=p("(?<a>b)","g");return g.exec("b").groups.a!=="b"||"b".replace(g,"$<a>c")!=="bc"})},7750:function(o,c,n){"use strict";var u=n(4117),p=TypeError;o.exports=function(g){if(u(g))throw new p("Can't call method on "+g);return g}},3389:function(o,c,n){"use strict";var u=n(4576),p=n(3724),g=Object.getOwnPropertyDescriptor;o.exports=function(m){if(!p)return u[m];var y=g(u,m);return y&&y.value}},3470:function(o){"use strict";o.exports=Object.is||function(c,n){return c===n?c!==0||1/c==1/n:c!=c&&n!=n}},7633:function(o,c,n){"use strict";var u=n(7751),p=n(2106),g=n(8227),m=n(3724),y=g("species");o.exports=function(x){var w=u(x);m&&w&&!w[y]&&p(w,y,{configurable:!0,get:function(){return this}})}},687:function(o,c,n){"use strict";var u=n(4913).f,p=n(9297),g=n(8227)("toStringTag");o.exports=function(m,y,x){m&&!x&&(m=m.prototype),m&&!p(m,g)&&u(m,g,{configurable:!0,value:y})}},6119:function(o,c,n){"use strict";var u=n(5745),p=n(3392),g=u("keys");o.exports=function(m){return g[m]||(g[m]=p(m))}},7629:function(o,c,n){"use strict";var u=n(6395),p=n(4576),g=n(9433),m="__core-js_shared__",y=o.exports=p[m]||g(m,{});(y.versions||(y.versions=[])).push({version:"3.38.1",mode:u?"pure":"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(o,c,n){"use strict";var u=n(7629);o.exports=function(p,g){return u[p]||(u[p]=g||{})}},2293:function(o,c,n){"use strict";var u=n(8551),p=n(5548),g=n(4117),m=n(8227)("species");o.exports=function(y,x){var w,k=u(y).constructor;return k===void 0||g(w=u(k)[m])?x:p(w)}},8183:function(o,c,n){"use strict";var u=n(9504),p=n(1291),g=n(655),m=n(7750),y=u("".charAt),x=u("".charCodeAt),w=u("".slice),k=function(S){return function(P,E){var L,s,h=g(m(P)),v=p(E),d=h.length;return v<0||v>=d?S?"":void 0:(L=x(h,v))<55296||L>56319||v+1===d||(s=x(h,v+1))<56320||s>57343?S?y(h,v):L:S?w(h,v,v+2):s-56320+(L-55296<<10)+65536}};o.exports={codeAt:k(!1),charAt:k(!0)}},3802:function(o,c,n){"use strict";var u=n(9504),p=n(7750),g=n(655),m=n(7452),y=u("".replace),x=RegExp("^["+m+"]+"),w=RegExp("(^|[^"+m+"])["+m+"]+$"),k=function(S){return function(P){var E=g(p(P));return 1&S&&(E=y(E,x,"")),2&S&&(E=y(E,w,"$1")),E}};o.exports={start:k(1),end:k(2),trim:k(3)}},4495:function(o,c,n){"use strict";var u=n(9519),p=n(9039),g=n(4576).String;o.exports=!!Object.getOwnPropertySymbols&&!p(function(){var m=Symbol("symbol detection");return!g(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&u&&u<41})},8242:function(o,c,n){"use strict";var u=n(9565),p=n(7751),g=n(8227),m=n(6840);o.exports=function(){var y=p("Symbol"),x=y&&y.prototype,w=x&&x.valueOf,k=g("toPrimitive");x&&!x[k]&&m(x,k,function(S){return u(w,this)},{arity:1})}},1296:function(o,c,n){"use strict";var u=n(4495);o.exports=u&&!!Symbol.for&&!!Symbol.keyFor},9225:function(o,c,n){"use strict";var u,p,g,m,y=n(4576),x=n(8745),w=n(6080),k=n(4901),S=n(9297),P=n(9039),E=n(397),L=n(7680),s=n(4055),h=n(2812),v=n(9544),d=n(6193),_=y.setImmediate,C=y.clearImmediate,N=y.process,G=y.Dispatch,q=y.Function,K=y.MessageChannel,ie=y.String,Q=0,te={},Oe="onreadystatechange";P(function(){u=y.location});var fe=function(Z){if(S(te,Z)){var ye=te[Z];delete te[Z],ye()}},W=function(Z){return function(){fe(Z)}},ae=function(Z){fe(Z.data)},de=function(Z){y.postMessage(ie(Z),u.protocol+"//"+u.host)};_&&C||(_=function(Z){h(arguments.length,1);var ye=k(Z)?Z:q(Z),Y=L(arguments,1);return te[++Q]=function(){x(ye,void 0,Y)},p(Q),Q},C=function(Z){delete te[Z]},d?p=function(Z){N.nextTick(W(Z))}:G&&G.now?p=function(Z){G.now(W(Z))}:K&&!v?(m=(g=new K).port2,g.port1.onmessage=ae,p=w(m.postMessage,m)):y.addEventListener&&k(y.postMessage)&&!y.importScripts&&u&&u.protocol!=="file:"&&!P(de)?(p=de,y.addEventListener("message",ae,!1)):p=Oe in s("script")?function(Z){E.appendChild(s("script"))[Oe]=function(){E.removeChild(this),fe(Z)}}:function(Z){setTimeout(W(Z),0)}),o.exports={set:_,clear:C}},1240:function(o,c,n){"use strict";var u=n(9504);o.exports=u(1 .valueOf)},5610:function(o,c,n){"use strict";var u=n(1291),p=Math.max,g=Math.min;o.exports=function(m,y){var x=u(m);return x<0?p(x+y,0):g(x,y)}},5397:function(o,c,n){"use strict";var u=n(7055),p=n(7750);o.exports=function(g){return u(p(g))}},1291:function(o,c,n){"use strict";var u=n(741);o.exports=function(p){var g=+p;return g!=g||g===0?0:u(g)}},8014:function(o,c,n){"use strict";var u=n(1291),p=Math.min;o.exports=function(g){var m=u(g);return m>0?p(m,9007199254740991):0}},8981:function(o,c,n){"use strict";var u=n(7750),p=Object;o.exports=function(g){return p(u(g))}},2777:function(o,c,n){"use strict";var u=n(9565),p=n(34),g=n(757),m=n(5966),y=n(4270),x=n(8227),w=TypeError,k=x("toPrimitive");o.exports=function(S,P){if(!p(S)||g(S))return S;var E,L=m(S,k);if(L){if(P===void 0&&(P="default"),E=u(L,S,P),!p(E)||g(E))return E;throw new w("Can't convert object to primitive value")}return P===void 0&&(P="number"),y(S,P)}},6969:function(o,c,n){"use strict";var u=n(2777),p=n(757);o.exports=function(g){var m=u(g,"string");return p(m)?m:m+""}},2140:function(o,c,n){"use strict";var u={};u[n(8227)("toStringTag")]="z",o.exports=String(u)==="[object z]"},655:function(o,c,n){"use strict";var u=n(6955),p=String;o.exports=function(g){if(u(g)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return p(g)}},6823:function(o){"use strict";var c=String;o.exports=function(n){try{return c(n)}catch(u){return"Object"}}},3392:function(o,c,n){"use strict";var u=n(9504),p=0,g=Math.random(),m=u(1 .toString);o.exports=function(y){return"Symbol("+(y===void 0?"":y)+")_"+m(++p+g,36)}},7416:function(o,c,n){"use strict";var u=n(9039),p=n(8227),g=n(3724),m=n(6395),y=p("iterator");o.exports=!u(function(){var x=new URL("b?a=1&b=2&c=3","https://a"),w=x.searchParams,k=new URLSearchParams("a=1&a=2&b=3"),S="";return x.pathname="c%20d",w.forEach(function(P,E){w.delete("b"),S+=E+P}),k.delete("a",2),k.delete("b",void 0),m&&(!x.toJSON||!k.has("a",1)||k.has("a",2)||!k.has("a",void 0)||k.has("b"))||!w.size&&(m||!g)||!w.sort||x.href!=="https://a/c%20d?a=1&c=3"||w.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!w[y]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||S!=="a1c3"||new URL("https://x",void 0).host!=="x"})},7040:function(o,c,n){"use strict";var u=n(4495);o.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},8686:function(o,c,n){"use strict";var u=n(3724),p=n(9039);o.exports=u&&p(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},2812:function(o){"use strict";var c=TypeError;o.exports=function(n,u){if(n<u)throw new c("Not enough arguments");return n}},8622:function(o,c,n){"use strict";var u=n(4576),p=n(4901),g=u.WeakMap;o.exports=p(g)&&/native code/.test(String(g))},511:function(o,c,n){"use strict";var u=n(9167),p=n(9297),g=n(1951),m=n(4913).f;o.exports=function(y){var x=u.Symbol||(u.Symbol={});p(x,y)||m(x,y,{value:g.f(y)})}},1951:function(o,c,n){"use strict";var u=n(8227);c.f=u},8227:function(o,c,n){"use strict";var u=n(4576),p=n(5745),g=n(9297),m=n(3392),y=n(4495),x=n(7040),w=u.Symbol,k=p("wks"),S=x?w.for||w:w&&w.withoutSetter||m;o.exports=function(P){return g(k,P)||(k[P]=y&&g(w,P)?w[P]:S("Symbol."+P)),k[P]}},7452:function(o){"use strict";o.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},8706:function(o,c,n){"use strict";var u=n(6518),p=n(9039),g=n(4376),m=n(34),y=n(8981),x=n(6198),w=n(6837),k=n(4659),S=n(1469),P=n(597),E=n(8227),L=n(9519),s=E("isConcatSpreadable"),h=L>=51||!p(function(){var d=[];return d[s]=!1,d.concat()[0]!==d}),v=function(d){if(!m(d))return!1;var _=d[s];return _!==void 0?!!_:g(d)};u({target:"Array",proto:!0,arity:1,forced:!h||!P("concat")},{concat:function(d){var _,C,N,G,q,K=y(this),ie=S(K,0),Q=0;for(_=-1,N=arguments.length;_<N;_++)if(v(q=_===-1?K:arguments[_]))for(G=x(q),w(Q+G),C=0;C<G;C++,Q++)C in q&&k(ie,Q,q[C]);else w(Q+1),k(ie,Q++,q);return ie.length=Q,ie}})},3771:function(o,c,n){"use strict";var u=n(6518),p=n(4373),g=n(6469);u({target:"Array",proto:!0},{fill:p}),g("fill")},2008:function(o,c,n){"use strict";var u=n(6518),p=n(9213).filter;u({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(g){return p(this,g,arguments.length>1?arguments[1]:void 0)}})},8980:function(o,c,n){"use strict";var u=n(6518),p=n(9213).findIndex,g=n(6469),m="findIndex",y=!0;m in[]&&Array(1)[m](function(){y=!1}),u({target:"Array",proto:!0,forced:y},{findIndex:function(x){return p(this,x,arguments.length>1?arguments[1]:void 0)}}),g(m)},113:function(o,c,n){"use strict";var u=n(6518),p=n(9213).find,g=n(6469),m="find",y=!0;m in[]&&Array(1)[m](function(){y=!1}),u({target:"Array",proto:!0,forced:y},{find:function(x){return p(this,x,arguments.length>1?arguments[1]:void 0)}}),g(m)},8350:function(o,c,n){"use strict";var u=n(6518),p=n(259),g=n(9306),m=n(8981),y=n(6198),x=n(1469);u({target:"Array",proto:!0},{flatMap:function(w){var k,S=m(this),P=y(S);return g(w),(k=x(S,0)).length=p(k,S,S,P,0,1,w,arguments.length>1?arguments[1]:void 0),k}})},6449:function(o,c,n){"use strict";var u=n(6518),p=n(259),g=n(8981),m=n(6198),y=n(1291),x=n(1469);u({target:"Array",proto:!0},{flat:function(){var w=arguments.length?arguments[0]:void 0,k=g(this),S=m(k),P=x(k,0);return P.length=p(P,k,k,S,0,w===void 0?1:y(w)),P}})},3418:function(o,c,n){"use strict";var u=n(6518),p=n(7916);u({target:"Array",stat:!0,forced:!n(4428)(function(g){Array.from(g)})},{from:p})},4423:function(o,c,n){"use strict";var u=n(6518),p=n(9617).includes,g=n(9039),m=n(6469);u({target:"Array",proto:!0,forced:g(function(){return!Array(1).includes()})},{includes:function(y){return p(this,y,arguments.length>1?arguments[1]:void 0)}}),m("includes")},3792:function(o,c,n){"use strict";var u=n(5397),p=n(6469),g=n(6269),m=n(1181),y=n(4913).f,x=n(1088),w=n(2529),k=n(6395),S=n(3724),P="Array Iterator",E=m.set,L=m.getterFor(P);o.exports=x(Array,"Array",function(h,v){E(this,{type:P,target:u(h),index:0,kind:v})},function(){var h=L(this),v=h.target,d=h.index++;if(!v||d>=v.length)return h.target=null,w(void 0,!0);switch(h.kind){case"keys":return w(d,!1);case"values":return w(v[d],!1)}return w([d,v[d]],!1)},"values");var s=g.Arguments=g.Array;if(p("keys"),p("values"),p("entries"),!k&&S&&s.name!=="values")try{y(s,"name",{value:"values"})}catch(h){}},8598:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(7055),m=n(5397),y=n(4598),x=p([].join);u({target:"Array",proto:!0,forced:g!==Object||!y("join",",")},{join:function(w){return x(m(this),w===void 0?",":w)}})},2062:function(o,c,n){"use strict";var u=n(6518),p=n(9213).map;u({target:"Array",proto:!0,forced:!n(597)("map")},{map:function(g){return p(this,g,arguments.length>1?arguments[1]:void 0)}})},2712:function(o,c,n){"use strict";var u=n(6518),p=n(926).left,g=n(4598),m=n(9519);u({target:"Array",proto:!0,forced:!n(6193)&&m>79&&m<83||!g("reduce")},{reduce:function(y){var x=arguments.length;return p(this,y,x,x>1?arguments[1]:void 0)}})},4490:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(4376),m=p([].reverse),y=[1,2];u({target:"Array",proto:!0,forced:String(y)===String(y.reverse())},{reverse:function(){return g(this)&&(this.length=this.length),m(this)}})},4782:function(o,c,n){"use strict";var u=n(6518),p=n(4376),g=n(3517),m=n(34),y=n(5610),x=n(6198),w=n(5397),k=n(4659),S=n(8227),P=n(597),E=n(7680),L=P("slice"),s=S("species"),h=Array,v=Math.max;u({target:"Array",proto:!0,forced:!L},{slice:function(d,_){var C,N,G,q=w(this),K=x(q),ie=y(d,K),Q=y(_===void 0?K:_,K);if(p(q)&&(C=q.constructor,(g(C)&&(C===h||p(C.prototype))||m(C)&&(C=C[s])===null)&&(C=void 0),C===h||C===void 0))return E(q,ie,Q);for(N=new(C===void 0?h:C)(v(Q-ie,0)),G=0;ie<Q;ie++,G++)ie in q&&k(N,G,q[ie]);return N.length=G,N}})},6910:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(9306),m=n(8981),y=n(6198),x=n(4606),w=n(655),k=n(9039),S=n(4488),P=n(4598),E=n(3709),L=n(3763),s=n(9519),h=n(3607),v=[],d=p(v.sort),_=p(v.push),C=k(function(){v.sort(void 0)}),N=k(function(){v.sort(null)}),G=P("sort"),q=!k(function(){if(s)return s<70;if(!(E&&E>3)){if(L)return!0;if(h)return h<603;var K,ie,Q,te,Oe="";for(K=65;K<76;K++){switch(ie=String.fromCharCode(K),K){case 66:case 69:case 70:case 72:Q=3;break;case 68:case 71:Q=4;break;default:Q=2}for(te=0;te<47;te++)v.push({k:ie+te,v:Q})}for(v.sort(function(fe,W){return W.v-fe.v}),te=0;te<v.length;te++)ie=v[te].k.charAt(0),Oe.charAt(Oe.length-1)!==ie&&(Oe+=ie);return Oe!=="DGBEFHACIJK"}});u({target:"Array",proto:!0,forced:C||!N||!G||!q},{sort:function(K){K!==void 0&&g(K);var ie=m(this);if(q)return K===void 0?d(ie):d(ie,K);var Q,te,Oe=[],fe=y(ie);for(te=0;te<fe;te++)te in ie&&_(Oe,ie[te]);for(S(Oe,function(W){return function(ae,de){return de===void 0?-1:ae===void 0?1:W!==void 0?+W(ae,de)||0:w(ae)>w(de)?1:-1}}(K)),Q=y(Oe),te=0;te<Q;)ie[te]=Oe[te++];for(;te<fe;)x(ie,te++);return ie}})},4554:function(o,c,n){"use strict";var u=n(6518),p=n(8981),g=n(5610),m=n(1291),y=n(6198),x=n(4527),w=n(6837),k=n(1469),S=n(4659),P=n(4606),E=n(597)("splice"),L=Math.max,s=Math.min;u({target:"Array",proto:!0,forced:!E},{splice:function(h,v){var d,_,C,N,G,q,K=p(this),ie=y(K),Q=g(h,ie),te=arguments.length;for(te===0?d=_=0:te===1?(d=0,_=ie-Q):(d=te-2,_=s(L(m(v),0),ie-Q)),w(ie+d-_),C=k(K,_),N=0;N<_;N++)(G=Q+N)in K&&S(C,N,K[G]);if(C.length=_,d<_){for(N=Q;N<ie-_;N++)q=N+d,(G=N+_)in K?K[q]=K[G]:P(K,q);for(N=ie;N>ie-_+d;N--)P(K,N-1)}else if(d>_)for(N=ie-_;N>Q;N--)q=N+d-1,(G=N+_-1)in K?K[q]=K[G]:P(K,q);for(N=0;N<d;N++)K[N+Q]=arguments[N+2];return x(K,ie-_+d),C}})},237:function(o,c,n){"use strict";n(6469)("flatMap")},3514:function(o,c,n){"use strict";n(6469)("flat")},739:function(o,c,n){"use strict";var u=n(6518),p=n(9039),g=n(8981),m=n(2777);u({target:"Date",proto:!0,arity:1,forced:p(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(y){var x=g(this),w=m(x,"number");return typeof w!="number"||isFinite(w)?x.toISOString():null}})},9572:function(o,c,n){"use strict";var u=n(9297),p=n(6840),g=n(3640),m=n(8227)("toPrimitive"),y=Date.prototype;u(y,m)||p(y,m,g)},2010:function(o,c,n){"use strict";var u=n(3724),p=n(350).EXISTS,g=n(9504),m=n(2106),y=Function.prototype,x=g(y.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=g(w.exec);u&&!p&&m(y,"name",{configurable:!0,get:function(){try{return k(w,x(this))[1]}catch(S){return""}}})},5081:function(o,c,n){"use strict";var u=n(6518),p=n(4576);u({global:!0,forced:p.globalThis!==p},{globalThis:p})},3110:function(o,c,n){"use strict";var u=n(6518),p=n(7751),g=n(8745),m=n(9565),y=n(9504),x=n(9039),w=n(4901),k=n(757),S=n(7680),P=n(6933),E=n(4495),L=String,s=p("JSON","stringify"),h=y(/./.exec),v=y("".charAt),d=y("".charCodeAt),_=y("".replace),C=y(1 .toString),N=/[\uD800-\uDFFF]/g,G=/^[\uD800-\uDBFF]$/,q=/^[\uDC00-\uDFFF]$/,K=!E||x(function(){var Oe=p("Symbol")("stringify detection");return s([Oe])!=="[null]"||s({a:Oe})!=="{}"||s(Object(Oe))!=="{}"}),ie=x(function(){return s("\uDF06\uD834")!=='"\\udf06\\ud834"'||s("\uDEAD")!=='"\\udead"'}),Q=function(Oe,fe){var W=S(arguments),ae=P(fe);if(w(ae)||Oe!==void 0&&!k(Oe))return W[1]=function(de,Z){if(w(ae)&&(Z=m(ae,this,L(de),Z)),!k(Z))return Z},g(s,null,W)},te=function(Oe,fe,W){var ae=v(W,fe-1),de=v(W,fe+1);return h(G,Oe)&&!h(q,de)||h(q,Oe)&&!h(G,ae)?"\\u"+C(d(Oe,0),16):Oe};s&&u({target:"JSON",stat:!0,arity:3,forced:K||ie},{stringify:function(Oe,fe,W){var ae=S(arguments),de=g(K?Q:s,null,ae);return ie&&typeof de=="string"?_(de,N,te):de}})},4731:function(o,c,n){"use strict";var u=n(4576);n(687)(u.JSON,"JSON",!0)},8523:function(o,c,n){"use strict";n(6468)("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},n(6938))},6033:function(o,c,n){"use strict";n(8523)},1367:function(o,c,n){"use strict";var u=n(6518),p=Math.log,g=Math.LN2;u({target:"Math",stat:!0},{log2:function(m){return p(m)/g}})},5914:function(o,c,n){"use strict";n(6518)({target:"Math",stat:!0},{sign:n(7782)})},479:function(o,c,n){"use strict";n(687)(Math,"Math",!0)},8130:function(o,c,n){"use strict";var u=n(6518),p=n(6395),g=n(3724),m=n(4576),y=n(9167),x=n(9504),w=n(2796),k=n(9297),S=n(3167),P=n(1625),E=n(757),L=n(2777),s=n(9039),h=n(8480).f,v=n(7347).f,d=n(4913).f,_=n(1240),C=n(3802).trim,N="Number",G=m[N],q=y[N],K=G.prototype,ie=m.TypeError,Q=x("".slice),te=x("".charCodeAt),Oe=w(N,!G(" 0o1")||!G("0b1")||G("+0x1")),fe=function(ae){var de,Z=arguments.length<1?0:G(function(ye){var Y=L(ye,"number");return typeof Y=="bigint"?Y:function(ce){var Ze,ft,ct,Ge,Ae,Me,De,Ne,Ve=L(ce,"number");if(E(Ve))throw new ie("Cannot convert a Symbol value to a number");if(typeof Ve=="string"&&Ve.length>2){if(Ve=C(Ve),(Ze=te(Ve,0))===43||Ze===45){if((ft=te(Ve,2))===88||ft===120)return NaN}else if(Ze===48){switch(te(Ve,1)){case 66:case 98:ct=2,Ge=49;break;case 79:case 111:ct=8,Ge=55;break;default:return+Ve}for(Me=(Ae=Q(Ve,2)).length,De=0;De<Me;De++)if((Ne=te(Ae,De))<48||Ne>Ge)return NaN;return parseInt(Ae,ct)}}return+Ve}(Y)}(ae));return P(K,de=this)&&s(function(){_(de)})?S(Object(Z),this,fe):Z};fe.prototype=K,Oe&&!p&&(K.constructor=fe),u({global:!0,constructor:!0,wrap:!0,forced:Oe},{Number:fe});var W=function(ae,de){for(var Z,ye=g?h(de):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Y=0;ye.length>Y;Y++)k(de,Z=ye[Y])&&!k(ae,Z)&&d(ae,Z,v(de,Z))};p&&q&&W(y[N],q),(Oe||p)&&W(y[N],G)},9085:function(o,c,n){"use strict";var u=n(6518),p=n(4213);u({target:"Object",stat:!0,arity:2,forced:Object.assign!==p},{assign:p})},5506:function(o,c,n){"use strict";var u=n(6518),p=n(2357).entries;u({target:"Object",stat:!0},{entries:function(g){return p(g)}})},2811:function(o,c,n){"use strict";var u=n(6518),p=n(2744),g=n(9039),m=n(34),y=n(3451).onFreeze,x=Object.freeze;u({target:"Object",stat:!0,forced:g(function(){x(1)}),sham:!p},{freeze:function(w){return x&&m(w)?x(y(w)):w}})},3851:function(o,c,n){"use strict";var u=n(6518),p=n(9039),g=n(5397),m=n(7347).f,y=n(3724);u({target:"Object",stat:!0,forced:!y||p(function(){m(1)}),sham:!y},{getOwnPropertyDescriptor:function(x,w){return m(g(x),w)}})},1278:function(o,c,n){"use strict";var u=n(6518),p=n(3724),g=n(5031),m=n(5397),y=n(7347),x=n(4659);u({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(w){for(var k,S,P=m(w),E=y.f,L=g(P),s={},h=0;L.length>h;)(S=E(P,k=L[h++]))!==void 0&&x(s,k,S);return s}})},1480:function(o,c,n){"use strict";var u=n(6518),p=n(9039),g=n(298).f;u({target:"Object",stat:!0,forced:p(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:g})},9773:function(o,c,n){"use strict";var u=n(6518),p=n(4495),g=n(9039),m=n(3717),y=n(8981);u({target:"Object",stat:!0,forced:!p||g(function(){m.f(1)})},{getOwnPropertySymbols:function(x){var w=m.f;return w?w(y(x)):[]}})},875:function(o,c,n){"use strict";var u=n(6518),p=n(9039),g=n(8981),m=n(2787),y=n(2211);u({target:"Object",stat:!0,forced:p(function(){m(1)}),sham:!y},{getPrototypeOf:function(x){return m(g(x))}})},9432:function(o,c,n){"use strict";var u=n(6518),p=n(8981),g=n(1072);u({target:"Object",stat:!0,forced:n(9039)(function(){g(1)})},{keys:function(m){return g(p(m))}})},6099:function(o,c,n){"use strict";var u=n(2140),p=n(6840),g=n(3179);u||p(Object.prototype,"toString",g,{unsafe:!0})},6034:function(o,c,n){"use strict";var u=n(6518),p=n(2357).values;u({target:"Object",stat:!0},{values:function(g){return p(g)}})},8459:function(o,c,n){"use strict";var u=n(6518),p=n(3904);u({global:!0,forced:parseFloat!==p},{parseFloat:p})},8940:function(o,c,n){"use strict";var u=n(6518),p=n(2703);u({global:!0,forced:parseInt!==p},{parseInt:p})},6499:function(o,c,n){"use strict";var u=n(6518),p=n(9565),g=n(9306),m=n(6043),y=n(1103),x=n(2652);u({target:"Promise",stat:!0,forced:n(537)},{all:function(w){var k=this,S=m.f(k),P=S.resolve,E=S.reject,L=y(function(){var s=g(k.resolve),h=[],v=0,d=1;x(w,function(_){var C=v++,N=!1;d++,p(s,k,_).then(function(G){N||(N=!0,h[C]=G,--d||P(h))},E)}),--d||P(h)});return L.error&&E(L.value),S.promise}})},2003:function(o,c,n){"use strict";var u=n(6518),p=n(6395),g=n(916).CONSTRUCTOR,m=n(550),y=n(7751),x=n(4901),w=n(6840),k=m&&m.prototype;if(u({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(P){return this.then(void 0,P)}}),!p&&x(m)){var S=y("Promise").prototype.catch;k.catch!==S&&w(k,"catch",S,{unsafe:!0})}},436:function(o,c,n){"use strict";var u,p,g,m=n(6518),y=n(6395),x=n(6193),w=n(4576),k=n(9565),S=n(6840),P=n(2967),E=n(687),L=n(7633),s=n(9306),h=n(4901),v=n(34),d=n(679),_=n(2293),C=n(9225).set,N=n(1955),G=n(3138),q=n(1103),K=n(8265),ie=n(1181),Q=n(550),te=n(916),Oe=n(6043),fe="Promise",W=te.CONSTRUCTOR,ae=te.REJECTION_EVENT,de=te.SUBCLASSING,Z=ie.getterFor(fe),ye=ie.set,Y=Q&&Q.prototype,ce=Q,Ze=Y,ft=w.TypeError,ct=w.document,Ge=w.process,Ae=Oe.f,Me=Ae,De=!!(ct&&ct.createEvent&&w.dispatchEvent),Ne="unhandledrejection",Ve=function(Ee){var tt;return!(!v(Ee)||!h(tt=Ee.then))&&tt},rt=function(Ee,tt){var nt,Vt,dt,vt=tt.value,Rt=tt.state===1,ii=Rt?Ee.ok:Ee.fail,ai=Ee.resolve,ui=Ee.reject,Mt=Ee.domain;try{ii?(Rt||(tt.rejection===2&&_t(tt),tt.rejection=1),ii===!0?nt=vt:(Mt&&Mt.enter(),nt=ii(vt),Mt&&(Mt.exit(),dt=!0)),nt===Ee.promise?ui(new ft("Promise-chain cycle")):(Vt=Ve(nt))?k(Vt,nt,ai,ui):ai(nt)):ui(vt)}catch(It){Mt&&!dt&&Mt.exit(),ui(It)}},je=function(Ee,tt){Ee.notified||(Ee.notified=!0,N(function(){for(var nt,Vt=Ee.reactions;nt=Vt.get();)rt(nt,Ee);Ee.notified=!1,tt&&!Ee.rejection&&J(Ee)}))},ee=function(Ee,tt,nt){var Vt,dt;De?((Vt=ct.createEvent("Event")).promise=tt,Vt.reason=nt,Vt.initEvent(Ee,!1,!0),w.dispatchEvent(Vt)):Vt={promise:tt,reason:nt},!ae&&(dt=w["on"+Ee])?dt(Vt):Ee===Ne&&G("Unhandled promise rejection",nt)},J=function(Ee){k(C,w,function(){var tt,nt=Ee.facade,Vt=Ee.value;if(qe(Ee)&&(tt=q(function(){x?Ge.emit("unhandledRejection",Vt,nt):ee(Ne,nt,Vt)}),Ee.rejection=x||qe(Ee)?2:1,tt.error))throw tt.value})},qe=function(Ee){return Ee.rejection!==1&&!Ee.parent},_t=function(Ee){k(C,w,function(){var tt=Ee.facade;x?Ge.emit("rejectionHandled",tt):ee("rejectionhandled",tt,Ee.value)})},we=function(Ee,tt,nt){return function(Vt){Ee(tt,Vt,nt)}},$e=function(Ee,tt,nt){Ee.done||(Ee.done=!0,nt&&(Ee=nt),Ee.value=tt,Ee.state=2,je(Ee,!0))},at=function(Ee,tt,nt){if(!Ee.done){Ee.done=!0,nt&&(Ee=nt);try{if(Ee.facade===tt)throw new ft("Promise can't be resolved itself");var Vt=Ve(tt);Vt?N(function(){var dt={done:!1};try{k(Vt,tt,we(at,dt,Ee),we($e,dt,Ee))}catch(vt){$e(dt,vt,Ee)}}):(Ee.value=tt,Ee.state=1,je(Ee,!1))}catch(dt){$e({done:!1},dt,Ee)}}};if(W&&(Ze=(ce=function(Ee){d(this,Ze),s(Ee),k(u,this);var tt=Z(this);try{Ee(we(at,tt),we($e,tt))}catch(nt){$e(tt,nt)}}).prototype,(u=function(Ee){ye(this,{type:fe,done:!1,notified:!1,parent:!1,reactions:new K,rejection:!1,state:0,value:null})}).prototype=S(Ze,"then",function(Ee,tt){var nt=Z(this),Vt=Ae(_(this,ce));return nt.parent=!0,Vt.ok=!h(Ee)||Ee,Vt.fail=h(tt)&&tt,Vt.domain=x?Ge.domain:void 0,nt.state===0?nt.reactions.add(Vt):N(function(){rt(Vt,nt)}),Vt.promise}),p=function(){var Ee=new u,tt=Z(Ee);this.promise=Ee,this.resolve=we(at,tt),this.reject=we($e,tt)},Oe.f=Ae=function(Ee){return Ee===ce||Ee===void 0?new p(Ee):Me(Ee)},!y&&h(Q)&&Y!==Object.prototype)){g=Y.then,de||S(Y,"then",function(Ee,tt){var nt=this;return new ce(function(Vt,dt){k(g,nt,Vt,dt)}).then(Ee,tt)},{unsafe:!0});try{delete Y.constructor}catch(Ee){}P&&P(Y,Ze)}m({global:!0,constructor:!0,wrap:!0,forced:W},{Promise:ce}),E(ce,fe,!1,!0),L(fe)},3362:function(o,c,n){"use strict";n(436),n(6499),n(2003),n(7743),n(1481),n(280)},7743:function(o,c,n){"use strict";var u=n(6518),p=n(9565),g=n(9306),m=n(6043),y=n(1103),x=n(2652);u({target:"Promise",stat:!0,forced:n(537)},{race:function(w){var k=this,S=m.f(k),P=S.reject,E=y(function(){var L=g(k.resolve);x(w,function(s){p(L,k,s).then(S.resolve,P)})});return E.error&&P(E.value),S.promise}})},1481:function(o,c,n){"use strict";var u=n(6518),p=n(6043);u({target:"Promise",stat:!0,forced:n(916).CONSTRUCTOR},{reject:function(g){var m=p.f(this);return(0,m.reject)(g),m.promise}})},280:function(o,c,n){"use strict";var u=n(6518),p=n(7751),g=n(6395),m=n(550),y=n(916).CONSTRUCTOR,x=n(3438),w=p("Promise"),k=g&&!y;u({target:"Promise",stat:!0,forced:g||y},{resolve:function(S){return x(k&&this===w?m:this,S)}})},825:function(o,c,n){"use strict";var u=n(6518),p=n(7751),g=n(8745),m=n(566),y=n(5548),x=n(8551),w=n(34),k=n(2360),S=n(9039),P=p("Reflect","construct"),E=Object.prototype,L=[].push,s=S(function(){function d(){}return!(P(function(){},[],d)instanceof d)}),h=!S(function(){P(function(){})}),v=s||h;u({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(d,_){y(d),x(_);var C=arguments.length<3?d:y(arguments[2]);if(h&&!s)return P(d,_,C);if(d===C){switch(_.length){case 0:return new d;case 1:return new d(_[0]);case 2:return new d(_[0],_[1]);case 3:return new d(_[0],_[1],_[2]);case 4:return new d(_[0],_[1],_[2],_[3])}var N=[null];return g(L,N,_),new(g(m,d,N))}var G=C.prototype,q=k(w(G)?G:E),K=g(d,q,_);return w(K)?K:q}})},888:function(o,c,n){"use strict";var u=n(6518),p=n(9565),g=n(34),m=n(8551),y=n(6575),x=n(7347),w=n(2787);u({target:"Reflect",stat:!0},{get:function k(S,P){var E,L,s=arguments.length<3?S:arguments[2];return m(S)===s?S[P]:(E=x.f(S,P))?y(E)?E.value:E.get===void 0?void 0:p(E.get,s):g(L=w(S))?k(L,P,s):void 0}})},4864:function(o,c,n){"use strict";var u=n(3724),p=n(4576),g=n(9504),m=n(2796),y=n(3167),x=n(6699),w=n(2360),k=n(8480).f,S=n(1625),P=n(788),E=n(655),L=n(1034),s=n(8429),h=n(1056),v=n(6840),d=n(9039),_=n(9297),C=n(1181).enforce,N=n(7633),G=n(8227),q=n(3635),K=n(8814),ie=G("match"),Q=p.RegExp,te=Q.prototype,Oe=p.SyntaxError,fe=g(te.exec),W=g("".charAt),ae=g("".replace),de=g("".indexOf),Z=g("".slice),ye=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Y=/a/g,ce=/a/g,Ze=new Q(Y)!==Y,ft=s.MISSED_STICKY,ct=s.UNSUPPORTED_Y;if(m("RegExp",u&&(!Ze||ft||q||K||d(function(){return ce[ie]=!1,Q(Y)!==Y||Q(ce)===ce||String(Q(Y,"i"))!=="/a/i"})))){for(var Ge=function(De,Ne){var Ve,rt,je,ee,J,qe,_t=S(te,this),we=P(De),$e=Ne===void 0,at=[],Ee=De;if(!_t&&we&&$e&&De.constructor===Ge)return De;if((we||S(te,De))&&(De=De.source,$e&&(Ne=L(Ee))),De=De===void 0?"":E(De),Ne=Ne===void 0?"":E(Ne),Ee=De,q&&"dotAll"in Y&&(rt=!!Ne&&de(Ne,"s")>-1)&&(Ne=ae(Ne,/s/g,"")),Ve=Ne,ft&&"sticky"in Y&&(je=!!Ne&&de(Ne,"y")>-1)&&ct&&(Ne=ae(Ne,/y/g,"")),K&&(ee=function(tt){for(var nt,Vt=tt.length,dt=0,vt="",Rt=[],ii=w(null),ai=!1,ui=!1,Mt=0,It="";dt<=Vt;dt++){if((nt=W(tt,dt))==="\\")nt+=W(tt,++dt);else if(nt==="]")ai=!1;else if(!ai)switch(!0){case nt==="[":ai=!0;break;case nt==="(":if(vt+=nt,Z(tt,dt+1,dt+3)==="?:")continue;fe(ye,Z(tt,dt+1))&&(dt+=2,ui=!0),Mt++;continue;case(nt===">"&&ui):if(It===""||_(ii,It))throw new Oe("Invalid capture group name");ii[It]=!0,Rt[Rt.length]=[It,Mt],ui=!1,It="";continue}ui?It+=nt:vt+=nt}return[vt,Rt]}(De),De=ee[0],at=ee[1]),J=y(Q(De,Ne),_t?this:te,Ge),(rt||je||at.length)&&(qe=C(J),rt&&(qe.dotAll=!0,qe.raw=Ge(function(tt){for(var nt,Vt=tt.length,dt=0,vt="",Rt=!1;dt<=Vt;dt++)(nt=W(tt,dt))!=="\\"?Rt||nt!=="."?(nt==="["?Rt=!0:nt==="]"&&(Rt=!1),vt+=nt):vt+="[\\s\\S]":vt+=nt+W(tt,++dt);return vt}(De),Ve)),je&&(qe.sticky=!0),at.length&&(qe.groups=at)),De!==Ee)try{x(J,"source",Ee===""?"(?:)":Ee)}catch(tt){}return J},Ae=k(Q),Me=0;Ae.length>Me;)h(Ge,Q,Ae[Me++]);te.constructor=Ge,Ge.prototype=te,v(p,"RegExp",Ge,{constructor:!0})}N("RegExp")},7495:function(o,c,n){"use strict";var u=n(6518),p=n(7323);u({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},8781:function(o,c,n){"use strict";var u=n(350).PROPER,p=n(6840),g=n(8551),m=n(655),y=n(9039),x=n(1034),w="toString",k=RegExp.prototype,S=k[w],P=y(function(){return S.call({source:"a",flags:"b"})!=="/a/b"}),E=u&&S.name!==w;(P||E)&&p(k,w,function(){var L=g(this);return"/"+m(L.source)+"/"+m(x(L))},{unsafe:!0})},2405:function(o,c,n){"use strict";n(6468)("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},n(6938))},1415:function(o,c,n){"use strict";n(2405)},9449:function(o,c,n){"use strict";var u,p=n(6518),g=n(7476),m=n(7347).f,y=n(8014),x=n(655),w=n(2892),k=n(7750),S=n(1436),P=n(6395),E=g("".slice),L=Math.min,s=S("endsWith");p({target:"String",proto:!0,forced:!(!P&&!s&&(u=m(String.prototype,"endsWith"),u&&!u.writable)||s)},{endsWith:function(h){var v=x(k(this));w(h);var d=arguments.length>1?arguments[1]:void 0,_=v.length,C=d===void 0?_:L(y(d),_),N=x(h);return E(v,C-N.length,C)===N}})},7337:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(5610),m=RangeError,y=String.fromCharCode,x=String.fromCodePoint,w=p([].join);u({target:"String",stat:!0,arity:1,forced:!!x&&x.length!==1},{fromCodePoint:function(k){for(var S,P=[],E=arguments.length,L=0;E>L;){if(S=+arguments[L++],g(S,1114111)!==S)throw new m(S+" is not a valid code point");P[L]=S<65536?y(S):y(55296+((S-=65536)>>10),S%1024+56320)}return w(P,"")}})},1699:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(2892),m=n(7750),y=n(655),x=n(1436),w=p("".indexOf);u({target:"String",proto:!0,forced:!x("includes")},{includes:function(k){return!!~w(y(m(this)),y(g(k)),arguments.length>1?arguments[1]:void 0)}})},7764:function(o,c,n){"use strict";var u=n(8183).charAt,p=n(655),g=n(1181),m=n(1088),y=n(2529),x="String Iterator",w=g.set,k=g.getterFor(x);m(String,"String",function(S){w(this,{type:x,string:p(S),index:0})},function(){var S,P=k(this),E=P.string,L=P.index;return L>=E.length?y(void 0,!0):(S=u(E,L),P.index+=S.length,y(S,!1))})},1761:function(o,c,n){"use strict";var u=n(9565),p=n(9228),g=n(8551),m=n(4117),y=n(8014),x=n(655),w=n(7750),k=n(5966),S=n(7829),P=n(6682);p("match",function(E,L,s){return[function(h){var v=w(this),d=m(h)?void 0:k(h,E);return d?u(d,h,v):new RegExp(h)[E](x(v))},function(h){var v=g(this),d=x(h),_=s(L,v,d);if(_.done)return _.value;if(!v.global)return P(v,d);var C=v.unicode;v.lastIndex=0;for(var N,G=[],q=0;(N=P(v,d))!==null;){var K=x(N[0]);G[q]=K,K===""&&(v.lastIndex=S(d,y(v.lastIndex),C)),q++}return q===0?null:G}]})},5440:function(o,c,n){"use strict";var u=n(8745),p=n(9565),g=n(9504),m=n(9228),y=n(9039),x=n(8551),w=n(4901),k=n(4117),S=n(1291),P=n(8014),E=n(655),L=n(7750),s=n(7829),h=n(5966),v=n(2478),d=n(6682),_=n(8227)("replace"),C=Math.max,N=Math.min,G=g([].concat),q=g([].push),K=g("".indexOf),ie=g("".slice),Q="a".replace(/./,"$0")==="$0",te=!!/./[_]&&/./[_]("a","$0")==="";m("replace",function(Oe,fe,W){var ae=te?"$":"$0";return[function(de,Z){var ye=L(this),Y=k(de)?void 0:h(de,_);return Y?p(Y,de,ye,Z):p(fe,E(ye),de,Z)},function(de,Z){var ye=x(this),Y=E(de);if(typeof Z=="string"&&K(Z,ae)===-1&&K(Z,"$<")===-1){var ce=W(fe,ye,Y,Z);if(ce.done)return ce.value}var Ze=w(Z);Ze||(Z=E(Z));var ft,ct=ye.global;ct&&(ft=ye.unicode,ye.lastIndex=0);for(var Ge,Ae=[];(Ge=d(ye,Y))!==null&&(q(Ae,Ge),ct);)E(Ge[0])===""&&(ye.lastIndex=s(Y,P(ye.lastIndex),ft));for(var Me,De="",Ne=0,Ve=0;Ve<Ae.length;Ve++){for(var rt,je=E((Ge=Ae[Ve])[0]),ee=C(N(S(Ge.index),Y.length),0),J=[],qe=1;qe<Ge.length;qe++)q(J,(Me=Ge[qe])===void 0?Me:String(Me));var _t=Ge.groups;if(Ze){var we=G([je],J,ee,Y);_t!==void 0&&q(we,_t),rt=E(u(Z,void 0,we))}else rt=v(je,Y,ee,J,_t,Z);ee>=Ne&&(De+=ie(Y,Ne,ee)+rt,Ne=ee+je.length)}return De+ie(Y,Ne)}]},!!y(function(){var Oe=/./;return Oe.exec=function(){var fe=[];return fe.groups={a:"7"},fe},"".replace(Oe,"$<a>")!=="7"})||!Q||te)},5746:function(o,c,n){"use strict";var u=n(9565),p=n(9228),g=n(8551),m=n(4117),y=n(7750),x=n(3470),w=n(655),k=n(5966),S=n(6682);p("search",function(P,E,L){return[function(s){var h=y(this),v=m(s)?void 0:k(s,P);return v?u(v,s,h):new RegExp(s)[P](w(h))},function(s){var h=g(this),v=w(s),d=L(E,h,v);if(d.done)return d.value;var _=h.lastIndex;x(_,0)||(h.lastIndex=0);var C=S(h,v);return x(h.lastIndex,_)||(h.lastIndex=_),C===null?-1:C.index}]})},744:function(o,c,n){"use strict";var u=n(9565),p=n(9504),g=n(9228),m=n(8551),y=n(4117),x=n(7750),w=n(2293),k=n(7829),S=n(8014),P=n(655),E=n(5966),L=n(6682),s=n(8429),h=n(9039),v=s.UNSUPPORTED_Y,d=Math.min,_=p([].push),C=p("".slice),N=!h(function(){var q=/(?:)/,K=q.exec;q.exec=function(){return K.apply(this,arguments)};var ie="ab".split(q);return ie.length!==2||ie[0]!=="a"||ie[1]!=="b"}),G="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;g("split",function(q,K,ie){var Q="0".split(void 0,0).length?function(te,Oe){return te===void 0&&Oe===0?[]:u(K,this,te,Oe)}:K;return[function(te,Oe){var fe=x(this),W=y(te)?void 0:E(te,q);return W?u(W,te,fe,Oe):u(Q,P(fe),te,Oe)},function(te,Oe){var fe=m(this),W=P(te);if(!G){var ae=ie(Q,fe,W,Oe,Q!==K);if(ae.done)return ae.value}var de=w(fe,RegExp),Z=fe.unicode,ye=(fe.ignoreCase?"i":"")+(fe.multiline?"m":"")+(fe.unicode?"u":"")+(v?"g":"y"),Y=new de(v?"^(?:"+fe.source+")":fe,ye),ce=Oe===void 0?4294967295:Oe>>>0;if(ce===0)return[];if(W.length===0)return L(Y,W)===null?[W]:[];for(var Ze=0,ft=0,ct=[];ft<W.length;){Y.lastIndex=v?0:ft;var Ge,Ae=L(Y,v?C(W,ft):W);if(Ae===null||(Ge=d(S(Y.lastIndex+(v?ft:0)),W.length))===Ze)ft=k(W,ft,Z);else{if(_(ct,C(W,Ze,ft)),ct.length===ce)return ct;for(var Me=1;Me<=Ae.length-1;Me++)if(_(ct,Ae[Me]),ct.length===ce)return ct;ft=Ze=Ge}}return _(ct,C(W,Ze)),ct}]},G||!N,v)},1392:function(o,c,n){"use strict";var u,p=n(6518),g=n(7476),m=n(7347).f,y=n(8014),x=n(655),w=n(2892),k=n(7750),S=n(1436),P=n(6395),E=g("".slice),L=Math.min,s=S("startsWith");p({target:"String",proto:!0,forced:!(!P&&!s&&(u=m(String.prototype,"startsWith"),u&&!u.writable)||s)},{startsWith:function(h){var v=x(k(this));w(h);var d=y(L(arguments.length>1?arguments[1]:void 0,v.length)),_=x(h);return E(v,d,d+_.length)===_}})},6412:function(o,c,n){"use strict";n(511)("asyncIterator")},6761:function(o,c,n){"use strict";var u=n(6518),p=n(4576),g=n(9565),m=n(9504),y=n(6395),x=n(3724),w=n(4495),k=n(9039),S=n(9297),P=n(1625),E=n(8551),L=n(5397),s=n(6969),h=n(655),v=n(6980),d=n(2360),_=n(1072),C=n(8480),N=n(298),G=n(3717),q=n(7347),K=n(4913),ie=n(6801),Q=n(8773),te=n(6840),Oe=n(2106),fe=n(5745),W=n(6119),ae=n(421),de=n(3392),Z=n(8227),ye=n(1951),Y=n(511),ce=n(8242),Ze=n(687),ft=n(1181),ct=n(9213).forEach,Ge=W("hidden"),Ae="Symbol",Me="prototype",De=ft.set,Ne=ft.getterFor(Ae),Ve=Object[Me],rt=p.Symbol,je=rt&&rt[Me],ee=p.RangeError,J=p.TypeError,qe=p.QObject,_t=q.f,we=K.f,$e=N.f,at=Q.f,Ee=m([].push),tt=fe("symbols"),nt=fe("op-symbols"),Vt=fe("wks"),dt=!qe||!qe[Me]||!qe[Me].findChild,vt=function(St,I,We){var ke=_t(Ve,I);ke&&delete Ve[I],we(St,I,We),ke&&St!==Ve&&we(Ve,I,ke)},Rt=x&&k(function(){return d(we({},"a",{get:function(){return we(this,"a",{value:7}).a}})).a!==7})?vt:we,ii=function(St,I){var We=tt[St]=d(je);return De(We,{type:Ae,tag:St,description:I}),x||(We.description=I),We},ai=function(St,I,We){St===Ve&&ai(nt,I,We),E(St);var ke=s(I);return E(We),S(tt,ke)?(We.enumerable?(S(St,Ge)&&St[Ge][ke]&&(St[Ge][ke]=!1),We=d(We,{enumerable:v(0,!1)})):(S(St,Ge)||we(St,Ge,v(1,d(null))),St[Ge][ke]=!0),Rt(St,ke,We)):we(St,ke,We)},ui=function(St,I){E(St);var We=L(I),ke=_(We).concat(Ct(We));return ct(ke,function(Ye){x&&!g(Mt,We,Ye)||ai(St,Ye,We[Ye])}),St},Mt=function(St){var I=s(St),We=g(at,this,I);return!(this===Ve&&S(tt,I)&&!S(nt,I))&&(!(We||!S(this,I)||!S(tt,I)||S(this,Ge)&&this[Ge][I])||We)},It=function(St,I){var We=L(St),ke=s(I);if(We!==Ve||!S(tt,ke)||S(nt,ke)){var Ye=_t(We,ke);return!Ye||!S(tt,ke)||S(We,Ge)&&We[Ge][ke]||(Ye.enumerable=!0),Ye}},Et=function(St){var I=$e(L(St)),We=[];return ct(I,function(ke){S(tt,ke)||S(ae,ke)||Ee(We,ke)}),We},Ct=function(St){var I=St===Ve,We=$e(I?nt:L(St)),ke=[];return ct(We,function(Ye){!S(tt,Ye)||I&&!S(Ve,Ye)||Ee(ke,tt[Ye])}),ke};w||(rt=function(){if(P(je,this))throw new J("Symbol is not a constructor");var St=arguments.length&&arguments[0]!==void 0?h(arguments[0]):void 0,I=de(St),We=function(ke){var Ye=this===void 0?p:this;Ye===Ve&&g(We,nt,ke),S(Ye,Ge)&&S(Ye[Ge],I)&&(Ye[Ge][I]=!1);var Qe=v(1,ke);try{Rt(Ye,I,Qe)}catch(ht){if(!(ht instanceof ee))throw ht;vt(Ye,I,Qe)}};return x&&dt&&Rt(Ve,I,{configurable:!0,set:We}),ii(I,St)},te(je=rt[Me],"toString",function(){return Ne(this).tag}),te(rt,"withoutSetter",function(St){return ii(de(St),St)}),Q.f=Mt,K.f=ai,ie.f=ui,q.f=It,C.f=N.f=Et,G.f=Ct,ye.f=function(St){return ii(Z(St),St)},x&&(Oe(je,"description",{configurable:!0,get:function(){return Ne(this).description}}),y||te(Ve,"propertyIsEnumerable",Mt,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!w,sham:!w},{Symbol:rt}),ct(_(Vt),function(St){Y(St)}),u({target:Ae,stat:!0,forced:!w},{useSetter:function(){dt=!0},useSimple:function(){dt=!1}}),u({target:"Object",stat:!0,forced:!w,sham:!x},{create:function(St,I){return I===void 0?d(St):ui(d(St),I)},defineProperty:ai,defineProperties:ui,getOwnPropertyDescriptor:It}),u({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:Et}),ce(),Ze(rt,Ae),ae[Ge]=!0},9463:function(o,c,n){"use strict";var u=n(6518),p=n(3724),g=n(4576),m=n(9504),y=n(9297),x=n(4901),w=n(1625),k=n(655),S=n(2106),P=n(7740),E=g.Symbol,L=E&&E.prototype;if(p&&x(E)&&(!("description"in L)||E().description!==void 0)){var s={},h=function(){var q=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),K=w(L,this)?new E(q):q===void 0?E():E(q);return q===""&&(s[K]=!0),K};P(h,E),h.prototype=L,L.constructor=h;var v=String(E("description detection"))==="Symbol(description detection)",d=m(L.valueOf),_=m(L.toString),C=/^Symbol\((.*)\)[^)]+$/,N=m("".replace),G=m("".slice);S(L,"description",{configurable:!0,get:function(){var q=d(this);if(y(s,q))return"";var K=_(q),ie=v?G(K,7,-1):N(K,C,"$1");return ie===""?void 0:ie}}),u({global:!0,constructor:!0,forced:!0},{Symbol:h})}},1510:function(o,c,n){"use strict";var u=n(6518),p=n(7751),g=n(9297),m=n(655),y=n(5745),x=n(1296),w=y("string-to-symbol-registry"),k=y("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!x},{for:function(S){var P=m(S);if(g(w,P))return w[P];var E=p("Symbol")(P);return w[P]=E,k[E]=P,E}})},2259:function(o,c,n){"use strict";n(511)("iterator")},2675:function(o,c,n){"use strict";n(6761),n(1510),n(7812),n(3110),n(9773)},7812:function(o,c,n){"use strict";var u=n(6518),p=n(9297),g=n(757),m=n(6823),y=n(5745),x=n(1296),w=y("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!x},{keyFor:function(k){if(!g(k))throw new TypeError(m(k)+" is not a symbol");if(p(w,k))return w[k]}})},5700:function(o,c,n){"use strict";var u=n(511),p=n(8242);u("toPrimitive"),p()},8125:function(o,c,n){"use strict";var u=n(7751),p=n(511),g=n(687);p("toStringTag"),g(u("Symbol"),"Symbol")},3365:function(o,c,n){"use strict";var u,p=n(2744),g=n(4576),m=n(9504),y=n(6279),x=n(3451),w=n(6468),k=n(4006),S=n(34),P=n(1181).enforce,E=n(9039),L=n(8622),s=Object,h=Array.isArray,v=s.isExtensible,d=s.isFrozen,_=s.isSealed,C=s.freeze,N=s.seal,G=!g.ActiveXObject&&"ActiveXObject"in g,q=function(W){return function(){return W(this,arguments.length?arguments[0]:void 0)}},K=w("WeakMap",q,k),ie=K.prototype,Q=m(ie.set);if(L)if(G){u=k.getConstructor(q,"WeakMap",!0),x.enable();var te=m(ie.delete),Oe=m(ie.has),fe=m(ie.get);y(ie,{delete:function(W){if(S(W)&&!v(W)){var ae=P(this);return ae.frozen||(ae.frozen=new u),te(this,W)||ae.frozen.delete(W)}return te(this,W)},has:function(W){if(S(W)&&!v(W)){var ae=P(this);return ae.frozen||(ae.frozen=new u),Oe(this,W)||ae.frozen.has(W)}return Oe(this,W)},get:function(W){if(S(W)&&!v(W)){var ae=P(this);return ae.frozen||(ae.frozen=new u),Oe(this,W)?fe(this,W):ae.frozen.get(W)}return fe(this,W)},set:function(W,ae){if(S(W)&&!v(W)){var de=P(this);de.frozen||(de.frozen=new u),Oe(this,W)?Q(this,W,ae):de.frozen.set(W,ae)}else Q(this,W,ae);return this}})}else p&&E(function(){var W=C([]);return Q(new K,W,1),!d(W)})&&y(ie,{set:function(W,ae){var de;return h(W)&&(d(W)?de=C:_(W)&&(de=N)),Q(this,W,ae),de&&de(W),this}})},3772:function(o,c,n){"use strict";n(3365)},2480:function(o,c,n){"use strict";n(5081)},3500:function(o,c,n){"use strict";var u=n(4576),p=n(7400),g=n(9296),m=n(235),y=n(6699),x=function(k){if(k&&k.forEach!==m)try{y(k,"forEach",m)}catch(S){k.forEach=m}};for(var w in p)p[w]&&x(u[w]&&u[w].prototype);x(g)},2953:function(o,c,n){"use strict";var u=n(4576),p=n(7400),g=n(9296),m=n(3792),y=n(6699),x=n(687),w=n(8227)("iterator"),k=m.values,S=function(E,L){if(E){if(E[w]!==k)try{y(E,w,k)}catch(h){E[w]=k}if(x(E,L,!0),p[L]){for(var s in m)if(E[s]!==m[s])try{y(E,s,m[s])}catch(h){E[s]=m[s]}}}};for(var P in p)S(u[P]&&u[P].prototype,P);S(g,"DOMTokenList")},8406:function(o,c,n){"use strict";n(3792),n(7337);var u=n(6518),p=n(4576),g=n(3389),m=n(7751),y=n(9565),x=n(9504),w=n(3724),k=n(7416),S=n(6840),P=n(2106),E=n(6279),L=n(687),s=n(3994),h=n(1181),v=n(679),d=n(4901),_=n(9297),C=n(6080),N=n(6955),G=n(8551),q=n(34),K=n(655),ie=n(2360),Q=n(6980),te=n(81),Oe=n(851),fe=n(2529),W=n(2812),ae=n(8227),de=n(4488),Z=ae("iterator"),ye="URLSearchParams",Y=ye+"Iterator",ce=h.set,Ze=h.getterFor(ye),ft=h.getterFor(Y),ct=g("fetch"),Ge=g("Request"),Ae=g("Headers"),Me=Ge&&Ge.prototype,De=Ae&&Ae.prototype,Ne=p.TypeError,Ve=p.encodeURIComponent,rt=String.fromCharCode,je=m("String","fromCodePoint"),ee=parseInt,J=x("".charAt),qe=x([].join),_t=x([].push),we=x("".replace),$e=x([].shift),at=x([].splice),Ee=x("".split),tt=x("".slice),nt=x(/./.exec),Vt=/\+/g,dt=/^[0-9a-f]+$/i,vt=function(oe,Le){var ze=tt(oe,Le,Le+2);return nt(dt,ze)?ee(ze,16):NaN},Rt=function(oe){for(var Le=0,ze=128;ze>0&&oe&ze;ze>>=1)Le++;return Le},ii=function(oe){var Le=null;switch(oe.length){case 1:Le=oe[0];break;case 2:Le=(31&oe[0])<<6|63&oe[1];break;case 3:Le=(15&oe[0])<<12|(63&oe[1])<<6|63&oe[2];break;case 4:Le=(7&oe[0])<<18|(63&oe[1])<<12|(63&oe[2])<<6|63&oe[3]}return Le>1114111?null:Le},ai=function(oe){for(var Le=(oe=we(oe,Vt," ")).length,ze="",yt=0;yt<Le;){var ut=J(oe,yt);if(ut==="%"){if(J(oe,yt+1)==="%"||yt+3>Le){ze+="%",yt++;continue}var Tt=vt(oe,yt+1);if(Tt!=Tt){ze+=ut,yt++;continue}yt+=2;var Ut=Rt(Tt);if(Ut===0)ut=rt(Tt);else{if(Ut===1||Ut>4){ze+="\uFFFD",yt++;continue}for(var Jt=[Tt],Lt=1;Lt<Ut&&!(3+ ++yt>Le||J(oe,yt)!=="%");){var jt=vt(oe,yt+1);if(jt!=jt){yt+=3;break}if(jt>191||jt<128)break;_t(Jt,jt),yt+=2,Lt++}if(Jt.length!==Ut){ze+="\uFFFD";continue}var Je=ii(Jt);Je===null?ze+="\uFFFD":ut=je(Je)}}ze+=ut,yt++}return ze},ui=/[!'()~]|%20/g,Mt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},It=function(oe){return Mt[oe]},Et=function(oe){return we(Ve(oe),ui,It)},Ct=s(function(oe,Le){ce(this,{type:Y,target:Ze(oe).entries,index:0,kind:Le})},ye,function(){var oe=ft(this),Le=oe.target,ze=oe.index++;if(!Le||ze>=Le.length)return oe.target=null,fe(void 0,!0);var yt=Le[ze];switch(oe.kind){case"keys":return fe(yt.key,!1);case"values":return fe(yt.value,!1)}return fe([yt.key,yt.value],!1)},!0),St=function(oe){this.entries=[],this.url=null,oe!==void 0&&(q(oe)?this.parseObject(oe):this.parseQuery(typeof oe=="string"?J(oe,0)==="?"?tt(oe,1):oe:K(oe)))};St.prototype={type:ye,bindURL:function(oe){this.url=oe,this.update()},parseObject:function(oe){var Le,ze,yt,ut,Tt,Ut,Jt,Lt=this.entries,jt=Oe(oe);if(jt)for(ze=(Le=te(oe,jt)).next;!(yt=y(ze,Le)).done;){if(Tt=(ut=te(G(yt.value))).next,(Ut=y(Tt,ut)).done||(Jt=y(Tt,ut)).done||!y(Tt,ut).done)throw new Ne("Expected sequence with length 2");_t(Lt,{key:K(Ut.value),value:K(Jt.value)})}else for(var Je in oe)_(oe,Je)&&_t(Lt,{key:Je,value:K(oe[Je])})},parseQuery:function(oe){if(oe)for(var Le,ze,yt=this.entries,ut=Ee(oe,"&"),Tt=0;Tt<ut.length;)(Le=ut[Tt++]).length&&(ze=Ee(Le,"="),_t(yt,{key:ai($e(ze)),value:ai(qe(ze,"="))}))},serialize:function(){for(var oe,Le=this.entries,ze=[],yt=0;yt<Le.length;)oe=Le[yt++],_t(ze,Et(oe.key)+"="+Et(oe.value));return qe(ze,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var I=function(){v(this,We);var oe=ce(this,new St(arguments.length>0?arguments[0]:void 0));w||(this.size=oe.entries.length)},We=I.prototype;if(E(We,{append:function(oe,Le){var ze=Ze(this);W(arguments.length,2),_t(ze.entries,{key:K(oe),value:K(Le)}),w||this.length++,ze.updateURL()},delete:function(oe){for(var Le=Ze(this),ze=W(arguments.length,1),yt=Le.entries,ut=K(oe),Tt=ze<2?void 0:arguments[1],Ut=Tt===void 0?Tt:K(Tt),Jt=0;Jt<yt.length;){var Lt=yt[Jt];if(Lt.key!==ut||Ut!==void 0&&Lt.value!==Ut)Jt++;else if(at(yt,Jt,1),Ut!==void 0)break}w||(this.size=yt.length),Le.updateURL()},get:function(oe){var Le=Ze(this).entries;W(arguments.length,1);for(var ze=K(oe),yt=0;yt<Le.length;yt++)if(Le[yt].key===ze)return Le[yt].value;return null},getAll:function(oe){var Le=Ze(this).entries;W(arguments.length,1);for(var ze=K(oe),yt=[],ut=0;ut<Le.length;ut++)Le[ut].key===ze&&_t(yt,Le[ut].value);return yt},has:function(oe){for(var Le=Ze(this).entries,ze=W(arguments.length,1),yt=K(oe),ut=ze<2?void 0:arguments[1],Tt=ut===void 0?ut:K(ut),Ut=0;Ut<Le.length;){var Jt=Le[Ut++];if(Jt.key===yt&&(Tt===void 0||Jt.value===Tt))return!0}return!1},set:function(oe,Le){var ze=Ze(this);W(arguments.length,1);for(var yt,ut=ze.entries,Tt=!1,Ut=K(oe),Jt=K(Le),Lt=0;Lt<ut.length;Lt++)(yt=ut[Lt]).key===Ut&&(Tt?at(ut,Lt--,1):(Tt=!0,yt.value=Jt));Tt||_t(ut,{key:Ut,value:Jt}),w||(this.size=ut.length),ze.updateURL()},sort:function(){var oe=Ze(this);de(oe.entries,function(Le,ze){return Le.key>ze.key?1:-1}),oe.updateURL()},forEach:function(oe){for(var Le,ze=Ze(this).entries,yt=C(oe,arguments.length>1?arguments[1]:void 0),ut=0;ut<ze.length;)yt((Le=ze[ut++]).value,Le.key,this)},keys:function(){return new Ct(this,"keys")},values:function(){return new Ct(this,"values")},entries:function(){return new Ct(this,"entries")}},{enumerable:!0}),S(We,Z,We.entries,{name:"entries"}),S(We,"toString",function(){return Ze(this).serialize()},{enumerable:!0}),w&&P(We,"size",{get:function(){return Ze(this).entries.length},configurable:!0,enumerable:!0}),L(I,ye),u({global:!0,constructor:!0,forced:!k},{URLSearchParams:I}),!k&&d(Ae)){var ke=x(De.has),Ye=x(De.set),Qe=function(oe){if(q(oe)){var Le,ze=oe.body;if(N(ze)===ye)return Le=oe.headers?new Ae(oe.headers):new Ae,ke(Le,"content-type")||Ye(Le,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),ie(oe,{body:Q(0,K(ze)),headers:Q(0,Le)})}return oe};if(d(ct)&&u({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(oe){return ct(oe,arguments.length>1?Qe(arguments[1]):{})}}),d(Ge)){var ht=function(oe){return v(this,Me),new Ge(oe,arguments.length>1?Qe(arguments[1]):{})};Me.constructor=ht,ht.prototype=Me,u({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ht})}}o.exports={URLSearchParams:I,getState:Ze}},8408:function(o,c,n){"use strict";n(8406)},1091:function(o,c,n){"use strict";function u(k){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},u(k)}function p(k,S){(S==null||S>k.length)&&(S=k.length);for(var P=0,E=Array(S);P<S;P++)E[P]=k[P];return E}function g(k,S){for(var P=0;P<S.length;P++){var E=S[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,m(E.key),E)}}function m(k){var S=function(P,E){if(u(P)!="object"||!P)return P;var L=P[Symbol.toPrimitive];if(L!==void 0){var s=L.call(P,"string");if(u(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(k);return u(S)=="symbol"?S:S+""}n.d(c,{OA:function(){return y},WL:function(){return w},u$:function(){return x}}),n(2675),n(9463),n(2259),n(5700),n(3418),n(3792),n(4782),n(9572),n(2010),n(8130),n(6099),n(7495),n(8781),n(7764),n(2953);var y={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},x=function(k){return function(){for(var S=arguments.length,P=new Array(S),E=0;E<S;E++)P[E]=arguments[E];return{_$litDirective$:k,values:P}}},w=function(){return function(k,S,P){return S&&g(k.prototype,S),Object.defineProperty(k,"prototype",{writable:!1}),k}(function k(S){(function(P,E){if(!(P instanceof E))throw new TypeError("Cannot call a class as a function")})(this,k)},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(k,S,P){this._$Ct=k,this._$AM=S,this._$Ci=P}},{key:"_$AS",value:function(k,S){return this.update(k,S)}},{key:"update",value:function(k,S){return this.render.apply(this,function(E){if(Array.isArray(E))return p(E)}(P=S)||function(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}(P)||function(E,L){if(E){if(typeof E=="string")return p(E,L);var s={}.toString.call(E).slice(8,-1);return s==="Object"&&E.constructor&&(s=E.constructor.name),s==="Map"||s==="Set"?Array.from(E):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?p(E,L):void 0}}(P)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());var P}}])}()},6681:function(o,c,n){"use strict";var u;function p(dt,vt,Rt){return vt=m(vt),function(ii,ai){if(ai&&(h(ai)=="object"||typeof ai=="function"))return ai;if(ai!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ui){if(ui===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ui}(ii)}(dt,g()?Reflect.construct(vt,Rt||[],m(dt).constructor):vt.apply(dt,Rt))}function g(){try{var dt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(vt){}return(g=function(){return!!dt})()}function m(dt){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(vt){return vt.__proto__||Object.getPrototypeOf(vt)},m(dt)}function y(dt,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function");dt.prototype=Object.create(vt&&vt.prototype,{constructor:{value:dt,writable:!0,configurable:!0}}),Object.defineProperty(dt,"prototype",{writable:!1}),vt&&x(dt,vt)}function x(dt,vt){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Rt,ii){return Rt.__proto__=ii,Rt},x(dt,vt)}function w(dt,vt){var Rt=typeof Symbol<"u"&&dt[Symbol.iterator]||dt["@@iterator"];if(!Rt){if(Array.isArray(dt)||(Rt=k(dt))||vt&&dt&&typeof dt.length=="number"){Rt&&(dt=Rt);var ii=0,ai=function(){};return{s:ai,n:function(){return ii>=dt.length?{done:!0}:{done:!1,value:dt[ii++]}},e:function(Et){throw Et},f:ai}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ui,Mt=!0,It=!1;return{s:function(){Rt=Rt.call(dt)},n:function(){var Et=Rt.next();return Mt=Et.done,Et},e:function(Et){It=!0,ui=Et},f:function(){try{Mt||Rt.return==null||Rt.return()}finally{if(It)throw ui}}}}function k(dt,vt){if(dt){if(typeof dt=="string")return S(dt,vt);var Rt={}.toString.call(dt).slice(8,-1);return Rt==="Object"&&dt.constructor&&(Rt=dt.constructor.name),Rt==="Map"||Rt==="Set"?Array.from(dt):Rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Rt)?S(dt,vt):void 0}}function S(dt,vt){(vt==null||vt>dt.length)&&(vt=dt.length);for(var Rt=0,ii=Array(vt);Rt<vt;Rt++)ii[Rt]=dt[Rt];return ii}function P(dt,vt){if(!(dt instanceof vt))throw new TypeError("Cannot call a class as a function")}function E(dt,vt){for(var Rt=0;Rt<vt.length;Rt++){var ii=vt[Rt];ii.enumerable=ii.enumerable||!1,ii.configurable=!0,"value"in ii&&(ii.writable=!0),Object.defineProperty(dt,s(ii.key),ii)}}function L(dt,vt,Rt){return vt&&E(dt.prototype,vt),Rt&&E(dt,Rt),Object.defineProperty(dt,"prototype",{writable:!1}),dt}function s(dt){var vt=function(Rt,ii){if(h(Rt)!="object"||!Rt)return Rt;var ai=Rt[Symbol.toPrimitive];if(ai!==void 0){var ui=ai.call(Rt,"string");if(h(ui)!="object")return ui;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Rt)}(dt);return h(vt)=="symbol"?vt:vt+""}function h(dt){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vt){return typeof vt}:function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},h(dt)}n.d(c,{JW:function(){return ct},XX:function(){return Vt},c0:function(){return Ge},ge:function(){return tt},qy:function(){return ft},s6:function(){return Ae}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3771),n(3418),n(3792),n(4782),n(9572),n(2010),n(8130),n(875),n(6099),n(825),n(4864),n(7495),n(8781),n(9449),n(7764),n(744),n(1392),n(3772),n(2953);var v=window,d=v.trustedTypes,_=d?d.createPolicy("lit-html",{createHTML:function(dt){return dt}}):void 0,C="$lit$",N="lit$".concat((Math.random()+"").slice(9),"$"),G="?"+N,q="<".concat(G,">"),K=document,ie=function(){return K.createComment("")},Q=function(dt){return dt===null||h(dt)!="object"&&typeof dt!="function"},te=Array.isArray,Oe=function(dt){return te(dt)||typeof(dt==null?void 0:dt[Symbol.iterator])=="function"},fe=`[ 	
\f\r]`,W=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ae=/-->/g,de=/>/g,Z=RegExp(">|".concat(fe,`(?:([^\\s"'>=/]+)(`).concat(fe,"*=").concat(fe,`*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`),"g"),ye=/'/g,Y=/"/g,ce=/^(?:script|style|textarea|title)$/i,Ze=function(dt){return function(vt){for(var Rt=arguments.length,ii=new Array(Rt>1?Rt-1:0),ai=1;ai<Rt;ai++)ii[ai-1]=arguments[ai];return{_$litType$:dt,strings:vt,values:ii}}},ft=Ze(1),ct=Ze(2),Ge=Symbol.for("lit-noChange"),Ae=Symbol.for("lit-nothing"),Me=new WeakMap,De=K.createTreeWalker(K,129,null,!1);function Ne(dt,vt){if(!Array.isArray(dt)||!dt.hasOwnProperty("raw"))throw Error("invalid template strings array");return _!==void 0?_.createHTML(vt):vt}var Ve=function(dt,vt){for(var Rt,ii=dt.length-1,ai=[],ui=vt===2?"<svg>":"",Mt=W,It=0;It<ii;It++){for(var Et=dt[It],Ct=void 0,St=void 0,I=-1,We=0;We<Et.length&&(Mt.lastIndex=We,(St=Mt.exec(Et))!==null);)We=Mt.lastIndex,Mt===W?St[1]==="!--"?Mt=ae:St[1]!==void 0?Mt=de:St[2]!==void 0?(ce.test(St[2])&&(Rt=RegExp("</"+St[2],"g")),Mt=Z):St[3]!==void 0&&(Mt=Z):Mt===Z?St[0]===">"?(Mt=Rt!=null?Rt:W,I=-1):St[1]===void 0?I=-2:(I=Mt.lastIndex-St[2].length,Ct=St[1],Mt=St[3]===void 0?Z:St[3]==='"'?Y:ye):Mt===Y||Mt===ye?Mt=Z:Mt===ae||Mt===de?Mt=W:(Mt=Z,Rt=void 0);var ke=Mt===Z&&dt[It+1].startsWith("/>")?" ":"";ui+=Mt===W?Et+q:I>=0?(ai.push(Ct),Et.slice(0,I)+C+Et.slice(I)+N+ke):Et+N+(I===-2?(ai.push(void 0),It):ke)}return[Ne(dt,ui+(dt[ii]||"<?>")+(vt===2?"</svg>":"")),ai]},rt=function(){return L(function dt(vt,Rt){var ii,ai=vt.strings,ui=vt._$litType$;P(this,dt),this.parts=[];var Mt=0,It=0,Et=ai.length-1,Ct=this.parts,St=function(Be,it){return function(Pt){if(Array.isArray(Pt))return Pt}(Be)||function(Pt,Ht){var et=Pt==null?null:typeof Symbol<"u"&&Pt[Symbol.iterator]||Pt["@@iterator"];if(et!=null){var xt,kt,Xt,Xe,ni=[],ti=!0,Ai=!1;try{if(Xt=(et=et.call(Pt)).next,Ht===0){if(Object(et)!==et)return;ti=!1}else for(;!(ti=(xt=Xt.call(et)).done)&&(ni.push(xt.value),ni.length!==Ht);ti=!0);}catch(qt){Ai=!0,kt=qt}finally{try{if(!ti&&et.return!=null&&(Xe=et.return(),Object(Xe)!==Xe))return}finally{if(Ai)throw kt}}return ni}}(Be,it)||k(Be,it)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(Ve(ai,ui),2),I=St[0],We=St[1];if(this.el=dt.createElement(I,Rt),De.currentNode=this.el.content,ui===2){var ke=this.el.content,Ye=ke.firstChild;Ye.remove(),ke.append.apply(ke,function(Be){return function(it){if(Array.isArray(it))return S(it)}(Be)||function(it){if(typeof Symbol<"u"&&it[Symbol.iterator]!=null||it["@@iterator"]!=null)return Array.from(it)}(Be)||k(Be)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(Ye.childNodes))}for(;(ii=De.nextNode())!==null&&Ct.length<Et;){if(ii.nodeType===1){if(ii.hasAttributes()){var Qe,ht=[],oe=w(ii.getAttributeNames());try{for(oe.s();!(Qe=oe.n()).done;){var Le=Qe.value;if(Le.endsWith(C)||Le.startsWith(N)){var ze=We[It++];if(ht.push(Le),ze!==void 0){var yt=ii.getAttribute(ze.toLowerCase()+C).split(N),ut=/([.?@])?(.*)/.exec(ze);Ct.push({type:1,index:Mt,name:ut[2],strings:yt,ctor:ut[1]==="."?_t:ut[1]==="?"?$e:ut[1]==="@"?at:qe})}else Ct.push({type:6,index:Mt})}}}catch(Be){oe.e(Be)}finally{oe.f()}for(var Tt=0,Ut=ht;Tt<Ut.length;Tt++){var Jt=Ut[Tt];ii.removeAttribute(Jt)}}if(ce.test(ii.tagName)){var Lt=ii.textContent.split(N),jt=Lt.length-1;if(jt>0){ii.textContent=d?d.emptyScript:"";for(var Je=0;Je<jt;Je++)ii.append(Lt[Je],ie()),De.nextNode(),Ct.push({type:2,index:++Mt});ii.append(Lt[jt],ie())}}}else if(ii.nodeType===8)if(ii.data===G)Ct.push({type:2,index:Mt});else for(var Re=-1;(Re=ii.data.indexOf(N,Re+1))!==-1;)Ct.push({type:7,index:Mt}),Re+=N.length-1;Mt++}},null,[{key:"createElement",value:function(dt,vt){var Rt=K.createElement("template");return Rt.innerHTML=dt,Rt}}])}();function je(dt,vt){var Rt,ii,ai,ui,Mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dt,It=arguments.length>3?arguments[3]:void 0;if(vt===Ge)return vt;var Et=It!==void 0?(Rt=Mt._$Co)===null||Rt===void 0?void 0:Rt[It]:Mt._$Cl,Ct=Q(vt)?void 0:vt._$litDirective$;return(Et==null?void 0:Et.constructor)!==Ct&&((ii=Et==null?void 0:Et._$AO)===null||ii===void 0||ii.call(Et,!1),Ct===void 0?Et=void 0:(Et=new Ct(dt))._$AT(dt,Mt,It),It!==void 0?((ai=(ui=Mt)._$Co)!==null&&ai!==void 0?ai:ui._$Co=[])[It]=Et:Mt._$Cl=Et),Et!==void 0&&(vt=je(dt,Et._$AS(dt,vt.values),Et,It)),vt}var ee=function(){return L(function dt(vt,Rt){P(this,dt),this._$AV=[],this._$AN=void 0,this._$AD=vt,this._$AM=Rt},[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(dt){var vt,Rt=this._$AD,ii=Rt.el.content,ai=Rt.parts,ui=((vt=dt==null?void 0:dt.creationScope)!==null&&vt!==void 0?vt:K).importNode(ii,!0);De.currentNode=ui;for(var Mt=De.nextNode(),It=0,Et=0,Ct=ai[0];Ct!==void 0;){if(It===Ct.index){var St=void 0;Ct.type===2?St=new J(Mt,Mt.nextSibling,this,dt):Ct.type===1?St=new Ct.ctor(Mt,Ct.name,Ct.strings,this,dt):Ct.type===6&&(St=new Ee(Mt,this,dt)),this._$AV.push(St),Ct=ai[++Et]}It!==(Ct==null?void 0:Ct.index)&&(Mt=De.nextNode(),It++)}return De.currentNode=K,ui}},{key:"v",value:function(dt){var vt,Rt=0,ii=w(this._$AV);try{for(ii.s();!(vt=ii.n()).done;){var ai=vt.value;ai!==void 0&&(ai.strings!==void 0?(ai._$AI(dt,ai,Rt),Rt+=ai.strings.length-2):ai._$AI(dt[Rt])),Rt++}}catch(ui){ii.e(ui)}finally{ii.f()}}}])}(),J=function(){function dt(vt,Rt,ii,ai){var ui;P(this,dt),this.type=2,this._$AH=Ae,this._$AN=void 0,this._$AA=vt,this._$AB=Rt,this._$AM=ii,this.options=ai,this._$Cp=(ui=ai==null?void 0:ai.isConnected)===null||ui===void 0||ui}return L(dt,[{key:"_$AU",get:function(){var vt,Rt;return(Rt=(vt=this._$AM)===null||vt===void 0?void 0:vt._$AU)!==null&&Rt!==void 0?Rt:this._$Cp}},{key:"parentNode",get:function(){var vt=this._$AA.parentNode,Rt=this._$AM;return Rt!==void 0&&(vt==null?void 0:vt.nodeType)===11&&(vt=Rt.parentNode),vt}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(vt){vt=je(this,vt,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),Q(vt)?vt===Ae||vt==null||vt===""?(this._$AH!==Ae&&this._$AR(),this._$AH=Ae):vt!==this._$AH&&vt!==Ge&&this._(vt):vt._$litType$!==void 0?this.g(vt):vt.nodeType!==void 0?this.$(vt):Oe(vt)?this.T(vt):this._(vt)}},{key:"k",value:function(vt){return this._$AA.parentNode.insertBefore(vt,this._$AB)}},{key:"$",value:function(vt){this._$AH!==vt&&(this._$AR(),this._$AH=this.k(vt))}},{key:"_",value:function(vt){this._$AH!==Ae&&Q(this._$AH)?this._$AA.nextSibling.data=vt:this.$(K.createTextNode(vt)),this._$AH=vt}},{key:"g",value:function(vt){var Rt,ii=vt.values,ai=vt._$litType$,ui=typeof ai=="number"?this._$AC(vt):(ai.el===void 0&&(ai.el=rt.createElement(Ne(ai.h,ai.h[0]),this.options)),ai);if(((Rt=this._$AH)===null||Rt===void 0?void 0:Rt._$AD)===ui)this._$AH.v(ii);else{var Mt=new ee(ui,this),It=Mt.u(this.options);Mt.v(ii),this.$(It),this._$AH=Mt}}},{key:"_$AC",value:function(vt){var Rt=Me.get(vt.strings);return Rt===void 0&&Me.set(vt.strings,Rt=new rt(vt)),Rt}},{key:"T",value:function(vt){te(this._$AH)||(this._$AH=[],this._$AR());var Rt,ii,ai=this._$AH,ui=0,Mt=w(vt);try{for(Mt.s();!(ii=Mt.n()).done;){var It=ii.value;ui===ai.length?ai.push(Rt=new dt(this.k(ie()),this.k(ie()),this,this.options)):Rt=ai[ui],Rt._$AI(It),ui++}}catch(Et){Mt.e(Et)}finally{Mt.f()}ui<ai.length&&(this._$AR(Rt&&Rt._$AB.nextSibling,ui),ai.length=ui)}},{key:"_$AR",value:function(){var vt,Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,ii=arguments.length>1?arguments[1]:void 0;for((vt=this._$AP)===null||vt===void 0||vt.call(this,!1,!0,ii);Rt&&Rt!==this._$AB;){var ai=Rt.nextSibling;Rt.remove(),Rt=ai}}},{key:"setConnected",value:function(vt){var Rt;this._$AM===void 0&&(this._$Cp=vt,(Rt=this._$AP)===null||Rt===void 0||Rt.call(this,vt))}}])}(),qe=function(){return L(function dt(vt,Rt,ii,ai,ui){P(this,dt),this.type=1,this._$AH=Ae,this._$AN=void 0,this.element=vt,this.name=Rt,this._$AM=ai,this.options=ui,ii.length>2||ii[0]!==""||ii[1]!==""?(this._$AH=Array(ii.length-1).fill(new String),this.strings=ii):this._$AH=Ae},[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(dt){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,Rt=arguments.length>2?arguments[2]:void 0,ii=arguments.length>3?arguments[3]:void 0,ai=this.strings,ui=!1;if(ai===void 0)dt=je(this,dt,vt,0),(ui=!Q(dt)||dt!==this._$AH&&dt!==Ge)&&(this._$AH=dt);else{var Mt,It,Et=dt;for(dt=ai[0],Mt=0;Mt<ai.length-1;Mt++)(It=je(this,Et[Rt+Mt],vt,Mt))===Ge&&(It=this._$AH[Mt]),ui||(ui=!Q(It)||It!==this._$AH[Mt]),It===Ae?dt=Ae:dt!==Ae&&(dt+=(It!=null?It:"")+ai[Mt+1]),this._$AH[Mt]=It}ui&&!ii&&this.j(dt)}},{key:"j",value:function(dt){dt===Ae?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,dt!=null?dt:"")}}])}(),_t=function(dt){function vt(){var Rt;return P(this,vt),(Rt=p(this,vt,arguments)).type=3,Rt}return y(vt,dt),L(vt,[{key:"j",value:function(Rt){this.element[this.name]=Rt===Ae?void 0:Rt}}])}(qe),we=d?d.emptyScript:"",$e=function(dt){function vt(){var Rt;return P(this,vt),(Rt=p(this,vt,arguments)).type=4,Rt}return y(vt,dt),L(vt,[{key:"j",value:function(Rt){Rt&&Rt!==Ae?this.element.setAttribute(this.name,we):this.element.removeAttribute(this.name)}}])}(qe),at=function(dt){function vt(Rt,ii,ai,ui,Mt){var It;return P(this,vt),(It=p(this,vt,[Rt,ii,ai,ui,Mt])).type=5,It}return y(vt,dt),L(vt,[{key:"_$AI",value:function(Rt){var ii;if((Rt=(ii=je(this,Rt,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&ii!==void 0?ii:Ae)!==Ge){var ai=this._$AH,ui=Rt===Ae&&ai!==Ae||Rt.capture!==ai.capture||Rt.once!==ai.once||Rt.passive!==ai.passive,Mt=Rt!==Ae&&(ai===Ae||ui);ui&&this.element.removeEventListener(this.name,this,ai),Mt&&this.element.addEventListener(this.name,this,Rt),this._$AH=Rt}}},{key:"handleEvent",value:function(Rt){var ii,ai;typeof this._$AH=="function"?this._$AH.call((ai=(ii=this.options)===null||ii===void 0?void 0:ii.host)!==null&&ai!==void 0?ai:this.element,Rt):this._$AH.handleEvent(Rt)}}])}(qe),Ee=function(){return L(function dt(vt,Rt,ii){P(this,dt),this.element=vt,this.type=6,this._$AN=void 0,this._$AM=Rt,this.options=ii},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(dt){je(this,dt)}}])}(),tt={O:C,P:N,A:G,C:1,M:Ve,L:ee,R:Oe,D:je,I:J,V:qe,H:$e,N:at,U:_t,F:Ee},nt=v.litHtmlPolyfillSupport;nt==null||nt(rt,J),((u=v.litHtmlVersions)!==null&&u!==void 0?u:v.litHtmlVersions=[]).push("2.8.0");var Vt=function(dt,vt,Rt){var ii,ai,ui=(ii=Rt==null?void 0:Rt.renderBefore)!==null&&ii!==void 0?ii:vt,Mt=ui._$litPart$;if(Mt===void 0){var It=(ai=Rt==null?void 0:Rt.renderBefore)!==null&&ai!==void 0?ai:null;ui._$litPart$=Mt=new J(vt.insertBefore(ie(),It),It,void 0,Rt!=null?Rt:{})}return Mt._$AI(dt),Mt}},9696:function(o,c,n){"use strict";n.d(c,{EM:function(){return u},MZ:function(){return k},P:function(){return q},wk:function(){return s}});var u=function(K){return function(ie){return typeof ie=="function"?function(Q,te){return customElements.define(Q,te),te}(K,ie):function(Q,te){return{kind:te.kind,elements:te.elements,finisher:function(Oe){customElements.define(Q,Oe)}}}(K,ie)}};function p(K){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},p(K)}function g(K,ie){var Q=Object.keys(K);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(K);ie&&(te=te.filter(function(Oe){return Object.getOwnPropertyDescriptor(K,Oe).enumerable})),Q.push.apply(Q,te)}return Q}function m(K){for(var ie=1;ie<arguments.length;ie++){var Q=arguments[ie]!=null?arguments[ie]:{};ie%2?g(Object(Q),!0).forEach(function(te){y(K,te,Q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(Q)):g(Object(Q)).forEach(function(te){Object.defineProperty(K,te,Object.getOwnPropertyDescriptor(Q,te))})}return K}function y(K,ie,Q){return(ie=function(te){var Oe=function(fe,W){if(p(fe)!="object"||!fe)return fe;var ae=fe[Symbol.toPrimitive];if(ae!==void 0){var de=ae.call(fe,"string");if(p(de)!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(fe)}(te);return p(Oe)=="symbol"?Oe:Oe+""}(ie))in K?Object.defineProperty(K,ie,{value:Q,enumerable:!0,configurable:!0,writable:!0}):K[ie]=Q,K}n(2675),n(9463),n(2259),n(5700),n(2008),n(3792),n(9572),n(8130),n(3851),n(1278),n(9432),n(6099),n(7764),n(3500),n(2953);var x=function(K,ie){return ie.kind==="method"&&ie.descriptor&&!("value"in ie.descriptor)?m(m({},ie),{},{finisher:function(Q){Q.createProperty(ie.key,K)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:ie.key,initializer:function(){typeof ie.initializer=="function"&&(this[ie.key]=ie.initializer.call(this))},finisher:function(Q){Q.createProperty(ie.key,K)}}},w=function(K,ie,Q){ie.constructor.createProperty(Q,K)};function k(K){return function(ie,Q){return Q!==void 0?w(K,ie,Q):x(K,ie)}}function S(K){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},S(K)}function P(K,ie){var Q=Object.keys(K);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(K);ie&&(te=te.filter(function(Oe){return Object.getOwnPropertyDescriptor(K,Oe).enumerable})),Q.push.apply(Q,te)}return Q}function E(K){for(var ie=1;ie<arguments.length;ie++){var Q=arguments[ie]!=null?arguments[ie]:{};ie%2?P(Object(Q),!0).forEach(function(te){L(K,te,Q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(Q)):P(Object(Q)).forEach(function(te){Object.defineProperty(K,te,Object.getOwnPropertyDescriptor(Q,te))})}return K}function L(K,ie,Q){return(ie=function(te){var Oe=function(fe,W){if(S(fe)!="object"||!fe)return fe;var ae=fe[Symbol.toPrimitive];if(ae!==void 0){var de=ae.call(fe,"string");if(S(de)!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(fe)}(te);return S(Oe)=="symbol"?Oe:Oe+""}(ie))in K?Object.defineProperty(K,ie,{value:Q,enumerable:!0,configurable:!0,writable:!0}):K[ie]=Q,K}function s(K){return k(E(E({},K),{},{state:!0}))}function h(K){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},h(K)}function v(K,ie){var Q=Object.keys(K);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(K);ie&&(te=te.filter(function(Oe){return Object.getOwnPropertyDescriptor(K,Oe).enumerable})),Q.push.apply(Q,te)}return Q}function d(K){for(var ie=1;ie<arguments.length;ie++){var Q=arguments[ie]!=null?arguments[ie]:{};ie%2?v(Object(Q),!0).forEach(function(te){_(K,te,Q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(Q)):v(Object(Q)).forEach(function(te){Object.defineProperty(K,te,Object.getOwnPropertyDescriptor(Q,te))})}return K}function _(K,ie,Q){return(ie=function(te){var Oe=function(fe,W){if(h(fe)!="object"||!fe)return fe;var ae=fe[Symbol.toPrimitive];if(ae!==void 0){var de=ae.call(fe,"string");if(h(de)!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(fe)}(te);return h(Oe)=="symbol"?Oe:Oe+""}(ie))in K?Object.defineProperty(K,ie,{value:Q,enumerable:!0,configurable:!0,writable:!0}):K[ie]=Q,K}n(9085);var C,N=function(K){var ie=K.finisher,Q=K.descriptor;return function(te,Oe){var fe;if(Oe===void 0){var W=(fe=te.originalKey)!==null&&fe!==void 0?fe:te.key,ae=Q!=null?{kind:"method",placement:"prototype",key:W,descriptor:Q(te.key)}:d(d({},te),{},{key:W});return ie!=null&&(ae.finisher=function(Z){ie(Z,W)}),ae}var de=te.constructor;Q!==void 0&&Object.defineProperty(te,Oe,Q(Oe)),ie==null||ie(de,Oe)}};function G(K){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},G(K)}function q(K,ie){return N({descriptor:function(Q){var te={get:function(){var fe,W;return(W=(fe=this.renderRoot)===null||fe===void 0?void 0:fe.querySelector(K))!==null&&W!==void 0?W:null},enumerable:!0,configurable:!0};if(ie){var Oe=G(Q)=="symbol"?Symbol():"__"+Q;te.get=function(){var fe,W;return this[Oe]===void 0&&(this[Oe]=(W=(fe=this.renderRoot)===null||fe===void 0?void 0:fe.querySelector(K))!==null&&W!==void 0?W:null),this[Oe]}}return te}})}n(6412),n(8125),n(4490),n(4782),n(2010),n(4731),n(479),n(875),n(3362),(C=window.HTMLSlotElement)===null||C===void 0||C.prototype.assignedElements},8900:function(o,c,n){"use strict";n.d(c,{W:function(){return s}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3418),n(4423),n(3792),n(2712),n(4782),n(9572),n(2010),n(8130),n(875),n(9432),n(6099),n(825),n(7495),n(8781),n(1415),n(9449),n(1699),n(7764),n(5440),n(3500),n(2953);var u=n(6681),p=n(1091);function g(h){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},g(h)}function m(h,v){(v==null||v>h.length)&&(v=h.length);for(var d=0,_=Array(v);d<v;d++)_[d]=h[d];return _}function y(h,v){for(var d=0;d<v.length;d++){var _=v[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,x(_.key),_)}}function x(h){var v=function(d,_){if(g(d)!="object"||!d)return d;var C=d[Symbol.toPrimitive];if(C!==void 0){var N=C.call(d,"string");if(g(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(h);return g(v)=="symbol"?v:v+""}function w(h,v,d){return v=S(v),function(_,C){if(C&&(g(C)=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(_)}(h,k()?Reflect.construct(v,d||[],S(h).constructor):v.apply(h,d))}function k(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(v){}return(k=function(){return!!h})()}function S(h){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},S(h)}function P(h,v){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,_){return d.__proto__=_,d},P(h,v)}var E="important",L=" !"+E,s=(0,p.u$)(function(h){function v(C){var N,G;if(function(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")}(this,v),N=w(this,v,[C]),C.type!==p.OA.ATTRIBUTE||C.name!=="style"||((G=C.strings)===null||G===void 0?void 0:G.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return N}return function(C,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(N&&N.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),N&&P(C,N)}(v,h),d=v,_=[{key:"render",value:function(C){return Object.keys(C).reduce(function(N,G){var q=C[G];return q==null?N:N+"".concat(G=G.includes("-")?G:G.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(q,";")},"")}},{key:"update",value:function(C,N){var G=this,q=function(fe,W){return function(ae){if(Array.isArray(ae))return ae}(fe)||function(ae,de){var Z=ae==null?null:typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(Z!=null){var ye,Y,ce,Ze,ft=[],ct=!0,Ge=!1;try{if(ce=(Z=Z.call(ae)).next,de===0){if(Object(Z)!==Z)return;ct=!1}else for(;!(ct=(ye=ce.call(Z)).done)&&(ft.push(ye.value),ft.length!==de);ct=!0);}catch(Ae){Ge=!0,Y=Ae}finally{try{if(!ct&&Z.return!=null&&(Ze=Z.return(),Object(Ze)!==Ze))return}finally{if(Ge)throw Y}}return ft}}(fe,W)||function(ae,de){if(ae){if(typeof ae=="string")return m(ae,de);var Z={}.toString.call(ae).slice(8,-1);return Z==="Object"&&ae.constructor&&(Z=ae.constructor.name),Z==="Map"||Z==="Set"?Array.from(ae):Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?m(ae,de):void 0}}(fe,W)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(N,1)[0],K=C.element.style;if(this.ht===void 0){for(var ie in this.ht=new Set,q)this.ht.add(ie);return this.render(q)}for(var Q in this.ht.forEach(function(fe){q[fe]==null&&(G.ht.delete(fe),fe.includes("-")?K.removeProperty(fe):K[fe]="")}),q){var te=q[Q];if(te!=null){this.ht.add(Q);var Oe=typeof te=="string"&&te.endsWith(L);Q.includes("-")||Oe?K.setProperty(Q,Oe?te.slice(0,-11):te,Oe?E:""):K[Q]=te}}return u.c0}}],_&&y(d.prototype,_),Object.defineProperty(d,"prototype",{writable:!1}),d;var d,_}(p.WL))},420:function(o,c,n){"use strict";function u(we){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},u(we)}function p(we,$e){($e==null||$e>we.length)&&($e=we.length);for(var at=0,Ee=Array($e);at<$e;at++)Ee[at]=we[at];return Ee}function g(we,$e){for(var at=0;at<$e.length;at++){var Ee=$e[at];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(we,m(Ee.key),Ee)}}function m(we){var $e=function(at,Ee){if(u(at)!="object"||!at)return at;var tt=at[Symbol.toPrimitive];if(tt!==void 0){var nt=tt.call(at,"string");if(u(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}(we);return u($e)=="symbol"?$e:$e+""}n.d(c,{WF:function(){return qe},AH:function(){return E},qy:function(){return ct.qy},s6:function(){return ct.s6},XX:function(){return ct.XX},JW:function(){return ct.JW}}),n(2675),n(9463),n(6412),n(2259),n(5700),n(8125),n(8706),n(6449),n(3418),n(3792),n(4490),n(4782),n(4554),n(3514),n(739),n(9572),n(2010),n(4731),n(6033),n(479),n(8130),n(1480),n(875),n(9432),n(6099),n(3362),n(825),n(7495),n(8781),n(1415),n(7764),n(3500),n(2953),n(2062),n(2712),n(3772);var y,x=window,w=x.ShadowRoot&&(x.ShadyCSS===void 0||x.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,k=Symbol(),S=new WeakMap,P=function(){return function(we,$e,at){return $e&&g(we.prototype,$e),Object.defineProperty(we,"prototype",{writable:!1}),we}(function we($e,at,Ee){if(function(tt,nt){if(!(tt instanceof nt))throw new TypeError("Cannot call a class as a function")}(this,we),this._$cssResult$=!0,Ee!==k)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=$e,this.t=at},[{key:"styleSheet",get:function(){var we=this.o,$e=this.t;if(w&&we===void 0){var at=$e!==void 0&&$e.length===1;at&&(we=S.get($e)),we===void 0&&((this.o=we=new CSSStyleSheet).replaceSync(this.cssText),at&&S.set($e,we))}return we}},{key:"toString",value:function(){return this.cssText}}])}(),E=function(we){for(var $e=arguments.length,at=new Array($e>1?$e-1:0),Ee=1;Ee<$e;Ee++)at[Ee-1]=arguments[Ee];var tt=we.length===1?we[0]:at.reduce(function(nt,Vt,dt){return nt+function(vt){if(vt._$cssResult$===!0)return vt.cssText;if(typeof vt=="number")return vt;throw Error("Value passed to 'css' function must be a 'css' function result: "+vt+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(Vt)+we[dt+1]},we[0]);return new P(tt,we,k)},L=w?function(we){return we}:function(we){return we instanceof CSSStyleSheet?function($e){var at,Ee="",tt=function(nt,Vt){var dt=typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!dt){if(Array.isArray(nt)||(dt=function(Mt,It){if(Mt){if(typeof Mt=="string")return p(Mt,It);var Et={}.toString.call(Mt).slice(8,-1);return Et==="Object"&&Mt.constructor&&(Et=Mt.constructor.name),Et==="Map"||Et==="Set"?Array.from(Mt):Et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Et)?p(Mt,It):void 0}}(nt))||Vt&&nt&&typeof nt.length=="number"){dt&&(nt=dt);var vt=0,Rt=function(){};return{s:Rt,n:function(){return vt>=nt.length?{done:!0}:{done:!1,value:nt[vt++]}},e:function(Mt){throw Mt},f:Rt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ii,ai=!0,ui=!1;return{s:function(){dt=dt.call(nt)},n:function(){var Mt=dt.next();return ai=Mt.done,Mt},e:function(Mt){ui=!0,ii=Mt},f:function(){try{ai||dt.return==null||dt.return()}finally{if(ui)throw ii}}}}($e.cssRules);try{for(tt.s();!(at=tt.n()).done;)Ee+=at.value.cssText}catch(nt){tt.e(nt)}finally{tt.f()}return function(nt){return new P(typeof nt=="string"?nt:nt+"",void 0,k)}(Ee)}(we):we};function s(we,$e){var at=typeof Symbol<"u"&&we[Symbol.iterator]||we["@@iterator"];if(!at){if(Array.isArray(we)||(at=v(we))||$e&&we&&typeof we.length=="number"){at&&(we=at);var Ee=0,tt=function(){};return{s:tt,n:function(){return Ee>=we.length?{done:!0}:{done:!1,value:we[Ee++]}},e:function(vt){throw vt},f:tt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nt,Vt=!0,dt=!1;return{s:function(){at=at.call(we)},n:function(){var vt=at.next();return Vt=vt.done,vt},e:function(vt){dt=!0,nt=vt},f:function(){try{Vt||at.return==null||at.return()}finally{if(dt)throw nt}}}}function h(we){return function($e){if(Array.isArray($e))return d($e)}(we)||function($e){if(typeof Symbol<"u"&&$e[Symbol.iterator]!=null||$e["@@iterator"]!=null)return Array.from($e)}(we)||v(we)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(we,$e){if(we){if(typeof we=="string")return d(we,$e);var at={}.toString.call(we).slice(8,-1);return at==="Object"&&we.constructor&&(at=we.constructor.name),at==="Map"||at==="Set"?Array.from(we):at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at)?d(we,$e):void 0}}function d(we,$e){($e==null||$e>we.length)&&($e=we.length);for(var at=0,Ee=Array($e);at<$e;at++)Ee[at]=we[at];return Ee}function _(we){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_(we)}function C(){C=function(){return $e};var we,$e={},at=Object.prototype,Ee=at.hasOwnProperty,tt=Object.defineProperty||function(Lt,jt,Je){Lt[jt]=Je.value},nt=typeof Symbol=="function"?Symbol:{},Vt=nt.iterator||"@@iterator",dt=nt.asyncIterator||"@@asyncIterator",vt=nt.toStringTag||"@@toStringTag";function Rt(Lt,jt,Je){return Object.defineProperty(Lt,jt,{value:Je,enumerable:!0,configurable:!0,writable:!0}),Lt[jt]}try{Rt({},"")}catch(Lt){Rt=function(jt,Je,Re){return jt[Je]=Re}}function ii(Lt,jt,Je,Re){var Be=jt&&jt.prototype instanceof St?jt:St,it=Object.create(Be.prototype),Pt=new Ut(Re||[]);return tt(it,"_invoke",{value:ze(Lt,Je,Pt)}),it}function ai(Lt,jt,Je){try{return{type:"normal",arg:Lt.call(jt,Je)}}catch(Re){return{type:"throw",arg:Re}}}$e.wrap=ii;var ui="suspendedStart",Mt="suspendedYield",It="executing",Et="completed",Ct={};function St(){}function I(){}function We(){}var ke={};Rt(ke,Vt,function(){return this});var Ye=Object.getPrototypeOf,Qe=Ye&&Ye(Ye(Jt([])));Qe&&Qe!==at&&Ee.call(Qe,Vt)&&(ke=Qe);var ht=We.prototype=St.prototype=Object.create(ke);function oe(Lt){["next","throw","return"].forEach(function(jt){Rt(Lt,jt,function(Je){return this._invoke(jt,Je)})})}function Le(Lt,jt){function Je(Be,it,Pt,Ht){var et=ai(Lt[Be],Lt,it);if(et.type!=="throw"){var xt=et.arg,kt=xt.value;return kt&&_(kt)=="object"&&Ee.call(kt,"__await")?jt.resolve(kt.__await).then(function(Xt){Je("next",Xt,Pt,Ht)},function(Xt){Je("throw",Xt,Pt,Ht)}):jt.resolve(kt).then(function(Xt){xt.value=Xt,Pt(xt)},function(Xt){return Je("throw",Xt,Pt,Ht)})}Ht(et.arg)}var Re;tt(this,"_invoke",{value:function(Be,it){function Pt(){return new jt(function(Ht,et){Je(Be,it,Ht,et)})}return Re=Re?Re.then(Pt,Pt):Pt()}})}function ze(Lt,jt,Je){var Re=ui;return function(Be,it){if(Re===It)throw Error("Generator is already running");if(Re===Et){if(Be==="throw")throw it;return{value:we,done:!0}}for(Je.method=Be,Je.arg=it;;){var Pt=Je.delegate;if(Pt){var Ht=yt(Pt,Je);if(Ht){if(Ht===Ct)continue;return Ht}}if(Je.method==="next")Je.sent=Je._sent=Je.arg;else if(Je.method==="throw"){if(Re===ui)throw Re=Et,Je.arg;Je.dispatchException(Je.arg)}else Je.method==="return"&&Je.abrupt("return",Je.arg);Re=It;var et=ai(Lt,jt,Je);if(et.type==="normal"){if(Re=Je.done?Et:Mt,et.arg===Ct)continue;return{value:et.arg,done:Je.done}}et.type==="throw"&&(Re=Et,Je.method="throw",Je.arg=et.arg)}}}function yt(Lt,jt){var Je=jt.method,Re=Lt.iterator[Je];if(Re===we)return jt.delegate=null,Je==="throw"&&Lt.iterator.return&&(jt.method="return",jt.arg=we,yt(Lt,jt),jt.method==="throw")||Je!=="return"&&(jt.method="throw",jt.arg=new TypeError("The iterator does not provide a '"+Je+"' method")),Ct;var Be=ai(Re,Lt.iterator,jt.arg);if(Be.type==="throw")return jt.method="throw",jt.arg=Be.arg,jt.delegate=null,Ct;var it=Be.arg;return it?it.done?(jt[Lt.resultName]=it.value,jt.next=Lt.nextLoc,jt.method!=="return"&&(jt.method="next",jt.arg=we),jt.delegate=null,Ct):it:(jt.method="throw",jt.arg=new TypeError("iterator result is not an object"),jt.delegate=null,Ct)}function ut(Lt){var jt={tryLoc:Lt[0]};1 in Lt&&(jt.catchLoc=Lt[1]),2 in Lt&&(jt.finallyLoc=Lt[2],jt.afterLoc=Lt[3]),this.tryEntries.push(jt)}function Tt(Lt){var jt=Lt.completion||{};jt.type="normal",delete jt.arg,Lt.completion=jt}function Ut(Lt){this.tryEntries=[{tryLoc:"root"}],Lt.forEach(ut,this),this.reset(!0)}function Jt(Lt){if(Lt||Lt===""){var jt=Lt[Vt];if(jt)return jt.call(Lt);if(typeof Lt.next=="function")return Lt;if(!isNaN(Lt.length)){var Je=-1,Re=function Be(){for(;++Je<Lt.length;)if(Ee.call(Lt,Je))return Be.value=Lt[Je],Be.done=!1,Be;return Be.value=we,Be.done=!0,Be};return Re.next=Re}}throw new TypeError(_(Lt)+" is not iterable")}return I.prototype=We,tt(ht,"constructor",{value:We,configurable:!0}),tt(We,"constructor",{value:I,configurable:!0}),I.displayName=Rt(We,vt,"GeneratorFunction"),$e.isGeneratorFunction=function(Lt){var jt=typeof Lt=="function"&&Lt.constructor;return!!jt&&(jt===I||(jt.displayName||jt.name)==="GeneratorFunction")},$e.mark=function(Lt){return Object.setPrototypeOf?Object.setPrototypeOf(Lt,We):(Lt.__proto__=We,Rt(Lt,vt,"GeneratorFunction")),Lt.prototype=Object.create(ht),Lt},$e.awrap=function(Lt){return{__await:Lt}},oe(Le.prototype),Rt(Le.prototype,dt,function(){return this}),$e.AsyncIterator=Le,$e.async=function(Lt,jt,Je,Re,Be){Be===void 0&&(Be=Promise);var it=new Le(ii(Lt,jt,Je,Re),Be);return $e.isGeneratorFunction(jt)?it:it.next().then(function(Pt){return Pt.done?Pt.value:it.next()})},oe(ht),Rt(ht,vt,"Generator"),Rt(ht,Vt,function(){return this}),Rt(ht,"toString",function(){return"[object Generator]"}),$e.keys=function(Lt){var jt=Object(Lt),Je=[];for(var Re in jt)Je.push(Re);return Je.reverse(),function Be(){for(;Je.length;){var it=Je.pop();if(it in jt)return Be.value=it,Be.done=!1,Be}return Be.done=!0,Be}},$e.values=Jt,Ut.prototype={constructor:Ut,reset:function(Lt){if(this.prev=0,this.next=0,this.sent=this._sent=we,this.done=!1,this.delegate=null,this.method="next",this.arg=we,this.tryEntries.forEach(Tt),!Lt)for(var jt in this)jt.charAt(0)==="t"&&Ee.call(this,jt)&&!isNaN(+jt.slice(1))&&(this[jt]=we)},stop:function(){this.done=!0;var Lt=this.tryEntries[0].completion;if(Lt.type==="throw")throw Lt.arg;return this.rval},dispatchException:function(Lt){if(this.done)throw Lt;var jt=this;function Je(et,xt){return it.type="throw",it.arg=Lt,jt.next=et,xt&&(jt.method="next",jt.arg=we),!!xt}for(var Re=this.tryEntries.length-1;Re>=0;--Re){var Be=this.tryEntries[Re],it=Be.completion;if(Be.tryLoc==="root")return Je("end");if(Be.tryLoc<=this.prev){var Pt=Ee.call(Be,"catchLoc"),Ht=Ee.call(Be,"finallyLoc");if(Pt&&Ht){if(this.prev<Be.catchLoc)return Je(Be.catchLoc,!0);if(this.prev<Be.finallyLoc)return Je(Be.finallyLoc)}else if(Pt){if(this.prev<Be.catchLoc)return Je(Be.catchLoc,!0)}else{if(!Ht)throw Error("try statement without catch or finally");if(this.prev<Be.finallyLoc)return Je(Be.finallyLoc)}}}},abrupt:function(Lt,jt){for(var Je=this.tryEntries.length-1;Je>=0;--Je){var Re=this.tryEntries[Je];if(Re.tryLoc<=this.prev&&Ee.call(Re,"finallyLoc")&&this.prev<Re.finallyLoc){var Be=Re;break}}Be&&(Lt==="break"||Lt==="continue")&&Be.tryLoc<=jt&&jt<=Be.finallyLoc&&(Be=null);var it=Be?Be.completion:{};return it.type=Lt,it.arg=jt,Be?(this.method="next",this.next=Be.finallyLoc,Ct):this.complete(it)},complete:function(Lt,jt){if(Lt.type==="throw")throw Lt.arg;return Lt.type==="break"||Lt.type==="continue"?this.next=Lt.arg:Lt.type==="return"?(this.rval=this.arg=Lt.arg,this.method="return",this.next="end"):Lt.type==="normal"&&jt&&(this.next=jt),Ct},finish:function(Lt){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var Je=this.tryEntries[jt];if(Je.finallyLoc===Lt)return this.complete(Je.completion,Je.afterLoc),Tt(Je),Ct}},catch:function(Lt){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var Je=this.tryEntries[jt];if(Je.tryLoc===Lt){var Re=Je.completion;if(Re.type==="throw"){var Be=Re.arg;Tt(Je)}return Be}}throw Error("illegal catch attempt")},delegateYield:function(Lt,jt,Je){return this.delegate={iterator:Jt(Lt),resultName:jt,nextLoc:Je},this.method==="next"&&(this.arg=we),Ct}},$e}function N(we,$e,at,Ee,tt,nt,Vt){try{var dt=we[nt](Vt),vt=dt.value}catch(Rt){return void at(Rt)}dt.done?$e(vt):Promise.resolve(vt).then(Ee,tt)}function G(we,$e){for(var at=0;at<$e.length;at++){var Ee=$e[at];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(we,q(Ee.key),Ee)}}function q(we){var $e=function(at,Ee){if(_(at)!="object"||!at)return at;var tt=at[Symbol.toPrimitive];if(tt!==void 0){var nt=tt.call(at,"string");if(_(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}(we);return _($e)=="symbol"?$e:$e+""}function K(we){var $e=typeof Map=="function"?new Map:void 0;return K=function(at){if(at===null||!function(tt){try{return Function.toString.call(tt).indexOf("[native code]")!==-1}catch(nt){return typeof tt=="function"}}(at))return at;if(typeof at!="function")throw new TypeError("Super expression must either be null or a function");if($e!==void 0){if($e.has(at))return $e.get(at);$e.set(at,Ee)}function Ee(){return function(tt,nt,Vt){if(ie())return Reflect.construct.apply(null,arguments);var dt=[null];dt.push.apply(dt,nt);var vt=new(tt.bind.apply(tt,dt));return Vt&&Q(vt,Vt.prototype),vt}(at,arguments,te(this).constructor)}return Ee.prototype=Object.create(at.prototype,{constructor:{value:Ee,enumerable:!1,writable:!0,configurable:!0}}),Q(Ee,at)},K(we)}function ie(){try{var we=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch($e){}return(ie=function(){return!!we})()}function Q(we,$e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,Ee){return at.__proto__=Ee,at},Q(we,$e)}function te(we){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($e){return $e.__proto__||Object.getPrototypeOf($e)},te(we)}var Oe=window,fe=Oe.trustedTypes,W=fe?fe.emptyScript:"",ae=Oe.reactiveElementPolyfillSupport,de={toAttribute:function(we,$e){switch($e){case Boolean:we=we?W:null;break;case Object:case Array:we=we==null?we:JSON.stringify(we)}return we},fromAttribute:function(we,$e){var at=we;switch($e){case Boolean:at=we!==null;break;case Number:at=we===null?null:Number(we);break;case Object:case Array:try{at=JSON.parse(we)}catch(Ee){at=null}}return at}},Z=function(we,$e){return $e!==we&&($e==$e||we==we)},ye={attribute:!0,type:String,converter:de,reflect:!1,hasChanged:Z},Y="finalized",ce=function(we){function $e(){var Ee;return function(tt,nt){if(!(tt instanceof nt))throw new TypeError("Cannot call a class as a function")}(this,$e),(Ee=function(tt,nt,Vt){return nt=te(nt),function(dt,vt){if(vt&&(_(vt)=="object"||typeof vt=="function"))return vt;if(vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}(dt)}(tt,ie()?Reflect.construct(nt,Vt||[],te(tt).constructor):nt.apply(tt,Vt))}(this,$e))._$Ei=new Map,Ee.isUpdatePending=!1,Ee.hasUpdated=!1,Ee._$El=null,Ee._$Eu(),Ee}return function(Ee,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(tt&&tt.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),tt&&Q(Ee,tt)}($e,we),function(Ee,tt,nt){return tt&&G(Ee.prototype,tt),nt&&G(Ee,nt),Object.defineProperty(Ee,"prototype",{writable:!1}),Ee}($e,[{key:"_$Eu",value:function(){var Ee,tt=this;this._$E_=new Promise(function(nt){return tt.enableUpdating=nt}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(Ee=this.constructor.h)===null||Ee===void 0||Ee.forEach(function(nt){return nt(tt)})}},{key:"addController",value:function(Ee){var tt,nt;((tt=this._$ES)!==null&&tt!==void 0?tt:this._$ES=[]).push(Ee),this.renderRoot!==void 0&&this.isConnected&&((nt=Ee.hostConnected)===null||nt===void 0||nt.call(Ee))}},{key:"removeController",value:function(Ee){var tt;(tt=this._$ES)===null||tt===void 0||tt.splice(this._$ES.indexOf(Ee)>>>0,1)}},{key:"_$Eg",value:function(){var Ee=this;this.constructor.elementProperties.forEach(function(tt,nt){Ee.hasOwnProperty(nt)&&(Ee._$Ei.set(nt,Ee[nt]),delete Ee[nt])})}},{key:"createRenderRoot",value:function(){var Ee,tt=(Ee=this.shadowRoot)!==null&&Ee!==void 0?Ee:this.attachShadow(this.constructor.shadowRootOptions);return function(nt,Vt){w?nt.adoptedStyleSheets=Vt.map(function(dt){return dt instanceof CSSStyleSheet?dt:dt.styleSheet}):Vt.forEach(function(dt){var vt=document.createElement("style"),Rt=x.litNonce;Rt!==void 0&&vt.setAttribute("nonce",Rt),vt.textContent=dt.cssText,nt.appendChild(vt)})}(tt,this.constructor.elementStyles),tt}},{key:"connectedCallback",value:function(){var Ee;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Ee=this._$ES)===null||Ee===void 0||Ee.forEach(function(tt){var nt;return(nt=tt.hostConnected)===null||nt===void 0?void 0:nt.call(tt)})}},{key:"enableUpdating",value:function(Ee){}},{key:"disconnectedCallback",value:function(){var Ee;(Ee=this._$ES)===null||Ee===void 0||Ee.forEach(function(tt){var nt;return(nt=tt.hostDisconnected)===null||nt===void 0?void 0:nt.call(tt)})}},{key:"attributeChangedCallback",value:function(Ee,tt,nt){this._$AK(Ee,nt)}},{key:"_$EO",value:function(Ee,tt){var nt,Vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ye,dt=this.constructor._$Ep(Ee,Vt);if(dt!==void 0&&Vt.reflect===!0){var vt=(((nt=Vt.converter)===null||nt===void 0?void 0:nt.toAttribute)!==void 0?Vt.converter:de).toAttribute(tt,Vt.type);this._$El=Ee,vt==null?this.removeAttribute(dt):this.setAttribute(dt,vt),this._$El=null}}},{key:"_$AK",value:function(Ee,tt){var nt,Vt=this.constructor,dt=Vt._$Ev.get(Ee);if(dt!==void 0&&this._$El!==dt){var vt=Vt.getPropertyOptions(dt),Rt=typeof vt.converter=="function"?{fromAttribute:vt.converter}:((nt=vt.converter)===null||nt===void 0?void 0:nt.fromAttribute)!==void 0?vt.converter:de;this._$El=dt,this[dt]=Rt.fromAttribute(tt,vt.type),this._$El=null}}},{key:"requestUpdate",value:function(Ee,tt,nt){var Vt=!0;Ee!==void 0&&(((nt=nt||this.constructor.getPropertyOptions(Ee)).hasChanged||Z)(this[Ee],tt)?(this._$AL.has(Ee)||this._$AL.set(Ee,tt),nt.reflect===!0&&this._$El!==Ee&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(Ee,nt))):Vt=!1),!this.isUpdatePending&&Vt&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(at=function(Ee){return function(){var tt=this,nt=arguments;return new Promise(function(Vt,dt){var vt=Ee.apply(tt,nt);function Rt(ai){N(vt,Vt,dt,Rt,ii,"next",ai)}function ii(ai){N(vt,Vt,dt,Rt,ii,"throw",ai)}Rt(void 0)})}}(C().mark(function Ee(){var tt;return C().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return this.isUpdatePending=!0,nt.prev=1,nt.next=4,this._$E_;case 4:nt.next=9;break;case 6:nt.prev=6,nt.t0=nt.catch(1),Promise.reject(nt.t0);case 9:if(tt=this.scheduleUpdate(),nt.t1=tt!=null,!nt.t1){nt.next=14;break}return nt.next=14,tt;case 14:return nt.abrupt("return",!this.isUpdatePending);case 15:case"end":return nt.stop()}},Ee,this,[[1,6]])})),function(){return at.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var Ee,tt=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(dt,vt){return tt[vt]=dt}),this._$Ei=void 0);var nt=!1,Vt=this._$AL;try{(nt=this.shouldUpdate(Vt))?(this.willUpdate(Vt),(Ee=this._$ES)===null||Ee===void 0||Ee.forEach(function(dt){var vt;return(vt=dt.hostUpdate)===null||vt===void 0?void 0:vt.call(dt)}),this.update(Vt)):this._$Ek()}catch(dt){throw nt=!1,this._$Ek(),dt}nt&&this._$AE(Vt)}}},{key:"willUpdate",value:function(Ee){}},{key:"_$AE",value:function(Ee){var tt;(tt=this._$ES)===null||tt===void 0||tt.forEach(function(nt){var Vt;return(Vt=nt.hostUpdated)===null||Vt===void 0?void 0:Vt.call(nt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Ee)),this.updated(Ee)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(Ee){return!0}},{key:"update",value:function(Ee){var tt=this;this._$EC!==void 0&&(this._$EC.forEach(function(nt,Vt){return tt._$EO(Vt,tt[Vt],nt)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(Ee){}},{key:"firstUpdated",value:function(Ee){}}],[{key:"addInitializer",value:function(Ee){var tt;this.finalize(),((tt=this.h)!==null&&tt!==void 0?tt:this.h=[]).push(Ee)}},{key:"observedAttributes",get:function(){var Ee=this;this.finalize();var tt=[];return this.elementProperties.forEach(function(nt,Vt){var dt=Ee._$Ep(Vt,nt);dt!==void 0&&(Ee._$Ev.set(dt,Vt),tt.push(dt))}),tt}},{key:"createProperty",value:function(Ee){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ye;if(tt.state&&(tt.attribute=!1),this.finalize(),this.elementProperties.set(Ee,tt),!tt.noAccessor&&!this.prototype.hasOwnProperty(Ee)){var nt=_(Ee)=="symbol"?Symbol():"__"+Ee,Vt=this.getPropertyDescriptor(Ee,nt,tt);Vt!==void 0&&Object.defineProperty(this.prototype,Ee,Vt)}}},{key:"getPropertyDescriptor",value:function(Ee,tt,nt){return{get:function(){return this[tt]},set:function(Vt){var dt=this[Ee];this[tt]=Vt,this.requestUpdate(Ee,dt,nt)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(Ee){return this.elementProperties.get(Ee)||ye}},{key:"finalize",value:function(){if(this.hasOwnProperty(Y))return!1;this[Y]=!0;var Ee=Object.getPrototypeOf(this);if(Ee.finalize(),Ee.h!==void 0&&(this.h=h(Ee.h)),this.elementProperties=new Map(Ee.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var tt,nt=this.properties,Vt=s([].concat(h(Object.getOwnPropertyNames(nt)),h(Object.getOwnPropertySymbols(nt))));try{for(Vt.s();!(tt=Vt.n()).done;){var dt=tt.value;this.createProperty(dt,nt[dt])}}catch(vt){Vt.e(vt)}finally{Vt.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(Ee){var tt=[];if(Array.isArray(Ee)){var nt,Vt=s(new Set(Ee.flat(1/0).reverse()));try{for(Vt.s();!(nt=Vt.n()).done;){var dt=nt.value;tt.unshift(L(dt))}}catch(vt){Vt.e(vt)}finally{Vt.f()}}else Ee!==void 0&&tt.push(L(Ee));return tt}},{key:"_$Ep",value:function(Ee,tt){var nt=tt.attribute;return nt===!1?void 0:typeof nt=="string"?nt:typeof Ee=="string"?Ee.toLowerCase():void 0}}]);var at}(K(HTMLElement));ce[Y]=!0,ce.elementProperties=new Map,ce.elementStyles=[],ce.shadowRootOptions={mode:"open"},ae==null||ae({ReactiveElement:ce}),((y=Oe.reactiveElementVersions)!==null&&y!==void 0?y:Oe.reactiveElementVersions=[]).push("1.6.3");var Ze,ft,ct=n(6681);function Ge(we){return Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},Ge(we)}function Ae(we,$e){for(var at=0;at<$e.length;at++){var Ee=$e[at];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(we,Me(Ee.key),Ee)}}function Me(we){var $e=function(at,Ee){if(Ge(at)!="object"||!at)return at;var tt=at[Symbol.toPrimitive];if(tt!==void 0){var nt=tt.call(at,"string");if(Ge(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}(we);return Ge($e)=="symbol"?$e:$e+""}function De(we,$e,at){return $e=ee($e),function(Ee,tt){if(tt&&(Ge(tt)=="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(Ee)}(we,Ve()?Reflect.construct($e,at||[],ee(we).constructor):$e.apply(we,at))}function Ne(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function Ve(){try{var we=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch($e){}return(Ve=function(){return!!we})()}function rt(we,$e,at,Ee){var tt=je(ee(1&Ee?we.prototype:we),$e,at);return 2&Ee&&typeof tt=="function"?function(nt){return tt.apply(at,nt)}:tt}function je(){return je=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(we,$e,at){var Ee=function(nt,Vt){for(;!{}.hasOwnProperty.call(nt,Vt)&&(nt=ee(nt))!==null;);return nt}(we,$e);if(Ee){var tt=Object.getOwnPropertyDescriptor(Ee,$e);return tt.get?tt.get.call(arguments.length<3?we:at):tt.value}},je.apply(null,arguments)}function ee(we){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($e){return $e.__proto__||Object.getPrototypeOf($e)},ee(we)}function J(we,$e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,Ee){return at.__proto__=Ee,at},J(we,$e)}n(3851),n(888),n(2480);var qe=function(we){function $e(){var at;return function(Ee,tt){if(!(Ee instanceof tt))throw new TypeError("Cannot call a class as a function")}(this,$e),(at=De(this,$e,arguments)).renderOptions={host:Ne(at)},at._$Do=void 0,at}return function(at,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Super expression must either be null or a function");at.prototype=Object.create(Ee&&Ee.prototype,{constructor:{value:at,writable:!0,configurable:!0}}),Object.defineProperty(at,"prototype",{writable:!1}),Ee&&J(at,Ee)}($e,we),function(at,Ee,tt){return Ee&&Ae(at.prototype,Ee),Object.defineProperty(at,"prototype",{writable:!1}),at}($e,[{key:"createRenderRoot",value:function(){var at,Ee,tt=rt($e,"createRenderRoot",this,3)([]);return(at=(Ee=this.renderOptions).renderBefore)!==null&&at!==void 0||(Ee.renderBefore=tt.firstChild),tt}},{key:"update",value:function(at){var Ee=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),rt($e,"update",this,3)([at]),this._$Do=(0,ct.XX)(Ee,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var at;rt($e,"connectedCallback",this,3)([]),(at=this._$Do)===null||at===void 0||at.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var at;rt($e,"disconnectedCallback",this,3)([]),(at=this._$Do)===null||at===void 0||at.setConnected(!1)}},{key:"render",value:function(){return ct.c0}}])}(ce);qe.finalized=!0,qe._$litElement$=!0,(Ze=globalThis.litElementHydrateSupport)===null||Ze===void 0||Ze.call(globalThis,{LitElement:qe});var _t=globalThis.litElementPolyfillSupport;_t==null||_t({LitElement:qe}),((ft=globalThis.litElementVersions)!==null&&ft!==void 0?ft:globalThis.litElementVersions=[]).push("3.3.3")},4907:function(o,c,n){"use strict";n.d(c,{KL:function(){return s},LN:function(){return P},Ql:function(){return E}}),n(2675),n(9463),n(6412),n(2259),n(5700),n(8125),n(8706),n(3418),n(3792),n(2712),n(4490),n(4782),n(9572),n(2010),n(4731),n(479),n(8130),n(875),n(6099),n(3362),n(7495),n(8781),n(7764),n(3500),n(2953);var u=n(8004),p=n(1669);function g(h){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},g(h)}function m(h,v){if(h){if(typeof h=="string")return y(h,v);var d={}.toString.call(h).slice(8,-1);return d==="Object"&&h.constructor&&(d=h.constructor.name),d==="Map"||d==="Set"?Array.from(h):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?y(h,v):void 0}}function y(h,v){(v==null||v>h.length)&&(v=h.length);for(var d=0,_=Array(v);d<v;d++)_[d]=h[d];return _}function x(){x=function(){return v};var h,v={},d=Object.prototype,_=d.hasOwnProperty,C=Object.defineProperty||function(ee,J,qe){ee[J]=qe.value},N=typeof Symbol=="function"?Symbol:{},G=N.iterator||"@@iterator",q=N.asyncIterator||"@@asyncIterator",K=N.toStringTag||"@@toStringTag";function ie(ee,J,qe){return Object.defineProperty(ee,J,{value:qe,enumerable:!0,configurable:!0,writable:!0}),ee[J]}try{ie({},"")}catch(ee){ie=function(J,qe,_t){return J[qe]=_t}}function Q(ee,J,qe,_t){var we=J&&J.prototype instanceof Z?J:Z,$e=Object.create(we.prototype),at=new rt(_t||[]);return C($e,"_invoke",{value:Me(ee,qe,at)}),$e}function te(ee,J,qe){try{return{type:"normal",arg:ee.call(J,qe)}}catch(_t){return{type:"throw",arg:_t}}}v.wrap=Q;var Oe="suspendedStart",fe="suspendedYield",W="executing",ae="completed",de={};function Z(){}function ye(){}function Y(){}var ce={};ie(ce,G,function(){return this});var Ze=Object.getPrototypeOf,ft=Ze&&Ze(Ze(je([])));ft&&ft!==d&&_.call(ft,G)&&(ce=ft);var ct=Y.prototype=Z.prototype=Object.create(ce);function Ge(ee){["next","throw","return"].forEach(function(J){ie(ee,J,function(qe){return this._invoke(J,qe)})})}function Ae(ee,J){function qe(we,$e,at,Ee){var tt=te(ee[we],ee,$e);if(tt.type!=="throw"){var nt=tt.arg,Vt=nt.value;return Vt&&g(Vt)=="object"&&_.call(Vt,"__await")?J.resolve(Vt.__await).then(function(dt){qe("next",dt,at,Ee)},function(dt){qe("throw",dt,at,Ee)}):J.resolve(Vt).then(function(dt){nt.value=dt,at(nt)},function(dt){return qe("throw",dt,at,Ee)})}Ee(tt.arg)}var _t;C(this,"_invoke",{value:function(we,$e){function at(){return new J(function(Ee,tt){qe(we,$e,Ee,tt)})}return _t=_t?_t.then(at,at):at()}})}function Me(ee,J,qe){var _t=Oe;return function(we,$e){if(_t===W)throw Error("Generator is already running");if(_t===ae){if(we==="throw")throw $e;return{value:h,done:!0}}for(qe.method=we,qe.arg=$e;;){var at=qe.delegate;if(at){var Ee=De(at,qe);if(Ee){if(Ee===de)continue;return Ee}}if(qe.method==="next")qe.sent=qe._sent=qe.arg;else if(qe.method==="throw"){if(_t===Oe)throw _t=ae,qe.arg;qe.dispatchException(qe.arg)}else qe.method==="return"&&qe.abrupt("return",qe.arg);_t=W;var tt=te(ee,J,qe);if(tt.type==="normal"){if(_t=qe.done?ae:fe,tt.arg===de)continue;return{value:tt.arg,done:qe.done}}tt.type==="throw"&&(_t=ae,qe.method="throw",qe.arg=tt.arg)}}}function De(ee,J){var qe=J.method,_t=ee.iterator[qe];if(_t===h)return J.delegate=null,qe==="throw"&&ee.iterator.return&&(J.method="return",J.arg=h,De(ee,J),J.method==="throw")||qe!=="return"&&(J.method="throw",J.arg=new TypeError("The iterator does not provide a '"+qe+"' method")),de;var we=te(_t,ee.iterator,J.arg);if(we.type==="throw")return J.method="throw",J.arg=we.arg,J.delegate=null,de;var $e=we.arg;return $e?$e.done?(J[ee.resultName]=$e.value,J.next=ee.nextLoc,J.method!=="return"&&(J.method="next",J.arg=h),J.delegate=null,de):$e:(J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,de)}function Ne(ee){var J={tryLoc:ee[0]};1 in ee&&(J.catchLoc=ee[1]),2 in ee&&(J.finallyLoc=ee[2],J.afterLoc=ee[3]),this.tryEntries.push(J)}function Ve(ee){var J=ee.completion||{};J.type="normal",delete J.arg,ee.completion=J}function rt(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(Ne,this),this.reset(!0)}function je(ee){if(ee||ee===""){var J=ee[G];if(J)return J.call(ee);if(typeof ee.next=="function")return ee;if(!isNaN(ee.length)){var qe=-1,_t=function we(){for(;++qe<ee.length;)if(_.call(ee,qe))return we.value=ee[qe],we.done=!1,we;return we.value=h,we.done=!0,we};return _t.next=_t}}throw new TypeError(g(ee)+" is not iterable")}return ye.prototype=Y,C(ct,"constructor",{value:Y,configurable:!0}),C(Y,"constructor",{value:ye,configurable:!0}),ye.displayName=ie(Y,K,"GeneratorFunction"),v.isGeneratorFunction=function(ee){var J=typeof ee=="function"&&ee.constructor;return!!J&&(J===ye||(J.displayName||J.name)==="GeneratorFunction")},v.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,Y):(ee.__proto__=Y,ie(ee,K,"GeneratorFunction")),ee.prototype=Object.create(ct),ee},v.awrap=function(ee){return{__await:ee}},Ge(Ae.prototype),ie(Ae.prototype,q,function(){return this}),v.AsyncIterator=Ae,v.async=function(ee,J,qe,_t,we){we===void 0&&(we=Promise);var $e=new Ae(Q(ee,J,qe,_t),we);return v.isGeneratorFunction(J)?$e:$e.next().then(function(at){return at.done?at.value:$e.next()})},Ge(ct),ie(ct,K,"Generator"),ie(ct,G,function(){return this}),ie(ct,"toString",function(){return"[object Generator]"}),v.keys=function(ee){var J=Object(ee),qe=[];for(var _t in J)qe.push(_t);return qe.reverse(),function we(){for(;qe.length;){var $e=qe.pop();if($e in J)return we.value=$e,we.done=!1,we}return we.done=!0,we}},v.values=je,rt.prototype={constructor:rt,reset:function(ee){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(Ve),!ee)for(var J in this)J.charAt(0)==="t"&&_.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=h)},stop:function(){this.done=!0;var ee=this.tryEntries[0].completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(ee){if(this.done)throw ee;var J=this;function qe(tt,nt){return $e.type="throw",$e.arg=ee,J.next=tt,nt&&(J.method="next",J.arg=h),!!nt}for(var _t=this.tryEntries.length-1;_t>=0;--_t){var we=this.tryEntries[_t],$e=we.completion;if(we.tryLoc==="root")return qe("end");if(we.tryLoc<=this.prev){var at=_.call(we,"catchLoc"),Ee=_.call(we,"finallyLoc");if(at&&Ee){if(this.prev<we.catchLoc)return qe(we.catchLoc,!0);if(this.prev<we.finallyLoc)return qe(we.finallyLoc)}else if(at){if(this.prev<we.catchLoc)return qe(we.catchLoc,!0)}else{if(!Ee)throw Error("try statement without catch or finally");if(this.prev<we.finallyLoc)return qe(we.finallyLoc)}}}},abrupt:function(ee,J){for(var qe=this.tryEntries.length-1;qe>=0;--qe){var _t=this.tryEntries[qe];if(_t.tryLoc<=this.prev&&_.call(_t,"finallyLoc")&&this.prev<_t.finallyLoc){var we=_t;break}}we&&(ee==="break"||ee==="continue")&&we.tryLoc<=J&&J<=we.finallyLoc&&(we=null);var $e=we?we.completion:{};return $e.type=ee,$e.arg=J,we?(this.method="next",this.next=we.finallyLoc,de):this.complete($e)},complete:function(ee,J){if(ee.type==="throw")throw ee.arg;return ee.type==="break"||ee.type==="continue"?this.next=ee.arg:ee.type==="return"?(this.rval=this.arg=ee.arg,this.method="return",this.next="end"):ee.type==="normal"&&J&&(this.next=J),de},finish:function(ee){for(var J=this.tryEntries.length-1;J>=0;--J){var qe=this.tryEntries[J];if(qe.finallyLoc===ee)return this.complete(qe.completion,qe.afterLoc),Ve(qe),de}},catch:function(ee){for(var J=this.tryEntries.length-1;J>=0;--J){var qe=this.tryEntries[J];if(qe.tryLoc===ee){var _t=qe.completion;if(_t.type==="throw"){var we=_t.arg;Ve(qe)}return we}}throw Error("illegal catch attempt")},delegateYield:function(ee,J,qe){return this.delegate={iterator:je(ee),resultName:J,nextLoc:qe},this.method==="next"&&(this.arg=h),de}},v}function w(h,v,d,_,C,N,G){try{var q=h[N](G),K=q.value}catch(ie){return void d(ie)}q.done?v(K):Promise.resolve(K).then(_,C)}function k(h,v){for(var d=0;d<v.length;d++){var _=v[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,S(_.key),_)}}function S(h){var v=function(d,_){if(g(d)!="object"||!d)return d;var C=d[Symbol.toPrimitive];if(C!==void 0){var N=C.call(d,"string");if(g(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(h);return g(v)=="symbol"?v:v+""}var P=function(){return h=function d(_,C){var N=C.isProtected,G=C.imageCache;(function(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")})(this,d),this.page=_,this.imageCache=G,this.$container=p("<div />",{class:"BRpagecontainer ".concat(_?"pagediv".concat(_.index):"BRemptypage"),css:{position:"absolute"}}).attr("data-side",_==null?void 0:_.pageSide).attr("data-index",_==null?void 0:_.index).attr("data-page-num",_==null?void 0:_.getPageNum()),N&&(this.$container.append(p('<div class="BRscreen" />')),this.$container.addClass("protected")),this.$img=null},v=[{key:"update",value:function(d){var _,C=this,N=d.dimensions,G=N===void 0?null:N,q=d.reduce,K=q===void 0?null:q;if(G&&this.$container.css(G),K!=null&&this.page){var ie=this.imageCache.getFinalReduce(this.page.index,K),Q=this.page.getURI(ie,0),te=this.imageCache.imageLoaded(this.page.index,ie),Oe=this.imageCache.getBestLoadedReduce(this.page.index,K);if(((_=this.$img)===null||_===void 0?void 0:_.data("src"))==Q)return this;var fe=this.$img;if(this.$img=this.imageCache.image(this.page.index,ie),fe?this.$img.insertAfter(fe):this.$img.prependTo(this.$container),te||this.$container.addClass("BRpageloading"),!te&&Oe){var W=this.page.getURI(Oe,0);fe?fe.data("src")==W||this.imageCache.image(this.page.index,Oe,fe[0]):(fe=this.imageCache.image(this.page.index,Oe)).prependTo(this.$container)}return this.$img.one("load",function(){var ae,de=(ae=x().mark(function Z(ye){var Y;return x().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return C.$container.removeClass("BRpageloading"),ce.next=3,(0,u.sleep)(100);case 3:(Y=fe)===null||Y===void 0||Y.remove();case 4:case"end":return ce.stop()}},Z)}),function(){var Z=this,ye=arguments;return new Promise(function(Y,ce){var Ze=ae.apply(Z,ye);function ft(Ge){w(Ze,Y,ce,ft,ct,"next",Ge)}function ct(Ge){w(Ze,Y,ce,ft,ct,"throw",Ge)}ft(void 0)})});return function(Z){return de.apply(this,arguments)}}()),this}}}],v&&k(h.prototype,v),Object.defineProperty(h,"prototype",{writable:!1}),h;var h,v}();function E(h,v){var d=document.createElement("div");return d.style.width="".concat(h.width,"px"),d.style.height="".concat(h.height,"px"),d.setAttribute("class","BRPageLayer ".concat(v)),d}function L(h){var v=h.l,d=h.r,_=h.b,C=h.t,N=document.createElementNS("http://www.w3.org/2000/svg","rect");return N.setAttribute("x",v.toString()),N.setAttribute("y",C.toString()),N.setAttribute("width",(d-v).toString()),N.setAttribute("height",(_-C).toString()),N.setAttribute("rx","4"),N.setAttribute("ry","4"),N}function s(h,v,d,_){var C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,N=_.querySelector(".".concat(h)),G=N||function(ae,de){var Z=document.createElementNS("http://www.w3.org/2000/svg","svg");return Z.setAttribute("xmlns","http://www.w3.org/2000/svg"),Z.setAttribute("viewBox","0 0 ".concat(ae.width," ").concat(ae.height)),Z.setAttribute("class","BRPageLayer ".concat(de)),Z.setAttribute("preserveAspectRatio","none"),Z}(d,h);if(!N){var q=_.querySelector(".BRpageimage");q?p(G).insertAfter(q):p(G).prependTo(_)}var K,ie,Q,te=function(ae,de){var Z=typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(!Z){if(Array.isArray(ae)||(Z=m(ae))){Z&&(ae=Z);var ye=0,Y=function(){};return{s:Y,n:function(){return ye>=ae.length?{done:!0}:{done:!1,value:ae[ye++]}},e:function(ct){throw ct},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ce,Ze=!0,ft=!1;return{s:function(){Z=Z.call(ae)},n:function(){var ct=Z.next();return Ze=ct.done,ct},e:function(ct){ft=!0,ce=ct},f:function(){try{Ze||Z.return==null||Z.return()}finally{if(ft)throw ce}}}}(v.entries());try{for(te.s();!(K=te.n()).done;){var Oe=(ie=K.value,Q=2,function(ae){if(Array.isArray(ae))return ae}(ie)||function(ae,de){var Z=ae==null?null:typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(Z!=null){var ye,Y,ce,Ze,ft=[],ct=!0,Ge=!1;try{if(ce=(Z=Z.call(ae)).next,de===0){if(Object(Z)!==Z)return;ct=!1}else for(;!(ct=(ye=ce.call(Z)).done)&&(ft.push(ye.value),ft.length!==de);ct=!0);}catch(Ae){Ge=!0,Y=Ae}finally{try{if(!ct&&Z.return!=null&&(Ze=Z.return(),Object(Ze)!==Ze))return}finally{if(Ge)throw Y}}return ft}}(ie,Q)||m(ie,Q)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),fe=Oe[0],W=L(Oe[1]);C&&W.setAttribute("class",C[fe]),G.appendChild(W)}}catch(ae){te.e(ae)}finally{te.f()}}},8340:function(o,c,n){"use strict";n.d(c,{q:function(){return u}});var u={fragmentChange:"fragmentChange",pageChanged:"pageChanged",PostInit:"PostInit",stop:"stop",resize:"resize",userAction:"userAction",fullscreenToggled:"fullscreenToggled",zoomOut:"zoomOut",zoomIn:"zoomIn","1PageViewSelected":"1PageViewSelected","2PageViewSelected":"2PageViewSelected","3PageViewSelected":"3PageViewSelected"}},8004:function(o,c,n){"use strict";function u(Y){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},u(Y)}function p(){p=function(){return ce};var Y,ce={},Ze=Object.prototype,ft=Ze.hasOwnProperty,ct=Object.defineProperty||function(Et,Ct,St){Et[Ct]=St.value},Ge=typeof Symbol=="function"?Symbol:{},Ae=Ge.iterator||"@@iterator",Me=Ge.asyncIterator||"@@asyncIterator",De=Ge.toStringTag||"@@toStringTag";function Ne(Et,Ct,St){return Object.defineProperty(Et,Ct,{value:St,enumerable:!0,configurable:!0,writable:!0}),Et[Ct]}try{Ne({},"")}catch(Et){Ne=function(Ct,St,I){return Ct[St]=I}}function Ve(Et,Ct,St,I){var We=Ct&&Ct.prototype instanceof we?Ct:we,ke=Object.create(We.prototype),Ye=new Mt(I||[]);return ct(ke,"_invoke",{value:Rt(Et,St,Ye)}),ke}function rt(Et,Ct,St){try{return{type:"normal",arg:Et.call(Ct,St)}}catch(I){return{type:"throw",arg:I}}}ce.wrap=Ve;var je="suspendedStart",ee="suspendedYield",J="executing",qe="completed",_t={};function we(){}function $e(){}function at(){}var Ee={};Ne(Ee,Ae,function(){return this});var tt=Object.getPrototypeOf,nt=tt&&tt(tt(It([])));nt&&nt!==Ze&&ft.call(nt,Ae)&&(Ee=nt);var Vt=at.prototype=we.prototype=Object.create(Ee);function dt(Et){["next","throw","return"].forEach(function(Ct){Ne(Et,Ct,function(St){return this._invoke(Ct,St)})})}function vt(Et,Ct){function St(We,ke,Ye,Qe){var ht=rt(Et[We],Et,ke);if(ht.type!=="throw"){var oe=ht.arg,Le=oe.value;return Le&&u(Le)=="object"&&ft.call(Le,"__await")?Ct.resolve(Le.__await).then(function(ze){St("next",ze,Ye,Qe)},function(ze){St("throw",ze,Ye,Qe)}):Ct.resolve(Le).then(function(ze){oe.value=ze,Ye(oe)},function(ze){return St("throw",ze,Ye,Qe)})}Qe(ht.arg)}var I;ct(this,"_invoke",{value:function(We,ke){function Ye(){return new Ct(function(Qe,ht){St(We,ke,Qe,ht)})}return I=I?I.then(Ye,Ye):Ye()}})}function Rt(Et,Ct,St){var I=je;return function(We,ke){if(I===J)throw Error("Generator is already running");if(I===qe){if(We==="throw")throw ke;return{value:Y,done:!0}}for(St.method=We,St.arg=ke;;){var Ye=St.delegate;if(Ye){var Qe=ii(Ye,St);if(Qe){if(Qe===_t)continue;return Qe}}if(St.method==="next")St.sent=St._sent=St.arg;else if(St.method==="throw"){if(I===je)throw I=qe,St.arg;St.dispatchException(St.arg)}else St.method==="return"&&St.abrupt("return",St.arg);I=J;var ht=rt(Et,Ct,St);if(ht.type==="normal"){if(I=St.done?qe:ee,ht.arg===_t)continue;return{value:ht.arg,done:St.done}}ht.type==="throw"&&(I=qe,St.method="throw",St.arg=ht.arg)}}}function ii(Et,Ct){var St=Ct.method,I=Et.iterator[St];if(I===Y)return Ct.delegate=null,St==="throw"&&Et.iterator.return&&(Ct.method="return",Ct.arg=Y,ii(Et,Ct),Ct.method==="throw")||St!=="return"&&(Ct.method="throw",Ct.arg=new TypeError("The iterator does not provide a '"+St+"' method")),_t;var We=rt(I,Et.iterator,Ct.arg);if(We.type==="throw")return Ct.method="throw",Ct.arg=We.arg,Ct.delegate=null,_t;var ke=We.arg;return ke?ke.done?(Ct[Et.resultName]=ke.value,Ct.next=Et.nextLoc,Ct.method!=="return"&&(Ct.method="next",Ct.arg=Y),Ct.delegate=null,_t):ke:(Ct.method="throw",Ct.arg=new TypeError("iterator result is not an object"),Ct.delegate=null,_t)}function ai(Et){var Ct={tryLoc:Et[0]};1 in Et&&(Ct.catchLoc=Et[1]),2 in Et&&(Ct.finallyLoc=Et[2],Ct.afterLoc=Et[3]),this.tryEntries.push(Ct)}function ui(Et){var Ct=Et.completion||{};Ct.type="normal",delete Ct.arg,Et.completion=Ct}function Mt(Et){this.tryEntries=[{tryLoc:"root"}],Et.forEach(ai,this),this.reset(!0)}function It(Et){if(Et||Et===""){var Ct=Et[Ae];if(Ct)return Ct.call(Et);if(typeof Et.next=="function")return Et;if(!isNaN(Et.length)){var St=-1,I=function We(){for(;++St<Et.length;)if(ft.call(Et,St))return We.value=Et[St],We.done=!1,We;return We.value=Y,We.done=!0,We};return I.next=I}}throw new TypeError(u(Et)+" is not iterable")}return $e.prototype=at,ct(Vt,"constructor",{value:at,configurable:!0}),ct(at,"constructor",{value:$e,configurable:!0}),$e.displayName=Ne(at,De,"GeneratorFunction"),ce.isGeneratorFunction=function(Et){var Ct=typeof Et=="function"&&Et.constructor;return!!Ct&&(Ct===$e||(Ct.displayName||Ct.name)==="GeneratorFunction")},ce.mark=function(Et){return Object.setPrototypeOf?Object.setPrototypeOf(Et,at):(Et.__proto__=at,Ne(Et,De,"GeneratorFunction")),Et.prototype=Object.create(Vt),Et},ce.awrap=function(Et){return{__await:Et}},dt(vt.prototype),Ne(vt.prototype,Me,function(){return this}),ce.AsyncIterator=vt,ce.async=function(Et,Ct,St,I,We){We===void 0&&(We=Promise);var ke=new vt(Ve(Et,Ct,St,I),We);return ce.isGeneratorFunction(Ct)?ke:ke.next().then(function(Ye){return Ye.done?Ye.value:ke.next()})},dt(Vt),Ne(Vt,De,"Generator"),Ne(Vt,Ae,function(){return this}),Ne(Vt,"toString",function(){return"[object Generator]"}),ce.keys=function(Et){var Ct=Object(Et),St=[];for(var I in Ct)St.push(I);return St.reverse(),function We(){for(;St.length;){var ke=St.pop();if(ke in Ct)return We.value=ke,We.done=!1,We}return We.done=!0,We}},ce.values=It,Mt.prototype={constructor:Mt,reset:function(Et){if(this.prev=0,this.next=0,this.sent=this._sent=Y,this.done=!1,this.delegate=null,this.method="next",this.arg=Y,this.tryEntries.forEach(ui),!Et)for(var Ct in this)Ct.charAt(0)==="t"&&ft.call(this,Ct)&&!isNaN(+Ct.slice(1))&&(this[Ct]=Y)},stop:function(){this.done=!0;var Et=this.tryEntries[0].completion;if(Et.type==="throw")throw Et.arg;return this.rval},dispatchException:function(Et){if(this.done)throw Et;var Ct=this;function St(ht,oe){return ke.type="throw",ke.arg=Et,Ct.next=ht,oe&&(Ct.method="next",Ct.arg=Y),!!oe}for(var I=this.tryEntries.length-1;I>=0;--I){var We=this.tryEntries[I],ke=We.completion;if(We.tryLoc==="root")return St("end");if(We.tryLoc<=this.prev){var Ye=ft.call(We,"catchLoc"),Qe=ft.call(We,"finallyLoc");if(Ye&&Qe){if(this.prev<We.catchLoc)return St(We.catchLoc,!0);if(this.prev<We.finallyLoc)return St(We.finallyLoc)}else if(Ye){if(this.prev<We.catchLoc)return St(We.catchLoc,!0)}else{if(!Qe)throw Error("try statement without catch or finally");if(this.prev<We.finallyLoc)return St(We.finallyLoc)}}}},abrupt:function(Et,Ct){for(var St=this.tryEntries.length-1;St>=0;--St){var I=this.tryEntries[St];if(I.tryLoc<=this.prev&&ft.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var We=I;break}}We&&(Et==="break"||Et==="continue")&&We.tryLoc<=Ct&&Ct<=We.finallyLoc&&(We=null);var ke=We?We.completion:{};return ke.type=Et,ke.arg=Ct,We?(this.method="next",this.next=We.finallyLoc,_t):this.complete(ke)},complete:function(Et,Ct){if(Et.type==="throw")throw Et.arg;return Et.type==="break"||Et.type==="continue"?this.next=Et.arg:Et.type==="return"?(this.rval=this.arg=Et.arg,this.method="return",this.next="end"):Et.type==="normal"&&Ct&&(this.next=Ct),_t},finish:function(Et){for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var St=this.tryEntries[Ct];if(St.finallyLoc===Et)return this.complete(St.completion,St.afterLoc),ui(St),_t}},catch:function(Et){for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var St=this.tryEntries[Ct];if(St.tryLoc===Et){var I=St.completion;if(I.type==="throw"){var We=I.arg;ui(St)}return We}}throw Error("illegal catch attempt")},delegateYield:function(Et,Ct,St){return this.delegate={iterator:It(Et),resultName:Ct,nextLoc:St},this.method==="next"&&(this.arg=Y),_t}},ce}function g(Y,ce,Ze,ft,ct,Ge,Ae){try{var Me=Y[Ge](Ae),De=Me.value}catch(Ne){return void Ze(Ne)}Me.done?ce(De):Promise.resolve(De).then(ft,ct)}function m(Y){return function(){var ce=this,Ze=arguments;return new Promise(function(ft,ct){var Ge=Y.apply(ce,Ze);function Ae(De){g(Ge,ft,ct,Ae,Me,"next",De)}function Me(De){g(Ge,ft,ct,Ae,Me,"throw",De)}Ae(void 0)})}}function y(Y,ce){(ce==null||ce>Y.length)&&(ce=Y.length);for(var Ze=0,ft=Array(ce);Ze<ce;Ze++)ft[Ze]=Y[Ze];return ft}function x(Y){Y.bind("mousedown",function(){return!1}),Y[0].onselectstart=function(){return!1}}function w(Y,ce,Ze){return Math.min(Math.max(Y,ce),Ze)}function k(Y,ce){return Y/ce*100+"%"}function S(Y,ce){return!ce.includes(Y)}function P(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,ce=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Ze=Y.activeElement;return ce&&Ze!=null&&Ze.shadowRoot?P(Ze.shadowRoot,!0):Ze}function E(){var Y=P(arguments.length>0&&arguments[0]!==void 0?arguments[0]:document);return(Y==null?void 0:Y.tagName)=="INPUT"||(Y==null?void 0:Y.tagName)=="TEXTAREA"}function L(Y){var ce=Y.contentWindow||Y.contentDocument;return ce.document||ce}function s(Y){return Y.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function h(Y){return decodeURIComponent(Y).replace(/\+/g," ")}function v(Y){return encodeURIComponent(Y).replace(/%20/g,"+")}function d(Y,ce,Ze){var ft;return function(){var ct=this,Ge=arguments,Ae=Ze&&!ft;clearTimeout(ft),ft=setTimeout(function(){ft=null,Ze||Y.apply(ct,Ge)},ce),Ae&&Y.apply(ct,Ge)}}function _(Y,ce,Ze){var ft,ct;return ce||(ce=250),Ze&&(ft=+new Date),function(){var Ge=this,Ae=+new Date,Me=arguments;ft&&Ae<ft+ce?(clearTimeout(ct),ct=setTimeout(function(){ft=Ae,Y.apply(Ge,Me)},ce)):(ft=Ae,Y.apply(Ge,Me))}}function C(Y){if(typeof Y.CustomEvent=="function")return!1;Y.CustomEvent=N}function N(Y){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ze=ce.bubbles,ft=Ze!==void 0&&Ze,ct=ce.cancelable,Ge=ct!==void 0&&ct,Ae=ce.detail,Me=Ae===void 0?null:Ae,De=document.createEvent("CustomEvent");return De.initCustomEvent(Y,ft,Ge,Me),De}function G(){var Y=document.createElement("div");Y.style.width="1in",document.body.appendChild(Y);var ce=Y.offsetWidth;document.body.removeChild(Y);var Ze=1.25*ce;return Ze==0?100:Ze}function q(Y){return Y.reduce(function(ce,Ze){return ce+Ze},0)}function K(Y){var ce,Ze=[],ft=function(Ge,Ae){var Me=typeof Symbol<"u"&&Ge[Symbol.iterator]||Ge["@@iterator"];if(!Me){if(Array.isArray(Ge)||(Me=function(ee,J){if(ee){if(typeof ee=="string")return y(ee,J);var qe={}.toString.call(ee).slice(8,-1);return qe==="Object"&&ee.constructor&&(qe=ee.constructor.name),qe==="Map"||qe==="Set"?Array.from(ee):qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe)?y(ee,J):void 0}}(Ge))||Ae&&Ge&&typeof Ge.length=="number"){Me&&(Ge=Me);var De=0,Ne=function(){};return{s:Ne,n:function(){return De>=Ge.length?{done:!0}:{done:!1,value:Ge[De++]}},e:function(ee){throw ee},f:Ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ve,rt=!0,je=!1;return{s:function(){Me=Me.call(Ge)},n:function(){var ee=Me.next();return rt=ee.done,ee},e:function(ee){je=!0,Ve=ee},f:function(){try{rt||Me.return==null||Me.return()}finally{if(je)throw Ve}}}}(Y);try{for(ft.s();!(ce=ft.n()).done;){var ct=ce.value;Ze.push(ct)}}catch(Ge){ft.e(Ge)}finally{ft.f()}return Ze}function ie(Y,ce){return Y.length==ce.length&&Y.every(function(Ze,ft){return Ze==ce[ft]})}function Q(Y,ce){return Y&&ce&&!ie(Y,ce)}function te(Y){return Oe.apply(this,arguments)}function Oe(){return(Oe=m(p().mark(function Y(ce){return p().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.abrupt("return",new Promise(function(ft){return setTimeout(ft,ce)}));case 1:case"end":return Ze.stop()}},Y)}))).apply(this,arguments)}function fe(Y){return W.apply(this,arguments)}function W(){return W=m(p().mark(function Y(ce){var Ze,ft,ct,Ge,Ae,Me,De,Ne,Ve,rt,je,ee=arguments;return p().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:ft=(Ze=ee.length>1&&ee[1]!==void 0?ee[1]:{}).step,ct=ft===void 0?50:ft,Ge=Ze.timeout,Ae=Ge===void 0?500:Ge,Me=Ze.until,De=Me===void 0?function(qe){return!!qe}:Me,Ne=Ze._sleep,Ve=Ne===void 0?te:Ne,rt=Date.now();case 2:if(!(Date.now()-rt<Ae)){J.next=10;break}if(je=ce(),!De(je)){J.next=6;break}return J.abrupt("return",je);case 6:return J.next=8,Ve(ct);case 8:J.next=2;break;case 10:case"end":return J.stop()}},Y)})),W.apply(this,arguments)}function ae(Y,ce){return new Promise(function(Ze){var ft=function(ct){Y.removeEventListener(ce,ft),Ze(ct)};Y.addEventListener(ce,ft)})}function de(Y){return Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z(Y){return Y==="slow"?600:Y==="fast"?200:parseInt(Y,10)}function ye(Y,ce){return Y.sort(function(Ze,ft){var ct=ce?ce(Ze):Ze,Ge=ce?ce(ft):ft;return ct<Ge?-1:ct>Ge?1:0})}n.r(c),n.d(c,{PolyfilledCustomEvent:function(){return N},arrChanged:function(){return Q},arrEquals:function(){return ie},calcScreenDPI:function(){return G},clamp:function(){return w},cssPercentage:function(){return k},debounce:function(){return d},decodeURIComponentPlus:function(){return h},disableSelect:function(){return x},encodeURIComponentPlus:function(){return v},escapeHTML:function(){return s},escapeRegExp:function(){return de},genToArray:function(){return K},getActiveElement:function(){return P},getIFrameDocument:function(){return L},isInputActive:function(){return E},notInArray:function(){return S},parseAnimationSpeed:function(){return Z},poll:function(){return fe},polyfillCustomEvent:function(){return C},promisifyEvent:function(){return ae},sleep:function(){return te},sortBy:function(){return ye},sum:function(){return q},throttle:function(){return _}}),n(2675),n(9463),n(6412),n(2259),n(8125),n(3418),n(4423),n(3792),n(2712),n(4490),n(4782),n(6910),n(2010),n(4731),n(479),n(875),n(6099),n(8940),n(3362),n(7495),n(8781),n(1699),n(7764),n(5440),n(3500),n(2953)},7583:function(o,c,n){"use strict";function u(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:navigator.vendor;return/chrome/i.test(y)&&/google inc/i.test(x)&&!function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/chrome/i.test(w)&&/\bEdg(e|A|iOS)?\b/i.test(w)}(y)}function p(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/firefox/i.test(y)}function g(){return"ongesturestart"in window&&navigator.maxTouchPoints>0}function m(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/SamsungBrowser/i.test(y)}n.d(c,{H8:function(){return u},gm:function(){return p},ij:function(){return m},un:function(){return g}}),n(7495)}},r={};function a(o){var c=r[o];if(c!==void 0)return c.exports;var n=r[o]={id:o,loaded:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=t,e=[],a.O=function(o,c,n,u){if(!c){var p=1/0;for(x=0;x<e.length;x++){c=e[x][0],n=e[x][1],u=e[x][2];for(var g=!0,m=0;m<c.length;m++)(!1&u||p>=u)&&Object.keys(a.O).every(function(w){return a.O[w](c[m])})?c.splice(m--,1):(g=!1,u<p&&(p=u));if(g){e.splice(x--,1);var y=n();y!==void 0&&(o=y)}}return o}u=u||0;for(var x=e.length;x>0&&e[x-1][2]>u;x--)e[x]=e[x-1];e[x]=[c,n,u]},a.d=function(o,c){for(var n in c)a.o(c,n)&&!a.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:c[n]})},a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(o){if(typeof window=="object")return window}}(),a.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.nmd=function(o){return o.paths=[],o.children||(o.children=[]),o},function(){var o={340:0};a.O.j=function(u){return o[u]===0};var c=function(u,p){var g,m,y=p[0],x=p[1],w=p[2],k=0;if(y.some(function(P){return o[P]!==0})){for(g in x)a.o(x,g)&&(a.m[g]=x[g]);if(w)var S=w(a)}for(u&&u(p);k<y.length;k++)m=y[k],a.o(o,m)&&o[m]&&o[m][0](),o[m]=0;return a.O(S)},n=self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[];n.forEach(c.bind(null,0)),n.push=c.bind(null,n.push.bind(n))}();var l={};(function(){"use strict";a(2675),a(9463),a(6412),a(2259),a(8125),a(8706),a(2008),a(113),a(3418),a(4423),a(3792),a(8598),a(2062),a(2712),a(4490),a(4782),a(2010),a(4731),a(479),a(5506),a(875),a(9432),a(6099),a(6034),a(8940),a(3362),a(7495),a(8781),a(1699),a(7764),a(5746),a(3500),a(2953),a(8408),a(9139),a(3662),a(8497);var o=a(8004);a(5700),a(9572),a(8130),a(8459),a(4720);var c=a(8340),n=a(1669);function u(R){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},u(R)}function p(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,g(U.key),U)}}function g(R){var M=function(j,U){if(u(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(u(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return u(M)=="symbol"?M:M+""}var m=function(){return R=function j(U){(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")})(this,j),this.br=U,this.$root=null,this.$nav=null,this.maxPageNum=null,this.minimumControls=["viewmode"],this.maximumControls=["book_left","book_right","zoom_in","zoom_out","onepg","twopg","thumb"],this.updateNavIndexThrottled=(0,o.throttle)(this.updateNavIndex.bind(this),250,!1)},M=[{key:"controlFor",value:function(j){var U=this.br.options.controls[j];return U.visible?U.template?"<li>".concat(U.template(this.br),"</li>"):`<li>
      <button class="BRicon `.concat(U.className,'" title="').concat(U.label,`">
        <div class="icon icon-`).concat(U.iconClassName,`"></div>
        <span class="BRtooltip">`).concat(U.label,`</span>
      </button>
    </li>`):""}},{key:"_renderControls",value:function(){var j=this;return["bookLeft","bookRight","onePage","twoPage","thumbnail","viewmode","zoomOut","zoomIn","fullScreen"].map(function(U){return j.controlFor(U)}).join("")}},{key:"_bindViewModeButton",value:function(){var j=this,U=this.br,se=U.options.controls.viewmode,me=[{mode:U.constMode1up,className:"onepg",title:"One-page view"},{mode:U.constMode2up,className:"twopg",title:"Two-page view"},{mode:U.constModeThumb,className:"thumb",title:"Thumbnail view"}].filter(function(Yt){return!se.excludedModes.includes(Yt.mode)}),Ce=me.map(function(Yt){return Yt.mode});se.excludedModes.includes(U.mode)&&U.switchMode(Ce[0]);for(var Nt=Ce.indexOf(U.mode),bt=0;bt<=Nt;bt++)Ce.push(Ce.shift());me.length<2&&this.$nav.find(".".concat(se.className)).remove(),this.br.bind(c.q.PostInit,function(){var Yt=j.$nav.find(".".concat(se.className)).off(".bindNavigationHandlers").on("click",function($i){var Ri=Ce.shift(),Oi=me.find(function(Wi){return Wi.mode===Ri}),lr=me.find(function(Wi){return Wi.mode===Ce[0]});Ce.push(Ri),U.viewModeOrder=Ce,j.updateViewModeButton(n($i.currentTarget),lr.className,lr.title),U.switchMode(Oi.mode)}),li=me.find(function($i){return $i.mode===Ce[0]});j.updateViewModeButton(Yt,li.className,li.title)})}},{key:"updateViewModeButton",value:function(j,U,se){j.attr("title",se).find(".icon").removeClass().addClass("icon icon-".concat(U)).end().find(".BRtooltip").text(se)}},{key:"switchNavbarControls",value:function(){this.br.refs.$brContainer.prop("clientWidth")<640?(this.showMinimumNavPageNum(),this.br.options.bookType!=="linerNotes"&&this.showMinimumNavbarControls()):(this.showMaximumNavPageNum(),this.br.options.bookType!=="linerNotes"&&this.showMaximumNavbarControls())}},{key:"showMinimumNavPageNum",value:function(){var j=document.querySelector(".BRcurrentpage.BRmin"),U=document.querySelector(".BRcurrentpage.BRmax");j&&j.classList.remove("hide"),U&&U.classList.add("hide")}},{key:"showMaximumNavPageNum",value:function(){var j=document.querySelector(".BRcurrentpage.BRmin"),U=document.querySelector(".BRcurrentpage.BRmax");j&&j.classList.add("hide"),U&&U.classList.remove("hide")}},{key:"showMinimumNavbarControls",value:function(){this.minimumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.remove("hide")}),this.maximumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.add("hide")})}},{key:"showMaximumNavbarControls",value:function(){this.maximumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.remove("hide")}),this.minimumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.add("hide")})}},{key:"init",value:function(){var j=this,U=this.br,se=U.options.navbarTitle,me=U.pageProgression==="rl",Ce=me?"book_flip_next":"book_flip_prev",Nt=me?"book_flip_prev":"book_flip_next";this.br.options.controls.bookLeft.className="book_left ".concat(Ce),this.br.options.controls.bookRight.className="book_right ".concat(Nt),U.refs.$BRfooter=this.$root=n('<div class="BRfooter"></div>'),U.refs.$BRnav=this.$nav=n(`<div class="BRnav BRnavDesktop">
          `.concat(se?'<div class="BRnavTitle">'.concat(se,"</div>"):"",`
          <nav class="BRcontrols">
            <ul class="controls">
              <li class="scrubber">
                <div class="BRnavpos">
                  <div class="BRpager"></div>
                  <div class="BRnavline"></div>
                </div>
                <p>
                  <span class="BRcurrentpage BRmax"></span>
                  <span class="BRcurrentpage BRmin"></span>
                </p>
              </li>
              `).concat(this._renderControls(),`
            </ul>
          </nav>
        </div>`)),this.$root.append(this.$nav),U.refs.$br.append(this.$root);var bt=this.$root.find(".BRpager").slider({animate:!0,min:0,max:U.book.getNumLeafs()-1,value:U.currentIndex(),range:"min"});return bt.on("slide",function(Yt,li){return j.updateNavPageNum(li.value),!0}),bt.on("slidechange",function(Yt,li){return j.updateNavPageNum(li.value),bt.data("swallowchange")?bt.data("swallowchange",!1):U.jumpToIndex(li.value),!0}),U.options.controls.viewmode.visible&&this._bindViewModeButton(),this.updateNavPageNum(U.currentIndex()),this.$nav}},{key:"getNavPageNumString",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0&&arguments[1],se=this.br,me=se.book.getPageNum(j),Ce=se.book.getPageProp(j,"pageType"),Nt=se.book.getNumLeafs();if(!this.maxPageNum){for(var bt,Yt=0,li=0;li<Nt;li++)bt=parseFloat(se.book.getPageNum(li)),!isNaN(bt)&&bt>Yt&&(Yt=bt);this.maxPageNum=Yt}return function($i,Ri,Oi,lr,Wi){var ji=arguments.length>5&&arguments[5]!==void 0&&arguments[5],Xi=Oi[0]!="n",er=$i+1;if(Xi||(Oi="\u2014"),ji===!0)return"Page ".concat(Oi," (").concat(er,"/").concat(Ri,")");if(!Xi)return"(".concat(er," of ").concat(Ri,")");var Zi=Wi&&parseFloat(Oi)?" of ".concat(Wi):"";return"".concat(Oi).concat(Zi)}(j,Nt,me,Ce,this.maxPageNum,U)}},{key:"updateNavPageNum",value:function(j){this.$root.find(".BRcurrentpage.BRmax").html(this.getNavPageNumString(j,!0)),this.$root.find(".BRcurrentpage.BRmin").html(this.getNavPageNumString(j))}},{key:"updateNavIndex",value:function(j){j=j!==void 0?j:this.br.currentIndex(),this.$root.find(".BRpager").data("swallowchange",!0).slider("value",j)}}],M&&p(R.prototype,M),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,M}();function y(R){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},y(R)}function x(R){var M=typeof Map=="function"?new Map:void 0;return x=function(j){if(j===null||!function(se){try{return Function.toString.call(se).indexOf("[native code]")!==-1}catch(me){return typeof se=="function"}}(j))return j;if(typeof j!="function")throw new TypeError("Super expression must either be null or a function");if(M!==void 0){if(M.has(j))return M.get(j);M.set(j,U)}function U(){return function(se,me,Ce){if(w())return Reflect.construct.apply(null,arguments);var Nt=[null];Nt.push.apply(Nt,me);var bt=new(se.bind.apply(se,Nt));return Ce&&k(bt,Ce.prototype),bt}(j,arguments,S(this).constructor)}return U.prototype=Object.create(j.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),k(U,j)},x(R)}function w(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(M){}return(w=function(){return!!R})()}function k(R,M){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,U){return j.__proto__=U,j},k(R,M)}function S(R){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},S(R)}a(6033),a(825);var P={defaults:null,padding:10,ui:"full",uiAutoHide:!1,thumbRowBuffer:1,thumbColumns:6,thumbMaxLoading:4,thumbPadding:10,thumbMinZoomColumns:2,thumbMaxZoomColumns:8,flipSpeed:400,showToolbar:!0,showNavbar:!0,navBarTitle:"",showLogo:!0,logoURL:"https://archive.org",imagesBaseURL:"/BookReader/images/",reduceSet:"pow2",reductionFactors:[{reduce:.25,autofit:null},{reduce:.5,autofit:null},{reduce:1,autofit:null},{reduce:2,autofit:null},{reduce:3,autofit:null},{reduce:4,autofit:null},{reduce:6,autofit:null}],onePage:{autofit:"auto"},twoPage:{coverInternalPadding:0,coverExternalPadding:0,bookSpineDivWidth:64,autofit:"auto"},onePageMinBreakpoint:800,bookTitle:"",bookUrl:null,bookUrlText:null,bookUrlTitle:null,enableBookTitleLink:!0,bookUri:null,bookLanguage:null,metadata:[],thumbnail:null,bookUrlMoreInfo:null,enableExperimentalControls:!1,el:"#BookReader",pageProgression:"lr",ppi:500,protected:!1,plugins:{archiveAnalytics:null,autoplay:null,chapters:null,iiif:null,resume:null,search:null,textSelection:null,tts:null},vars:{},data:[],table_of_contents:null,getNumLeafs:null,getPageWidth:null,getPageHeight:null,getPageURI:null,renderPageURI:function(R,M){R.src=M},getPageSide:null,getSpreadIndices:null,getPageNum:null,getPageProp:null,leafNumToIndex:null,getEmbedCode:null,controls:{bookLeft:{visible:!0,label:"Flip left",className:"book_left",iconClassName:"left-arrow"},bookRight:{visible:!0,label:"Flip right",className:"book_right",iconClassName:"left-arrow hflip"},onePage:{visible:!0,label:"One-page view",className:"onepg",iconClassName:"onepg"},twoPage:{visible:!0,label:"Two-page view",className:"twopg",iconClassName:"twopg"},thumbnail:{visible:!0,label:"Thumbnail view",className:"thumb",iconClassName:"thumb"},viewmode:{visible:!0,className:"viewmode",excludedModes:[]},zoomOut:{visible:!0,label:"Zoom out",className:"zoom_out",iconClassName:"magnify"},zoomIn:{visible:!0,label:"Zoom in",className:"zoom_in",iconClassName:"magnify plus"},fullScreen:{visible:!0,label:"Toggle fullscreen",className:"full",iconClassName:"fullscreen"}},startFullscreen:!1,enableFSLogoShortcut:!1,autoResize:!0,useSrcSet:!1,unviewablePageURI:"./unviewable_page.png"},E=function(R){function M(){return function(Ce,Nt){if(!(Ce instanceof Nt))throw new TypeError("Cannot call a class as a function")}(this,M),U=this,me=arguments,se=S(se=M),function(Ce,Nt){if(Nt&&(y(Nt)=="object"||typeof Nt=="function"))return Nt;if(Nt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}(Ce)}(U,w()?Reflect.construct(se,me||[],S(U).constructor):se.apply(U,me));var U,se,me}return function(U,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(se&&se.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),se&&k(U,se)}(M,R),j=M,Object.defineProperty(j,"prototype",{writable:!1}),j;var j}(x(Error)),L=(a(5440),a(4638),a(1669));function s(R){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s(R)}function h(R,M){(M==null||M>R.length)&&(M=R.length);for(var j=0,U=Array(M);j<M;j++)U[j]=R[j];return U}function v(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,d(U.key),U)}}function d(R){var M=function(j,U){if(s(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(s(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return s(M)=="symbol"?M:M+""}var _=function(){return R=function j(U){(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")})(this,j),this.br=U},M=[{key:"buildToolbarElement",value:function(){var j=this.br,U=j.showLogo?`
      <span class="BRtoolbarSection BRtoolbarSectionLogo">
        <a class="logo" href="`.concat(j.logoURL,`"></a>
      </span>`):"";j.refs.$BRtoolbar=L(`
      <div class="BRtoolbar header">
        <div class="BRtoolbarbuttons">
          <div class="BRtoolbarLeft">
            `.concat(U,`
            <span class="BRtoolbarSection BRtoolbarSectionTitle"></span>
          </div>
          <div class="BRtoolbarRight">
            <span class="BRtoolbarSection BRtoolbarSectionInfo">
              <button class="BRpill info js-tooltip">Info</button>
              <button class="BRpill share js-tooltip">Share</button>
            </span>
          </div>
        </div>
      </div>`));var se=j.refs.$BRtoolbar.find(".BRtoolbarSectionTitle");j.bookUrl&&j.options.enableBookTitleLink?se.append(L("<a>").attr({href:j.bookUrl,title:j.bookUrlTitle}).addClass("BRreturn").html(j.bookUrlText||j.bookTitle)):j.bookTitle&&se.append(j.bookUrlText||j.bookTitle);for(var me=0,Ce=Object.values(j.plugins);me<Ce.length;me++)Ce[me]._configureToolbar(j.refs.$BRtoolbar);return j.refs.$BRtoolbar}},{key:"initToolbar",value:function(j,U){var se=this.br;se.refs.$br.append(this.buildToolbarElement()),se.$(".BRnavCntl").addClass("BRup"),se.$(".pause").hide(),se.refs.$BRtoolbar.append(),se.canSwitchToMode(se.constMode2up)||se.$(".two_page_mode, .play, .pause").hide(),se.canSwitchToMode(se.constModeThumb)||se.$(".thumbnail_mode").hide(),se.canSwitchToMode(se.constMode2up)||se.canSwitchToMode(se.constModeThumb)||se.$(".one_page_mode").hide(),L('<div style="display: none;"></div>').append(L(`
    <div class="BRfloat BRshare">
      <div class="BRfloatHead">
        Share
        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>
      </div>
    </div>`)).append(L(`
    <div class="BRfloat BRinfo">
      <div class="BRfloatHead">About this book
        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>
      </div>
      <div class="BRfloatBody">
        <div class="BRfloatCover"></div>
        <div class="BRfloatMeta">
          <div class="BRfloatTitle">
            <h2><a /></h2>
          </div>
        </div>
      </div>
      <div class="BRfloatFoot">
        <a href="https://openlibrary.org/dev/docs/bookreader">About the BookReader</a>
      </div>
    </div>`)).appendTo(se.refs.$br),se.$(".BRinfo .BRfloatTitle a").attr({href:se.bookUrl}).text(se.bookTitle).addClass("title"),this.buildInfoDiv(se.$(".BRinfo")),this.buildShareDiv(se.$(".BRshare")),se.$(".share").colorbox({inline:!0,opacity:"0.5",href:se.$(".BRshare"),onLoad:function(){se.trigger(c.q.stop),se.$(".BRpageviewValue").val(window.location.href)}}),se.$(".info").colorbox({inline:!0,opacity:"0.5",href:se.$(".BRinfo"),onLoad:function(){se.trigger(c.q.stop)}})}},{key:"buildShareDiv",value:function(j){var U=this,se=this.br,me=document.location+"",Ce=(me+"").replace(/#.*/,""),Nt=se.getEmbedCode?`
      <div class="share-embed">
        <p class="share-embed-prompt">Copy and paste one of these options to share this book elsewhere.</p>
        <form method="post" action="">
          <fieldset class="fieldset-share-pageview">
            <label for="pageview">Link to this page view</label>
            <input type="text" name="pageview" class="BRpageviewValue" value="`.concat(me,`"/>
          </fieldset>
          <fieldset class="fieldset-share-book-link">
            <label for="booklink">Link to the book</label>
            <input type="text" name="booklink" class="booklink" value="`).concat(Ce,`"/>
          </fieldset>
          <fieldset class="fieldset-embed">
            <label for="iframe">Embed a mini Book Reader</label>
            <fieldset class="sub">
              <label class="sub">
                <input type="radio" name="pages" value="`).concat(se.constMode1up,`" checked="checked"/>
                1 page
              </label>
              <label class="sub">
                <input type="radio" name="pages" value="`).concat(se.constMode2up,`"/>
                2 pages
              </label>
              <label class="sub">
                <input type="checkbox" name="thispage" value="thispage"/>
                Open to this page?
              </label>
            </fieldset>
            <textarea cols="30" rows="4" name="iframe" class="BRframeEmbed"></textarea>
          </fieldset>
        </form>
      </div>`):"",bt=L(`
      <div class="share-title">Share this book</div>
      <div class="share-social">
        <label class="sub open-to-this-page">
          <input class="thispage-social" type="checkbox" />
          Open to this page?
        </label>
        <div><button class="BRaction share facebook-share-button"><i class="BRicon fb" /> Facebook</button></div>
        <div><button class="BRaction share twitter-share-button"><i class="BRicon twitter" /> Twitter</button></div>
        <div><button class="BRaction share email-share-button"><i class="BRicon email" /> Email</button></div>
      </div>
      `.concat(Nt,`
      <div class="BRfloatFoot">
        <button class="share-finished" type="button" onclick="$.fn.colorbox.close();">Finished</button>
      </div>`));bt.appendTo(j),bt.find(".fieldset-embed input").on("change",function(Yt){var li=L(Yt.target).parents("form").first(),$i={};$i.mode=L(li.find(".fieldset-embed input[name=pages]:checked")).val(),li.find(".fieldset-embed input[name=thispage]").prop("checked")&&($i.page=se.book.getPageNum(se.currentIndex())),se.getEmbedCode&&li.find(".BRframeEmbed").val(se.getEmbedCode("480px","430px",$i))}),bt.find("input, textarea").on("focus",function(Yt){return Yt.target.select()}),bt.find(".facebook-share-button").on("click",function(){C("https://www.facebook.com/sharer.php?"+L.param({u:U._getSocialShareUrl()}),600,400,"Share")}),bt.find(".twitter-share-button").on("click",function(){C("https://twitter.com/intent/tweet?"+L.param({url:U._getSocialShareUrl(),text:se.bookTitle}),600,400,"Share")}),bt.find(".email-share-button").on("click",function(){var Yt="".concat(se.bookTitle,`

`).concat(U._getSocialShareUrl());window.location.href="mailto:?subject=".concat(encodeURI(se.bookTitle),"&body=").concat(encodeURI(Yt))}),bt.find("input[name=thispage]").trigger("change"),bt.appendTo(j)}},{key:"_getSocialShareUrl",value:function(){return this.br.$(".thispage-social").prop("checked")?window.location.href:"".concat(document.location.protocol,"//").concat(window.location.hostname).concat(window.location.pathname)}},{key:"buildInfoDiv",value:function(j){var U=this.br;j.find(".BRfloatBody, .BRfloatCover, .BRfloatFoot").remove();var se=L('<div class="BRinfoLeftCol"></div>');U.thumbnail&&se.append(L(`
        <div class="BRimageW">
          <img src="`.concat(U.thumbnail,'" alt="').concat((0,o.escapeHTML)(U.bookTitle),`" />
        </div>`)));var me,Ce=L('<div class="BRinfoRightCol">'),Nt=function(Xi,er){var Zi=typeof Symbol<"u"&&Xi[Symbol.iterator]||Xi["@@iterator"];if(!Zi){if(Array.isArray(Xi)||(Zi=function(mr,Br){if(mr){if(typeof mr=="string")return h(mr,Br);var Mr={}.toString.call(mr).slice(8,-1);return Mr==="Object"&&mr.constructor&&(Mr=mr.constructor.name),Mr==="Map"||Mr==="Set"?Array.from(mr):Mr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mr)?h(mr,Br):void 0}}(Xi))||er&&Xi&&typeof Xi.length=="number"){Zi&&(Xi=Zi);var gr=0,Rr=function(){};return{s:Rr,n:function(){return gr>=Xi.length?{done:!0}:{done:!1,value:Xi[gr++]}},e:function(mr){throw mr},f:Rr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ii,cr=!0,Kr=!1;return{s:function(){Zi=Zi.call(Xi)},n:function(){var mr=Zi.next();return cr=mr.done,mr},e:function(mr){Kr=!0,Ii=mr},f:function(){try{cr||Zi.return==null||Zi.return()}finally{if(Kr)throw Ii}}}}(U.metadata);try{for(Nt.s();!(me=Nt.n()).done;){var bt=me.value,Yt=bt.extraValueClass,li=Yt===void 0?"":Yt,$i=bt.label,Ri=bt.value,Oi=$i==="Title"?(0,o.escapeHTML)(Ri):Ri;Ce.append(L(`
        <div class="BRinfoValueWrapper">
          <div class="BRinfoLabel">`.concat($i,`</div>
          <div class="BRinfoValue `).concat(li,'">').concat(Oi,`</div>
        </div>`)))}}catch(Xi){Nt.e(Xi)}finally{Nt.f()}var lr=U.bookUrlMoreInfo?U.bookUrlMoreInfo:U.bookTitle;lr&&U.bookUrl&&Ce.append(L(`
        <div class="BRinfoValueWrapper">
          <div class="BRinfoMoreInfoWrapper">
            <a class="BRinfoMoreInfo" href="`.concat(U.bookUrl,`">
              `).concat((0,o.escapeHTML)(lr),`
            </a>
          </div>
        </div>`)));var Wi=L('<div class="BRfloatFoot BRinfoFooter"></div>'),ji=L('<div class="BRinfoW mv20-lg">').append([se,Ce,L('<br style="clear:both"/>')]);j.append(ji,Wi).addClass("wide")}},{key:"getToolBarHeight",value:function(){var j=this.br.refs.$BRtoolbar;return j&&j.css("display")==="block"?j.outerHeight()+parseInt(j.css("top")):0}}],M&&v(R.prototype,M),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,M}();function C(R,M,j,U){var se=window.screenLeft!=null?window.screenLeft:screen.left,me=window.screenTop!=null?window.screenTop:screen.top,Ce=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-M/2+se,Nt=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-j/2+me,bt="status=1,width=".concat(M,",height=").concat(j,",top=").concat(Nt,",left=").concat(Ce);window.open(R,U,bt)}function N(R){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},N(R)}function G(){G=function(){return M};var R,M={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,pe,Te){ge[pe]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Nt=me.asyncIterator||"@@asyncIterator",bt=me.toStringTag||"@@toStringTag";function Yt(ge,pe,Te){return Object.defineProperty(ge,pe,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[pe]}try{Yt({},"")}catch(ge){Yt=function(pe,Te,Wt){return pe[Te]=Wt}}function li(ge,pe,Te,Wt){var wt=pe&&pe.prototype instanceof Xi?pe:Xi,si=Object.create(wt.prototype),xi=new Ir(Wt||[]);return se(si,"_invoke",{value:Br(ge,Te,xi)}),si}function $i(ge,pe,Te){try{return{type:"normal",arg:ge.call(pe,Te)}}catch(Wt){return{type:"throw",arg:Wt}}}M.wrap=li;var Ri="suspendedStart",Oi="suspendedYield",lr="executing",Wi="completed",ji={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ce,function(){return this});var Rr=Object.getPrototypeOf,Ii=Rr&&Rr(Rr(Xr([])));Ii&&Ii!==j&&U.call(Ii,Ce)&&(gr=Ii);var cr=Zi.prototype=Xi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(pe){Yt(ge,pe,function(Te){return this._invoke(pe,Te)})})}function mr(ge,pe){function Te(wt,si,xi,Ui){var Di=$i(ge[wt],ge,si);if(Di.type!=="throw"){var Qi=Di.arg,fr=Qi.value;return fr&&N(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Te("next",wr,xi,Ui)},function(wr){Te("throw",wr,xi,Ui)}):pe.resolve(fr).then(function(wr){Qi.value=wr,xi(Qi)},function(wr){return Te("throw",wr,xi,Ui)})}Ui(Di.arg)}var Wt;se(this,"_invoke",{value:function(wt,si){function xi(){return new pe(function(Ui,Di){Te(wt,si,Ui,Di)})}return Wt=Wt?Wt.then(xi,xi):xi()}})}function Br(ge,pe,Te){var Wt=Ri;return function(wt,si){if(Wt===lr)throw Error("Generator is already running");if(Wt===Wi){if(wt==="throw")throw si;return{value:R,done:!0}}for(Te.method=wt,Te.arg=si;;){var xi=Te.delegate;if(xi){var Ui=Mr(xi,Te);if(Ui){if(Ui===ji)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Wt===Ri)throw Wt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Wt=lr;var Di=$i(ge,pe,Te);if(Di.type==="normal"){if(Wt=Te.done?Wi:Oi,Di.arg===ji)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Wt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Mr(ge,pe){var Te=pe.method,Wt=ge.iterator[Te];if(Wt===R)return pe.delegate=null,Te==="throw"&&ge.iterator.return&&(pe.method="return",pe.arg=R,Mr(ge,pe),pe.method==="throw")||Te!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),ji;var wt=$i(Wt,ge.iterator,pe.arg);if(wt.type==="throw")return pe.method="throw",pe.arg=wt.arg,pe.delegate=null,ji;var si=wt.arg;return si?si.done?(pe[ge.resultName]=si.value,pe.next=ge.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,ji):si:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,ji)}function fn(ge){var pe={tryLoc:ge[0]};1 in ge&&(pe.catchLoc=ge[1]),2 in ge&&(pe.finallyLoc=ge[2],pe.afterLoc=ge[3]),this.tryEntries.push(pe)}function Nr(ge){var pe=ge.completion||{};pe.type="normal",delete pe.arg,ge.completion=pe}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(fn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var pe=ge[Ce];if(pe)return pe.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Wt=function wt(){for(;++Te<ge.length;)if(U.call(ge,Te))return wt.value=ge[Te],wt.done=!1,wt;return wt.value=R,wt.done=!0,wt};return Wt.next=Wt}}throw new TypeError(N(ge)+" is not iterable")}return er.prototype=Zi,se(cr,"constructor",{value:Zi,configurable:!0}),se(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,bt,"GeneratorFunction"),M.isGeneratorFunction=function(ge){var pe=typeof ge=="function"&&ge.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},M.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Zi):(ge.__proto__=Zi,Yt(ge,bt,"GeneratorFunction")),ge.prototype=Object.create(cr),ge},M.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),M.AsyncIterator=mr,M.async=function(ge,pe,Te,Wt,wt){wt===void 0&&(wt=Promise);var si=new mr(li(ge,pe,Te,Wt),wt);return M.isGeneratorFunction(pe)?si:si.next().then(function(xi){return xi.done?xi.value:si.next()})},Kr(cr),Yt(cr,bt,"Generator"),Yt(cr,Ce,function(){return this}),Yt(cr,"toString",function(){return"[object Generator]"}),M.keys=function(ge){var pe=Object(ge),Te=[];for(var Wt in pe)Te.push(Wt);return Te.reverse(),function wt(){for(;Te.length;){var si=Te.pop();if(si in pe)return wt.value=si,wt.done=!1,wt}return wt.done=!0,wt}},M.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(Nr),!ge)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var pe=this;function Te(Di,Qi){return si.type="throw",si.arg=ge,pe.next=Di,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var wt=this.tryEntries[Wt],si=wt.completion;if(wt.tryLoc==="root")return Te("end");if(wt.tryLoc<=this.prev){var xi=U.call(wt,"catchLoc"),Ui=U.call(wt,"finallyLoc");if(xi&&Ui){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0);if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}else if(xi){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}}}},abrupt:function(ge,pe){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Wt=this.tryEntries[Te];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var wt=Wt;break}}wt&&(ge==="break"||ge==="continue")&&wt.tryLoc<=pe&&pe<=wt.finallyLoc&&(wt=null);var si=wt?wt.completion:{};return si.type=ge,si.arg=pe,wt?(this.method="next",this.next=wt.finallyLoc,ji):this.complete(si)},complete:function(ge,pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&pe&&(this.next=pe),ji},finish:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),ji}},catch:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.tryLoc===ge){var Wt=Te.completion;if(Wt.type==="throw"){var wt=Wt.arg;Nr(Te)}return wt}}throw Error("illegal catch attempt")},delegateYield:function(ge,pe,Te){return this.delegate={iterator:Xr(ge),resultName:pe,nextLoc:Te},this.method==="next"&&(this.arg=R),ji}},M}function q(R,M){var j=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!j){if(Array.isArray(R)||(j=function(bt,Yt){if(bt){if(typeof bt=="string")return K(bt,Yt);var li={}.toString.call(bt).slice(8,-1);return li==="Object"&&bt.constructor&&(li=bt.constructor.name),li==="Map"||li==="Set"?Array.from(bt):li==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(li)?K(bt,Yt):void 0}}(R))||M&&R&&typeof R.length=="number"){j&&(R=j);var U=0,se=function(){};return{s:se,n:function(){return U>=R.length?{done:!0}:{done:!1,value:R[U++]}},e:function(bt){throw bt},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me,Ce=!0,Nt=!1;return{s:function(){j=j.call(R)},n:function(){var bt=j.next();return Ce=bt.done,bt},e:function(bt){Nt=!0,me=bt},f:function(){try{Ce||j.return==null||j.return()}finally{if(Nt)throw me}}}}function K(R,M){(M==null||M>R.length)&&(M=R.length);for(var j=0,U=Array(M);j<M;j++)U[j]=R[j];return U}function ie(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function Q(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,Oe(U.key),U)}}function te(R,M,j){return M&&Q(R.prototype,M),j&&Q(R,j),Object.defineProperty(R,"prototype",{writable:!1}),R}function Oe(R){var M=function(j,U){if(N(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(N(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return N(M)=="symbol"?M:M+""}a(8980),a(8350),a(6910),a(237),a(1392);var fe=function(){return te(function R(M){var j,U,se,me;ie(this,R),this.br=M,this.reduceSet=M.reduceSet,this.ppi=(j=(U=M.options)===null||U===void 0?void 0:U.ppi)!==null&&j!==void 0?j:P.ppi,this.pageProgression=(se=(me=M.options)===null||me===void 0?void 0:me.pageProgression)!==null&&se!==void 0?se:P.pageProgression,this._medianPageSize=null,this._getDataFlattenedCached=null},[{key:"getMedianPageSizeInches",value:function(){if(this._medianPageSize)return this._medianPageSize;var R,M=[],j=[],U=q(this.pagesIterator());try{for(U.s();!(R=U.n()).done;){var se=R.value;M.push(se.widthInches),j.push(se.heightInches)}}catch(me){U.e(me)}finally{U.f()}return M.sort(function(me,Ce){return me-Ce}),j.sort(function(me,Ce){return me-Ce}),this._medianPageSize={width:M[Math.floor(M.length/2)],height:j[Math.floor(j.length/2)]},this._medianPageSize}},{key:"_getPageWidth",value:function(R){return R=(0,o.clamp)(R,0,this.getNumLeafs()-1),this.getPageWidth(R)}},{key:"_getPageHeight",value:function(R){var M=(0,o.clamp)(R,0,this.getNumLeafs()-1);return this.getPageHeight(M)}},{key:"getPageIndex",value:function(R){var M=this.getPageIndices(R);return M.length?M[M.length-1]:void 0}},{key:"getPageIndices",value:function(R){var M=[];if(R.slice(0,1)=="n")try{var j=R.slice(1,R.length),U=parseInt(j);return M.push(U),M}catch(me){}for(var se=0;se<this.getNumLeafs();se++)this.getPageNum(se)==R&&M.push(se);return M}},{key:"getPageName",value:function(R){return"Page "+this.getPageNum(R)}},{key:"getNumLeafs",value:function(){return this.br.numLeafs!==void 0?this.br.numLeafs:this._getDataFlattened().length}},{key:"getPageWidth",value:function(R){return this.getPageProp(R,"width")}},{key:"getPageHeight",value:function(R){return this.getPageProp(R,"height")}},{key:"getPageURI",value:function(R,M,j){if(this.getPageProp(R,"viewable",!0))return this.getPageProp(R,"uri");var U=this.br.options.unviewablePageURI;return U.startsWith(".")?this.br.options.imagesBaseURL+U:U}},{key:"getPageSide",value:function(R){return this.getPageProp(R,"pageSide")||(R%2==0?"R":"L")}},{key:"getPageNum",value:function(R){var M=this.getPageProp(R,"pageNum");return M===void 0?"n".concat(R):M}},{key:"getPageProp",value:function(R,M){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this._getDataProp(R,M,j)}},{key:"getSpreadIndices",value:function(R){return this.pageProgression=="rl"?this.getPageSide(R)=="R"?[R+1,R]:[R,R-1]:this.getPageSide(R)=="L"?[R,R+1]:[R-1,R]}},{key:"leafNumToIndex",value:function(R){var M=this._getDataFlattened().findIndex(function(j){return j.leafNum==R});return M>-1?M:R}},{key:"parsePageString",value:function(R){var M,j=/^leaf(\d+)/.exec(R);return j?(M=this.leafNumToIndex(parseInt(j[1],10)))===null&&(M=void 0):M=this.getPageIndex(R),M}},{key:"getPage",value:function(R){var M=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],j=this.getNumLeafs();if(M||!(R<0||R>=j))return R<0&&R>=-j&&(R+=j),new W(this,R%=j)}},{key:"pagesIterator",value:function(){var R=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=M.start,U=j===void 0?0:j,se=M.end,me=se===void 0?1/0:se,Ce=M.combineConsecutiveUnviewables,Nt=Ce!==void 0&&Ce;return G().mark(function bt(){var Yt,li;return G().wrap(function($i){for(;;)switch($i.prev=$i.next){case 0:U=Math.max(0,U),me=Math.min(me,R.getNumLeafs()),Yt=U;case 3:if(!(Yt<me)){$i.next=12;break}if(li=R.getPage(Yt),!Nt||!li.isConsecutiveUnviewable){$i.next=7;break}return $i.abrupt("continue",9);case 7:return $i.next=9,li;case 9:Yt++,$i.next=3;break;case 12:case"end":return $i.stop()}},bt)})()}},{key:"_getDataFlattened",value:function(){if(this._getDataFlattenedCached&&this._getDataFlattenedCached[1]===this.br.data.length)return this._getDataFlattenedCached[0];var R=null,M=null,j=0,U=this.br.data.flatMap(function(se){return se.map(function(me){return me.pageSide||(me.pageSide=R===null?se.length===2?"L":"R":R==="L"?"R":"L"),R=me.pageSide,me.viewable===!1?me.unviewablesStart=M===null?M=j:M:M=null,j++,me})});return this._getDataFlattenedCached=[U,this.br.data.length],U}},{key:"_getDataProp",value:function(R,M){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this._getDataFlattened();return isNaN(R)||R<0||R>=U.length||U[R][M]===void 0?j:U[R][M]}}])}(),W=function(){function R(M,j){ie(this,R);var U=M._getDataProp(j,"ppi",M.ppi);this.ppi=Math.max(U<10?M.ppi:U,10),this.book=M,this.index=j,this.width=M.getPageWidth(j),this.widthInches=this.width/this.ppi,this.height=M.getPageHeight(j),this.heightInches=this.height/this.ppi,this.pageSide=M.getPageSide(j),this.leafNum=M._getDataProp(j,"leafNum",this.index),this.isViewable=M._getDataProp(j,"viewable",!0),this.unviewablesStart=M._getDataProp(j,"unviewablesStart")||null,this.isConsecutiveUnviewable=!this.isViewable&&this.unviewablesStart!=this.index,this._rawData=this.book._getDataFlattened()[this.index]}return te(R,[{key:"makeViewable",value:function(){var M=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.isViewable!=M)if(M){this._rawData.viewable=!0,delete this._rawData.unviewablesStart;var j,U=q(this.book.pagesIterator({start:this.index+1}));try{for(U.s();!(j=U.n()).done;){var se=j.value;if(se.isViewable)break;se._rawData.unviewablesStart=this.index+1}}catch(bt){U.e(bt)}finally{U.f()}}else{this._rawData.viewable=!1,this._rawData.unviewablesStart=this.prev&&!this.prev.isViewable?this.prev.unviewablesStart:this.index;var me,Ce=q(this.book.pagesIterator({start:this.index+1}));try{for(Ce.s();!(me=Ce.n()).done;){var Nt=me.value;if(!Nt.isViewable)break;Nt._rawData.unviewablesStart=this._rawData.unviewablesStart}}catch(bt){Ce.e(bt)}finally{Ce.f()}}}},{key:"prev",get:function(){return this.findPrev()}},{key:"next",get:function(){return this.findNext()}},{key:"left",get:function(){return this.book.pageProgression==="lr"?this.prev:this.next}},{key:"right",get:function(){return this.book.pageProgression==="lr"?this.next:this.prev}},{key:"spread",get:function(){return{left:this.pageSide==="L"?this:this.left,right:this.pageSide==="R"?this:this.right}}},{key:"goLeft",value:function(M){var j=this.book.pageProgression==="lr"?this.index-M:this.index+M;return this.book.getPage(j)}},{key:"goRight",value:function(M){var j=this.book.pageProgression==="lr"?this.index+M:this.index-M;return this.book.getPage(j)}},{key:"getURI",value:function(M,j){return this.book.getPageURI(this.index,M,j)}},{key:"getPageNum",value:function(){return this.book.getPageNum(this.index)}},{key:"getURISrcSet",value:function(M){for(var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,se=this.book.reduceSet,me=se.floor(M),Ce=[],Nt=se.decr(me);Nt>=1;Nt=se.decr(Nt))Ce.push(Nt);return Ce.map(function(bt){return"".concat(j.getURI(bt,U)," ").concat(me/bt,"x")}).join(", ")}},{key:"findNext",value:function(){var M=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=M!==void 0&&M;return this.book.pagesIterator({start:this.index+1,combineConsecutiveUnviewables:j}).next().value}},{key:"findPrev",value:function(){var M=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=M!==void 0&&M;if(this.index!=0){if(j){if(this.isConsecutiveUnviewable)return this.book.getPage(this.unviewablesStart);var U=new R(this.book,this.index-1);return U.isViewable?U:U.findPrev({combineConsecutiveUnviewables:j})}return new R(this.book,this.index-1)}}},{key:"findLeft",value:function(){var M=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=M!==void 0&&M;return this.book.pageProgression==="lr"?this.findPrev({combineConsecutiveUnviewables:j}):this.findNext({combineConsecutiveUnviewables:j})}},{key:"findRight",value:function(){var M=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=M!==void 0&&M;return this.book.pageProgression==="lr"?this.findNext({combineConsecutiveUnviewables:j}):this.findPrev({combineConsecutiveUnviewables:j})}}])}(),ae=(a(4554),a(9085),a(2811),a(3851),a(888),a(9696)),de=a(420),Z=a(8900),ye=(a(5914),a(2617)),Y=a(7583);function ce(R){return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},ce(R)}function Ze(){Ze=function(){return M};var R,M={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,pe,Te){ge[pe]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Nt=me.asyncIterator||"@@asyncIterator",bt=me.toStringTag||"@@toStringTag";function Yt(ge,pe,Te){return Object.defineProperty(ge,pe,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[pe]}try{Yt({},"")}catch(ge){Yt=function(pe,Te,Wt){return pe[Te]=Wt}}function li(ge,pe,Te,Wt){var wt=pe&&pe.prototype instanceof Xi?pe:Xi,si=Object.create(wt.prototype),xi=new Ir(Wt||[]);return se(si,"_invoke",{value:Br(ge,Te,xi)}),si}function $i(ge,pe,Te){try{return{type:"normal",arg:ge.call(pe,Te)}}catch(Wt){return{type:"throw",arg:Wt}}}M.wrap=li;var Ri="suspendedStart",Oi="suspendedYield",lr="executing",Wi="completed",ji={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ce,function(){return this});var Rr=Object.getPrototypeOf,Ii=Rr&&Rr(Rr(Xr([])));Ii&&Ii!==j&&U.call(Ii,Ce)&&(gr=Ii);var cr=Zi.prototype=Xi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(pe){Yt(ge,pe,function(Te){return this._invoke(pe,Te)})})}function mr(ge,pe){function Te(wt,si,xi,Ui){var Di=$i(ge[wt],ge,si);if(Di.type!=="throw"){var Qi=Di.arg,fr=Qi.value;return fr&&ce(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Te("next",wr,xi,Ui)},function(wr){Te("throw",wr,xi,Ui)}):pe.resolve(fr).then(function(wr){Qi.value=wr,xi(Qi)},function(wr){return Te("throw",wr,xi,Ui)})}Ui(Di.arg)}var Wt;se(this,"_invoke",{value:function(wt,si){function xi(){return new pe(function(Ui,Di){Te(wt,si,Ui,Di)})}return Wt=Wt?Wt.then(xi,xi):xi()}})}function Br(ge,pe,Te){var Wt=Ri;return function(wt,si){if(Wt===lr)throw Error("Generator is already running");if(Wt===Wi){if(wt==="throw")throw si;return{value:R,done:!0}}for(Te.method=wt,Te.arg=si;;){var xi=Te.delegate;if(xi){var Ui=Mr(xi,Te);if(Ui){if(Ui===ji)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Wt===Ri)throw Wt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Wt=lr;var Di=$i(ge,pe,Te);if(Di.type==="normal"){if(Wt=Te.done?Wi:Oi,Di.arg===ji)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Wt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Mr(ge,pe){var Te=pe.method,Wt=ge.iterator[Te];if(Wt===R)return pe.delegate=null,Te==="throw"&&ge.iterator.return&&(pe.method="return",pe.arg=R,Mr(ge,pe),pe.method==="throw")||Te!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),ji;var wt=$i(Wt,ge.iterator,pe.arg);if(wt.type==="throw")return pe.method="throw",pe.arg=wt.arg,pe.delegate=null,ji;var si=wt.arg;return si?si.done?(pe[ge.resultName]=si.value,pe.next=ge.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,ji):si:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,ji)}function fn(ge){var pe={tryLoc:ge[0]};1 in ge&&(pe.catchLoc=ge[1]),2 in ge&&(pe.finallyLoc=ge[2],pe.afterLoc=ge[3]),this.tryEntries.push(pe)}function Nr(ge){var pe=ge.completion||{};pe.type="normal",delete pe.arg,ge.completion=pe}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(fn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var pe=ge[Ce];if(pe)return pe.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Wt=function wt(){for(;++Te<ge.length;)if(U.call(ge,Te))return wt.value=ge[Te],wt.done=!1,wt;return wt.value=R,wt.done=!0,wt};return Wt.next=Wt}}throw new TypeError(ce(ge)+" is not iterable")}return er.prototype=Zi,se(cr,"constructor",{value:Zi,configurable:!0}),se(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,bt,"GeneratorFunction"),M.isGeneratorFunction=function(ge){var pe=typeof ge=="function"&&ge.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},M.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Zi):(ge.__proto__=Zi,Yt(ge,bt,"GeneratorFunction")),ge.prototype=Object.create(cr),ge},M.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),M.AsyncIterator=mr,M.async=function(ge,pe,Te,Wt,wt){wt===void 0&&(wt=Promise);var si=new mr(li(ge,pe,Te,Wt),wt);return M.isGeneratorFunction(pe)?si:si.next().then(function(xi){return xi.done?xi.value:si.next()})},Kr(cr),Yt(cr,bt,"Generator"),Yt(cr,Ce,function(){return this}),Yt(cr,"toString",function(){return"[object Generator]"}),M.keys=function(ge){var pe=Object(ge),Te=[];for(var Wt in pe)Te.push(Wt);return Te.reverse(),function wt(){for(;Te.length;){var si=Te.pop();if(si in pe)return wt.value=si,wt.done=!1,wt}return wt.done=!0,wt}},M.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(Nr),!ge)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var pe=this;function Te(Di,Qi){return si.type="throw",si.arg=ge,pe.next=Di,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var wt=this.tryEntries[Wt],si=wt.completion;if(wt.tryLoc==="root")return Te("end");if(wt.tryLoc<=this.prev){var xi=U.call(wt,"catchLoc"),Ui=U.call(wt,"finallyLoc");if(xi&&Ui){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0);if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}else if(xi){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}}}},abrupt:function(ge,pe){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Wt=this.tryEntries[Te];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var wt=Wt;break}}wt&&(ge==="break"||ge==="continue")&&wt.tryLoc<=pe&&pe<=wt.finallyLoc&&(wt=null);var si=wt?wt.completion:{};return si.type=ge,si.arg=pe,wt?(this.method="next",this.next=wt.finallyLoc,ji):this.complete(si)},complete:function(ge,pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&pe&&(this.next=pe),ji},finish:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),ji}},catch:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.tryLoc===ge){var Wt=Te.completion;if(Wt.type==="throw"){var wt=Wt.arg;Nr(Te)}return wt}}throw Error("illegal catch attempt")},delegateYield:function(ge,pe,Te){return this.delegate={iterator:Xr(ge),resultName:pe,nextLoc:Te},this.method==="next"&&(this.arg=R),ji}},M}function ft(R,M,j,U,se,me,Ce){try{var Nt=R[me](Ce),bt=Nt.value}catch(Yt){return void j(Yt)}Nt.done?M(bt):Promise.resolve(bt).then(U,se)}function ct(R){return function(){var M=this,j=arguments;return new Promise(function(U,se){var me=R.apply(M,j);function Ce(bt){ft(me,U,se,Ce,Nt,"next",bt)}function Nt(bt){ft(me,U,se,Ce,Nt,"throw",bt)}Ce(void 0)})}}function Ge(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function Ae(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,Ne(U.key),U)}}function Me(R,M,j){return M&&Ae(R.prototype,M),j&&Ae(R,j),Object.defineProperty(R,"prototype",{writable:!1}),R}function De(R,M,j){return(M=Ne(M))in R?Object.defineProperty(R,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):R[M]=j,R}function Ne(R){var M=function(j,U){if(ce(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(ce(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return ce(M)=="symbol"?M:M+""}var Ve=function(){return Me(function R(M){var j=this;Ge(this,R),De(this,"scaleCenter",{x:.5,y:.5}),De(this,"_preventEvent",function(U){return U.preventDefault(),!1}),De(this,"_pinchStart",ct(Ze().mark(function U(){var se,me;return Ze().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(!j.pinching){Ce.next=2;break}return Ce.abrupt("return");case 2:if(!(0,Y.un)()){Ce.next=7;break}return Ce.next=5,(0,o.sleep)(0);case 5:if(!(j.touchesMonitor.touches<2)){Ce.next=7;break}return Ce.abrupt("return");case 7:j.pinching=!0,j.oldScale=1,j.mode.$visibleWorld.classList.add("BRsmooth-zooming"),j.mode.$visibleWorld.style.willChange="transform",j.mode.autoFit="none",j.detachCtrlZoom(),(se=(me=j.mode).detachScrollListeners)===null||se===void 0||se.call(me),j.interact.gesturable({listeners:{start:j._pinchStart,move:j._pinchMove,end:j._pinchEnd}});case 15:case"end":return Ce.stop()}},U)}))),De(this,"_pinchMove",function(){var U=ct(Ze().mark(function se(me){return Ze().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(j.pinching){Ce.next=2;break}return Ce.abrupt("return");case 2:j.lastEvent={scale:me.scale,clientX:me.clientX,clientY:me.clientY},j.pinchMoveFrame||(j.pinchMoveFrame=j.bufferFn(j._drawPinchZoomFrame));case 4:case"end":return Ce.stop()}},se)}));return function(se){return U.apply(this,arguments)}}()),De(this,"_pinchEnd",ct(Ze().mark(function U(){var se,me;return Ze().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(j.pinching){Ce.next=2;break}return Ce.abrupt("return");case 2:return j.pinching=!1,j.interact.gesturable({listeners:{start:j._pinchStart,end:j._pinchEnd}}),Ce.next=6,j.pinchMoveFramePromise;case 6:j.scaleCenter={x:.5,y:.5},j.oldScale=1,j.mode.$visibleWorld.classList.remove("BRsmooth-zooming"),j.mode.$visibleWorld.style.willChange="auto",j.attachCtrlZoom(),(se=(me=j.mode).attachScrollListeners)===null||se===void 0||se.call(me);case 12:case"end":return Ce.stop()}},U)}))),De(this,"_drawPinchZoomFrame",ct(Ze().mark(function U(){var se,me;return Ze().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(j.pinching){Ce.next=3;break}return j.pinchMoveFrame=null,Ce.abrupt("return");case 3:if(j.mode.$container.style.overflow="hidden",j.pinchMoveFramePromiseRes=null,j.pinchMoveFramePromise=new Promise(function(Nt){return j.pinchMoveFramePromiseRes=Nt}),j.updateScaleCenter({clientX:j.lastEvent.clientX,clientY:j.lastEvent.clientY}),se=j.mode.scale,me=se*j.lastEvent.scale/j.oldScale,se==me){Ce.next=13;break}return j.mode.scale=me,Ce.next=13,j.pinchMoveFramePromise;case 13:j.mode.$container.style.overflow="auto",j.oldScale=j.lastEvent.scale,j.pinchMoveFrame=null;case 16:case"end":return Ce.stop()}},U)}))),De(this,"_dragMove",function(){var U=ct(Ze().mark(function se(me){return Ze().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(!j.pinching){Ce.next=3;break}return Ce.next=3,j._pinchEnd();case 3:j.mode.$container.scrollTop-=me.dy,j.mode.$container.scrollLeft-=me.dx;case 5:case"end":return Ce.stop()}},se)}));return function(se){return U.apply(this,arguments)}}()),De(this,"_handleCtrlWheel",function(U){if(U.ctrlKey){U.preventDefault();var se=/Mac/i.test(navigator.platform)?.045:.03;j.updateScaleCenter(U),j.mode.autoFit="none",j.mode.scale*=1-Math.sign(U.deltaY)*se}}),this.mode=M,this.pinching=!1,this.pinchMoveFrame=null,this.pinchMoveFramePromise=Promise.resolve(),this.oldScale=1,this.lastEvent=null,this.attached=!1,this.bufferFn=window.requestAnimationFrame.bind(window)},[{key:"attach",value:function(){this.attached||(this.attachCtrlZoom(),this.mode.$container.addEventListener("gesturestart",this._pinchStart),this.mode.$container.addEventListener("gesturechange",this._preventEvent),this.mode.$container.addEventListener("gestureend",this._pinchEnd),(0,Y.un)()&&(this.touchesMonitor=new rt(this.mode.$container),this.touchesMonitor.attach()),this.mode.$container.style.touchAction="pan-x pan-y",this.interact=ye(this.mode.$container),this.interact.gesturable({listeners:{start:this._pinchStart,end:this._pinchEnd}}),(0,Y.ij)()&&(this.mode.$container.style.touchAction="none",this.interact.draggable({inertia:{resistance:2,minSpeed:100,allowResume:!0},listeners:{move:this._dragMove}})),this.attached=!0)}},{key:"detach",value:function(){var R,M;this.detachCtrlZoom(),this.mode.$container.removeEventListener("gesturestart",this._pinchStart),this.mode.$container.removeEventListener("gesturechange",this._preventEvent),this.mode.$container.removeEventListener("gestureend",this._pinchEnd),(R=this.touchesMonitor)===null||R===void 0||(M=R.detach)===null||M===void 0||M.call(R),this.interact.unset(),ye.removeDocument(document),this.attached=!1}},{key:"attachCtrlZoom",value:function(){window.addEventListener("wheel",this._handleCtrlWheel,{passive:!1})}},{key:"detachCtrlZoom",value:function(){window.removeEventListener("wheel",this._handleCtrlWheel)}},{key:"updateScaleCenter",value:function(R){var M=R.clientX,j=R.clientY,U=this.mode.htmlDimensionsCacher.boundingClientRect;this.scaleCenter={x:(M-U.left)/this.mode.htmlDimensionsCacher.clientWidth,y:(j-U.top)/this.mode.htmlDimensionsCacher.clientHeight}}},{key:"updateViewportOnZoom",value:function(R,M){var j,U=this.mode.$container,se=U.scrollTop,me=U.scrollLeft,Ce=this.mode.htmlDimensionsCacher.clientWidth,Nt=this.mode.htmlDimensionsCacher.clientHeight,bt=R/M,Yt=this.scaleCenter.x,li=this.scaleCenter.y,$i=bt*(me+Yt*Ce),Ri=bt*(se+li*Nt);U.scrollTop=Ri-li*Nt,U.scrollLeft=$i-Yt*Ce,(j=this.pinchMoveFramePromiseRes)===null||j===void 0||j.call(this)}}])}(),rt=function(){return Me(function R(M){var j=this;Ge(this,R),De(this,"_updateTouchCount",function(U){j.touches=U.touches.length}),this.container=M,this.touches=0},[{key:"attach",value:function(){this.container.addEventListener("touchstart",this._updateTouchCount),this.container.addEventListener("touchend",this._updateTouchCount)}},{key:"detach",value:function(){this.container.removeEventListener("touchstart",this._updateTouchCount),this.container.removeEventListener("touchend",this._updateTouchCount)}}])}();function je(R){return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},je(R)}function ee(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,qe(U.key),U)}}function J(R,M,j){return(M=qe(M))in R?Object.defineProperty(R,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):R[M]=j,R}function qe(R){var M=function(j,U){if(je(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(je(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return je(M)=="symbol"?M:M+""}var _t=function(){return R=function j(U){var se=this;(function(me,Ce){if(!(me instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,j),J(this,"clientWidth",100),J(this,"clientHeight",100),J(this,"boundingClientRect",{top:0,left:0}),J(this,"updateClientSizes",function(){var me=se.element.getBoundingClientRect();se.clientWidth=se.element.clientWidth,se.clientHeight=se.element.clientHeight,se.boundingClientRect.top=me.top,se.boundingClientRect.left=me.left}),J(this,"debouncedUpdateClientSizes",(0,o.debounce)(this.updateClientSizes,150,!1)),this.element=U},M=[{key:"attachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).addEventListener("resize",this.debouncedUpdateClientSizes)}},{key:"detachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).removeEventListener("resize",this.debouncedUpdateClientSizes)}}],M&&ee(R.prototype,M),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,M}();function we(R){return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},we(R)}function $e(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,at(U.key),U)}}function at(R){var M=function(j,U){if(we(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(we(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return we(M)=="symbol"?M:M+""}var Ee=function(){return R=function j(U,se){var me,Ce,Nt,bt=this;(function(Yt,li){if(!(Yt instanceof li))throw new TypeError("Cannot call a class as a function")})(this,j),me=this,Nt=function(){bt.element.classList.add(bt.className),clearTimeout(bt.timeout),bt.timeout=setTimeout(function(){bt.element.classList.remove(bt.className)},600)},(Ce=at(Ce="onScroll"))in me?Object.defineProperty(me,Ce,{value:Nt,enumerable:!0,configurable:!0,writable:!0}):me[Ce]=Nt,this.element=U,this.className=se,this.timeout=null},(M=[{key:"attach",value:function(){this.element.addEventListener("scroll",this.onScroll)}},{key:"detach",value:function(){this.element.removeEventListener("scroll",this.onScroll)}}])&&$e(R.prototype,M),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,M}();function tt(R){return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},tt(R)}function nt(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,vt(U.key),U)}}function Vt(R,M,j){return M&&nt(R.prototype,M),j&&nt(R,j),Object.defineProperty(R,"prototype",{writable:!1}),R}function dt(R,M,j){return(M=vt(M))in R?Object.defineProperty(R,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):R[M]=j,R}function vt(R){var M=function(j,U){if(tt(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(tt(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return tt(M)=="symbol"?M:M+""}var Rt,ii=Vt(function R(M){var j=this;(function(U,se){if(!(U instanceof se))throw new TypeError("Cannot call a class as a function")})(this,R),dt(this,"screenDPI",(0,o.calcScreenDPI)()),dt(this,"worldUnitsToRenderedPixels",function(U){return U*j.screenDPI}),dt(this,"renderedPixelsToWorldUnits",function(U){return U/j.screenDPI}),dt(this,"renderedPixelsToVisiblePixels",function(U){return U*j.mode.scale}),dt(this,"visiblePixelsToRenderedPixels",function(U){return U/j.mode.scale}),dt(this,"worldUnitsToVisiblePixels",function(U){return j.renderedPixelsToVisiblePixels(j.worldUnitsToRenderedPixels(U))}),dt(this,"visiblePixelsToWorldUnits",function(U){return j.renderedPixelsToWorldUnits(j.visiblePixelsToRenderedPixels(U))}),this.mode=M});function ai(R){return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},ai(R)}function ui(R){return function(M){if(Array.isArray(M))return Le(M)}(R)||ze(R)||oe(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mt(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,ht(U.key),U)}}function It(R,M,j){return M=Tt(M),function(U,se){if(se&&(ai(se)=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}(U)}(R,Et()?Reflect.construct(M,j||[],Tt(R).constructor):M.apply(R,j))}function Et(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(M){}return(Et=function(){return!!R})()}function Ct(R,M){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,U){return j.__proto__=U,j},Ct(R,M)}function St(){St=function(){return R};var R={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(M,j){["method","field"].forEach(function(U){j.forEach(function(se){se.kind===U&&se.placement==="own"&&this.defineClassElement(M,se)},this)},this)},initializeClassElements:function(M,j){var U=M.prototype;["method","field"].forEach(function(se){j.forEach(function(me){var Ce=me.placement;if(me.kind===se&&(Ce==="static"||Ce==="prototype")){var Nt=Ce==="static"?M:U;this.defineClassElement(Nt,me)}},this)},this)},defineClassElement:function(M,j){var U=j.descriptor;if(j.kind==="field"){var se=j.initializer;U={enumerable:U.enumerable,writable:U.writable,configurable:U.configurable,value:se===void 0?void 0:se.call(M)}}Object.defineProperty(M,j.key,U)},decorateClass:function(M,j){var U=[],se=[],me={static:[],prototype:[],own:[]};if(M.forEach(function(Nt){this.addElementPlacement(Nt,me)},this),M.forEach(function(Nt){if(!ke(Nt))return U.push(Nt);var bt=this.decorateElement(Nt,me);U.push(bt.element),U.push.apply(U,bt.extras),se.push.apply(se,bt.finishers)},this),!j)return{elements:U,finishers:se};var Ce=this.decorateConstructor(U,j);return se.push.apply(se,Ce.finishers),Ce.finishers=se,Ce},addElementPlacement:function(M,j,U){var se=j[M.placement];if(!U&&se.indexOf(M.key)!==-1)throw new TypeError("Duplicated element ("+M.key+")");se.push(M.key)},decorateElement:function(M,j){for(var U=[],se=[],me=M.decorators,Ce=me.length-1;Ce>=0;Ce--){var Nt=j[M.placement];Nt.splice(Nt.indexOf(M.key),1);var bt=this.fromElementDescriptor(M),Yt=this.toElementFinisherExtras((0,me[Ce])(bt)||bt);M=Yt.element,this.addElementPlacement(M,j),Yt.finisher&&se.push(Yt.finisher);var li=Yt.extras;if(li){for(var $i=0;$i<li.length;$i++)this.addElementPlacement(li[$i],j);U.push.apply(U,li)}}return{element:M,finishers:se,extras:U}},decorateConstructor:function(M,j){for(var U=[],se=j.length-1;se>=0;se--){var me=this.fromClassDescriptor(M),Ce=this.toClassDescriptor((0,j[se])(me)||me);if(Ce.finisher!==void 0&&U.push(Ce.finisher),Ce.elements!==void 0){M=Ce.elements;for(var Nt=0;Nt<M.length-1;Nt++)for(var bt=Nt+1;bt<M.length;bt++)if(M[Nt].key===M[bt].key&&M[Nt].placement===M[bt].placement)throw new TypeError("Duplicated element ("+M[Nt].key+")")}}return{elements:M,finishers:U}},fromElementDescriptor:function(M){var j={kind:M.kind,key:M.key,placement:M.placement,descriptor:M.descriptor};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),M.kind==="field"&&(j.initializer=M.initializer),j},toElementDescriptors:function(M){if(M!==void 0)return(j=M,function(U){if(Array.isArray(U))return U}(j)||ze(j)||oe(j)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(U){var se=this.toElementDescriptor(U);return this.disallowProperty(U,"finisher","An element descriptor"),this.disallowProperty(U,"extras","An element descriptor"),se},this);var j},toElementDescriptor:function(M){var j=M.kind+"";if(j!=="method"&&j!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+j+'"');var U=ht(M.key),se=M.placement+"";if(se!=="static"&&se!=="prototype"&&se!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+se+'"');var me=M.descriptor;this.disallowProperty(M,"elements","An element descriptor");var Ce={kind:j,key:U,placement:se,descriptor:Object.assign({},me)};return j!=="field"?this.disallowProperty(M,"initializer","A method descriptor"):(this.disallowProperty(me,"get","The property descriptor of a field descriptor"),this.disallowProperty(me,"set","The property descriptor of a field descriptor"),this.disallowProperty(me,"value","The property descriptor of a field descriptor"),Ce.initializer=M.initializer),Ce},toElementFinisherExtras:function(M){return{element:this.toElementDescriptor(M),finisher:Qe(M,"finisher"),extras:this.toElementDescriptors(M.extras)}},fromClassDescriptor:function(M){var j={kind:"class",elements:M.map(this.fromElementDescriptor,this)};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),j},toClassDescriptor:function(M){var j=M.kind+"";if(j!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+j+'"');this.disallowProperty(M,"key","A class descriptor"),this.disallowProperty(M,"placement","A class descriptor"),this.disallowProperty(M,"descriptor","A class descriptor"),this.disallowProperty(M,"initializer","A class descriptor"),this.disallowProperty(M,"extras","A class descriptor");var U=Qe(M,"finisher");return{elements:this.toElementDescriptors(M.elements),finisher:U}},runClassFinishers:function(M,j){for(var U=0;U<j.length;U++){var se=(0,j[U])(M);if(se!==void 0){if(typeof se!="function")throw new TypeError("Finishers must return a constructor.");M=se}}return M},disallowProperty:function(M,j,U){if(M[j]!==void 0)throw new TypeError(U+" can't have a ."+j+" property.")}};return R}function I(R){var M,j=ht(R.key);R.kind==="method"?M={value:R.value,writable:!0,configurable:!0,enumerable:!1}:R.kind==="get"?M={get:R.value,configurable:!0,enumerable:!1}:R.kind==="set"?M={set:R.value,configurable:!0,enumerable:!1}:R.kind==="field"&&(M={configurable:!0,writable:!0,enumerable:!0});var U={kind:R.kind==="field"?"field":"method",key:j,placement:R.static?"static":R.kind==="field"?"own":"prototype",descriptor:M};return R.decorators&&(U.decorators=R.decorators),R.kind==="field"&&(U.initializer=R.value),U}function We(R,M){R.descriptor.get!==void 0?M.descriptor.get=R.descriptor.get:M.descriptor.set=R.descriptor.set}function ke(R){return R.decorators&&R.decorators.length}function Ye(R){return R!==void 0&&!(R.value===void 0&&R.writable===void 0)}function Qe(R,M){var j=R[M];if(j!==void 0&&typeof j!="function")throw new TypeError("Expected '"+M+"' to be a function");return j}function ht(R){var M=function(j,U){if(ai(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(ai(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return ai(M)=="symbol"?M:M+""}function oe(R,M){if(R){if(typeof R=="string")return Le(R,M);var j={}.toString.call(R).slice(8,-1);return j==="Object"&&R.constructor&&(j=R.constructor.name),j==="Map"||j==="Set"?Array.from(R):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Le(R,M):void 0}}function Le(R,M){(M==null||M>R.length)&&(M=R.length);for(var j=0,U=Array(M);j<M;j++)U[j]=R[j];return U}function ze(R){if(typeof Symbol<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)}function yt(R,M,j,U){var se=ut(Tt(1&U?R.prototype:R),M,j);return 2&U&&typeof se=="function"?function(me){return se.apply(j,me)}:se}function ut(){return ut=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(R,M,j){var U=function(me,Ce){for(;!{}.hasOwnProperty.call(me,Ce)&&(me=Tt(me))!==null;);return me}(R,M);if(U){var se=Object.getOwnPropertyDescriptor(U,M);return se.get?se.get.call(arguments.length<3?R:j):se.value}},ut.apply(null,arguments)}function Tt(R){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},Tt(R)}var Ut,Jt,Lt,jt,Je,Re=(Ut=[(0,ae.EM)("br-mode-1up")],Jt=de.WF,Lt=St(),jt=function(R,M){var j=function(U){function se(me,Ce){var Nt;return function(bt,Yt){if(!(bt instanceof Yt))throw new TypeError("Cannot call a class as a function")}(this,se),Nt=It(this,se),R(Nt),Nt.book=me,Nt.br=Ce,Nt}return function(me,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),Object.defineProperty(me,"prototype",{writable:!1}),Ce&&Ct(me,Ce)}(se,U),function(me,Ce,Nt){return Ce&&Mt(me.prototype,Ce),Nt&&Mt(me,Nt),Object.defineProperty(me,"prototype",{writable:!1}),me}(se)}(M);return{F:j,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,ae.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",decorators:[(0,ae.MZ)({type:Array})],key:"pages",value:function(){return[]}},{kind:"field",decorators:[(0,ae.MZ)({type:Object})],key:"pageTops",value:function(){return{}}},{kind:"field",key:"coordSpace",value:function(){return new ii(this)}},{kind:"field",decorators:[(0,ae.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",decorators:[(0,ae.MZ)({type:Object})],key:"visibleRegion",value:function(){return{top:0,left:0,width:100,height:100}}},{kind:"field",decorators:[(0,ae.MZ)({type:Array,hasChanged:o.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"field",decorators:[(0,ae.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",decorators:[(0,ae.P)(".br-mode-1up__world")],key:"$world",value:void 0},{kind:"field",key:"worldDimensions",value:function(){return{width:100,height:100}}},{kind:"get",key:"worldStyle",value:function(){var U=this.coordSpace.worldUnitsToRenderedPixels;return{width:U(this.worldDimensions.width)+"px",height:U(this.worldDimensions.height)+"px"}}},{kind:"get",key:"$container",value:function(){return this}},{kind:"field",decorators:[(0,ae.P)(".br-mode-1up__visible-world")],key:"$visibleWorld",value:void 0},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new _t(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new Ve(this)}},{kind:"field",key:"scrollClassAdder",value:function(){return new Ee(this,"BRscrolling-active")}},{kind:"field",key:"SPACING_IN",value:function(){return .2}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"method",key:"jumpToIndex",value:function(U){var se=this,me=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).smooth,Ce=me!==void 0&&me;Ce&&(this.style.scrollBehavior="smooth"),this.scrollTop=this.coordSpace.worldUnitsToVisiblePixels(this.pageTops[U]-this.SPACING_IN/2),Ce&&setTimeout(function(){return se.style.scrollBehavior=""},100)}},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(U){yt(j,"firstUpdated",this,3)([U]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"initFirstRender",value:function(U){var se=this.book.getPage(U);this.scale=this.computeDefaultScale(se)}},{kind:"method",key:"updated",value:function(U){if(U.has("book")&&this.updatePages(),U.has("pages")&&(this.worldDimensions=this.computeWorldDimensions(),this.pageTops=this.computePageTops(this.pages,this.SPACING_IN)),U.has("visibleRegion")&&(this.visiblePages=this.computeVisiblePages()),U.has("visiblePages")&&(this.throttledUpdateRenderedPages(),this.visiblePages.length&&(this.br.displayedIndices=this.visiblePages.map(function(me){return me.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled())),U.has("scale")){var se=U.get("scale");this.$visibleWorld.style.transform="scale(".concat(this.scale,")"),this.smoothZoomer.updateViewportOnZoom(this.scale,se),this.updateVisibleRegion(),this.$world.style.transform="scale(".concat(this.scale,")")}}},{kind:"method",key:"updatePages",value:function(){this.pages=(0,o.genToArray)(this.book.pagesIterator({combineConsecutiveUnviewables:!0}))}},{kind:"method",key:"connectedCallback",value:function(){yt(j,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.attachScrollListeners(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.detachScrollListeners(),this.smoothZoomer.detach(),yt(j,"disconnectedCallback",this,3)([])}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var U=this;return(0,de.qy)(Rt||(Rt=function(se,me){return me||(me=se.slice(0)),Object.freeze(Object.defineProperties(se,{raw:{value:Object.freeze(me)}}))}([`
      <div class="br-mode-1up__world" style=`,`></div>
      <div class="br-mode-1up__visible-world">
        `,`
      </div>`])),(0,Z.W)(this.worldStyle),this.renderedPages.map(function(se){return U.renderPage(se)}))}},{kind:"field",key:"createPageContainer",value:function(){var U=this;return function(se){return U.pageContainerCache[se.index]||(U.pageContainerCache[se.index]=U.br._createPageContainer(se.index))}}},{kind:"field",key:"renderPage",value:function(){var U=this;return function(se){var me=U.coordSpace.worldUnitsToRenderedPixels,Ce=U.coordSpace.worldUnitsToVisiblePixels,Nt=U.coordSpace.visiblePixelsToWorldUnits(U.htmlDimensionsCacher.clientWidth),bt=me(se.widthInches),Yt=me(se.heightInches),li=Math.max(U.SPACING_IN,(Nt-se.widthInches)/2),$i=U.pageTops[se.index],Ri="translate(".concat(me(li),"px, ").concat(me($i),"px)"),Oi=U.createPageContainer(se).update({dimensions:{width:bt,height:Yt,top:0,left:0},reduce:se.width/Ce(se.widthInches)}).$container[0];return Oi.style.transform=Ri,Oi.classList.toggle("BRpage-visible",U.visiblePages.includes(se)),Oi}}},{kind:"field",key:"updateVisibleRegion",value:function(){var U=this;return function(){var se=U.scrollTop,me=U.scrollLeft,Ce=U.htmlDimensionsCacher.clientWidth,Nt=U.htmlDimensionsCacher.clientHeight,bt=U.coordSpace.visiblePixelsToWorldUnits;U.visibleRegion={top:bt(se),height:bt(Nt),left:bt(me),width:bt(Ce)}}}},{kind:"method",key:"computeRenderedPages",value:function(){var U,se;return[(U=this.visiblePages[0])===null||U===void 0?void 0:U.prev].concat(ui(this.visiblePages),[(se=this.visiblePages[this.visiblePages.length-1])===null||se===void 0?void 0:se.next]).filter(function(me){return me}).slice(0,10)}},{kind:"field",key:"throttledUpdateRenderedPages",value:function(){var U=this;return(0,o.throttle)(function(){U.renderedPages=U.computeRenderedPages(),U.requestUpdate()},100,null)}},{kind:"method",key:"computePageTops",value:function(U,se){var me,Ce={},Nt=se,bt=function(li,$i){var Ri=typeof Symbol<"u"&&li[Symbol.iterator]||li["@@iterator"];if(!Ri){if(Array.isArray(li)||(Ri=oe(li))||$i&&li&&typeof li.length=="number"){Ri&&(li=Ri);var Oi=0,lr=function(){};return{s:lr,n:function(){return Oi>=li.length?{done:!0}:{done:!1,value:li[Oi++]}},e:function(er){throw er},f:lr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wi,ji=!0,Xi=!1;return{s:function(){Ri=Ri.call(li)},n:function(){var er=Ri.next();return ji=er.done,er},e:function(er){Xi=!0,Wi=er},f:function(){try{ji||Ri.return==null||Ri.return()}finally{if(Xi)throw Wi}}}}(U);try{for(bt.s();!(me=bt.n()).done;){var Yt=me.value;Ce[Yt.index]=Nt,Nt+=Yt.heightInches+se}}catch(li){bt.e(li)}finally{bt.f()}return Ce}},{kind:"method",key:"computeDefaultScale",value:function(U){var se=this.coordSpace.renderedPixelsToWorldUnits(this.clientWidth);return Math.min(1,se/(U.widthInches+2*this.SPACING_IN))||1}},{kind:"method",key:"computeWorldDimensions",value:function(){return{width:Math.max.apply(Math,ui(this.pages.map(function(U){return U.widthInches})))+2*this.SPACING_IN,height:(0,o.sum)(this.pages.map(function(U){return U.heightInches}))+(this.pages.length+1)*this.SPACING_IN}}},{kind:"method",key:"computeVisiblePages",value:function(){var U=this;return this.pages.filter(function(se){var me=U.pageTops[se.index],Ce=me+se.heightInches,Nt=U.visibleRegion.top;return me<=Nt+U.visibleRegion.height&&Ce>=Nt})}},{kind:"field",key:"attachScrollListeners",value:function(){var U=this;return function(){U.addEventListener("scroll",U.updateVisibleRegion),U.scrollClassAdder.attach()}}},{kind:"field",key:"detachScrollListeners",value:function(){var U=this;return function(){U.removeEventListener("scroll",U.updateVisibleRegion),U.scrollClassAdder.detach()}}}]}}(function(R){Lt.initializeInstanceElements(R,Je.elements)},Jt),Je=Lt.decorateClass(function(R){for(var M=[],j=function(Ce){return Ce.kind==="method"&&Ce.key===me.key&&Ce.placement===me.placement},U=0;U<R.length;U++){var se,me=R[U];if(me.kind==="method"&&(se=M.find(j)))if(Ye(me.descriptor)||Ye(se.descriptor)){if(ke(me)||ke(se))throw new ReferenceError("Duplicated methods ("+me.key+") can't be decorated.");se.descriptor=me.descriptor}else{if(ke(me)){if(ke(se))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+me.key+").");se.decorators=me.decorators}We(me,se)}else M.push(me)}return M}(jt.d.map(I)),Ut),Lt.initializeClassElements(jt.F,Je.elements),Lt.runClassFinishers(jt.F,Je.finishers)),Be=a(1669);function it(R){return it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},it(R)}function Pt(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,et(U.key),U)}}function Ht(R,M,j){return(M=et(M))in R?Object.defineProperty(R,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):R[M]=j,R}function et(R){var M=function(j,U){if(it(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(it(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return it(M)=="symbol"?M:M+""}function xt(R,M){return R.split(" ").map(function(j){return j+M}).join(" ")}function kt(R){var M,j;return R.clientX!==void 0?(M=R.clientX,j=R.clientY):R.screenX!==void 0?(M=R.screenX,j=R.screenY):R.targetTouches!==void 0?(M=R.targetTouches[0].pageX,j=R.targetTouches[0].pageY):R.originalEvent===void 0?console.error("don't understand x and y for "+R.type,R):R.originalEvent.clientX!==void 0?(M=R.originalEvent.clientX,j=R.originalEvent.clientY):R.originalEvent.screenX!==void 0?(M=R.originalEvent.screenX,j=R.originalEvent.screenY):R.originalEvent.targetTouches!==void 0&&(M=R.originalEvent.targetTouches[0].pageX,j=R.originalEvent.targetTouches[0].pageY),{left:M,top:j}}var Xt={dragSelector:">:first",acceptPropagatedEvent:!0,preventDefault:!0,dragstart:"mousedown touchstart",dragcontinue:"mousemove touchmove",dragend:"mouseup touchend",dragMinDistance:5,namespace:".ds",scrollWindow:!1},Xe=function(){return function(R,M,j){return M&&Pt(R.prototype,M),Object.defineProperty(R,"prototype",{writable:!1}),R}(function R(M){var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")})(this,R),Ht(this,"_dragStartHandler",function(se){return!!j._shouldAbort()||!(se.which>1||!j.settings.acceptPropagatedEvent&&se.target!=j.handling_element[0])&&(j.lastCoord=j.firstCoord=kt(se),j.handling_element.on(j.settings.dragcontinue,j._dragContinueHandler),j.settings.dragend.split(" ").forEach(function(me){j.handling_element[0].addEventListener(me,j._dragEndHandler,!0)}),j.settings.preventDefault?(se.preventDefault(),!1):void 0)}),Ht(this,"_dragContinueHandler",function(se){if(j._shouldAbort())return!0;var me=kt(se),Ce=me.left-j.lastCoord.left,Nt=me.top-j.lastCoord.top,bt=j.settings.scrollWindow?Be(window):j.handling_element;return bt.scrollLeft(bt.scrollLeft()-Ce),bt.scrollTop(bt.scrollTop()-Nt),j.lastCoord=me,j.settings.preventDefault?(se.preventDefault(),!1):void 0}),Ht(this,"_dragEndHandler",function(se){if(j._shouldAbort())return!0;j.handling_element.off(j.settings.dragcontinue).off(j.settings.dragend),j.settings.dragend.split(" ").forEach(function(Nt){j.handling_element[0].removeEventListener(Nt,j._dragEndHandler,!0)});var me={left:Math.abs(j.lastCoord.left-j.firstCoord.left),top:Math.abs(j.lastCoord.top-j.firstCoord.top)},Ce=Math.max(me.left,me.top);return j.settings.preventDefault&&Ce>j.settings.dragMinDistance?(se.preventDefault(),se.stopImmediatePropagation(),se.stopPropagation(),!1):void 0}),this.handling_element=Be(M),this.settings=Be.extend({},Xt,U||{}),this.firstCoord={left:0,top:0},this.lastCoord={left:0,top:0},this.settings.dragstart=xt(this.settings.dragstart,this.settings.namespace),this.settings.dragcontinue=xt(this.settings.dragcontinue,this.settings.namespace),this.handling_element.find(this.settings.dragSelector).on(this.settings.dragstart,this._dragStartHandler)},[{key:"_shouldAbort",value:function(){return"ontouchstart"in window||"msmaxtouchpoints"in window.navigator}}])}(),ni=a(1669);function ti(R){return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},ti(R)}function Ai(){Ai=function(){return M};var R,M={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,pe,Te){ge[pe]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Nt=me.asyncIterator||"@@asyncIterator",bt=me.toStringTag||"@@toStringTag";function Yt(ge,pe,Te){return Object.defineProperty(ge,pe,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[pe]}try{Yt({},"")}catch(ge){Yt=function(pe,Te,Wt){return pe[Te]=Wt}}function li(ge,pe,Te,Wt){var wt=pe&&pe.prototype instanceof Xi?pe:Xi,si=Object.create(wt.prototype),xi=new Ir(Wt||[]);return se(si,"_invoke",{value:Br(ge,Te,xi)}),si}function $i(ge,pe,Te){try{return{type:"normal",arg:ge.call(pe,Te)}}catch(Wt){return{type:"throw",arg:Wt}}}M.wrap=li;var Ri="suspendedStart",Oi="suspendedYield",lr="executing",Wi="completed",ji={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ce,function(){return this});var Rr=Object.getPrototypeOf,Ii=Rr&&Rr(Rr(Xr([])));Ii&&Ii!==j&&U.call(Ii,Ce)&&(gr=Ii);var cr=Zi.prototype=Xi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(pe){Yt(ge,pe,function(Te){return this._invoke(pe,Te)})})}function mr(ge,pe){function Te(wt,si,xi,Ui){var Di=$i(ge[wt],ge,si);if(Di.type!=="throw"){var Qi=Di.arg,fr=Qi.value;return fr&&ti(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Te("next",wr,xi,Ui)},function(wr){Te("throw",wr,xi,Ui)}):pe.resolve(fr).then(function(wr){Qi.value=wr,xi(Qi)},function(wr){return Te("throw",wr,xi,Ui)})}Ui(Di.arg)}var Wt;se(this,"_invoke",{value:function(wt,si){function xi(){return new pe(function(Ui,Di){Te(wt,si,Ui,Di)})}return Wt=Wt?Wt.then(xi,xi):xi()}})}function Br(ge,pe,Te){var Wt=Ri;return function(wt,si){if(Wt===lr)throw Error("Generator is already running");if(Wt===Wi){if(wt==="throw")throw si;return{value:R,done:!0}}for(Te.method=wt,Te.arg=si;;){var xi=Te.delegate;if(xi){var Ui=Mr(xi,Te);if(Ui){if(Ui===ji)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Wt===Ri)throw Wt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Wt=lr;var Di=$i(ge,pe,Te);if(Di.type==="normal"){if(Wt=Te.done?Wi:Oi,Di.arg===ji)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Wt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Mr(ge,pe){var Te=pe.method,Wt=ge.iterator[Te];if(Wt===R)return pe.delegate=null,Te==="throw"&&ge.iterator.return&&(pe.method="return",pe.arg=R,Mr(ge,pe),pe.method==="throw")||Te!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),ji;var wt=$i(Wt,ge.iterator,pe.arg);if(wt.type==="throw")return pe.method="throw",pe.arg=wt.arg,pe.delegate=null,ji;var si=wt.arg;return si?si.done?(pe[ge.resultName]=si.value,pe.next=ge.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,ji):si:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,ji)}function fn(ge){var pe={tryLoc:ge[0]};1 in ge&&(pe.catchLoc=ge[1]),2 in ge&&(pe.finallyLoc=ge[2],pe.afterLoc=ge[3]),this.tryEntries.push(pe)}function Nr(ge){var pe=ge.completion||{};pe.type="normal",delete pe.arg,ge.completion=pe}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(fn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var pe=ge[Ce];if(pe)return pe.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Wt=function wt(){for(;++Te<ge.length;)if(U.call(ge,Te))return wt.value=ge[Te],wt.done=!1,wt;return wt.value=R,wt.done=!0,wt};return Wt.next=Wt}}throw new TypeError(ti(ge)+" is not iterable")}return er.prototype=Zi,se(cr,"constructor",{value:Zi,configurable:!0}),se(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,bt,"GeneratorFunction"),M.isGeneratorFunction=function(ge){var pe=typeof ge=="function"&&ge.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},M.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Zi):(ge.__proto__=Zi,Yt(ge,bt,"GeneratorFunction")),ge.prototype=Object.create(cr),ge},M.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),M.AsyncIterator=mr,M.async=function(ge,pe,Te,Wt,wt){wt===void 0&&(wt=Promise);var si=new mr(li(ge,pe,Te,Wt),wt);return M.isGeneratorFunction(pe)?si:si.next().then(function(xi){return xi.done?xi.value:si.next()})},Kr(cr),Yt(cr,bt,"Generator"),Yt(cr,Ce,function(){return this}),Yt(cr,"toString",function(){return"[object Generator]"}),M.keys=function(ge){var pe=Object(ge),Te=[];for(var Wt in pe)Te.push(Wt);return Te.reverse(),function wt(){for(;Te.length;){var si=Te.pop();if(si in pe)return wt.value=si,wt.done=!1,wt}return wt.done=!0,wt}},M.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(Nr),!ge)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var pe=this;function Te(Di,Qi){return si.type="throw",si.arg=ge,pe.next=Di,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var wt=this.tryEntries[Wt],si=wt.completion;if(wt.tryLoc==="root")return Te("end");if(wt.tryLoc<=this.prev){var xi=U.call(wt,"catchLoc"),Ui=U.call(wt,"finallyLoc");if(xi&&Ui){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0);if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}else if(xi){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}}}},abrupt:function(ge,pe){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Wt=this.tryEntries[Te];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var wt=Wt;break}}wt&&(ge==="break"||ge==="continue")&&wt.tryLoc<=pe&&pe<=wt.finallyLoc&&(wt=null);var si=wt?wt.completion:{};return si.type=ge,si.arg=pe,wt?(this.method="next",this.next=wt.finallyLoc,ji):this.complete(si)},complete:function(ge,pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&pe&&(this.next=pe),ji},finish:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),ji}},catch:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.tryLoc===ge){var Wt=Te.completion;if(Wt.type==="throw"){var wt=Wt.arg;Nr(Te)}return wt}}throw Error("illegal catch attempt")},delegateYield:function(ge,pe,Te){return this.delegate={iterator:Xr(ge),resultName:pe,nextLoc:Te},this.method==="next"&&(this.arg=R),ji}},M}function qt(R,M,j,U,se,me,Ce){try{var Nt=R[me](Ce),bt=Nt.value}catch(Yt){return void j(Yt)}Nt.done?M(bt):Promise.resolve(bt).then(U,se)}function ci(R){return function(){var M=this,j=arguments;return new Promise(function(U,se){var me=R.apply(M,j);function Ce(bt){qt(me,U,se,Ce,Nt,"next",bt)}function Nt(bt){qt(me,U,se,Ce,Nt,"throw",bt)}Ce(void 0)})}}function Ti(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,Mi(U.key),U)}}function Mi(R){var M=function(j,U){if(ti(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(ti(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return ti(M)=="symbol"?M:M+""}var ir,Ki,Gi,Sr,tr,yr,_r,Pr,Jr=function(){return function(R,M,j){return M&&Ti(R.prototype,M),Object.defineProperty(R,"prototype",{writable:!1}),R}(function R(M,j){(function(U,se){if(!(U instanceof se))throw new TypeError("Cannot call a class as a function")})(this,R),function(U,se,me){(se=Mi(se))in U?Object.defineProperty(U,se,{value:"1up",enumerable:!0,configurable:!0,writable:!0}):U[se]="1up"}(this,"name"),this.br=M,this.book=j,this.mode1UpLit=new Re(j,M),this.$el=ni(this.mode1UpLit).addClass("br-mode-1up__root BRmode1up"),this.everShown=!1},[{key:"$brContainer",get:function(){return this.br.refs.$brContainer}},{key:"prepare",value:function(){var R=this,M=this.br.currentIndex();this.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),setTimeout(ci(Ai().mark(function j(){return Ai().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(R.everShown){U.next=7;break}return R.mode1UpLit.initFirstRender(M),R.everShown=!0,R.mode1UpLit.requestUpdate(),U.next=6,R.mode1UpLit.updateComplete;case 6:new Xe(R.mode1UpLit,{preventDefault:!0,dragSelector:".br-mode-1up__visible-world",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"});case 7:R.mode1UpLit.jumpToIndex(M),setTimeout(function(){R.mode1UpLit.updateVisibleRegion()});case 9:case"end":return U.stop()}},j)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(R,M,j,U){var se=Math.abs(this.br.currentIndex()-R),me=!U&&se>0&&se<=4;this.mode1UpLit.jumpToIndex(R,{smooth:me})}},{key:"zoom",value:function(R){switch(R){case"in":this.mode1UpLit.zoomIn();break;case"out":this.mode1UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(R))}}},{key:"resizePageView",value:function(){this.mode1UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode1UpLit.requestUpdate()}}])}(),cn=(a(1761),a(1669));function $r(R){return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},$r(R)}function jr(R,M){return M||(M=R.slice(0)),Object.freeze(Object.defineProperties(R,{raw:{value:Object.freeze(M)}}))}function Yr(){Yr=function(){return M};var R,M={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,pe,Te){ge[pe]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Nt=me.asyncIterator||"@@asyncIterator",bt=me.toStringTag||"@@toStringTag";function Yt(ge,pe,Te){return Object.defineProperty(ge,pe,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[pe]}try{Yt({},"")}catch(ge){Yt=function(pe,Te,Wt){return pe[Te]=Wt}}function li(ge,pe,Te,Wt){var wt=pe&&pe.prototype instanceof Xi?pe:Xi,si=Object.create(wt.prototype),xi=new Ir(Wt||[]);return se(si,"_invoke",{value:Br(ge,Te,xi)}),si}function $i(ge,pe,Te){try{return{type:"normal",arg:ge.call(pe,Te)}}catch(Wt){return{type:"throw",arg:Wt}}}M.wrap=li;var Ri="suspendedStart",Oi="suspendedYield",lr="executing",Wi="completed",ji={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ce,function(){return this});var Rr=Object.getPrototypeOf,Ii=Rr&&Rr(Rr(Xr([])));Ii&&Ii!==j&&U.call(Ii,Ce)&&(gr=Ii);var cr=Zi.prototype=Xi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(pe){Yt(ge,pe,function(Te){return this._invoke(pe,Te)})})}function mr(ge,pe){function Te(wt,si,xi,Ui){var Di=$i(ge[wt],ge,si);if(Di.type!=="throw"){var Qi=Di.arg,fr=Qi.value;return fr&&$r(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Te("next",wr,xi,Ui)},function(wr){Te("throw",wr,xi,Ui)}):pe.resolve(fr).then(function(wr){Qi.value=wr,xi(Qi)},function(wr){return Te("throw",wr,xi,Ui)})}Ui(Di.arg)}var Wt;se(this,"_invoke",{value:function(wt,si){function xi(){return new pe(function(Ui,Di){Te(wt,si,Ui,Di)})}return Wt=Wt?Wt.then(xi,xi):xi()}})}function Br(ge,pe,Te){var Wt=Ri;return function(wt,si){if(Wt===lr)throw Error("Generator is already running");if(Wt===Wi){if(wt==="throw")throw si;return{value:R,done:!0}}for(Te.method=wt,Te.arg=si;;){var xi=Te.delegate;if(xi){var Ui=Mr(xi,Te);if(Ui){if(Ui===ji)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Wt===Ri)throw Wt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Wt=lr;var Di=$i(ge,pe,Te);if(Di.type==="normal"){if(Wt=Te.done?Wi:Oi,Di.arg===ji)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Wt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Mr(ge,pe){var Te=pe.method,Wt=ge.iterator[Te];if(Wt===R)return pe.delegate=null,Te==="throw"&&ge.iterator.return&&(pe.method="return",pe.arg=R,Mr(ge,pe),pe.method==="throw")||Te!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),ji;var wt=$i(Wt,ge.iterator,pe.arg);if(wt.type==="throw")return pe.method="throw",pe.arg=wt.arg,pe.delegate=null,ji;var si=wt.arg;return si?si.done?(pe[ge.resultName]=si.value,pe.next=ge.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,ji):si:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,ji)}function fn(ge){var pe={tryLoc:ge[0]};1 in ge&&(pe.catchLoc=ge[1]),2 in ge&&(pe.finallyLoc=ge[2],pe.afterLoc=ge[3]),this.tryEntries.push(pe)}function Nr(ge){var pe=ge.completion||{};pe.type="normal",delete pe.arg,ge.completion=pe}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(fn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var pe=ge[Ce];if(pe)return pe.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Wt=function wt(){for(;++Te<ge.length;)if(U.call(ge,Te))return wt.value=ge[Te],wt.done=!1,wt;return wt.value=R,wt.done=!0,wt};return Wt.next=Wt}}throw new TypeError($r(ge)+" is not iterable")}return er.prototype=Zi,se(cr,"constructor",{value:Zi,configurable:!0}),se(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,bt,"GeneratorFunction"),M.isGeneratorFunction=function(ge){var pe=typeof ge=="function"&&ge.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},M.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Zi):(ge.__proto__=Zi,Yt(ge,bt,"GeneratorFunction")),ge.prototype=Object.create(cr),ge},M.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),M.AsyncIterator=mr,M.async=function(ge,pe,Te,Wt,wt){wt===void 0&&(wt=Promise);var si=new mr(li(ge,pe,Te,Wt),wt);return M.isGeneratorFunction(pe)?si:si.next().then(function(xi){return xi.done?xi.value:si.next()})},Kr(cr),Yt(cr,bt,"Generator"),Yt(cr,Ce,function(){return this}),Yt(cr,"toString",function(){return"[object Generator]"}),M.keys=function(ge){var pe=Object(ge),Te=[];for(var Wt in pe)Te.push(Wt);return Te.reverse(),function wt(){for(;Te.length;){var si=Te.pop();if(si in pe)return wt.value=si,wt.done=!1,wt}return wt.done=!0,wt}},M.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(Nr),!ge)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var pe=this;function Te(Di,Qi){return si.type="throw",si.arg=ge,pe.next=Di,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var wt=this.tryEntries[Wt],si=wt.completion;if(wt.tryLoc==="root")return Te("end");if(wt.tryLoc<=this.prev){var xi=U.call(wt,"catchLoc"),Ui=U.call(wt,"finallyLoc");if(xi&&Ui){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0);if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}else if(xi){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}}}},abrupt:function(ge,pe){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Wt=this.tryEntries[Te];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var wt=Wt;break}}wt&&(ge==="break"||ge==="continue")&&wt.tryLoc<=pe&&pe<=wt.finallyLoc&&(wt=null);var si=wt?wt.completion:{};return si.type=ge,si.arg=pe,wt?(this.method="next",this.next=wt.finallyLoc,ji):this.complete(si)},complete:function(ge,pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&pe&&(this.next=pe),ji},finish:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),ji}},catch:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.tryLoc===ge){var Wt=Te.completion;if(Wt.type==="throw"){var wt=Wt.arg;Nr(Te)}return wt}}throw Error("illegal catch attempt")},delegateYield:function(ge,pe,Te){return this.delegate={iterator:Xr(ge),resultName:pe,nextLoc:Te},this.method==="next"&&(this.arg=R),ji}},M}function Wr(R,M,j,U,se,me,Ce){try{var Nt=R[me](Ce),bt=Nt.value}catch(Yt){return void j(Yt)}Nt.done?M(bt):Promise.resolve(bt).then(U,se)}function ve(R){return function(){var M=this,j=arguments;return new Promise(function(U,se){var me=R.apply(M,j);function Ce(bt){Wr(me,U,se,Ce,Nt,"next",bt)}function Nt(bt){Wr(me,U,se,Ce,Nt,"throw",bt)}Ce(void 0)})}}function he(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,bn(U.key),U)}}function B(R,M,j){return M&&he(R.prototype,M),j&&he(R,j),Object.defineProperty(R,"prototype",{writable:!1}),R}function be(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function _e(R,M,j){return M=rr(M),function(U,se){if(se&&($r(se)=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}(U)}(R,$t()?Reflect.construct(M,j||[],rr(R).constructor):M.apply(R,j))}function $t(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(M){}return($t=function(){return!!R})()}function zt(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),M&&gi(R,M)}function gi(R,M){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,U){return j.__proto__=U,j},gi(R,M)}function fi(R,M,j,U){var se=zi();if(U)for(var me=0;me<U.length;me++)se=U[me](se);var Ce=M(function(bt){se.initializeInstanceElements(bt,Nt.elements)},j),Nt=se.decorateClass(function(bt){for(var Yt=[],li=function(lr){return lr.kind==="method"&&lr.key===Oi.key&&lr.placement===Oi.placement},$i=0;$i<bt.length;$i++){var Ri,Oi=bt[$i];if(Oi.kind==="method"&&(Ri=Yt.find(li)))if(ue(Oi.descriptor)||ue(Ri.descriptor)){if(Vr(Oi)||Vr(Ri))throw new ReferenceError("Duplicated methods ("+Oi.key+") can't be decorated.");Ri.descriptor=Oi.descriptor}else{if(Vr(Oi)){if(Vr(Ri))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+Oi.key+").");Ri.decorators=Oi.decorators}or(Oi,Ri)}else Yt.push(Oi)}return Yt}(Ce.d.map(hr)),R);return se.initializeClassElements(Ce.F,Nt.elements),se.runClassFinishers(Ce.F,Nt.finishers)}function zi(){zi=function(){return R};var R={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(M,j){["method","field"].forEach(function(U){j.forEach(function(se){se.kind===U&&se.placement==="own"&&this.defineClassElement(M,se)},this)},this)},initializeClassElements:function(M,j){var U=M.prototype;["method","field"].forEach(function(se){j.forEach(function(me){var Ce=me.placement;if(me.kind===se&&(Ce==="static"||Ce==="prototype")){var Nt=Ce==="static"?M:U;this.defineClassElement(Nt,me)}},this)},this)},defineClassElement:function(M,j){var U=j.descriptor;if(j.kind==="field"){var se=j.initializer;U={enumerable:U.enumerable,writable:U.writable,configurable:U.configurable,value:se===void 0?void 0:se.call(M)}}Object.defineProperty(M,j.key,U)},decorateClass:function(M,j){var U=[],se=[],me={static:[],prototype:[],own:[]};if(M.forEach(function(Nt){this.addElementPlacement(Nt,me)},this),M.forEach(function(Nt){if(!Vr(Nt))return U.push(Nt);var bt=this.decorateElement(Nt,me);U.push(bt.element),U.push.apply(U,bt.extras),se.push.apply(se,bt.finishers)},this),!j)return{elements:U,finishers:se};var Ce=this.decorateConstructor(U,j);return se.push.apply(se,Ce.finishers),Ce.finishers=se,Ce},addElementPlacement:function(M,j,U){var se=j[M.placement];if(!U&&se.indexOf(M.key)!==-1)throw new TypeError("Duplicated element ("+M.key+")");se.push(M.key)},decorateElement:function(M,j){for(var U=[],se=[],me=M.decorators,Ce=me.length-1;Ce>=0;Ce--){var Nt=j[M.placement];Nt.splice(Nt.indexOf(M.key),1);var bt=this.fromElementDescriptor(M),Yt=this.toElementFinisherExtras((0,me[Ce])(bt)||bt);M=Yt.element,this.addElementPlacement(M,j),Yt.finisher&&se.push(Yt.finisher);var li=Yt.extras;if(li){for(var $i=0;$i<li.length;$i++)this.addElementPlacement(li[$i],j);U.push.apply(U,li)}}return{element:M,finishers:se,extras:U}},decorateConstructor:function(M,j){for(var U=[],se=j.length-1;se>=0;se--){var me=this.fromClassDescriptor(M),Ce=this.toClassDescriptor((0,j[se])(me)||me);if(Ce.finisher!==void 0&&U.push(Ce.finisher),Ce.elements!==void 0){M=Ce.elements;for(var Nt=0;Nt<M.length-1;Nt++)for(var bt=Nt+1;bt<M.length;bt++)if(M[Nt].key===M[bt].key&&M[Nt].placement===M[bt].placement)throw new TypeError("Duplicated element ("+M[Nt].key+")")}}return{elements:M,finishers:U}},fromElementDescriptor:function(M){var j={kind:M.kind,key:M.key,placement:M.placement,descriptor:M.descriptor};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),M.kind==="field"&&(j.initializer=M.initializer),j},toElementDescriptors:function(M){if(M!==void 0)return(j=M,function(U){if(Array.isArray(U))return U}(j)||di(j)||Cn(j)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(U){var se=this.toElementDescriptor(U);return this.disallowProperty(U,"finisher","An element descriptor"),this.disallowProperty(U,"extras","An element descriptor"),se},this);var j},toElementDescriptor:function(M){var j=M.kind+"";if(j!=="method"&&j!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+j+'"');var U=bn(M.key),se=M.placement+"";if(se!=="static"&&se!=="prototype"&&se!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+se+'"');var me=M.descriptor;this.disallowProperty(M,"elements","An element descriptor");var Ce={kind:j,key:U,placement:se,descriptor:Object.assign({},me)};return j!=="field"?this.disallowProperty(M,"initializer","A method descriptor"):(this.disallowProperty(me,"get","The property descriptor of a field descriptor"),this.disallowProperty(me,"set","The property descriptor of a field descriptor"),this.disallowProperty(me,"value","The property descriptor of a field descriptor"),Ce.initializer=M.initializer),Ce},toElementFinisherExtras:function(M){return{element:this.toElementDescriptor(M),finisher:In(M,"finisher"),extras:this.toElementDescriptors(M.extras)}},fromClassDescriptor:function(M){var j={kind:"class",elements:M.map(this.fromElementDescriptor,this)};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),j},toClassDescriptor:function(M){var j=M.kind+"";if(j!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+j+'"');this.disallowProperty(M,"key","A class descriptor"),this.disallowProperty(M,"placement","A class descriptor"),this.disallowProperty(M,"descriptor","A class descriptor"),this.disallowProperty(M,"initializer","A class descriptor"),this.disallowProperty(M,"extras","A class descriptor");var U=In(M,"finisher");return{elements:this.toElementDescriptors(M.elements),finisher:U}},runClassFinishers:function(M,j){for(var U=0;U<j.length;U++){var se=(0,j[U])(M);if(se!==void 0){if(typeof se!="function")throw new TypeError("Finishers must return a constructor.");M=se}}return M},disallowProperty:function(M,j,U){if(M[j]!==void 0)throw new TypeError(U+" can't have a ."+j+" property.")}};return R}function hr(R){var M,j=bn(R.key);R.kind==="method"?M={value:R.value,writable:!0,configurable:!0,enumerable:!1}:R.kind==="get"?M={get:R.value,configurable:!0,enumerable:!1}:R.kind==="set"?M={set:R.value,configurable:!0,enumerable:!1}:R.kind==="field"&&(M={configurable:!0,writable:!0,enumerable:!0});var U={kind:R.kind==="field"?"field":"method",key:j,placement:R.static?"static":R.kind==="field"?"own":"prototype",descriptor:M};return R.decorators&&(U.decorators=R.decorators),R.kind==="field"&&(U.initializer=R.value),U}function or(R,M){R.descriptor.get!==void 0?M.descriptor.get=R.descriptor.get:M.descriptor.set=R.descriptor.set}function Vr(R){return R.decorators&&R.decorators.length}function ue(R){return R!==void 0&&!(R.value===void 0&&R.writable===void 0)}function In(R,M){var j=R[M];if(j!==void 0&&typeof j!="function")throw new TypeError("Expected '"+M+"' to be a function");return j}function bn(R){var M=function(j,U){if($r(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if($r(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return $r(M)=="symbol"?M:M+""}function Cn(R,M){if(R){if(typeof R=="string")return wn(R,M);var j={}.toString.call(R).slice(8,-1);return j==="Object"&&R.constructor&&(j=R.constructor.name),j==="Map"||j==="Set"?Array.from(R):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?wn(R,M):void 0}}function wn(R,M){(M==null||M>R.length)&&(M=R.length);for(var j=0,U=Array(M);j<M;j++)U[j]=R[j];return U}function di(R){if(typeof Symbol<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)}function Si(R,M,j,U){var se=vi(rr(1&U?R.prototype:R),M,j);return 2&U&&typeof se=="function"?function(me){return se.apply(j,me)}:se}function vi(){return vi=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(R,M,j){var U=function(me,Ce){for(;!{}.hasOwnProperty.call(me,Ce)&&(me=rr(me))!==null;);return me}(R,M);if(U){var se=Object.getOwnPropertyDescriptor(U,M);return se.get?se.get.call(arguments.length<3?R:j):se.value}},vi.apply(null,arguments)}function rr(R){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},rr(R)}var ar=fi([(0,ae.EM)("br-mode-2up")],function(R,M){var j,U,se=function(me){function Ce(Nt,bt){var Yt;return be(this,Ce),Yt=_e(this,Ce),R(Yt),Yt.book=Nt,Yt.br=bt,Yt}return zt(Ce,me),B(Ce)}(M);return{F:se,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,ae.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",key:"coordSpace",value:function(){return new ii(this)}},{kind:"field",decorators:[(0,ae.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",key:"initialScale",value:function(){return 1}},{kind:"field",decorators:[(0,ae.MZ)({type:String})],key:"autoFit",value:function(){return"auto"}},{kind:"field",key:"flipSpeed",value:function(){return 400}},{kind:"field",decorators:[(0,ae.P)(".br-mode-2up__leafs--flipping")],key:"$flippingEdges",value:void 0},{kind:"field",decorators:[(0,ae.MZ)({type:Array,hasChanged:o.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"get",key:"pageLeft",value:function(){return this.visiblePages.find(function(me){return me.pageSide=="L"})}},{kind:"get",key:"pageRight",value:function(){return this.visiblePages.find(function(me){return me.pageSide=="R"})}},{kind:"field",decorators:[(0,ae.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",key:"activeFlip",value:function(){return null}},{kind:"field",key:"_leftCoverWidth",value:function(){return 0}},{kind:"get",key:"$container",value:function(){return this}},{kind:"get",key:"$visibleWorld",value:function(){return this.$book}},{kind:"field",decorators:[(0,ae.P)(".br-mode-2up__book")],key:"$book",value:void 0},{kind:"get",key:"positions",value:function(){return this.computePositions(this.pageLeft,this.pageRight)}},{kind:"method",key:"computePageHeight",value:function(me){return this.book.getMedianPageSizeInches().height}},{kind:"method",key:"computePageWidth",value:function(me){return me.widthInches*this.computePageHeight(me)/me.heightInches}},{kind:"method",key:"computePositions",value:function(me,Ce){var Nt,bt,Yt,li,$i=this.computePageWidth.bind(this),Ri=this.book.getNumLeafs(),Oi=this.activeFlip?Math.ceil(this.activeFlip.pagesFlippingCount/2)*this.PAGE_THICKNESS_IN:0,lr=this.book.pageProgression=="lr"?(Nt=me==null?void 0:me.index)!==null&&Nt!==void 0?Nt:0:me?Ri-me.index:0,Wi=this._leftCoverWidth+lr*this.PAGE_THICKNESS_IN,ji=Wi,Xi=$i(me||Ce.right),er=Wi-Xi,Zi=er,gr=((bt=this.activeFlip)===null||bt===void 0?void 0:bt.direction)!="left"?0:Oi,Rr=Math.ceil(lr/2)*this.PAGE_THICKNESS_IN-gr,Ii=gr+Rr,cr=Zi-gr,Kr=cr-Rr,mr=Wi,Br=Ce?$i(Ce):0,Mr=mr+Br,fn=this.book.pageProgression=="lr"?Ce?Ri-Ce.index:0:(Yt=Ce==null?void 0:Ce.index)!==null&&Yt!==void 0?Yt:0,Nr=Mr,Ir=((li=this.activeFlip)===null||li===void 0?void 0:li.direction)!="right"?0:Oi,Xr=Nr+Ir,ge=Math.ceil(fn/2)*this.PAGE_THICKNESS_IN-Ir,pe=Nr+ge+Ir;return{leafEdgesLeftStart:Kr,leafEdgesLeftMainWidth:Rr,leafEdgesLeftMovingStart:cr,leafEdgesLeftMovingWidth:gr,leafEdgesLeftEnd:Zi,leafEdgesLeftFullWidth:Ii,pageLeftStart:er,pageLeftWidth:Xi,pageLeftEnd:ji,gutter:Wi,pageRightStart:mr,pageRightWidth:Br,pageRightEnd:Mr,leafEdgesRightStart:Nr,leafEdgesRightMovingWidth:Ir,leafEdgesRightMainStart:Xr,leafEdgesRightMainWidth:ge,leafEdgesRightEnd:pe,leafEdgesRightFullWidth:Ir+ge,spreadWidth:Mr-er,bookWidth:pe-Kr}}},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new _t(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new Ve(this)}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"field",key:"PAGE_THICKNESS_IN",value:function(){return .002}},{kind:"method",key:"jumpToIndex",value:(U=ve(Yr().mark(function me(Ce){var Nt,bt,Yt=arguments;return Yr().wrap(function(li){for(;;)switch(li.prev=li.next){case 0:return Nt=(Yt.length>1&&Yt[1]!==void 0?Yt[1]:{}).smooth,bt=Nt===void 0||Nt,li.next=3,this.flipAnimation(Ce,{animate:bt});case 3:case"end":return li.stop()}},me,this)})),function(me){return U.apply(this,arguments)})},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(me){Si(se,"firstUpdated",this,3)([me]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"connectedCallback",value:function(){Si(se,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.smoothZoomer.detach(),Si(se,"disconnectedCallback",this,3)([])}},{kind:"method",key:"updated",value:function(me){if(me.has("book")&&(this._leftCoverWidth=this.computePageWidth(this.book.getPage(this.book.pageProgression=="lr"?0:-1))),me.has("visiblePages")&&(this.renderedPages=this.computeRenderedPages(),this.br.displayedIndices=this.visiblePages.map(function(Nt){return Nt.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled()),me.has("autoFit")&&this.autoFit!="none"&&this.resizeViaAutofit(),me.has("scale")){var Ce=me.get("scale");this.recenter(),this.smoothZoomer.updateViewportOnZoom(this.scale,Ce)}}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var me=this;return(0,de.qy)(ir||(ir=jr([`
      <div class="br-mode-2up__book" @mouseup=`,`>
        `,`
        `,`
        `,`
      </div>`])),this.handlePageClick,this.renderLeafEdges("left"),this.renderedPages.map(function(Ce){return me.renderPage(Ce)}),this.renderLeafEdges("right"))}},{kind:"field",key:"createPageContainer",value:function(){var me=this;return function(Ce){return me.pageContainerCache[Ce.index]||(me.pageContainerCache[Ce.index]=me.br._createPageContainer(Ce.index))}}},{kind:"method",key:"initFirstRender",value:function(me){var Ce=this.book.getPage(me),Nt=Ce.spread;this.visiblePages=(this.book.pageProgression=="lr"?[Nt.left,Nt.right]:[Nt.right,Nt.left]).filter(function(bt){return bt}),this.htmlDimensionsCacher.updateClientSizes(),this.resizeViaAutofit(Ce),this.initialScale=this.scale}},{kind:"field",key:"renderPage",value:function(){var me=this;return function(Ce){var Nt=me.coordSpace.worldUnitsToRenderedPixels,bt=me.coordSpace.worldUnitsToVisiblePixels,Yt=Nt(me.computePageWidth(Ce)),li=Nt(me.computePageHeight(Ce)),$i=me.visiblePages.map(function(lr){return lr.index}).includes(Ce.index),Ri=me.computePositions(Ce.spread.left,Ce.spread.right),Oi=me.createPageContainer(Ce).update({dimensions:{width:Yt,height:li,top:0,left:Nt(Ce.pageSide=="L"?Ri.pageLeftStart:Ri.pageLeftEnd)},reduce:Ce.width/bt(me.computePageWidth(Ce))}).$container[0];return Oi.classList.toggle("BRpage-visible",$i),Oi}}},{kind:"field",key:"renderLeafEdges",value:function(){var me=this;return function(Ce){var Nt;if(!me.visiblePages.length)return(0,de.qy)(Ki||(Ki=jr([""])));if(!(Ce=="left"?me.positions.leafEdgesLeftFullWidth:me.positions.leafEdgesRightFullWidth))return(0,de.qy)(Gi||(Gi=jr([""])));var bt=me.coordSpace.worldUnitsToRenderedPixels,Yt=bt(me.computePageHeight(me.visiblePages[0])),li=((Nt=me.activeFlip)===null||Nt===void 0?void 0:Nt.direction)==Ce,$i=me.book.getPage(me.book.pageProgression=="lr"?0:me.book.getNumLeafs()-1),Ri=me.book.getPage(me.book.pageProgression=="lr"?me.book.getNumLeafs()-1:0),Oi=li?me.activeFlip.pagesFlippingCount:0,lr=Ce=="left"?[$i.index,me.pageLeft.goLeft(Oi).index]:[me.pageRight.goRight(Oi).index,Ri.index],Wi={width:"".concat(bt(Ce=="left"?me.positions.leafEdgesLeftMainWidth:me.positions.leafEdgesRightMainWidth),"px"),height:"".concat(Yt,"px"),left:"".concat(bt(Ce=="left"?me.positions.leafEdgesLeftStart:me.positions.leafEdgesRightMainStart),"px")},ji=(0,de.qy)(Sr||(Sr=jr([`
      <br-leaf-edges
        leftIndex=`,`
        rightIndex=`,`
        .book=`,`
        .pageClickHandler=`,`
        side=`,`
        class="br-mode-2up__leafs br-mode-2up__leafs--`,`"
        style=`,`
      ></br-leaf-edges>
    `])),lr[0],lr[1],me.book,function(gr){return me.br.jumpToIndex(gr)},Ce,Ce,(0,Z.W)(Wi));if(li){var Xi=bt(Ce=="left"?me.positions.leafEdgesLeftMovingWidth:me.positions.leafEdgesRightMovingWidth),er={width:"".concat(Xi,"px"),height:"".concat(Yt,"px"),left:"".concat(bt(Ce=="left"?me.positions.leafEdgesLeftMovingStart:me.positions.leafEdgesRightStart),"px"),pointerEvents:"none",transformOrigin:"".concat(bt(Ce=="left"?me.positions.pageLeftWidth:-me.positions.pageRightWidth)+Xi/2,"px 0")},Zi=(0,de.qy)(tr||(tr=jr([`
        <br-leaf-edges
          leftIndex=`,`
          rightIndex=`,`
          .book=`,`
          side=`,`
          class="br-mode-2up__leafs br-mode-2up__leafs--`,` br-mode-2up__leafs--flipping"
          style=`,`
        ></br-leaf-edges>
      `])),me.activeFlip.pagesFlipping[0],me.activeFlip.pagesFlipping[1],me.book,Ce,Ce,(0,Z.W)(er));return Ce=="left"?(0,de.qy)(yr||(yr=jr(["","",""])),ji,Zi):(0,de.qy)(_r||(_r=jr(["","",""])),Zi,ji)}return ji}}},{kind:"method",key:"resizeViaAutofit",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0];this.scale=this.computeScale(me,this.autoFit)}},{kind:"method",key:"recenter",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0],Ce=this.computeTranslate(me,this.scale);this.$book.style.transform="translateX(".concat(Ce.x,"px) translateY(").concat(Ce.y,"px) scale(").concat(this.scale,")")}},{kind:"method",key:"computeRenderedPages",value:function(){var me,Ce,Nt,bt,Yt;return[(me=this.visiblePages[0])===null||me===void 0||(me=me.prev)===null||me===void 0?void 0:me.prev,(Ce=this.visiblePages[0])===null||Ce===void 0?void 0:Ce.prev].concat((Yt=this.visiblePages,function(li){if(Array.isArray(li))return wn(li)}(Yt)||di(Yt)||Cn(Yt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),[(Nt=this.visiblePages[this.visiblePages.length-1])===null||Nt===void 0?void 0:Nt.next,(bt=this.visiblePages[this.visiblePages.length-1])===null||bt===void 0||(bt=bt.next)===null||bt===void 0?void 0:bt.next]).filter(function(li){return li}).slice(0,10)}},{kind:"method",key:"computeScale",value:function(me,Ce){if(!me)return 1;var Nt=me.spread,bt=this.computePositions(Nt.left,Nt.right).bookWidth,Yt=this.computePageHeight(Nt.left||Nt.right),li=this.scale;this.scale=1;var $i=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientWidth-20)/bt,Ri=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientHeight-20)/Yt;this.scale=li;var Oi=1;if(Ce=="width")Oi=$i;else if(Ce=="height")Oi=Ri;else if(Ce=="auto")Oi=Math.min($i,Ri);else{if(Ce!="none")throw new Error("Invalid autoFit value: ".concat(Ce));Oi=this.scale}return Oi}},{kind:"method",key:"computeTranslate",value:function(me){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;if(!me)return{x:0,y:0};var Nt=me.spread,bt=this.computePositions(Nt.left,Nt.right),Yt=bt.bookWidth,li=this.computePageHeight(Nt.left||Nt.right),$i=this.coordSpace.worldUnitsToRenderedPixels(Yt)*Ce,Ri=this.coordSpace.worldUnitsToRenderedPixels(li)*Ce,Oi=this.coordSpace.worldUnitsToRenderedPixels(-bt.leafEdgesLeftStart)*Ce,lr=(this.htmlDimensionsCacher.clientWidth-$i)/2+Oi,Wi=(this.htmlDimensionsCacher.clientHeight-Ri)/2;return{x:Math.max(Oi,lr),y:Math.max(0,Wi)}}},{kind:"method",key:"flipAnimation",value:(j=ve(Yr().mark(function me(Ce){var Nt,bt,Yt,li,$i,Ri,Oi,lr,Wi,ji,Xi,er,Zi,gr,Rr,Ii,cr,Kr,mr,Br,Mr,fn,Nr,Ir,Xr,ge,pe,Te,Wt,wt,si,xi,Ui=this,Di=arguments;return Yr().wrap(function(Qi){for(;;)switch(Qi.prev=Qi.next){case 0:if(Oi=(Ri=Di.length>1&&Di[1]!==void 0?Di[1]:{}).animate,lr=Oi===void 0||Oi,Wi=Ri.flipSpeed,ji=Wi===void 0?this.flipSpeed:Wi,Xi=(Nt=this.pageLeft||this.pageRight)===null||Nt===void 0?void 0:Nt.spread){Qi.next=4;break}return Qi.abrupt("return");case 4:if(ji=ji||this.flipSpeed,Ce=this.parseNextSpread(Ce),!this.activeFlip&&Ce){Qi.next=8;break}return Qi.abrupt("return");case 8:if(er=this.book.pageProgression,Zi=(bt=(Yt=Xi.left)===null||Yt===void 0?void 0:Yt.index)!==null&&bt!==void 0?bt:er=="lr"?-1:this.book.getNumLeafs(),gr=(li=($i=Ce.left)===null||$i===void 0?void 0:$i.index)!==null&&li!==void 0?li:er=="lr"?-1:this.book.getNumLeafs(),Zi!=gr){Qi.next=13;break}return Qi.abrupt("return");case 13:Rr=this.renderedPages.map(function(fr){return fr.index}),Ii=[],cr=0,Kr=[Ce.left,Ce.right];case 16:if(!(cr<Kr.length)){Qi.next=25;break}if(mr=Kr[cr]){Qi.next=20;break}return Qi.abrupt("continue",22);case 20:Ii.push(this.createPageContainer(mr)),Rr.includes(mr.index)||this.renderedPages.push(mr);case 22:cr++,Qi.next=16;break;case 25:if(Br=this.computeTranslate(Xi.left||Xi.right,this.scale),Mr=this.computeTranslate(Ce.left||Ce.right,this.scale),fn=Math.sqrt(Math.pow(Mr.x-Br.x,2)+Math.pow(Mr.y-Br.y,2)),Nr="translate(".concat(Mr.x,"px, ").concat(Mr.y,"px)"),fn<50&&(Xr=(Ir=this.$book.style.transform.match(/translate\([^)]+\)/))===null||Ir===void 0?void 0:Ir[0])&&(Nr=Xr),ge="".concat(Nr," scale(").concat(this.scale,")"),!lr||!("animate"in Element.prototype)){Qi.next=58;break}return pe=er=="lr"?gr>Zi?"right":"left":gr>Zi?"left":"right",this.activeFlip={direction:pe,pagesFlipping:[Zi,gr],pagesFlippingCount:Math.abs(gr-Zi)},this.classList.add("br-mode-2up--flipping-".concat(pe)),this.classList.add("BRpageFlipping"),this.requestUpdate(),Qi.next=39,this.updateComplete;case 39:return this.visiblePages.map(function(fr){return Ui.pageContainerCache[fr.index].$container}).forEach(function(fr){return fr.addClass("BRpage-exiting")}),Ii.forEach(function(fr){return fr.$container.addClass("BRpage-entering")}),Te={duration:ji+this.activeFlip.pagesFlippingCount,easing:"ease-in",fill:"none"},Wt=this.$book.animate([{transform:ge}],Te),wt=this.$flippingEdges.animate([{transform:"rotateY(0deg)"},{transform:pe=="left"?"rotateY(-180deg)":"rotateY(180deg)"}],Te),si=pe=="left"?this.querySelector(".BRpage-exiting[data-side=L]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(180deg)"}],Te):this.querySelector(".BRpage-exiting[data-side=R]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(-180deg)"}],Te),xi=pe=="left"?this.querySelector(".BRpage-entering[data-side=R]").animate([{transform:"rotateY(-180deg)"},{transform:"rotateY(0deg)"}],Te):this.querySelector(".BRpage-entering[data-side=L]").animate([{transform:"rotateY(180deg)"},{transform:"rotateY(0deg)"}],Te),Wt.play(),wt.play(),si.play(),xi.play(),Ii.forEach(function(fr){return fr.$container.addClass("BRpage-visible")}),Qi.next=53,Promise.race([(0,o.promisifyEvent)(Wt,"finish"),(0,o.promisifyEvent)(wt,"finish"),(0,o.promisifyEvent)(si,"finish"),(0,o.promisifyEvent)(xi,"finish")]);case 53:this.classList.remove("br-mode-2up--flipping-".concat(pe)),this.classList.remove("BRpageFlipping"),this.visiblePages.map(function(fr){return Ui.pageContainerCache[fr.index].$container}).forEach(function(fr){return fr.removeClass("BRpage-exiting BRpage-visible")}),Ii.forEach(function(fr){return fr.$container.removeClass("BRpage-entering")}),this.activeFlip=null;case 58:this.$book.style.transform=ge,this.visiblePages=(er=="lr"?[Ce.left,Ce.right]:[Ce.right,Ce.left]).filter(function(fr){return fr});case 60:case"end":return Qi.stop()}},me,this)})),function(me){return j.apply(this,arguments)})},{kind:"method",key:"parseNextSpread",value:function(me){me=="next"?me=this.book.pageProgression=="lr"?"right":"left":me=="prev"&&(me=this.book.pageProgression=="lr"?"left":"right");var Ce,Nt=(this.pageLeft||this.pageRight).spread;if(me=="left")me=(Ce=Nt.left)===null||Ce===void 0||(Ce=Ce.findLeft({combineConsecutiveUnviewables:!0}))===null||Ce===void 0?void 0:Ce.spread;else if(me=="right"){var bt;me=(bt=Nt.right)===null||bt===void 0||(bt=bt.findRight({combineConsecutiveUnviewables:!0}))===null||bt===void 0?void 0:bt.spread}return typeof me=="number"&&(me=this.book.getPage(me).spread),me instanceof W&&(me=me.spread),me}},{kind:"field",key:"handlePageClick",value:function(){var me=this;return function(Ce){if(Ce.which==3&&me.br.protected)return!1;if(Ce.which==1){var Nt=cn(Ce.target).closest(".BRpagecontainer");Nt.length&&(Nt.data("side")=="L"?me.flipAnimation("left"):Nt.data("side")=="R"&&me.flipAnimation("right"))}}}}]}},de.WF),En=(fi([(0,ae.EM)("br-leaf-edges")],function(R,M){var j=function(U){function se(){var me;be(this,se);for(var Ce=arguments.length,Nt=new Array(Ce),bt=0;bt<Ce;bt++)Nt[bt]=arguments[bt];return me=_e(this,se,[].concat(Nt)),R(me),me}return zt(se,U),B(se)}(M);return{F:j,d:[{kind:"field",decorators:[(0,ae.MZ)({type:Number})],key:"leftIndex",value:function(){return 0}},{kind:"field",decorators:[(0,ae.MZ)({type:Number})],key:"rightIndex",value:function(){return 0}},{kind:"field",decorators:[(0,ae.MZ)({type:String})],key:"side",value:function(){return"left"}},{kind:"field",decorators:[(0,ae.MZ)({attribute:!1})],key:"book",value:function(){return null}},{kind:"field",decorators:[(0,ae.MZ)({attribute:!1,type:Function})],key:"pageClickHandler",value:function(){return null}},{kind:"field",decorators:[(0,ae.P)(".br-leaf-edges__bar")],key:"$hoverBar",value:void 0},{kind:"field",decorators:[(0,ae.P)(".br-leaf-edges__label")],key:"$hoverLabel",value:void 0},{kind:"get",key:"pageWidthPercent",value:function(){return 100/(this.rightIndex-this.leftIndex+1)}},{kind:"method",key:"render",value:function(){return(0,de.qy)(Pr||(Pr=jr([`
      <div
        class="br-leaf-edges__bar"
        style="`,`"
      ></div>
      <div class="br-leaf-edges__label">Page</div>`])),(0,Z.W)({width:"".concat(this.pageWidthPercent,"%")}))}},{kind:"method",key:"connectedCallback",value:function(){Si(j,"connectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.addEventListener("click",this.onClick)}},{kind:"method",key:"disconnectedCallback",value:function(){Si(j,"disconnectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.removeEventListener("mousemove",this.onMouseMove),this.removeEventListener("mouseleave",this.onMouseLeave)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"field",key:"onMouseEnter",value:function(){var U=this;return function(se){U.addEventListener("mousemove",U.onMouseMove),U.$hoverBar.style.display="block",U.$hoverLabel.style.display="block"}}},{kind:"field",key:"onMouseMove",value:function(){var U=this;return function(se){U.$hoverBar.style.left="".concat(se.offsetX,"px"),U.side=="right"?U.$hoverLabel.style.left="".concat(se.offsetX,"px"):U.$hoverLabel.style.right="".concat(U.offsetWidth-se.offsetX,"px"),U.$hoverLabel.style.top="".concat(se.offsetY,"px");var me=U.mouseEventToPageIndex(se);U.$hoverLabel.textContent=U.book.getPageName(me)}}},{kind:"field",key:"onMouseLeave",value:function(){var U=this;return function(se){U.removeEventListener("mousemove",U.onMouseMove),U.$hoverBar.style.display="none",U.$hoverLabel.style.display="none"}}},{kind:"field",key:"onClick",value:function(){var U=this;return function(se){U.pageClickHandler(U.mouseEventToPageIndex(se))}}},{kind:"method",key:"mouseEventToPageIndex",value:function(U){return Math.floor(this.leftIndex+U.offsetX/this.offsetWidth*(this.rightIndex-this.leftIndex+1))}}]}},de.WF),a(1669));function vn(R){return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},vn(R)}function bo(){bo=function(){return M};var R,M={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,pe,Te){ge[pe]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Nt=me.asyncIterator||"@@asyncIterator",bt=me.toStringTag||"@@toStringTag";function Yt(ge,pe,Te){return Object.defineProperty(ge,pe,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[pe]}try{Yt({},"")}catch(ge){Yt=function(pe,Te,Wt){return pe[Te]=Wt}}function li(ge,pe,Te,Wt){var wt=pe&&pe.prototype instanceof Xi?pe:Xi,si=Object.create(wt.prototype),xi=new Ir(Wt||[]);return se(si,"_invoke",{value:Br(ge,Te,xi)}),si}function $i(ge,pe,Te){try{return{type:"normal",arg:ge.call(pe,Te)}}catch(Wt){return{type:"throw",arg:Wt}}}M.wrap=li;var Ri="suspendedStart",Oi="suspendedYield",lr="executing",Wi="completed",ji={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ce,function(){return this});var Rr=Object.getPrototypeOf,Ii=Rr&&Rr(Rr(Xr([])));Ii&&Ii!==j&&U.call(Ii,Ce)&&(gr=Ii);var cr=Zi.prototype=Xi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(pe){Yt(ge,pe,function(Te){return this._invoke(pe,Te)})})}function mr(ge,pe){function Te(wt,si,xi,Ui){var Di=$i(ge[wt],ge,si);if(Di.type!=="throw"){var Qi=Di.arg,fr=Qi.value;return fr&&vn(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Te("next",wr,xi,Ui)},function(wr){Te("throw",wr,xi,Ui)}):pe.resolve(fr).then(function(wr){Qi.value=wr,xi(Qi)},function(wr){return Te("throw",wr,xi,Ui)})}Ui(Di.arg)}var Wt;se(this,"_invoke",{value:function(wt,si){function xi(){return new pe(function(Ui,Di){Te(wt,si,Ui,Di)})}return Wt=Wt?Wt.then(xi,xi):xi()}})}function Br(ge,pe,Te){var Wt=Ri;return function(wt,si){if(Wt===lr)throw Error("Generator is already running");if(Wt===Wi){if(wt==="throw")throw si;return{value:R,done:!0}}for(Te.method=wt,Te.arg=si;;){var xi=Te.delegate;if(xi){var Ui=Mr(xi,Te);if(Ui){if(Ui===ji)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Wt===Ri)throw Wt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Wt=lr;var Di=$i(ge,pe,Te);if(Di.type==="normal"){if(Wt=Te.done?Wi:Oi,Di.arg===ji)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Wt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Mr(ge,pe){var Te=pe.method,Wt=ge.iterator[Te];if(Wt===R)return pe.delegate=null,Te==="throw"&&ge.iterator.return&&(pe.method="return",pe.arg=R,Mr(ge,pe),pe.method==="throw")||Te!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),ji;var wt=$i(Wt,ge.iterator,pe.arg);if(wt.type==="throw")return pe.method="throw",pe.arg=wt.arg,pe.delegate=null,ji;var si=wt.arg;return si?si.done?(pe[ge.resultName]=si.value,pe.next=ge.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,ji):si:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,ji)}function fn(ge){var pe={tryLoc:ge[0]};1 in ge&&(pe.catchLoc=ge[1]),2 in ge&&(pe.finallyLoc=ge[2],pe.afterLoc=ge[3]),this.tryEntries.push(pe)}function Nr(ge){var pe=ge.completion||{};pe.type="normal",delete pe.arg,ge.completion=pe}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(fn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var pe=ge[Ce];if(pe)return pe.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Wt=function wt(){for(;++Te<ge.length;)if(U.call(ge,Te))return wt.value=ge[Te],wt.done=!1,wt;return wt.value=R,wt.done=!0,wt};return Wt.next=Wt}}throw new TypeError(vn(ge)+" is not iterable")}return er.prototype=Zi,se(cr,"constructor",{value:Zi,configurable:!0}),se(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,bt,"GeneratorFunction"),M.isGeneratorFunction=function(ge){var pe=typeof ge=="function"&&ge.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},M.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Zi):(ge.__proto__=Zi,Yt(ge,bt,"GeneratorFunction")),ge.prototype=Object.create(cr),ge},M.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),M.AsyncIterator=mr,M.async=function(ge,pe,Te,Wt,wt){wt===void 0&&(wt=Promise);var si=new mr(li(ge,pe,Te,Wt),wt);return M.isGeneratorFunction(pe)?si:si.next().then(function(xi){return xi.done?xi.value:si.next()})},Kr(cr),Yt(cr,bt,"Generator"),Yt(cr,Ce,function(){return this}),Yt(cr,"toString",function(){return"[object Generator]"}),M.keys=function(ge){var pe=Object(ge),Te=[];for(var Wt in pe)Te.push(Wt);return Te.reverse(),function wt(){for(;Te.length;){var si=Te.pop();if(si in pe)return wt.value=si,wt.done=!1,wt}return wt.done=!0,wt}},M.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(Nr),!ge)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var pe=this;function Te(Di,Qi){return si.type="throw",si.arg=ge,pe.next=Di,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var wt=this.tryEntries[Wt],si=wt.completion;if(wt.tryLoc==="root")return Te("end");if(wt.tryLoc<=this.prev){var xi=U.call(wt,"catchLoc"),Ui=U.call(wt,"finallyLoc");if(xi&&Ui){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0);if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}else if(xi){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}}}},abrupt:function(ge,pe){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Wt=this.tryEntries[Te];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var wt=Wt;break}}wt&&(ge==="break"||ge==="continue")&&wt.tryLoc<=pe&&pe<=wt.finallyLoc&&(wt=null);var si=wt?wt.completion:{};return si.type=ge,si.arg=pe,wt?(this.method="next",this.next=wt.finallyLoc,ji):this.complete(si)},complete:function(ge,pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&pe&&(this.next=pe),ji},finish:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),ji}},catch:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.tryLoc===ge){var Wt=Te.completion;if(Wt.type==="throw"){var wt=Wt.arg;Nr(Te)}return wt}}throw Error("illegal catch attempt")},delegateYield:function(ge,pe,Te){return this.delegate={iterator:Xr(ge),resultName:pe,nextLoc:Te},this.method==="next"&&(this.arg=R),ji}},M}function ho(R,M,j,U,se,me,Ce){try{var Nt=R[me](Ce),bt=Nt.value}catch(Yt){return void j(Yt)}Nt.done?M(bt):Promise.resolve(bt).then(U,se)}function is(R){return function(){var M=this,j=arguments;return new Promise(function(U,se){var me=R.apply(M,j);function Ce(bt){ho(me,U,se,Ce,Nt,"next",bt)}function Nt(bt){ho(me,U,se,Ce,Nt,"throw",bt)}Ce(void 0)})}}function pa(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,Eo(U.key),U)}}function Eo(R){var M=function(j,U){if(vn(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(vn(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return vn(M)=="symbol"?M:M+""}var Rn=function(){return function(R,M,j){return M&&pa(R.prototype,M),Object.defineProperty(R,"prototype",{writable:!1}),R}(function R(M,j){(function(U,se){if(!(U instanceof se))throw new TypeError("Cannot call a class as a function")})(this,R),function(U,se,me){(se=Eo(se))in U?Object.defineProperty(U,se,{value:"2up",enumerable:!0,configurable:!0,writable:!0}):U[se]="2up"}(this,"name"),this.br=M,this.book=j,this.mode2UpLit=new ar(j,M),this.mode2UpLit.flipSpeed=M.flipSpeed,this.$el=En(this.mode2UpLit).attr("autoFit",this.br.options.twoPage.autofit).addClass("br-mode-2up__root BRmode2up"),this.everShown=!1},[{key:"prepare",value:function(){var R=this,M=this.br.currentIndex();this.br.refs.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),this.mode2UpLit.style.opacity="0",setTimeout(is(bo().mark(function j(){return bo().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(R.everShown){U.next=9;break}return R.mode2UpLit.initFirstRender(M),R.everShown=!0,R.mode2UpLit.requestUpdate(),U.next=6,R.mode2UpLit.updateComplete;case 6:new Xe(R.mode2UpLit,{preventDefault:!0,dragSelector:".br-mode-2up__book",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"}),U.next=12;break;case 9:return U.next=11,R.mode2UpLit.jumpToIndex(M,{smooth:!1});case 11:R.resizePageView();case 12:R.mode2UpLit.style.opacity="1";case 13:case"end":return U.stop()}},j)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(R,M,j,U){this.mode2UpLit.jumpToIndex(R)}},{key:"zoom",value:function(R){switch(R){case"in":this.mode2UpLit.zoomIn();break;case"out":this.mode2UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(R))}}},{key:"resizePageView",value:function(){this.mode2UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode2UpLit.scale<this.mode2UpLit.initialScale&&this.mode2UpLit.autoFit=="none"&&(this.mode2UpLit.autoFit="auto"),this.mode2UpLit.autoFit!="none"&&this.mode2UpLit.resizeViaAutofit(),this.mode2UpLit.recenter()}}])}(),en=a(1669);function po(R){return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},po(R)}function To(R,M){var j=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!j){if(Array.isArray(R)||(j=function(bt,Yt){if(bt){if(typeof bt=="string")return fa(bt,Yt);var li={}.toString.call(bt).slice(8,-1);return li==="Object"&&bt.constructor&&(li=bt.constructor.name),li==="Map"||li==="Set"?Array.from(bt):li==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(li)?fa(bt,Yt):void 0}}(R))||M&&R&&typeof R.length=="number"){j&&(R=j);var U=0,se=function(){};return{s:se,n:function(){return U>=R.length?{done:!0}:{done:!1,value:R[U++]}},e:function(bt){throw bt},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me,Ce=!0,Nt=!1;return{s:function(){j=j.call(R)},n:function(){var bt=j.next();return Ce=bt.done,bt},e:function(bt){Nt=!0,me=bt},f:function(){try{Ce||j.return==null||j.return()}finally{if(Nt)throw me}}}}function fa(R,M){(M==null||M>R.length)&&(M=R.length);for(var j=0,U=Array(M);j<M;j++)U[j]=R[j];return U}function Zn(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,La(U.key),U)}}function La(R){var M=function(j,U){if(po(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(po(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return po(M)=="symbol"?M:M+""}var rs=function(){return function(R,M,j){return M&&Zn(R.prototype,M),Object.defineProperty(R,"prototype",{writable:!1}),R}(function R(M,j){(function(U,se){if(!(U instanceof se))throw new TypeError("Cannot call a class as a function")})(this,R),function(U,se,me){(se=La(se))in U?Object.defineProperty(U,se,{value:me,enumerable:!0,configurable:!0,writable:!0}):U[se]=me}(this,"name","thumb"),this.br=M,this.book=j},[{key:"drawLeafs",value:function(R){var M,j,U,se=this,me=Math.floor,Ce=this.book,Nt=this.br.refs.$brContainer.prop("scrollWidth")-20,bt=0,Yt=0,li=0,$i=0,Ri=0,Oi=[],lr=To(Ce.pagesIterator({combineConsecutiveUnviewables:!0}));try{for(lr.s();!(U=lr.n()).done;){var Wi=U.value,ji=this.br.thumbWidth;bt+(ji+this.br.thumbPadding)>Nt&&($i++,bt=0,Ri=0),Oi[$i]||(Oi[$i]={}),Oi[$i].leafs||(Oi[$i].leafs=[],Oi[$i].height=0,Oi[$i].top=0),Oi[$i].leafs[Ri]={num:Wi.index,left:bt},(M=me(Wi.height*this.br.thumbWidth/Wi.width))>Oi[$i].height&&(Oi[$i].height=M),Ri===0&&(Yt+=this.br.thumbPadding+Oi[$i].height),(bt+=ji+this.br.thumbPadding)>li&&(li=bt),Ri++,Wi.index==R&&(j=Yt-this.br.thumbPadding-Oi[$i].height)}}catch(dr){lr.e(dr)}finally{lr.f()}this.br.refs.$brPageViewEl.height(Yt);var Xi=me((this.br.refs.$brContainer.prop("scrollWidth")-li)/2)-14;j!==void 0&&this.br.refs.$brContainer.scrollTop(j);for(var er=this.br.refs.$brContainer.prop("scrollTop"),Zi=er+this.br.refs.$brContainer.height(),gr=0,Rr=0,Ii=[],cr=[],Kr=Ce.getNumLeafs()-1,mr=0,Br=0;Br<Oi.length;Br++)Oi[Br]&&(Rr+=this.br.thumbPadding+Oi[Br].height,(gr>=er&&gr<=Zi||Rr>=er&&Rr<=Zi||gr<=er&&Rr>=Zi)&&(Ii.push(Br),Oi[Br].leafs[0].num<Kr&&(Kr=Oi[Br].leafs[0].num),Oi[Br].leafs[Oi[Br].leafs.length-1].num>mr&&(mr=Oi[Br].leafs[Oi[Br].leafs.length-1].num)),gr>Oi[Br].top&&(Oi[Br].top=gr),gr=Rr);for(var Mr=Ii[0],fn=Ii[Ii.length-1],Nr=1;Nr<this.br.thumbRowBuffer+1;Nr++)fn+Nr<Oi.length&&Ii.push(fn+Nr);for(var Ir=1;Ir<this.br.thumbRowBuffer;Ir++)Mr-Ir>=0&&Ii.push(Mr-Ir);Ii.sort(function(dr,Tn){return dr-Tn});for(var Xr=0,ge=Ii;Xr<ge.length;Xr++){var pe=ge[Xr];if((0,o.notInArray)(pe,this.br.displayedRows)){if(!Oi[pe])continue;var Te,Wt=To(Oi[pe].leafs);try{var wt=function(){var dr=Te.value,Tn=dr.num,hn=dr.left,mn=se.br.thumbWidth,Ko=me(Ce.getPageHeight(Tn)*se.br.thumbWidth/Ce.getPageWidth(Tn)),wo=Oi[pe].top,Xo=hn+Xi;se.br.pageProgression=="rl"&&(Xo=Nt-mn-Xo),Xo+=se.br.thumbPadding,cr.push(Tn);var Ia=me(Ce.getPageWidth(Tn)/se.br.thumbWidth),Ra=2*Math.round(Ia/2),Fn=se.br._createPageContainer(Tn).update({dimensions:{width:mn,height:Ko,top:wo,left:Xo},reduce:Ra});Fn.$container.data("leaf",Tn).on("mouseup",function(Zo){se.br.updateFirstIndex(Tn,{suppressFragmentChange:!0}),se.br.switchMode(se.br.constMode1up,{suppressFragmentChange:!0});var Da=se.br.viewModeOrder.shift();se.br.viewModeOrder.push(Da),se.br._components.navbar.updateViewModeButton(en(".viewmode"),"twopg","Two-page view"),se.br.trigger(c.q.fragmentChange),Zo.stopPropagation()}),se.br.refs.$brPageViewEl.append(Fn.$container)};for(Wt.s();!(Te=Wt.n()).done;)wt()}catch(dr){Wt.e(dr)}finally{Wt.f()}}}var si,xi=To(this.br.displayedRows);try{for(xi.s();!(si=xi.n()).done;){var Ui=si.value;if((0,o.notInArray)(Ui,Ii)){var Di,Qi,fr=To((Di=Oi[Ui])===null||Di===void 0?void 0:Di.leafs);try{for(fr.s();!(Qi=fr.n()).done;){var wr,Po=Qi.value.num;cr!=null&&cr.includes(Po)||(wr=this.br.$(".pagediv".concat(Po)))===null||wr===void 0||wr.remove()}}catch(dr){fr.e(dr)}finally{fr.f()}}}}catch(dr){xi.e(dr)}finally{xi.f()}var Ma=this.br.currentIndex();Ma<Kr?this.br.updateFirstIndex(Kr):Ma>mr&&this.br.updateFirstIndex(mr),this.br.displayedRows=Ii.slice(),this.br.$(".BRpagedivthumb_highlight").removeClass("BRpagedivthumb_highlight"),this.br.$(".pagediv"+this.br.currentIndex()).addClass("BRpagedivthumb_highlight")}},{key:"lazyLoadImage",value:function(R){var M=en(R).data("leaf"),j=en(R).data("reduce"),U=this.br.imageCache.image(M,j),se=en(R).parent();en(se).append(U),en(R).remove()}},{key:"zoom",value:function(R){var M=this.br.thumbColumns;switch(R){case"in":this.br.thumbColumns-=1;break;case"out":this.br.thumbColumns+=1;break;default:console.error("Unsupported direction: ".concat(R))}this.br.thumbColumns=(0,o.clamp)(this.br.thumbColumns,this.br.options.thumbMinZoomColumns,this.br.options.thumbMaxZoomColumns),this.br.thumbColumns!=M&&(this.br.displayedRows=[],this.prepare())}},{key:"getThumbnailWidth",value:function(R){var M=(R+1)*this.br.thumbPadding,j=(this.br.refs.$brPageViewEl.width()-M)/(R+.5),U=Math.floor(j);return U>0?U:100}},{key:"prepare",value:function(){this.br.refs.$brContainer.empty(),this.br.refs.$brContainer.css({overflowY:"scroll",overflowX:"auto"}),this.br.refs.$brPageViewEl=en("<div class='BRpageview'></div>"),this.br.refs.$brContainer.append(this.br.refs.$brPageViewEl),this.dragScrollable=this.dragScrollable||new Xe(this.br.refs.$brContainer[0],{preventDefault:!0}),this.br.bindGestures(this.br.refs.$brContainer),this.br.thumbWidth=this.getThumbnailWidth(this.br.thumbColumns),this.br.reduce=this.book.getPageWidth(0)/this.br.thumbWidth,this.br.displayedRows=[],this.drawLeafs(this.br.currentIndex()),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(R){for(var M=this,j=Math.floor,U=this.book,se=this.br.refs.$brContainer.prop("scrollWidth")-20,me=this.br.thumbWidth,Ce=0,Nt=0,bt=0,Yt=0,li=0,$i=0;$i<=R;$i++){Nt+(me+this.br.thumbPadding)>se&&(Nt=0,Yt=0,li=0);var Ri=j(U.getPageHeight(li)*this.br.thumbWidth/U.getPageWidth(li));Ri>Yt&&(Yt=Ri),li==0&&(Ce=bt,bt+=this.br.thumbPadding+Yt),Nt+=me+this.br.thumbPadding,li++}this.br.updateFirstIndex(R),this.br.refs.$brContainer.prop("scrollTop")==Ce?this.br.drawLeafs():(this.br.animating=!0,this.br.refs.$brContainer.stop(!0).animate({scrollTop:Ce},"fast",function(){M.br.animating=!1}))}}])}(),Oa=(a(1367),{floor:Math.floor,decr:function(R){return R-1}}),lo={floor:function(R){return Math.pow(2,Math.floor(Math.log2(Math.max(1,R))))},decr:function(R){return Math.pow(2,Math.log2(R)-1)}},zo={pow2:lo,integer:Oa},Go=a(1669);function Yo(R){return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},Yo(R)}function fo(R){return function(M){if(Array.isArray(M))return xn(M)}(R)||function(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(R)||function(M,j){if(M){if(typeof M=="string")return xn(M,j);var U={}.toString.call(M).slice(8,-1);return U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set"?Array.from(M):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?xn(M,j):void 0}}(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xn(R,M){(M==null||M>R.length)&&(M=R.length);for(var j=0,U=Array(M);j<M;j++)U[j]=R[j];return U}function f(R,M){for(var j=0;j<M.length;j++){var U=M[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,b(U.key),U)}}function b(R){var M=function(j,U){if(Yo(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(Yo(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return Yo(M)=="symbol"?M:M+""}var A=function(){return function(R,M,j){return M&&f(R.prototype,M),Object.defineProperty(R,"prototype",{writable:!1}),R}(function R(M){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=j.useSrcSet,se=U!==void 0&&U,me=j.reduceSet,Ce=me===void 0?lo:me,Nt=j.renderPageURI,bt=Nt===void 0?P.renderPageURI:Nt;(function(Yt,li){if(!(Yt instanceof li))throw new TypeError("Cannot call a class as a function")})(this,R),this.book=M,this.useSrcSet=se,this.reduceSet=Ce,this.renderPageURI=bt,this.cache={},this.defaultScale=8},[{key:"image",value:function(R,M){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,U=this.getFinalReduce(R,M);return this._serveImageElement(R,U,j)}},{key:"getFinalReduce",value:function(R,M){var j=(this.cache[R]||[]).filter(function(U){return U.loaded&&U.reduce<=M});return j.length?Math.max.apply(Math,fo(j.map(function(U){return U.reduce}))):this.reduceSet.floor(M)}},{key:"imageLoaded",value:function(R,M){var j,U,se=(j=this.cache[R])===null||j===void 0?void 0:j.find(function(me){return me.reduce<=M});return(U=se==null?void 0:se.loaded)!==null&&U!==void 0&&U}},{key:"getBestLoadedReduce",value:function(R){var M,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,U=((M=this.cache[R])===null||M===void 0?void 0:M.filter(function(Ce){return Ce.loaded}))||[];if(!U.length)return null;var se=U.filter(function(Ce){return Ce.reduce>=j});if(se.length)return Math.min.apply(Math,fo(se.map(function(Ce){return Ce.reduce})));var me=U.filter(function(Ce){return Ce.reduce<j});return Math.max.apply(Math,fo(me.map(function(Ce){return Ce.reduce})))}},{key:"_serveImageElement",value:function(R,M){var j,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,se=(j=this.cache[R])===null||j===void 0?void 0:j.find(function(bt){return bt.reduce==M});se||(se={reduce:M,loaded:!1},(this.cache[R]||(this.cache[R]=[])).push(se));var me=this.book.getPage(R),Ce=me.getURI(M,0),Nt=Go(U||document.createElement("img")).addClass("BRpageimage").attr("alt","Book page image").data("reduce",M).data("src",Ce);return this.renderPageURI(Nt[0],Ce),this.useSrcSet&&Nt.attr("srcset",me.getURISrcSet(M)),se.loaded||Nt.one("load",function(){return se.loaded=!0}),Nt}}])}(),O=a(4907),H=a(1669),F=a(1669);function X(R){return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},X(R)}function He(){He=function(){return M};var R,M={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,pe,Te){ge[pe]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Nt=me.asyncIterator||"@@asyncIterator",bt=me.toStringTag||"@@toStringTag";function Yt(ge,pe,Te){return Object.defineProperty(ge,pe,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[pe]}try{Yt({},"")}catch(ge){Yt=function(pe,Te,Wt){return pe[Te]=Wt}}function li(ge,pe,Te,Wt){var wt=pe&&pe.prototype instanceof Xi?pe:Xi,si=Object.create(wt.prototype),xi=new Ir(Wt||[]);return se(si,"_invoke",{value:Br(ge,Te,xi)}),si}function $i(ge,pe,Te){try{return{type:"normal",arg:ge.call(pe,Te)}}catch(Wt){return{type:"throw",arg:Wt}}}M.wrap=li;var Ri="suspendedStart",Oi="suspendedYield",lr="executing",Wi="completed",ji={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ce,function(){return this});var Rr=Object.getPrototypeOf,Ii=Rr&&Rr(Rr(Xr([])));Ii&&Ii!==j&&U.call(Ii,Ce)&&(gr=Ii);var cr=Zi.prototype=Xi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(pe){Yt(ge,pe,function(Te){return this._invoke(pe,Te)})})}function mr(ge,pe){function Te(wt,si,xi,Ui){var Di=$i(ge[wt],ge,si);if(Di.type!=="throw"){var Qi=Di.arg,fr=Qi.value;return fr&&X(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Te("next",wr,xi,Ui)},function(wr){Te("throw",wr,xi,Ui)}):pe.resolve(fr).then(function(wr){Qi.value=wr,xi(Qi)},function(wr){return Te("throw",wr,xi,Ui)})}Ui(Di.arg)}var Wt;se(this,"_invoke",{value:function(wt,si){function xi(){return new pe(function(Ui,Di){Te(wt,si,Ui,Di)})}return Wt=Wt?Wt.then(xi,xi):xi()}})}function Br(ge,pe,Te){var Wt=Ri;return function(wt,si){if(Wt===lr)throw Error("Generator is already running");if(Wt===Wi){if(wt==="throw")throw si;return{value:R,done:!0}}for(Te.method=wt,Te.arg=si;;){var xi=Te.delegate;if(xi){var Ui=Mr(xi,Te);if(Ui){if(Ui===ji)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Wt===Ri)throw Wt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Wt=lr;var Di=$i(ge,pe,Te);if(Di.type==="normal"){if(Wt=Te.done?Wi:Oi,Di.arg===ji)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Wt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Mr(ge,pe){var Te=pe.method,Wt=ge.iterator[Te];if(Wt===R)return pe.delegate=null,Te==="throw"&&ge.iterator.return&&(pe.method="return",pe.arg=R,Mr(ge,pe),pe.method==="throw")||Te!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),ji;var wt=$i(Wt,ge.iterator,pe.arg);if(wt.type==="throw")return pe.method="throw",pe.arg=wt.arg,pe.delegate=null,ji;var si=wt.arg;return si?si.done?(pe[ge.resultName]=si.value,pe.next=ge.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,ji):si:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,ji)}function fn(ge){var pe={tryLoc:ge[0]};1 in ge&&(pe.catchLoc=ge[1]),2 in ge&&(pe.finallyLoc=ge[2],pe.afterLoc=ge[3]),this.tryEntries.push(pe)}function Nr(ge){var pe=ge.completion||{};pe.type="normal",delete pe.arg,ge.completion=pe}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(fn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var pe=ge[Ce];if(pe)return pe.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Wt=function wt(){for(;++Te<ge.length;)if(U.call(ge,Te))return wt.value=ge[Te],wt.done=!1,wt;return wt.value=R,wt.done=!0,wt};return Wt.next=Wt}}throw new TypeError(X(ge)+" is not iterable")}return er.prototype=Zi,se(cr,"constructor",{value:Zi,configurable:!0}),se(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,bt,"GeneratorFunction"),M.isGeneratorFunction=function(ge){var pe=typeof ge=="function"&&ge.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},M.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Zi):(ge.__proto__=Zi,Yt(ge,bt,"GeneratorFunction")),ge.prototype=Object.create(cr),ge},M.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),M.AsyncIterator=mr,M.async=function(ge,pe,Te,Wt,wt){wt===void 0&&(wt=Promise);var si=new mr(li(ge,pe,Te,Wt),wt);return M.isGeneratorFunction(pe)?si:si.next().then(function(xi){return xi.done?xi.value:si.next()})},Kr(cr),Yt(cr,bt,"Generator"),Yt(cr,Ce,function(){return this}),Yt(cr,"toString",function(){return"[object Generator]"}),M.keys=function(ge){var pe=Object(ge),Te=[];for(var Wt in pe)Te.push(Wt);return Te.reverse(),function wt(){for(;Te.length;){var si=Te.pop();if(si in pe)return wt.value=si,wt.done=!1,wt}return wt.done=!0,wt}},M.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(Nr),!ge)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var pe=this;function Te(Di,Qi){return si.type="throw",si.arg=ge,pe.next=Di,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var wt=this.tryEntries[Wt],si=wt.completion;if(wt.tryLoc==="root")return Te("end");if(wt.tryLoc<=this.prev){var xi=U.call(wt,"catchLoc"),Ui=U.call(wt,"finallyLoc");if(xi&&Ui){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0);if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}else if(xi){if(this.prev<wt.catchLoc)return Te(wt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<wt.finallyLoc)return Te(wt.finallyLoc)}}}},abrupt:function(ge,pe){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Wt=this.tryEntries[Te];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var wt=Wt;break}}wt&&(ge==="break"||ge==="continue")&&wt.tryLoc<=pe&&pe<=wt.finallyLoc&&(wt=null);var si=wt?wt.completion:{};return si.type=ge,si.arg=pe,wt?(this.method="next",this.next=wt.finallyLoc,ji):this.complete(si)},complete:function(ge,pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&pe&&(this.next=pe),ji},finish:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),ji}},catch:function(ge){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Te=this.tryEntries[pe];if(Te.tryLoc===ge){var Wt=Te.completion;if(Wt.type==="throw"){var wt=Wt.arg;Nr(Te)}return wt}}throw Error("illegal catch attempt")},delegateYield:function(ge,pe,Te){return this.delegate={iterator:Xr(ge),resultName:pe,nextLoc:Te},this.method==="next"&&(this.arg=R),ji}},M}function Pe(R,M,j,U,se,me,Ce){try{var Nt=R[me](Ce),bt=Nt.value}catch(Yt){return void j(Yt)}Nt.done?M(bt):Promise.resolve(bt).then(U,se)}function gt(R){return function(){var M=this,j=arguments;return new Promise(function(U,se){var me=R.apply(M,j);function Ce(bt){Pe(me,U,se,Ce,Nt,"next",bt)}function Nt(bt){Pe(me,U,se,Ce,Nt,"throw",bt)}Ce(void 0)})}}function Dt(R,M){return function(j){if(Array.isArray(j))return j}(R)||function(j,U){var se=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(se!=null){var me,Ce,Nt,bt,Yt=[],li=!0,$i=!1;try{if(Nt=(se=se.call(j)).next,U===0){if(Object(se)!==se)return;li=!1}else for(;!(li=(me=Nt.call(se)).done)&&(Yt.push(me.value),Yt.length!==U);li=!0);}catch(Ri){$i=!0,Ce=Ri}finally{try{if(!li&&se.return!=null&&(bt=se.return(),Object(bt)!==bt))return}finally{if($i)throw Ce}}return Yt}}(R,M)||ri(R,M)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ri(R,M){if(R){if(typeof R=="string")return Ot(R,M);var j={}.toString.call(R).slice(8,-1);return j==="Object"&&R.constructor&&(j=R.constructor.name),j==="Map"||j==="Set"?Array.from(R):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Ot(R,M):void 0}}function Ot(R,M){(M==null||M>R.length)&&(M=R.length);for(var j=0,U=Array(M);j<M;j++)U[j]=R[j];return U}function st(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=H.extend(!0,{},st.defaultOptions,R,st.optionOverrides);this.setup(M)}function Li(R,M,j){var U,se,me,Ce,Nt,bt,Yt,li;se=j,me=function($i){return $i.br},Ce=st,Nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j,bt=function($i){return $i._overrideable[M]},Yt=(U=R).prototype[se],li=function(){return Yt.apply(bt(this),arguments)},Object.defineProperty(Ce.prototype,Nt,{get:function(){return li},set:function($i){U.prototype[se]=function(){var Ri=this instanceof U?me(this):this;return $i.apply(Ri,arguments)},li=$i}})}st.version="5.0.0-96",st.constMode1up=1,st.constMode2up=2,st.constModeThumb=3,st.PLUGINS={archiveAnalytics:null,autoplay:null,chapters:null,resume:null,search:null,textSelection:null,tts:null},st.registerPlugin=function(R,M){st.PLUGINS[R]&&console.warn("Plugin ".concat(R," already registered. Overwriting.")),st.PLUGINS[R]=M},st.imageCache=null,st.constNavAnimationDuration=300,st.constResizeAnimationDuration=100,st.eventNames=c.q,st.defaultOptions=P,st.optionOverrides={},st.prototype.setup=function(R){var M;this.options=R,this.shell,this.bookId=R.bookId,this.server=R.server,this.subPrefix=R.subPrefix,this.bookPath=R.bookPath,this.plugins={archiveAnalytics:st.PLUGINS.archiveAnalytics?new st.PLUGINS.archiveAnalytics(this):null,autoplay:st.PLUGINS.autoplay?new st.PLUGINS.autoplay(this):null,chapters:st.PLUGINS.chapters?new st.PLUGINS.chapters(this):null,search:st.PLUGINS.search?new st.PLUGINS.search(this):null,resume:st.PLUGINS.resume?new st.PLUGINS.resume(this):null,textSelection:st.PLUGINS.textSelection?new st.PLUGINS.textSelection(this):null,tts:st.PLUGINS.tts?new st.PLUGINS.tts(this):null};for(var j=0,U=Object.entries(this.plugins);j<U.length;j++){var se=Dt(U[j],2),me=se[0];se[1]||delete this.plugins[me]}for(var Ce=0,Nt=Object.entries(st.PLUGINS);Ce<Nt.length;Ce++){var bt=Dt(Nt[Ce],2),Yt=bt[0],li=bt[1];!this.plugins[Yt]&&li&&(this.plugins[Yt]=new li(this))}for(var $i=0,Ri=Object.entries(this.plugins);$i<Ri.length;$i++){var Oi=Dt(Ri[$i],2),lr=Oi[0],Wi=Oi[1];try{var ji,Xi;Wi.setup((ji=(Xi=this.options.plugins)===null||Xi===void 0?void 0:Xi[lr])!==null&&ji!==void 0?ji:{}),this.options.plugins[lr]=Wi.options}catch(er){console.error("Error setting up plugin ".concat(lr),er)}}(M=this.plugins.search)!==null&&M!==void 0&&M.options.enabled&&(this.search=this.plugins.search.search.bind(this.plugins.search)),this.numLeafs=void 0,this.viewModeOrder=[],this.suppressFragmentChange=!1,this.animationFinishedCallback=null,this.constMode1up=st.constMode1up,this.constMode2up=st.constMode2up,this.constModeThumb=st.constModeThumb,this.reduce=8,this.defaults=R.defaults,this.padding=R.padding,this.reduceSet=zo[R.reduceSet],this.reduceSet||(console.warn("Invalid reduceSet ".concat(R.reduceSet,". Ignoring.")),this.reduceSet=zo[P.reduceSet]),this.mode=null,this.prevReadMode=null,this.ui=R.ui,this.uiAutoHide=R.uiAutoHide,this.thumbWidth=100,this.thumbRowBuffer=R.thumbRowBuffer,this.thumbColumns=R.thumbColumns,this.thumbMaxLoading=R.thumbMaxLoading,this.thumbPadding=R.thumbPadding,this.displayedRows=[],this.displayedIndices=[],this.animating=!1,this.flipSpeed=o.parseAnimationSpeed(R.flipSpeed)||400,this.firstIndex=null,this.isFullscreenActive=R.startFullscreen||!1,this.lastScroll=null,this.showLogo=R.showLogo,this.logoURL=R.logoURL,this.imagesBaseURL=R.imagesBaseURL,this.reductionFactors=R.reductionFactors,this.onePage=R.onePage,this.twoPage=R.twoPage,this.onePageMinBreakpoint=R.onePageMinBreakpoint,this.bookTitle=R.bookTitle,this.bookUrl=R.bookUrl,this.bookUrlText=R.bookUrlText,this.bookUrlTitle=R.bookUrlTitle,this.titleLeaf=R.titleLeaf,this.metadata=R.metadata,this.thumbnail=R.thumbnail,this.bookUrlMoreInfo=R.bookUrlMoreInfo,this.enableExperimentalControls=R.enableExperimentalControls,this.el=R.el,this.pageProgression=R.pageProgression,this.protected=R.protected,this.getEmbedCode=R.getEmbedCode,this.popup=null,this.data=R.data,this.refs={},this.book=new fe(this),R.getNumLeafs&&(this.book.getNumLeafs=R.getNumLeafs.bind(this)),R.getPageWidth&&(this.book.getPageWidth=R.getPageWidth.bind(this)),R.getPageHeight&&(this.book.getPageHeight=R.getPageHeight.bind(this)),R.getPageURI&&(this.book.getPageURI=R.getPageURI.bind(this)),R.getPageSide&&(this.book.getPageSide=R.getPageSide.bind(this)),R.getPageNum&&(this.book.getPageNum=R.getPageNum.bind(this)),R.getPageProp&&(this.book.getPageProp=R.getPageProp.bind(this)),R.getSpreadIndices&&(this.book.getSpreadIndices=R.getSpreadIndices.bind(this)),R.leafNumToIndex&&(this.book.leafNumToIndex=R.leafNumToIndex.bind(this)),this._components={navbar:new m(this),toolbar:new _(this)},this._modes={mode1Up:new Jr(this,this.book),mode2Up:new Rn(this,this.book),modeThumb:new rs(this,this.book)},this._overrideable={book:this.book,"_components.navbar":this._components.navbar,"_components.toolbar":this._components.toolbar,"_modes.mode1Up":this._modes.mode1Up,"_modes.mode2Up":this._modes.mode2Up,"_modes.modeThumb":this._modes.modeThumb},this.imageCache=new A(this.book,{useSrcSet:this.options.useSrcSet,reduceSet:this.reduceSet,renderPageURI:R.renderPageURI.bind(this)}),this.hasKeyFocus=!0},st.prototype.getActivePageContainerElements=function(){var R=Object.values(this._modes.mode2Up.mode2UpLit.pageContainerCache).map(function(M){return M.$container[0]}).concat(Object.values(this._modes.mode1Up.mode1UpLit.pageContainerCache).map(function(M){return M.$container[0]}));return this.mode==this.constModeThumb&&(R=R.concat(this.$(".BRpagecontainer").toArray())),R},st.prototype.getActivePageContainerElementsForIndex=function(R){var M,j,U;return[(M=this._modes.mode2Up.mode2UpLit.pageContainerCache[R])===null||M===void 0||(M=M.$container)===null||M===void 0?void 0:M[0],(j=this._modes.mode1Up.mode1UpLit.pageContainerCache[R])===null||j===void 0||(j=j.$container)===null||j===void 0?void 0:j[0]].concat((U=this.mode==this.constModeThumb?this.$(".pagediv".concat(R)).toArray():[],function(se){if(Array.isArray(se))return Ot(se)}(U)||function(se){if(typeof Symbol<"u"&&se[Symbol.iterator]!=null||se["@@iterator"]!=null)return Array.from(se)}(U)||ri(U)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())).filter(function(se){return se})},Object.defineProperty(st.prototype,"activeMode",{get:function(){return{1:this._modes.mode1Up,2:this._modes.mode2Up,3:this._modes.modeThumb}[this.mode]}}),st.util=o,st.prototype.extendParams=function(R,M){var j=F.extend({},M);if(j.page!==void 0){var U=this.book.parsePageString(j.page);isNaN(U)||(j.index=U),delete j.page}F.extend(R,j)},st.prototype.initParams=function(){var R,M,j={init:!0,pageFound:!1,fragmentChange:!1};if(this.titleLeaf!==void 0&&this.book.getNumLeafs()>2?j.index=this.book.leafNumToIndex(this.titleLeaf):j.index=0,this.defaults){var U=this.paramsFromFragment(this.defaults);U.page!==void 0&&(j.pageFound=!0),this.extendParams(j,U)}if((R=this.plugins.resume)!==null&&R!==void 0&&R.options.enabled){var se=this.plugins.resume.getResumeValue();se!==null&&(j.index!==se&&(j.fragmentChange=!0),j.index=se)}if(this.options.enableUrlPlugin){var me=this.paramsFromFragment(this.urlReadFragment());!Object.keys(me).length&&this.urlReadHashFragment()&&this.options.urlMode==="history"&&(me=this.paramsFromFragment(this.urlReadHashFragment())),Object.keys(me).length&&(me.page!==void 0&&(j.pageFound=!0),this.extendParams(j,me),j.fragmentChange=!0)}if((M=this.plugins.search)!==null&&M!==void 0&&M.options.enabled){var Ce=this.plugins.search;if(Ce.options.goToFirstResult=!j.pageFound,!Ce.initialSearchTerm)if(j.search)Ce.options.initialSearchTerm=j.search,Ce.searchTerm=j.search;else{var Nt=new URLSearchParams(this.readQueryString()).get("q");Nt&&(Ce.options.initialSearchTerm=o.decodeURIComponentPlus(Nt))}}return this.suppressFragmentChange=!j.fragmentChange,j},st.prototype.getLocationSearch=function(){return window.location.search},st.prototype.getLocationHash=function(){return window.location.hash},st.prototype.readQueryString=function(){var R=this.getLocationSearch();if(R)return R;var M=this.getLocationHash(),j=M.search(/\?\w+=/);return j>-1?M.slice(j):""},st.prototype.getInitialMode=function(R){var M,j=F(window).width(),U=j&&j<=this.onePageMinBreakpoint;if(M=R.mode?R.mode:U?this.constMode1up:this.constMode2up,this.canSwitchToMode(M)||(M=this.constMode1up),this.options.defaults)try{M=function(se){var me={"mode/1up":1,"mode/2up":2,"mode/thumb":3};if(!(se in me))throw new E("Invalid mode string: ".concat(se));return me[se]}(this.options.defaults)}catch(se){}return M},st.prototype.init=function(){var R;this.init.initComplete=!1,this.pageScale=this.reduce;var M=this.initParams();if(this.firstIndex=M.index?M.index:0,this.isTouchDevice="ontouchstart"in window||"msmaxtouchpoints"in window.navigator,this.refs.$br=F(this.el).empty().removeClass().addClass("ui-"+this.ui).addClass("br-ui-"+this.ui).addClass("BookReader"),this.isTouchDevice?this.refs.$br.addClass("touch"):this.refs.$br.addClass("no-touch"),this.refs.$brContainer=F("<div class='BRcontainer' dir='ltr'></div>"),this.refs.$br.append(this.refs.$brContainer),M.mode=this.getInitialMode(M),this.mode=M.mode,this.options.showToolbar&&this.initToolbar(this.mode,this.ui),this.options.showNavbar)for(var j=this.initNavbar(),U=0,se=Object.values(this.plugins);U<se.length;U++)se[U].extendNavBar(j);this._components.navbar.switchNavbarControls(),this.resizeBRcontainer(),this.updateFromParams(M),this.initUIStrings(),this.bindNavigationHandlers(),this.setupKeyListeners(),this.lastScroll=new Date().getTime(),this.refs.$brContainer.on("scroll",this,function(li){li.data.lastScroll=new Date().getTime(),li.data.constModeThumb==li.data.mode&&li.data.drawLeafsThrottled()}),this.options.autoResize&&(F(window).on("resize",this,function(li){li.data.resize()}),F(window).on("orientationchange",this,function(li){li.data.resize()}.bind(this))),this.protected&&this.$(".BRicon.share").hide(),(R=this.plugins.search)!==null&&R!==void 0&&R.options.initialSearchTerm||(this.suppressFragmentChange=!1),this.options.startFullscreen&&this.enterFullscreen(!0);for(var me=0,Ce=Object.entries(this.plugins);me<Ce.length;me++){var Nt=Dt(Ce[me],2),bt=Nt[0],Yt=Nt[1];try{Yt.init()}catch(li){console.error("Error initializing plugin ".concat(bt),li)}}this.init.initComplete=!0,this.trigger(st.eventNames.PostInit)},st.prototype.trigger=function(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,j="BookReader:"+R;o.polyfillCustomEvent(window),window.dispatchEvent(new CustomEvent(j,{bubbles:!0,composed:!0,detail:{props:M}})),F(document).trigger(j,M)},st.prototype.on=function(R,M){F(document).on("BookReader:"+R,M)},st.prototype.off=function(R,M){F(document).off("BookReader:"+R,M)},st.prototype.bind=function(R,M){return this.on(R,M)},st.prototype.unbind=function(R,M){return this.off(R,M)},st.prototype.resize=function(){this.init.initComplete&&(this.resizeBRcontainer(),this._components.navbar.switchNavbarControls(),this.constMode1up==this.mode?this.onePage.autofit!="none"?(this._modes.mode1Up.resizePageView(),this.centerPageView()):(this.centerPageView(),this.displayedIndices=[],this.drawLeafsThrottled()):this.constModeThumb==this.mode?this._modes.modeThumb.prepare():this._modes.mode2Up.resizePageView(),this.trigger(st.eventNames.resize))},st.prototype.setupKeyListeners=function(){var R=this;window.IntersectionObserver&&new IntersectionObserver(function(M){M.forEach(function(j){j.intersectionRatio===0?R.hasKeyFocus=!1:R.hasKeyFocus=!0})},{root:null,rootMargin:"0px",threshold:[0,.05,1]}).observe(this.refs.$br[0]),document.addEventListener("keydown",function(M){if(R.hasKeyFocus&&!(M.getModifierState("Control")||M.getModifierState("Alt")||M.getModifierState("Meta")||M.getModifierState("Win")||o.isInputActive()))switch(M.key){case"Home":M.preventDefault(),R.first();break;case"End":M.preventDefault(),R.last();break;case"ArrowDown":case"PageDown":case"Down":R.constMode2up===R.mode&&(M.preventDefault(),R.next());break;case"ArrowUp":case"PageUp":case"Up":R.constMode2up===R.mode&&(M.preventDefault(),R.prev());break;case"ArrowLeft":case"Left":R.constModeThumb!=R.mode&&(M.preventDefault(),R.left());break;case"ArrowRight":case"Right":R.constModeThumb!=R.mode&&(M.preventDefault(),R.right());break;case"-":case"Subtract":M.preventDefault(),R.zoom(-1);break;case"+":case"=":case"Add":M.preventDefault(),R.zoom(1);break;case"F":case"f":M.preventDefault(),R.toggleFullscreen()}})},st.prototype.drawLeafs=function(){this.constMode1up!=this.mode&&this.activeMode.drawLeafs()},st.prototype._createPageContainer=function(R){for(var M=new O.LN(this.book.getPage(R,!1),{isProtected:this.protected,imageCache:this.imageCache}),j=0,U=Object.values(this.plugins);j<U.length;j++)U[j]._configurePageContainer(M);return M},st.prototype.bindGestures=function(R){var M=this,j=1;R.unbind("touchmove").bind("touchmove",function(U){U.originalEvent.cancelable&&(j=U.originalEvent.touches.length),U.stopPropagation()}),R.unbind("gesturechange").bind("gesturechange",function(U){U.preventDefault(),j!==2||new Date().getTime()-M.lastScroll<500||(U.originalEvent.scale>1.5?M.zoom(1):U.originalEvent.scale<.6&&M.zoom(-1))})},st.prototype.drawLeafsThrottled=o.throttle(st.prototype.drawLeafs,250),st.prototype.zoom=function(R){var M;R==1?this.activeMode.zoom("in"):this.activeMode.zoom("out"),(M=this.plugins.textSelection)===null||M===void 0||M.stopPageFlip(this.refs.$brContainer)},st.prototype.resizeBRcontainer=function(R){R?this.refs.$brContainer.animate({top:this.getToolBarHeight(),bottom:this.getFooterHeight()},this.constResizeAnimationDuration,"linear"):this.refs.$brContainer.css({top:this.getToolBarHeight(),bottom:this.getFooterHeight()})},st.prototype.centerPageView=function(){var R=this.refs.$brContainer.prop("scrollWidth"),M=this.refs.$brContainer.prop("clientWidth");R>M&&this.refs.$brContainer.prop("scrollLeft",(R-M)/2)},st.prototype.quantizeReduce=function(R,M){for(var j=M[0].reduce,U=Math.abs(R-j),se=1;se<M.length;se++){var me=Math.abs(R-M[se].reduce);me<U&&(U=me,j=M[se].reduce)}return j},st.prototype.nextReduce=function(R,M,j){if(M==="in"){for(var U=0,se=1;se<j.length;se++)j[se].reduce<R&&(U=se);return j[U]}if(M==="out"){for(var me=j.length-1,Ce=me,Nt=me;Nt>=0;Nt--)j[Nt].reduce>R&&(Ce=Nt);return j[Ce]}if(M==="auto"){var bt=j.find(function(Oi){return Oi.autofit=="auto"});if(bt)return bt;for(var Yt=j.filter(function(Oi){var lr=Oi.autofit;return lr=="height"||lr=="width"}),li=null,$i=0;$i<Yt.length;$i++)(li===null||li.reduce<Yt[$i].reduce)&&(li=Yt[$i]);if(li)return li}else if(M==="height"||M==="width"){var Ri=j.find(function(Oi){return Oi.autofit==M});if(Ri)return Ri}return j[0]},st.prototype._reduceSort=function(R,M){return R.reduce-M.reduce},st.prototype.jumpToPage=function(R){var M=this.book.parsePageString(R);return M!==void 0&&(this.jumpToIndex(M),!0)},st.prototype._isIndexDisplayed=function(R){return this.displayedIndices?this.displayedIndices.includes(R):this.currentIndex()==R},st.prototype.jumpToIndex=function(R,M,j,U){var se=this.book.getPage(R);if(se.isViewable||se.unviewablesStart==se.index)this.trigger(st.eventNames.stop),this.activeMode.jumpToIndex(R,M,j,U);else{var me,Ce=this._isIndexDisplayed(se.unviewablesStart)?(me=se.findNext({combineConsecutiveUnviewables:!0}))===null||me===void 0?void 0:me.index:se.unviewablesStart;Ce!==void 0&&this.jumpToIndex(Ce,M,j,U)}},st.prototype.getPrevReadMode=function(R){return R===st.constMode1up||R===st.constMode2up?R:this.prevReadMode===null?st.constMode1up:void 0},st.prototype.switchMode=function(R){var M,j,U,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=se.suppressFragmentChange,Ce=me!==void 0&&me;if(se.init,se.pageFound,typeof R=="string"&&(R={"1up":this.constMode1up,"2up":this.constMode2up,thumb:this.constModeThumb}[R]),!R)throw new Error("Invalid mode: ".concat(R));if(!(this.init.initComplete&&(R===this.mode||!this.canSwitchToMode(R)))){this.trigger(st.eventNames.stop),this.prevReadMode=this.getPrevReadMode(this.mode),this.mode!=R&&((j=(U=this.activeMode).unprepare)===null||j===void 0||j.call(U)),this.mode=R,this.pageScale!==this.reduce&&(this.reduce=this.pageScale),this.constMode1up==R?this._modes.mode1Up.prepare():this.constModeThumb==R?(this.reduce=this.quantizeReduce(this.reduce,this.reductionFactors),this._modes.modeThumb.prepare()):this._modes.mode2Up.prepare(),this.suppressFragmentChange||Ce||this.trigger(st.eventNames.fragmentChange);var Nt=R+"PageViewSelected";this.trigger(st.eventNames[Nt]),(M=this.plugins.textSelection)===null||M===void 0||M.stopPageFlip(this.refs.$brContainer)}},st.prototype.updateBrClasses=function(){var R={};R[this.constMode1up]="BRmode1up",R[this.constMode2up]="BRmode2up",R[this.constModeThumb]="BRmodeThumb",this.refs.$br.removeClass("BRmode1up BRmode2up BRmodeThumb").addClass(R[this.mode]),this.isFullscreen()?(this.refs.$br.addClass("fullscreenActive"),F(document.body).addClass("BRfullscreenActive")):(this.refs.$br.removeClass("fullscreenActive"),F(document.body).removeClass("BRfullscreenActive"))},st.prototype.isFullscreen=function(){return this.isFullscreenActive},st.prototype.toggleFullscreen=gt(He().mark(function R(){var M,j=arguments;return He().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(M=!(j.length>0&&j[0]!==void 0)||j[0],!this.isFullscreen()){U.next=6;break}return U.next=4,this.exitFullScreen();case 4:U.next=8;break;case 6:return U.next=8,this.enterFullscreen(M);case 8:case"end":return U.stop()}},R,this)})),st.prototype.enterFullscreen=gt(He().mark(function R(){var M,j,U,se=this,me=arguments;return He().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(j=!(me.length>0&&me[0]!==void 0)||me[0],this.refs.$br.addClass("BRfullscreenAnimation"),U=this.currentIndex(),j&&(this._fullscreenCloseHandler=function(Nt){Nt.keyCode===27&&se.toggleFullscreen()},F(document).on("keyup",this._fullscreenCloseHandler)),F(window).width()<=this.onePageMinBreakpoint&&this.switchMode(this.constMode1up),this.isFullscreenActive=!0,this.updateBrClasses(),!(this.activeMode instanceof Jr)){Ce.next=13;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(U)),this.activeMode.mode1UpLit.requestUpdate(),Ce.next=13,this.activeMode.mode1UpLit.updateComplete;case 13:return this.jumpToIndex(U),(M=this.plugins.textSelection)===null||M===void 0||M.stopPageFlip(this.refs.$brContainer),this.trigger(st.eventNames.fragmentChange),this.trigger(st.eventNames.fullscreenToggled),Ce.next=19,new Promise(function(Nt){return setTimeout(Nt,0)});case 19:this.resize(),this.refs.$br.removeClass("BRfullscreenAnimation");case 21:case"end":return Ce.stop()}},R,this)})),st.prototype.exitFullScreen=gt(He().mark(function R(){var M,j;return He().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return this.refs.$br.addClass("BRfullscreenAnimation"),F(document).off("keyup",this._fullscreenCloseHandler),j=F(window).width(),this.options.controls.twoPage.visible&&j<=this.onePageMinBreakpoint&&this.switchMode(this.constMode2up),this.isFullscreenActive=!1,this.trigger(st.eventNames.fullscreenToggled),this.updateBrClasses(),U.next=10,new Promise(function(se){return setTimeout(se,0)});case 10:if(this.resize(),!(this.activeMode instanceof Jr)){U.next=16;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(this.currentIndex())),this.activeMode.mode1UpLit.requestUpdate(),U.next=16,this.activeMode.mode1UpLit.updateComplete;case 16:(M=this.plugins.textSelection)===null||M===void 0||M.stopPageFlip(this.refs.$brContainer),this.trigger(st.eventNames.fragmentChange),this.refs.$br.removeClass("BRfullscreenAnimation");case 19:case"end":return U.stop()}},R,this)})),st.prototype.currentIndex=function(){if(this.mode==this.constMode1up||this.mode==this.constModeThumb)return this.firstIndex;if(this.mode==this.constMode2up)return o.clamp(this.firstIndex,0,this.book.getNumLeafs()-1);throw"currentIndex called for unimplemented mode "+this.mode},st.prototype.updateFirstIndex=function(R){var M,j=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).suppressFragmentChange,U=j!==void 0&&j;this.firstIndex!==R&&(this.firstIndex=R,this.suppressFragmentChange||U||this.trigger(st.eventNames.fragmentChange),(M=this.plugins.search)!==null&&M!==void 0&&M.options.initialSearchTerm&&!U&&(this.suppressFragmentChange=!1),this.trigger(st.eventNames.pageChanged),this.trigger(st.eventNames.userAction),this._components.navbar.updateNavIndexThrottled(R))},st.prototype.right=function(){this.pageProgression!="rl"?this.next():this.prev()},st.prototype.rightmost=function(){this.pageProgression!="rl"?this.last():this.first()},st.prototype.left=function(){this.pageProgression!="rl"?this.prev():this.next()},st.prototype.leftmost=function(){this.pageProgression!="rl"?this.first():this.last()},st.prototype.next=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=R.triggerStop,j=M===void 0||M,U=R.flipSpeed,se=U===void 0?null:U;this.constMode2up==this.mode?(j&&this.trigger(st.eventNames.stop),se=o.parseAnimationSpeed(se)||this.flipSpeed,this._modes.mode2Up.mode2UpLit.flipAnimation("next",{flipSpeed:se})):this.firstIndex<this.book.getNumLeafs()-1&&this.jumpToIndex(this.firstIndex+1)},st.prototype.prev=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=R.triggerStop,j=M===void 0||M,U=R.flipSpeed,se=U===void 0?null:U;this.firstIndex<1||(this.constMode2up==this.mode?(j&&this.trigger(st.eventNames.stop),se=o.parseAnimationSpeed(se)||this.flipSpeed,this._modes.mode2Up.mode2UpLit.flipAnimation("prev",{flipSpeed:se})):this.firstIndex>=1&&this.jumpToIndex(this.firstIndex-1))},st.prototype.first=function(){this.jumpToIndex(0)},st.prototype.last=function(){this.jumpToIndex(this.book.getNumLeafs()-1)},st.prototype.initNavbar=m.prototype.init,Li(m,"_components.navbar","init","initNavbar"),st.prototype.buildToolbarElement=_.prototype.buildToolbarElement,Li(_,"_components.toolbar","buildToolbarElement"),st.prototype.initToolbar=_.prototype.initToolbar,Li(_,"_components.toolbar","initToolbar"),st.prototype.buildShareDiv=_.prototype.buildShareDiv,Li(_,"_components.toolbar","buildShareDiv"),st.prototype.buildInfoDiv=_.prototype.buildInfoDiv,Li(_,"_components.toolbar","buildInfoDiv"),st.prototype.getToolBarHeight=_.prototype.getToolBarHeight,Li(_,"_components.toolbar","getToolBarHeight"),st.prototype.bindNavigationHandlers=function(){var R=this,M=this,j=this.$(".BRicon"),U={book_left:function(){R.trigger(st.eventNames.stop),R.left()},book_right:function(){R.trigger(st.eventNames.stop),R.right()},book_top:this.first.bind(this),book_bottom:this.last.bind(this),book_leftmost:this.leftmost.bind(this),book_rightmost:this.rightmost.bind(this),onepg:function(){R.switchMode(M.constMode1up)},thumb:function(){R.switchMode(M.constModeThumb)},twopg:function(){R.switchMode(M.constMode2up)},zoom_in:function(){R.trigger(st.eventNames.stop),R.zoom(1),R.trigger(st.eventNames.zoomIn)},zoom_out:function(){R.trigger(st.eventNames.stop),R.zoom(-1),R.trigger(st.eventNames.zoomOut)},full:function(){if(R.ui=="embed"){var li=R.$(".BRembedreturn a").attr("href");window.open(li)}else R.toggleFullscreen()}};this.$("nav.BRcontrols li button").on("click",function(){R.trigger(st.eventNames.userAction)});var se=function(li){j.filter(".".concat(li)).on("click.bindNavigationHandlers",function(){return U[li](),!1})};for(var me in U)se(me);var Ce=this.$(".BRnavCntlBtm"),Nt=this.$(".BRnavCntlTop");this.$(".BRnavCntl").click(function(){var li=[];Ce.hasClass("BRdn")?(M.refs.$BRtoolbar&&li.push(M.refs.$BRtoolbar.animate({top:-1*M.getToolBarHeight()}).promise()),li.push(M.$(".BRfooter").animate({bottom:-1*M.getFooterHeight()}).promise()),Ce.addClass("BRup").removeClass("BRdn"),Nt.addClass("BRdn").removeClass("BRup"),M.$(".BRnavCntlBtm.BRnavCntl").animate({height:"45px"}),M.$(".BRnavCntl").delay(1e3).animate({opacity:.75},1e3)):(M.refs.$BRtoolbar&&li.push(M.refs.$BRtoolbar.animate({top:0}).promise()),li.push(M.$(".BRfooter").animate({bottom:0}).promise()),Ce.addClass("BRdn").removeClass("BRup"),Nt.addClass("BRup").removeClass("BRdn"),M.$(".BRnavCntlBtm.BRnavCntl").animate({height:"30px"}),M.$(".BRvavCntl").animate({opacity:1})),F.when.apply(F,li).done(function(){M.mode==M.constMode2up&&M.twoPage.autofit!=null&&M.twoPage.autofit!="none"||M.mode==M.constMode1up&&M.onePage.autofit!=null&&M.onePage.autofit!="none"?M.resize():M.resizeBRcontainer()})}),Ce.on("mouseover",function(){F(this).hasClass("BRup")&&M.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){F(this).hasClass("BRup")&&M.$(".BRnavCntl").animate({opacity:.75},250)}),Nt.on("mouseover",function(){F(this).hasClass("BRdn")&&M.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){F(this).hasClass("BRdn")&&M.$(".BRnavCntl").animate({opacity:.75},250)});for(var bt=0,Yt=Object.values(this.plugins);bt<Yt.length;bt++)Yt[bt]._bindNavigationHandlers()},st.prototype.getPageURI=fe.prototype.getPageURI,Li(fe,"book","getPageURI"),st.prototype.updateFromParams=function(R){var M,j=R.mode,U=j===void 0?0:j,se=R.init,me=se!==void 0&&se,Ce=R.fragmentChange,Nt=Ce!==void 0&&Ce;U&&this.switchMode(U,{init:me,suppressFragmentChange:!Nt}),R.index!==void 0?R.index!=this.currentIndex()&&this.jumpToIndex(R.index):R.page!==void 0&&R.page!=this.book.getPageNum(this.currentIndex())&&this.jumpToPage(R.page),(M=this.plugins.search)!==null&&M!==void 0&&M.enabled&&R.search!==void 0&&this.plugins.search.searchTerm!==R.search&&this.$(".BRsearchInput").val(R.search),this.enableThemesPlugin&&R.theme!==void 0&&this.updateTheme(R.theme)},st.prototype.canSwitchToMode=function(R){return R!=this.constMode2up&&R!=this.constModeThumb||!(this.book.getNumLeafs()<2)},st.prototype._getPageURI=function(R,M,j){var U=this.book.getPage(R,!1);return U?(M===void 0&&(M=U.height/this.twoPage.height),U.getURI(M,j)):this.imagesBaseURL+"transparent.png"},st.prototype.showProgressPopup=function(R,M){var j=this;if(!this.popup){if(this.popup=document.createElement("div"),F(this.popup).prop("className","BRprogresspopup"),typeof M=="function"){var U=document.createElement("button");U.setAttribute("title","close"),U.setAttribute("class","close-popup");var se=document.createElement("span");se.setAttribute("class","icon icon-close-dark"),F(U).append(se),U.addEventListener("click",function(){M(),j.removeProgressPopup()}),F(this.popup).append(U)}var me=document.createElement("div");if(F(me).css({height:"20px"}).prop("className","BRprogressbar"),F(this.popup).append(me),R){var Ce=document.createElement("div");Ce.innerHTML=R,F(this.popup).append(Ce)}F(this.popup).appendTo(this.refs.$br)}},st.prototype.removeProgressPopup=function(){F(this.popup).remove(),this.$(".BRprogresspopup").remove(),this.popup=null},st.prototype.initUIStrings=function(){var R={".logo":"Go to Archive.org",".zoom_in":"Zoom in",".zoom_out":"Zoom out",".onepg":"One-page view",".twopg":"Two-page view",".thumb":"Thumbnail view",".print":"Print this page",".embed":"Embed BookReader",".link":"Link to this book (and page)",".bookmark":"Bookmark this page",".share":"Share this book",".info":"About this book",".full":"Toggle fullscreen",".book_left":"Flip left",".book_right":"Flip right",".play":"Play",".pause":"Pause",".BRdn":"Show/hide nav bar",".BRup":"Show/hide nav bar",".book_top":"First page",".book_bottom":"Last page",".book_leftmost":"First page",".book_rightmost":"Last page"};for(var M in this.pageProgression=="rl"&&(R[".book_leftmost"]="Last page",R[".book_rightmost"]="First page"),R)this.$(M).prop("title",R[M])},st.prototype.reloadImages=function(){this.refs.$brContainer.find("img").each(function(R,M){if(!M.complete||M.naturalHeight===0){var j=M.src;M.src="",setTimeout(function(){M.src=j},1e3)}})},st.prototype.getFooterHeight=function(){var R=this.mode==this.constMode2up?this.refs.$BRfooter:this.refs.$BRnav;if(R&&this.refs.$BRfooter){var M=R.outerHeight(),j=parseInt(this.refs.$BRfooter.css("bottom"));if(!isNaN(M)&&!isNaN(j))return M+j}return 0},st.prototype.paramsFromCurrent=function(){var R,M={},j=this.currentIndex(),U=this.book.getPageNum(j);return(U===0||U)&&(M.page=U),M.index=j,M.mode=this.mode,this.isFullscreenActive&&(M.view="theater"),(R=this.plugins.search)!==null&&R!==void 0&&R.enabled&&(M.search=this.plugins.search.searchTerm),M},st.prototype.paramsFromFragment=function(R){var M={};R.substr(0,1)=="#"&&(R=R.substr(1));var j=parseInt(/^\d+$/.exec(R));if(!isNaN(j))return M.index=j,M;for(var U=R.split("/"),se={},me=0;me<U.length;me+=2)se[U[me]]=U[me+1];return se.mode=="1up"?M.mode=this.constMode1up:se.mode=="2up"?M.mode=this.constMode2up:se.mode=="thumb"&&(M.mode=this.constModeThumb),se.page!==void 0&&(M.page=decodeURIComponent(se.page)),se.search!=null&&(M.search=o.decodeURIComponentPlus(se.search)),se.theme!=null&&(M.theme=se.theme),M},st.prototype.fragmentFromParams=function(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"hash",j=[];if(R.page!==void 0?j.push("page",encodeURIComponent(R.page)):R.index!==void 0&&j.push("page","n"+R.index),R.mode!==void 0)if(R.mode==this.constMode1up)j.push("mode","1up");else if(R.mode==this.constMode2up)j.push("mode","2up");else{if(R.mode!=this.constModeThumb)throw"fragmentFromParams called with unknown mode "+R.mode;j.push("mode","thumb")}return R.search&&M==="hash"&&j.push("search",o.encodeURIComponentPlus(R.search)),j.join("/")},st.prototype.queryStringFromParams=function(R,M){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"hash",U=new URLSearchParams(M);R.view?U.set("view",R.view):U.delete("view"),R.search&&j==="history"&&U.set("q",R.search);var se=U.toString();return se?"?"+se:""},st.prototype.$=function(R){return this.refs.$br.find(R)},window.BookReader=st})(),l=a.O(l)})();a2=K7,{default:s2}=a2,X7=an(a2,["default"]),l2=s2!==void 0?s2:X7;});var c2={};Dn(c2,{default:()=>l2});var u2=Kt(()=>{ng();ng()});var Z7,d2,h2,J7,p2,og=Kt(()=>{Z7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[924],{706:function(e,t,r){var a=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||a&&o[c].name!==c})}},2762:function(e,t,r){var a=r(6518),l=r(3802).trim;a({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(a(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(a(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return a(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},5372:function(e,t,r){r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(113),r(3418),r(3792),r(8598),r(2062),r(4490),r(4782),r(9572),r(2010),r(4731),r(479),r(8130),r(5506),r(3851),r(875),r(6099),r(8459),r(3362),r(825),r(888),r(7495),r(8781),r(7764),r(5440),r(5746),r(3500),r(2953),r(8408);var a=r(8004),l=r(4907),o=(r(8940),r(1669));function c(Z){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},c(Z)}function n(Z,ye){for(var Y=0;Y<ye.length;Y++){var ce=ye[Y];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Z,u(ce.key),ce)}}function u(Z){var ye=function(Y,ce){if(c(Y)!="object"||!Y)return Y;var Ze=Y[Symbol.toPrimitive];if(Ze!==void 0){var ft=Ze.call(Y,"string");if(c(ft)!="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(Z);return c(ye)=="symbol"?ye:ye+""}var p=function(){return Z=function Y(ce){var Ze=ce.br,ft=ce.searchCancelledCallback,ct=ft===void 0?function(){}:ft;(function(Ge,Ae){if(!(Ge instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,Y),this.br=Ze,this.matches=[],this.cacheDOMElements(),this.cancelSearch=ct},ye=[{key:"init",value:function(){this.bindEvents()}},{key:"cacheDOMElements",value:function(){this.dom={},this.dom.toolbarSearch=this.buildToolbarSearch()}},{key:"setQuery",value:function(Y){this.br.$('[name="query"]').val(Y)}},{key:"emptyMatches",value:function(){this.matches=[]}},{key:"removeResultPins",value:function(){this.br.$(".BRnavpos .BRsearch").remove()}},{key:"clearSearchFieldAndResults",value:function(){var Y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.plugins.search.removeSearchResults(),this.removeResultPins(),this.emptyMatches(),this.setQuery(""),this.teardownSearchNavigation(),Y&&this.br.trigger("SearchResultsCleared")}},{key:"toggleSidebar",value:function(){this.br.trigger("ToggleSearchMenu")}},{key:"renderSearchNavigation",value:function(){var Y="BRsearch-navigation";o(".BRnav").before(`
      <div class="`.concat(Y,`">
        <button class="toggle-sidebar">
          <h4>
            <span class="icon icon-search"></span> Results
          </h4>
        </button>
        <div class="pagination">
          <button class="prev" title="Previous result"><span class="icon icon-chevron hflip"></span></button>
          <span data-id="resultsCount">`).concat(this.resultsPosition(),`</span>
          <button class="next" title="Next result"><span class="icon icon-chevron"></button>
        </div>
        <button class="clear" title="Clear search results">
          <span class="icon icon-close"></span>
        </button>
      </div>
    `)),this.dom.searchNavigation=o(".".concat(Y))}},{key:"resultsPosition",value:function(){var Y="".concat(this.matches.length," result").concat(this.matches.length===1?"":"s");return~this.currentMatchIndex&&(Y="".concat(this.currentMatchIndex+1," / ").concat(this.matches.length)),Y}},{key:"bindSearchNavigationEvents",value:function(){if(this.dom.searchNavigation){var Y="searchNavigation";this.dom.searchNavigation.on("click.".concat(Y),".clear",this.clearSearchFieldAndResults.bind(this)).on("click.".concat(Y),".prev",this.showPrevResult.bind(this)).on("click.".concat(Y),".next",this.showNextResult.bind(this)).on("click.".concat(Y),".toggle-sidebar",this.toggleSidebar.bind(this)).on("click.".concat(Y),!1)}}},{key:"showPrevResult",value:function(){this.currentMatchIndex!==0&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(Y,ce,Ze){return ce[0]>Ze})+1),this.br.$(".BRnavline .BRsearch").eq(--this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"showNextResult",value:function(){this.currentMatchIndex+1!==this.matches.length&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(Y,ce,Ze){return Y[Y.length-1]>Ze})-1),this.br.$(".BRnavline .BRsearch").eq(++this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"getClosestMatchIndex",value:function(Y){var ce=this.matches.map(function(Ge){return Ge.par[0].page}),Ze=this.br.currentIndex()+1,ft=function(Ge,Ae){if(Ge.length===1)return Ge[0];var Me=Ge.slice(0,Ge.length/2),De=Ge.slice(Ge.length/2);return ft(Y(Me,De,Ae)?Me:De,Ae)},ct=ft(ce,Ze);return this.matches.indexOf(this.matches.find(function(Ge){return Ge.par[0].page===ct}))}},{key:"updateResultsPosition",value:function(){this.dom.searchNavigation&&this.dom.searchNavigation.find("[data-id=resultsCount]").text(this.resultsPosition())}},{key:"updateSearchNavigationButtons",value:function(){this.dom.searchNavigation&&(this.dom.searchNavigation.find(".prev").attr("disabled",!this.currentMatchIndex),this.dom.searchNavigation.find(".next").attr("disabled",this.currentMatchIndex+1===this.matches.length))}},{key:"teardownSearchNavigation",value:function(){this.dom.searchNavigation||(this.dom.searchNavigation=o(".BRsearch-navigation")),this.dom.searchNavigation.length&&(this.dom.searchNavigation.off(".searchNavigation").remove(),this.dom.searchNavigation=null,this.br.resize())}},{key:"setCurrentMatchIndex",value:function(){var Y;this.br.mode!==this.br.constModeThumb?(Y=this.br.mode===this.br.constMode2up?this.find2upMatchingSearchResult():this.find1upMatchingSearchResult(),this.currentMatchIndex=this.matches.indexOf(Y)):this.currentMatchIndex=-1}},{key:"find1upMatchingSearchResult",value:function(){var Y=this;return this.matches.find(function(ce){return Y.br.currentIndex()===ce.par[0].page-1})}},{key:"find2upMatchingSearchResult",value:function(){var Y=this;return this.matches.find(function(ce){return Y.br._isIndexDisplayed(ce.par[0].page-1)})}},{key:"updateSearchNavigation",value:function(){this.matches.length&&(this.setCurrentMatchIndex(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"togglePinsFor",value:function(Y){var ce=Y?"visible":"hidden";this.br.refs.$BRfooter.find(".BRsearch").css({visibility:ce})}},{key:"buildToolbarSearch",value:function(){var Y=document.createElement("span");return Y.classList.add("BRtoolbarSection","BRtoolbarSectionSearch"),Y.innerHTML=`
      <form class="BRbooksearch desktop">
        <input type="search" name="query" class="BRsearchInput" value="" placeholder="Search inside"/>
        <button type="submit" class="BRsearchSubmit">
          <img src="`.concat(this.br.options.imagesBaseURL,`icon_search_button.svg" />
        </button>
      </form>
    `),Y}},{key:"renderPins",value:function(Y){var ce=this;Y.forEach(function(Ze){var ft=ce.br.book.leafNumToIndex(Ze.par[0].page),ct=ce.br.constructor.util.cssPercentage(ft,ce.br.book.getNumLeafs()-1),Ge=Ze.html;if(Ge.length>200){var Ae=Math.max(0,Ge.indexOf("<mark>")-100);Ae!=0&&(Ge="\u2026"+Ze.html.substring(Ae).replace(/^\S+/,""))}o("<div>").addClass("BRsearch").css({left:ct}).attr("title","Search result").append(`
          <div class="BRquery">
            <main>`.concat(Ge,`</main>
            <footer>Page `).concat(Ze.displayPageNumber,`</footer>
          </div>
        `)).appendTo(ce.br.$(".BRnavline")).on("mouseenter",function(Me){var De=Me.currentTarget,Ne=De.querySelector(".BRquery"),Ve=Ne.getBoundingClientRect(),rt=De.getBoundingClientRect(),je=2*parseInt(getComputedStyle(Ne).paddingLeft);Ve.x-je<0&&Ne.style.setProperty("transform","translateX(-".concat(rt.left-je,"px)")),o(".BRsearch,.BRchapter").removeClass("front"),o(Me.target).addClass("front")}).on("mouseleave",function(Me){return o(Me.target).removeClass("front")}).on("click",function(){ce.br.plugins.search.jumpToMatch(Ze.matchIndex)})})}},{key:"toggleSearchPending",value:function(){var Y=this;arguments.length>0&&arguments[0]!==void 0&&arguments[0]?this.br.showProgressPopup("Search results will appear below...",function(){return Y.progressPopupClosed()}):this.br.removeProgressPopup()}},{key:"progressPopupClosed",value:function(){this.toggleSearchPending(),this.cancelSearch()}},{key:"renderErrorModal",value:function(){var Y="".concat(arguments.length>0&&arguments[0]!==void 0&&arguments[0]?"":"The text may still be processing. ","Please try again.");this.renderModalMessage(`
      Sorry, there was an error with your search.
      <br />
      `.concat(Y,`
    `)),this.delayModalRemovalFor(4e3)}},{key:"renderBookNotIndexedModal",value:function(){this.renderModalMessage(`
      <p>
         This book hasn't been indexed for searching yet.
         We've just started indexing it, so search should be available soon.
         <br />
         Please try again later. Thanks!
      </p>
    `),this.delayModalRemovalFor(5e3)}},{key:"renderResultsEmptyModal",value:function(){this.renderModalMessage("No matches were found."),this.delayModalRemovalFor(2e3)}},{key:"renderModalMessage",value:function(Y){var ce=document.createElement("div");ce.classList.add("BRprogresspopup","search_modal"),ce.innerHTML=Y,document.querySelector(this.br.el).append(ce)}},{key:"delayModalRemovalFor",value:function(Y){setTimeout(this.br.removeProgressPopup.bind(this.br),Y)}},{key:"submitHandler",value:function(Y){Y.preventDefault();var ce=Y.target.querySelector('[name="query"]').value;return!!ce.length&&(this.br.search(ce),this.emptyMatches(),this.toggleSearchPending(!0),!1)}},{key:"handleSearchCallback",value:function(Y,ce){var Ze=this,ft=ce.results,ct=ce.options;this.matches=ft.matches,this.setCurrentMatchIndex(),this.teardownSearchNavigation(),this.renderSearchNavigation(),this.bindSearchNavigationEvents(),this.renderPins(ft.matches),this.toggleSearchPending(!1),ct.goToFirstResult?o(document).one("BookReader:pageChanged",function(){Ze.br.resize()}):this.br.resize()}},{key:"handleSearchStarted",value:function(){this.emptyMatches(),this.br.plugins.search.removeSearchHilites(),this.removeResultPins(),this.toggleSearchPending(!0),this.teardownSearchNavigation(),this.setQuery(this.br.plugins.search.searchTerm)}},{key:"handleSearchCallbackError",value:function(){var Y,ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.toggleSearchPending(!1);var Ze=ce==null||(Y=ce.detail)===null||Y===void 0||(Y=Y.props)===null||Y===void 0||(Y=Y.results)===null||Y===void 0?void 0:Y.indexed;this.renderErrorModal(Ze)}},{key:"handleSearchCallbackBookNotIndexed",value:function(){this.toggleSearchPending(!1),this.renderBookNotIndexedModal()}},{key:"handleSearchCallbackEmpty",value:function(){this.toggleSearchPending(!1),this.renderResultsEmptyModal()}},{key:"bindEvents",value:function(){var Y="BookReader:";window.addEventListener("".concat(Y,"SearchCallbackError"),this.handleSearchCallbackError.bind(this)),o(document).on("".concat(Y,"SearchCallback"),this.handleSearchCallback.bind(this)).on("".concat(Y,"SearchStarted"),this.handleSearchStarted.bind(this)).on("".concat(Y,"SearchCallbackBookNotIndexed"),this.handleSearchCallbackBookNotIndexed.bind(this)).on("".concat(Y,"SearchCallbackEmpty"),this.handleSearchCallbackEmpty.bind(this)).on("".concat(Y,"pageChanged"),this.updateSearchNavigation.bind(this)),this.dom.toolbarSearch.querySelector("form").addEventListener("submit",this.submitHandler.bind(this))}}],ye&&n(Z.prototype,ye),Object.defineProperty(Z,"prototype",{writable:!1}),Z;var Z,ye}(),g=p;function m(Z,ye){return function(Y){if(Array.isArray(Y))return Y}(Z)||function(Y,ce){var Ze=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(Ze!=null){var ft,ct,Ge,Ae,Me=[],De=!0,Ne=!1;try{if(Ge=(Ze=Ze.call(Y)).next,ce===0){if(Object(Ze)!==Ze)return;De=!1}else for(;!(De=(ft=Ge.call(Ze)).done)&&(Me.push(ft.value),Me.length!==ce);De=!0);}catch(Ve){Ne=!0,ct=Ve}finally{try{if(!De&&Ze.return!=null&&(Ae=Ze.return(),Object(Ae)!==Ae))return}finally{if(Ne)throw ct}}return Me}}(Z,ye)||x(Z,ye)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(Z,ye){var Y=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!Y){if(Array.isArray(Z)||(Y=x(Z))||ye&&Z&&typeof Z.length=="number"){Y&&(Z=Y);var ce=0,Ze=function(){};return{s:Ze,n:function(){return ce>=Z.length?{done:!0}:{done:!1,value:Z[ce++]}},e:function(Ae){throw Ae},f:Ze}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ft,ct=!0,Ge=!1;return{s:function(){Y=Y.call(Z)},n:function(){var Ae=Y.next();return ct=Ae.done,Ae},e:function(Ae){Ge=!0,ft=Ae},f:function(){try{ct||Y.return==null||Y.return()}finally{if(Ge)throw ft}}}}function x(Z,ye){if(Z){if(typeof Z=="string")return w(Z,ye);var Y={}.toString.call(Z).slice(8,-1);return Y==="Object"&&Z.constructor&&(Y=Z.constructor.name),Y==="Map"||Y==="Set"?Array.from(Z):Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y)?w(Z,ye):void 0}}function w(Z,ye){(ye==null||ye>Z.length)&&(ye=Z.length);for(var Y=0,ce=Array(ye);Y<ye;Y++)ce[Y]=Z[Y];return ce}function k(Z,ye,Y){var ce=(0,a.escapeRegExp)((0,a.escapeHTML)(ye)),Ze=(0,a.escapeRegExp)((0,a.escapeHTML)(Y)),ft=new RegExp("".concat(ce,"([^]+?)").concat(Ze),"g");return(0,a.escapeHTML)(Z).replace(ft,"<mark>$1</mark>").replace(/(\b)- /g,"$1")}r(4864);var S=r(1041),P=r(9073),E=r(1669),L=r(1669);function s(Z){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},s(Z)}function h(Z,ye){return function(Y){if(Array.isArray(Y))return Y}(Z)||function(Y,ce){var Ze=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(Ze!=null){var ft,ct,Ge,Ae,Me=[],De=!0,Ne=!1;try{if(Ge=(Ze=Ze.call(Y)).next,ce===0){if(Object(Ze)!==Ze)return;De=!1}else for(;!(De=(ft=Ge.call(Ze)).done)&&(Me.push(ft.value),Me.length!==ce);De=!0);}catch(Ve){Ne=!0,ct=Ve}finally{try{if(!De&&Ze.return!=null&&(Ae=Ze.return(),Object(Ae)!==Ae))return}finally{if(Ne)throw ct}}return Me}}(Z,ye)||d(Z,ye)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(Z,ye){var Y=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!Y){if(Array.isArray(Z)||(Y=d(Z))||ye&&Z&&typeof Z.length=="number"){Y&&(Z=Y);var ce=0,Ze=function(){};return{s:Ze,n:function(){return ce>=Z.length?{done:!0}:{done:!1,value:Z[ce++]}},e:function(Ae){throw Ae},f:Ze}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ft,ct=!0,Ge=!1;return{s:function(){Y=Y.call(Z)},n:function(){var Ae=Y.next();return ct=Ae.done,Ae},e:function(Ae){Ge=!0,ft=Ae},f:function(){try{ct||Y.return==null||Y.return()}finally{if(Ge)throw ft}}}}function d(Z,ye){if(Z){if(typeof Z=="string")return _(Z,ye);var Y={}.toString.call(Z).slice(8,-1);return Y==="Object"&&Z.constructor&&(Y=Z.constructor.name),Y==="Map"||Y==="Set"?Array.from(Z):Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y)?_(Z,ye):void 0}}function _(Z,ye){(ye==null||ye>Z.length)&&(ye=Z.length);for(var Y=0,ce=Array(ye);Y<ye;Y++)ce[Y]=Z[Y];return ce}function C(){C=function(){return ye};var Z,ye={},Y=Object.prototype,ce=Y.hasOwnProperty,Ze=Object.defineProperty||function(Mt,It,Et){Mt[It]=Et.value},ft=typeof Symbol=="function"?Symbol:{},ct=ft.iterator||"@@iterator",Ge=ft.asyncIterator||"@@asyncIterator",Ae=ft.toStringTag||"@@toStringTag";function Me(Mt,It,Et){return Object.defineProperty(Mt,It,{value:Et,enumerable:!0,configurable:!0,writable:!0}),Mt[It]}try{Me({},"")}catch(Mt){Me=function(It,Et,Ct){return It[Et]=Ct}}function De(Mt,It,Et,Ct){var St=It&&It.prototype instanceof qe?It:qe,I=Object.create(St.prototype),We=new ai(Ct||[]);return Ze(I,"_invoke",{value:dt(Mt,Et,We)}),I}function Ne(Mt,It,Et){try{return{type:"normal",arg:Mt.call(It,Et)}}catch(Ct){return{type:"throw",arg:Ct}}}ye.wrap=De;var Ve="suspendedStart",rt="suspendedYield",je="executing",ee="completed",J={};function qe(){}function _t(){}function we(){}var $e={};Me($e,ct,function(){return this});var at=Object.getPrototypeOf,Ee=at&&at(at(ui([])));Ee&&Ee!==Y&&ce.call(Ee,ct)&&($e=Ee);var tt=we.prototype=qe.prototype=Object.create($e);function nt(Mt){["next","throw","return"].forEach(function(It){Me(Mt,It,function(Et){return this._invoke(It,Et)})})}function Vt(Mt,It){function Et(St,I,We,ke){var Ye=Ne(Mt[St],Mt,I);if(Ye.type!=="throw"){var Qe=Ye.arg,ht=Qe.value;return ht&&s(ht)=="object"&&ce.call(ht,"__await")?It.resolve(ht.__await).then(function(oe){Et("next",oe,We,ke)},function(oe){Et("throw",oe,We,ke)}):It.resolve(ht).then(function(oe){Qe.value=oe,We(Qe)},function(oe){return Et("throw",oe,We,ke)})}ke(Ye.arg)}var Ct;Ze(this,"_invoke",{value:function(St,I){function We(){return new It(function(ke,Ye){Et(St,I,ke,Ye)})}return Ct=Ct?Ct.then(We,We):We()}})}function dt(Mt,It,Et){var Ct=Ve;return function(St,I){if(Ct===je)throw Error("Generator is already running");if(Ct===ee){if(St==="throw")throw I;return{value:Z,done:!0}}for(Et.method=St,Et.arg=I;;){var We=Et.delegate;if(We){var ke=vt(We,Et);if(ke){if(ke===J)continue;return ke}}if(Et.method==="next")Et.sent=Et._sent=Et.arg;else if(Et.method==="throw"){if(Ct===Ve)throw Ct=ee,Et.arg;Et.dispatchException(Et.arg)}else Et.method==="return"&&Et.abrupt("return",Et.arg);Ct=je;var Ye=Ne(Mt,It,Et);if(Ye.type==="normal"){if(Ct=Et.done?ee:rt,Ye.arg===J)continue;return{value:Ye.arg,done:Et.done}}Ye.type==="throw"&&(Ct=ee,Et.method="throw",Et.arg=Ye.arg)}}}function vt(Mt,It){var Et=It.method,Ct=Mt.iterator[Et];if(Ct===Z)return It.delegate=null,Et==="throw"&&Mt.iterator.return&&(It.method="return",It.arg=Z,vt(Mt,It),It.method==="throw")||Et!=="return"&&(It.method="throw",It.arg=new TypeError("The iterator does not provide a '"+Et+"' method")),J;var St=Ne(Ct,Mt.iterator,It.arg);if(St.type==="throw")return It.method="throw",It.arg=St.arg,It.delegate=null,J;var I=St.arg;return I?I.done?(It[Mt.resultName]=I.value,It.next=Mt.nextLoc,It.method!=="return"&&(It.method="next",It.arg=Z),It.delegate=null,J):I:(It.method="throw",It.arg=new TypeError("iterator result is not an object"),It.delegate=null,J)}function Rt(Mt){var It={tryLoc:Mt[0]};1 in Mt&&(It.catchLoc=Mt[1]),2 in Mt&&(It.finallyLoc=Mt[2],It.afterLoc=Mt[3]),this.tryEntries.push(It)}function ii(Mt){var It=Mt.completion||{};It.type="normal",delete It.arg,Mt.completion=It}function ai(Mt){this.tryEntries=[{tryLoc:"root"}],Mt.forEach(Rt,this),this.reset(!0)}function ui(Mt){if(Mt||Mt===""){var It=Mt[ct];if(It)return It.call(Mt);if(typeof Mt.next=="function")return Mt;if(!isNaN(Mt.length)){var Et=-1,Ct=function St(){for(;++Et<Mt.length;)if(ce.call(Mt,Et))return St.value=Mt[Et],St.done=!1,St;return St.value=Z,St.done=!0,St};return Ct.next=Ct}}throw new TypeError(s(Mt)+" is not iterable")}return _t.prototype=we,Ze(tt,"constructor",{value:we,configurable:!0}),Ze(we,"constructor",{value:_t,configurable:!0}),_t.displayName=Me(we,Ae,"GeneratorFunction"),ye.isGeneratorFunction=function(Mt){var It=typeof Mt=="function"&&Mt.constructor;return!!It&&(It===_t||(It.displayName||It.name)==="GeneratorFunction")},ye.mark=function(Mt){return Object.setPrototypeOf?Object.setPrototypeOf(Mt,we):(Mt.__proto__=we,Me(Mt,Ae,"GeneratorFunction")),Mt.prototype=Object.create(tt),Mt},ye.awrap=function(Mt){return{__await:Mt}},nt(Vt.prototype),Me(Vt.prototype,Ge,function(){return this}),ye.AsyncIterator=Vt,ye.async=function(Mt,It,Et,Ct,St){St===void 0&&(St=Promise);var I=new Vt(De(Mt,It,Et,Ct),St);return ye.isGeneratorFunction(It)?I:I.next().then(function(We){return We.done?We.value:I.next()})},nt(tt),Me(tt,Ae,"Generator"),Me(tt,ct,function(){return this}),Me(tt,"toString",function(){return"[object Generator]"}),ye.keys=function(Mt){var It=Object(Mt),Et=[];for(var Ct in It)Et.push(Ct);return Et.reverse(),function St(){for(;Et.length;){var I=Et.pop();if(I in It)return St.value=I,St.done=!1,St}return St.done=!0,St}},ye.values=ui,ai.prototype={constructor:ai,reset:function(Mt){if(this.prev=0,this.next=0,this.sent=this._sent=Z,this.done=!1,this.delegate=null,this.method="next",this.arg=Z,this.tryEntries.forEach(ii),!Mt)for(var It in this)It.charAt(0)==="t"&&ce.call(this,It)&&!isNaN(+It.slice(1))&&(this[It]=Z)},stop:function(){this.done=!0;var Mt=this.tryEntries[0].completion;if(Mt.type==="throw")throw Mt.arg;return this.rval},dispatchException:function(Mt){if(this.done)throw Mt;var It=this;function Et(Ye,Qe){return I.type="throw",I.arg=Mt,It.next=Ye,Qe&&(It.method="next",It.arg=Z),!!Qe}for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var St=this.tryEntries[Ct],I=St.completion;if(St.tryLoc==="root")return Et("end");if(St.tryLoc<=this.prev){var We=ce.call(St,"catchLoc"),ke=ce.call(St,"finallyLoc");if(We&&ke){if(this.prev<St.catchLoc)return Et(St.catchLoc,!0);if(this.prev<St.finallyLoc)return Et(St.finallyLoc)}else if(We){if(this.prev<St.catchLoc)return Et(St.catchLoc,!0)}else{if(!ke)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return Et(St.finallyLoc)}}}},abrupt:function(Mt,It){for(var Et=this.tryEntries.length-1;Et>=0;--Et){var Ct=this.tryEntries[Et];if(Ct.tryLoc<=this.prev&&ce.call(Ct,"finallyLoc")&&this.prev<Ct.finallyLoc){var St=Ct;break}}St&&(Mt==="break"||Mt==="continue")&&St.tryLoc<=It&&It<=St.finallyLoc&&(St=null);var I=St?St.completion:{};return I.type=Mt,I.arg=It,St?(this.method="next",this.next=St.finallyLoc,J):this.complete(I)},complete:function(Mt,It){if(Mt.type==="throw")throw Mt.arg;return Mt.type==="break"||Mt.type==="continue"?this.next=Mt.arg:Mt.type==="return"?(this.rval=this.arg=Mt.arg,this.method="return",this.next="end"):Mt.type==="normal"&&It&&(this.next=It),J},finish:function(Mt){for(var It=this.tryEntries.length-1;It>=0;--It){var Et=this.tryEntries[It];if(Et.finallyLoc===Mt)return this.complete(Et.completion,Et.afterLoc),ii(Et),J}},catch:function(Mt){for(var It=this.tryEntries.length-1;It>=0;--It){var Et=this.tryEntries[It];if(Et.tryLoc===Mt){var Ct=Et.completion;if(Ct.type==="throw"){var St=Ct.arg;ii(Et)}return St}}throw Error("illegal catch attempt")},delegateYield:function(Mt,It,Et){return this.delegate={iterator:ui(Mt),resultName:It,nextLoc:Et},this.method==="next"&&(this.arg=Z),J}},ye}function N(Z,ye,Y,ce,Ze,ft,ct){try{var Ge=Z[ft](ct),Ae=Ge.value}catch(Me){return void Y(Me)}Ge.done?ye(Ae):Promise.resolve(Ae).then(ce,Ze)}function G(Z){return function(){var ye=this,Y=arguments;return new Promise(function(ce,Ze){var ft=Z.apply(ye,Y);function ct(Ae){N(ft,ce,Ze,ct,Ge,"next",Ae)}function Ge(Ae){N(ft,ce,Ze,ct,Ge,"throw",Ae)}ct(void 0)})}}function q(Z,ye){for(var Y=0;Y<ye.length;Y++){var ce=ye[Y];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Z,W(ce.key),ce)}}function K(Z,ye,Y){return ye=Oe(ye),function(ce,Ze){if(Ze&&(s(Ze)=="object"||typeof Ze=="function"))return Ze;if(Ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ft){if(ft===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft}(ce)}(Z,ie()?Reflect.construct(ye,Y||[],Oe(Z).constructor):ye.apply(Z,Y))}function ie(){try{var Z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(ye){}return(ie=function(){return!!Z})()}function Q(Z,ye,Y,ce){var Ze=te(Oe(1&ce?Z.prototype:Z),ye,Y);return 2&ce&&typeof Ze=="function"?function(ft){return Ze.apply(Y,ft)}:Ze}function te(){return te=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Z,ye,Y){var ce=function(ft,ct){for(;!{}.hasOwnProperty.call(ft,ct)&&(ft=Oe(ft))!==null;);return ft}(Z,ye);if(ce){var Ze=Object.getOwnPropertyDescriptor(ce,ye);return Ze.get?Ze.get.call(arguments.length<3?Z:Y):Ze.value}},te.apply(null,arguments)}function Oe(Z){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ye){return ye.__proto__||Object.getPrototypeOf(ye)},Oe(Z)}function fe(Z,ye){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,ce){return Y.__proto__=ce,Y},fe(Z,ye)}function W(Z){var ye=function(Y,ce){if(s(Y)!="object"||!Y)return Y;var Ze=Y[Symbol.toPrimitive];if(Ze!==void 0){var ft=Ze.call(Y,"string");if(s(ft)!="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(Z);return s(ye)=="symbol"?ye:ye+""}var ae=window.BookReader,de=function(Z){function ye(){var ct,Ge,Ae,Me;(function(rt,je){if(!(rt instanceof je))throw new TypeError("Cannot call a class as a function")})(this,ye);for(var De=arguments.length,Ne=new Array(De),Ve=0;Ve<De;Ve++)Ne[Ve]=arguments[Ve];return Ge=ct=K(this,ye,[].concat(Ne)),Ae="options",Me={enabled:!0,preTag:"{{{",postTag:"}}}",searchInsideUrl:"/fulltext/inside.php?"+["q={{query|urlencode}}","pre_tag={{preTag|urlencode}}","post_tag={{postTag|urlencode}}"].join("&"),initialSearchTerm:null,goToFirstResult:!1},(Ae=W(Ae))in Ge?Object.defineProperty(Ge,Ae,{value:Me,enumerable:!0,configurable:!0,writable:!0}):Ge[Ae]=Me,ct}return function(ct,Ge){if(typeof Ge!="function"&&Ge!==null)throw new TypeError("Super expression must either be null or a function");ct.prototype=Object.create(Ge&&Ge.prototype,{constructor:{value:ct,writable:!0,configurable:!0}}),Object.defineProperty(ct,"prototype",{writable:!1}),Ge&&fe(ct,Ge)}(ye,Z),Y=ye,ce=[{key:"setup",value:function(ct){var Ge=this;Q(ye,"setup",this,3)([ct]),this.searchTerm="",this.searchResults=null,this.searchInsideUrl=this.options.searchInsideUrl,this.enabled=this.options.enabled,this.searchXHR=null,this._searchBoxesByIndex={},this.enabled?this.searchView=new g({br:this.br,searchCancelledCallback:function(){Ge._cancelSearch(),Ge.br.trigger("SearchCanceled",{term:Ge.searchTerm,instance:Ge.br})}}):this.searchView=null}},{key:"init",value:function(){Q(ye,"init",this,3)([]),this.enabled&&(this.searchView.init(),this.options.initialSearchTerm&&this.search(this.options.initialSearchTerm,{goToFirstResult:this.options.goToFirstResult,suppressFragmentChange:!1}))}},{key:"_configureToolbar",value:function(ct){if(this.enabled)return this.searchView.dom.toolbarSearch&&ct.find(".BRtoolbarSectionInfo").after(this.searchView.dom.toolbarSearch),ct}},{key:"_configurePageContainer",value:function(ct){if(this.enabled&&ct.page&&ct.page.index in this._searchBoxesByIndex){var Ge=ct.page.index,Ae=this._searchBoxesByIndex[Ge];(0,l.KL)("searchHiliteLayer",Ae,ct.page,ct.$container[0],Ae.map(function(Me){return"match-index-".concat(Me.matchIndex)}))}return ct}},{key:"search",value:(ft=G(C().mark(function ct(){var Ge,Ae,Me,De,Ne,Ve,rt=this,je=arguments;return C().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return Ge=je.length>0&&je[0]!==void 0?je[0]:"",Ae=je.length>1&&je[1]!==void 0?je[1]:{},Me={goToFirstResult:!1,disablePopup:!1,suppressFragmentChange:!1,error:null,success:null},De=E.extend({},Me,Ae),this.suppressFragmentChange=De.suppressFragmentChange,this.searchCancelled=!1,this.searchTerm=Ge.replace(/\//g," "),De.suppressFragmentChange||this.br.trigger(ae.eventNames.fragmentChange),Ne=(0,P.g)(this.options.searchInsideUrl,this.br.options.vars,{query:Ge,preTag:this.options.preTag,postTag:this.options.postTag}),Ve=function(J){if(!rt.searchCancelled){var qe=J.error||!J.matches.length,_t=typeof De.error=="function",we=typeof De.success=="function";qe?(console.error("Search Inside Response Error",J.error||"matches.length == 0"),_t?De.error.call(rt,J,De):rt.BRSearchCallbackError(J)):we?De.success.call(rt,J,De):rt.BRSearchCallback(J,De)}},this.br.trigger("SearchStarted",{term:this.searchTerm,instance:this.br}),ee.t0=Ve,ee.next=14,L.ajax({url:Ne,cache:!0,xhrFields:{withCredentials:this.br.protected},beforeSend:function(J){rt.searchXHR=J}});case 14:ee.t1=ee.sent,(0,ee.t0)(ee.t1);case 16:case"end":return ee.stop()}},ct,this)})),function(){return ft.apply(this,arguments)})},{key:"_cancelSearch",value:function(){var ct;(ct=this.searchXHR)===null||ct===void 0||ct.abort(),this.searchView.clearSearchFieldAndResults(!1),this.searchTerm="",this.searchXHR=null,this.searchCancelled=!0,this.searchResults=null}},{key:"cancelSearchRequest",value:function(){this.searchCancelled=!0,this.searchXHR!==null&&(this._cancelSearch(),this.searchView.toggleSearchPending(),this.br.trigger("SearchCanceled",{term:this.searchTerm,instance:this.br}))}},{key:"BRSearchCallback",value:function(ct,Ge){var Ae=this;(function(Me,De,Ne,Ve){var rt,je,ee=y(Me.matches.entries());try{for(ee.s();!(rt=ee.n()).done;){var J=m(rt.value,2),qe=J[0],_t=J[1];_t.matchIndex=qe,_t.displayPageNumber=(je=_t.par[0].page,Ae.br.book.getPageNum(Ae.br.book.leafNumToIndex(je))),_t.html=k(_t.text,Ne,Ve);var we,$e=y(_t.par);try{for($e.s();!(we=$e.n()).done;){var at,Ee=y(we.value.boxes);try{for(Ee.s();!(at=Ee.n()).done;)at.value.matchIndex=qe}catch(tt){Ee.e(tt)}finally{Ee.f()}}}catch(tt){$e.e(tt)}finally{$e.f()}}}catch(tt){ee.e(tt)}finally{ee.f()}})(ct,0,this.options.preTag,this.options.postTag),this.searchResults=ct||null,this.updateSearchHilites(),this.br.removeProgressPopup(),Ge.goToFirstResult&&this.jumpToMatch(0),this.br.trigger("SearchCallback",{results:ct,options:Ge,instance:this.br})}},{key:"BRSearchCallbackError",value:function(ct){this._BRSearchCallbackError(ct)}},{key:"_BRSearchCallbackError",value:function(ct){this.searchResults=ct;var Ge={term:this.searchTerm,results:ct,instance:this.br};if(ct.error)this.br.trigger("SearchCallbackError",Ge);else if(ct.matches.length==0){if(ct.indexed===!1)return void this.br.trigger("SearchCallbackBookNotIndexed",Ge);this.br.trigger("SearchCallbackEmpty",Ge)}}},{key:"updateSearchHilites",value:function(){var ct,Ge=((ct=this.searchResults)===null||ct===void 0?void 0:ct.matches)||[],Ae={};this.removeSearchHilites();var Me,De=v(Ge);try{for(De.s();!(Me=De.n()).done;){var Ne,Ve=v(Me.value.par[0].boxes);try{for(Ve.s();!(Ne=Ve.n()).done;){var rt=Ne.value,je=this.br.book.leafNumToIndex(rt.page);(Ae[je]||(Ae[je]=[])).push(rt)}}catch(Vt){Ve.e(Vt)}finally{Ve.f()}}}catch(Vt){De.e(Vt)}finally{De.f()}for(var ee=0,J=Object.entries(Ae);ee<J.length;ee++){var qe,_t=h(J[ee],2),we=_t[0],$e=_t[1],at=parseFloat(we),Ee=this.br.book.getPage(at),tt=v(this.br.getActivePageContainerElementsForIndex(at));try{for(tt.s();!(qe=tt.n()).done;){var nt=qe.value;(0,l.KL)("searchHiliteLayer",$e,Ee,nt,$e.map(function(Vt){return"match-index-".concat(Vt.matchIndex)}))}}catch(Vt){tt.e(Vt)}finally{tt.f()}}this._searchBoxesByIndex=Ae}},{key:"removeSearchHilites",value:function(){L(this.br.getActivePageContainerElements()).find(".searchHiliteLayer").remove()}},{key:"jumpToMatch",value:(Ze=G(C().mark(function ct(Ge){var Ae,Me,De,Ne,Ve,rt,je,ee,J,qe,_t,we;return C().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(Me=(Ae=this.searchResults)===null||Ae===void 0?void 0:Ae.matches[Ge],De=this.br.book,Ne=De.leafNumToIndex(Me.par[0].page),Ve=De.getPage(Ne),rt=Math.abs(this.br.currentIndex()-Ne)<3,je=!1,Ve.isViewable){$e.next=17;break}return $e.next=9,fetch("/services/bookreader/request_page?"+new URLSearchParams({id:this.br.options.bookId,subprefix:this.br.options.subPrefix,leafNum:Ve.leafNum})).then(function(at){return at.json()});case 9:ee=$e.sent,J=v(ee.value);try{for(J.s();!(qe=J.n()).done;)_t=qe.value,De.getPage(De.leafNumToIndex(_t)).makeViewable()}catch(at){J.e(at)}finally{J.f()}if(ee.value.length||(De.getPage(Ne).makeViewable(),je=!0),this.br._modes.mode1Up.mode1UpLit.updatePages(),this.br.activeMode!=this.br._modes.mode1Up){$e.next=17;break}return $e.next=17,this.br._modes.mode1Up.mode1UpLit.updateComplete;case 17:return this.br._isIndexDisplayed(Ne)||(this.suppressFragmentChange=!1,this.br.jumpToIndex(Ne)),je&&De.getPage(Ne).makeViewable(!1),$e.next=21,(0,a.poll)(function(){return L("rect.match-index-".concat(Me.matchIndex))},{until:function(at){return at.length>0}});case 21:if(!(we=$e.sent).length){$e.next=28;break}return we.css("animation","none"),we[0].scrollIntoView({block:this.br.constMode1up==this.br.mode||this.br.isFullscreenActive?"center":"nearest",inline:"center",behavior:rt?"smooth":"auto"}),$e.next=27,new Promise(function(at){return setTimeout(at,100)});case 27:we.removeAttr("style");case 28:case"end":return $e.stop()}},ct,this)})),function(ct){return Ze.apply(this,arguments)})},{key:"removeSearchResults",value:function(){var ct=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.removeSearchHilites(),this.searchTerm=null,this.searchResults=null,ct||this.br.trigger(ae.eventNames.fragmentChange)}}],ce&&q(Y.prototype,ce),Object.defineProperty(Y,"prototype",{writable:!1}),Y;var Y,ce,Ze,ft}(S.S);ae==null||ae.registerPlugin("search",de)},9073:function(e,t,r){function a(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,p=Array(n);u<n;u++)p[u]=c[u];return p}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,x=function(P){if(Array.isArray(P))return P}(y=m.split("|").map(function(P){return P.trim()}))||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(y)||function(P,E){if(P){if(typeof P=="string")return a(P,E);var L={}.toString.call(P).slice(8,-1);return L==="Object"&&P.constructor&&(L=P.constructor.name),L==="Map"||L==="Set"?Array.from(P):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?a(P,E):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=x[0],k=x.slice(1);if(!(w in u)&&!(w in n))return g;var S=w in u?u[w]:w in n?n[w]:null;return k.map(function(P){return p[P]}).reduce(function(P,E){return E(P)},S&&S.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=5372)}]);d2=Z7,{default:h2}=d2,J7=an(d2,["default"]),p2=h2!==void 0?h2:J7;});var f2={};Dn(f2,{default:()=>p2});var m2=Kt(()=>{og();og()});var Q7,g2,v2,eC,y2,ag=Kt(()=>{Q7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[623],{1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(a(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(a(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return a(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},6165:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8706),r(3792),r(9572),r(8130),r(875),r(6099),r(825),r(7495),r(7764),r(1761),r(2953);var a=r(1041);function l(w){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},l(w)}function o(w,k){for(var S=0;S<k.length;S++){var P=k[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,m(P.key),P)}}function c(w,k,S){return k=u(k),function(P,E){if(E&&(l(E)=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}(P)}(w,n()?Reflect.construct(k,S||[],u(w).constructor):k.apply(w,S))}function n(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(k){}return(n=function(){return!!w})()}function u(w){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},u(w)}function p(w,k){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,P){return S.__proto__=P,S},p(w,k)}function g(w,k,S){return(k=m(k))in w?Object.defineProperty(w,k,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[k]=S,w}function m(w){var k=function(S,P){if(l(S)!="object"||!S)return S;var E=S[Symbol.toPrimitive];if(E!==void 0){var L=E.call(S,"string");if(l(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(w);return l(k)=="symbol"?k:k+""}var y=window.BookReader,x=function(w){function k(){var E;(function(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")})(this,k);for(var L=arguments.length,s=new Array(L),h=0;h<L;h++)s[h]=arguments[h];return g(E=c(this,k,[].concat(s)),"options",{enabled:!0,debug:!1}),g(E,"_prevFragment",null),E}return function(E,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),L&&p(E,L)}(k,w),S=k,P=[{key:"init",value:function(){var E=this;this.options.enabled&&this.br.bind(y.eventNames.fragmentChange,function(){return E.sendFragmentChange()})}},{key:"sendFragmentChange",value:function(){if(window.archive_analytics){var E=this._prevFragment,L=this.br.paramsFromCurrent(),s=this.br.fragmentFromParams(L);if(E!=s){var h,v={bookreader:"user_changed_view",itemid:this.br.bookId,cache_bust:Math.random(),offsite:1,details:0};try{v.offsite=window.top.location.hostname.match(/\.archive.org$/)?0:1,v.details=!v.offsite&&window.top.location.pathname.match(/^\/details\//)?1:0}catch(_){}window.archive_analytics.send_ping(v,null,"augment_for_ao_site");var d=(h=this.br.options.lendingInfo)!==null&&h!==void 0&&h.loanId?{loanId:this.br.options.lendingInfo.loanId}:{};window.archive_analytics.send_event("BookReader","UserChangedView",window.location.pathname,d),this._prevFragment=s}}}},{key:"sendEvent",value:function(E,L,s,h){this.options.enabled&&(this.options.debug&&console.log("archiveAnalyticsSendEvent",arguments,window.archive_analytics),window.archive_analytics&&(h=h||{},typeof s=="number"&&(h.ev=s),window.archive_analytics.send_event(E,L,null,h)))}}],P&&o(S.prototype,P),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,P}(a.S);y==null||y.registerPlugin("archiveAnalytics",x)}},function(e){e(e.s=6165)}]);g2=Q7,{default:v2}=g2,eC=an(g2,["default"]),y2=v2!==void 0?v2:eC});var b2={};Dn(b2,{default:()=>y2});var w2=Kt(()=>{ag();ag()});var tC,x2,_2,iC,k2,sg=Kt(()=>{tC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[479],{6098:function(e,t,r){var a=r(9504),l=2147483647,o=/[^\0-\u007E]/,c=/[.\u3002\uFF0E\uFF61]/g,n="Overflow: input needs wider integers to process",u=RangeError,p=a(c.exec),g=Math.floor,m=String.fromCharCode,y=a("".charCodeAt),x=a([].join),w=a([].push),k=a("".replace),S=a("".split),P=a("".toLowerCase),E=function(h){return h+22+75*(h<26)},L=function(h,v,d){var _=0;for(h=d?g(h/700):h>>1,h+=g(h/v);h>455;)h=g(h/35),_+=36;return g(_+36*h/(h+38))},s=function(h){var v=[];h=function(Z){for(var ye=[],Y=0,ce=Z.length;Y<ce;){var Ze=y(Z,Y++);if(Ze>=55296&&Ze<=56319&&Y<ce){var ft=y(Z,Y++);(64512&ft)==56320?w(ye,((1023&Ze)<<10)+(1023&ft)+65536):(w(ye,Ze),Y--)}else w(ye,Ze)}return ye}(h);var d,_,C=h.length,N=128,G=0,q=72;for(d=0;d<h.length;d++)(_=h[d])<128&&w(v,m(_));var K=v.length,ie=K;for(K&&w(v,"-");ie<C;){var Q=l;for(d=0;d<h.length;d++)(_=h[d])>=N&&_<Q&&(Q=_);var te=ie+1;if(Q-N>g((l-G)/te))throw new u(n);for(G+=(Q-N)*te,N=Q,d=0;d<h.length;d++){if((_=h[d])<N&&++G>l)throw new u(n);if(_===N){for(var Oe=G,fe=36;;){var W=fe<=q?1:fe>=q+26?26:fe-q;if(Oe<W)break;var ae=Oe-W,de=36-W;w(v,m(E(W+ae%de))),Oe=g(ae/de),fe+=36}w(v,m(E(Oe))),q=L(G,te,ie===K),G=0,ie++}}G++,N++}return x(v,"")};e.exports=function(h){var v,d,_=[],C=S(k(P(h),c,"."),".");for(v=0;v<C.length;v++)d=C[v],w(_,p(o,d)?"xn--"+s(d):d);return x(_,".")}},706:function(e,t,r){var a=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||a&&o[c].name!==c})}},3921:function(e,t,r){var a=r(6518),l=r(2652),o=r(4659);a({target:"Object",stat:!0},{fromEntries:function(c){var n={};return l(c,function(u,p){o(n,u,p)},{AS_ENTRIES:!0}),n}})},2762:function(e,t,r){var a=r(6518),l=r(3802).trim;a({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},5806:function(e,t,r){r(7764);var a,l=r(6518),o=r(3724),c=r(7416),n=r(4576),u=r(6080),p=r(9504),g=r(6840),m=r(2106),y=r(679),x=r(9297),w=r(4213),k=r(7916),S=r(7680),P=r(8183).codeAt,E=r(6098),L=r(655),s=r(687),h=r(2812),v=r(8406),d=r(1181),_=d.set,C=d.getterFor("URL"),N=v.URLSearchParams,G=v.getState,q=n.URL,K=n.TypeError,ie=n.parseInt,Q=Math.floor,te=Math.pow,Oe=p("".charAt),fe=p(/./.exec),W=p([].join),ae=p(1 .toString),de=p([].pop),Z=p([].push),ye=p("".replace),Y=p([].shift),ce=p("".split),Ze=p("".slice),ft=p("".toLowerCase),ct=p([].unshift),Ge="Invalid scheme",Ae="Invalid host",Me="Invalid port",De=/[a-z]/i,Ne=/[\d+-.a-z]/i,Ve=/\d/,rt=/^0x/i,je=/^[0-7]+$/,ee=/^\d+$/,J=/^[\da-f]+$/i,qe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,_t=/[\0\t\n\r #/:<>?@[\\\]^|]/,we=/^[\u0000-\u0020]+/,$e=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,at=/[\t\n\r]/g,Ee=function(et){var xt,kt,Xt,Xe;if(typeof et=="number"){for(xt=[],kt=0;kt<4;kt++)ct(xt,et%256),et=Q(et/256);return W(xt,".")}if(typeof et=="object"){for(xt="",Xt=function(ni){for(var ti=null,Ai=1,qt=null,ci=0,Ti=0;Ti<8;Ti++)ni[Ti]!==0?(ci>Ai&&(ti=qt,Ai=ci),qt=null,ci=0):(qt===null&&(qt=Ti),++ci);return ci>Ai?qt:ti}(et),kt=0;kt<8;kt++)Xe&&et[kt]===0||(Xe&&(Xe=!1),Xt===kt?(xt+=kt?":":"::",Xe=!0):(xt+=ae(et[kt],16),kt<7&&(xt+=":")));return"["+xt+"]"}return et},tt={},nt=w({},tt,{" ":1,'"':1,"<":1,">":1,"`":1}),Vt=w({},nt,{"#":1,"?":1,"{":1,"}":1}),dt=w({},Vt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),vt=function(et,xt){var kt=P(et,0);return kt>32&&kt<127&&!x(xt,et)?et:encodeURIComponent(et)},Rt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ii=function(et,xt){var kt;return et.length===2&&fe(De,Oe(et,0))&&((kt=Oe(et,1))===":"||!xt&&kt==="|")},ai=function(et){var xt;return et.length>1&&ii(Ze(et,0,2))&&(et.length===2||(xt=Oe(et,2))==="/"||xt==="\\"||xt==="?"||xt==="#")},ui=function(et){return et==="."||ft(et)==="%2e"},Mt={},It={},Et={},Ct={},St={},I={},We={},ke={},Ye={},Qe={},ht={},oe={},Le={},ze={},yt={},ut={},Tt={},Ut={},Jt={},Lt={},jt={},Je=function(et,xt,kt){var Xt,Xe,ni,ti=L(et);if(xt){if(Xe=this.parse(ti))throw new K(Xe);this.searchParams=null}else{if(kt!==void 0&&(Xt=new Je(kt,!0)),Xe=this.parse(ti,null,Xt))throw new K(Xe);(ni=G(new N)).bindURL(this),this.searchParams=ni}};Je.prototype={type:"URL",parse:function(et,xt,kt){var Xt,Xe,ni,ti,Ai,qt=this,ci=xt||Mt,Ti=0,Mi="",ir=!1,Ki=!1,Gi=!1;for(et=L(et),xt||(qt.scheme="",qt.username="",qt.password="",qt.host=null,qt.port=null,qt.path=[],qt.query=null,qt.fragment=null,qt.cannotBeABaseURL=!1,et=ye(et,we,""),et=ye(et,$e,"$1")),et=ye(et,at,""),Xt=k(et);Ti<=Xt.length;){switch(Xe=Xt[Ti],ci){case Mt:if(!Xe||!fe(De,Xe)){if(xt)return Ge;ci=Et;continue}Mi+=ft(Xe),ci=It;break;case It:if(Xe&&(fe(Ne,Xe)||Xe==="+"||Xe==="-"||Xe==="."))Mi+=ft(Xe);else{if(Xe!==":"){if(xt)return Ge;Mi="",ci=Et,Ti=0;continue}if(xt&&(qt.isSpecial()!==x(Rt,Mi)||Mi==="file"&&(qt.includesCredentials()||qt.port!==null)||qt.scheme==="file"&&!qt.host))return;if(qt.scheme=Mi,xt)return void(qt.isSpecial()&&Rt[qt.scheme]===qt.port&&(qt.port=null));Mi="",qt.scheme==="file"?ci=ze:qt.isSpecial()&&kt&&kt.scheme===qt.scheme?ci=Ct:qt.isSpecial()?ci=ke:Xt[Ti+1]==="/"?(ci=St,Ti++):(qt.cannotBeABaseURL=!0,Z(qt.path,""),ci=Jt)}break;case Et:if(!kt||kt.cannotBeABaseURL&&Xe!=="#")return Ge;if(kt.cannotBeABaseURL&&Xe==="#"){qt.scheme=kt.scheme,qt.path=S(kt.path),qt.query=kt.query,qt.fragment="",qt.cannotBeABaseURL=!0,ci=jt;break}ci=kt.scheme==="file"?ze:I;continue;case Ct:if(Xe!=="/"||Xt[Ti+1]!=="/"){ci=I;continue}ci=Ye,Ti++;break;case St:if(Xe==="/"){ci=Qe;break}ci=Ut;continue;case I:if(qt.scheme=kt.scheme,Xe===a)qt.username=kt.username,qt.password=kt.password,qt.host=kt.host,qt.port=kt.port,qt.path=S(kt.path),qt.query=kt.query;else if(Xe==="/"||Xe==="\\"&&qt.isSpecial())ci=We;else if(Xe==="?")qt.username=kt.username,qt.password=kt.password,qt.host=kt.host,qt.port=kt.port,qt.path=S(kt.path),qt.query="",ci=Lt;else{if(Xe!=="#"){qt.username=kt.username,qt.password=kt.password,qt.host=kt.host,qt.port=kt.port,qt.path=S(kt.path),qt.path.length--,ci=Ut;continue}qt.username=kt.username,qt.password=kt.password,qt.host=kt.host,qt.port=kt.port,qt.path=S(kt.path),qt.query=kt.query,qt.fragment="",ci=jt}break;case We:if(!qt.isSpecial()||Xe!=="/"&&Xe!=="\\"){if(Xe!=="/"){qt.username=kt.username,qt.password=kt.password,qt.host=kt.host,qt.port=kt.port,ci=Ut;continue}ci=Qe}else ci=Ye;break;case ke:if(ci=Ye,Xe!=="/"||Oe(Mi,Ti+1)!=="/")continue;Ti++;break;case Ye:if(Xe!=="/"&&Xe!=="\\"){ci=Qe;continue}break;case Qe:if(Xe==="@"){ir&&(Mi="%40"+Mi),ir=!0,ni=k(Mi);for(var Sr=0;Sr<ni.length;Sr++){var tr=ni[Sr];if(tr!==":"||Gi){var yr=vt(tr,dt);Gi?qt.password+=yr:qt.username+=yr}else Gi=!0}Mi=""}else if(Xe===a||Xe==="/"||Xe==="?"||Xe==="#"||Xe==="\\"&&qt.isSpecial()){if(ir&&Mi==="")return"Invalid authority";Ti-=k(Mi).length+1,Mi="",ci=ht}else Mi+=Xe;break;case ht:case oe:if(xt&&qt.scheme==="file"){ci=ut;continue}if(Xe!==":"||Ki){if(Xe===a||Xe==="/"||Xe==="?"||Xe==="#"||Xe==="\\"&&qt.isSpecial()){if(qt.isSpecial()&&Mi==="")return Ae;if(xt&&Mi===""&&(qt.includesCredentials()||qt.port!==null))return;if(ti=qt.parseHost(Mi))return ti;if(Mi="",ci=Tt,xt)return;continue}Xe==="["?Ki=!0:Xe==="]"&&(Ki=!1),Mi+=Xe}else{if(Mi==="")return Ae;if(ti=qt.parseHost(Mi))return ti;if(Mi="",ci=Le,xt===oe)return}break;case Le:if(!fe(Ve,Xe)){if(Xe===a||Xe==="/"||Xe==="?"||Xe==="#"||Xe==="\\"&&qt.isSpecial()||xt){if(Mi!==""){var _r=ie(Mi,10);if(_r>65535)return Me;qt.port=qt.isSpecial()&&_r===Rt[qt.scheme]?null:_r,Mi=""}if(xt)return;ci=Tt;continue}return Me}Mi+=Xe;break;case ze:if(qt.scheme="file",Xe==="/"||Xe==="\\")ci=yt;else{if(!kt||kt.scheme!=="file"){ci=Ut;continue}switch(Xe){case a:qt.host=kt.host,qt.path=S(kt.path),qt.query=kt.query;break;case"?":qt.host=kt.host,qt.path=S(kt.path),qt.query="",ci=Lt;break;case"#":qt.host=kt.host,qt.path=S(kt.path),qt.query=kt.query,qt.fragment="",ci=jt;break;default:ai(W(S(Xt,Ti),""))||(qt.host=kt.host,qt.path=S(kt.path),qt.shortenPath()),ci=Ut;continue}}break;case yt:if(Xe==="/"||Xe==="\\"){ci=ut;break}kt&&kt.scheme==="file"&&!ai(W(S(Xt,Ti),""))&&(ii(kt.path[0],!0)?Z(qt.path,kt.path[0]):qt.host=kt.host),ci=Ut;continue;case ut:if(Xe===a||Xe==="/"||Xe==="\\"||Xe==="?"||Xe==="#"){if(!xt&&ii(Mi))ci=Ut;else if(Mi===""){if(qt.host="",xt)return;ci=Tt}else{if(ti=qt.parseHost(Mi))return ti;if(qt.host==="localhost"&&(qt.host=""),xt)return;Mi="",ci=Tt}continue}Mi+=Xe;break;case Tt:if(qt.isSpecial()){if(ci=Ut,Xe!=="/"&&Xe!=="\\")continue}else if(xt||Xe!=="?")if(xt||Xe!=="#"){if(Xe!==a&&(ci=Ut,Xe!=="/"))continue}else qt.fragment="",ci=jt;else qt.query="",ci=Lt;break;case Ut:if(Xe===a||Xe==="/"||Xe==="\\"&&qt.isSpecial()||!xt&&(Xe==="?"||Xe==="#")){if((Ai=ft(Ai=Mi))===".."||Ai==="%2e."||Ai===".%2e"||Ai==="%2e%2e"?(qt.shortenPath(),Xe==="/"||Xe==="\\"&&qt.isSpecial()||Z(qt.path,"")):ui(Mi)?Xe==="/"||Xe==="\\"&&qt.isSpecial()||Z(qt.path,""):(qt.scheme==="file"&&!qt.path.length&&ii(Mi)&&(qt.host&&(qt.host=""),Mi=Oe(Mi,0)+":"),Z(qt.path,Mi)),Mi="",qt.scheme==="file"&&(Xe===a||Xe==="?"||Xe==="#"))for(;qt.path.length>1&&qt.path[0]==="";)Y(qt.path);Xe==="?"?(qt.query="",ci=Lt):Xe==="#"&&(qt.fragment="",ci=jt)}else Mi+=vt(Xe,Vt);break;case Jt:Xe==="?"?(qt.query="",ci=Lt):Xe==="#"?(qt.fragment="",ci=jt):Xe!==a&&(qt.path[0]+=vt(Xe,tt));break;case Lt:xt||Xe!=="#"?Xe!==a&&(Xe==="'"&&qt.isSpecial()?qt.query+="%27":qt.query+=Xe==="#"?"%23":vt(Xe,tt)):(qt.fragment="",ci=jt);break;case jt:Xe!==a&&(qt.fragment+=vt(Xe,nt))}Ti++}},parseHost:function(et){var xt,kt,Xt;if(Oe(et,0)==="["){if(Oe(et,et.length-1)!=="]"||(xt=function(Xe){var ni,ti,Ai,qt,ci,Ti,Mi,ir=[0,0,0,0,0,0,0,0],Ki=0,Gi=null,Sr=0,tr=function(){return Oe(Xe,Sr)};if(tr()===":"){if(Oe(Xe,1)!==":")return;Sr+=2,Gi=++Ki}for(;tr();){if(Ki===8)return;if(tr()!==":"){for(ni=ti=0;ti<4&&fe(J,tr());)ni=16*ni+ie(tr(),16),Sr++,ti++;if(tr()==="."){if(ti===0||(Sr-=ti,Ki>6))return;for(Ai=0;tr();){if(qt=null,Ai>0){if(!(tr()==="."&&Ai<4))return;Sr++}if(!fe(Ve,tr()))return;for(;fe(Ve,tr());){if(ci=ie(tr(),10),qt===null)qt=ci;else{if(qt===0)return;qt=10*qt+ci}if(qt>255)return;Sr++}ir[Ki]=256*ir[Ki]+qt,++Ai!=2&&Ai!==4||Ki++}if(Ai!==4)return;break}if(tr()===":"){if(Sr++,!tr())return}else if(tr())return;ir[Ki++]=ni}else{if(Gi!==null)return;Sr++,Gi=++Ki}}if(Gi!==null)for(Ti=Ki-Gi,Ki=7;Ki!==0&&Ti>0;)Mi=ir[Ki],ir[Ki--]=ir[Gi+Ti-1],ir[Gi+--Ti]=Mi;else if(Ki!==8)return;return ir}(Ze(et,1,-1)),!xt))return Ae;this.host=xt}else if(this.isSpecial()){if(et=E(et),fe(qe,et)||(xt=function(Xe){var ni,ti,Ai,qt,ci,Ti,Mi,ir=ce(Xe,".");if(ir.length&&ir[ir.length-1]===""&&ir.length--,(ni=ir.length)>4)return Xe;for(ti=[],Ai=0;Ai<ni;Ai++){if((qt=ir[Ai])==="")return Xe;if(ci=10,qt.length>1&&Oe(qt,0)==="0"&&(ci=fe(rt,qt)?16:8,qt=Ze(qt,ci===8?1:2)),qt==="")Ti=0;else{if(!fe(ci===10?ee:ci===8?je:J,qt))return Xe;Ti=ie(qt,ci)}Z(ti,Ti)}for(Ai=0;Ai<ni;Ai++)if(Ti=ti[Ai],Ai===ni-1){if(Ti>=te(256,5-ni))return null}else if(Ti>255)return null;for(Mi=de(ti),Ai=0;Ai<ti.length;Ai++)Mi+=ti[Ai]*te(256,3-Ai);return Mi}(et),xt===null))return Ae;this.host=xt}else{if(fe(_t,et))return Ae;for(xt="",kt=k(et),Xt=0;Xt<kt.length;Xt++)xt+=vt(kt[Xt],tt);this.host=xt}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return x(Rt,this.scheme)},shortenPath:function(){var et=this.path,xt=et.length;!xt||this.scheme==="file"&&xt===1&&ii(et[0],!0)||et.length--},serialize:function(){var et=this,xt=et.scheme,kt=et.username,Xt=et.password,Xe=et.host,ni=et.port,ti=et.path,Ai=et.query,qt=et.fragment,ci=xt+":";return Xe!==null?(ci+="//",et.includesCredentials()&&(ci+=kt+(Xt?":"+Xt:"")+"@"),ci+=Ee(Xe),ni!==null&&(ci+=":"+ni)):xt==="file"&&(ci+="//"),ci+=et.cannotBeABaseURL?ti[0]:ti.length?"/"+W(ti,"/"):"",Ai!==null&&(ci+="?"+Ai),qt!==null&&(ci+="#"+qt),ci},setHref:function(et){var xt=this.parse(et);if(xt)throw new K(xt);this.searchParams.update()},getOrigin:function(){var et=this.scheme,xt=this.port;if(et==="blob")try{return new Re(et.path[0]).origin}catch(kt){return"null"}return et!=="file"&&this.isSpecial()?et+"://"+Ee(this.host)+(xt!==null?":"+xt:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(et){this.parse(L(et)+":",Mt)},getUsername:function(){return this.username},setUsername:function(et){var xt=k(L(et));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var kt=0;kt<xt.length;kt++)this.username+=vt(xt[kt],dt)}},getPassword:function(){return this.password},setPassword:function(et){var xt=k(L(et));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var kt=0;kt<xt.length;kt++)this.password+=vt(xt[kt],dt)}},getHost:function(){var et=this.host,xt=this.port;return et===null?"":xt===null?Ee(et):Ee(et)+":"+xt},setHost:function(et){this.cannotBeABaseURL||this.parse(et,ht)},getHostname:function(){var et=this.host;return et===null?"":Ee(et)},setHostname:function(et){this.cannotBeABaseURL||this.parse(et,oe)},getPort:function(){var et=this.port;return et===null?"":L(et)},setPort:function(et){this.cannotHaveUsernamePasswordPort()||((et=L(et))===""?this.port=null:this.parse(et,Le))},getPathname:function(){var et=this.path;return this.cannotBeABaseURL?et[0]:et.length?"/"+W(et,"/"):""},setPathname:function(et){this.cannotBeABaseURL||(this.path=[],this.parse(et,Tt))},getSearch:function(){var et=this.query;return et?"?"+et:""},setSearch:function(et){(et=L(et))===""?this.query=null:(Oe(et,0)==="?"&&(et=Ze(et,1)),this.query="",this.parse(et,Lt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var et=this.fragment;return et?"#"+et:""},setHash:function(et){(et=L(et))!==""?(Oe(et,0)==="#"&&(et=Ze(et,1)),this.fragment="",this.parse(et,jt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Re=function(et){var xt=y(this,Be),kt=h(arguments.length,1)>1?arguments[1]:void 0,Xt=_(xt,new Je(et,!1,kt));o||(xt.href=Xt.serialize(),xt.origin=Xt.getOrigin(),xt.protocol=Xt.getProtocol(),xt.username=Xt.getUsername(),xt.password=Xt.getPassword(),xt.host=Xt.getHost(),xt.hostname=Xt.getHostname(),xt.port=Xt.getPort(),xt.pathname=Xt.getPathname(),xt.search=Xt.getSearch(),xt.searchParams=Xt.getSearchParams(),xt.hash=Xt.getHash())},Be=Re.prototype,it=function(et,xt){return{get:function(){return C(this)[et]()},set:xt&&function(kt){return C(this)[xt](kt)},configurable:!0,enumerable:!0}};if(o&&(m(Be,"href",it("serialize","setHref")),m(Be,"origin",it("getOrigin")),m(Be,"protocol",it("getProtocol","setProtocol")),m(Be,"username",it("getUsername","setUsername")),m(Be,"password",it("getPassword","setPassword")),m(Be,"host",it("getHost","setHost")),m(Be,"hostname",it("getHostname","setHostname")),m(Be,"port",it("getPort","setPort")),m(Be,"pathname",it("getPathname","setPathname")),m(Be,"search",it("getSearch","setSearch")),m(Be,"searchParams",it("getSearchParams")),m(Be,"hash",it("getHash","setHash"))),g(Be,"toJSON",function(){return C(this).serialize()},{enumerable:!0}),g(Be,"toString",function(){return C(this).serialize()},{enumerable:!0}),q){var Pt=q.createObjectURL,Ht=q.revokeObjectURL;Pt&&g(Re,"createObjectURL",u(Pt,q)),Ht&&g(Re,"revokeObjectURL",u(Ht,q))}s(Re,"URL"),l({global:!0,constructor:!0,forced:!c,sham:!o},{URL:Re})},3296:function(e,t,r){r(5806)},7208:function(e,t,r){var a=r(6518),l=r(9565);a({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return l(URL.prototype.toString,this)}})},5857:function(e,t,r){function a(E){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},a(E)}function l(E,L){(L==null||L>E.length)&&(L=E.length);for(var s=0,h=Array(L);s<L;s++)h[s]=E[s];return h}function o(E,L){for(var s=0;s<L.length;s++){var h=L[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(E,c(h.key),h)}}function c(E){var L=function(s,h){if(a(s)!="object"||!s)return s;var v=s[Symbol.toPrimitive];if(v!==void 0){var d=v.call(s,"string");if(a(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(E);return a(L)=="symbol"?L:L+""}r(2675),r(9463),r(2259),r(5700),r(8706),r(3792),r(2712),r(9572),r(8130),r(3851),r(875),r(6099),r(825),r(888),r(7495),r(7764),r(5440),r(2953),r(8408),r(2008),r(113),r(3418),r(8598),r(2062),r(4782),r(2010),r(5506),r(3921),r(9432),r(8781),r(1761),r(5746),r(2762),r(3500),r(3296),r(7208);var n,u=function(){return E=function s(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this.bookReaderOptions=h,this.urlSchema=[{name:"page",position:"path",default:"n0"},{name:"mode",position:"path",default:"2up"},{name:"search",position:"path",deprecated_for:"q"},{name:"q",position:"query_param"},{name:"sort",position:"query_param"},{name:"view",position:"query_param"},{name:"admin",position:"query_param"}],this.urlState={},this.urlMode=this.bookReaderOptions.urlMode||"hash",this.urlHistoryBasePath=this.bookReaderOptions.urlHistoryBasePath||"/",this.urlLocationPollId=null,this.oldLocationHash=null,this.oldUserHash=null},L=[{key:"urlStateToUrlString",value:function(s){var h=this,v=new URLSearchParams,d={};Object.keys(s).forEach(function(G){var q,K,ie,Q,te=h.urlSchema.find(function(Oe){return Oe.name===G});(q=te)!==null&&q!==void 0&&q.deprecated_for&&(te=h.urlSchema.find(function(Oe){return Oe.name===te.deprecated_for})),((K=te)===null||K===void 0?void 0:K.position)=="path"?d[(ie=te)===null||ie===void 0?void 0:ie.name]=s[G]:v.append(((Q=te)===null||Q===void 0?void 0:Q.name)||G,s[G])});var _=this.urlSchema.filter(function(G){return G.position=="path"}).map(function(G){return d[G.name]?"".concat(G.name,"/").concat(encodeURIComponent(d[G.name])):""}).join("/"),C="".concat(_.replace(/\/+/g,"/").replace(/\/+$/,"")),N="".concat(C,"?").concat(v.toString());return v.toString()?N:"".concat(C)}},{key:"urlStringToUrlState",value:function(s){var h={},v=new URL(s,"http://example.com"),d=Object.fromEntries(v.searchParams.entries()),_=v.pathname.match(/[^\\/]+\/[^\\/]+/g),C=_?Object.fromEntries(_.map(function(G){return G.split("/")})):{},N=function(G,q){return Object.keys(G).some(function(K){return K==q})};return this.urlSchema.filter(function(G){return G.position=="path"}).forEach(function(G){var q=N(C,G.name),K=N(G,"deprecated_for")&&q;if(q||K){var ie=K?G.deprecated_for:G.name;h[ie]=decodeURIComponent(C[G.name])}}),Object.entries(d).forEach(function(G){var q=function(Q,te){return function(Oe){if(Array.isArray(Oe))return Oe}(Q)||function(Oe,fe){var W=Oe==null?null:typeof Symbol<"u"&&Oe[Symbol.iterator]||Oe["@@iterator"];if(W!=null){var ae,de,Z,ye,Y=[],ce=!0,Ze=!1;try{if(Z=(W=W.call(Oe)).next,fe===0){if(Object(W)!==W)return;ce=!1}else for(;!(ce=(ae=Z.call(W)).done)&&(Y.push(ae.value),Y.length!==fe);ce=!0);}catch(ft){Ze=!0,de=ft}finally{try{if(!ce&&W.return!=null&&(ye=W.return(),Object(ye)!==ye))return}finally{if(Ze)throw de}}return Y}}(Q,te)||function(Oe,fe){if(Oe){if(typeof Oe=="string")return l(Oe,fe);var W={}.toString.call(Oe).slice(8,-1);return W==="Object"&&Oe.constructor&&(W=Oe.constructor.name),W==="Map"||W==="Set"?Array.from(Oe):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?l(Oe,fe):void 0}}(Q,te)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(G,2),K=q[0],ie=q[1];h[K]=ie}),h}},{key:"setUrlParam",value:function(s,h){this.urlState[s]=h,this.pushToAddressBar()}},{key:"removeUrlParam",value:function(s){delete this.urlState[s],this.pushToAddressBar()}},{key:"getUrlParam",value:function(s){return this.urlState[s]}},{key:"pushToAddressBar",value:function(){var s=this.urlStateToUrlString(this.urlState),h=s!=="/"?s:"";if(this.urlMode=="history")if(window.history&&window.history.replaceState){var v="".concat(this.urlHistoryBasePath).concat(h).trim().replace(/(\/+)/g,"/");try{window.history.replaceState({},null,v)}catch(d){this.urlMode="hash"}}else this.options.urlMode="hash";this.urlMode=="hash"&&window.location.replace("#"+h),this.oldLocationHash=s}},{key:"listenForHashChanges",value:function(){var s=this;this.oldLocationHash=window.location.hash.substr(1),this.urlLocationPollId&&(clearInterval(this.urlLocationPollId),this.urlLocationPollId=null),this.urlLocationPollId=setInterval(function(){var h=window.location.hash.substr(1);h!=s.oldLocationHash&&(s.urlState=s.urlStringToUrlState(h))},500)}},{key:"pullFromAddressBar",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.location,h=this.urlMode==="history"?s.pathname.substr(this.urlHistoryBasePath.length)+s.search:s.hash.substr(1);this.urlState=this.urlStringToUrlState(h)}}],L&&o(E.prototype,L),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,L}();function p(E){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},p(E)}function g(E,L){for(var s=0;s<L.length;s++){var h=L[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(E,m(h.key),h)}}function m(E){var L=function(s,h){if(p(s)!="object"||!s)return s;var v=s[Symbol.toPrimitive];if(v!==void 0){var d=v.call(s,"string");if(p(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(E);return p(L)=="symbol"?L:L+""}function y(E,L,s){return L=k(L),function(h,v){if(v&&(p(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(h)}(E,x()?Reflect.construct(L,s||[],k(E).constructor):L.apply(E,s))}function x(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(L){}return(x=function(){return!!E})()}function w(){return w=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(E,L,s){var h=function(d,_){for(;!{}.hasOwnProperty.call(d,_)&&(d=k(d))!==null;);return d}(E,L);if(h){var v=Object.getOwnPropertyDescriptor(h,L);return v.get?v.get.call(arguments.length<3?E:s):v.value}},w.apply(null,arguments)}function k(E){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},k(E)}function S(E,L){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,h){return s.__proto__=h,s},S(E,L)}r(1669).extend(BookReader.defaultOptions,{enableUrlPlugin:!0,bookId:"",defaults:null,updateWindowTitle:!1,urlMode:"hash",urlHistoryBasePath:"/",urlTrackedParams:["page","search","mode","region","highlight","view"],urlTrackIndex0:!1}),BookReader.prototype.setup=(n=BookReader.prototype.setup,function(E){n.call(this,E),this.bookId=E.bookId,this.defaults=E.defaults,this.locationPollId=null,this.oldLocationHash=null,this.oldUserHash=null}),BookReader.prototype.init=function(E){return function(){var L=this;this.options.enableUrlPlugin&&(this.bind(BookReader.eventNames.PostInit,function(){var s=L.options,h=s.updateWindowTitle,v=s.urlMode;h&&(document.title=L.shortTitle(L.bookTitle,50)),v==="hash"&&L.urlStartLocationPolling()}),this.bind(BookReader.eventNames.fragmentChange,this.urlUpdateFragment.bind(this))),E.call(this)}}(BookReader.prototype.init),BookReader.prototype.shortTitle=function(E){return this.bookTitle.length<E?this.bookTitle:"".concat(this.bookTitle.substr(0,E-3),"...")},BookReader.prototype.urlStartLocationPolling=function(){var E=this;this.oldLocationHash=this.urlReadFragment(),this.locationPollId&&(clearInterval(this.locationPollId),this.locationPollId=null),this.locationPollId=setInterval(function(){var L=E.urlReadFragment();if(L!=E.oldLocationHash&&L!=E.oldUserHash){var s,h=E.paramsFromFragment(L),v=function(){return E.updateFromParams(h)};E.trigger(BookReader.eventNames.stop),E.animating?((s=E.plugins.autoplay)===null||s===void 0||s.stop(),E.animationFinishedCallback=v):v(),E.oldUserHash=L}},500)},BookReader.prototype.urlUpdateFragment=function(){var E=this.paramsFromCurrent(),L=this.options,s=L.urlTrackIndex0,h=L.urlTrackedParams;s||E.index===void 0||E.index!==0||(delete E.index,delete E.page);var v=h.reduce(function(Q,te){return te in E&&(Q[te]=E[te]),Q},{}),d=this.fragmentFromParams(v,this.options.urlMode),_=this.urlReadFragment(),C=this.getLocationSearch(),N=this.queryStringFromParams(v,C,this.options.urlMode);if(_!==d||C!==N){if(this.options.urlMode==="history")if(window.history&&window.history.replaceState){var G=this.options.urlHistoryBasePath.replace(/\/+$/,""),q=d===""?"":"/".concat(d),K="".concat(G).concat(q).concat(N);try{window.history.replaceState({},null,K),this.oldLocationHash=d+N}catch(Q){this.options.urlMode="hash"}}else this.options.urlMode="hash";if(this.options.urlMode==="hash"){var ie=this.urlParamsFiltersOnlySearch(this.readQueryString());window.location.replace("#"+d+ie),this.oldLocationHash=d+ie}}},BookReader.prototype.urlParamsFiltersOnlySearch=function(E){var L=new URLSearchParams(E);return L.has("q")?"?".concat(new URLSearchParams({q:L.get("q")})):""},BookReader.prototype.urlReadFragment=function(){var E=this.options,L=E.urlMode,s=E.urlHistoryBasePath;return L==="history"?window.location.pathname.substr(s.length):window.location.hash.substr(1)},BookReader.prototype.urlReadHashFragment=function(){return window.location.hash.substr(1)};var P=function(E){function L(){return function(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")}(this,L),y(this,L,arguments)}return function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(d&&d.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),d&&S(v,d)}(L,BookReader),s=L,h=[{key:"init",value:function(){var v,d,_,C=this;this.options.enableUrlPlugin&&(this.urlPlugin=new u(this.options),this.bind(BookReader.eventNames.PostInit,function(){C.options.urlMode==="hash"&&C.urlPlugin.listenForHashChanges()})),(v=L,d=this,typeof(_=w(k(v.prototype),"init",d))=="function"?function(N){return _.apply(d,N)}:_)([])}}],h&&g(s.prototype,h),Object.defineProperty(s,"prototype",{writable:!1}),s;var s,h}();window.BookReader=P}},function(e){e(e.s=5857)}]);x2=tC,{default:_2}=x2,iC=an(x2,["default"]),k2=_2!==void 0?_2:iC});var A2={};Dn(A2,{default:()=>k2});var S2=Kt(()=>{sg();sg()});var rC,C2,E2,nC,T2,lg=Kt(()=>{rC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[51],{4031:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648\u200E","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u06A9\u0648\u0631\u062F\u06CC\u200E","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, \u0623\u06C7\u0632\u0628\u06D0\u0643\u200E","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A\u200E","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC\u200E","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC\u200E","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5\u200E, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]]},1792:function(e,t,r){var a,l;a=[r(1669)],(l=function(o){return function(c){"use strict";function n(u){u===void 0&&(u=window.navigator.userAgent),u=u.toLowerCase();var p=/(edge)\/([\w.]+)/.exec(u)||/(opr)[\/]([\w.]+)/.exec(u)||/(chrome)[ \/]([\w.]+)/.exec(u)||/(iemobile)[\/]([\w.]+)/.exec(u)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||u.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(u)||u.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(u)||[],g=/(ipad)/.exec(u)||/(ipod)/.exec(u)||/(windows phone)/.exec(u)||/(iphone)/.exec(u)||/(kindle)/.exec(u)||/(silk)/.exec(u)||/(android)/.exec(u)||/(win)/.exec(u)||/(mac)/.exec(u)||/(linux)/.exec(u)||/(cros)/.exec(u)||/(playbook)/.exec(u)||/(bb)/.exec(u)||/(blackberry)/.exec(u)||[],m={},y={browser:p[5]||p[3]||p[1]||"",version:p[2]||p[4]||"0",versionNumber:p[4]||p[2]||"0",platform:g[0]||""};if(y.browser&&(m[y.browser]=!0,m.version=y.version,m.versionNumber=parseInt(y.versionNumber,10)),y.platform&&(m[y.platform]=!0),(m.android||m.bb||m.blackberry||m.ipad||m.iphone||m.ipod||m.kindle||m.playbook||m.silk||m["windows phone"])&&(m.mobile=!0),(m.cros||m.mac||m.linux||m.win)&&(m.desktop=!0),(m.chrome||m.opr||m.safari)&&(m.webkit=!0),m.rv||m.iemobile){var x="msie";y.browser=x,m[x]=!0}if(m.edge){delete m.edge;var w="msedge";y.browser=w,m[w]=!0}if(m.safari&&m.blackberry){var k="blackberry";y.browser=k,m[k]=!0}if(m.safari&&m.playbook){var S="playbook";y.browser=S,m[S]=!0}if(m.bb){var P="blackberry";y.browser=P,m[P]=!0}if(m.opr){var E="opera";y.browser=E,m[E]=!0}if(m.safari&&m.android){var L="android";y.browser=L,m[L]=!0}if(m.safari&&m.kindle){var s="kindle";y.browser=s,m[s]=!0}if(m.safari&&m.silk){var h="silk";y.browser=h,m[h]=!0}return m.name=y.browser,m.platform=y.platform,m}return window.jQBrowser=n(window.navigator.userAgent),window.jQBrowser.uaMatch=n,c&&(c.browser=window.jQBrowser),window.jQBrowser}(o)}.apply(t,a))===void 0||(e.exports=l)},2443:function(e,t,r){var a;e=r.nmd(e),function(l,o){"use strict";if(!l||!l.document)throw new Error("SoundManager requires a browser with window and document objects.");var c=null;function n(u,p){this.setupOptions={url:u||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=p||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var g,m,y,x,w,k,S,P,E,L,s,h,v,d,_,C,N,G,q,K,ie,Q,te,Oe,fe,W,ae,de,Z,ye,Y,ce,Ze,ft,ct,Ge,Ae,Me,De,Ne,Ve,rt,je,ee,J,qe,_t,we,$e,at,Ee,tt,nt,Vt,dt,vt,Rt,ii,ai,ui,Mt,It,Et,Ct,St,I=this,We=null,ke=null,Ye="soundManager",Qe=Ye+": ",ht=navigator.userAgent,oe=l.location.href.toString(),Le=document,ze=[],yt=!0,ut=!1,Tt=!1,Ut=!1,Jt=!1,Lt=!1,jt=0,Je=["log","info","warn","error"],Re=null,Be=null,it=!1,Pt=!1,Ht=0,et=null,xt=[],kt=null,Xt=Array.prototype.slice,Xe=!1,ni=0,ti=1e3,Ai=ht.match(/(ipad|iphone|ipod)/i),qt=ht.match(/android/i),ci=ht.match(/msie|trident/i),Ti=ht.match(/webkit/i),Mi=ht.match(/safari/i)&&!ht.match(/chrome/i),ir=ht.match(/opera/i),Ki=ht.match(/(mobile|pre\/|xoom)/i)||Ai||qt,Gi=!oe.match(/usehtml5audio/i)&&!oe.match(/sm2-ignorebadua/i)&&Mi&&!ht.match(/silk/i)&&ht.match(/OS\sX\s10_6_([3-7])/i),Sr=l.console!==o&&console.log!==o,tr=Le.hasFocus!==o?Le.hasFocus():null,yr=Mi&&(Le.hasFocus===o||!Le.hasFocus()),_r=!yr,Pr=/(mp3|mp4|mpa|m4a|m4b)/i,Jr="about:blank",cn=Le.location?Le.location.protocol.match(/http/i):null,$r=cn?"":"//",jr=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Yr=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],Wr=new RegExp("\\.("+Yr.join("|")+")(\\?.*)?$","i");function ve(B){return I.preferFlash&&ii&&!I.ignoreFlash&&I.flash[B]!==o&&I.flash[B]}function he(B){return function(be){var _e,$t=this._s;return $t&&$t._a?_e=B.call(this,be):($t&&$t.id?I._wD($t.id+": Ignoring "+be.type):I._wD("HTML5::Ignoring "+be.type),_e=null),_e}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!cn,Ae={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},Ee=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==o&&(ir&&opera!==o&&opera.version()<10?new Audio(null):new Audio).canPlayType!==o}catch(B){return!1}}(),this.setup=function(B){var be=!I.url;return B!==o&&Ut&&kt&&I.ok()&&(B.flashVersion!==o||B.url!==o||B.html5Test!==o)&&Ve(ft("setupLate")),s(B),Xe||(Ki?I.setupOptions.ignoreMobileRestrictions&&!I.setupOptions.forceUseGlobalHTML5Audio||(xt.push(ie.globalHTML5),Xe=!0):I.setupOptions.forceUseGlobalHTML5Audio&&(xt.push(ie.globalHTML5),Xe=!0)),!St&&Ki&&(I.setupOptions.ignoreMobileRestrictions?xt.push(ie.ignoreMobile):(I.setupOptions.useHTML5Audio&&!I.setupOptions.preferFlash||I._wD(ie.mobileUA),I.setupOptions.useHTML5Audio=!0,I.setupOptions.preferFlash=!1,Ai?I.ignoreFlash=!0:(qt&&!ht.match(/android\s2\.3/i)||!qt)&&(I._wD(ie.globalHTML5),Xe=!0))),B&&(be&&fe&&B.url!==o&&I.beginDelayedInit(),fe||B.url===o||Le.readyState!=="complete"||setTimeout(te,1)),St=!0,I},this.ok=function(){return kt?Ut&&!Jt:I.useHTML5Audio&&I.hasHTML5},this.supported=this.ok,this.getMovie=function(B){return m(B)||Le[B]||l[B]},this.createSound=function(B,be){var _e,$t,zt,gi=null;if($t=(_e=Ye+".createSound(): ")+ft(Ut?"notOK":"notReady"),!Ut||!I.ok())return Ve($t),!1;if(be!==o&&(B={id:B,url:be}),(zt=L(B)).url=qe(zt.url),zt.id===o&&(zt.id=I.setupOptions.idPrefix+ni++),zt.id.toString().charAt(0).match(/^[0-9]$/)&&I._wD(_e+ft("badID",zt.id),2),I._wD(_e+zt.id+(zt.url?" ("+zt.url+")":""),1),rt(zt.id,!0))return I._wD(_e+zt.id+" exists",1),I.sounds[zt.id];function fi(){return zt=De(zt),I.sounds[zt.id]=new g(zt),I.soundIDs.push(zt.id),I.sounds[zt.id]}if($e(zt))gi=fi(),I.html5Only||I._wD(zt.id+": Using HTML5"),gi._setup_html5(zt);else{if(I.html5Only)return I._wD(zt.id+": No HTML5 support for this sound, and no Flash. Exiting."),fi();if(I.html5.usingFlash&&zt.url&&zt.url.match(/data:/i))return I._wD(zt.id+": data: URIs not supported via Flash. Exiting."),fi();k>8&&(zt.isMovieStar===null&&(zt.isMovieStar=!!(zt.serverURL||zt.type&&zt.type.match(jr)||zt.url&&zt.url.match(Wr))),zt.isMovieStar&&(I._wD(_e+"using MovieStar handling"),zt.loops>1&&P("noNSLoop"))),zt=Ne(zt,_e),gi=fi(),k===8?ke._createSound(zt.id,zt.loops||1,zt.usePolicyFile):(ke._createSound(zt.id,zt.url,zt.usePeakData,zt.useWaveformData,zt.useEQData,zt.isMovieStar,!!zt.isMovieStar&&zt.bufferTime,zt.loops||1,zt.serverURL,zt.duration||null,zt.autoPlay,!0,zt.autoLoad,zt.usePolicyFile),zt.serverURL||(gi.connected=!0,zt.onconnect&&zt.onconnect.apply(gi))),zt.serverURL||!zt.autoLoad&&!zt.autoPlay||gi.load(zt)}return!zt.serverURL&&zt.autoPlay&&gi.play(),gi},this.destroySound=function(B,be){if(!rt(B))return!1;var _e,$t=I.sounds[B];for($t.stop(),$t._iO={},$t.unload(),_e=0;_e<I.soundIDs.length;_e++)if(I.soundIDs[_e]===B){I.soundIDs.splice(_e,1);break}return be||$t.destruct(!0),$t=null,delete I.sounds[B],!0},this.load=function(B,be){return!!rt(B)&&I.sounds[B].load(be)},this.unload=function(B){return!!rt(B)&&I.sounds[B].unload()},this.onPosition=function(B,be,_e,$t){return!!rt(B)&&I.sounds[B].onposition(be,_e,$t)},this.onposition=this.onPosition,this.clearOnPosition=function(B,be,_e){return!!rt(B)&&I.sounds[B].clearOnPosition(be,_e)},this.play=function(B,be){var _e=null,$t=be&&!(be instanceof Object);if(!Ut||!I.ok())return Ve(Ye+".play(): "+ft(Ut?"notOK":"notReady")),!1;if(rt(B,$t))$t&&(be={url:be});else{if(!$t)return!1;$t&&(be={url:be}),be&&be.url&&(I._wD(Ye+'.play(): Attempting to create "'+B+'"',1),be.id=B,_e=I.createSound(be).play())}return _e===null&&(_e=I.sounds[B].play(be)),_e},this.start=this.play,this.setPlaybackRate=function(B,be,_e){return!!rt(B)&&I.sounds[B].setPlaybackRate(be,_e)},this.setPosition=function(B,be){return!!rt(B)&&I.sounds[B].setPosition(be)},this.stop=function(B){return!!rt(B)&&(I._wD(Ye+".stop("+B+")",1),I.sounds[B].stop())},this.stopAll=function(){var B;for(B in I._wD(Ye+".stopAll()",1),I.sounds)I.sounds.hasOwnProperty(B)&&I.sounds[B].stop()},this.pause=function(B){return!!rt(B)&&I.sounds[B].pause()},this.pauseAll=function(){var B;for(B=I.soundIDs.length-1;B>=0;B--)I.sounds[I.soundIDs[B]].pause()},this.resume=function(B){return!!rt(B)&&I.sounds[B].resume()},this.resumeAll=function(){var B;for(B=I.soundIDs.length-1;B>=0;B--)I.sounds[I.soundIDs[B]].resume()},this.togglePause=function(B){return!!rt(B)&&I.sounds[B].togglePause()},this.setPan=function(B,be){return!!rt(B)&&I.sounds[B].setPan(be)},this.setVolume=function(B,be){var _e,$t;if(B!==o&&!isNaN(B)&&be===o){for(_e=0,$t=I.soundIDs.length;_e<$t;_e++)I.sounds[I.soundIDs[_e]].setVolume(B);return!1}return!!rt(B)&&I.sounds[B].setVolume(be)},this.mute=function(B){var be=0;if(B instanceof String&&(B=null),B)return!!rt(B)&&(I._wD(Ye+'.mute(): Muting "'+B+'"'),I.sounds[B].mute());for(I._wD(Ye+".mute(): Muting all sounds"),be=I.soundIDs.length-1;be>=0;be--)I.sounds[I.soundIDs[be]].mute();return I.muted=!0,!0},this.muteAll=function(){I.mute()},this.unmute=function(B){var be;if(B instanceof String&&(B=null),B)return!!rt(B)&&(I._wD(Ye+'.unmute(): Unmuting "'+B+'"'),I.sounds[B].unmute());for(I._wD(Ye+".unmute(): Unmuting all sounds"),be=I.soundIDs.length-1;be>=0;be--)I.sounds[I.soundIDs[be]].unmute();return I.muted=!1,!0},this.unmuteAll=function(){I.unmute()},this.toggleMute=function(B){return!!rt(B)&&I.sounds[B].toggleMute()},this.getMemoryUse=function(){var B=0;return ke&&k!==8&&(B=parseInt(ke._getMemoryUse(),10)),B},this.disable=function(B){var be;if(B===o&&(B=!1),Jt)return!1;for(Jt=!0,P("shutdown",1),be=I.soundIDs.length-1;be>=0;be--)Y(I.sounds[I.soundIDs[be]]);return Y(I),E(B),vt.remove(l,"load",_),!0},this.canPlayMIME=function(B){var be;return I.hasHTML5&&(be=at({type:B})),!be&&kt&&(be=B&&I.ok()?!!(k>8&&B.match(jr)||B.match(I.mimePattern)):null),be},this.canPlayURL=function(B){var be;return I.hasHTML5&&(be=at({url:B})),!be&&kt&&(be=B&&I.ok()?!!B.match(I.filePattern):null),be},this.canPlayLink=function(B){return!(B.type===o||!B.type||!I.canPlayMIME(B.type))||I.canPlayURL(B.href)},this.getSoundById=function(B,be){if(!B)return null;var _e=I.sounds[B];return _e||be||I._wD(Ye+'.getSoundById(): Sound "'+B+'" not found.',2),_e},this.onready=function(B,be){var _e="onready";if(typeof B!="function")throw ft("needFunction",_e);return Ut&&I._wD(ft("queue",_e)),be||(be=l),v(_e,B,be),d(),!0},this.ontimeout=function(B,be){var _e="ontimeout";if(typeof B!="function")throw ft("needFunction",_e);return Ut&&I._wD(ft("queue",_e)),be||(be=l),v(_e,B,be),d({type:_e}),!0},this._writeDebug=function(B,be){var _e,$t;return!(!I.setupOptions.debugMode||!(Sr&&I.useConsole&&(be&&typeof be=="object"?console.log(B,be):Je[be]!==o?console[Je[be]](B):console.log(B),I.consoleOnly))&&(!(_e=m("soundmanager-debug"))||($t=Le.createElement("div"),++jt%2==0&&($t.className="sm2-alt"),be=be===o?0:parseInt(be,10),$t.appendChild(Le.createTextNode(B)),be&&(be>=2&&($t.style.fontWeight="bold"),be===3&&($t.style.color="#ff3333")),_e.insertBefore($t,_e.firstChild),_e=null,0)))},oe.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(B){l.alert(B)}),this._wD=this._writeDebug,this._debug=function(){var B,be;for(P("currentObj",1),B=0,be=I.soundIDs.length;B<be;B++)I.sounds[I.soundIDs[B]]._debug()},this.reboot=function(B,be){var _e,$t,zt;for(I.soundIDs.length&&I._wD("Destroying "+I.soundIDs.length+" SMSound object"+(I.soundIDs.length!==1?"s":"")+"..."),_e=I.soundIDs.length-1;_e>=0;_e--)I.sounds[I.soundIDs[_e]].destruct();if(ke)try{ci&&(Be=ke.innerHTML),Re=ke.parentNode.removeChild(ke)}catch(gi){P("badRemove",2)}if(Be=Re=kt=ke=null,I.enabled=fe=Ut=it=Pt=ut=Tt=Jt=Xe=I.swfLoaded=!1,I.soundIDs=[],I.sounds={},ni=0,St=!1,B)ze=[];else for(_e in ze)if(ze.hasOwnProperty(_e))for($t=0,zt=ze[_e].length;$t<zt;$t++)ze[_e][$t].fired=!1;return be||I._wD(Ye+": Rebooting..."),I.html5={usingFlash:null},I.flash={},I.html5Only=!1,I.ignoreFlash=!1,l.setTimeout(function(){be||I.beginDelayedInit()},20),I},this.reset=function(){return P("reset"),I.reboot(!0,!0)},this.getMoviePercent=function(){return ke&&"PercentLoaded"in ke?ke.PercentLoaded():null},this.beginDelayedInit=function(){Lt=!0,te(),setTimeout(function(){return!Pt&&(ae(),Q(),Pt=!0,!0)},20),C()},this.destruct=function(){I._wD(Ye+".destruct()"),I.disable(!0)},g=function(B){var be,_e,$t,zt,gi,fi,zi,hr,or,Vr,ue=this,In=!1,bn=[],Cn=0,wn=null;or={duration:null,time:null},this.id=B.id,this.sID=this.id,this.url=B.url,this.options=L(B),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,Vr=!this.url,this.id3={},this._debug=function(){I._wD(ue.id+": Merged options:",ue.options)},this.load=function(di){var Si;if(di!==o?ue._iO=L(di,ue.options):(di=ue.options,ue._iO=di,wn&&wn!==ue.url&&(P("manURL"),ue._iO.url=ue.url,ue.url=null)),ue._iO.url||(ue._iO.url=ue.url),ue._iO.url=qe(ue._iO.url),ue.instanceOptions=ue._iO,Si=ue._iO,I._wD(ue.id+": load ("+Si.url+")"),!Si.url&&!ue.url)return I._wD(ue.id+": load(): url is unassigned. Exiting.",2),ue;if(ue.isHTML5||k!==8||ue.url||Si.autoPlay||I._wD(ue.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),Si.url===ue.url&&ue.readyState!==0&&ue.readyState!==2)return P("onURL",1),ue.readyState===3&&Si.onload&&Ct(ue,function(){Si.onload.apply(ue,[!!ue.duration])}),ue;if(ue.loaded=!1,ue.readyState=1,ue.playState=0,ue.id3={},$e(Si))ue._setup_html5(Si)._called_load?I._wD(ue.id+": Ignoring request to load again"):(ue._html5_canplay=!1,ue.url!==Si.url&&(I._wD(P("manURL")+": "+Si.url),ue._a.src=Si.url,ue.setPosition(0)),ue._a.autobuffer="auto",ue._a.preload="auto",ue._a._called_load=!0);else{if(I.html5Only)return I._wD(ue.id+": No flash support. Exiting."),ue;if(ue._iO.url&&ue._iO.url.match(/data:/i))return I._wD(ue.id+": data: URIs not supported via Flash. Exiting."),ue;try{ue.isHTML5=!1,ue._iO=Ne(De(Si)),ue._iO.autoPlay&&(ue._iO.position||ue._iO.from)&&(I._wD(ue.id+": Disabling autoPlay because of non-zero offset case"),ue._iO.autoPlay=!1),Si=ue._iO,k===8?ke._load(ue.id,Si.url,Si.stream,Si.autoPlay,Si.usePolicyFile):ke._load(ue.id,Si.url,!!Si.stream,!!Si.autoPlay,Si.loops||1,!!Si.autoLoad,Si.usePolicyFile)}catch(vi){P("smError",2),S("onload",!1),de({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return ue.url=Si.url,ue},this.unload=function(){return ue.readyState!==0&&(I._wD(ue.id+": unload()"),ue.isHTML5?(zt(),ue._a&&(ue._a.pause(),wn=nt(ue._a))):k===8?ke._unload(ue.id,Jr):ke._unload(ue.id),be()),ue},this.destruct=function(di){I._wD(ue.id+": Destruct"),ue.isHTML5?(zt(),ue._a&&(ue._a.pause(),nt(ue._a),Xe||$t(),ue._a._s=null,ue._a=null)):(ue._iO.onfailure=null,ke._destroySound(ue.id)),di||I.destroySound(ue.id,!0)},this.play=function(di,Si){var vi,rr,ar,En,vn,bo,ho=!0;if(vi=ue.id+": play(): ",Si=Si===o||Si,di||(di={}),ue.url&&(ue._iO.url=ue.url),ue._iO=L(ue._iO,ue.options),ue._iO=L(di,ue._iO),ue._iO.url=qe(ue._iO.url),ue.instanceOptions=ue._iO,!ue.isHTML5&&ue._iO.serverURL&&!ue.connected)return ue.getAutoPlay()||(I._wD(vi+" Netstream not connected yet - setting autoPlay"),ue.setAutoPlay(!0)),ue;if($e(ue._iO)&&(ue._setup_html5(ue._iO),gi()),ue.playState===1&&!ue.paused){if(!ue._iO.multiShot)return I._wD(vi+"Already playing (one-shot)",1),ue.isHTML5&&ue.setPosition(ue._iO.position),ue;I._wD(vi+"Already playing (multi-shot)",1)}if(di.url&&di.url!==ue.url&&(ue.readyState||ue.isHTML5||k!==8||!Vr?ue.load(ue._iO):Vr=!1),ue.loaded)I._wD(vi.substr(0,vi.lastIndexOf(":")));else if(ue.readyState===0){if(I._wD(vi+"Attempting to load"),ue.isHTML5||I.html5Only){if(!ue.isHTML5)return I._wD(vi+"Unsupported type. Exiting."),ue;ue.load(ue._iO)}else ue._iO.autoPlay=!0,ue.load(ue._iO);ue.instanceOptions=ue._iO}else{if(ue.readyState===2)return I._wD(vi+"Could not load - exiting",2),ue;I._wD(vi+"Loading - attempting to play...")}return!ue.isHTML5&&k===9&&ue.position>0&&ue.position===ue.duration&&(I._wD(vi+"Sound at end, resetting to position: 0"),di.position=0),ue.paused&&ue.position>=0&&(!ue._iO.serverURL||ue.position>0)?(I._wD(vi+"Resuming from paused state",1),ue.resume()):(ue._iO=L(di,ue._iO),(!ue.isHTML5&&ue._iO.position!==null&&ue._iO.position>0||ue._iO.from!==null&&ue._iO.from>0||ue._iO.to!==null)&&ue.instanceCount===0&&ue.playState===0&&!ue._iO.serverURL&&(ar=function(){ue._iO=L(di,ue._iO),ue.play(ue._iO)},ue.isHTML5&&!ue._html5_canplay?(I._wD(vi+"Beginning load for non-zero offset case"),ue.load({_oncanplay:ar})):ue.isHTML5||ue.loaded||ue.readyState&&ue.readyState===2||(I._wD(vi+"Preloading for non-zero offset case"),ue.load({onload:ar})),ue._iO=hr()),(!ue.instanceCount||ue._iO.multiShotEvents||ue.isHTML5&&ue._iO.multiShot&&!Xe||!ue.isHTML5&&k>8&&!ue.getAutoPlay())&&ue.instanceCount++,ue._iO.onposition&&ue.playState===0&&fi(ue),ue.playState=1,ue.paused=!1,ue.position=ue._iO.position===o||isNaN(ue._iO.position)?0:ue._iO.position,ue.isHTML5||(ue._iO=Ne(De(ue._iO))),ue._iO.onplay&&Si&&(ue._iO.onplay.apply(ue),In=!0),ue.setVolume(ue._iO.volume,!0),ue.setPan(ue._iO.pan,!0),ue._iO.playbackRate!==1&&ue.setPlaybackRate(ue._iO.playbackRate),ue.isHTML5?ue.instanceCount<2?(gi(),rr=ue._setup_html5(),ue.setPosition(ue._iO.position),rr.play()):(I._wD(ue.id+": Cloning Audio() for instance #"+ue.instanceCount+"..."),En=new Audio(ue._iO.url),vn=function(){vt.remove(En,"ended",vn),ue._onfinish(ue),nt(En),En=null},bo=function(){vt.remove(En,"canplay",bo);try{En.currentTime=ue._iO.position/ti}catch(is){Ve(ue.id+": multiShot play() failed to apply position of "+ue._iO.position/ti)}En.play()},vt.add(En,"ended",vn),ue._iO.volume!==o&&(En.volume=Math.max(0,Math.min(1,ue._iO.volume/100))),ue.muted&&(En.muted=!0),ue._iO.position?vt.add(En,"canplay",bo):En.play()):(ho=ke._start(ue.id,ue._iO.loops||1,k===9?ue.position:ue.position/ti,ue._iO.multiShot||!1),k!==9||ho||(I._wD(vi+"No sound hardware, or 32-sound ceiling hit",2),ue._iO.onplayerror&&ue._iO.onplayerror.apply(ue)))),ue},this.start=this.play,this.stop=function(di){var Si,vi=ue._iO;return ue.playState===1&&(I._wD(ue.id+": stop()"),ue._onbufferchange(0),ue._resetOnPosition(0),ue.paused=!1,ue.isHTML5||(ue.playState=0),zi(),vi.to&&ue.clearOnPosition(vi.to),ue.isHTML5?ue._a&&(Si=ue.position,ue.setPosition(0),ue.position=Si,ue._a.pause(),ue.playState=0,ue._onTimer(),zt()):(ke._stop(ue.id,di),vi.serverURL&&ue.unload()),ue.instanceCount=0,ue._iO={},vi.onstop&&vi.onstop.apply(ue)),ue},this.setAutoPlay=function(di){I._wD(ue.id+": Autoplay turned "+(di?"on":"off")),ue._iO.autoPlay=di,ue.isHTML5||(ke._setAutoPlay(ue.id,di),di&&(ue.instanceCount||ue.readyState!==1||(ue.instanceCount++,I._wD(ue.id+": Incremented instance count to "+ue.instanceCount))))},this.getAutoPlay=function(){return ue._iO.autoPlay},this.setPlaybackRate=function(di){var Si=Math.max(.5,Math.min(4,di));if(Si!==di&&I._wD(ue.id+": setPlaybackRate("+di+"): limiting rate to "+Si,2),ue.isHTML5)try{ue._iO.playbackRate=Si,ue._a.playbackRate=Si}catch(vi){I._wD(ue.id+": setPlaybackRate("+Si+") failed: "+vi.message,2)}return ue},this.setPosition=function(di){di===o&&(di=0);var Si,vi,rr=ue.isHTML5?Math.max(di,0):Math.min(ue.duration||ue._iO.duration,Math.max(di,0));if(ue.position=rr,vi=ue.position/ti,ue._resetOnPosition(ue.position),ue._iO.position=rr,ue.isHTML5){if(ue._a){if(ue._html5_canplay){if(ue._a.currentTime.toFixed(3)!==vi.toFixed(3)){I._wD(ue.id+": setPosition("+vi+")");try{ue._a.currentTime=vi,(ue.playState===0||ue.paused)&&ue._a.pause()}catch(ar){I._wD(ue.id+": setPosition("+vi+") failed: "+ar.message,2)}}}else if(vi)return I._wD(ue.id+": setPosition("+vi+"): Cannot seek yet, sound not ready",2),ue;ue.paused&&ue._onTimer(!0)}}else Si=k===9?ue.position:vi,ue.readyState&&ue.readyState!==2&&ke._setPosition(ue.id,Si,ue.paused||!ue.playState,ue._iO.multiShot);return ue},this.pause=function(di){return ue.paused||ue.playState===0&&ue.readyState!==1||(I._wD(ue.id+": pause()"),ue.paused=!0,ue.isHTML5?(ue._setup_html5().pause(),zt()):(di||di===o)&&ke._pause(ue.id,ue._iO.multiShot),ue._iO.onpause&&ue._iO.onpause.apply(ue)),ue},this.resume=function(){var di=ue._iO;return ue.paused&&(I._wD(ue.id+": resume()"),ue.paused=!1,ue.playState=1,ue.isHTML5?(ue._setup_html5().play(),gi()):(di.isMovieStar&&!di.serverURL&&ue.setPosition(ue.position),ke._pause(ue.id,di.multiShot)),!In&&di.onplay?(di.onplay.apply(ue),In=!0):di.onresume&&di.onresume.apply(ue)),ue},this.togglePause=function(){return I._wD(ue.id+": togglePause()"),ue.playState===0?(ue.play({position:k!==9||ue.isHTML5?ue.position/ti:ue.position}),ue):(ue.paused?ue.resume():ue.pause(),ue)},this.setPan=function(di,Si){return di===o&&(di=0),Si===o&&(Si=!1),ue.isHTML5||ke._setPan(ue.id,di),ue._iO.pan=di,Si||(ue.pan=di,ue.options.pan=di),ue},this.setVolume=function(di,Si){return di===o&&(di=100),Si===o&&(Si=!1),ue.isHTML5?ue._a&&(I.muted&&!ue.muted&&(ue.muted=!0,ue._a.muted=!0),ue._a.volume=Math.max(0,Math.min(1,di/100))):ke._setVolume(ue.id,I.muted&&!ue.muted||ue.muted?0:di),ue._iO.volume=di,Si||(ue.volume=di,ue.options.volume=di),ue},this.mute=function(){return ue.muted=!0,ue.isHTML5?ue._a&&(ue._a.muted=!0):ke._setVolume(ue.id,0),ue},this.unmute=function(){ue.muted=!1;var di=ue._iO.volume!==o;return ue.isHTML5?ue._a&&(ue._a.muted=!1):ke._setVolume(ue.id,di?ue._iO.volume:ue.options.volume),ue},this.toggleMute=function(){return ue.muted?ue.unmute():ue.mute()},this.onPosition=function(di,Si,vi){return bn.push({position:parseInt(di,10),method:Si,scope:vi!==o?vi:ue,fired:!1}),ue},this.onposition=this.onPosition,this.clearOnPosition=function(di,Si){var vi;if(di=parseInt(di,10),!isNaN(di))for(vi=0;vi<bn.length;vi++)di===bn[vi].position&&(Si&&Si!==bn[vi].method||(bn[vi].fired&&Cn--,bn.splice(vi,1)))},this._processOnPosition=function(){var di,Si,vi=bn.length;if(!vi||!ue.playState||Cn>=vi)return!1;for(di=vi-1;di>=0;di--)!(Si=bn[di]).fired&&ue.position>=Si.position&&(Si.fired=!0,Cn++,Si.method.apply(Si.scope,[Si.position]),vi=bn.length);return!0},this._resetOnPosition=function(di){var Si,vi,rr=bn.length;if(!rr)return!1;for(Si=rr-1;Si>=0;Si--)(vi=bn[Si]).fired&&di<=vi.position&&(vi.fired=!1,Cn--);return!0},hr=function(){var di,Si,vi=ue._iO,rr=vi.from,ar=vi.to;return Si=function(){I._wD(ue.id+': "To" time of '+ar+" reached."),ue.clearOnPosition(ar,Si),ue.stop()},di=function(){I._wD(ue.id+': Playing "from" '+rr),ar===null||isNaN(ar)||ue.onPosition(ar,Si)},rr===null||isNaN(rr)||(vi.position=rr,vi.multiShot=!1,di()),vi},fi=function(){var di,Si=ue._iO.onposition;if(Si)for(di in Si)Si.hasOwnProperty(di)&&ue.onPosition(parseInt(di,10),Si[di])},zi=function(){var di,Si=ue._iO.onposition;if(Si)for(di in Si)Si.hasOwnProperty(di)&&ue.clearOnPosition(parseInt(di,10))},gi=function(){ue.isHTML5&&je(ue)},zt=function(){ue.isHTML5&&ee(ue)},(be=function(di){di||(bn=[],Cn=0),In=!1,ue._hasTimer=null,ue._a=null,ue._html5_canplay=!1,ue.bytesLoaded=null,ue.bytesTotal=null,ue.duration=ue._iO&&ue._iO.duration?ue._iO.duration:null,ue.durationEstimate=null,ue.buffered=[],ue.eqData=[],ue.eqData.left=[],ue.eqData.right=[],ue.failures=0,ue.isBuffering=!1,ue.instanceOptions={},ue.instanceCount=0,ue.loaded=!1,ue.metadata={},ue.readyState=0,ue.muted=!1,ue.paused=!1,ue.peakData={left:0,right:0},ue.waveformData={left:[],right:[]},ue.playState=0,ue.position=null,ue.id3={}})(),this._onTimer=function(di){var Si,vi,rr=!1,ar={};return(ue._hasTimer||di)&&ue._a&&(di||(ue.playState>0||ue.readyState===1)&&!ue.paused)&&((Si=ue._get_html5_duration())!==or.duration&&(or.duration=Si,ue.duration=Si,rr=!0),ue.durationEstimate=ue.duration,(vi=ue._a.currentTime*ti||0)!==or.time&&(or.time=vi,rr=!0),(rr||di)&&ue._whileplaying(vi,ar,ar,ar,ar)),rr},this._get_html5_duration=function(){var di=ue._iO,Si=ue._a&&ue._a.duration?ue._a.duration*ti:di&&di.duration?di.duration:null;return Si&&!isNaN(Si)&&Si!==1/0?Si:null},this._apply_loop=function(di,Si){!di.loop&&Si>1&&I._wD("Note: Native HTML5 looping is infinite.",1),di.loop=Si>1?"loop":""},this._setup_html5=function(di){var Si,vi=L(ue._iO,di),rr=Xe?We:ue._a,ar=decodeURI(vi.url);if(Xe?ar===decodeURI(Rt)&&(Si=!0):ar===decodeURI(wn)&&(Si=!0),rr){if(rr._s){if(Xe)rr._s&&rr._s.playState&&!Si&&rr._s.stop();else if(!Xe&&ar===decodeURI(wn))return ue._apply_loop(rr,vi.loops),rr}Si||(wn&&be(!1),rr.src=vi.url,ue.url=vi.url,wn=vi.url,Rt=vi.url,rr._called_load=!1)}else vi.autoLoad||vi.autoPlay?(ue._a=new Audio(vi.url),ue._a.load()):ue._a=ir&&opera.version()<10?new Audio(null):new Audio,(rr=ue._a)._called_load=!1,Xe&&(We=rr);return ue.isHTML5=!0,ue._a=rr,rr._s=ue,_e(),ue._apply_loop(rr,vi.loops),vi.autoLoad||vi.autoPlay?ue.load():(rr.autobuffer=!1,rr.preload="auto"),rr},_e=function(){if(ue._a._added_events)return!1;var di,Si,vi;for(di in ue._a._added_events=!0,Mt)Mt.hasOwnProperty(di)&&(Si=di,vi=Mt[di],ue._a&&ue._a.addEventListener(Si,vi,!1));return!0},$t=function(){var di,Si,vi;for(di in I._wD(ue.id+": Removing event listeners"),ue._a._added_events=!1,Mt)Mt.hasOwnProperty(di)&&(Si=di,vi=Mt[di],ue._a&&ue._a.removeEventListener(Si,vi,!1))},this._onload=function(di){var Si,vi=!!di||!ue.isHTML5&&k===8&&ue.duration;return Si=ue.id+": ",I._wD(Si+(vi?"onload()":"Failed to load / invalid sound?"+(ue.duration?" -":" Zero-length duration reported.")+" ("+ue.url+")"),vi?1:2),vi||ue.isHTML5||(I.sandbox.noRemote===!0&&I._wD(Si+ft("noNet"),1),I.sandbox.noLocal===!0&&I._wD(Si+ft("noLocal"),1)),ue.loaded=vi,ue.readyState=vi?3:2,ue._onbufferchange(0),vi||ue.isHTML5||ue._onerror(),ue._iO.onload&&Ct(ue,function(){ue._iO.onload.apply(ue,[vi])}),!0},this._onerror=function(di,Si){ue._iO.onerror&&Ct(ue,function(){ue._iO.onerror.apply(ue,[di,Si])})},this._onbufferchange=function(di){return!(ue.playState===0||di&&ue.isBuffering||!di&&!ue.isBuffering||(ue.isBuffering=di===1,ue._iO.onbufferchange&&(I._wD(ue.id+": Buffer state change: "+di),ue._iO.onbufferchange.apply(ue,[di])),0))},this._onsuspend=function(){return ue._iO.onsuspend&&(I._wD(ue.id+": Playback suspended"),ue._iO.onsuspend.apply(ue)),!0},this._onfailure=function(di,Si,vi){ue.failures++,I._wD(ue.id+": Failure ("+ue.failures+"): "+di),ue._iO.onfailure&&ue.failures===1?ue._iO.onfailure(di,Si,vi):I._wD(ue.id+": Ignoring failure")},this._onwarning=function(di,Si,vi){ue._iO.onwarning&&ue._iO.onwarning(di,Si,vi)},this._onfinish=function(){var di=ue._iO.onfinish;ue._onbufferchange(0),ue._resetOnPosition(0),ue.instanceCount&&(ue.instanceCount--,ue.instanceCount||(zi(),ue.playState=0,ue.paused=!1,ue.instanceCount=0,ue.instanceOptions={},ue._iO={},zt(),ue.isHTML5&&(ue.position=0)),ue.instanceCount&&!ue._iO.multiShotEvents||di&&(I._wD(ue.id+": onfinish()"),Ct(ue,function(){di.apply(ue)})))},this._whileloading=function(di,Si,vi,rr){var ar=ue._iO;ue.bytesLoaded=di,ue.bytesTotal=Si,ue.duration=Math.floor(vi),ue.bufferLength=rr,ue.isHTML5||ar.isMovieStar?ue.durationEstimate=ue.duration:ar.duration?ue.durationEstimate=ue.duration>ar.duration?ue.duration:ar.duration:ue.durationEstimate=parseInt(ue.bytesTotal/ue.bytesLoaded*ue.duration,10),ue.isHTML5||(ue.buffered=[{start:0,end:ue.duration}]),(ue.readyState!==3||ue.isHTML5)&&ar.whileloading&&ar.whileloading.apply(ue)},this._whileplaying=function(di,Si,vi,rr,ar){var En,vn=ue._iO;return!isNaN(di)&&di!==null&&(ue.position=Math.max(0,di),ue._processOnPosition(),!ue.isHTML5&&k>8&&(vn.usePeakData&&Si!==o&&Si&&(ue.peakData={left:Si.leftPeak,right:Si.rightPeak}),vn.useWaveformData&&vi!==o&&vi&&(ue.waveformData={left:vi.split(","),right:rr.split(",")}),vn.useEQData&&ar!==o&&ar&&ar.leftEQ&&(En=ar.leftEQ.split(","),ue.eqData=En,ue.eqData.left=En,ar.rightEQ!==o&&ar.rightEQ&&(ue.eqData.right=ar.rightEQ.split(",")))),ue.playState===1&&(ue.isHTML5||k!==8||ue.position||!ue.isBuffering||ue._onbufferchange(0),vn.whileplaying&&vn.whileplaying.apply(ue)),!0)},this._oncaptiondata=function(di){I._wD(ue.id+": Caption data received."),ue.captiondata=di,ue._iO.oncaptiondata&&ue._iO.oncaptiondata.apply(ue,[di])},this._onmetadata=function(di,Si){I._wD(ue.id+": Metadata received.");var vi,rr,ar={};for(vi=0,rr=di.length;vi<rr;vi++)ar[di[vi]]=Si[vi];ue.metadata=ar,ue._iO.onmetadata&&ue._iO.onmetadata.call(ue,ue.metadata)},this._onid3=function(di,Si){I._wD(ue.id+": ID3 data received.");var vi,rr,ar=[];for(vi=0,rr=di.length;vi<rr;vi++)ar[di[vi]]=Si[vi];ue.id3=L(ue.id3,ar),ue._iO.onid3&&ue._iO.onid3.apply(ue)},this._onconnect=function(di){di=di===1,I._wD(ue.id+": "+(di?"Connected.":"Failed to connect? - "+ue.url),di?1:2),ue.connected=di,di&&(ue.failures=0,rt(ue.id)&&(ue.getAutoPlay()?ue.play(o,ue.getAutoPlay()):ue._iO.autoLoad&&ue.load()),ue._iO.onconnect&&ue._iO.onconnect.apply(ue,[di]))},this._ondataerror=function(di){ue.playState>0&&(I._wD(ue.id+": Data error: "+di),ue._iO.ondataerror&&ue._iO.ondataerror.apply(ue))},this._debug()},W=function(){return Le.body||Le.getElementsByTagName("div")[0]},m=function(B){return Le.getElementById(B)},L=function(B,be){var _e,$t,zt=B||{};for($t in _e=be===o?I.defaultOptions:be)_e.hasOwnProperty($t)&&zt[$t]===o&&(typeof _e[$t]!="object"||_e[$t]===null?zt[$t]=_e[$t]:zt[$t]=L(zt[$t],_e[$t]));return zt},Ct=function(B,be){B.isHTML5||k!==8?be():l.setTimeout(be,0)},h={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},s=function(B,be){var _e,$t=!0,zt=be!==o,gi=I.setupOptions,fi=h;if(B===o){for(_e in $t=[],gi)gi.hasOwnProperty(_e)&&$t.push(_e);for(_e in fi)fi.hasOwnProperty(_e)&&(typeof I[_e]=="object"?$t.push(_e+": {...}"):I[_e]instanceof Function?$t.push(_e+": function() {...}"):$t.push(_e));return I._wD(ft("setup",$t.join(", "))),!1}for(_e in B)if(B.hasOwnProperty(_e))if(typeof B[_e]!="object"||B[_e]===null||B[_e]instanceof Array||B[_e]instanceof RegExp)zt&&fi[be]!==o?I[be][_e]=B[_e]:gi[_e]!==o?(I.setupOptions[_e]=B[_e],I[_e]=B[_e]):fi[_e]===o?(Ve(ft(I[_e]===o?"setupUndef":"setupError",_e),2),$t=!1):I[_e]instanceof Function?I[_e].apply(I,B[_e]instanceof Array?B[_e]:[B[_e]]):I[_e]=B[_e];else{if(fi[_e]!==o)return s(B[_e],_e);Ve(ft(I[_e]===o?"setupUndef":"setupError",_e),2),$t=!1}return $t},vt=function(){var B=l.attachEvent,be={add:B?"attachEvent":"addEventListener",remove:B?"detachEvent":"removeEventListener"};function _e(zt){var gi=Xt.call(zt),fi=gi.length;return B?(gi[1]="on"+gi[1],fi>3&&gi.pop()):fi===3&&gi.push(!1),gi}function $t(zt,gi){var fi=zt.shift(),zi=[be[gi]];B?fi[zi](zt[0],zt[1]):fi[zi].apply(fi,zt)}return{add:function(){$t(_e(arguments),"add")},remove:function(){$t(_e(arguments),"remove")}}}(),Mt={abort:he(function(){I._wD(this._s.id+": abort")}),canplay:he(function(){var B,be=this._s;if(!be._html5_canplay){if(be._html5_canplay=!0,I._wD(be.id+": canplay"),be._onbufferchange(0),B=be._iO.position===o||isNaN(be._iO.position)?null:be._iO.position/ti,this.currentTime!==B){I._wD(be.id+": canplay: Setting position to "+B);try{this.currentTime=B}catch(_e){I._wD(be.id+": canplay: Setting position of "+B+" failed: "+_e.message,2)}}be._iO._oncanplay&&be._iO._oncanplay()}}),canplaythrough:he(function(){var B=this._s;B.loaded||(B._onbufferchange(0),B._whileloading(B.bytesLoaded,B.bytesTotal,B._get_html5_duration()),B._onload(!0))}),durationchange:he(function(){var B,be=this._s;B=be._get_html5_duration(),isNaN(B)||B===be.duration||(I._wD(this._s.id+": durationchange ("+B+")"+(be.duration?", previously "+be.duration:"")),be.durationEstimate=be.duration=B)}),ended:he(function(){var B=this._s;I._wD(B.id+": ended"),B._onfinish()}),error:he(function(){var B=Ee[this.error.code]||null;I._wD(this._s.id+": HTML5 error, code "+this.error.code+(B?" ("+B+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,B)}),loadeddata:he(function(){var B=this._s;I._wD(B.id+": loadeddata"),B._loaded||Mi||(B.duration=B._get_html5_duration())}),loadedmetadata:he(function(){I._wD(this._s.id+": loadedmetadata")}),loadstart:he(function(){I._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:he(function(){this._s._onbufferchange(0)}),playing:he(function(){I._wD(this._s.id+": playing \u266B"),this._s._onbufferchange(0)}),progress:he(function(B){var be,_e,$t,zt=this._s,gi=0,fi=B.type==="progress",zi=B.target.buffered,hr=B.loaded||0,or=B.total||1;if(zt.buffered=[],zi&&zi.length){for(be=0,_e=zi.length;be<_e;be++)zt.buffered.push({start:zi.start(be)*ti,end:zi.end(be)*ti});if(gi=(zi.end(0)-zi.start(0))*ti,hr=Math.min(1,gi/(B.target.duration*ti)),fi&&zi.length>1){for($t=[],_e=zi.length,be=0;be<_e;be++)$t.push(B.target.buffered.start(be)*ti+"-"+B.target.buffered.end(be)*ti);I._wD(this._s.id+": progress, timeRanges: "+$t.join(", "))}fi&&!isNaN(hr)&&I._wD(this._s.id+": progress, "+Math.floor(100*hr)+"% loaded")}isNaN(hr)||(zt._whileloading(hr,or,zt._get_html5_duration()),hr&&or&&hr===or&&Mt.canplaythrough.call(this,B))}),ratechange:he(function(){I._wD(this._s.id+": ratechange")}),suspend:he(function(B){var be=this._s;I._wD(this._s.id+": suspend"),Mt.progress.call(this,B),be._onsuspend()}),stalled:he(function(){I._wD(this._s.id+": stalled")}),timeupdate:he(function(){this._s._onTimer()}),waiting:he(function(){var B=this._s;I._wD(this._s.id+": waiting"),B._onbufferchange(1)})},$e=function(B){return!(!B||!(B.type||B.url||B.serverURL))&&!(B.serverURL||B.type&&ve(B.type))&&(B.type?at({type:B.type}):at({url:B.url})||I.html5Only||B.url.match(/data:/i))},nt=function(B){var be;return B&&(be=Mi?Jr:I.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":Jr,B.src=be,B._called_unload!==o&&(B._called_load=!1)),Xe&&(Rt=null),be},at=function(B){if(!I.useHTML5Audio||!I.hasHTML5)return!1;var be,_e,$t,zt,gi=B.url||null,fi=B.type||null,zi=I.audioFormats;if(fi&&I.html5[fi]!==o)return I.html5[fi]&&!ve(fi);if(!tt){for(zt in tt=[],zi)zi.hasOwnProperty(zt)&&(tt.push(zt),zi[zt].related&&(tt=tt.concat(zi[zt].related)));tt=new RegExp("\\.("+tt.join("|")+")(\\?.*)?$","i")}return($t=gi?gi.toLowerCase().match(tt):null)&&$t.length?$t=$t[1]:fi?$t=((_e=fi.indexOf(";"))!==-1?fi.substr(0,_e):fi).substr(6):be=!1,$t&&I.html5[$t]!==o?be=I.html5[$t]&&!ve($t):(fi="audio/"+$t,be=I.html5.canPlayType({type:fi}),I.html5[$t]=be,be=be&&I.html5[fi]&&!ve(fi)),be},dt=function(){if(!I.useHTML5Audio||!I.hasHTML5)return I.html5.usingFlash=!0,kt=!0,!1;var B,be,_e,$t,zt=Audio!==o?ir&&opera.version()<10?new Audio(null):new Audio:null,gi={};function fi(zi){var hr,or,Vr=!1,ue=!1;if(!zt||typeof zt.canPlayType!="function")return Vr;if(zi instanceof Array){for($t=0,or=zi.length;$t<or;$t++)(I.html5[zi[$t]]||zt.canPlayType(zi[$t]).match(I.html5Test))&&(ue=!0,I.html5[zi[$t]]=!0,I.flash[zi[$t]]=!!zi[$t].match(Pr));Vr=ue}else Vr=!(!(hr=!(!zt||typeof zt.canPlayType!="function")&&zt.canPlayType(zi))||!hr.match(I.html5Test));return Vr}for(B in _e=I.audioFormats)if(_e.hasOwnProperty(B)&&(be="audio/"+B,gi[B]=fi(_e[B].type),gi[be]=gi[B],B.match(Pr)?(I.flash[B]=!0,I.flash[be]=!0):(I.flash[B]=!1,I.flash[be]=!1),_e[B]&&_e[B].related))for($t=_e[B].related.length-1;$t>=0;$t--)gi["audio/"+_e[B].related[$t]]=gi[B],I.html5[_e[B].related[$t]]=gi[B],I.flash[_e[B].related[$t]]=gi[B];return gi.canPlayType=zt?fi:null,I.html5=L(I.html5,gi),I.html5.usingFlash=we(),kt=I.html5.usingFlash,!0},ie={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:Ye+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:Qe+"Verify that %s is a valid path.",tryDebug:"Try "+Ye+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:Qe+"Non-HTTP page ("+Le.location.protocol+` URL?) Review Flash player security settings for this special case:
http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html
May need to add/allow path, eg. c:/sm2/ or /users/me/sm2/`,waitFocus:Qe+"Special case: Waiting for SWF to load with window focus...",waitForever:Qe+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:Qe+"Waiting for 100% SWF load...",needFunction:Qe+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:Qe+"_debug(): Current sound objects",waitOnload:Qe+"Waiting for window.onload()",docLoaded:Qe+"Document already loaded",onload:Qe+"initComplete(): calling soundManager.onload()",onloadOK:Ye+".onload() complete",didInit:Qe+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:Qe+"Failed to remove Flash node.",shutdown:Ye+".disable(): Shutting down",queue:Qe+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+Ae.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:Qe+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:Ye+".load(): current URL already assigned.",badFV:Ye+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:Qe+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:Qe+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:Ye+".setup(): allowed parameters: %s",setupError:Ye+'.setup(): "%s" cannot be assigned with this method.',setupUndef:Ye+'.setup(): Could not find option "%s"',setupLate:Ye+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:Qe+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. \u2713",reset:Ye+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},ft=function(){var B,be,_e,$t,zt;if($t=(B=Xt.call(arguments)).shift(),(zt=ie&&ie[$t]?ie[$t]:"")&&B&&B.length)for(be=0,_e=B.length;be<_e;be++)zt=zt.replace("%s",B[be]);return zt},De=function(B){return k===8&&B.loops>1&&B.stream&&(P("as2loop"),B.stream=!1),B},Ne=function(B,be){return B&&!B.usePolicyFile&&(B.onid3||B.usePeakData||B.useWaveformData||B.useEQData)&&(I._wD((be||"")+ft("policy")),B.usePolicyFile=!0),B},Ve=function(B){Sr&&console.warn!==o?console.warn(B):I._wD(B)},y=function(){return!1},Y=function(B){var be;for(be in B)B.hasOwnProperty(be)&&typeof B[be]=="function"&&(B[be]=y);be=null},ce=function(B){B===o&&(B=!1),(Jt||B)&&I.disable(B)},Ze=function(B){var be;if(B)if(B.match(/\.swf(\?.*)?$/i)){if(B.substr(B.toLowerCase().lastIndexOf(".swf?")+4))return B}else B.lastIndexOf("/")!==B.length-1&&(B+="/");return be=(B&&B.lastIndexOf("/")!==-1?B.substr(0,B.lastIndexOf("/")+1):"./")+I.movieURL,I.noSWFCache&&(be+="?ts="+new Date().getTime()),be},q=function(){(k=parseInt(I.flashVersion,10))!==8&&k!==9&&(I._wD(ft("badFV",k,8)),I.flashVersion=k=8);var B=I.debugMode||I.debugFlash?"_debug.swf":".swf";I.useHTML5Audio&&!I.html5Only&&I.audioFormats.mp4.required&&k<9&&(I._wD(ft("needfl9")),I.flashVersion=k=9),I.version=I.versionNumber+(I.html5Only?" (HTML5-only mode)":k===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),k>8?(I.defaultOptions=L(I.defaultOptions,I.flash9Options),I.features.buffering=!0,I.defaultOptions=L(I.defaultOptions,I.movieStarOptions),I.filePatterns.flash9=new RegExp("\\.(mp3|"+Yr.join("|")+")(\\?.*)?$","i"),I.features.movieStar=!0):I.features.movieStar=!1,I.filePattern=I.filePatterns[k!==8?"flash9":"flash8"],I.movieURL=(k===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",B),I.features.peakData=I.features.waveformData=I.features.eqData=k>8},Z=function(B,be){ke&&ke._setPolling(B,be)},ye=function(){if(I.debugURLParam.test(oe)&&(I.setupOptions.debugMode=I.debugMode=!0),!m(I.debugID)){var B,be,_e,$t,zt;if(I.debugMode&&!m(I.debugID)&&(!Sr||!I.useConsole||!I.consoleOnly)){for(zt in(B=Le.createElement("div")).id=I.debugID+"-toggle",$t={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},B.appendChild(Le.createTextNode("-")),B.onclick=Me,B.title="Toggle SM2 debug console",ht.match(/msie 6/i)&&(B.style.position="absolute",B.style.cursor="hand"),$t)$t.hasOwnProperty(zt)&&(B.style[zt]=$t[zt]);if((be=Le.createElement("div")).id=I.debugID,be.style.display=I.debugMode?"block":"none",I.debugMode&&!m(B.id)){try{(_e=W()).appendChild(B)}catch(gi){throw new Error(ft("domError")+` 
`+gi.toString())}_e.appendChild(be)}}_e=null}},rt=this.getSoundById,P=function(B,be){return B?I._wD(ft(B),be):""},Me=function(){var B=m(I.debugID),be=m(I.debugID+"-toggle");B&&(yt?(be.innerHTML="+",B.style.display="none"):(be.innerHTML="-",B.style.display="block"),yt=!yt)},S=function(B,be,_e){if(l.sm2Debugger!==o)try{sm2Debugger.handleEvent(B,be,_e)}catch($t){return!1}return!0},Ge=function(){var B=[];return I.debugMode&&B.push(Ae.sm2Debug),I.debugFlash&&B.push(Ae.flashDebug),I.useHighPerformance&&B.push(Ae.highPerf),B.join(" ")},ct=function(){var B=ft("fbHandler"),be=I.getMoviePercent(),_e=Ae,$t={type:"FLASHBLOCK"};I.html5Only||(I.ok()?(I.didFlashBlock&&I._wD(B+": Unblocked"),I.oMC&&(I.oMC.className=[Ge(),_e.swfDefault,_e.swfLoaded+(I.didFlashBlock?" "+_e.swfUnblocked:"")].join(" "))):(kt&&(I.oMC.className=Ge()+" "+_e.swfDefault+" "+(be===null?_e.swfTimedout:_e.swfError),I._wD(B+": "+ft("fbTimeout")+(be?" ("+ft("fbLoaded")+")":""))),I.didFlashBlock=!0,d({type:"ontimeout",ignoreInit:!0,error:$t}),de($t)))},v=function(B,be,_e){ze[B]===o&&(ze[B]=[]),ze[B].push({method:be,scope:_e||null,fired:!1})},d=function(B){if(B||(B={type:I.ok()?"onready":"ontimeout"}),!Ut&&B&&!B.ignoreInit||B.type==="ontimeout"&&(I.ok()||Jt&&!B.ignoreInit))return!1;var be,_e,$t={success:B&&B.ignoreInit?I.ok():!Jt},zt=B&&B.type&&ze[B.type]||[],gi=[],fi=[$t],zi=kt&&!I.ok();for(B.error&&(fi[0].error=B.error),be=0,_e=zt.length;be<_e;be++)zt[be].fired!==!0&&gi.push(zt[be]);if(gi.length)for(be=0,_e=gi.length;be<_e;be++)gi[be].scope?gi[be].method.apply(gi[be].scope,fi):gi[be].method.apply(this,fi),zi||(gi[be].fired=!0);return!0},_=function(){l.setTimeout(function(){I.useFlashBlock&&ct(),d(),typeof I.onload=="function"&&(P("onload",1),I.onload.apply(l),P("onloadOK",1)),I.waitForWindowLoad&&vt.add(l,"load",_)},1)},ai=function(){if(ii!==o)return ii;var B,be,_e,$t,zt=!1,gi=navigator,fi=l.ActiveXObject;try{$t=gi.plugins}catch(zi){$t=void 0}if($t&&$t.length)be="application/x-shockwave-flash",(_e=gi.mimeTypes)&&_e[be]&&_e[be].enabledPlugin&&_e[be].enabledPlugin.description&&(zt=!0);else if(fi!==o&&!ht.match(/MSAppHost/i)){try{B=new fi("ShockwaveFlash.ShockwaveFlash")}catch(zi){B=null}zt=!!B,B=null}return ii=zt,zt},we=function(){var B,be,_e=I.audioFormats;if(Ai&&ht.match(/os (1|2|3_0|3_1)\s/i)?(I.hasHTML5=!1,I.html5Only=!0,I.oMC&&(I.oMC.style.display="none")):I.useHTML5Audio&&(I.html5&&I.html5.canPlayType||(I._wD("SoundManager: No HTML5 Audio() support detected."),I.hasHTML5=!1),Gi&&I._wD(Qe+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ii?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),I.useHTML5Audio&&I.hasHTML5)for(be in _t=!0,_e)_e.hasOwnProperty(be)&&_e[be].required&&(I.html5.canPlayType(_e[be].type)?I.preferFlash&&(I.flash[be]||I.flash[_e[be].type])&&(B=!0):(_t=!1,B=!0));return I.ignoreFlash&&(B=!1,_t=!0),I.html5Only=I.hasHTML5&&I.useHTML5Audio&&!B,!I.html5Only},qe=function(B){var be,_e,$t,zt=0;if(B instanceof Array){for(be=0,_e=B.length;be<_e;be++)if(B[be]instanceof Object){if(I.canPlayMIME(B[be].type)){zt=be;break}}else if(I.canPlayURL(B[be])){zt=be;break}B[zt].url&&(B[zt]=B[zt].url),$t=B[zt]}else $t=B;return $t},je=function(B){B._hasTimer||(B._hasTimer=!0,!Ki&&I.html5PollingInterval&&(et===null&&Ht===0&&(et=setInterval(J,I.html5PollingInterval)),Ht++))},ee=function(B){B._hasTimer&&(B._hasTimer=!1,!Ki&&I.html5PollingInterval&&Ht--)},J=function(){var B;if(et!==null&&!Ht)return clearInterval(et),void(et=null);for(B=I.soundIDs.length-1;B>=0;B--)I.sounds[I.soundIDs[B]].isHTML5&&I.sounds[I.soundIDs[B]]._hasTimer&&I.sounds[I.soundIDs[B]]._onTimer()},de=function(B){B=B!==o?B:{},typeof I.onerror=="function"&&I.onerror.apply(l,[{type:B.type!==o?B.type:null}]),B.fatal!==o&&B.fatal&&I.disable()},ui=function(){if(Gi&&ai()){var B,be,_e=I.audioFormats;for(be in _e)if(_e.hasOwnProperty(be)&&(be==="mp3"||be==="mp4")&&(I._wD(Ye+": Using flash fallback for "+be+" format"),I.html5[be]=!1,_e[be]&&_e[be].related))for(B=_e[be].related.length-1;B>=0;B--)I.html5[_e[be].related[B]]=!1}},this._setSandboxType=function(B){var be=I.sandbox;be.type=B,be.description=be.types[be.types[B]!==o?B:"unknown"],be.type==="localWithFile"?(be.noRemote=!0,be.noLocal=!1,P("secNote",2)):be.type==="localWithNetwork"?(be.noRemote=!1,be.noLocal=!0):be.type==="localTrusted"&&(be.noRemote=!1,be.noLocal=!1)},this._externalInterfaceOK=function(B){if(!I.swfLoaded){var be;if(S("swf",!0),S("flashtojs",!0),I.swfLoaded=!0,yr=!1,Gi&&ui(),!B||B.replace(/\+dev/i,"")!==I.versionNumber.replace(/\+dev/i,""))return be=Ye+': Fatal: JavaScript file build "'+I.versionNumber+'" does not match Flash SWF build "'+B+'" at '+I.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(be)},0);setTimeout(w,ci?100:1)}},ae=function(B,be){if(ut&&Tt)return!1;function _e(){var vi,rr=[],ar=[];vi="SoundManager "+I.version+(!I.html5Only&&I.useHTML5Audio?I.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),I.html5Only?I.html5PollingInterval&&rr.push("html5PollingInterval ("+I.html5PollingInterval+"ms)"):(I.preferFlash&&rr.push("preferFlash"),I.useHighPerformance&&rr.push("useHighPerformance"),I.flashPollingInterval&&rr.push("flashPollingInterval ("+I.flashPollingInterval+"ms)"),I.html5PollingInterval&&rr.push("html5PollingInterval ("+I.html5PollingInterval+"ms)"),I.wmode&&rr.push("wmode ("+I.wmode+")"),I.debugFlash&&rr.push("debugFlash"),I.useFlashBlock&&rr.push("flashBlock")),rr.length&&(ar=ar.concat([rr.join(" + ")])),I._wD(vi+(ar.length?" + "+ar.join(", "):""),1),It()}if(I.html5Only)return q(),_e(),I.oMC=m(I.movieID),w(),ut=!0,Tt=!0,!1;var $t,zt,gi,fi,zi,hr,or,Vr,ue,In=be||I.url,bn=I.altURL||In,Cn=W(),wn=Ge(),di=Le.getElementsByTagName("html")[0];function Si(vi,rr){return'<param name="'+vi+'" value="'+rr+'" />'}if($t=di&&di.dir&&di.dir.match(/rtl/i),B=B===o?I.id:B,q(),I.url=Ze(cn?In:bn),be=I.url,I.wmode=!I.wmode&&I.useHighPerformance?"transparent":I.wmode,I.wmode!==null&&(ht.match(/msie 8/i)||!ci&&!I.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(xt.push(ie.spcWmode),I.wmode=null),zt={name:B,id:B,src:be,quality:"high",allowScriptAccess:I.allowScriptAccess,bgcolor:I.bgColor,pluginspage:$r+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:I.wmode,hasPriority:"true"},I.debugFlash&&(zt.FlashVars="debug=1"),I.wmode||delete zt.wmode,ci)gi=Le.createElement("div"),zi=['<object id="'+B+'" data="'+be+'" type="'+zt.type+'" title="'+zt.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',Si("movie",be),Si("AllowScriptAccess",I.allowScriptAccess),Si("quality",zt.quality),I.wmode?Si("wmode",I.wmode):"",Si("bgcolor",I.bgColor),Si("hasPriority","true"),I.debugFlash?Si("FlashVars",zt.FlashVars):"","</object>"].join("");else for(fi in gi=Le.createElement("embed"),zt)zt.hasOwnProperty(fi)&&gi.setAttribute(fi,zt[fi]);if(ye(),wn=Ge(),Cn=W())if(I.oMC=m(I.movieID)||Le.createElement("div"),I.oMC.id)ue=I.oMC.className,I.oMC.className=(ue?ue+" ":Ae.swfDefault)+(wn?" "+wn:""),I.oMC.appendChild(gi),ci&&((hr=I.oMC.appendChild(Le.createElement("div"))).className=Ae.swfBox,hr.innerHTML=zi),Tt=!0;else{if(I.oMC.id=I.movieID,I.oMC.className=Ae.swfDefault+" "+wn,or=null,hr=null,I.useFlashBlock||(I.useHighPerformance?or={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(or={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},$t&&(or.left=Math.abs(parseInt(or.left,10))+"px"))),Ti&&(I.oMC.style.zIndex=1e4),!I.debugFlash)for(Vr in or)or.hasOwnProperty(Vr)&&(I.oMC.style[Vr]=or[Vr]);try{ci||I.oMC.appendChild(gi),Cn.appendChild(I.oMC),ci&&((hr=I.oMC.appendChild(Le.createElement("div"))).className=Ae.swfBox,hr.innerHTML=zi),Tt=!0}catch(vi){throw new Error(ft("domError")+` 
`+vi.toString())}}return ut=!0,_e(),!0},Q=function(){return I.html5Only?(ae(),!1):!ke&&(I.url?((ke=I.getMovie(I.id))||(Re?(ci?I.oMC.innerHTML=Be:I.oMC.appendChild(Re),Re=null,ut=!0):ae(I.id,I.url),ke=I.getMovie(I.id)),typeof I.oninitmovie=="function"&&setTimeout(I.oninitmovie,1),Et(),!0):(P("noURL"),!1))},C=function(){setTimeout(N,1e3)},G=function(){l.setTimeout(function(){Ve(Qe+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),I.setup({preferFlash:!1}).reboot(),I.didFlashBlock=!0,I.beginDelayedInit()},1)},N=function(){var B,be=!1;I.url&&(it||(it=!0,vt.remove(l,"load",C),ii&&yr&&!tr?P("waitFocus"):(Ut||(B=I.getMoviePercent())>0&&B<100&&(be=!0),setTimeout(function(){if(B=I.getMoviePercent(),be)return it=!1,I._wD(ft("waitSWF")),void l.setTimeout(C,1);Ut||(I._wD(Ye+": No Flash response within expected time. Likely causes: "+(B===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(I.debugFlash?" "+ft("checkSWF"):""),2),!cn&&B&&(P("localFail",2),I.debugFlash||P("tryDebug",2)),B===0&&I._wD(ft("swf404",I.url),1),S("flashtojs",!1,": Timed out"+(cn?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Ut&&_r&&(B===null?I.useFlashBlock||I.flashLoadTimeout===0?(I.useFlashBlock&&ct(),P("waitForever")):!I.useFlashBlock&&_t?G():(P("waitForever"),d({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):I.flashLoadTimeout===0?P("waitForever"):!I.useFlashBlock&&_t?G():ce(!0))},I.flashLoadTimeout))))},K=function(){function B(){vt.remove(l,"focus",K)}return tr||!yr?(B(),!0):(_r=!0,tr=!0,P("gotFocus"),it=!1,C(),B(),!0)},Et=function(){xt.length&&(I._wD("SoundManager 2: "+xt.join(" "),1),xt=[])},It=function(){Et();var B,be=[];if(I.useHTML5Audio&&I.hasHTML5){for(B in I.audioFormats)I.audioFormats.hasOwnProperty(B)&&be.push(B+" = "+I.html5[B]+(!I.html5[B]&&kt&&I.flash[B]?" (using flash)":I.preferFlash&&I.flash[B]&&kt?" (preferring flash)":I.html5[B]?"":" ("+(I.audioFormats[B].required?"required, ":"")+"and no flash support)"));I._wD("SoundManager 2 HTML5 support: "+be.join(", "),1)}},E=function(B){if(Ut)return!1;if(I.html5Only)return P("sm2Loaded",1),Ut=!0,_(),S("onload",!0),!0;var be,_e=!0;return I.useFlashBlock&&I.flashLoadTimeout&&!I.getMoviePercent()||(Ut=!0),be={type:!ii&&kt?"NO_FLASH":"INIT_TIMEOUT"},I._wD("SoundManager 2 "+(Jt?"failed to load":"loaded")+" ("+(Jt?"Flash security/load error":"OK")+") "+String.fromCharCode(Jt?10006:10003),Jt?2:1),Jt||B?(I.useFlashBlock&&I.oMC&&(I.oMC.className=Ge()+" "+(I.getMoviePercent()===null?Ae.swfTimedout:Ae.swfError)),d({type:"ontimeout",error:be,ignoreInit:!0}),S("onload",!1),de(be),_e=!1):S("onload",!0),Jt||(I.waitForWindowLoad&&!Lt?(P("waitOnload"),vt.add(l,"load",_)):(I.waitForWindowLoad&&Lt&&P("docLoaded"),_())),_e},x=function(){var B,be=I.setupOptions;for(B in be)be.hasOwnProperty(B)&&(I[B]===o?I[B]=be[B]:I[B]!==be[B]&&(I.setupOptions[B]=I[B]))},w=function(){if(Ut)return P("didInit"),!1;function B(){vt.remove(l,"load",I.beginDelayedInit)}if(I.html5Only)return Ut||(B(),I.enabled=!0,E()),!0;Q();try{ke._externalInterfaceTest(!1),Z(!0,I.flashPollingInterval||(I.useHighPerformance?10:50)),I.debugMode||ke._disableDebug(),I.enabled=!0,S("jstoflash",!0),I.html5Only||vt.add(l,"unload",y)}catch(be){return I._wD("js/flash exception: "+be.toString()),S("jstoflash",!1),de({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),ce(!0),E(),!1}return E(),B(),!0},te=function(){return!fe&&(fe=!0,x(),ye(),!ii&&I.hasHTML5&&(I._wD("SoundManager 2: No Flash detected"+(I.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),I.setup({useHTML5Audio:!0,preferFlash:!1})),dt(),!ii&&kt&&(xt.push(ie.needFlash),I.setup({flashLoadTimeout:1})),Le.removeEventListener&&Le.removeEventListener("DOMContentLoaded",te,!1),Q(),!0)},Vt=function(){return Le.readyState==="complete"&&(te(),Le.detachEvent("onreadystatechange",Vt)),!0},Oe=function(){Lt=!0,te(),vt.remove(l,"load",Oe)},ai(),vt.add(l,"focus",K),vt.add(l,"load",C),vt.add(l,"load",Oe),Le.addEventListener?Le.addEventListener("DOMContentLoaded",te,!1):Le.attachEvent?Le.attachEvent("onreadystatechange",Vt):(S("onload",!1),de({type:"NO_DOM2_EVENTS",fatal:!0}))}l.SM2_DEFER!==o&&SM2_DEFER||(c=new n),e&&typeof e.exports=="object"?(e.exports.SoundManager=n,e.exports.soundManager=c):(a=function(){return{constructor:n,getInstance:function(u){if(!l.soundManager&&u instanceof Function){var p=u(n);p instanceof n&&(l.soundManager=p)}return l.soundManager}}}.call(t,r,t,e))===void 0||(e.exports=a),l.SoundManager=n,l.soundManager=c}(window)},706:function(e,t,r){"use strict";var a=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||a&&o[c].name!==c})}},2762:function(e,t,r){"use strict";var a=r(6518),l=r(3802).trim;a({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){"use strict";function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(a(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(a(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return a(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},1966:function(e,t,r){"use strict";r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(2008),r(113),r(3418),r(3792),r(8598),r(2062),r(4490),r(4782),r(6910),r(9572),r(2010),r(4731),r(479),r(8130),r(9085),r(5506),r(3851),r(1278),r(875),r(9432),r(6099),r(8459),r(3362),r(825),r(888),r(7495),r(8781),r(7764),r(1761),r(1392),r(3500),r(2953),r(5440);var a=r(9073),l=r(1669);function o(Je){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},o(Je)}function c(Je,Re){return function(Be){if(Array.isArray(Be))return Be}(Je)||function(Be,it){var Pt=Be==null?null:typeof Symbol<"u"&&Be[Symbol.iterator]||Be["@@iterator"];if(Pt!=null){var Ht,et,xt,kt,Xt=[],Xe=!0,ni=!1;try{if(xt=(Pt=Pt.call(Be)).next,it===0){if(Object(Pt)!==Pt)return;Xe=!1}else for(;!(Xe=(Ht=xt.call(Pt)).done)&&(Xt.push(Ht.value),Xt.length!==it);Xe=!0);}catch(ti){ni=!0,et=ti}finally{try{if(!Xe&&Pt.return!=null&&(kt=Pt.return(),Object(kt)!==kt))return}finally{if(ni)throw et}}return Xt}}(Je,Re)||function(Be,it){if(Be){if(typeof Be=="string")return n(Be,it);var Pt={}.toString.call(Be).slice(8,-1);return Pt==="Object"&&Be.constructor&&(Pt=Be.constructor.name),Pt==="Map"||Pt==="Set"?Array.from(Be):Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?n(Be,it):void 0}}(Je,Re)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n(Je,Re){(Re==null||Re>Je.length)&&(Re=Je.length);for(var Be=0,it=Array(Re);Be<Re;Be++)it[Be]=Je[Be];return it}function u(){u=function(){return Re};var Je,Re={},Be=Object.prototype,it=Be.hasOwnProperty,Pt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},et=Ht.iterator||"@@iterator",xt=Ht.asyncIterator||"@@asyncIterator",kt=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function Xe(ve,he,B,be){var _e=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(_e.prototype),zt=new Yr(be||[]);return Pt($t,"_invoke",{value:Jr(ve,B,zt)}),$t}function ni(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Re.wrap=Xe;var ti="suspendedStart",Ai="suspendedYield",qt="executing",ci="completed",Ti={};function Mi(){}function ir(){}function Ki(){}var Gi={};Xt(Gi,et,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Wr([])));tr&&tr!==Be&&it.call(tr,et)&&(Gi=tr);var yr=Ki.prototype=Mi.prototype=Object.create(Gi);function _r(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Pr(ve,he){function B(_e,$t,zt,gi){var fi=ni(ve[_e],ve,$t);if(fi.type!=="throw"){var zi=fi.arg,hr=zi.value;return hr&&o(hr)=="object"&&it.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){zi.value=or,zt(zi)},function(or){return B("throw",or,zt,gi)})}gi(fi.arg)}var be;Pt(this,"_invoke",{value:function(_e,$t){function zt(){return new he(function(gi,fi){B(_e,$t,gi,fi)})}return be=be?be.then(zt,zt):zt()}})}function Jr(ve,he,B){var be=ti;return function(_e,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(_e==="throw")throw $t;return{value:Je,done:!0}}for(B.method=_e,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=cn(zt,B);if(gi){if(gi===Ti)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ti)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var fi=ni(ve,he,B);if(fi.type==="normal"){if(be=B.done?ci:Ai,fi.arg===Ti)continue;return{value:fi.arg,done:B.done}}fi.type==="throw"&&(be=ci,B.method="throw",B.arg=fi.arg)}}}function cn(ve,he){var B=he.method,be=ve.iterator[B];if(be===Je)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Je,cn(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=ni(be,ve.iterator,he.arg);if(_e.type==="throw")return he.method="throw",he.arg=_e.arg,he.delegate=null,Ti;var $t=_e.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Je),he.delegate=null,Ti):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ti)}function $r(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function jr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var he=ve[et];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function _e(){for(;++B<ve.length;)if(it.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Je,_e.done=!0,_e};return be.next=be}}throw new TypeError(o(ve)+" is not iterable")}return ir.prototype=Ki,Pt(yr,"constructor",{value:Ki,configurable:!0}),Pt(Ki,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Ki,kt,"GeneratorFunction"),Re.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Re.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Ki):(ve.__proto__=Ki,Xt(ve,kt,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Re.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Xt(Pr.prototype,xt,function(){return this}),Re.AsyncIterator=Pr,Re.async=function(ve,he,B,be,_e){_e===void 0&&(_e=Promise);var $t=new Pr(Xe(ve,he,B,be),_e);return Re.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},_r(yr),Xt(yr,kt,"Generator"),Xt(yr,et,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Re.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function _e(){for(;B.length;){var $t=B.pop();if($t in he)return _e.value=$t,_e.done=!1,_e}return _e.done=!0,_e}},Re.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Je,this.done=!1,this.delegate=null,this.method="next",this.arg=Je,this.tryEntries.forEach(jr),!ve)for(var he in this)he.charAt(0)==="t"&&it.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Je)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(fi,zi){return $t.type="throw",$t.arg=ve,he.next=fi,zi&&(he.method="next",he.arg=Je),!!zi}for(var be=this.tryEntries.length-1;be>=0;--be){var _e=this.tryEntries[be],$t=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var zt=it.call(_e,"catchLoc"),gi=it.call(_e,"finallyLoc");if(zt&&gi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(zt){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&it.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var _e=be;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=he&&he<=_e.finallyLoc&&(_e=null);var $t=_e?_e.completion:{};return $t.type=ve,$t.arg=he,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ti},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),jr(B),Ti}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var _e=be.arg;jr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Wr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Je),Ti}},Re}function p(Je,Re,Be,it,Pt,Ht,et){try{var xt=Je[Ht](et),kt=xt.value}catch(Xt){return void Be(Xt)}xt.done?Re(kt):Promise.resolve(kt).then(it,Pt)}function g(Je,Re){for(var Be=0;Be<Re.length;Be++){var it=Re[Be];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(Je,m(it.key),it)}}function m(Je){var Re=function(Be,it){if(o(Be)!="object"||!Be)return Be;var Pt=Be[Symbol.toPrimitive];if(Pt!==void 0){var Ht=Pt.call(Be,"string");if(o(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(Je);return o(Re)=="symbol"?Re:Re+""}var y=function(){function Je(Ht,et,xt,kt){(function(Xt,Xe){if(!(Xt instanceof Xe))throw new TypeError("Cannot call a class as a function")})(this,Je),this.leafIndex=Ht,this.chunkIndex=et,this.text=xt,this.lineRects=kt}return Re=Je,Be=[{key:"fetch",value:(it=u().mark(function Ht(et,xt){var kt;return u().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:return Xt.next=2,l.ajax({type:"GET",url:(0,a.g)(et,{pageIndex:xt}),cache:!0,xhrFields:{withCredentials:window.br.protected}});case 2:return kt=Xt.sent,Xt.abrupt("return",Je._fromTextWrapperResponse(xt,kt));case 4:case"end":return Xt.stop()}},Ht)}),Pt=function(){var Ht=this,et=arguments;return new Promise(function(xt,kt){var Xt=it.apply(Ht,et);function Xe(ti){p(Xt,xt,kt,Xe,ni,"next",ti)}function ni(ti){p(Xt,xt,kt,Xe,ni,"throw",ti)}Xe(void 0)})},function(Ht,et){return Pt.apply(this,arguments)})},{key:"_fromTextWrapperResponse",value:function(Ht,et){return et.map(function(xt,kt){var Xt=Je._fixChunkRects(xt.slice(1)),Xe=Je._removeDanglingHyphens(xt[0]);return new Je(Ht,kt,Xe,Xt)})}},{key:"_fixChunkRects",value:function(Ht){if(Ht.length<2)return Ht;var et=c(Ht,2),xt=et[0],kt=et[1],Xt=c(xt,3),Xe=Xt[0],ni=Xt[1],ti=Xt[2]-Xe,Ai=kt[1]-kt[3],qt=kt[2]-kt[0],ci=kt[2];return ti>30*qt&&(xt[2]=ci,xt[3]=ni-Ai),Ht}},{key:"_removeDanglingHyphens",value:function(Ht){return Ht.replace(/[-¬]\s+/g,"")}}],Be&&g(Re,Be),Object.defineProperty(Re,"prototype",{writable:!1}),Re;var Re,Be,it,Pt}();function x(Je){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},x(Je)}function w(){w=function(){return Re};var Je,Re={},Be=Object.prototype,it=Be.hasOwnProperty,Pt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},et=Ht.iterator||"@@iterator",xt=Ht.asyncIterator||"@@asyncIterator",kt=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function Xe(ve,he,B,be){var _e=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(_e.prototype),zt=new Yr(be||[]);return Pt($t,"_invoke",{value:Jr(ve,B,zt)}),$t}function ni(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Re.wrap=Xe;var ti="suspendedStart",Ai="suspendedYield",qt="executing",ci="completed",Ti={};function Mi(){}function ir(){}function Ki(){}var Gi={};Xt(Gi,et,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Wr([])));tr&&tr!==Be&&it.call(tr,et)&&(Gi=tr);var yr=Ki.prototype=Mi.prototype=Object.create(Gi);function _r(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Pr(ve,he){function B(_e,$t,zt,gi){var fi=ni(ve[_e],ve,$t);if(fi.type!=="throw"){var zi=fi.arg,hr=zi.value;return hr&&x(hr)=="object"&&it.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){zi.value=or,zt(zi)},function(or){return B("throw",or,zt,gi)})}gi(fi.arg)}var be;Pt(this,"_invoke",{value:function(_e,$t){function zt(){return new he(function(gi,fi){B(_e,$t,gi,fi)})}return be=be?be.then(zt,zt):zt()}})}function Jr(ve,he,B){var be=ti;return function(_e,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(_e==="throw")throw $t;return{value:Je,done:!0}}for(B.method=_e,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=cn(zt,B);if(gi){if(gi===Ti)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ti)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var fi=ni(ve,he,B);if(fi.type==="normal"){if(be=B.done?ci:Ai,fi.arg===Ti)continue;return{value:fi.arg,done:B.done}}fi.type==="throw"&&(be=ci,B.method="throw",B.arg=fi.arg)}}}function cn(ve,he){var B=he.method,be=ve.iterator[B];if(be===Je)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Je,cn(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=ni(be,ve.iterator,he.arg);if(_e.type==="throw")return he.method="throw",he.arg=_e.arg,he.delegate=null,Ti;var $t=_e.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Je),he.delegate=null,Ti):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ti)}function $r(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function jr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var he=ve[et];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function _e(){for(;++B<ve.length;)if(it.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Je,_e.done=!0,_e};return be.next=be}}throw new TypeError(x(ve)+" is not iterable")}return ir.prototype=Ki,Pt(yr,"constructor",{value:Ki,configurable:!0}),Pt(Ki,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Ki,kt,"GeneratorFunction"),Re.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Re.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Ki):(ve.__proto__=Ki,Xt(ve,kt,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Re.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Xt(Pr.prototype,xt,function(){return this}),Re.AsyncIterator=Pr,Re.async=function(ve,he,B,be,_e){_e===void 0&&(_e=Promise);var $t=new Pr(Xe(ve,he,B,be),_e);return Re.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},_r(yr),Xt(yr,kt,"Generator"),Xt(yr,et,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Re.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function _e(){for(;B.length;){var $t=B.pop();if($t in he)return _e.value=$t,_e.done=!1,_e}return _e.done=!0,_e}},Re.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Je,this.done=!1,this.delegate=null,this.method="next",this.arg=Je,this.tryEntries.forEach(jr),!ve)for(var he in this)he.charAt(0)==="t"&&it.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Je)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(fi,zi){return $t.type="throw",$t.arg=ve,he.next=fi,zi&&(he.method="next",he.arg=Je),!!zi}for(var be=this.tryEntries.length-1;be>=0;--be){var _e=this.tryEntries[be],$t=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var zt=it.call(_e,"catchLoc"),gi=it.call(_e,"finallyLoc");if(zt&&gi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(zt){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&it.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var _e=be;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=he&&he<=_e.finallyLoc&&(_e=null);var $t=_e?_e.completion:{};return $t.type=ve,$t.arg=he,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ti},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),jr(B),Ti}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var _e=be.arg;jr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Wr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Je),Ti}},Re}function k(Je,Re,Be,it,Pt,Ht,et){try{var xt=Je[Ht](et),kt=xt.value}catch(Xt){return void Be(Xt)}xt.done?Re(kt):Promise.resolve(kt).then(it,Pt)}function S(Je,Re){for(var Be=0;Be<Re.length;Be++){var it=Re[Be];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(Je,P(it.key),it)}}function P(Je){var Re=function(Be,it){if(x(Be)!="object"||!Be)return Be;var Pt=Be[Symbol.toPrimitive];if(Pt!==void 0){var Ht=Pt.call(Be,"string");if(x(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(Je);return x(Re)=="symbol"?Re:Re+""}var E=function(){function Je(Ht,et,xt){(function(kt,Xt){if(!(kt instanceof Xt))throw new TypeError("Cannot call a class as a function")})(this,Je),this.pageCount=Ht,this.opts=Object.assign({},L,xt),this._cursor={page:et,chunk:0},this._bufferedPages={},this._bufferingPages={},this._cursorLock=Promise.resolve()}return Re=Je,Be=[{key:"next",value:function(){var Ht=this;return this._cursorLock=this._cursorLock.then(function(){return Ht._nextUncontrolled()})}},{key:"decrement",value:function(){var Ht=this;return this._cursorLock=this._cursorLock.then(function(){return Ht._decrementUncontrolled()})}},{key:"_nextUncontrolled",value:(it=w().mark(function Ht(){var et;return w().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:if(this._cursor.page!=this.pageCount){xt.next=2;break}return xt.abrupt("return",Promise.resolve(Je.AT_END));case 2:return this._recenterBuffer(this._cursor.page),xt.next=5,this._fetchPageChunks(this._cursor.page);case 5:if(et=xt.sent,this._cursor.chunk!=et.length){xt.next=10;break}return this._cursor.page++,this._cursor.chunk=0,xt.abrupt("return",this._nextUncontrolled());case 10:return xt.abrupt("return",et[this._cursor.chunk++]);case 11:case"end":return xt.stop()}},Ht,this)}),Pt=function(){var Ht=this,et=arguments;return new Promise(function(xt,kt){var Xt=it.apply(Ht,et);function Xe(ti){k(Xt,xt,kt,Xe,ni,"next",ti)}function ni(ti){k(Xt,xt,kt,Xe,ni,"throw",ti)}Xe(void 0)})},function(){return Pt.apply(this,arguments)})},{key:"_decrementUncontrolled",value:function(){var Ht=this,et=Promise.resolve();return this._cursor.chunk>0?this._cursor.chunk--:this._cursor.page>0&&(this._cursor.page--,et=this._fetchPageChunks(this._cursor.page).then(function(xt){if(xt.length==0)return Ht._decrementUncontrolled();Ht._cursor.chunk=xt.length-1})),et.then(function(){return Ht._fetchPageChunks(Ht._cursor.page)})}},{key:"_recenterBuffer",value:function(Ht){for(var et=Math.max(0,Ht-this.opts.pageBufferSize),xt=Math.min(this.pageCount,Ht+this.opts.pageBufferSize+1),kt=et;kt<xt;kt++)this._fetchPageChunks(kt);this._removePageFromBuffer(et-1),this._removePageFromBuffer(xt+1)}},{key:"_removePageFromBuffer",value:function(Ht){delete this._bufferingPages[Ht],delete this._bufferedPages[Ht]}},{key:"_fetchPageChunks",value:function(Ht){var et=this;return Ht in this._bufferingPages?this._bufferingPages[Ht]:Ht in this._bufferedPages?Promise.resolve(this._bufferedPages[Ht]):(this._bufferingPages[Ht]=this._fetchPageChunksDirect(Ht).then(function(xt){return delete et._bufferingPages[Ht],et._bufferedPages[Ht]=xt,xt}),this._bufferingPages[Ht])}},{key:"_fetchPageChunksDirect",value:function(Ht){return y.fetch(this.opts.pageChunkUrl,Ht)}}],Be&&S(Re.prototype,Be),Object.defineProperty(Re,"prototype",{writable:!1}),Re;var Re,Be,it,Pt}();E.AT_END="__PageChunkIterator.AT_END__";var L={pageChunkUrl:null,pageBufferSize:2},s=r(4031);function h(){var Je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(Je)}var v={Name:0,Endonym:1,"ISO 639-1":2,"ISO 639-2/T":3,"ISO 639-2/B":4};function d(Je,Re){for(var Be=0;Be<s.length;Be++)for(var it=0;it<Re.length;it++){var Pt=Re[it];if(s[Be][v[Pt]].split(", ").map(function(Ht){return Ht.toLowerCase()}).indexOf(Je)!=-1)return s[Be][v["ISO 639-1"]]}return null}function _(){try{return!!window.localStorage}catch(Je){return!1}}var C=location.toString().indexOf("_debugReadAloud=true")!=-1,N=r(1669);function G(Je){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},G(Je)}function q(Je,Re){(Re==null||Re>Je.length)&&(Re=Je.length);for(var Be=0,it=Array(Re);Be<Re;Be++)it[Be]=Je[Be];return it}function K(){K=function(){return Re};var Je,Re={},Be=Object.prototype,it=Be.hasOwnProperty,Pt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},et=Ht.iterator||"@@iterator",xt=Ht.asyncIterator||"@@asyncIterator",kt=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function Xe(ve,he,B,be){var _e=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(_e.prototype),zt=new Yr(be||[]);return Pt($t,"_invoke",{value:Jr(ve,B,zt)}),$t}function ni(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Re.wrap=Xe;var ti="suspendedStart",Ai="suspendedYield",qt="executing",ci="completed",Ti={};function Mi(){}function ir(){}function Ki(){}var Gi={};Xt(Gi,et,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Wr([])));tr&&tr!==Be&&it.call(tr,et)&&(Gi=tr);var yr=Ki.prototype=Mi.prototype=Object.create(Gi);function _r(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Pr(ve,he){function B(_e,$t,zt,gi){var fi=ni(ve[_e],ve,$t);if(fi.type!=="throw"){var zi=fi.arg,hr=zi.value;return hr&&G(hr)=="object"&&it.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){zi.value=or,zt(zi)},function(or){return B("throw",or,zt,gi)})}gi(fi.arg)}var be;Pt(this,"_invoke",{value:function(_e,$t){function zt(){return new he(function(gi,fi){B(_e,$t,gi,fi)})}return be=be?be.then(zt,zt):zt()}})}function Jr(ve,he,B){var be=ti;return function(_e,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(_e==="throw")throw $t;return{value:Je,done:!0}}for(B.method=_e,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=cn(zt,B);if(gi){if(gi===Ti)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ti)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var fi=ni(ve,he,B);if(fi.type==="normal"){if(be=B.done?ci:Ai,fi.arg===Ti)continue;return{value:fi.arg,done:B.done}}fi.type==="throw"&&(be=ci,B.method="throw",B.arg=fi.arg)}}}function cn(ve,he){var B=he.method,be=ve.iterator[B];if(be===Je)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Je,cn(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=ni(be,ve.iterator,he.arg);if(_e.type==="throw")return he.method="throw",he.arg=_e.arg,he.delegate=null,Ti;var $t=_e.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Je),he.delegate=null,Ti):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ti)}function $r(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function jr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var he=ve[et];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function _e(){for(;++B<ve.length;)if(it.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Je,_e.done=!0,_e};return be.next=be}}throw new TypeError(G(ve)+" is not iterable")}return ir.prototype=Ki,Pt(yr,"constructor",{value:Ki,configurable:!0}),Pt(Ki,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Ki,kt,"GeneratorFunction"),Re.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Re.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Ki):(ve.__proto__=Ki,Xt(ve,kt,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Re.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Xt(Pr.prototype,xt,function(){return this}),Re.AsyncIterator=Pr,Re.async=function(ve,he,B,be,_e){_e===void 0&&(_e=Promise);var $t=new Pr(Xe(ve,he,B,be),_e);return Re.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},_r(yr),Xt(yr,kt,"Generator"),Xt(yr,et,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Re.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function _e(){for(;B.length;){var $t=B.pop();if($t in he)return _e.value=$t,_e.done=!1,_e}return _e.done=!0,_e}},Re.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Je,this.done=!1,this.delegate=null,this.method="next",this.arg=Je,this.tryEntries.forEach(jr),!ve)for(var he in this)he.charAt(0)==="t"&&it.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Je)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(fi,zi){return $t.type="throw",$t.arg=ve,he.next=fi,zi&&(he.method="next",he.arg=Je),!!zi}for(var be=this.tryEntries.length-1;be>=0;--be){var _e=this.tryEntries[be],$t=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var zt=it.call(_e,"catchLoc"),gi=it.call(_e,"finallyLoc");if(zt&&gi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(zt){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&it.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var _e=be;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=he&&he<=_e.finallyLoc&&(_e=null);var $t=_e?_e.completion:{};return $t.type=ve,$t.arg=he,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ti},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),jr(B),Ti}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var _e=be.arg;jr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Wr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Je),Ti}},Re}function ie(Je,Re,Be,it,Pt,Ht,et){try{var xt=Je[Ht](et),kt=xt.value}catch(Xt){return void Be(Xt)}xt.done?Re(kt):Promise.resolve(kt).then(it,Pt)}function Q(Je){return function(){var Re=this,Be=arguments;return new Promise(function(it,Pt){var Ht=Je.apply(Re,Be);function et(kt){ie(Ht,it,Pt,et,xt,"next",kt)}function xt(kt){ie(Ht,it,Pt,et,xt,"throw",kt)}et(void 0)})}}function te(Je,Re){for(var Be=0;Be<Re.length;Be++){var it=Re[Be];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(Je,Oe(it.key),it)}}function Oe(Je){var Re=function(Be,it){if(G(Be)!="object"||!Be)return Be;var Pt=Be[Symbol.toPrimitive];if(Pt!==void 0){var Ht=Pt.call(Be,"string");if(G(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(Je);return G(Re)=="symbol"?Re:Re+""}var fe=function(){function Je(et){var xt,kt,Xt,Xe=this;(function(ni,ti){if(!(ni instanceof ti))throw new TypeError("Cannot call a class as a function")})(this,Je),xt=this,Xt=function(){Xe.voice=Je.getBestBookVoice(Xe.getVoices(),Xe.opts.bookLanguage)},(kt=Oe(kt="updateBestVoice"))in xt?Object.defineProperty(xt,kt,{value:Xt,enumerable:!0,configurable:!0,writable:!0}):xt[kt]=Xt,this.playing=!1,this.paused=!1,this.opts=et,this._chunkIterator=null,this.activeSound=null,this.playbackRate=1,this.events=N({}),this.voice=null,this.events.on("voiceschanged",this.updateBestVoice),this.events.trigger("voiceschanged")}return Re=Je,Be=[{key:"getVoices",value:function(){throw new Error("Unimplemented abstract class")}},{key:"init",value:function(){return null}},{key:"start",value:function(et,xt){this.playing=!0,this.paused=!1,this.opts.onLoadingStart(),this._chunkIterator=new E(xt,et,{pageChunkUrl:this.opts.pageChunkUrl,pageBufferSize:5}),this.step(),this.events.trigger("start")}},{key:"stop",value:function(){this.activeSound&&this.activeSound.stop(),this.playing=!1,this.paused=!0,this._chunkIterator=null,this.activeSound=null,this.events.trigger("stop")}},{key:"pause",value:function(){var et=!this.paused&&this.activeSound;this.paused=!0,this.activeSound&&this.activeSound.pause(),et&&this.events.trigger("pause")}},{key:"resume",value:function(){var et=this.paused&&this.activeSound;this.paused=!1,this.activeSound&&this.activeSound.resume(),et&&this.events.trigger("resume")}},{key:"togglePlayPause",value:function(){this.paused?this.resume():this.pause()}},{key:"jumpForward",value:function(){this.activeSound&&this.activeSound.finish()}},{key:"jumpBackward",value:(Ht=Q(K().mark(function et(){var xt=this;return K().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return kt.next=2,Promise.all([this.activeSound.stop(),this._chunkIterator.decrement().then(function(){return xt._chunkIterator.decrement()})]);case 2:this.step();case 3:case"end":return kt.stop()}},et,this)})),function(){return Ht.apply(this,arguments)})},{key:"setVoice",value:function(et){this.events.off("voiceschanged",this.updateBestVoice),this.voice=this.getVoices().find(function(xt){return xt.voiceURI===et}),this.opts.bookLanguage&&_()&&localStorage.setItem("BRtts-voice-".concat(this.opts.bookLanguage),this.voice.voiceURI),this.activeSound&&this.activeSound.setVoice(this.voice)}},{key:"setPlaybackRate",value:function(et){this.playbackRate=et,this.activeSound&&this.activeSound.setPlaybackRate(et)}},{key:"step",value:(Pt=Q(K().mark(function et(){var xt,kt,Xt,Xe=this;return K().wrap(function(ni){for(;;)switch(ni.prev=ni.next){case 0:return ni.next=2,this._chunkIterator.next();case 2:if((xt=ni.sent)!=E.AT_END){ni.next=7;break}return this.stop(),this.opts.onDone(),ni.abrupt("return");case 7:return this.opts.onLoadingStart(),(kt=this.createSound(xt)).chunk=xt,kt.rate=this.playbackRate,kt.voice=this.voice,kt.load(function(){return Xe.opts.onLoadingComplete()}),this.opts.onLoadingComplete(),ni.next=16,this.opts.beforeChunkPlay(xt);case 16:if(this.playing){ni.next=18;break}return ni.abrupt("return");case 18:return ni.next=20,this.playSound(kt).then(function(){return Xe.opts.afterChunkPlay(kt.chunk)});case 20:return Xt=ni.sent,this.paused&&this.pause(),ni.next=24,Xt;case 24:if(!this.playing){ni.next=26;break}return ni.abrupt("return",this.step());case 26:case"end":return ni.stop()}},et,this)})),function(){return Pt.apply(this,arguments)})},{key:"createSound",value:function(et){throw new Error("Unimplemented abstract class")}},{key:"playSound",value:function(et){return this.activeSound=et,this.activeSound.loaded||this.opts.onLoadingStart(),this.activeSound.play()}},{key:"getBestVoice",value:function(){return Je.getBestBookVoice(this.getVoices(),this.opts.bookLanguage)}}],it=[{key:"isSupported",value:function(){throw new Error("Unimplemented abstract class")}},{key:"getBestBookVoice",value:function(et,xt){var kt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:navigator.languages,Xt=et.filter(function(ni){return ni.lang.startsWith(xt)}),Xe=(kt=kt||(navigator.language?[navigator.language]:[])).filter(function(ni){return ni.startsWith(xt)});return Je.getMatchingStoredVoice(Xt,xt)||Je.getMatchingVoice(Xe,Xt)||Xt.find(function(ni){return ni.default})||Xt[0]||Je.getMatchingVoice(kt,et)||et.find(function(ni){return ni.default})||et[0]}},{key:"getMatchingStoredVoice",value:function(et,xt){var kt=_()&&localStorage.getItem("BRtts-voice-".concat(xt));return kt?et.find(function(Xt){return Xt.voiceURI===kt}):void 0}},{key:"getMatchingVoice",value:function(et,xt){var kt,Xt=function(ti,Ai){var qt=typeof Symbol<"u"&&ti[Symbol.iterator]||ti["@@iterator"];if(!qt){if(Array.isArray(ti)||(qt=function(Gi,Sr){if(Gi){if(typeof Gi=="string")return q(Gi,Sr);var tr={}.toString.call(Gi).slice(8,-1);return tr==="Object"&&Gi.constructor&&(tr=Gi.constructor.name),tr==="Map"||tr==="Set"?Array.from(Gi):tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr)?q(Gi,Sr):void 0}}(ti))||Ai&&ti&&typeof ti.length=="number"){qt&&(ti=qt);var ci=0,Ti=function(){};return{s:Ti,n:function(){return ci>=ti.length?{done:!0}:{done:!1,value:ti[ci++]}},e:function(Gi){throw Gi},f:Ti}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mi,ir=!0,Ki=!1;return{s:function(){qt=qt.call(ti)},n:function(){var Gi=qt.next();return ir=Gi.done,Gi},e:function(Gi){Ki=!0,Mi=Gi},f:function(){try{ir||qt.return==null||qt.return()}finally{if(Ki)throw Mi}}}}(et);try{var Xe,ni=function(){var ti=kt.value,Ai=xt.filter(function(qt){return qt.lang.replace("_","-").startsWith(ti)});if(Ai.length)return{v:Ai.find(function(qt){return qt.default})||Ai[0]}};for(Xt.s();!(kt=Xt.n()).done;)if(Xe=ni())return Xe.v}catch(ti){Xt.e(ti)}finally{Xt.f()}}}],Be&&te(Re.prototype,Be),it&&te(Re,it),Object.defineProperty(Re,"prototype",{writable:!1}),Re;var Re,Be,it,Pt,Ht}(),W=r(8004),ae=(r(2443),r(1792),r(1669));function de(Je){return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},de(Je)}function Z(){Z=function(){return Re};var Je,Re={},Be=Object.prototype,it=Be.hasOwnProperty,Pt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},et=Ht.iterator||"@@iterator",xt=Ht.asyncIterator||"@@asyncIterator",kt=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function Xe(ve,he,B,be){var _e=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(_e.prototype),zt=new Yr(be||[]);return Pt($t,"_invoke",{value:Jr(ve,B,zt)}),$t}function ni(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Re.wrap=Xe;var ti="suspendedStart",Ai="suspendedYield",qt="executing",ci="completed",Ti={};function Mi(){}function ir(){}function Ki(){}var Gi={};Xt(Gi,et,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Wr([])));tr&&tr!==Be&&it.call(tr,et)&&(Gi=tr);var yr=Ki.prototype=Mi.prototype=Object.create(Gi);function _r(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Pr(ve,he){function B(_e,$t,zt,gi){var fi=ni(ve[_e],ve,$t);if(fi.type!=="throw"){var zi=fi.arg,hr=zi.value;return hr&&de(hr)=="object"&&it.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){zi.value=or,zt(zi)},function(or){return B("throw",or,zt,gi)})}gi(fi.arg)}var be;Pt(this,"_invoke",{value:function(_e,$t){function zt(){return new he(function(gi,fi){B(_e,$t,gi,fi)})}return be=be?be.then(zt,zt):zt()}})}function Jr(ve,he,B){var be=ti;return function(_e,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(_e==="throw")throw $t;return{value:Je,done:!0}}for(B.method=_e,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=cn(zt,B);if(gi){if(gi===Ti)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ti)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var fi=ni(ve,he,B);if(fi.type==="normal"){if(be=B.done?ci:Ai,fi.arg===Ti)continue;return{value:fi.arg,done:B.done}}fi.type==="throw"&&(be=ci,B.method="throw",B.arg=fi.arg)}}}function cn(ve,he){var B=he.method,be=ve.iterator[B];if(be===Je)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Je,cn(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=ni(be,ve.iterator,he.arg);if(_e.type==="throw")return he.method="throw",he.arg=_e.arg,he.delegate=null,Ti;var $t=_e.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Je),he.delegate=null,Ti):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ti)}function $r(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function jr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var he=ve[et];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function _e(){for(;++B<ve.length;)if(it.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Je,_e.done=!0,_e};return be.next=be}}throw new TypeError(de(ve)+" is not iterable")}return ir.prototype=Ki,Pt(yr,"constructor",{value:Ki,configurable:!0}),Pt(Ki,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Ki,kt,"GeneratorFunction"),Re.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Re.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Ki):(ve.__proto__=Ki,Xt(ve,kt,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Re.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Xt(Pr.prototype,xt,function(){return this}),Re.AsyncIterator=Pr,Re.async=function(ve,he,B,be,_e){_e===void 0&&(_e=Promise);var $t=new Pr(Xe(ve,he,B,be),_e);return Re.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},_r(yr),Xt(yr,kt,"Generator"),Xt(yr,et,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Re.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function _e(){for(;B.length;){var $t=B.pop();if($t in he)return _e.value=$t,_e.done=!1,_e}return _e.done=!0,_e}},Re.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Je,this.done=!1,this.delegate=null,this.method="next",this.arg=Je,this.tryEntries.forEach(jr),!ve)for(var he in this)he.charAt(0)==="t"&&it.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Je)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(fi,zi){return $t.type="throw",$t.arg=ve,he.next=fi,zi&&(he.method="next",he.arg=Je),!!zi}for(var be=this.tryEntries.length-1;be>=0;--be){var _e=this.tryEntries[be],$t=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var zt=it.call(_e,"catchLoc"),gi=it.call(_e,"finallyLoc");if(zt&&gi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(zt){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&it.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var _e=be;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=he&&he<=_e.finallyLoc&&(_e=null);var $t=_e?_e.completion:{};return $t.type=ve,$t.arg=he,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ti},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),jr(B),Ti}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var _e=be.arg;jr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Wr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Je),Ti}},Re}function ye(Je,Re,Be,it,Pt,Ht,et){try{var xt=Je[Ht](et),kt=xt.value}catch(Xt){return void Be(Xt)}xt.done?Re(kt):Promise.resolve(kt).then(it,Pt)}function Y(Je){return function(){var Re=this,Be=arguments;return new Promise(function(it,Pt){var Ht=Je.apply(Re,Be);function et(kt){ye(Ht,it,Pt,et,xt,"next",kt)}function xt(kt){ye(Ht,it,Pt,et,xt,"throw",kt)}et(void 0)})}}function ce(Je,Re){if(!(Je instanceof Re))throw new TypeError("Cannot call a class as a function")}function Ze(Je,Re){for(var Be=0;Be<Re.length;Be++){var it=Re[Be];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(Je,ct(it.key),it)}}function ft(Je,Re,Be){return Re&&Ze(Je.prototype,Re),Be&&Ze(Je,Be),Object.defineProperty(Je,"prototype",{writable:!1}),Je}function ct(Je){var Re=function(Be,it){if(de(Be)!="object"||!Be)return Be;var Pt=Be[Symbol.toPrimitive];if(Pt!==void 0){var Ht=Pt.call(Be,"string");if(de(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(Je);return de(Re)=="symbol"?Re:Re+""}function Ge(Je,Re,Be){return Re=De(Re),function(it,Pt){if(Pt&&(de(Pt)=="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ht){if(Ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(it)}(Je,Ae()?Reflect.construct(Re,Be||[],De(Je).constructor):Re.apply(Je,Be))}function Ae(){try{var Je=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Re){}return(Ae=function(){return!!Je})()}function Me(){return Me=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Je,Re,Be){var it=function(Ht,et){for(;!{}.hasOwnProperty.call(Ht,et)&&(Ht=De(Ht))!==null;);return Ht}(Je,Re);if(it){var Pt=Object.getOwnPropertyDescriptor(it,Re);return Pt.get?Pt.get.call(arguments.length<3?Je:Be):Pt.value}},Me.apply(null,arguments)}function De(Je){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Re){return Re.__proto__||Object.getPrototypeOf(Re)},De(Je)}function Ne(Je,Re){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,it){return Be.__proto__=it,Be},Ne(Je,Re)}var Ve=function(Je){function Re(it){var Pt,Ht;return ce(this,Re),(Ht=Ge(this,Re,[it])).audioFormat=(Pt=ae.browser)!==null&&Pt!==void 0&&Pt.mozilla?"ogg":"mp3",Ht.festivalUrl=it.festivalUrl,Ht}return function(it,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function");it.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:it,writable:!0,configurable:!0}}),Object.defineProperty(it,"prototype",{writable:!1}),Pt&&Ne(it,Pt)}(Re,Je),ft(Re,[{key:"getVoices",value:function(){return[{default:!0,lang:"en-US",localService:!1,name:"Festival - English (US)",voiceURI:null}]}},{key:"init",value:function(){soundManager.setup({debugMode:!1,preferFlash:!0,url:"/bookreader/BookReader/soundmanager/swf",useHTML5Audio:!0,flashVersion:9})}},{key:"start",value:function(it,Pt){var Ht=this,et=null;navigator.userAgent.match(/mobile/i)&&(et=this.iOSCaptureUserIntentHack()),(et=et||Promise.resolve()).then(function(){return(xt=Re,kt=Ht,typeof(Xt=Me(De(xt.prototype),"start",kt))=="function"?function(Xe){return Xt.apply(kt,Xe)}:Xt)([it,Pt]);var xt,kt,Xt})}},{key:"createSound",value:function(it){return new rt((0,a.g)(this.festivalUrl,{text:it.text,format:this.audioFormat}))}},{key:"iOSCaptureUserIntentHack",value:(Be=Y(Z().mark(function it(){var Pt;return Z().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Pt=soundManager.createSound({url:je[this.audioFormat]}),Ht.next=3,new Promise(function(et){return Pt.play({onfinish:et})});case 3:Pt.destruct();case 4:case"end":return Ht.stop()}},it,this)})),function(){return Be.apply(this,arguments)})}],[{key:"isSupported",value:function(){return typeof soundManager<"u"&&soundManager.supported()}}]);var Be}(fe),rt=function(){return ft(function Re(Be){ce(this,Re),this.soundUrl=Be,this.sound=null,this.rate=1,this._finishResolver=null},[{key:"loaded",get:function(){return this.sound&&this.sound.loaded}},{key:"load",value:function(Re){var Be,it=this;return this.sound=soundManager.createSound({url:this.soundUrl,onload:function(){it.rate!=1&&it.sound.setPlaybackRate(it.rate),Re()},onresume:(Be=Y(Z().mark(function Pt(){return Z().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ht.next=2,(0,W.sleep)(25);case 2:it.rate!=1&&it.sound.setPlaybackRate(it.rate);case 3:case"end":return Ht.stop()}},Pt)})),function(){return Be.apply(this,arguments)})}),this.sound.load()}},{key:"play",value:(Je=Y(Z().mark(function Re(){var Be=this;return Z().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,new Promise(function(Pt){Be._finishResolver=Pt,Be.sound.play({onfinish:Pt})});case 2:this.sound.destruct();case 3:case"end":return it.stop()}},Re,this)})),function(){return Je.apply(this,arguments)})},{key:"stop",value:function(){return this.sound.stop(),Promise.resolve()}},{key:"pause",value:function(){this.sound.pause()}},{key:"resume",value:function(){this.sound.resume()}},{key:"setPlaybackRate",value:function(Re){this.rate=Re,this.sound.setPlaybackRate(Re)}},{key:"finish",value:function(){this.sound.stop(),this._finishResolver()}}]);var Je}(),je={mp3:"data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ogg:"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAVEgAAAAAAAADSDf4BHgF2b3JiaXMAAAAAAUSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAFRIAAAEAAAB4VKTpEDv//////////////////8kDdm9yYmlzKwAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTIwMjAzIChPbW5pcHJlc2VudCkAAAAAAQV2b3JiaXMpQkNWAQAIAAAAMUwgxYDQkFUAABAAAGAkKQ6TZkkppZShKHmYlEhJKaWUxTCJmJSJxRhjjDHGGGOMMcYYY4wgNGQVAAAEAIAoCY6j5klqzjlnGCeOcqA5aU44pyAHilHgOQnC9SZjbqa0pmtuziklCA1ZBQAAAgBASCGFFFJIIYUUYoghhhhiiCGHHHLIIaeccgoqqKCCCjLIIINMMumkk0466aijjjrqKLTQQgsttNJKTDHVVmOuvQZdfHPOOeecc84555xzzglCQ1YBACAAAARCBhlkEEIIIYUUUogppphyCjLIgNCQVQAAIACAAAAAAEeRFEmxFMuxHM3RJE/yLFETNdEzRVNUTVVVVVV1XVd2Zdd2ddd2fVmYhVu4fVm4hVvYhV33hWEYhmEYhmEYhmH4fd/3fd/3fSA0ZBUAIAEAoCM5luMpoiIaouI5ogOEhqwCAGQAAAQAIAmSIimSo0mmZmquaZu2aKu2bcuyLMuyDISGrAIAAAEABAAAAAAAoGmapmmapmmapmmapmmapmmapmmaZlmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVlAaMgqAEACAEDHcRzHcSRFUiTHciwHCA1ZBQDIAAAIAEBSLMVyNEdzNMdzPMdzPEd0RMmUTM30TA8IDVkFAAACAAgAAAAAAEAxHMVxHMnRJE9SLdNyNVdzPddzTdd1XVdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgdCQVQAABAAAIZ1mlmqACDOQYSA0ZBUAgAAAABihCEMMCA1ZBQAABAAAiKHkIJrQmvPNOQ6a5aCpFJvTwYlUmye5qZibc84555xszhnjnHPOKcqZxaCZ0JpzzkkMmqWgmdCac855EpsHranSmnPOGeecDsYZYZxzzmnSmgep2Vibc85Z0JrmqLkUm3POiZSbJ7W5VJtzzjnnnHPOOeecc86pXpzOwTnhnHPOidqba7kJXZxzzvlknO7NCeGcc84555xzzjnnnHPOCUJDVgEAQAAABGHYGMadgiB9jgZiFCGmIZMedI8Ok6AxyCmkHo2ORkqpg1BSGSeldILQkFUAACAAAIQQUkghhRRSSCGFFFJIIYYYYoghp5xyCiqopJKKKsoos8wyyyyzzDLLrMPOOuuwwxBDDDG00kosNdVWY4215p5zrjlIa6W11lorpZRSSimlIDRkFQAAAgBAIGSQQQYZhRRSSCGGmHLKKaegggoIDVkFAAACAAgAAADwJM8RHdERHdERHdERHdERHc/xHFESJVESJdEyLVMzPVVUVVd2bVmXddu3hV3Ydd/Xfd/XjV8XhmVZlmVZlmVZlmVZlmVZlmUJQkNWAQAgAAAAQgghhBRSSCGFlGKMMcecg05CCYHQkFUAACAAgAAAAABHcRTHkRzJkSRLsiRN0izN8jRP8zTRE0VRNE1TFV3RFXXTFmVTNl3TNWXTVWXVdmXZtmVbt31Ztn3f933f933f933f933f13UgNGQVACABAKAjOZIiKZIiOY7jSJIEhIasAgBkAAAEAKAojuI4jiNJkiRZkiZ5lmeJmqmZnumpogqEhqwCAAABAAQAAAAAAKBoiqeYiqeIiueIjiiJlmmJmqq5omzKruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6QGjIKgBAAgBAR3IkR3IkRVIkRXIkBwgNWQUAyAAACADAMRxDUiTHsixN8zRP8zTREz3RMz1VdEUXCA1ZBQAAAgAIAAAAAADAkAxLsRzN0SRRUi3VUjXVUi1VVD1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXVNE3TNIHQkJUAABkAACNBBhmEEIpykEJuPVgIMeYkBaE5BqHEGISnEDMMOQ0idJBBJz24kjnDDPPgUigVREyDjSU3jiANwqZcSeU4CEJDVgQAUQAAgDHIMcQYcs5JyaBEzjEJnZTIOSelk9JJKS2WGDMpJaYSY+Oco9JJyaSUGEuKnaQSY4mtAACAAAcAgAALodCQFQFAFAAAYgxSCimFlFLOKeaQUsox5RxSSjmnnFPOOQgdhMoxBp2DECmlHFPOKccchMxB5ZyD0EEoAAAgwAEAIMBCKDRkRQAQJwDgcCTPkzRLFCVLE0XPFGXXE03XlTTNNDVRVFXLE1XVVFXbFk1VtiVNE01N9FRVE0VVFVXTlk1VtW3PNGXZVFXdFlXVtmXbFn5XlnXfM01ZFlXV1k1VtXXXln1f1m1dmDTNNDVRVFVNFFXVVFXbNlXXtjVRdFVRVWVZVFVZdmVZ91VX1n1LFFXVU03ZFVVVtlXZ9W1Vln3hdFVdV2XZ91VZFn5b14Xh9n3hGFXV1k3X1XVVln1h1mVht3XfKGmaaWqiqKqaKKqqqaq2baqurVui6KqiqsqyZ6qurMqyr6uubOuaKKquqKqyLKqqLKuyrPuqLOu2qKq6rcqysJuuq+u27wvDLOu6cKqurquy7PuqLOu6revGceu6MHymKcumq+q6qbq6buu6ccy2bRyjquq+KsvCsMqy7+u6L7R1IVFVdd2UXeNXZVn3bV93nlv3hbJtO7+t+8px67rS+DnPbxy5tm0cs24bv637xvMrP2E4jqVnmrZtqqqtm6qr67JuK8Os60JRVX1dlWXfN11ZF27fN45b142iquq6Ksu+sMqyMdzGbxy7MBxd2zaOW9edsq0LfWPI9wnPa9vGcfs64/Z1o68MCcePAACAAQcAgAATykChISsCgDgBAAYh5xRTECrFIHQQUuogpFQxBiFzTkrFHJRQSmohlNQqxiBUjknInJMSSmgplNJSB6GlUEproZTWUmuxptRi7SCkFkppLZTSWmqpxtRajBFjEDLnpGTOSQmltBZKaS1zTkrnoKQOQkqlpBRLSi1WzEnJoKPSQUippBJTSam1UEprpaQWS0oxthRbbjHWHEppLaQSW0kpxhRTbS3GmiPGIGTOScmckxJKaS2U0lrlmJQOQkqZg5JKSq2VklLMnJPSQUipg45KSSm2kkpMoZTWSkqxhVJabDHWnFJsNZTSWkkpxpJKbC3GWltMtXUQWgultBZKaa21VmtqrcZQSmslpRhLSrG1FmtuMeYaSmmtpBJbSanFFluOLcaaU2s1ptZqbjHmGlttPdaac0qt1tRSjS3GmmNtvdWae+8gpBZKaS2U0mJqLcbWYq2hlNZKKrGVklpsMebaWow5lNJiSanFklKMLcaaW2y5ppZqbDHmmlKLtebac2w19tRarC3GmlNLtdZac4+59VYAAMCAAwBAgAlloNCQlQBAFAAAQYhSzklpEHLMOSoJQsw5J6lyTEIpKVXMQQgltc45KSnF1jkIJaUWSyotxVZrKSm1FmstAACgwAEAIMAGTYnFAQoNWQkARAEAIMYgxBiEBhmlGIPQGKQUYxAipRhzTkqlFGPOSckYcw5CKhljzkEoKYRQSiophRBKSSWlAgAAChwAAAJs0JRYHKDQkBUBQBQAAGAMYgwxhiB0VDIqEYRMSiepgRBaC6111lJrpcXMWmqttNhACK2F1jJLJcbUWmatxJhaKwAA7MABAOzAQig0ZCUAkAcAQBijFGPOOWcQYsw56Bw0CDHmHIQOKsacgw5CCBVjzkEIIYTMOQghhBBC5hyEEEIIoYMQQgillNJBCCGEUkrpIIQQQimldBBCCKGUUgoAACpwAAAIsFFkc4KRoEJDVgIAeQAAgDFKOQehlEYpxiCUklKjFGMQSkmpcgxCKSnFVjkHoZSUWuwglNJabDV2EEppLcZaQ0qtxVhrriGl1mKsNdfUWoy15pprSi3GWmvNuQAA3AUHALADG0U2JxgJKjRkJQCQBwCAIKQUY4wxhhRiijHnnEMIKcWYc84pphhzzjnnlGKMOeecc4wx55xzzjnGmHPOOeccc84555xzjjnnnHPOOeecc84555xzzjnnnHPOCQAAKnAAAAiwUWRzgpGgQkNWAgCpAAAAEVZijDHGGBsIMcYYY4wxRhJijDHGGGNsMcYYY4wxxphijDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYW2uttdZaa6211lprrbXWWmutAEC/CgcA/wcbVkc4KRoLLDRkJQAQDgAAGMOYc445Bh2EhinopIQOQgihQ0o5KCWEUEopKXNOSkqlpJRaSplzUlIqJaWWUuogpNRaSi211loHJaXWUmqttdY6CKW01FprrbXYQUgppdZaiy3GUEpKrbXYYow1hlJSaq3F2GKsMaTSUmwtxhhjrKGU1lprMcYYay0ptdZijLXGWmtJqbXWYos11loLAOBucACASLBxhpWks8LR4EJDVgIAIQEABEKMOeeccxBCCCFSijHnoIMQQgghREox5hx0EEIIIYSMMeeggxBCCCGEkDHmHHQQQgghhBA65xyEEEIIoYRSSuccdBBCCCGUUELpIIQQQgihhFJKKR2EEEIooYRSSiklhBBCCaWUUkoppYQQQgihhBJKKaWUEEIIpZRSSimllBJCCCGUUkoppZRSQgihlFBKKaWUUkoIIYRSSimllFJKCSGEUEoppZRSSikhhBJKKaWUUkoppQAAgAMHAIAAI+gko8oibDThwgNQaMhKAIAMAABx2GrrKdbIIMWchJZLhJByEGIuEVKKOUexZUgZxRjVlDGlFFNSa+icYoxRT51jSjHDrJRWSiiRgtJyrLV2zAEAACAIADAQITOBQAEUGMgAgAOEBCkAoLDA0DFcBATkEjIKDArHhHPSaQMAEITIDJGIWAwSE6qBomI6AFhcYMgHgAyNjbSLC+gywAVd3HUghCAEIYjFARSQgIMTbnjiDU+4wQk6RaUOAgAAAAAAAQAeAACSDSAiIpo5jg6PD5AQkRGSEpMTlAAAAAAA4AGADwCAJAWIiIhmjqPD4wMkRGSEpMTkBCUAAAAAAAAAAAAICAgAAAAAAAQAAAAICE9nZ1MABCwAAAAAAAAAFRIAAAIAAAAPBTD1AgEBAAo="},ee=r(7583);function J(Je){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},J(Je)}function qe(){qe=function(){return Re};var Je,Re={},Be=Object.prototype,it=Be.hasOwnProperty,Pt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},et=Ht.iterator||"@@iterator",xt=Ht.asyncIterator||"@@asyncIterator",kt=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function Xe(ve,he,B,be){var _e=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(_e.prototype),zt=new Yr(be||[]);return Pt($t,"_invoke",{value:Jr(ve,B,zt)}),$t}function ni(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Re.wrap=Xe;var ti="suspendedStart",Ai="suspendedYield",qt="executing",ci="completed",Ti={};function Mi(){}function ir(){}function Ki(){}var Gi={};Xt(Gi,et,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Wr([])));tr&&tr!==Be&&it.call(tr,et)&&(Gi=tr);var yr=Ki.prototype=Mi.prototype=Object.create(Gi);function _r(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Pr(ve,he){function B(_e,$t,zt,gi){var fi=ni(ve[_e],ve,$t);if(fi.type!=="throw"){var zi=fi.arg,hr=zi.value;return hr&&J(hr)=="object"&&it.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){zi.value=or,zt(zi)},function(or){return B("throw",or,zt,gi)})}gi(fi.arg)}var be;Pt(this,"_invoke",{value:function(_e,$t){function zt(){return new he(function(gi,fi){B(_e,$t,gi,fi)})}return be=be?be.then(zt,zt):zt()}})}function Jr(ve,he,B){var be=ti;return function(_e,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(_e==="throw")throw $t;return{value:Je,done:!0}}for(B.method=_e,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=cn(zt,B);if(gi){if(gi===Ti)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ti)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var fi=ni(ve,he,B);if(fi.type==="normal"){if(be=B.done?ci:Ai,fi.arg===Ti)continue;return{value:fi.arg,done:B.done}}fi.type==="throw"&&(be=ci,B.method="throw",B.arg=fi.arg)}}}function cn(ve,he){var B=he.method,be=ve.iterator[B];if(be===Je)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Je,cn(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=ni(be,ve.iterator,he.arg);if(_e.type==="throw")return he.method="throw",he.arg=_e.arg,he.delegate=null,Ti;var $t=_e.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Je),he.delegate=null,Ti):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ti)}function $r(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function jr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var he=ve[et];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function _e(){for(;++B<ve.length;)if(it.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Je,_e.done=!0,_e};return be.next=be}}throw new TypeError(J(ve)+" is not iterable")}return ir.prototype=Ki,Pt(yr,"constructor",{value:Ki,configurable:!0}),Pt(Ki,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Ki,kt,"GeneratorFunction"),Re.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Re.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Ki):(ve.__proto__=Ki,Xt(ve,kt,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Re.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Xt(Pr.prototype,xt,function(){return this}),Re.AsyncIterator=Pr,Re.async=function(ve,he,B,be,_e){_e===void 0&&(_e=Promise);var $t=new Pr(Xe(ve,he,B,be),_e);return Re.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},_r(yr),Xt(yr,kt,"Generator"),Xt(yr,et,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Re.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function _e(){for(;B.length;){var $t=B.pop();if($t in he)return _e.value=$t,_e.done=!1,_e}return _e.done=!0,_e}},Re.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Je,this.done=!1,this.delegate=null,this.method="next",this.arg=Je,this.tryEntries.forEach(jr),!ve)for(var he in this)he.charAt(0)==="t"&&it.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Je)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(fi,zi){return $t.type="throw",$t.arg=ve,he.next=fi,zi&&(he.method="next",he.arg=Je),!!zi}for(var be=this.tryEntries.length-1;be>=0;--be){var _e=this.tryEntries[be],$t=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var zt=it.call(_e,"catchLoc"),gi=it.call(_e,"finallyLoc");if(zt&&gi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(zt){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&it.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var _e=be;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=he&&he<=_e.finallyLoc&&(_e=null);var $t=_e?_e.completion:{};return $t.type=ve,$t.arg=he,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ti},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),jr(B),Ti}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var _e=be.arg;jr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Wr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Je),Ti}},Re}function _t(Je,Re,Be,it,Pt,Ht,et){try{var xt=Je[Ht](et),kt=xt.value}catch(Xt){return void Be(Xt)}xt.done?Re(kt):Promise.resolve(kt).then(it,Pt)}function we(Je){return function(){var Re=this,Be=arguments;return new Promise(function(it,Pt){var Ht=Je.apply(Re,Be);function et(kt){_t(Ht,it,Pt,et,xt,"next",kt)}function xt(kt){_t(Ht,it,Pt,et,xt,"throw",kt)}et(void 0)})}}function $e(Je,Re){if(!(Je instanceof Re))throw new TypeError("Cannot call a class as a function")}function at(Je,Re){for(var Be=0;Be<Re.length;Be++){var it=Re[Be];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(Je,tt(it.key),it)}}function Ee(Je,Re,Be){return Re&&at(Je.prototype,Re),Be&&at(Je,Be),Object.defineProperty(Je,"prototype",{writable:!1}),Je}function tt(Je){var Re=function(Be,it){if(J(Be)!="object"||!Be)return Be;var Pt=Be[Symbol.toPrimitive];if(Pt!==void 0){var Ht=Pt.call(Be,"string");if(J(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(Je);return J(Re)=="symbol"?Re:Re+""}function nt(Je,Re,Be){return Re=vt(Re),function(it,Pt){if(Pt&&(J(Pt)=="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ht){if(Ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(it)}(Je,Vt()?Reflect.construct(Re,Be||[],vt(Je).constructor):Re.apply(Je,Be))}function Vt(){try{var Je=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Re){}return(Vt=function(){return!!Je})()}function dt(){return dt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Je,Re,Be){var it=function(Ht,et){for(;!{}.hasOwnProperty.call(Ht,et)&&(Ht=vt(Ht))!==null;);return Ht}(Je,Re);if(it){var Pt=Object.getOwnPropertyDescriptor(it,Re);return Pt.get?Pt.get.call(arguments.length<3?Je:Be):Pt.value}},dt.apply(null,arguments)}function vt(Je){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Re){return Re.__proto__||Object.getPrototypeOf(Re)},vt(Je)}function Rt(Je,Re){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,it){return Be.__proto__=it,Be},Rt(Je,Re)}var ii=function(Je){function Re(Be){var it;return $e(this,Re),it=nt(this,Re,[Be]),speechSynthesis.addEventListener&&speechSynthesis.addEventListener("voiceschanged",function(){return it.events.trigger("voiceschanged")}),it}return function(Be,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function");Be.prototype=Object.create(it&&it.prototype,{constructor:{value:Be,writable:!0,configurable:!0}}),Object.defineProperty(Be,"prototype",{writable:!1}),it&&Rt(Be,it)}(Re,Je),Ee(Re,[{key:"start",value:function(Be,it){var Pt,Ht,et,xt=this;if("mediaSession"in navigator){var kt=new Audio(ui);kt.loop=!0,this.events.on("pause",function(){return kt.pause()}),this.events.on("resume",function(){return kt.play()}),this.events.on("stop",function(){return kt.src=""}),kt.play().then(function(){navigator.mediaSession.metadata=new MediaMetadata({title:br.bookTitle,artist:br.options.metadata.filter(function(Xt){return Xt.label=="Author"}).map(function(Xt){return Xt.value})[0],artwork:[{src:br.options.thumbnail,type:"image/jpg"}]}),navigator.mediaSession.setPositionState({duration:1/0}),navigator.mediaSession.setActionHandler("play",function(){kt.play(),xt.resume()}),navigator.mediaSession.setActionHandler("pause",function(){kt.pause(),xt.pause()}),navigator.mediaSession.setActionHandler("previoustrack",function(){return xt.jumpBackward()}),navigator.mediaSession.setActionHandler("nexttrack",function(){return xt.jumpForward()})})}return(Pt=Re,Ht=this,typeof(et=dt(vt(Pt.prototype),"start",Ht))=="function"?function(Xt){return et.apply(Ht,Xt)}:et)([Be,it])}},{key:"getVoices",value:function(){var Be=speechSynthesis.getVoices();return Be.filter(function(it){return it.default}).length!=1&&Be.unshift({voiceURI:"bookreader.SystemDefault",name:"System Default",lang:navigator.language,default:!0,localService:!0}),Be}},{key:"createSound",value:function(Be){return new ai(Be.text)}}],[{key:"isSupported",value:function(){return window.speechSynthesis!==void 0}}])}(fe),ai=function(){return Ee(function Ht(et){$e(this,Ht),this.text=et,this.loaded=!1,this.paused=!1,this.started=!1,this.stopped=!1,this.rate=1,this.utterance=null,this.voice=null,this._lastEvents={pause:null,boundary:null,start:null},this._charIndex=0,this._finishResolver=null,this._finishPromise=null},[{key:"load",value:function(Ht){var et,xt=this;this.loaded=!1,this.started=!1,this.utterance=new SpeechSynthesisUtterance(this.text.slice(this._charIndex)),((et=this.voice)===null||et===void 0?void 0:et.voiceURI)!=="bookreader.SystemDefault"&&(this.utterance.voice=this.voice),this.voice&&(this.utterance.lang=this.voice.lang),this.utterance.rate=this.rate,C&&(this.utterance.addEventListener("pause",function(){return console.log("pause")}),this.utterance.addEventListener("resume",function(){return console.log("resume")}),this.utterance.addEventListener("start",function(){return console.log("start")}),this.utterance.addEventListener("end",function(){return console.log("end")}),this.utterance.addEventListener("error",function(kt){return console.log("error",kt)}),this.utterance.addEventListener("boundary",function(){return console.log("boundary")}),this.utterance.addEventListener("mark",function(){return console.log("mark")}),this.utterance.addEventListener("finish",function(){return console.log("finish")})),this.utterance.addEventListener("start",function(kt){return xt._lastEvents.start=kt}),this.utterance.addEventListener("boundary",function(kt){return xt._lastEvents.boundary=kt}),this.utterance.addEventListener("pause",function(kt){return xt._lastEvents.pause=kt}),this.utterance.addEventListener("start",function(){xt.started=!0,xt.stopped=!1,xt.paused=!1}),this.utterance.addEventListener("pause",function(){return xt.paused=!0}),this.utterance.addEventListener("resume",function(){return xt.paused=!1}),this.utterance.addEventListener("end",function(kt){xt.paused||xt.stopped||xt.utterance.dispatchEvent(new CustomEvent("finish",kt))}),this.loaded=!0,Ht&&Ht()}},{key:"reload",value:(Pt=we(qe().mark(function Ht(){var et,xt;return qe().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return et=this.paused,(xt=this._lastEvents.boundary||this._lastEvents.pause)&&(this._charIndex=this.text.indexOf(xt.target.text)+xt.charIndex),kt.next=5,this.stop();case 5:this.load(),et||this.play();case 7:case"end":return kt.stop()}},Ht,this)})),function(){return Pt.apply(this,arguments)})},{key:"play",value:function(){var Ht=this;this._finishPromise=this._finishPromise||new Promise(function(xt){return Ht._finishResolver=xt}),this.utterance.addEventListener("finish",this._finishResolver),speechSynthesis.cancel(),speechSynthesis.resume(),speechSynthesis.speak(this.utterance);var et=this.utterance.voice&&this.utterance.voice.localService;return(0,ee.H8)()&&!et&&this._chromePausingBugFix(),this._finishPromise}},{key:"stop",value:function(){var Ht=Promise.resolve();return this.stopped||(Ht=Promise.race([(0,W.promisifyEvent)(this.utterance,"end"),(0,W.promisifyEvent)(this.utterance,"error")])),this.stopped=!0,speechSynthesis.cancel(),Ht}},{key:"finish",value:(it=we(qe().mark(function Ht(){return qe().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.next=2,this.stop();case 2:this.utterance.dispatchEvent(new Event("finish"));case 3:case"end":return et.stop()}},Ht,this)})),function(){return it.apply(this,arguments)})},{key:"pause",value:(Be=we(qe().mark(function Ht(){var et,xt;return qe().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:if(!this.paused){kt.next=2;break}return kt.abrupt("return");case 2:return et=(0,W.promisifyEvent)(this.utterance,"pause"),speechSynthesis.pause(),xt=(0,ee.gm)()&&h(),kt.next=7,Promise.race([et,(0,W.sleep)(100).then(function(){return"timeout"})]);case 7:if(kt.sent=="timeout"){kt.next=10;break}return kt.abrupt("return");case 10:C&&console.log("TTS: Firing pause event manually"),this.utterance.dispatchEvent(new CustomEvent("pause",this._lastEvents.start)),xt&&this.stop();case 13:case"end":return kt.stop()}},Ht,this)})),function(){return Be.apply(this,arguments)})},{key:"resume",value:(Re=we(qe().mark(function Ht(){var et,xt;return qe().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:if(this.started&&!this.stopped){kt.next=3;break}return this.play(),kt.abrupt("return");case 3:if(this.paused){kt.next=5;break}return kt.abrupt("return");case 5:return et=(0,ee.H8)()&&h()||(0,ee.gm)()&&h(),xt=(0,W.promisifyEvent)(this.utterance,"resume"),speechSynthesis.resume(),kt.next=10,Promise.race([xt,(0,W.sleep)(100).then(function(){return"timeout"})]);case 10:if(kt.sent=="timeout"){kt.next=13;break}return kt.abrupt("return");case 13:if(C&&console.log("TTS: Firing resume event manually"),this.utterance.dispatchEvent(new CustomEvent("resume",{})),!et){kt.next=19;break}return kt.next=18,this.reload();case 18:this.play();case 19:case"end":return kt.stop()}},Ht,this)})),function(){return Re.apply(this,arguments)})},{key:"setPlaybackRate",value:function(Ht){this.rate=Ht,this.reload()}},{key:"setVoice",value:function(Ht){this.voice=Ht,this.reload()}},{key:"_chromePausingBugFix",value:(Je=we(qe().mark(function Ht(){var et;return qe().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:return C&&console.log("CHROME-PAUSE-HACK: starting"),xt.next=3,Promise.race([(0,W.sleep)(14e3).then(function(){return"timeout"}),(0,W.promisifyEvent)(this.utterance,"pause").then(function(){return"pause"}),(0,W.promisifyEvent)(this.utterance,"end").then(function(){return"end"}),(0,W.promisifyEvent)(this.utterance,"error").then(function(){return"error"})]);case 3:if(et=xt.sent,C&&console.log("CHROME-PAUSE-HACK: ".concat(et)),et!="end"&&et!="error"){xt.next=9;break}C&&console.log("CHROME-PAUSE-HACK: stopped (end/error)"),xt.next=22;break;case 9:if(et!="pause"){xt.next=16;break}return xt.next=12,Promise.race([(0,W.promisifyEvent)(this.utterance,"resume").then(function(){return"resume"}),(0,W.sleep)(14e3).then(function(){return"timeout"})]);case 12:xt.sent=="timeout"?(C&&console.log("CHROME-PAUSE-HACK: stopped (timed out while paused)"),this.stop()):this._chromePausingBugFix(),xt.next=22;break;case 16:if(et!="timeout"){xt.next=22;break}return speechSynthesis.pause(),xt.next=20,(0,W.sleep)(25);case 20:speechSynthesis.resume(),this._chromePausingBugFix();case 22:case"end":return xt.stop()}},Ht,this)})),function(){return Je.apply(this,arguments)})}]);var Je,Re,Be,it,Pt}(),ui="data:audio/mp3;base64,/+MYxAAMEAISSAhElhIpJYzz1vz9mUdlHvJwTP/n3FJesPxB9/8mp0oGaz9+7+T//8oCDhJqOMqLh4o4uhUAUUDaf//3r+///+MYxAoKy2ImKAgEqbfr/t///27/+n3s32/////+b5qMsq7vnXCKh2By3ZcIqyrUYbbRH0fp+ljtf+n2Uo72PHX/03f0df///+MYxBkKUAYmQAhEAL+2l44oKFjZMwJAOJnhguMqokFAqBKl/5f1/+f+3/v////9GT//r+//v+//////b1VvucaRChqnMqsY/+MYxCoLo2IiSAgEpRrgIRVq//p////25nlpVFbQ9kuXtrpt+n//3ZUZNKHVTHdJk3Q6h961DAU8loFlsfTnTZYLLQ1xiIYC/+MYxDYLa2YYAACNFAKKv5swEnqSccBoi//xVP9R/q/370r02////7VpaiWWLrDaF//X8+Rf/6ys2irmURCrI/Lr7///+m1t/+MYxEMKqAI2SAhElh7vNPmHrKdmMPFMimBI5xYQEiIRxh1gk0pKvfo7nezMyH6P67uKW+z/7NusoS/4//STUtCUiwASccAQ/+MYxFMKs2IcIABFEFRhEOUCgACs//l3/6df///+qZf6V9X2t69f/p////+v97UOY7UyyIxZWPa1inCgyCDq//pXpSia2v23/+MYxGMK6AYqSABEAl70RfX2+nu6///v+rfdWCLKMhUBmZhIDqt23LQGBjyNGEjBCnI5JGjRWkU2a8b29z/+n6/9SnN7LUfo/+MYxHILg2IiQAgEUPpX9//96jShqxUCtNiIeCAcmxc3/tn18pTBRmaNzgUvIqropQvPf/Fy99+z9/8/bx43Xn95kr6QHFQp/+MYxH8LG2IcAACNMTZjQ1mIlAyLi1r7PBeeff3WH/rB/r/2/7a/+6/0/0b19F5lfb/p////9qWyzOGqY5WlRoqAGuCOp1Dm/+MYxI0KuAIuSAhElhZ6kDcciBDa1gec/T1uqXsq/0Pf+z/9tf0fbV8Jf//xrqJs4BnZgPhibbcDkhvrmd9q9s+3XL+2X+9e/+MYxJ0MK14UAABNLG/7/dfT6f/1Rt+v/0/09f///1fZbWuR7ohD7JuzWZRbVe5Or5lVUWrunn1/Z+v/v//p9Ozvqh6OoMKb/+MYxKcMo2YhgAgExmatD1TeZuDdxZACD6ZEipG5JWjTNJZ16WIitt4yx3+/3fud9dFaG/7fdRQ///2a8PsCLxIDokWAam24/+MYxK8JsAYuSAhEAtxow+XubpX85GAu+/8z//2cpeR+xf/KXOZchkyy8//P5f+X/////edcJFIEjHFNBB0OtjXoQIEUm8mx/+MYxMMMi14mKAgEpmaRQYFFM5jChhMBskKSnLHwMz8jUiTb6rq////Pf0u6p038KcqLh8tFIDPK0waRwBJBSIFgBH+eAMDT/+MYxMsKG2IYAACNTf///9P/////5/+f9ZKCZazujkeQGA+RIYDEc4oApsX+dz5P//O5+WXJWPpLGoNdAyEtBgspdF5FUbFU/+MYxN0KUAIuSAhElphZOtQNqKkTl6///B7L9f//5//5fz+V1/L5f++f3/qD/n3//+3svyOlCl52VRRE7iVvgaFRcAxZVbe0/+MYxO4Og2ImSAhG3+lb683WpVSNSyNspd0UzsyTkRVqjsj0ej//1rZG9Co1Go8hSlgMjhQucpg9Fp6+uL06ZdcfIdD1ckrm/+MYxO8Os14QAABNLaj9X+YufyaKj/L1t//8H/qi//5+RF+LQjyw2+XDjO2/Oaj///93+ja45qSmWYIJQEc0bZqkTcr7IVep/+MYxO8QI2YVgAjNoNrP+QIELy/8t6XR+eyorh/f//lg2WZf/7/5e//fR+/3n+YOX5f///owB5uJ2AJjUjMSRgzRqNJV/rUZ/+MYxOkNS2oiSAiHoCRFe8nrl2Pvi15/JiyX/5T+vecv8z17/L5R9F5k5Z3b+YC6yr8fP+3q1m0TMZjrAnSg0CCBw7EjjUWC/+MYxO4OY14QAAFTMVFqv0w2rN+YPGceXOXn/+XP//8v/n//9fy/35BrF///f/////yI08yQDwI+dXQ0HJERuhH+9xIkWcvm/+MYxO8Pq2YaQAiNoPYT38z3LPn/X//1v32IRy49cz/5f9Lnzfz5/InIzKD/1+Xp1/0ar6I8YqlQQZkzYJLkIcO6sDjmwHuv/+MYxOsNi14lqAhG3//33Ln8vBl/P9Kf/8/+X2UpVxaJV+kYMsr9dtFr///l//3SQ2v1CRbHIPKziXzJVEkeHFBQADHVjccc/+MYxO8P214dqAiHoohQ8T6PXm5mjvzJirn9X//eX/5r/5fykE3Ni12f/185fn+v/8/6e//TaqOoNyZTiIJc8YEAygzxf//P/+MYxOoMez4iQAhG3fry//////8v//Kf7ckWwdjU6uAlPIxG5Tl6VM4PV/5f55eZylFPOPd8+pBCJZ/XpEmmNSwmYOHpl+8l/+MYxPMO62YhqAiHomIQPMfzYfl//Lr/YkBd3APxQ/z3//5ctVrMPakfyqebn//T////TkqS/QylsGVd48YSy46YoyMkuz/T/+MYxPIPW2IaQAhGvcsh/D/M/+9+ll//Oyz/88v5//+y5v/yk3nL8pTl////8+f5FlWkpuw22NXIjbfSLWc61WWWHynCuQIe/+MYxO8OGz4mSAiHo5f/+fl+6PQReMvX//PaIhL//fN/sqD6zWhL/V65v73///f+YCU4yRtDLIwg1XBowhGBB9hrgDTcaBER/+MYxPEPg2IVYAjNoU///15+ZcFdV//eSL/y//l1+i+vPy/kfv/rl////+JaajzwMYMAghvUbHiBQQIPAbC1ssAgiBYf57+v/+MYxO4Og0IhqAiHh//3////z/Oz7+W3lNll+U07IIZZzqTh3M8nFman/H///JZ7yZNkaLB0Jm7sJc+SMA55lhJMhxxWD//3/+MYxO8Og2IdgAjNoxkk379d8j1rs5dfLbn/8nP/6/fI96P9df/z4r//9ecXX89H+6aUs2dmtayGHP0pclEjszX4HMJuF/65/+MYxPAOO2IdoAhG3j/XzN0ullhGsszM/ozztvKpndTslEpKj2PdL6fT+7s2V7EMsIZjAR3CNdSEIWWkxGnEVitwwSIE0yNv/+MYxPIN42IiSAhG32r/XVk9VVG107IY5j6q57Gc/pXT+eX//+u/PR8s7s6FI5zlEKGJVKLKV40qeS1MtkxKW2ro9xEXn7/P/+MYxPUQg14WQAjNof1Q3Xr4q2XJfy//y//l/z+EveR/6GLX/8K////6fbT9CoRyDsdHMIn279+ZuHuOFIvVt//e1pVZ1Sju/+MYxO4Oe2YhqAiNorOaY+51MxL2UoMIjmcxjQdFRyNVVa1LUd6/172a9VbR1U4VCCXA1HkcQMoC0U/SoACSMRAUgYdoKEGU/+MYxO8Pk2oQIACTFIGGIGiRxzP/iH/vP+A5r///z/838v36n//7//P//6P33///+IWZyzRmB+SBvm5THMSlFEL/+Rk4Zi9+/+MYxOsMk2oUAACTMIu5BP9fIxC7h//3y/+pSujznMj/z9S/P/z/3LmX////5b//JkWqxxoRRaLrubJCHAdzYcWODdv+mtvZ/+MYxPMOC2odoAiNotVJZ0Vt2VqSD52bqzoQUdUKy2er0mroz2ImX/ffZq7X1k3INcezhRmERUQFFMAKMfV+gmPaVJ1igl2k/+MYxPUQ+2oMAACNFHP/9xk/D8srrZ8vzu/6//+Rn/z/z+zneV/+v/4uZ9f//r///7ra1i0znd0Ugk4dN6Y7gvKgUdX79xks/+MYxOwM804mSAhG3/KCtd87mQv5c/5Zf/7Ev/78+WauWX//kpIjI5uRowybyixL5XX///9ljMuUzMQqXJK/tDgIgrL/559G/+MYxPMPO14hoAhGv/mf5ZzlJLOy2QkeTfcjvUyVy//8/f2FeWu88vZVPrqa9ZRm4QQNIl+ZXNGC6/SXL88C+nHJ/7+SvMhI/+MYxPEQQ2YMAAFTFIs2gqVC7+4N/uX//f8vxH/58uUymv/9y3n5b6p/////23ZHynRxARCkKUwRQQKsdFCUNswfdmL1lgtv/+MYxOsNU1YhoAiHo6Sv3/l/Xzl3+2v//z//39/Rn/Bzz50R8pf+u1l1////p1TRqIXaXd0lDIY1USShoAoxCxaAAqa79xkE/+MYxPAOq2YlqAhG3i/PH3PO5xkW66X2h6/88sP8+U/+uX5lkd1Wyys9az/smhajlmX//5cUNkTjmAKPJoxzJyrMUopoJBRq/+MYxPAOQ2YQAABTEP73EgSF593QPX7+U3v8///5P/5f/1//8WfL5/1/wwp+mQv5f/LOigzvMjoczjItyM9EgLnY/+XqeeNw/+MYxPIPW1odgAiNh1SJsuiWWbOXoFVzs2a4NzlzXZn5//7X3dqO9L75RtzsmeQIKivkbIknm6xULDDSF5G5edXuv9C5lKVa/+MYxO8Og2IeQAiHhU3LrlyX7QBy//nfQ//Ky//ly7J58a7KBc0ayl7+6f2b///zX2K6SHIepGMDBElCtphtGsZv0xJEKiQ//+MYxPAPq1odqAhG3wDT/nXn7///////L//e/cyXZbb6AMy12NvdI9zIy89yP////v7TUeUIqnHCCasDDMKcm5u123L8cVu3/+MYxOwNQ1YhqAhG3zUVguuHqHy/6l2v3wV/qv//1/y/6/L//4es9nUvyz39T////ZutU9IzMWbQyKjY5epCS1vy5xHlVZJJ/+MYxPIOS2YQAABTEANCv/fIss+X6P////8v+Z//7/LI8NLlZNFck/z+/Xv////0K/83Yuomhozh1pUW7Qga+6t4NNE0ONyy/+MYxPMQQ14ZgAiNo8toABfy/svsz/rLv/17a0avX2vbuuzH00V0+XbV20T///3+ljpQxDFMyOMU1BpkIo8YcHKrCcyiKKre/+MYxO0PY2YVgAiToO2vyGX6nq+ZGb/rXl1//z//5b//lP8uf//EXKv+v0/////XvQqTHqxWoRRgrhmDQQThlQOyKj8/0/Nr/+MYxOoNk14eQAiNob7U7/4/la2f//OxCL/n//f/3l2Y15p5/upz2pf9f//vb6fPQrUQuQWcUc+KjmrmzmEozKAfEE2ozP6//+MYxO4PA2oaIAjNoPr/Nfaw///33+X9X/eZ+fn1/WsjbNckfer3+X////IfPyFgNsUSt77vc4pDvI10yuq3EgRQpc7tf8uf/+MYxO0Oq2IeQAgKyYp9+ff/8t/VKaoXy//G//Mlg/vqertShLzX3z/v1/1usqWRrBmSOCTfz+xy0sx9H63VEYg/r1//y/f9/+MYxO0Nk1YiQAiHhPRtNNHzUTq6q62f1XTbORdOq//X+ifdGOWrVHT2OY9hoLyZQ1I1OkSI4NyocRYoUKCKLRLH0W23JYjT/+MYxPEOe14dgAiNo19+/Ln9Uglsp4+ZoF/0oiS+//+6/Ky99yje////qTa8////5/i+DFN2QNkCg0QUzocL/8z+9XOZ54F5/+MYxPINW2IeQAhM3ceYqGZJzgEAMZmZnZwkIrdFDDe/+6/bO+zrRU5sYqdzx7dIYqqOyjECzyIUAwNkCJGxav/3/cvwCyzh/+MYxPcPC14dqAiNow2kh3GeZQmSGeKjgYTMzZ7l58z/3//633UfmVt4ncevdKqvispjUlOkhOkTwuwsXQoxMruyQWgISfyX/+MYxPUPs2oV4AgOkPLK//PPzf////5n/+/8NeDSNlRbu9FKjI8Zn/O89Z/+f/L6fL6ObO7wiuTKLQRjt4JUkfCiZZFYEpXT/+MYxPENwzYqSAhG3zlwiHl+Vln8utc8+X///36///L9Tv5LMl1ftaeZd/zl//////nLfhZytqwKmCjMFcMIwQcAMZ2oQGKn/+MYxPUO214QAABNEf1y0qzKPqaNn3AEjuGta0EsZF8j/+X/+avnuL5WLWOhrPCGdKIznKWIbhBiOUIrq4eiMNb++RofJUR//+MYxPQO+2oQAABTECDLKpKyp7AFEE8jv/+Sl/f/y/f/l5fP4fymp//l////19DUomQyM0m1ZpEZBzxYoAZF/76MqX0Xlyuc/+MYxPMQE2YaQAjNoOhkaR051mjiXVyEahjrxZUVKOOczO6VzO22dvX/72/XSfKGp6jj1xthiMTqqkaMDONH8CrEtDC58Rlm/+MYxO0PA2IeQAhGvRcLtzbVM/gZH6X/lrIqeVGpIri//vyEv/zP/5f5/9b/8Pz/X6/////b9NHfUzFhEoxzO4G0JqZksJg5/+MYxOwNA2oUAABRLKr/0/12Xg3ZXsiKqursXOls6MpKE2znexzO55WW+peuvZ/7auaSuIHKhjghBhAV3CmBClmIxpPSkSy7/+MYxPMOIz4hoAhG3yfJyIVqohcXWCjI/8vP9+1/7//X/3/6f61/+v7/t77f6/2/////+26mQzIyjqylhTO4eKGRQxhbNDiJ/+MYxPUSE2oIAACTEFX/++n7JrSx2WYNMZFc7AlUirWqGBPCXOpzmRTPQjIe9czff/5/PfLPJX3KO6w22kttoaJ9pNWZDjFM/+MYxOcNi2YhoAiHhqk05mxEuYDmFRBBIGDT7+IflmVMb/0Wf/0/QLkHf1/2m6v6fpoY+1+sAhoMlxoGOFQ+jbbcZJGljIXK/+MYxOsQO2IMAACTFb+lv4fH/GVV//r//efnoslIj/r9fxbPO8vHItLDn/P//ZdO6lS9VdVByqsIqUNAYfBAhpCxuXVke+X2/+MYxOUNE2IiQAgEwV5f0jVYbP3//7v/L//l5f5ss4GVEaGbmesRh9K0ju6///837UmOjpIwssokUcxQt+gNYplsHLYhB5eJ/+MYxOsQk1YMAACTEY3JJQ1wxZtG/tak6KISwy/uZ/j6nkHvZei9RjajSy8n3x/u3///stJyKaAKCFJMKC4b/r/WvwKplRP5/+MYxOMKOAYuSABEAnq+WEvP//5I//v/QMz8//X758VpvOnnOVPn/f//uX2+f7nDYvkGpozxt8Xn2tRGoPBM1PX/6/+YdDJZ/+MYxPUPQ1YiSAiHo8IiMFFDMfiOduTSMAxPIM7R9Lkv8t/3993+be079FC2LRc8jYlp5R6KheqB2l0kwFwoFSmWOyCsZ8v+/+MYxPMQg2IaQAlNoFP7Ly7/X//+W+gepL/1mP1mfb8ccMf6rJy7AZA9f8//z/1MupC79GSiKa17cElnuR7pw5MG48AV+ucZ/+MYxOwMgAYuSAhEAhglKMW9+py5S+PP+Rf/6MP/fXz/vlOfvzMv/LWRcWGz16///9fZMlpasVhhHOGxIRbHk8nkkYP+EQKl/+MYxPUPG2IdgAjNozJQByAMF/6//le/y////8/rVl/v5/d/5U98kU2tzl5SITKXk///7Pt5VWhZSMOQqIHZwB0LymkzFFnA/+MYxPMOw2oQAABNEL0pKo025GgSbCS9H7lzLlV58mRTv//3+W8WT//f/7zz5//l/9ki/6////WXFkRjlygC4US7JYQwCIg1/+MYxPMPk1YaQAjNof+3GgQj8XKu+pz/PNeX2//81+BMxLX//nz8/5vXovznf9GZ8kZy//J/t1dPqqsZWQIqK2lF4LBUIAJn/+MYxO8Pq2YdoAlNopA5QImv5P/i4cqmi/y///9DP/mplLdWL/8rZS/qX////m+pfVpWM5jBgJysYxQpTGMYUcygIwYU6qqq/+MYxOsPE14aQAiNoYAwNmLCuoX4szULsxZmoXZiwr/FhX//gIWFSJmtiVCwr3f7P/ioqLCwsLC4qK1MQU1FMy45OS4zVVVV/+MYxOkN614mSAhE31VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOwz4hqAiHo1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOG1oOIAgEqFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxO4L6AVtkAhEAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Mt="Read this book aloud",It=r(4907),Et=r(1041),Ct=r(1669);function St(Je){return St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},St(Je)}function I(Je,Re){return function(Be){if(Array.isArray(Be))return Be}(Je)||function(Be,it){var Pt=Be==null?null:typeof Symbol<"u"&&Be[Symbol.iterator]||Be["@@iterator"];if(Pt!=null){var Ht,et,xt,kt,Xt=[],Xe=!0,ni=!1;try{if(xt=(Pt=Pt.call(Be)).next,it===0){if(Object(Pt)!==Pt)return;Xe=!1}else for(;!(Xe=(Ht=xt.call(Pt)).done)&&(Xt.push(Ht.value),Xt.length!==it);Xe=!0);}catch(ti){ni=!0,et=ti}finally{try{if(!Xe&&Pt.return!=null&&(kt=Pt.return(),Object(kt)!==kt))return}finally{if(ni)throw et}}return Xt}}(Je,Re)||function(Be,it){if(Be){if(typeof Be=="string")return We(Be,it);var Pt={}.toString.call(Be).slice(8,-1);return Pt==="Object"&&Be.constructor&&(Pt=Be.constructor.name),Pt==="Map"||Pt==="Set"?Array.from(Be):Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?We(Be,it):void 0}}(Je,Re)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function We(Je,Re){(Re==null||Re>Je.length)&&(Re=Je.length);for(var Be=0,it=Array(Re);Be<Re;Be++)it[Be]=Je[Be];return it}function ke(){ke=function(){return Re};var Je,Re={},Be=Object.prototype,it=Be.hasOwnProperty,Pt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},et=Ht.iterator||"@@iterator",xt=Ht.asyncIterator||"@@asyncIterator",kt=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function Xe(ve,he,B,be){var _e=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(_e.prototype),zt=new Yr(be||[]);return Pt($t,"_invoke",{value:Jr(ve,B,zt)}),$t}function ni(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Re.wrap=Xe;var ti="suspendedStart",Ai="suspendedYield",qt="executing",ci="completed",Ti={};function Mi(){}function ir(){}function Ki(){}var Gi={};Xt(Gi,et,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Wr([])));tr&&tr!==Be&&it.call(tr,et)&&(Gi=tr);var yr=Ki.prototype=Mi.prototype=Object.create(Gi);function _r(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Pr(ve,he){function B(_e,$t,zt,gi){var fi=ni(ve[_e],ve,$t);if(fi.type!=="throw"){var zi=fi.arg,hr=zi.value;return hr&&St(hr)=="object"&&it.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){zi.value=or,zt(zi)},function(or){return B("throw",or,zt,gi)})}gi(fi.arg)}var be;Pt(this,"_invoke",{value:function(_e,$t){function zt(){return new he(function(gi,fi){B(_e,$t,gi,fi)})}return be=be?be.then(zt,zt):zt()}})}function Jr(ve,he,B){var be=ti;return function(_e,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(_e==="throw")throw $t;return{value:Je,done:!0}}for(B.method=_e,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=cn(zt,B);if(gi){if(gi===Ti)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ti)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var fi=ni(ve,he,B);if(fi.type==="normal"){if(be=B.done?ci:Ai,fi.arg===Ti)continue;return{value:fi.arg,done:B.done}}fi.type==="throw"&&(be=ci,B.method="throw",B.arg=fi.arg)}}}function cn(ve,he){var B=he.method,be=ve.iterator[B];if(be===Je)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Je,cn(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=ni(be,ve.iterator,he.arg);if(_e.type==="throw")return he.method="throw",he.arg=_e.arg,he.delegate=null,Ti;var $t=_e.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Je),he.delegate=null,Ti):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ti)}function $r(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function jr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var he=ve[et];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function _e(){for(;++B<ve.length;)if(it.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Je,_e.done=!0,_e};return be.next=be}}throw new TypeError(St(ve)+" is not iterable")}return ir.prototype=Ki,Pt(yr,"constructor",{value:Ki,configurable:!0}),Pt(Ki,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Ki,kt,"GeneratorFunction"),Re.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Re.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Ki):(ve.__proto__=Ki,Xt(ve,kt,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Re.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Xt(Pr.prototype,xt,function(){return this}),Re.AsyncIterator=Pr,Re.async=function(ve,he,B,be,_e){_e===void 0&&(_e=Promise);var $t=new Pr(Xe(ve,he,B,be),_e);return Re.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},_r(yr),Xt(yr,kt,"Generator"),Xt(yr,et,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Re.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function _e(){for(;B.length;){var $t=B.pop();if($t in he)return _e.value=$t,_e.done=!1,_e}return _e.done=!0,_e}},Re.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Je,this.done=!1,this.delegate=null,this.method="next",this.arg=Je,this.tryEntries.forEach(jr),!ve)for(var he in this)he.charAt(0)==="t"&&it.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Je)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(fi,zi){return $t.type="throw",$t.arg=ve,he.next=fi,zi&&(he.method="next",he.arg=Je),!!zi}for(var be=this.tryEntries.length-1;be>=0;--be){var _e=this.tryEntries[be],$t=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var zt=it.call(_e,"catchLoc"),gi=it.call(_e,"finallyLoc");if(zt&&gi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(zt){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&it.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var _e=be;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=he&&he<=_e.finallyLoc&&(_e=null);var $t=_e?_e.completion:{};return $t.type=ve,$t.arg=he,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ti},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),jr(B),Ti}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var _e=be.arg;jr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Wr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Je),Ti}},Re}function Ye(Je,Re,Be,it,Pt,Ht,et){try{var xt=Je[Ht](et),kt=xt.value}catch(Xt){return void Be(Xt)}xt.done?Re(kt):Promise.resolve(kt).then(it,Pt)}function Qe(Je){return function(){var Re=this,Be=arguments;return new Promise(function(it,Pt){var Ht=Je.apply(Re,Be);function et(kt){Ye(Ht,it,Pt,et,xt,"next",kt)}function xt(kt){Ye(Ht,it,Pt,et,xt,"throw",kt)}et(void 0)})}}function ht(Je,Re){var Be=Object.keys(Je);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(Je);Re&&(it=it.filter(function(Pt){return Object.getOwnPropertyDescriptor(Je,Pt).enumerable})),Be.push.apply(Be,it)}return Be}function oe(Je,Re){for(var Be=0;Be<Re.length;Be++){var it=Re[Be];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(Je,Jt(it.key),it)}}function Le(Je,Re,Be){return Re=ut(Re),function(it,Pt){if(Pt&&(St(Pt)=="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ht){if(Ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(it)}(Je,ze()?Reflect.construct(Re,Be||[],ut(Je).constructor):Re.apply(Je,Be))}function ze(){try{var Je=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Re){}return(ze=function(){return!!Je})()}function yt(){return yt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Je,Re,Be){var it=function(Ht,et){for(;!{}.hasOwnProperty.call(Ht,et)&&(Ht=ut(Ht))!==null;);return Ht}(Je,Re);if(it){var Pt=Object.getOwnPropertyDescriptor(it,Re);return Pt.get?Pt.get.call(arguments.length<3?Je:Be):Pt.value}},yt.apply(null,arguments)}function ut(Je){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Re){return Re.__proto__||Object.getPrototypeOf(Re)},ut(Je)}function Tt(Je,Re){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,it){return Be.__proto__=it,Be},Tt(Je,Re)}function Ut(Je,Re,Be){return(Re=Jt(Re))in Je?Object.defineProperty(Je,Re,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Je[Re]=Be,Je}function Jt(Je){var Re=function(Be,it){if(St(Be)!="object"||!Be)return Be;var Pt=Be[Symbol.toPrimitive];if(Pt!==void 0){var Ht=Pt.call(Be,"string");if(St(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(Je);return St(Re)=="symbol"?Re:Re+""}var Lt=window.BookReader,jt=function(Je){function Re(){var et;(function(Xe,ni){if(!(Xe instanceof ni))throw new TypeError("Cannot call a class as a function")})(this,Re);for(var xt=arguments.length,kt=new Array(xt),Xt=0;Xt<xt;Xt++)kt[Xt]=arguments[Xt];return Ut(et=Le(this,Re,[].concat(kt)),"options",{enabled:!0,pageChunkUrl:"https://{{server}}/BookReader/BookReaderGetTextWrapper.php?path={{bookPath|urlencode}}_djvu.xml&page={{pageIndex}}&callback=false",remoteTtsUrl:"https://{{server}}/BookReader/BookReaderGetTTS.php?string={{text|urlencode}}&format={{format}}"}),et}return function(et,xt){if(typeof xt!="function"&&xt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(xt&&xt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),xt&&Tt(et,xt)}(Re,Je),Be=Re,it=[{key:"setup",value:function(et){var xt,kt,Xt;if((xt=Re,kt=this,typeof(Xt=yt(ut(xt.prototype),"setup",kt))=="function"?function(Ai){return Xt.apply(kt,Ai)}:Xt)([Object.assign({server:this.br.options.server,bookPath:this.br.options.bookPath},et)]),this.options.enabled){this._ttsBoxesByIndex={};var Xe,ni=ii.isSupported()?ii:Ve.isSupported()?Ve:null;if(/_forceTTSEngine=(festival|web)/.test(location.toString())){var ti=location.toString().match(/_forceTTSEngine=(festival|web)/)[1];ni={festival:Ve,web:ii}[ti]}ni&&(this.ttsEngine=new ni(function(Ai){for(var qt=1;qt<arguments.length;qt++){var ci=arguments[qt]!=null?arguments[qt]:{};qt%2?ht(Object(ci),!0).forEach(function(Ti){Ut(Ai,Ti,ci[Ti])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ai,Object.getOwnPropertyDescriptors(ci)):ht(Object(ci)).forEach(function(Ti){Object.defineProperty(Ai,Ti,Object.getOwnPropertyDescriptor(ci,Ti))})}return Ai}({pageChunkUrl:(0,a.g)(this.options.pageChunkUrl,this.br.options.vars),bookLanguage:(Xe=this.br.options.bookLanguage,Xe?d(Xe=Xe.toLowerCase(),["ISO 639-1"])||d(Xe,["ISO 639-2/B"])||d(Xe,["ISO 639-2/T","Endonym","Name"]):null),onLoadingStart:this.br.showProgressPopup.bind(this.br,"Loading audio..."),onLoadingComplete:this.br.removeProgressPopup.bind(this.br),onDone:this.stop.bind(this),beforeChunkPlay:this.beforeChunkPlay.bind(this),afterChunkPlay:this.sendChunkFinishedAnalyticsEvent.bind(this)},ni===Ve?{festivalUrl:(0,a.g)(this.options.remoteTtsUrl,this.br.options.vars)}:{})))}}},{key:"init",value:function(){var et=this;this.options.enabled&&this.br.bind(Lt.eventNames.PostInit,function(){et.br.$(".BRicon.read").click(function(){return et.toggle(),!1}),et.ttsEngine&&(et.ttsEngine.init(),/[?&]_autoReadAloud=show/.test(location.toString())&&et.start(!1))})}},{key:"_configurePageContainer",value:function(et){if(this.options.enabled&&et.page&&et.page.index in this._ttsBoxesByIndex){var xt=et.page.index;(0,It.KL)("ttsHiliteLayer",this._ttsBoxesByIndex[xt],et.page,et.$container[0])}}},{key:"extendNavBar",value:function(et){var xt=this;if(this.options.enabled&&this.ttsEngine){this.br.refs.$BRReadAloudToolbar=Ct(`
      <ul class="read-aloud">
        <li>
          <select class="playback-speed" name="playback-speed" title="`.concat("Playback speed",`">
            <option value="0.25">0.25x</option>
            <option value="0.5">0.5x</option>
            <option value="0.75">0.75x</option>
            <option value="1.0" selected>1.0x</option>
            <option value="1.25">1.25x</option>
            <option value="1.5">1.5x</option>
            <option value="1.75">1.75x</option>
            <option value="2">2x</option>
          </select>
        </li>
        <li>
          <button type="button" name="review" title="`).concat("Review 10 seconds",`">
            <div class="icon icon-review"></div>
          </button>
        </li>
        <li>
          <button type="button" name="play" title="`).concat("Play",`">
            <div class="icon icon-play"></div>
            <div class="icon icon-pause"></div>
          </button>
        </li>
        <li>
          <button type="button" name="advance" title="`).concat("Advance 10 seconds",`">
            <div class="icon icon-advance"></div>
          </button>
        </li>
        <li>
          <select class="playback-voices" name="playback-voice" style="display: none" title="Change read aloud voices">
          </select>
        </li>
      </ul>
    `)),et.find(".BRcontrols").prepend(this.br.refs.$BRReadAloudToolbar);var kt=function(Ai){return Ai.map(function(qt){return'<option value="'.concat(qt.voiceURI,'">').concat(qt.lang," - ").concat(qt.name,"</option>")}).join("")},Xt=function(Ai,qt){return"".concat(Ai.lang," - ").concat(Ai.name).localeCompare("".concat(qt.lang," - ").concat(qt.name))},Xe=function(Ai){Ai.empty();var qt=xt.ttsEngine.opts.bookLanguage,ci=xt.ttsEngine.getVoices().filter(function(Mi){return Mi.lang.startsWith(qt)}).sort(Xt),Ti=xt.ttsEngine.getVoices().filter(function(Mi){return!Mi.lang.startsWith(qt)}).sort(Xt);xt.ttsEngine.getVoices().length>1?(Ai.append(Ct('<optgroup label="Book Language ('.concat(qt,')"> ').concat(kt(ci)," </optgroup>"))),Ai.append(Ct('<optgroup label="Other Languages"> '.concat(kt(Ti)," </optgroup>"))),Ai.val(xt.ttsEngine.voice.voiceURI),Ai.show()):Ai.hide()},ni=this.br.refs.$BRReadAloudToolbar.find("[name=playback-voice]");Xe(ni),ni.on("change",function(Ai){return xt.ttsEngine.setVoice(ni.val())}),this.ttsEngine.events.on("pause resume start",function(){return xt.updateState()}),this.ttsEngine.events.on("voiceschanged",function(){return Xe(ni)}),this.br.refs.$BRReadAloudToolbar.find("[name=play]").on("click",this.playPause.bind(this)),this.br.refs.$BRReadAloudToolbar.find("[name=advance]").on("click",this.jumpForward.bind(this)),this.br.refs.$BRReadAloudToolbar.find("[name=review]").on("click",this.jumpBackward.bind(this));var ti=this.br.refs.$BRReadAloudToolbar.find('select[name="playback-speed"]');ti.on("change",function(Ai){return xt.ttsEngine.setPlaybackRate(parseFloat(ti.val()))}),Ct(`<li>
        <button class="BRicon read js-tooltip" title="`.concat(Mt,`">
          <div class="icon icon-read-aloud"></div>
          <span class="BRtooltip">`).concat(Mt,`</span>
        </button>
      </li>`)).insertBefore(et.find(".BRcontrols .BRicon.zoom_out").closest("li"))}}},{key:"toggle",value:function(){var et;(et=this.br.plugins.autoplay)===null||et===void 0||et.stop(),this.ttsEngine.playing?this.stop():this.start()}},{key:"start",value:function(){var et=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.constModeThumb==this.br.mode&&this.br.switchMode(this.br.constMode1up),this.br.refs.$BRReadAloudToolbar.addClass("visible"),this.br.$(".BRicon.read").addClass("unread active"),this.sendAnalyticsEvent("Start"),et&&this.ttsEngine.start(this.br.currentIndex(),this.br.book.getNumLeafs())}},{key:"jumpForward",value:function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpForward()}},{key:"jumpBackward",value:function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpBackward()}},{key:"updateState",value:function(){var et=!(this.ttsEngine.paused||!this.ttsEngine.playing);this.br.$(".read-aloud [name=play]").toggleClass("playing",et)}},{key:"playPause",value:function(){this.ttsEngine.playing?(this.ttsEngine.togglePlayPause(),this.updateState()):this.toggle()}},{key:"stop",value:function(){this.br.refs.$BRReadAloudToolbar.removeClass("visible"),this.br.$(".BRicon.read").removeClass("unread active"),this.sendAnalyticsEvent("Stop"),this.ttsEngine.stop(),this.removeHilites(),this.br.removeProgressPopup()}},{key:"beforeChunkPlay",value:(Ht=Qe(ke().mark(function et(xt){return ke().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return kt.next=2,this.maybeFlipToIndex(xt.leafIndex);case 2:this.highlightChunk(xt),this.scrollToChunk(xt);case 4:case"end":return kt.stop()}},et,this)})),function(et){return Ht.apply(this,arguments)})},{key:"sendChunkFinishedAnalyticsEvent",value:function(et){var xt;this.sendAnalyticsEvent("ChunkFinished-Words",(xt=et.text.match(/\S+/g))?xt.length:0)}},{key:"maybeFlipToIndex",value:(Pt=Qe(ke().mark(function et(xt){return ke().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:this.br._isIndexDisplayed(xt)||this.br.jumpToIndex(xt);case 1:case"end":return kt.stop()}},et,this)})),function(et){return Pt.apply(this,arguments)})},{key:"highlightChunk",value:function(et){var xt=this,kt=et.leafIndex;this.removeHilites(),this._ttsBoxesByIndex=Ut({},kt,et.lineRects.map(function(ti){var Ai=I(ti,4),qt=Ai[0],ci=Ai[1];return{l:qt,r:Ai[2],b:ci,t:Ai[3]}}));for(var Xt=function(){var ti=I(ni[Xe],2),Ai=ti[0],qt=ti[1],ci=parseFloat(Ai),Ti=xt.br.book.getPage(ci);xt.br.getActivePageContainerElementsForIndex(ci).forEach(function(Mi){return(0,It.KL)("ttsHiliteLayer",qt,Ti,Mi)})},Xe=0,ni=Object.entries(this._ttsBoxesByIndex);Xe<ni.length;Xe++)Xt()}},{key:"scrollToChunk",value:function(et){var xt;this.br.constModeThumb!=this.br.mode&&((xt=Ct(".pagediv".concat(et.leafIndex," .ttsHiliteLayer rect")).last())===null||xt===void 0||(xt=xt[0])===null||xt===void 0||xt.scrollIntoView({block:this.br.constMode1up==this.br.mode||this.br.isFullscreenActive?"center":"nearest",inline:"center",behavior:"smooth"}))}},{key:"removeHilites",value:function(){Ct(this.br.getActivePageContainerElements()).find(".ttsHiliteLayer").remove(),this._ttsBoxesByIndex={}}},{key:"sendAnalyticsEvent",value:function(et,xt){if(this.br.plugins.archiveAnalytics){var kt={},Xt=this.ttsEngine.opts.bookLanguage;Xt&&(kt.mediaLanguage=Xt),this.br.plugins.archiveAnalytics.sendEvent("BRReadAloud",et,xt,kt)}}}],it&&oe(Be.prototype,it),Object.defineProperty(Be,"prototype",{writable:!1}),Be;var Be,it,Pt,Ht}(Et.S);Lt==null||Lt.registerPlugin("tts",jt)},9073:function(e,t,r){"use strict";function a(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,p=Array(n);u<n;u++)p[u]=c[u];return p}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,x=function(P){if(Array.isArray(P))return P}(y=m.split("|").map(function(P){return P.trim()}))||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(y)||function(P,E){if(P){if(typeof P=="string")return a(P,E);var L={}.toString.call(P).slice(8,-1);return L==="Object"&&P.constructor&&(L=P.constructor.name),L==="Map"||L==="Set"?Array.from(P):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?a(P,E):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=x[0],k=x.slice(1);if(!(w in u)&&!(w in n))return g;var S=w in u?u[w]:w in n?n[w]:null;return k.map(function(P){return p[P]}).reduce(function(P,E){return E(P)},S&&S.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=1966)}]);C2=rC,{default:E2}=C2,nC=an(C2,["default"]),T2=E2!==void 0?E2:nC;});var P2={};Dn(P2,{default:()=>T2});var $2=Kt(()=>{lg();lg()});var oC,L2,O2,aC,M2,cg=Kt(()=>{oC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[393],{1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(a(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(a(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return a(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},3387:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8706),r(2008),r(3792),r(9572),r(8130),r(9085),r(875),r(6099),r(825),r(7495),r(7764),r(5746),r(2953),r(8408);var a=r(8340),l=r(8004);function o(k){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},o(k)}function c(k,S){for(var P=0;P<S.length;P++){var E=S[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,y(E.key),E)}}function n(k,S,P){return S=p(S),function(E,L){if(L&&(o(L)=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(E)}(k,u()?Reflect.construct(S,P||[],p(k).constructor):S.apply(k,P))}function u(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(S){}return(u=function(){return!!k})()}function p(k){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},p(k)}function g(k,S){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,E){return P.__proto__=E,P},g(k,S)}function m(k,S,P){return(S=y(S))in k?Object.defineProperty(k,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):k[S]=P,k}function y(k){var S=function(P,E){if(o(P)!="object"||!P)return P;var L=P[Symbol.toPrimitive];if(L!==void 0){var s=L.call(P,"string");if(o(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(k);return o(S)=="symbol"?S:S+""}var x=function(k){function S(){var L;(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,S);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return m(L=n(this,S,[].concat(h)),"options",{enabled:!0,flipSpeed:1500,flipDelay:5e3,urlParams:!0}),m(L,"timer",null),L}return function(L,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(s&&s.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),s&&g(L,s)}(S,k),P=S,E=[{key:"init",value:function(){var L=this;if(this.options.enabled&&(this.br.bind(a.q.stop,function(){return L.stop()}),this.options.urlParams)){var s=new URLSearchParams(window.location.search);s.get("flipSpeed")&&(this.options.flipSpeed=(0,l.parseAnimationSpeed)(s.get("flipSpeed"))||this.options.flipSpeed),s.get("flipDelay")&&(this.options.flipDelay=(0,l.parseAnimationSpeed)(s.get("flipDelay"))||this.options.flipDelay),s.get("autoflip")==="1"&&this.toggle()}}},{key:"_bindNavigationHandlers",value:function(){var L=this;if(this.options.enabled){var s=this.br.$(".BRicon");s.filter(".play").on("click",function(){return L.toggle(),!1}),s.filter(".pause").on("click",function(){return L.toggle(),!1})}}},{key:"toggle",value:function(){var L=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.options.enabled){Object.assign(this.options,s),this.br.trigger(a.q.stop);var h=!1;this.br.constMode2up!=this.br.mode&&(h=!0,this.br.switchMode(this.br.constMode2up)),this.timer==null?(this.br.pageProgression=="rl"&&h||this.br.next({triggerStop:!1,flipSpeed:this.options.flipSpeed}),this.br.$(".play").hide(),this.br.$(".pause").show(),this.timer=setInterval(function(){L.br.animating||(Math.max(L.br.twoPage.currentIndexL,L.br.twoPage.currentIndexR)>=L.br.book.getNumLeafs()-1?L.br.prev({triggerStop:!1,flipSpeed:L.options.flipSpeed}):L.br.next({triggerStop:!1,flipSpeed:L.options.flipSpeed}))},(0,l.parseAnimationSpeed)(this.options.flipDelay))):this.stop()}}},{key:"stop",value:function(){this.options.enabled&&this.timer!=null&&(clearInterval(this.timer),this.br.$(".pause").hide(),this.br.$(".play").show(),this.timer=null)}}],E&&c(P.prototype,E),Object.defineProperty(P,"prototype",{writable:!1}),P;var P,E}(r(1041).S),w=window.BookReader;w==null||w.registerPlugin("autoplay",x)}},function(e){e(e.s=3387)}]);L2=oC,{default:O2}=L2,aC=an(L2,["default"]),M2=O2!==void 0?O2:aC});var I2={};Dn(I2,{default:()=>M2});var R2=Kt(()=>{cg();cg()});var sC,D2,j2,lC,N2,ug=Kt(()=>{sC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[555],{1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(a(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(a(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return a(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},4442:function(e,t,r){var a={};r.r(a),r.d(a,{areCookiesBlocked:function(){return c},getItem:function(){return p},removeItem:function(){return m},setItem:function(){return g}}),r(2675),r(9463),r(2259),r(3792),r(875),r(6099),r(825),r(7764),r(2953),r(5700),r(8706),r(9572),r(8130),r(8940),r(7495),r(1761);var l=r(8340),o=r(1041);function c(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;try{return s.cookie,!1}catch(h){return!0}}r(4864),r(8781),r(5440);var n,u=c();function p(s){return u||!s?null:decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(s).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function g(s,h,v,d,_,C){return!u&&(document.cookie=encodeURIComponent(s)+"="+encodeURIComponent(h)+(v?"; expires=".concat(v.toUTCString()):"")+(_?"; domain=".concat(_):"")+(d?"; path=".concat(d):"")+(C?"; secure":""),!0)}function m(s,h,v){return!u&&!!hasItem(s)&&(document.cookie=encodeURIComponent(s)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(v?"; domain=".concat(v):"")+(h?"; path=".concat(h):""),!0)}function y(s){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},y(s)}function x(s,h){for(var v=0;v<h.length;v++){var d=h[v];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,E(d.key),d)}}function w(s,h,v){return h=S(h),function(d,_){if(_&&(y(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(d)}(s,k()?Reflect.construct(h,v||[],S(s).constructor):h.apply(s,v))}function k(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(h){}return(k=function(){return!!s})()}function S(s){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},S(s)}function P(s,h){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,d){return v.__proto__=d,v},P(s,h)}function E(s){var h=function(v,d){if(y(v)!="object"||!v)return v;var _=v[Symbol.toPrimitive];if(_!==void 0){var C=_.call(v,"string");if(y(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(s);return y(h)=="symbol"?h:h+""}BookReader.docCookies=a;var L=function(s){function h(){var _,C,N,G;(function(Q,te){if(!(Q instanceof te))throw new TypeError("Cannot call a class as a function")})(this,h);for(var q=arguments.length,K=new Array(q),ie=0;ie<q;ie++)K[ie]=arguments[ie];return C=_=w(this,h,[].concat(K)),G={enabled:!0,cookiePath:null},(N=E(N="options"))in C?Object.defineProperty(C,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):C[N]=G,_}return function(_,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(C&&C.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),C&&P(_,C)}(h,s),v=h,(d=[{key:"init",value:function(){var _=this;this.options.enabled&&this.br.bind(l.q.fragmentChange,function(){var C=_.br.paramsFromCurrent();_.updateResumeValue(C.index)})}},{key:"getResumeValue",value:function(){var _=BookReader.docCookies.getItem("br-resume");return _!==null?parseInt(_):null}},{key:"getCookiePath",value:function(_){return _.match(".+?(?=/page/|/mode/|$)")[0]}},{key:"updateResumeValue",value:function(_,C){var N=new Date(+new Date+12096e5),G=this.options.cookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(C||"br-resume",_,N,G,null,!1)}}])&&x(v.prototype,d),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,d}(o.S);(n=BookReader)===null||n===void 0||n.registerPlugin("resume",L)}},function(e){e(e.s=4442)}]);D2=sC,{default:j2}=D2,lC=an(D2,["default"]),N2=j2!==void 0?j2:lC});var B2={};Dn(B2,{default:()=>N2});var H2=Kt(()=>{ug();ug()});var cC,F2,z2,uC,U2,dg=Kt(()=>{cC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[858],{706:function(e,t,r){var a=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||a&&o[c].name!==c})}},2762:function(e,t,r){var a=r(6518),l=r(3802).trim;a({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(a(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(a(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return a(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},9220:function(e,t,r){r(2675),r(9463),r(6412),r(2259),r(8125),r(113),r(3418),r(4782),r(4554),r(2010),r(4731),r(479),r(2811),r(3851),r(875),r(3362),r(825),r(888),r(7495),r(8781),r(5700),r(8706),r(2008),r(8980),r(3792),r(8598),r(2062),r(4490),r(9572),r(8130),r(9085),r(6099),r(8940),r(7764),r(3500),r(2953),r(8408);var a=r(420),l=r(9696),o=r(6681),c=r(8900),n=a.qy`
<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="tocTitleID tocDescID"
>
  <title id="tocTitleID">Table of contents icon</title>
  <desc id="tocDescID">An illustration of three text list items</desc>
  <g class="fill-color" fill-rule="evenodd"><rect height="3" rx="1.5" width="18" x="6"/><rect height="3" rx="1.5" width="18" x="6" y="21"/><rect height="3" rx="1.5" width="18" x="6" y="14"/><rect height="3" rx="1.5" width="18" x="6" y="7"/><rect height="3" rx="1.5" width="4"/><rect height="3" rx="1.5" width="4" y="21"/><rect height="3" rx="1.5" width="4" y="14"/><rect height="3" rx="1.5" width="4" y="7"/></g>
</svg>
`;class u extends a.WF{static get styles(){return a.AH`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return n}}customElements.define("ia-icon-toc",u);var p,g,m,y,x,w,k=r(1041),S=r(9073),P=r(1669);function E(ee){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},E(ee)}function L(){L=function(){return ee};var ee={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(J,qe){["method","field"].forEach(function(_t){qe.forEach(function(we){we.kind===_t&&we.placement==="own"&&this.defineClassElement(J,we)},this)},this)},initializeClassElements:function(J,qe){var _t=J.prototype;["method","field"].forEach(function(we){qe.forEach(function($e){var at=$e.placement;if($e.kind===we&&(at==="static"||at==="prototype")){var Ee=at==="static"?J:_t;this.defineClassElement(Ee,$e)}},this)},this)},defineClassElement:function(J,qe){var _t=qe.descriptor;if(qe.kind==="field"){var we=qe.initializer;_t={enumerable:_t.enumerable,writable:_t.writable,configurable:_t.configurable,value:we===void 0?void 0:we.call(J)}}Object.defineProperty(J,qe.key,_t)},decorateClass:function(J,qe){var _t=[],we=[],$e={static:[],prototype:[],own:[]};if(J.forEach(function(Ee){this.addElementPlacement(Ee,$e)},this),J.forEach(function(Ee){if(!v(Ee))return _t.push(Ee);var tt=this.decorateElement(Ee,$e);_t.push(tt.element),_t.push.apply(_t,tt.extras),we.push.apply(we,tt.finishers)},this),!qe)return{elements:_t,finishers:we};var at=this.decorateConstructor(_t,qe);return we.push.apply(we,at.finishers),at.finishers=we,at},addElementPlacement:function(J,qe,_t){var we=qe[J.placement];if(!_t&&we.indexOf(J.key)!==-1)throw new TypeError("Duplicated element ("+J.key+")");we.push(J.key)},decorateElement:function(J,qe){for(var _t=[],we=[],$e=J.decorators,at=$e.length-1;at>=0;at--){var Ee=qe[J.placement];Ee.splice(Ee.indexOf(J.key),1);var tt=this.fromElementDescriptor(J),nt=this.toElementFinisherExtras((0,$e[at])(tt)||tt);J=nt.element,this.addElementPlacement(J,qe),nt.finisher&&we.push(nt.finisher);var Vt=nt.extras;if(Vt){for(var dt=0;dt<Vt.length;dt++)this.addElementPlacement(Vt[dt],qe);_t.push.apply(_t,Vt)}}return{element:J,finishers:we,extras:_t}},decorateConstructor:function(J,qe){for(var _t=[],we=qe.length-1;we>=0;we--){var $e=this.fromClassDescriptor(J),at=this.toClassDescriptor((0,qe[we])($e)||$e);if(at.finisher!==void 0&&_t.push(at.finisher),at.elements!==void 0){J=at.elements;for(var Ee=0;Ee<J.length-1;Ee++)for(var tt=Ee+1;tt<J.length;tt++)if(J[Ee].key===J[tt].key&&J[Ee].placement===J[tt].placement)throw new TypeError("Duplicated element ("+J[Ee].key+")")}}return{elements:J,finishers:_t}},fromElementDescriptor:function(J){var qe={kind:J.kind,key:J.key,placement:J.placement,descriptor:J.descriptor};return Object.defineProperty(qe,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),J.kind==="field"&&(qe.initializer=J.initializer),qe},toElementDescriptors:function(J){if(J!==void 0)return(qe=J,function(_t){if(Array.isArray(_t))return _t}(qe)||N(qe)||C(qe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(_t){var we=this.toElementDescriptor(_t);return this.disallowProperty(_t,"finisher","An element descriptor"),this.disallowProperty(_t,"extras","An element descriptor"),we},this);var qe},toElementDescriptor:function(J){var qe=J.kind+"";if(qe!=="method"&&qe!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+qe+'"');var _t=ft(J.key),we=J.placement+"";if(we!=="static"&&we!=="prototype"&&we!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+we+'"');var $e=J.descriptor;this.disallowProperty(J,"elements","An element descriptor");var at={kind:qe,key:_t,placement:we,descriptor:Object.assign({},$e)};return qe!=="field"?this.disallowProperty(J,"initializer","A method descriptor"):(this.disallowProperty($e,"get","The property descriptor of a field descriptor"),this.disallowProperty($e,"set","The property descriptor of a field descriptor"),this.disallowProperty($e,"value","The property descriptor of a field descriptor"),at.initializer=J.initializer),at},toElementFinisherExtras:function(J){return{element:this.toElementDescriptor(J),finisher:_(J,"finisher"),extras:this.toElementDescriptors(J.extras)}},fromClassDescriptor:function(J){var qe={kind:"class",elements:J.map(this.fromElementDescriptor,this)};return Object.defineProperty(qe,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),qe},toClassDescriptor:function(J){var qe=J.kind+"";if(qe!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+qe+'"');this.disallowProperty(J,"key","A class descriptor"),this.disallowProperty(J,"placement","A class descriptor"),this.disallowProperty(J,"descriptor","A class descriptor"),this.disallowProperty(J,"initializer","A class descriptor"),this.disallowProperty(J,"extras","A class descriptor");var _t=_(J,"finisher");return{elements:this.toElementDescriptors(J.elements),finisher:_t}},runClassFinishers:function(J,qe){for(var _t=0;_t<qe.length;_t++){var we=(0,qe[_t])(J);if(we!==void 0){if(typeof we!="function")throw new TypeError("Finishers must return a constructor.");J=we}}return J},disallowProperty:function(J,qe,_t){if(J[qe]!==void 0)throw new TypeError(_t+" can't have a ."+qe+" property.")}};return ee}function s(ee){var J,qe=ft(ee.key);ee.kind==="method"?J={value:ee.value,writable:!0,configurable:!0,enumerable:!1}:ee.kind==="get"?J={get:ee.value,configurable:!0,enumerable:!1}:ee.kind==="set"?J={set:ee.value,configurable:!0,enumerable:!1}:ee.kind==="field"&&(J={configurable:!0,writable:!0,enumerable:!0});var _t={kind:ee.kind==="field"?"field":"method",key:qe,placement:ee.static?"static":ee.kind==="field"?"own":"prototype",descriptor:J};return ee.decorators&&(_t.decorators=ee.decorators),ee.kind==="field"&&(_t.initializer=ee.value),_t}function h(ee,J){ee.descriptor.get!==void 0?J.descriptor.get=ee.descriptor.get:J.descriptor.set=ee.descriptor.set}function v(ee){return ee.decorators&&ee.decorators.length}function d(ee){return ee!==void 0&&!(ee.value===void 0&&ee.writable===void 0)}function _(ee,J){var qe=ee[J];if(qe!==void 0&&typeof qe!="function")throw new TypeError("Expected '"+J+"' to be a function");return qe}function C(ee,J){if(ee){if(typeof ee=="string")return G(ee,J);var qe={}.toString.call(ee).slice(8,-1);return qe==="Object"&&ee.constructor&&(qe=ee.constructor.name),qe==="Map"||qe==="Set"?Array.from(ee):qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe)?G(ee,J):void 0}}function N(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function G(ee,J){(J==null||J>ee.length)&&(J=ee.length);for(var qe=0,_t=Array(J);qe<J;qe++)_t[qe]=ee[qe];return _t}function q(ee,J){return J||(J=ee.slice(0)),Object.freeze(Object.defineProperties(ee,{raw:{value:Object.freeze(J)}}))}function K(){K=function(){return J};var ee,J={},qe=Object.prototype,_t=qe.hasOwnProperty,we=Object.defineProperty||function(ut,Tt,Ut){ut[Tt]=Ut.value},$e=typeof Symbol=="function"?Symbol:{},at=$e.iterator||"@@iterator",Ee=$e.asyncIterator||"@@asyncIterator",tt=$e.toStringTag||"@@toStringTag";function nt(ut,Tt,Ut){return Object.defineProperty(ut,Tt,{value:Ut,enumerable:!0,configurable:!0,writable:!0}),ut[Tt]}try{nt({},"")}catch(ut){nt=function(Tt,Ut,Jt){return Tt[Ut]=Jt}}function Vt(ut,Tt,Ut,Jt){var Lt=Tt&&Tt.prototype instanceof Mt?Tt:Mt,jt=Object.create(Lt.prototype),Je=new ze(Jt||[]);return we(jt,"_invoke",{value:Qe(ut,Ut,Je)}),jt}function dt(ut,Tt,Ut){try{return{type:"normal",arg:ut.call(Tt,Ut)}}catch(Jt){return{type:"throw",arg:Jt}}}J.wrap=Vt;var vt="suspendedStart",Rt="suspendedYield",ii="executing",ai="completed",ui={};function Mt(){}function It(){}function Et(){}var Ct={};nt(Ct,at,function(){return this});var St=Object.getPrototypeOf,I=St&&St(St(yt([])));I&&I!==qe&&_t.call(I,at)&&(Ct=I);var We=Et.prototype=Mt.prototype=Object.create(Ct);function ke(ut){["next","throw","return"].forEach(function(Tt){nt(ut,Tt,function(Ut){return this._invoke(Tt,Ut)})})}function Ye(ut,Tt){function Ut(Lt,jt,Je,Re){var Be=dt(ut[Lt],ut,jt);if(Be.type!=="throw"){var it=Be.arg,Pt=it.value;return Pt&&E(Pt)=="object"&&_t.call(Pt,"__await")?Tt.resolve(Pt.__await).then(function(Ht){Ut("next",Ht,Je,Re)},function(Ht){Ut("throw",Ht,Je,Re)}):Tt.resolve(Pt).then(function(Ht){it.value=Ht,Je(it)},function(Ht){return Ut("throw",Ht,Je,Re)})}Re(Be.arg)}var Jt;we(this,"_invoke",{value:function(Lt,jt){function Je(){return new Tt(function(Re,Be){Ut(Lt,jt,Re,Be)})}return Jt=Jt?Jt.then(Je,Je):Je()}})}function Qe(ut,Tt,Ut){var Jt=vt;return function(Lt,jt){if(Jt===ii)throw Error("Generator is already running");if(Jt===ai){if(Lt==="throw")throw jt;return{value:ee,done:!0}}for(Ut.method=Lt,Ut.arg=jt;;){var Je=Ut.delegate;if(Je){var Re=ht(Je,Ut);if(Re){if(Re===ui)continue;return Re}}if(Ut.method==="next")Ut.sent=Ut._sent=Ut.arg;else if(Ut.method==="throw"){if(Jt===vt)throw Jt=ai,Ut.arg;Ut.dispatchException(Ut.arg)}else Ut.method==="return"&&Ut.abrupt("return",Ut.arg);Jt=ii;var Be=dt(ut,Tt,Ut);if(Be.type==="normal"){if(Jt=Ut.done?ai:Rt,Be.arg===ui)continue;return{value:Be.arg,done:Ut.done}}Be.type==="throw"&&(Jt=ai,Ut.method="throw",Ut.arg=Be.arg)}}}function ht(ut,Tt){var Ut=Tt.method,Jt=ut.iterator[Ut];if(Jt===ee)return Tt.delegate=null,Ut==="throw"&&ut.iterator.return&&(Tt.method="return",Tt.arg=ee,ht(ut,Tt),Tt.method==="throw")||Ut!=="return"&&(Tt.method="throw",Tt.arg=new TypeError("The iterator does not provide a '"+Ut+"' method")),ui;var Lt=dt(Jt,ut.iterator,Tt.arg);if(Lt.type==="throw")return Tt.method="throw",Tt.arg=Lt.arg,Tt.delegate=null,ui;var jt=Lt.arg;return jt?jt.done?(Tt[ut.resultName]=jt.value,Tt.next=ut.nextLoc,Tt.method!=="return"&&(Tt.method="next",Tt.arg=ee),Tt.delegate=null,ui):jt:(Tt.method="throw",Tt.arg=new TypeError("iterator result is not an object"),Tt.delegate=null,ui)}function oe(ut){var Tt={tryLoc:ut[0]};1 in ut&&(Tt.catchLoc=ut[1]),2 in ut&&(Tt.finallyLoc=ut[2],Tt.afterLoc=ut[3]),this.tryEntries.push(Tt)}function Le(ut){var Tt=ut.completion||{};Tt.type="normal",delete Tt.arg,ut.completion=Tt}function ze(ut){this.tryEntries=[{tryLoc:"root"}],ut.forEach(oe,this),this.reset(!0)}function yt(ut){if(ut||ut===""){var Tt=ut[at];if(Tt)return Tt.call(ut);if(typeof ut.next=="function")return ut;if(!isNaN(ut.length)){var Ut=-1,Jt=function Lt(){for(;++Ut<ut.length;)if(_t.call(ut,Ut))return Lt.value=ut[Ut],Lt.done=!1,Lt;return Lt.value=ee,Lt.done=!0,Lt};return Jt.next=Jt}}throw new TypeError(E(ut)+" is not iterable")}return It.prototype=Et,we(We,"constructor",{value:Et,configurable:!0}),we(Et,"constructor",{value:It,configurable:!0}),It.displayName=nt(Et,tt,"GeneratorFunction"),J.isGeneratorFunction=function(ut){var Tt=typeof ut=="function"&&ut.constructor;return!!Tt&&(Tt===It||(Tt.displayName||Tt.name)==="GeneratorFunction")},J.mark=function(ut){return Object.setPrototypeOf?Object.setPrototypeOf(ut,Et):(ut.__proto__=Et,nt(ut,tt,"GeneratorFunction")),ut.prototype=Object.create(We),ut},J.awrap=function(ut){return{__await:ut}},ke(Ye.prototype),nt(Ye.prototype,Ee,function(){return this}),J.AsyncIterator=Ye,J.async=function(ut,Tt,Ut,Jt,Lt){Lt===void 0&&(Lt=Promise);var jt=new Ye(Vt(ut,Tt,Ut,Jt),Lt);return J.isGeneratorFunction(Tt)?jt:jt.next().then(function(Je){return Je.done?Je.value:jt.next()})},ke(We),nt(We,tt,"Generator"),nt(We,at,function(){return this}),nt(We,"toString",function(){return"[object Generator]"}),J.keys=function(ut){var Tt=Object(ut),Ut=[];for(var Jt in Tt)Ut.push(Jt);return Ut.reverse(),function Lt(){for(;Ut.length;){var jt=Ut.pop();if(jt in Tt)return Lt.value=jt,Lt.done=!1,Lt}return Lt.done=!0,Lt}},J.values=yt,ze.prototype={constructor:ze,reset:function(ut){if(this.prev=0,this.next=0,this.sent=this._sent=ee,this.done=!1,this.delegate=null,this.method="next",this.arg=ee,this.tryEntries.forEach(Le),!ut)for(var Tt in this)Tt.charAt(0)==="t"&&_t.call(this,Tt)&&!isNaN(+Tt.slice(1))&&(this[Tt]=ee)},stop:function(){this.done=!0;var ut=this.tryEntries[0].completion;if(ut.type==="throw")throw ut.arg;return this.rval},dispatchException:function(ut){if(this.done)throw ut;var Tt=this;function Ut(Be,it){return jt.type="throw",jt.arg=ut,Tt.next=Be,it&&(Tt.method="next",Tt.arg=ee),!!it}for(var Jt=this.tryEntries.length-1;Jt>=0;--Jt){var Lt=this.tryEntries[Jt],jt=Lt.completion;if(Lt.tryLoc==="root")return Ut("end");if(Lt.tryLoc<=this.prev){var Je=_t.call(Lt,"catchLoc"),Re=_t.call(Lt,"finallyLoc");if(Je&&Re){if(this.prev<Lt.catchLoc)return Ut(Lt.catchLoc,!0);if(this.prev<Lt.finallyLoc)return Ut(Lt.finallyLoc)}else if(Je){if(this.prev<Lt.catchLoc)return Ut(Lt.catchLoc,!0)}else{if(!Re)throw Error("try statement without catch or finally");if(this.prev<Lt.finallyLoc)return Ut(Lt.finallyLoc)}}}},abrupt:function(ut,Tt){for(var Ut=this.tryEntries.length-1;Ut>=0;--Ut){var Jt=this.tryEntries[Ut];if(Jt.tryLoc<=this.prev&&_t.call(Jt,"finallyLoc")&&this.prev<Jt.finallyLoc){var Lt=Jt;break}}Lt&&(ut==="break"||ut==="continue")&&Lt.tryLoc<=Tt&&Tt<=Lt.finallyLoc&&(Lt=null);var jt=Lt?Lt.completion:{};return jt.type=ut,jt.arg=Tt,Lt?(this.method="next",this.next=Lt.finallyLoc,ui):this.complete(jt)},complete:function(ut,Tt){if(ut.type==="throw")throw ut.arg;return ut.type==="break"||ut.type==="continue"?this.next=ut.arg:ut.type==="return"?(this.rval=this.arg=ut.arg,this.method="return",this.next="end"):ut.type==="normal"&&Tt&&(this.next=Tt),ui},finish:function(ut){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var Ut=this.tryEntries[Tt];if(Ut.finallyLoc===ut)return this.complete(Ut.completion,Ut.afterLoc),Le(Ut),ui}},catch:function(ut){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var Ut=this.tryEntries[Tt];if(Ut.tryLoc===ut){var Jt=Ut.completion;if(Jt.type==="throw"){var Lt=Jt.arg;Le(Ut)}return Lt}}throw Error("illegal catch attempt")},delegateYield:function(ut,Tt,Ut){return this.delegate={iterator:yt(ut),resultName:Tt,nextLoc:Ut},this.method==="next"&&(this.arg=ee),ui}},J}function ie(ee,J,qe,_t,we,$e,at){try{var Ee=ee[$e](at),tt=Ee.value}catch(nt){return void qe(nt)}Ee.done?J(tt):Promise.resolve(tt).then(_t,we)}function Q(ee){return function(){var J=this,qe=arguments;return new Promise(function(_t,we){var $e=ee.apply(J,qe);function at(tt){ie($e,_t,we,at,Ee,"next",tt)}function Ee(tt){ie($e,_t,we,at,Ee,"throw",tt)}at(void 0)})}}function te(ee,J){if(!(ee instanceof J))throw new TypeError("Cannot call a class as a function")}function Oe(ee,J){for(var qe=0;qe<J.length;qe++){var _t=J[qe];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(ee,ft(_t.key),_t)}}function fe(ee,J,qe){return J&&Oe(ee.prototype,J),qe&&Oe(ee,qe),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function W(ee,J,qe){return J=ye(J),function(_t,we){if(we&&(E(we)=="object"||typeof we=="function"))return we;if(we!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function($e){if($e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $e}(_t)}(ee,ae()?Reflect.construct(J,qe||[],ye(ee).constructor):J.apply(ee,qe))}function ae(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(J){}return(ae=function(){return!!ee})()}function de(ee,J,qe,_t){var we=Z(ye(1&_t?ee.prototype:ee),J,qe);return 2&_t&&typeof we=="function"?function($e){return we.apply(qe,$e)}:we}function Z(){return Z=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(ee,J,qe){var _t=function($e,at){for(;!{}.hasOwnProperty.call($e,at)&&($e=ye($e))!==null;);return $e}(ee,J);if(_t){var we=Object.getOwnPropertyDescriptor(_t,J);return we.get?we.get.call(arguments.length<3?ee:qe):we.value}},Z.apply(null,arguments)}function ye(ee){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},ye(ee)}function Y(ee,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(J&&J.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),J&&ce(ee,J)}function ce(ee,J){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(qe,_t){return qe.__proto__=_t,qe},ce(ee,J)}function Ze(ee,J,qe){return(J=ft(J))in ee?Object.defineProperty(ee,J,{value:qe,enumerable:!0,configurable:!0,writable:!0}):ee[J]=qe,ee}function ft(ee){var J=function(qe,_t){if(E(qe)!="object"||!qe)return qe;var we=qe[Symbol.toPrimitive];if(we!==void 0){var $e=we.call(qe,"string");if(E($e)!="object")return $e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(qe)}(ee);return E(J)=="symbol"?J:J+""}var ct,Ge,Ae,Me,De,Ne,Ve,rt=window.BookReader,je=function(ee){function J(){var we;te(this,J);for(var $e=arguments.length,at=new Array($e),Ee=0;Ee<$e;Ee++)at[Ee]=arguments[Ee];return Ze(we=W(this,J,[].concat(at)),"options",{enabled:!0,openLibraryHost:"https://openlibrary.org",openLibraryId:"",internetArchiveId:"",olHost:"https://openlibrary.org",bookId:"{{bookId}}"}),Ze(we,"_tocEntries",void 0),Ze(we,"_chaptersPanel",void 0),we}return Y(J,ee),fe(J,[{key:"setup",value:function(we){de(J,"setup",this,3)([we]),this.options.internetArchiveId=this.options.internetArchiveId||this.options.bookId,this.options.openLibraryHost=this.options.openLibraryHost||this.options.olHost}},{key:"init",value:(_t=Q(K().mark(function we(){var $e,at,Ee,tt,nt=this;return K().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(this.options.enabled&&this.br.ui!=="embed"){Vt.next=2;break}return Vt.abrupt("return");case 2:if(at=null,($e=this.br.options.table_of_contents)===null||$e===void 0||!$e.length){Vt.next=7;break}at=this.br.options.table_of_contents,Vt.next=11;break;case 7:return Vt.next=9,this.getOpenLibraryRecord();case 9:(tt=Vt.sent)!=null&&(Ee=tt.table_of_contents)!==null&&Ee!==void 0&&Ee.length&&(at=tt.table_of_contents);case 11:at&&(this._tocEntries=at.map(function(dt){return Object.assign({},dt,{pageIndex:typeof dt.leaf=="number"?nt.br.book.leafNumToIndex(dt.leaf):dt.pagenum?nt.br.book.getPageIndex(dt.pagenum):void 0})}),this._render(),this.br.bind(rt.eventNames.pageChanged,function(){return nt._updateCurrent()}));case 12:case"end":return Vt.stop()}},we,this)})),function(){return _t.apply(this,arguments)})},{key:"_render",value:function(){var we=this;this.br.shell.menuProviders.chapters={id:"chapters",icon:(0,a.qy)(p||(p=q(['<ia-icon-toc style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-toc>']))),label:"Table of Contents",component:(0,a.qy)(g||(g=q([`<br-chapters-panel
        .contents="`,`"
        .jumpToPage="`,`"
        @connected="`,`"
      />`])),this._tocEntries,function($e){we._updateCurrent($e),we.br.jumpToIndex($e)},function($e){we._chaptersPanel=$e.target,we._updateCurrent()})},this.br.shell.addMenuShortcut("chapters"),this.br.shell.updateMenuContents(),this._tocEntries.forEach(function($e,at){return we._renderMarker($e,at)})}},{key:"_renderMarker",value:function(we,$e){var at=this;if(we.pageIndex!=null){var Ee=[we.label,we.title].filter(function(nt){return nt}).join(" ")||"Chapter ".concat($e+1),tt=rt.util.cssPercentage(we.pageIndex,this.br.book.getNumLeafs()-1);P("<div></div>").append(P("<div />").text(Ee).append(P('<div class="BRchapterPage" />').text(this.br.book.getPageName(we.pageIndex)))).addClass("BRchapter").css({left:tt}).appendTo(this.br.$(".BRnavline")).on("mouseenter",function(nt){var Vt=nt.currentTarget,dt=Vt.querySelector("div"),vt=dt.getBoundingClientRect(),Rt=Vt.getBoundingClientRect(),ii=2*parseInt(getComputedStyle(dt).paddingLeft);vt.x-ii<0&&dt.style.setProperty("transform","translateX(-".concat(Rt.left-ii,"px)")),at.br.$(".BRsearch,.BRchapter").removeClass("front"),P(nt.target).addClass("front")}).on("mouseleave",function(nt){return P(nt.target).removeClass("front")}).on("click",function(){at._updateCurrent(we.pageIndex),at.br.jumpToIndex(we.pageIndex)}),this.br.$(".BRchapter, .BRsearch").each(function(nt,Vt){var dt=P(Vt);dt.on("mouseenter",function(){return dt.addClass("front")}).on("mouseleave",function(){return dt.removeClass("front")})})}}},{key:"getOpenLibraryRecord",value:(qe=Q(K().mark(function we(){var $e,at,Ee,tt,nt,Vt;return K().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if($e=(0,S.g)(this.options.openLibraryHost,this.br.options.vars),!this.options.openLibraryId){dt.next=6;break}return at=(0,S.g)(this.options.openLibraryId,this.br.options.vars),dt.next=5,P.ajax({url:"".concat($e,"/books/").concat(at,".json")});case 5:return dt.abrupt("return",dt.sent);case 6:if(!this.options.internetArchiveId){dt.next=17;break}return tt=(0,S.g)(this.options.internetArchiveId,this.br.options.vars),nt="".concat($e,"/query.json?type=/type/edition&*=&"),dt.next=11,P.ajax({url:nt+new URLSearchParams({ocaid:tt,limit:"1"})});case 11:if((Vt=dt.sent)&&Vt.length){dt.next=16;break}return dt.next=15,P.ajax({url:nt+new URLSearchParams({source_records:"ia:".concat(tt),limit:"1"})});case 15:Vt=dt.sent;case 16:return dt.abrupt("return",(Ee=Vt)===null||Ee===void 0?void 0:Ee[0]);case 17:return dt.abrupt("return",null);case 18:case"end":return dt.stop()}},we,this)})),function(){return qe.apply(this,arguments)})},{key:"_updateCurrent",value:function(){var we,$e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.br.mode==2?Math.max.apply(Math,function(tt){if(Array.isArray(tt))return G(tt)}(we=this.br.displayedIndices)||N(we)||C(we)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()):this.br.firstIndex,at=this._tocEntries.filter(function(tt){return tt.pageIndex!=null}).reverse(),Ee=at[at.findIndex(function(tt){return tt.pageIndex<=$e})];this._chaptersPanel&&(this._chaptersPanel.currentChapter=Ee)}}]);var qe,_t}(k.S);rt==null||rt.registerPlugin("chapters",je),ct=[(0,l.EM)("br-chapters-panel")],Ge=a.WF,De=L(),Ae=function(ee){De.initializeInstanceElements(ee,Ve.elements)},Ne={F:Me=function(ee){function J(qe){var _t;return te(this,J),_t=W(this,J),Ae(_t),_t.contents=qe,_t}return Y(J,ee),fe(J)}(Ge),d:[{kind:"field",decorators:[(0,l.MZ)({type:Array})],key:"contents",value:function(){return[]}},{kind:"field",decorators:[(0,l.MZ)({type:Object})],key:"currentChapter",value:function(){return{}}},{kind:"field",key:"jumpToPage",value:function(){return function(){}}},{kind:"method",key:"render",value:function(){var ee=this;return(0,a.qy)(m||(m=q([`
    <ol>
      `,`
    </ol>
    `])),this.contents.map(function(J){return ee.renderTOCEntry(J)}))}},{kind:"method",key:"renderTOCEntry",value:function(ee){var J,qe=this,_t=[ee.label,ee.title].filter(function($e){return $e}).join(" "),we=ee.pageIndex!=null;return(0,a.qy)(y||(y=q([`
    <li
      class="
        BRtable-contents-el
        `,`
        `,`
      "
      style="`,`"
      data-event-click-tracking="`,`"
      @click="`,`"
    >
      `,`
      `,`
    </li>`])),we?"clickable":"",ee==this.currentChapter?"current":"",(0,c.W)({marginLeft:10*(ee.level-1)+"px"}),(J=we?"BRTOCPanel|GoToChapter":void 0)!=null?J:o.s6,function(){return qe.jumpToPage(ee.pageIndex)},_t,ee.pagenum?(0,a.qy)(x||(x=q([`
        <br />
        <span class="BRTOCElementPage">Page `,`</span>
      `])),ee.pagenum):a.s6)}},{kind:"method",key:"connectedCallback",value:function(){de(Me,"connectedCallback",this,3)([]),this.dispatchEvent(new CustomEvent("connected"))}},{kind:"method",key:"updated",value:function(ee){var J;ee.has("currentChapter")&&((J=this.shadowRoot.querySelector("li.current"))===null||J===void 0||J.scrollIntoView({block:"nearest",behavior:"smooth"}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,a.AH)(w||(w=q([`
      ol {
        padding: 0;
        margin: 0;
        margin-right: 5px;
      }
      li {
        padding: 10px;
        overflow: hidden;
        border-radius: 4px;
      }
      li.clickable {
        font-weight: normal;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      li.clickable:not(.current):hover {
        background-color: rgba(255,255,255, 0.05);
      }

      li.current {
        background-color: rgba(255,255,255,0.9);
        color: #333;
      }

      .BRTOCElementPage {
        font-size: 0.85em;
        opacity: .8;
      }`])))}}]},Ve=De.decorateClass(function(ee){for(var J=[],qe=function(at){return at.kind==="method"&&at.key===$e.key&&at.placement===$e.placement},_t=0;_t<ee.length;_t++){var we,$e=ee[_t];if($e.kind==="method"&&(we=J.find(qe)))if(d($e.descriptor)||d(we.descriptor)){if(v($e)||v(we))throw new ReferenceError("Duplicated methods ("+$e.key+") can't be decorated.");we.descriptor=$e.descriptor}else{if(v($e)){if(v(we))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+$e.key+").");we.decorators=$e.decorators}h($e,we)}else J.push($e)}return J}(Ne.d.map(s)),ct),De.initializeClassElements(Ne.F,Ve.elements),De.runClassFinishers(Ne.F,Ve.finishers)},9073:function(e,t,r){function a(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,p=Array(n);u<n;u++)p[u]=c[u];return p}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,x=function(P){if(Array.isArray(P))return P}(y=m.split("|").map(function(P){return P.trim()}))||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(y)||function(P,E){if(P){if(typeof P=="string")return a(P,E);var L={}.toString.call(P).slice(8,-1);return L==="Object"&&P.constructor&&(L=P.constructor.name),L==="Map"||L==="Set"?Array.from(P):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?a(P,E):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=x[0],k=x.slice(1);if(!(w in u)&&!(w in n))return g;var S=w in u?u[w]:w in n?n[w]:null;return k.map(function(P){return p[P]}).reduce(function(P,E){return E(P)},S&&S.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=9220)}]);F2=cC,{default:z2}=F2,uC=an(F2,["default"]),U2=z2!==void 0?z2:uC;});var V2={};Dn(V2,{default:()=>U2});var W2=Kt(()=>{dg();dg()});var dC,q2,G2,hC,Y2,hg=Kt(()=>{dC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[326],{706:function(e,t,r){var a=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||a&&o[c].name!==c})}},2762:function(e,t,r){var a=r(6518),l=r(3802).trim;a({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(a(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(a(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return a(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},2763:function(e,t,r){r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(113),r(3418),r(3792),r(8598),r(2062),r(4490),r(4782),r(6910),r(9572),r(2010),r(4731),r(6033),r(479),r(8130),r(9085),r(875),r(6099),r(8459),r(3362),r(825),r(7495),r(8781),r(9449),r(7764),r(2762),r(3500),r(2953);var a=r(4907),l=r(1669);function o(Me){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},o(Me)}function c(Me,De){for(var Ne=0;Ne<De.length;Ne++){var Ve=De[Ne];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(Me,u(Ve.key),Ve)}}function n(Me,De,Ne){return(De=u(De))in Me?Object.defineProperty(Me,De,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):Me[De]=Ne,Me}function u(Me){var De=function(Ne,Ve){if(o(Ne)!="object"||!Ne)return Ne;var rt=Ne[Symbol.toPrimitive];if(rt!==void 0){var je=rt.call(Ne,"string");if(o(je)!="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ne)}(Me);return o(De)=="symbol"?De:De+""}var p=function(){return Me=function Ne(Ve,rt){var je=this;(function(ee,J){if(!(ee instanceof J))throw new TypeError("Cannot call a class as a function")})(this,Ne),n(this,"selecting",!1),n(this,"startedInSelector",!1),n(this,"target",null),n(this,"_onSelectionChange",function(){var ee=window.getSelection();if(!je.selecting&&ee.toString()){var J=l(ee.anchorNode).closest(je.selector)[0];if(!J)return;je.target=J,je.selecting=!0,je.handler("started",je.target)}!je.selecting||!ee.isCollapsed&&ee.toString()&&l(ee.anchorNode).closest(je.selector)[0]||(je.selecting=!1,je.handler("cleared",je.target))}),this.selector=Ve,this.handler=rt},(De=[{key:"attach",value:function(){document.addEventListener("selectionchange",this._onSelectionChange)}},{key:"detach",value:function(){document.removeEventListener("selectionchange",this._onSelectionChange)}}])&&c(Me.prototype,De),Object.defineProperty(Me,"prototype",{writable:!1}),Me;var Me,De}(),g=r(1041),m=r(9073),y=r(1669);function x(Me){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},x(Me)}var w=d().mark(Y),k=d().mark(ce),S=d().mark(Ze),P=d().mark(ft),E=d().mark(Ae);function L(Me,De){return function(Ne){if(Array.isArray(Ne))return Ne}(Me)||function(Ne,Ve){var rt=Ne==null?null:typeof Symbol<"u"&&Ne[Symbol.iterator]||Ne["@@iterator"];if(rt!=null){var je,ee,J,qe,_t=[],we=!0,$e=!1;try{if(J=(rt=rt.call(Ne)).next,Ve===0){if(Object(rt)!==rt)return;we=!1}else for(;!(we=(je=J.call(rt)).done)&&(_t.push(je.value),_t.length!==Ve);we=!0);}catch(at){$e=!0,ee=at}finally{try{if(!we&&rt.return!=null&&(qe=rt.return(),Object(qe)!==qe))return}finally{if($e)throw ee}}return _t}}(Me,De)||h(Me,De)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(Me,De){var Ne=typeof Symbol<"u"&&Me[Symbol.iterator]||Me["@@iterator"];if(!Ne){if(Array.isArray(Me)||(Ne=h(Me))||De&&Me&&typeof Me.length=="number"){Ne&&(Me=Ne);var Ve=0,rt=function(){};return{s:rt,n:function(){return Ve>=Me.length?{done:!0}:{done:!1,value:Me[Ve++]}},e:function(qe){throw qe},f:rt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var je,ee=!0,J=!1;return{s:function(){Ne=Ne.call(Me)},n:function(){var qe=Ne.next();return ee=qe.done,qe},e:function(qe){J=!0,je=qe},f:function(){try{ee||Ne.return==null||Ne.return()}finally{if(J)throw je}}}}function h(Me,De){if(Me){if(typeof Me=="string")return v(Me,De);var Ne={}.toString.call(Me).slice(8,-1);return Ne==="Object"&&Me.constructor&&(Ne=Me.constructor.name),Ne==="Map"||Ne==="Set"?Array.from(Me):Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne)?v(Me,De):void 0}}function v(Me,De){(De==null||De>Me.length)&&(De=Me.length);for(var Ne=0,Ve=Array(De);Ne<De;Ne++)Ve[Ne]=Me[Ne];return Ve}function d(){d=function(){return De};var Me,De={},Ne=Object.prototype,Ve=Ne.hasOwnProperty,rt=Object.defineProperty||function(Qe,ht,oe){Qe[ht]=oe.value},je=typeof Symbol=="function"?Symbol:{},ee=je.iterator||"@@iterator",J=je.asyncIterator||"@@asyncIterator",qe=je.toStringTag||"@@toStringTag";function _t(Qe,ht,oe){return Object.defineProperty(Qe,ht,{value:oe,enumerable:!0,configurable:!0,writable:!0}),Qe[ht]}try{_t({},"")}catch(Qe){_t=function(ht,oe,Le){return ht[oe]=Le}}function we(Qe,ht,oe,Le){var ze=ht&&ht.prototype instanceof dt?ht:dt,yt=Object.create(ze.prototype),ut=new ke(Le||[]);return rt(yt,"_invoke",{value:Ct(Qe,oe,ut)}),yt}function $e(Qe,ht,oe){try{return{type:"normal",arg:Qe.call(ht,oe)}}catch(Le){return{type:"throw",arg:Le}}}De.wrap=we;var at="suspendedStart",Ee="suspendedYield",tt="executing",nt="completed",Vt={};function dt(){}function vt(){}function Rt(){}var ii={};_t(ii,ee,function(){return this});var ai=Object.getPrototypeOf,ui=ai&&ai(ai(Ye([])));ui&&ui!==Ne&&Ve.call(ui,ee)&&(ii=ui);var Mt=Rt.prototype=dt.prototype=Object.create(ii);function It(Qe){["next","throw","return"].forEach(function(ht){_t(Qe,ht,function(oe){return this._invoke(ht,oe)})})}function Et(Qe,ht){function oe(ze,yt,ut,Tt){var Ut=$e(Qe[ze],Qe,yt);if(Ut.type!=="throw"){var Jt=Ut.arg,Lt=Jt.value;return Lt&&x(Lt)=="object"&&Ve.call(Lt,"__await")?ht.resolve(Lt.__await).then(function(jt){oe("next",jt,ut,Tt)},function(jt){oe("throw",jt,ut,Tt)}):ht.resolve(Lt).then(function(jt){Jt.value=jt,ut(Jt)},function(jt){return oe("throw",jt,ut,Tt)})}Tt(Ut.arg)}var Le;rt(this,"_invoke",{value:function(ze,yt){function ut(){return new ht(function(Tt,Ut){oe(ze,yt,Tt,Ut)})}return Le=Le?Le.then(ut,ut):ut()}})}function Ct(Qe,ht,oe){var Le=at;return function(ze,yt){if(Le===tt)throw Error("Generator is already running");if(Le===nt){if(ze==="throw")throw yt;return{value:Me,done:!0}}for(oe.method=ze,oe.arg=yt;;){var ut=oe.delegate;if(ut){var Tt=St(ut,oe);if(Tt){if(Tt===Vt)continue;return Tt}}if(oe.method==="next")oe.sent=oe._sent=oe.arg;else if(oe.method==="throw"){if(Le===at)throw Le=nt,oe.arg;oe.dispatchException(oe.arg)}else oe.method==="return"&&oe.abrupt("return",oe.arg);Le=tt;var Ut=$e(Qe,ht,oe);if(Ut.type==="normal"){if(Le=oe.done?nt:Ee,Ut.arg===Vt)continue;return{value:Ut.arg,done:oe.done}}Ut.type==="throw"&&(Le=nt,oe.method="throw",oe.arg=Ut.arg)}}}function St(Qe,ht){var oe=ht.method,Le=Qe.iterator[oe];if(Le===Me)return ht.delegate=null,oe==="throw"&&Qe.iterator.return&&(ht.method="return",ht.arg=Me,St(Qe,ht),ht.method==="throw")||oe!=="return"&&(ht.method="throw",ht.arg=new TypeError("The iterator does not provide a '"+oe+"' method")),Vt;var ze=$e(Le,Qe.iterator,ht.arg);if(ze.type==="throw")return ht.method="throw",ht.arg=ze.arg,ht.delegate=null,Vt;var yt=ze.arg;return yt?yt.done?(ht[Qe.resultName]=yt.value,ht.next=Qe.nextLoc,ht.method!=="return"&&(ht.method="next",ht.arg=Me),ht.delegate=null,Vt):yt:(ht.method="throw",ht.arg=new TypeError("iterator result is not an object"),ht.delegate=null,Vt)}function I(Qe){var ht={tryLoc:Qe[0]};1 in Qe&&(ht.catchLoc=Qe[1]),2 in Qe&&(ht.finallyLoc=Qe[2],ht.afterLoc=Qe[3]),this.tryEntries.push(ht)}function We(Qe){var ht=Qe.completion||{};ht.type="normal",delete ht.arg,Qe.completion=ht}function ke(Qe){this.tryEntries=[{tryLoc:"root"}],Qe.forEach(I,this),this.reset(!0)}function Ye(Qe){if(Qe||Qe===""){var ht=Qe[ee];if(ht)return ht.call(Qe);if(typeof Qe.next=="function")return Qe;if(!isNaN(Qe.length)){var oe=-1,Le=function ze(){for(;++oe<Qe.length;)if(Ve.call(Qe,oe))return ze.value=Qe[oe],ze.done=!1,ze;return ze.value=Me,ze.done=!0,ze};return Le.next=Le}}throw new TypeError(x(Qe)+" is not iterable")}return vt.prototype=Rt,rt(Mt,"constructor",{value:Rt,configurable:!0}),rt(Rt,"constructor",{value:vt,configurable:!0}),vt.displayName=_t(Rt,qe,"GeneratorFunction"),De.isGeneratorFunction=function(Qe){var ht=typeof Qe=="function"&&Qe.constructor;return!!ht&&(ht===vt||(ht.displayName||ht.name)==="GeneratorFunction")},De.mark=function(Qe){return Object.setPrototypeOf?Object.setPrototypeOf(Qe,Rt):(Qe.__proto__=Rt,_t(Qe,qe,"GeneratorFunction")),Qe.prototype=Object.create(Mt),Qe},De.awrap=function(Qe){return{__await:Qe}},It(Et.prototype),_t(Et.prototype,J,function(){return this}),De.AsyncIterator=Et,De.async=function(Qe,ht,oe,Le,ze){ze===void 0&&(ze=Promise);var yt=new Et(we(Qe,ht,oe,Le),ze);return De.isGeneratorFunction(ht)?yt:yt.next().then(function(ut){return ut.done?ut.value:yt.next()})},It(Mt),_t(Mt,qe,"Generator"),_t(Mt,ee,function(){return this}),_t(Mt,"toString",function(){return"[object Generator]"}),De.keys=function(Qe){var ht=Object(Qe),oe=[];for(var Le in ht)oe.push(Le);return oe.reverse(),function ze(){for(;oe.length;){var yt=oe.pop();if(yt in ht)return ze.value=yt,ze.done=!1,ze}return ze.done=!0,ze}},De.values=Ye,ke.prototype={constructor:ke,reset:function(Qe){if(this.prev=0,this.next=0,this.sent=this._sent=Me,this.done=!1,this.delegate=null,this.method="next",this.arg=Me,this.tryEntries.forEach(We),!Qe)for(var ht in this)ht.charAt(0)==="t"&&Ve.call(this,ht)&&!isNaN(+ht.slice(1))&&(this[ht]=Me)},stop:function(){this.done=!0;var Qe=this.tryEntries[0].completion;if(Qe.type==="throw")throw Qe.arg;return this.rval},dispatchException:function(Qe){if(this.done)throw Qe;var ht=this;function oe(Ut,Jt){return yt.type="throw",yt.arg=Qe,ht.next=Ut,Jt&&(ht.method="next",ht.arg=Me),!!Jt}for(var Le=this.tryEntries.length-1;Le>=0;--Le){var ze=this.tryEntries[Le],yt=ze.completion;if(ze.tryLoc==="root")return oe("end");if(ze.tryLoc<=this.prev){var ut=Ve.call(ze,"catchLoc"),Tt=Ve.call(ze,"finallyLoc");if(ut&&Tt){if(this.prev<ze.catchLoc)return oe(ze.catchLoc,!0);if(this.prev<ze.finallyLoc)return oe(ze.finallyLoc)}else if(ut){if(this.prev<ze.catchLoc)return oe(ze.catchLoc,!0)}else{if(!Tt)throw Error("try statement without catch or finally");if(this.prev<ze.finallyLoc)return oe(ze.finallyLoc)}}}},abrupt:function(Qe,ht){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var Le=this.tryEntries[oe];if(Le.tryLoc<=this.prev&&Ve.call(Le,"finallyLoc")&&this.prev<Le.finallyLoc){var ze=Le;break}}ze&&(Qe==="break"||Qe==="continue")&&ze.tryLoc<=ht&&ht<=ze.finallyLoc&&(ze=null);var yt=ze?ze.completion:{};return yt.type=Qe,yt.arg=ht,ze?(this.method="next",this.next=ze.finallyLoc,Vt):this.complete(yt)},complete:function(Qe,ht){if(Qe.type==="throw")throw Qe.arg;return Qe.type==="break"||Qe.type==="continue"?this.next=Qe.arg:Qe.type==="return"?(this.rval=this.arg=Qe.arg,this.method="return",this.next="end"):Qe.type==="normal"&&ht&&(this.next=ht),Vt},finish:function(Qe){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var oe=this.tryEntries[ht];if(oe.finallyLoc===Qe)return this.complete(oe.completion,oe.afterLoc),We(oe),Vt}},catch:function(Qe){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var oe=this.tryEntries[ht];if(oe.tryLoc===Qe){var Le=oe.completion;if(Le.type==="throw"){var ze=Le.arg;We(oe)}return ze}}throw Error("illegal catch attempt")},delegateYield:function(Qe,ht,oe){return this.delegate={iterator:Ye(Qe),resultName:ht,nextLoc:oe},this.method==="next"&&(this.arg=Me),Vt}},De}function _(Me,De,Ne,Ve,rt,je,ee){try{var J=Me[je](ee),qe=J.value}catch(_t){return void Ne(_t)}J.done?De(qe):Promise.resolve(qe).then(Ve,rt)}function C(Me){return function(){var De=this,Ne=arguments;return new Promise(function(Ve,rt){var je=Me.apply(De,Ne);function ee(qe){_(je,Ve,rt,ee,J,"next",qe)}function J(qe){_(je,Ve,rt,ee,J,"throw",qe)}ee(void 0)})}}function N(Me,De,Ne){return De=q(De),function(Ve,rt){if(rt&&(x(rt)=="object"||typeof rt=="function"))return rt;if(rt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(je){if(je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return je}(Ve)}(Me,G()?Reflect.construct(De,Ne||[],q(Me).constructor):De.apply(Me,Ne))}function G(){try{var Me=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(De){}return(G=function(){return!!Me})()}function q(Me){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(De){return De.__proto__||Object.getPrototypeOf(De)},q(Me)}function K(Me,De){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ne,Ve){return Ne.__proto__=Ve,Ne},K(Me,De)}function ie(Me,De,Ne){return(De=fe(De))in Me?Object.defineProperty(Me,De,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):Me[De]=Ne,Me}function Q(Me,De){if(!(Me instanceof De))throw new TypeError("Cannot call a class as a function")}function te(Me,De){for(var Ne=0;Ne<De.length;Ne++){var Ve=De[Ne];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(Me,fe(Ve.key),Ve)}}function Oe(Me,De,Ne){return De&&te(Me.prototype,De),Ne&&te(Me,Ne),Object.defineProperty(Me,"prototype",{writable:!1}),Me}function fe(Me){var De=function(Ne,Ve){if(x(Ne)!="object"||!Ne)return Ne;var rt=Ne[Symbol.toPrimitive];if(rt!==void 0){var je=rt.call(Ne,"string");if(x(je)!="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ne)}(Me);return x(De)=="symbol"?De:De+""}var W=window.BookReader,ae=function(){return Oe(function Me(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;Q(this,Me),this.maxSize=De,this.entries=[]},[{key:"add",value:function(Me){this.entries.length>=this.maxSize&&this.entries.shift(),this.entries.push(Me)}}])}(),de=function(Me){function De(rt){var je;return Q(this,De),ie(je=N(this,De,[rt]),"options",{enabled:!0,fullDjvuXmlUrl:null,singlePageDjvuXmlUrl:null,jsonp:!1,maxProtectedWords:200}),ie(je,"djvuPagesPromise",null),ie(je,"pageTextCache",new ae),ie(je,"maxWordRendered",2500),ie(je,"_limitSelection",function(){var ee=window.getSelection();if(ee.rangeCount){var J=ee.getRangeAt(0),qe=!!J.startContainer.parentElement.closest(".BRcontainer"),_t=!!J.endContainer.parentElement.closest(".BRcontainer");if(qe||_t)if(qe&&_t){var we=function(at,Ee){var tt,nt=0,Vt=s(at);try{for(Vt.s();!(tt=Vt.n()).done;){var dt=tt.value;if(nt==Ee)return dt;nt++}}catch(vt){Vt.e(vt)}finally{Vt.f()}}(Y(Ae(J.startContainer,J.endContainer),function(at){var Ee;return(Ee=at.classList)===null||Ee===void 0?void 0:Ee.contains("BRwordElement")}),je.options.maxProtectedWords-1);if(we&&J.endContainer.parentNode!=we){var $e=document.createRange();$e.setStart(J.startContainer,J.startOffset),$e.setEnd(we.firstChild,we.textContent.length),ee.removeAllRanges(),ee.addRange($e)}}else ee.removeAllRanges()}}),ie(je,"_onSelectionChange",function(ee,J){if(ee==="started")je.textSelectingMode(J);else{if(ee!=="cleared")throw new Error("Unknown type ".concat(ee));je.defaultMode(J)}}),je.rtl=je.br.pageProgression==="rl",je.selectionObserver=new p(".BRtextLayer",je._onSelectionChange),je}return function(rt,je){if(typeof je!="function"&&je!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(je&&je.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),Object.defineProperty(rt,"prototype",{writable:!1}),je&&K(rt,je)}(De,Me),Oe(De,[{key:"init",value:function(){var rt=this;this.options.enabled&&(this.loadData(),this.selectionObserver.attach(),new p(".BRtextLayer",function(je){var ee;je=="started"&&((ee=rt.br.plugins.archiveAnalytics)===null||ee===void 0||ee.sendEvent("BookReader","SelectStart"),rt.br.refs.$br.find(".BRpagecontainer--hasSelection").removeClass("BRpagecontainer--hasSelection"),y(window.getSelection().anchorNode).closest(".BRpagecontainer").addClass("BRpagecontainer--hasSelection"))}).attach(),this.br.protected&&(document.addEventListener("selectionchange",this._limitSelection),y(document.body).on("contextmenu dragstart copy",function(je){var ee=document.getSelection();if(ee!=null&&ee.toString()&&y(".BRtextLayer").toArray().some(function(J){return ee.containsNode(J,!0)}))return je.preventDefault(),!1})))}},{key:"_configurePageContainer",value:function(rt){return this.br.mode!==this.br.constModeThumb&&rt.page&&this.createTextLayer(rt),rt}},{key:"loadData",value:function(){this.options.singlePageDjvuXmlUrl||(this.djvuPagesPromise=y.ajax({type:"GET",url:(0,m.g)(this.options.fullDjvuXmlUrl,this.br.options.vars),dataType:this.options.jsonp?"jsonp":"html",cache:!0,xhrFields:{withCredentials:this.br.protected},error:function(rt){}}).then(function(rt){try{var je=y.parseXML(rt);return je&&y(je).find("OBJECT")}catch(ee){return}}))}},{key:"getPageText",value:(Ve=C(d().mark(function rt(je){var ee,J,qe,_t,we;return d().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(!this.options.singlePageDjvuXmlUrl){$e.next=19;break}if(!(ee=this.pageTextCache.entries.find(function(at){return at.index==je}))){$e.next=4;break}return $e.abrupt("return",ee.response);case 4:return $e.next=6,y.ajax({type:"GET",url:(0,m.g)(this.options.singlePageDjvuXmlUrl,this.br.options.vars,{pageIndex:je}),dataType:this.options.jsonp?"jsonp":"html",cache:!0,xhrFields:{withCredentials:this.br.protected},error:function(at){}});case 6:return J=$e.sent,$e.prev=7,qe=y.parseXML(J),_t=qe&&y(qe).find("OBJECT")[0],this.pageTextCache.add({index:je,response:_t}),$e.abrupt("return",_t);case 14:return $e.prev=14,$e.t0=$e.catch(7),$e.abrupt("return",void 0);case 17:$e.next=24;break;case 19:return $e.next=21,this.djvuPagesPromise;case 21:if(!(we=$e.sent)){$e.next=24;break}return $e.abrupt("return",we[je]);case 24:case"end":return $e.stop()}},rt,this,[[7,14]])})),function(rt){return Ve.apply(this,arguments)})},{key:"interceptCopy",value:function(rt){rt[0].addEventListener("copy",function(je){var ee=document.getSelection();je.clipboardData.setData("text/plain",ee.toString()),je.preventDefault()})}},{key:"defaultMode",value:function(rt){var je=this,ee=y(rt).closest(".BRpagecontainer");rt.style.pointerEvents="none",ee.find("img").css("pointer-events","auto"),y(rt).off(".textSelectPluginHandler");var J=this.mouseIsDown,qe=this.mouseIsDown;J&&(rt.style.pointerEvents="auto"),y(rt).on("mousedown.textSelectPluginHandler",function(_t){je.mouseIsDown=!0,y(_t.target).is(".BRwordElement, .BRspace")&&_t.stopPropagation()}),y(rt).on("mouseup.textSelectPluginHandler",function(_t){je.mouseIsDown=!1,rt.style.pointerEvents="none",qe&&(qe=!1,_t.stopPropagation())})}},{key:"textSelectingMode",value:function(rt){var je=this,ee=y(rt).closest(".BRpagecontainer");rt.style.pointerEvents="all",ee.find("img").css("pointer-events","none"),y(rt).off(".textSelectPluginHandler"),y(rt).on("mousedown.textSelectPluginHandler",function(J){je.mouseIsDown=!0,J.stopPropagation()}),y(rt).on("mouseup.textSelectPluginHandler",function(J){je.mouseIsDown=!1,J.stopPropagation()})}},{key:"stopPageFlip",value:function(rt){var je=this,ee=rt.find(".BRtextLayer");ee.length&&(ee.each(function(J,qe){return je.defaultMode(qe)}),this.br.protected||this.interceptCopy(rt))}},{key:"createTextLayer",value:(Ne=C(d().mark(function rt(je){var ee,J,qe,_t,we,$e,at,Ee,tt,nt,Vt,dt,vt,Rt,ii,ai,ui,Mt,It,Et,Ct,St,I,We,ke=this;return d().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(ee=je.page.index,!(J=je.$container).find(".BRtextLayer").length){Ye.next=5;break}return Ye.abrupt("return");case 5:return Ye.next=7,this.getPageText(ee);case 7:if(qe=Ye.sent){Ye.next=10;break}return Ye.abrupt("return");case 10:if(ct(qe),!((_t=y(qe).find("WORD").length)>this.maxWordRendered)){Ye.next=15;break}return console.log("Page ".concat(ee," has too many words (").concat(_t," > ").concat(this.maxWordRendered,"). Not rendering text layer.")),Ye.abrupt("return");case 15:we=(0,a.Ql)(je.page,"BRtextLayer"),$e=parseFloat(je.$container[0].style.width)/je.page.width,at=parseFloat(je.$container[0].style.height)/je.page.height,we.style.transform="scale(".concat($e,", ").concat(at,")"),we.setAttribute("dir",this.rtl?"rtl":"ltr"),Ee=y(qe).find("PARAGRAPH[coords]").toArray(),tt=Ee.map(function(Qe){var ht=ke.renderParagraph(Qe);return we.appendChild(ht),ht}),nt=Z(we,".BRparagraphElement"),Vt=0,dt=s(ft(Ee,tt));try{for(dt.s();!(vt=dt.n()).done;)Rt=L(vt.value,2),ii=Rt[0],ai=Rt[1],ui=y(ii).attr("coords").split(",").map(parseFloat),Mt=nt.get(ai),It=L(ui,4),Et=It[0],Ct=It[2],St=It[3],I=this.rtl?Mt.right-Ct:Et-Mt.left,We=St-(Mt.top+Vt),ai.style[this.rtl?"marginRight":"marginLeft"]="".concat(I,"px"),ai.style.marginTop="".concat(We,"px"),Vt+=We,we.appendChild(ai)}catch(Qe){dt.e(Qe)}finally{dt.f()}J.append(we),this.stopPageFlip(J);case 28:case"end":return Ye.stop()}},rt,this)})),function(rt){return Ne.apply(this,arguments)})},{key:"renderParagraph",value:function(rt){var je=document.createElement("p");je.classList.add("BRparagraphElement");var ee=L(y(rt).attr("coords").split(",").map(parseFloat),4),J=ee[0],qe=ee[1],_t=ee[2],we=ee[3],$e=[],at=y(rt).find("LINE[coords]").toArray();if(!at.length)return je;var Ee,tt=s(Ze(ce(at,ye)));try{for(tt.s();!(Ee=tt.n()).done;){var nt=L(Ee.value,3),Vt=nt[0],dt=nt[1],vt=nt[2],Rt=dt.ocrElement==at[at.length-1],ii=document.createElement("span");ii.classList.add("BRlineElement");var ai,ui=s(dt.words.entries());try{for(ui.s();!(ai=ui.n()).done;){var Mt=L(ai.value,2),It=Mt[0],Et=Mt[1],Ct=L(y(Et).attr("coords").split(",").map(parseFloat),4),St=Ct[1],I=Ct[2],We=Ct[3],ke=St-We;if($e.push(ke),It==0&&Vt!=null&&Vt.lastWord.textContent.trim().endsWith("-")){var Ye=L(y((vt||Vt).firstWord).attr("coords").split(",").map(parseFloat),3)[0];y(Et).attr("coords","".concat(Ye,",").concat(St,",").concat(I,",").concat(We))}var Qe=document.createElement("span");if(Qe.setAttribute("class","BRwordElement"),Qe.textContent=Et.textContent.trim(),It>0){var ht=document.createElement("span");ht.classList.add("BRspace"),ht.textContent=" ",ii.append(ht),ii.appendChild(document.createTextNode(" "))}ii.appendChild(Qe)}}catch($r){ui.e($r)}finally{ui.f()}var oe=dt.lastWord.textContent.trim().endsWith("-"),Le=ii.children[ii.children.length-1];oe&&!Rt&&(Le.textContent=Le.textContent.trim().slice(0,-1),Le.classList.add("BRwordElement--hyphen")),je.appendChild(ii),Rt||oe||je.appendChild(document.createTextNode(" "))}}catch($r){tt.e($r)}finally{tt.f()}$e.sort(function($r,jr){return $r-jr});var ze=$e[Math.floor(.85*$e.length)]+4;je.style.left="".concat(J,"px"),je.style.top="".concat(we,"px"),je.style.width="".concat(_t-J,"px"),je.style.height="".concat(qe-we,"px"),je.style.fontSize="".concat(ze,"px");var yt,ut=Z(je,".BRwordElement"),Tt=s(ft(y(rt).find("WORD").toArray(),je.querySelectorAll(".BRwordElement")));try{for(Tt.s();!(yt=Tt.n()).done;){var Ut=L(yt.value,2),Jt=Ut[0],Lt=Ut[1],jt=ut.get(Lt),Je=L(y(Jt).attr("coords").split(",").map(parseFloat),3),Re=Je[0],Be=Je[2]-Re;Jt.textContent.endsWith(" ")&&(Be=Be*(Jt.textContent.length-1)/Jt.textContent.length);var it=Be-jt.width;Lt.style.letterSpacing="".concat(it/(Jt.textContent.length-1),"px")}}catch($r){Tt.e($r)}finally{Tt.f()}ut=Z(je,".BRwordElement");var Pt,Ht,et=Z(je,".BRspace"),xt=y(rt).find("LINE[coords]").toArray(),kt=Array.from(je.querySelectorAll(".BRlineElement")),Xt=we,Xe=s(ft(xt,kt));try{for(Xe.s();!(Pt=Xe.n()).done;){var ni,ti=L(Pt.value,2),Ai=ti[0],qt=ti[1],ci=y(Ai).find("WORD").toArray(),Ti=this.rtl?_t:J,Mi=s(ft(ci,qt.querySelectorAll(".BRwordElement")));try{for(Mi.s();!(ni=Mi.n()).done;){var ir=L(ni.value,2),Ki=ir[0],Gi=ir[1],Sr=ut.get(Gi),tr=L(y(Ki).attr("coords").split(",").map(parseFloat),3),yr=tr[0],_r=tr[2],Pr=this.rtl?-(_r-Ti):yr-Ti;if(Gi.previousElementSibling){var Jr=Gi.previousElementSibling;Jr.style.letterSpacing="".concat(Pr-et.get(Jr).width,"px")}else Gi.style[this.rtl?"paddingRight":"paddingLeft"]="".concat(Pr,"px");this.rtl?Ti-=Pr+Sr.width:Ti+=Pr+Sr.width}}catch($r){Mi.e($r)}finally{Mi.f()}var cn=Math.min.apply(Math,function($r){if(Array.isArray($r))return v($r)}(Ht=ci.map(function($r){return parseFloat(y($r).attr("coords").split(",")[3])}))||function($r){if(typeof Symbol<"u"&&$r[Symbol.iterator]!=null||$r["@@iterator"]!=null)return Array.from($r)}(Ht)||h(Ht)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())-Xt;qt.previousElementSibling&&(qt.previousElementSibling.style.lineHeight="".concat(cn,"px"),Xt+=cn)}}catch($r){Xe.e($r)}finally{Xe.f()}return kt[kt.length-1].style.lineHeight="".concat(qe-Xt,"px"),je.appendChild(document.createElement("br")),je}}]);var Ne,Ve}(g.S);function Z(Me,De){var Ne={position:Me.style.position,visibility:Me.style.visibility,top:Me.style.top,left:Me.style.left,transform:Me.style.transform};Me.style.position="absolute",Me.style.visibility="hidden",Me.style.top="0",Me.style.left="0",Me.style.transform="none",document.body.appendChild(Me);var Ve=new Map(Array.from(Me.querySelectorAll(De)).map(function(rt){var je=rt.getBoundingClientRect();return[rt,new Ge(je.left+window.scrollX,je.top+window.scrollY,je.width,je.height)]}));return document.body.removeChild(Me),Object.assign(Me.style,Ne),Ve}function ye(Me){var De=y(Me).find("WORD").toArray();return{ocrElement:Me,words:De,firstWord:De[0],lastWord:De[De.length-1]}}function Y(Me,De){var Ne,Ve,rt;return d().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:Ne=s(Me),je.prev=1,Ne.s();case 3:if((Ve=Ne.n()).done){je.next=10;break}if(rt=Ve.value,!De(rt)){je.next=8;break}return je.next=8,rt;case 8:je.next=3;break;case 10:je.next=15;break;case 12:je.prev=12,je.t0=je.catch(1),Ne.e(je.t0);case 15:return je.prev=15,Ne.f(),je.finish(15);case 18:case"end":return je.stop()}},w,null,[[1,12,15,18]])}function ce(Me,De){var Ne,Ve,rt;return d().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:Ne=s(Me),je.prev=1,Ne.s();case 3:if((Ve=Ne.n()).done){je.next=9;break}return rt=Ve.value,je.next=7,De(rt);case 7:je.next=3;break;case 9:je.next=14;break;case 11:je.prev=11,je.t0=je.catch(1),Ne.e(je.t0);case 14:return je.prev=14,Ne.f(),je.finish(14);case 17:case"end":return je.stop()}},k,null,[[1,11,14,17]])}function Ze(Me){var De,Ne,Ve,rt,je,ee;return d().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:De=void 0,Ne=void 0,Ve=void 0,rt=s(Me),J.prev=4,rt.s();case 6:if((je=rt.n()).done){J.next=17;break}if(ee=je.value,Ne===void 0){J.next=12;break}return Ve=ee,J.next=12,[De,Ne,Ve];case 12:De=Ne,Ne=ee,Ve=void 0;case 15:J.next=6;break;case 17:J.next=22;break;case 19:J.prev=19,J.t0=J.catch(4),rt.e(J.t0);case 22:return J.prev=22,rt.f(),J.finish(22);case 25:if(Ne===void 0){J.next=28;break}return J.next=28,[De,Ne,Ve];case 28:case"end":return J.stop()}},S,null,[[4,19,22,25]])}function ft(Me,De){var Ne,Ve,rt,je;return d().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:Ne=Me[Symbol.iterator](),Ve=De[Symbol.iterator]();case 2:if(rt=Ne.next(),je=Ve.next(),!rt.done||!je.done){ee.next=7;break}return ee.abrupt("return");case 7:if(!rt.done&&!je.done){ee.next=9;break}throw new Error("zip: one of the iterators is done");case 9:return ee.next=11,[rt.value,je.value];case 11:ee.next=2;break;case 13:case"end":return ee.stop()}},P)}function ct(Me){if(!y(Me).attr("coords")&&Me.children){var De=y(Me).children().toArray();if(De.length!==0){var Ne,Ve=s(De);try{for(Ve.s();!(Ne=Ve.n()).done;)ct(Ne.value)}catch(_t){Ve.e(_t)}finally{Ve.f()}var rt,je=[],ee=s(De);try{for(ee.s();!(rt=ee.n()).done;){var J=rt.value;y(J).attr("coords")&&je.push(y(J).attr("coords").split(",").map(parseFloat))}}catch(_t){ee.e(_t)}finally{ee.f()}var qe=function(_t){var we,$e=1/0,at=-1/0,Ee=-1/0,tt=1/0,nt=s(_t);try{for(nt.s();!(we=nt.n()).done;){var Vt=L(we.value,4),dt=Vt[0],vt=Vt[1],Rt=Vt[2],ii=Vt[3];$e=Math.min($e,dt),at=Math.max(at,vt),Ee=Math.max(Ee,Rt),tt=Math.min(tt,ii)}}catch(ai){nt.e(ai)}finally{nt.f()}return[$e,at,Ee,tt]}(je);Math.abs(qe[0])!=1/0&&y(Me).attr("coords",qe.join(","))}}}W==null||W.registerPlugin("textSelection",de);var Ge=function(){return Oe(function Me(De,Ne,Ve,rt){Q(this,Me),this.x=De,this.y=Ne,this.width=Ve,this.height=rt},[{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"top",get:function(){return this.y}},{key:"left",get:function(){return this.x}}])}();function Ae(Me,De){var Ne,Ve;return d().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return Ve=function(je){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=ee.children,qe=J===void 0||J,_t=ee.parents,we=_t===void 0||_t,$e=ee.siblings,at=$e===void 0||$e;return d().mark(function Ee(){var tt;return d().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(je!==De){nt.next=5;break}return Ne=!0,nt.next=4,je;case 4:return nt.abrupt("return");case 5:return nt.next=7,je;case 7:if(!qe||!je.firstChild){nt.next=11;break}return nt.delegateYield(Ve(je.firstChild,{children:!0,parents:!1,siblings:!0}),"t0",9);case 9:if(!Ne){nt.next=11;break}return nt.abrupt("return");case 11:if(!at){nt.next=20;break}tt=je.nextSibling;case 13:if(!tt){nt.next=20;break}return nt.delegateYield(Ve(tt,{children:!0,parents:!1,siblings:!1}),"t1",15);case 15:if(!Ne){nt.next=17;break}return nt.abrupt("return");case 17:tt=tt.nextSibling,nt.next=13;break;case 20:if(!we||!je.parentNode){nt.next=24;break}return nt.delegateYield(Ve(je.parentNode,{children:!1,parents:!0,siblings:!0}),"t2",22);case 22:if(!Ne){nt.next=24;break}return nt.abrupt("return");case 24:case"end":return nt.stop()}},Ee)})()},Ne=!1,rt.delegateYield(Ve(Me),"t0",3);case 3:case"end":return rt.stop()}},E)}},9073:function(e,t,r){function a(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,p=Array(n);u<n;u++)p[u]=c[u];return p}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,x=function(P){if(Array.isArray(P))return P}(y=m.split("|").map(function(P){return P.trim()}))||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(y)||function(P,E){if(P){if(typeof P=="string")return a(P,E);var L={}.toString.call(P).slice(8,-1);return L==="Object"&&P.constructor&&(L=P.constructor.name),L==="Map"||L==="Set"?Array.from(P):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?a(P,E):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=x[0],k=x.slice(1);if(!(w in u)&&!(w in n))return g;var S=w in u?u[w]:w in n?n[w]:null;return k.map(function(P){return p[P]}).reduce(function(P,E){return E(P)},S&&S.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=2763)}]);q2=dC,{default:G2}=q2,hC=an(q2,["default"]),Y2=G2!==void 0?G2:hC;});var K2={};Dn(K2,{default:()=>Y2});var X2=Kt(()=>{hg();hg()});var pC,Z2,J2,fC,Q2,pg=Kt(()=>{pC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[830],{3921:function(e,t,r){var a=r(6518),l=r(2652),o=r(4659);a({target:"Object",stat:!0},{fromEntries:function(c){var n={};return l(c,function(u,p){o(n,u,p)},{AS_ENTRIES:!0}),n}})},1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(a(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(a(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return a(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},6732:function(e,t,r){r(2675),r(9463),r(5700),r(6412),r(2259),r(8125),r(8706),r(4490),r(4782),r(4731),r(479),r(875),r(825),r(8781),r(7764),r(2953),r(113),r(3792),r(2062),r(3418),r(4554),r(739),r(9572),r(2010),r(8130),r(9085),r(2811),r(3921),r(3851),r(9432),r(6099),r(3362),r(888),r(7495),r(5440),r(3500);var a,l,o,c,n,u,p=r(420),g=r(1041),m=r(9696),y=r(8004);function x(Ge){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},x(Ge)}function w(Ge,Ae,Me,De){var Ne=k();if(De)for(var Ve=0;Ve<De.length;Ve++)Ne=De[Ve](Ne);var rt=Ae(function(ee){Ne.initializeInstanceElements(ee,je.elements)},Me),je=Ne.decorateClass(function(ee){for(var J=[],qe=function(at){return at.kind==="method"&&at.key===$e.key&&at.placement===$e.placement},_t=0;_t<ee.length;_t++){var we,$e=ee[_t];if($e.kind==="method"&&(we=J.find(qe)))if(L($e.descriptor)||L(we.descriptor)){if(E($e)||E(we))throw new ReferenceError("Duplicated methods ("+$e.key+") can't be decorated.");we.descriptor=$e.descriptor}else{if(E($e)){if(E(we))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+$e.key+").");we.decorators=$e.decorators}P($e,we)}else J.push($e)}return J}(rt.d.map(S)),Ge);return Ne.initializeClassElements(rt.F,je.elements),Ne.runClassFinishers(rt.F,je.finishers)}function k(){k=function(){return Ge};var Ge={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(Ae,Me){["method","field"].forEach(function(De){Me.forEach(function(Ne){Ne.kind===De&&Ne.placement==="own"&&this.defineClassElement(Ae,Ne)},this)},this)},initializeClassElements:function(Ae,Me){var De=Ae.prototype;["method","field"].forEach(function(Ne){Me.forEach(function(Ve){var rt=Ve.placement;if(Ve.kind===Ne&&(rt==="static"||rt==="prototype")){var je=rt==="static"?Ae:De;this.defineClassElement(je,Ve)}},this)},this)},defineClassElement:function(Ae,Me){var De=Me.descriptor;if(Me.kind==="field"){var Ne=Me.initializer;De={enumerable:De.enumerable,writable:De.writable,configurable:De.configurable,value:Ne===void 0?void 0:Ne.call(Ae)}}Object.defineProperty(Ae,Me.key,De)},decorateClass:function(Ae,Me){var De=[],Ne=[],Ve={static:[],prototype:[],own:[]};if(Ae.forEach(function(je){this.addElementPlacement(je,Ve)},this),Ae.forEach(function(je){if(!E(je))return De.push(je);var ee=this.decorateElement(je,Ve);De.push(ee.element),De.push.apply(De,ee.extras),Ne.push.apply(Ne,ee.finishers)},this),!Me)return{elements:De,finishers:Ne};var rt=this.decorateConstructor(De,Me);return Ne.push.apply(Ne,rt.finishers),rt.finishers=Ne,rt},addElementPlacement:function(Ae,Me,De){var Ne=Me[Ae.placement];if(!De&&Ne.indexOf(Ae.key)!==-1)throw new TypeError("Duplicated element ("+Ae.key+")");Ne.push(Ae.key)},decorateElement:function(Ae,Me){for(var De=[],Ne=[],Ve=Ae.decorators,rt=Ve.length-1;rt>=0;rt--){var je=Me[Ae.placement];je.splice(je.indexOf(Ae.key),1);var ee=this.fromElementDescriptor(Ae),J=this.toElementFinisherExtras((0,Ve[rt])(ee)||ee);Ae=J.element,this.addElementPlacement(Ae,Me),J.finisher&&Ne.push(J.finisher);var qe=J.extras;if(qe){for(var _t=0;_t<qe.length;_t++)this.addElementPlacement(qe[_t],Me);De.push.apply(De,qe)}}return{element:Ae,finishers:Ne,extras:De}},decorateConstructor:function(Ae,Me){for(var De=[],Ne=Me.length-1;Ne>=0;Ne--){var Ve=this.fromClassDescriptor(Ae),rt=this.toClassDescriptor((0,Me[Ne])(Ve)||Ve);if(rt.finisher!==void 0&&De.push(rt.finisher),rt.elements!==void 0){Ae=rt.elements;for(var je=0;je<Ae.length-1;je++)for(var ee=je+1;ee<Ae.length;ee++)if(Ae[je].key===Ae[ee].key&&Ae[je].placement===Ae[ee].placement)throw new TypeError("Duplicated element ("+Ae[je].key+")")}}return{elements:Ae,finishers:De}},fromElementDescriptor:function(Ae){var Me={kind:Ae.kind,key:Ae.key,placement:Ae.placement,descriptor:Ae.descriptor};return Object.defineProperty(Me,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Ae.kind==="field"&&(Me.initializer=Ae.initializer),Me},toElementDescriptors:function(Ae){if(Ae!==void 0)return(Me=Ae,function(De){if(Array.isArray(De))return De}(Me)||function(De){if(typeof Symbol<"u"&&De[Symbol.iterator]!=null||De["@@iterator"]!=null)return Array.from(De)}(Me)||C(Me)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(De){var Ne=this.toElementDescriptor(De);return this.disallowProperty(De,"finisher","An element descriptor"),this.disallowProperty(De,"extras","An element descriptor"),Ne},this);var Me},toElementDescriptor:function(Ae){var Me=Ae.kind+"";if(Me!=="method"&&Me!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+Me+'"');var De=ye(Ae.key),Ne=Ae.placement+"";if(Ne!=="static"&&Ne!=="prototype"&&Ne!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+Ne+'"');var Ve=Ae.descriptor;this.disallowProperty(Ae,"elements","An element descriptor");var rt={kind:Me,key:De,placement:Ne,descriptor:Object.assign({},Ve)};return Me!=="field"?this.disallowProperty(Ae,"initializer","A method descriptor"):(this.disallowProperty(Ve,"get","The property descriptor of a field descriptor"),this.disallowProperty(Ve,"set","The property descriptor of a field descriptor"),this.disallowProperty(Ve,"value","The property descriptor of a field descriptor"),rt.initializer=Ae.initializer),rt},toElementFinisherExtras:function(Ae){return{element:this.toElementDescriptor(Ae),finisher:s(Ae,"finisher"),extras:this.toElementDescriptors(Ae.extras)}},fromClassDescriptor:function(Ae){var Me={kind:"class",elements:Ae.map(this.fromElementDescriptor,this)};return Object.defineProperty(Me,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Me},toClassDescriptor:function(Ae){var Me=Ae.kind+"";if(Me!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+Me+'"');this.disallowProperty(Ae,"key","A class descriptor"),this.disallowProperty(Ae,"placement","A class descriptor"),this.disallowProperty(Ae,"descriptor","A class descriptor"),this.disallowProperty(Ae,"initializer","A class descriptor"),this.disallowProperty(Ae,"extras","A class descriptor");var De=s(Ae,"finisher");return{elements:this.toElementDescriptors(Ae.elements),finisher:De}},runClassFinishers:function(Ae,Me){for(var De=0;De<Me.length;De++){var Ne=(0,Me[De])(Ae);if(Ne!==void 0){if(typeof Ne!="function")throw new TypeError("Finishers must return a constructor.");Ae=Ne}}return Ae},disallowProperty:function(Ae,Me,De){if(Ae[Me]!==void 0)throw new TypeError(De+" can't have a ."+Me+" property.")}};return Ge}function S(Ge){var Ae,Me=ye(Ge.key);Ge.kind==="method"?Ae={value:Ge.value,writable:!0,configurable:!0,enumerable:!1}:Ge.kind==="get"?Ae={get:Ge.value,configurable:!0,enumerable:!1}:Ge.kind==="set"?Ae={set:Ge.value,configurable:!0,enumerable:!1}:Ge.kind==="field"&&(Ae={configurable:!0,writable:!0,enumerable:!0});var De={kind:Ge.kind==="field"?"field":"method",key:Me,placement:Ge.static?"static":Ge.kind==="field"?"own":"prototype",descriptor:Ae};return Ge.decorators&&(De.decorators=Ge.decorators),Ge.kind==="field"&&(De.initializer=Ge.value),De}function P(Ge,Ae){Ge.descriptor.get!==void 0?Ae.descriptor.get=Ge.descriptor.get:Ae.descriptor.set=Ge.descriptor.set}function E(Ge){return Ge.decorators&&Ge.decorators.length}function L(Ge){return Ge!==void 0&&!(Ge.value===void 0&&Ge.writable===void 0)}function s(Ge,Ae){var Me=Ge[Ae];if(Me!==void 0&&typeof Me!="function")throw new TypeError("Expected '"+Ae+"' to be a function");return Me}function h(Ge,Ae,Me,De){var Ne=v(K(1&De?Ge.prototype:Ge),Ae,Me);return 2&De&&typeof Ne=="function"?function(Ve){return Ne.apply(Me,Ve)}:Ne}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Ge,Ae,Me){var De=function(Ve,rt){for(;!{}.hasOwnProperty.call(Ve,rt)&&(Ve=K(Ve))!==null;);return Ve}(Ge,Ae);if(De){var Ne=Object.getOwnPropertyDescriptor(De,Ae);return Ne.get?Ne.get.call(arguments.length<3?Ge:Me):Ne.value}},v.apply(null,arguments)}function d(Ge,Ae){return Ae||(Ae=Ge.slice(0)),Object.freeze(Object.defineProperties(Ge,{raw:{value:Object.freeze(Ae)}}))}function _(Ge,Ae){var Me=typeof Symbol<"u"&&Ge[Symbol.iterator]||Ge["@@iterator"];if(!Me){if(Array.isArray(Ge)||(Me=C(Ge))||Ae&&Ge&&typeof Ge.length=="number"){Me&&(Ge=Me);var De=0,Ne=function(){};return{s:Ne,n:function(){return De>=Ge.length?{done:!0}:{done:!1,value:Ge[De++]}},e:function(ee){throw ee},f:Ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ve,rt=!0,je=!1;return{s:function(){Me=Me.call(Ge)},n:function(){var ee=Me.next();return rt=ee.done,ee},e:function(ee){je=!0,Ve=ee},f:function(){try{rt||Me.return==null||Me.return()}finally{if(je)throw Ve}}}}function C(Ge,Ae){if(Ge){if(typeof Ge=="string")return N(Ge,Ae);var Me={}.toString.call(Ge).slice(8,-1);return Me==="Object"&&Ge.constructor&&(Me=Ge.constructor.name),Me==="Map"||Me==="Set"?Array.from(Ge):Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me)?N(Ge,Ae):void 0}}function N(Ge,Ae){(Ae==null||Ae>Ge.length)&&(Ae=Ge.length);for(var Me=0,De=Array(Ae);Me<Ae;Me++)De[Me]=Ge[Me];return De}function G(Ge,Ae,Me){return Ae=K(Ae),function(De,Ne){if(Ne&&(x(Ne)=="object"||typeof Ne=="function"))return Ne;if(Ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ve){if(Ve===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ve}(De)}(Ge,q()?Reflect.construct(Ae,Me||[],K(Ge).constructor):Ae.apply(Ge,Me))}function q(){try{var Ge=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Ae){}return(q=function(){return!!Ge})()}function K(Ge){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ae){return Ae.__proto__||Object.getPrototypeOf(Ae)},K(Ge)}function ie(Ge,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function");Ge.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:Ge,writable:!0,configurable:!0}}),Object.defineProperty(Ge,"prototype",{writable:!1}),Ae&&Q(Ge,Ae)}function Q(Ge,Ae){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Me,De){return Me.__proto__=De,Me},Q(Ge,Ae)}function te(){te=function(){return Ae};var Ge,Ae={},Me=Object.prototype,De=Me.hasOwnProperty,Ne=Object.defineProperty||function(ke,Ye,Qe){ke[Ye]=Qe.value},Ve=typeof Symbol=="function"?Symbol:{},rt=Ve.iterator||"@@iterator",je=Ve.asyncIterator||"@@asyncIterator",ee=Ve.toStringTag||"@@toStringTag";function J(ke,Ye,Qe){return Object.defineProperty(ke,Ye,{value:Qe,enumerable:!0,configurable:!0,writable:!0}),ke[Ye]}try{J({},"")}catch(ke){J=function(Ye,Qe,ht){return Ye[Qe]=ht}}function qe(ke,Ye,Qe,ht){var oe=Ye&&Ye.prototype instanceof nt?Ye:nt,Le=Object.create(oe.prototype),ze=new I(ht||[]);return Ne(Le,"_invoke",{value:It(ke,Qe,ze)}),Le}function _t(ke,Ye,Qe){try{return{type:"normal",arg:ke.call(Ye,Qe)}}catch(ht){return{type:"throw",arg:ht}}}Ae.wrap=qe;var we="suspendedStart",$e="suspendedYield",at="executing",Ee="completed",tt={};function nt(){}function Vt(){}function dt(){}var vt={};J(vt,rt,function(){return this});var Rt=Object.getPrototypeOf,ii=Rt&&Rt(Rt(We([])));ii&&ii!==Me&&De.call(ii,rt)&&(vt=ii);var ai=dt.prototype=nt.prototype=Object.create(vt);function ui(ke){["next","throw","return"].forEach(function(Ye){J(ke,Ye,function(Qe){return this._invoke(Ye,Qe)})})}function Mt(ke,Ye){function Qe(oe,Le,ze,yt){var ut=_t(ke[oe],ke,Le);if(ut.type!=="throw"){var Tt=ut.arg,Ut=Tt.value;return Ut&&x(Ut)=="object"&&De.call(Ut,"__await")?Ye.resolve(Ut.__await).then(function(Jt){Qe("next",Jt,ze,yt)},function(Jt){Qe("throw",Jt,ze,yt)}):Ye.resolve(Ut).then(function(Jt){Tt.value=Jt,ze(Tt)},function(Jt){return Qe("throw",Jt,ze,yt)})}yt(ut.arg)}var ht;Ne(this,"_invoke",{value:function(oe,Le){function ze(){return new Ye(function(yt,ut){Qe(oe,Le,yt,ut)})}return ht=ht?ht.then(ze,ze):ze()}})}function It(ke,Ye,Qe){var ht=we;return function(oe,Le){if(ht===at)throw Error("Generator is already running");if(ht===Ee){if(oe==="throw")throw Le;return{value:Ge,done:!0}}for(Qe.method=oe,Qe.arg=Le;;){var ze=Qe.delegate;if(ze){var yt=Et(ze,Qe);if(yt){if(yt===tt)continue;return yt}}if(Qe.method==="next")Qe.sent=Qe._sent=Qe.arg;else if(Qe.method==="throw"){if(ht===we)throw ht=Ee,Qe.arg;Qe.dispatchException(Qe.arg)}else Qe.method==="return"&&Qe.abrupt("return",Qe.arg);ht=at;var ut=_t(ke,Ye,Qe);if(ut.type==="normal"){if(ht=Qe.done?Ee:$e,ut.arg===tt)continue;return{value:ut.arg,done:Qe.done}}ut.type==="throw"&&(ht=Ee,Qe.method="throw",Qe.arg=ut.arg)}}}function Et(ke,Ye){var Qe=Ye.method,ht=ke.iterator[Qe];if(ht===Ge)return Ye.delegate=null,Qe==="throw"&&ke.iterator.return&&(Ye.method="return",Ye.arg=Ge,Et(ke,Ye),Ye.method==="throw")||Qe!=="return"&&(Ye.method="throw",Ye.arg=new TypeError("The iterator does not provide a '"+Qe+"' method")),tt;var oe=_t(ht,ke.iterator,Ye.arg);if(oe.type==="throw")return Ye.method="throw",Ye.arg=oe.arg,Ye.delegate=null,tt;var Le=oe.arg;return Le?Le.done?(Ye[ke.resultName]=Le.value,Ye.next=ke.nextLoc,Ye.method!=="return"&&(Ye.method="next",Ye.arg=Ge),Ye.delegate=null,tt):Le:(Ye.method="throw",Ye.arg=new TypeError("iterator result is not an object"),Ye.delegate=null,tt)}function Ct(ke){var Ye={tryLoc:ke[0]};1 in ke&&(Ye.catchLoc=ke[1]),2 in ke&&(Ye.finallyLoc=ke[2],Ye.afterLoc=ke[3]),this.tryEntries.push(Ye)}function St(ke){var Ye=ke.completion||{};Ye.type="normal",delete Ye.arg,ke.completion=Ye}function I(ke){this.tryEntries=[{tryLoc:"root"}],ke.forEach(Ct,this),this.reset(!0)}function We(ke){if(ke||ke===""){var Ye=ke[rt];if(Ye)return Ye.call(ke);if(typeof ke.next=="function")return ke;if(!isNaN(ke.length)){var Qe=-1,ht=function oe(){for(;++Qe<ke.length;)if(De.call(ke,Qe))return oe.value=ke[Qe],oe.done=!1,oe;return oe.value=Ge,oe.done=!0,oe};return ht.next=ht}}throw new TypeError(x(ke)+" is not iterable")}return Vt.prototype=dt,Ne(ai,"constructor",{value:dt,configurable:!0}),Ne(dt,"constructor",{value:Vt,configurable:!0}),Vt.displayName=J(dt,ee,"GeneratorFunction"),Ae.isGeneratorFunction=function(ke){var Ye=typeof ke=="function"&&ke.constructor;return!!Ye&&(Ye===Vt||(Ye.displayName||Ye.name)==="GeneratorFunction")},Ae.mark=function(ke){return Object.setPrototypeOf?Object.setPrototypeOf(ke,dt):(ke.__proto__=dt,J(ke,ee,"GeneratorFunction")),ke.prototype=Object.create(ai),ke},Ae.awrap=function(ke){return{__await:ke}},ui(Mt.prototype),J(Mt.prototype,je,function(){return this}),Ae.AsyncIterator=Mt,Ae.async=function(ke,Ye,Qe,ht,oe){oe===void 0&&(oe=Promise);var Le=new Mt(qe(ke,Ye,Qe,ht),oe);return Ae.isGeneratorFunction(Ye)?Le:Le.next().then(function(ze){return ze.done?ze.value:Le.next()})},ui(ai),J(ai,ee,"Generator"),J(ai,rt,function(){return this}),J(ai,"toString",function(){return"[object Generator]"}),Ae.keys=function(ke){var Ye=Object(ke),Qe=[];for(var ht in Ye)Qe.push(ht);return Qe.reverse(),function oe(){for(;Qe.length;){var Le=Qe.pop();if(Le in Ye)return oe.value=Le,oe.done=!1,oe}return oe.done=!0,oe}},Ae.values=We,I.prototype={constructor:I,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=Ge,this.done=!1,this.delegate=null,this.method="next",this.arg=Ge,this.tryEntries.forEach(St),!ke)for(var Ye in this)Ye.charAt(0)==="t"&&De.call(this,Ye)&&!isNaN(+Ye.slice(1))&&(this[Ye]=Ge)},stop:function(){this.done=!0;var ke=this.tryEntries[0].completion;if(ke.type==="throw")throw ke.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var Ye=this;function Qe(ut,Tt){return Le.type="throw",Le.arg=ke,Ye.next=ut,Tt&&(Ye.method="next",Ye.arg=Ge),!!Tt}for(var ht=this.tryEntries.length-1;ht>=0;--ht){var oe=this.tryEntries[ht],Le=oe.completion;if(oe.tryLoc==="root")return Qe("end");if(oe.tryLoc<=this.prev){var ze=De.call(oe,"catchLoc"),yt=De.call(oe,"finallyLoc");if(ze&&yt){if(this.prev<oe.catchLoc)return Qe(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return Qe(oe.finallyLoc)}else if(ze){if(this.prev<oe.catchLoc)return Qe(oe.catchLoc,!0)}else{if(!yt)throw Error("try statement without catch or finally");if(this.prev<oe.finallyLoc)return Qe(oe.finallyLoc)}}}},abrupt:function(ke,Ye){for(var Qe=this.tryEntries.length-1;Qe>=0;--Qe){var ht=this.tryEntries[Qe];if(ht.tryLoc<=this.prev&&De.call(ht,"finallyLoc")&&this.prev<ht.finallyLoc){var oe=ht;break}}oe&&(ke==="break"||ke==="continue")&&oe.tryLoc<=Ye&&Ye<=oe.finallyLoc&&(oe=null);var Le=oe?oe.completion:{};return Le.type=ke,Le.arg=Ye,oe?(this.method="next",this.next=oe.finallyLoc,tt):this.complete(Le)},complete:function(ke,Ye){if(ke.type==="throw")throw ke.arg;return ke.type==="break"||ke.type==="continue"?this.next=ke.arg:ke.type==="return"?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):ke.type==="normal"&&Ye&&(this.next=Ye),tt},finish:function(ke){for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Qe=this.tryEntries[Ye];if(Qe.finallyLoc===ke)return this.complete(Qe.completion,Qe.afterLoc),St(Qe),tt}},catch:function(ke){for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Qe=this.tryEntries[Ye];if(Qe.tryLoc===ke){var ht=Qe.completion;if(ht.type==="throw"){var oe=ht.arg;St(Qe)}return oe}}throw Error("illegal catch attempt")},delegateYield:function(ke,Ye,Qe){return this.delegate={iterator:We(ke),resultName:Ye,nextLoc:Qe},this.method==="next"&&(this.arg=Ge),tt}},Ae}function Oe(Ge,Ae,Me,De,Ne,Ve,rt){try{var je=Ge[Ve](rt),ee=je.value}catch(J){return void Me(J)}je.done?Ae(ee):Promise.resolve(ee).then(De,Ne)}function fe(Ge){return function(){var Ae=this,Me=arguments;return new Promise(function(De,Ne){var Ve=Ge.apply(Ae,Me);function rt(ee){Oe(Ve,De,Ne,rt,je,"next",ee)}function je(ee){Oe(Ve,De,Ne,rt,je,"throw",ee)}rt(void 0)})}}function W(Ge,Ae){if(!(Ge instanceof Ae))throw new TypeError("Cannot call a class as a function")}function ae(Ge,Ae){for(var Me=0;Me<Ae.length;Me++){var De=Ae[Me];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(Ge,ye(De.key),De)}}function de(Ge,Ae,Me){return Ae&&ae(Ge.prototype,Ae),Me&&ae(Ge,Me),Object.defineProperty(Ge,"prototype",{writable:!1}),Ge}function Z(Ge,Ae,Me){return(Ae=ye(Ae))in Ge?Object.defineProperty(Ge,Ae,{value:Me,enumerable:!0,configurable:!0,writable:!0}):Ge[Ae]=Me,Ge}function ye(Ge){var Ae=function(Me,De){if(x(Me)!="object"||!Me)return Me;var Ne=Me[Symbol.toPrimitive];if(Ne!==void 0){var Ve=Ne.call(Me,"string");if(x(Ve)!="object")return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Me)}(Ge);return x(Ae)=="symbol"?Ae:Ae+""}var Y=window.BookReader,ce=function(){return de(function Me(){W(this,Me),Z(this,"name",void 0),Z(this,"title",void 0),Z(this,"description",void 0),Z(this,"icon",void 0),Z(this,"enabled",void 0),Z(this,"learnMore",void 0),Z(this,"assetRoot","/BookReader/"),Z(this,"enabledLoading",!1)},[{key:"buildAssetPath",value:function(Me){return"".concat(this.assetRoot).concat(Me)}},{key:"enable",value:(Ae=fe(te().mark(function Me(De){return te().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:De.manual;case 1:case"end":return Ne.stop()}},Me)})),function(Me){return Ae.apply(this,arguments)})},{key:"disable",value:(Ge=fe(te().mark(function Me(){return te().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:case"end":return De.stop()}},Me)})),function(){return Ge.apply(this,arguments)})}]);var Ge,Ae}(),Ze=function(Ge){function Ae(){var Ne;W(this,Ae);for(var Ve=arguments.length,rt=new Array(Ve),je=0;je<Ve;je++)rt[je]=arguments[je];return Z(Ne=G(this,Ae,[].concat(rt)),"options",{enabled:!0,localStorageKey:"BrExperiments"}),Z(Ne,"experiments",[new(function(ee){function J(){var we;W(this,J);for(var $e=arguments.length,at=new Array($e),Ee=0;Ee<$e;Ee++)at[Ee]=arguments[Ee];return Z(we=G(this,J,[].concat(at)),"name","hypothesis"),Z(we,"title","Hypothes.is"),Z(we,"description","Create public, collaborative, or fully private annotations on books and the web."),Z(we,"learnMore","https://web.hypothes.is/about/"),Z(we,"icon","images/hypothesis.ico"),Z(we,"enabled",!1),we}return ie(J,ee),de(J,[{key:"enable",value:(_t=fe(te().mark(function we($e){var at,Ee,tt;return te().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return at=$e.manual,Ee=at!==void 0&&at,(tt=document.createElement("script")).type="application/json",tt.className="js-hypothesis-config",tt.textContent=JSON.stringify({openSidebar:Ee,assetRoot:this.buildAssetPath("hypothesis/")}),document.head.appendChild(tt),nt.abrupt("return",ft(this.buildAssetPath("hypothesis/build/boot.js")));case 7:case"end":return nt.stop()}},we,this)})),function(we){return _t.apply(this,arguments)})},{key:"disable",value:(qe=fe(te().mark(function we(){return te().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:(0,y.sleep)(0).then(function(){window.location.reload()});case 1:case"end":return $e.stop()}},we)})),function(){return qe.apply(this,arguments)})}]);var qe,_t}(ce))]),Z(Ne,"_panel",void 0),Ne}return ie(Ae,Ge),de(Ae,[{key:"init",value:(De=fe(te().mark(function Ne(){var Ve,rt,je;return te().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(this.options.enabled){ee.next=2;break}return ee.abrupt("return");case 2:Ve=_(this.experiments);try{for(Ve.s();!(rt=Ve.n()).done;)(je=rt.value).assetRoot=this.br.options.imagesBaseURL.replace(/images\/$/,""),je.icon=je.buildAssetPath(je.icon)}catch(J){Ve.e(J)}finally{Ve.f()}return this._loadExperimentStates(),ee.next=7,Promise.resolve();case 7:this._render();case 8:case"end":return ee.stop()}},Ne,this)})),function(){return De.apply(this,arguments)})},{key:"_loadExperimentStates",value:function(){var Ne=JSON.parse(localStorage.getItem(this.options.localStorageKey)||"{}");this.experiments.forEach(function(Ve){Ne[Ve.name]!==void 0&&(Ve.enabled=Ne[Ve.name],Ve.enabled&&Ve.enable({manual:!1}))})}},{key:"_saveExperimentStates",value:function(){var Ne=Object.fromEntries(this.experiments.map(function(Ve){return[Ve.name,Ve.enabled]}));localStorage.setItem(this.options.localStorageKey,JSON.stringify(Ne))}},{key:"_toggleExperiment",value:(Me=fe(te().mark(function Ne(Ve,rt){var je;return te().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(Ve.enabledLoading=!0,(je=this.br.plugins.archiveAnalytics)===null||je===void 0||je.sendEvent("BRExperiment-".concat(Ve.name),rt?"Enable":"Disable"),this._panel.requestUpdate(),!rt){ee.next=8;break}return ee.next=6,Ve.enable({manual:!0});case 6:ee.next=10;break;case 8:return ee.next=10,Ve.disable();case 10:Ve.enabledLoading=!1,Ve.enabled=rt,this._panel.requestUpdate();case 13:case"end":return ee.stop()}},Ne,this)})),function(Ne,Ve){return Me.apply(this,arguments)})},{key:"_render",value:function(){var Ne=this;this.br.shell.menuProviders.experiments={id:"experiments",icon:(0,p.qy)(a||(a=d([`
        <svg xmlns="http://www.w3.org/2000/svg" width="34" viewBox="0 0 24 24"><path fill="currentColor" d="M10 5.75h1.25v2.5H9.5c-.41 0-.75.34-.75.75s.34.75.75.75h.25v1.96A5.72 5.72 0 0 0 6.25 17c0 3.17 2.58 5.75 5.75 5.75s5.75-2.58 5.75-5.75c0-2.33-1.39-4.4-3.5-5.29V9.75h.25c.41 0 .75-.34.75-.75s-.34-.75-.75-.75h-1.75v-1.5H14c1.52 0 2.75-1.23 2.75-2.75V3c0-.41-.34-.75-.75-.75h-2c-.579 0-1.115.178-1.558.483A2.75 2.75 0 0 0 10 1.25H8c-.41 0-.75.34-.75.75v1c0 1.52 1.23 2.75 2.75 2.75m2.75-.5V5c0-.69.56-1.25 1.25-1.25h1.25V4c0 .69-.56 1.25-1.25 1.25zm-1.5 6.98V9.75h1.5v2.48c0 .33.22.62.53.72c1.77.56 2.97 2.19 2.97 4.06A4.26 4.26 0 0 1 12 21.26a4.26 4.26 0 0 1-4.25-4.25c0-1.87 1.19-3.5 2.97-4.06c.32-.1.53-.39.53-.72m-2.5-9.48H10c.69 0 1.25.56 1.25 1.25v.25H10c-.69 0-1.25-.56-1.25-1.25z" color="currentColor"/></svg>
      `]))),label:"Experiments",component:(0,p.qy)(l||(l=d([`<br-experiments-panel
        .experiments="`,`"
        @connected="`,`"
        @toggle="`,`"
      />`])),this.experiments,function(Ve){return Ne._panel=Ve.target},function(){var Ve=fe(te().mark(function rt(je){return te().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,Ne._toggleExperiment(je.detail.experiment,je.detail.enabled);case 2:Ne._saveExperimentStates();case 3:case"end":return ee.stop()}},rt)}));return function(rt){return Ve.apply(this,arguments)}}())},this.br.shell.updateMenuContents()}}]);var Me,De}(g.S);function ft(Ge){return ct.apply(this,arguments)}function ct(){return(ct=fe(te().mark(function Ge(Ae){return te().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Me.abrupt("return",new Promise(function(De,Ne){var Ve=document.createElement("script");Ve.src=Ae,Ve.onload=function(){return De()},Ve.onerror=function(){return Ne(new Error("Failed to load script: ".concat(Ae)))},document.head.appendChild(Ve)}));case 1:case"end":return Me.stop()}},Ge)}))).apply(this,arguments)}Y==null||Y.registerPlugin("experiments",Ze),w([(0,m.EM)("br-experiments-panel")],function(Ge,Ae){var Me,De=function(Ne){function Ve(){var rt;W(this,Ve);for(var je=arguments.length,ee=new Array(je),J=0;J<je;J++)ee[J]=arguments[J];return rt=G(this,Ve,[].concat(ee)),Ge(rt),rt}return ie(Ve,Ne),de(Ve)}(Ae);return{F:De,d:[{kind:"field",decorators:[(0,m.MZ)({type:Array})],key:"experiments",value:function(){return[]}},{kind:"method",key:"render",value:function(){var Ne=this;return(0,p.qy)(o||(o=d([`
      <div style="padding: 10px">
        `,`
      </div>
    `])),this.experiments.map(function(Ve){return(0,p.qy)(c||(c=d([`
        <br-experiment-toggle
          .icon="`,`"
          .title="`,`"
          .description="`,`"
          .enabled="`,`"
          .loading="`,`"
          .learnMore="`,`"
          @toggle="`,`"
        ></br-experiment-toggle>
      `])),Ve.icon,Ve.title,Ve.description,Ve.enabled,Ve.enabledLoading,Ve.learnMore,function(rt){return Ne._dispatchToggle(Ve,rt.detail.enabled)})}))}},{kind:"method",key:"_dispatchToggle",value:(Me=fe(te().mark(function Ne(Ve,rt){return te().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:this.dispatchEvent(new CustomEvent("toggle",{detail:{experiment:Ve,enabled:rt}}));case 1:case"end":return je.stop()}},Ne,this)})),function(Ne,Ve){return Me.apply(this,arguments)})},{kind:"method",key:"connectedCallback",value:function(){h(De,"connectedCallback",this,3)([]),this.dispatchEvent(new CustomEvent("connected"))}}]}},p.WF),w([(0,m.EM)("br-experiment-toggle")],function(Ge,Ae){var Me=function(De){function Ne(){var Ve;W(this,Ne);for(var rt=arguments.length,je=new Array(rt),ee=0;ee<rt;ee++)je[ee]=arguments[ee];return Ve=G(this,Ne,[].concat(je)),Ge(Ve),Ve}return ie(Ne,De),de(Ne)}(Ae);return{F:Me,d:[{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"icon",value:function(){return""}},{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"title",value:function(){return""}},{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"description",value:function(){return""}},{kind:"field",decorators:[(0,m.MZ)({type:Boolean})],key:"enabled",value:function(){return!1}},{kind:"field",decorators:[(0,m.MZ)({type:Boolean})],key:"loading",value:function(){return!1}},{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"learnMore",value:function(){return""}},{kind:"field",decorators:[(0,m.wk)()],key:"_longLoading",value:function(){return!1}},{kind:"method",key:"update",value:function(De){var Ne=this;h(Me,"update",this,3)([De]),De.has("loading")&&(this.loading?(0,y.sleep)(500).then(function(){Ne.loading&&(Ne._longLoading=!0,Ne.requestUpdate())}):this._longLoading=!1)}},{kind:"method",key:"render",value:function(){return(0,p.qy)(n||(n=d([`
      <div class="experiment-card">
        <div style="display: flex; align-items: center; gap: 10px;">
          <img src="`,`" style="width: 20px; height: 20px;" alt="" />
          <div style="flex-grow: 1; font-weight: bold;">`,`</div>
        </div>
        <p style="opacity: 0.9">
          `,`
          <a href="`,`" target="_blank">Learn more</a>.
        </p>
        <div style="display: flex">
          <div style="flex-grow: 1;"></div>
          <button @click="`,'" .disabled="',`">
            `,`
          </button>
        </div>
      </div>
    `])),this.icon,this.title,this.description,this.learnMore,this._dispatchToggle,this.loading,this._longLoading?"Loading\u2026":this.enabled?"Disable":"Enable")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,p.AH)(u||(u=d([`
      .experiment-card {
        border-radius: 8px;
        background-color: #fff2;
        padding: 10px;
        display: flex;
        flex-direction: column;
      }

      .experiment-card p {
        margin: 6px 0;
      }
    `])))}},{kind:"method",key:"_dispatchToggle",value:function(){this.dispatchEvent(new CustomEvent("toggle",{detail:{enabled:!this.enabled}}))}}]}},p.WF)}},function(e){e(e.s=6732)}]);Z2=pC,{default:J2}=Z2,fC=an(Z2,["default"]),Q2=J2!==void 0?J2:fC;});var ex={};Dn(ex,{default:()=>Q2});var tx=Kt(()=>{pg();pg()});var gC={};function mC(e,t,r){if(typeof window.archive_analytics!="undefined"){var a={bookreader:"error",description:e,page:t,line:r};document.referrer==""?a.referrer="-":a.referrer=document.referrer,typeof br!="undefined"&&(a.itemid=br.bookId,a.subPrefix=br.subPrefix,a.server=br.server,a.bookPath=br.bookPath),archive_analytics.send_ping(a)}return!1}var ix=Kt(()=>{typeof Object.assign!="function"&&function(){Object.assign=function(e){"use strict";if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var a=arguments[r];if(a!=null)for(var l in a)a.hasOwnProperty(l)&&(t[l]=a[l])}return t}}();window.logError=mC});var vC,yC,rx=Kt(()=>{_i();_i();vC=Ke`
<svg
  viewBox="0 0 40 40"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="ellipsesTitleID ellipsesDescID"
>
  <title id="ellipsesTitleID">Ellipses icon</title>
  <desc id="ellipsesDescID">An illustration of text ellipses.</desc>
  <path class="fill-color" d="m10.5 17.5c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5c-1.38071187 0-2.5-1.1192881-2.5-2.5s1.11928813-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5z" fill-rule="evenodd"/>
</svg>
`,yC=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return vC}};customElements.define("ia-icon-ellipses",yC)});var bC,wC,nx=Kt(()=>{_i();_i();bC=Ke`
<svg
  viewBox="0 0 18 18"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="collapseSidebarTitleID collapseSidebarDescID"
>
  <title id="collapseSidebarTitleID">Collapse sidebar</title>
  <desc id="collapseSidebarDescID">A circle with a left pointing chevron</desc>
  <path d="m9 0c4.9705627 0 9 4.02943725 9 9 0 4.9705627-4.0294373 9-9 9-4.97056275 0-9-4.0294373-9-9 0-4.97056275 4.02943725-9 9-9zm1.6976167 5.28352881c-.365258-.3556459-.9328083-.37581056-1.32099801-.06558269l-.09308988.0844372-3 3.08108108-.08194436.09533317c-.27484337.36339327-.26799482.87009349.01656959 1.22592581l.084491.09308363 3 2.91891889.09533796.0818904c.3633964.2746544.8699472.2677153 1.2256839-.0167901l.093059-.0844712.0818904-.095338c.2746544-.3633964.2677153-.8699472-.0167901-1.2256839l-.0844712-.093059-2.283355-2.2222741 2.3024712-2.36338332.0819252-.09530804c.2997677-.39632298.2644782-.96313393-.1007797-1.31877983z" fill-rule="evenodd" class="fill-color" />
</svg>
`,wC=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return bC}};customElements.define("ia-icon-collapse-sidebar",wC)});var xC,_C,fg=Kt(()=>{_i();_i();xC=Ke`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="shareTitleID shareDescID"
>
  <title id="shareTitleID">Share icon</title>
  <desc id="shareDescID">A square with an arrow arcing out from the center of the square</desc>
  <g class="fill-color">
    <path d="M70.6784759,10 L70.6784759,21.3240186 C64.5020053,21.66334 58.9104278,22.5826126 53.9037433,24.0818363 C48.8970588,25.5810601 44.8495989,27.4085163 41.7613636,29.5642049 C38.6731283,31.7198935 35.9982175,34.0552229 33.736631,36.5701929 C31.4750446,39.085163 29.8217469,41.5657574 28.776738,44.011976 C27.7317291,46.4581947 26.9173351,48.6848525 26.3335561,50.6919494 C25.7497772,52.6990464 25.4088681,54.3324462 25.3108289,55.592149 L25.2372995,57.4085163 C29.0296346,54.1661122 33.1751337,51.5524507 37.6737968,49.5675316 C42.1724599,47.5826126 46.2934492,46.3118208 50.0367647,45.7551564 C53.7800802,45.1984919 57.2571301,44.8713684 60.4679144,44.7737858 C63.6786988,44.6762031 66.1831551,44.7726769 67.9812834,45.0632069 L70.6784759,45.499002 L70.6784759,57.4051896 L100,33.3765802 L70.6784759,10 Z M76.4438503,62.4883566 L82.8609626,57.1157685 C82.9099822,57.0669772 82.9946524,57.0303837 83.1149733,57.005988 C83.2352941,56.9815924 83.4536542,56.9571967 83.7700535,56.9328011 C84.0864528,56.9084054 84.3905971,56.9449989 84.6824866,57.0425815 C84.9743761,57.1401641 85.217246,57.2854291 85.4110963,57.4783766 C85.6049465,57.671324 85.7263815,57.8409847 85.7754011,57.9873586 L85.8489305,58.2035928 L85.8489305,90 L0,90 L0,17.910845 L43.1784759,17.910845 C43.2765152,17.9596363 43.410205,18.0317143 43.5795455,18.1270792 C43.7488859,18.222444 43.9438503,18.4519849 44.1644385,18.8157019 C44.3850267,19.1794189 44.469697,19.5542249 44.4184492,19.9401198 C44.4184492,20.2794411 44.3092692,20.582169 44.0909091,20.8483034 C43.872549,21.1144378 43.6664439,21.3206919 43.4725936,21.4670659 L43.1818182,21.6134398 C40.557041,23.06609 38.2954545,24.396762 36.3970588,25.6054558 L30.7820856,29.8170326 L11.5274064,29.8170326 L11.5274064,78.1669993 L74.1811497,78.1669993 L74.1811497,65.5355955 C74.1811497,65.1009093 74.3995098,64.6407186 74.8362299,64.1550233 L76.4438503,62.4883566 Z" id="Shape"></path>
  </g>
</svg>
`,_C=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return xC}};customElements.define("ia-icon-share",_C)});var kC,AC,mg=Kt(()=>{_i();_i();kC=Ke`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="twitterTitleID twitterDescID">
  <title id="twitterTitleID">Twitter icon</title>
  <desc id="twitterDescID">The Twitter logo, a cartoon bird</desc>
  <path d="m31.5297453 8.76273313c-.3135031.40766104-.7447036.83083673-1.2936015 1.26952707-.5488979.4386904-.9169698.7837578-1.1042157 1.0352022.1562166 2.319709-.1417719 4.5297454-.8939653 6.6301092-.7521935 2.1003638-1.8023754 3.9182538-3.1505457 5.45367-1.3481704 1.5354162-2.9627648 2.8284828-4.8437835 3.8791996-1.8810186 1.0507169-3.8321207 1.7483416-5.8533062 2.092874s-4.1215493.2894286-6.30109136-.1653114c-2.17954205-.45474-4.2092874-1.3401455-6.08923604-2.6562165 2.72737.4697196 5.67408517-.2514445 8.8401455-2.1634924-3.0719024-.7521935-4.88979241-2.2881447-5.45367-4.6078537 1.12882516.0631287 1.86550396.0631287 2.21003638 0-2.91568586-1.2850417-4.38904344-3.3693558-4.42007276-6.2529424.21934517.0310293.53284828.1487267.94050931.3530922s.78375775.3060133 1.12829017.3049433c-.81532206-.7211641-1.41076396-1.9045581-1.7863257-3.5501819-.37556173-1.64562376-.17173122-3.17355015.61149155-4.58377912 1.81789001 1.88101862 3.6908838 3.36989086 5.61898138 4.46661672 1.92809757 1.0967259 4.22426707 1.7547614 6.88850847 1.9741066-.2503745-1.1908838-.1722662-2.32719882.2343248-3.40894502.4065911-1.0817462 1.0416221-1.93612241 1.9050931-2.56312861.863471-.62700621 1.8114702-1.0817462 2.8439975-1.36421999 1.0325272-.28247378 2.0827091-.27444896 3.1505456.02407447s1.9767815.87042585 2.726835 1.71570726c1.3791997-.37663172 2.6802911-.87845068 3.9032742-1.50545688-.0310293.37663171-.1407019.74470361-.3290178 1.1042157-.1883158.35951209-.3530922.62593623-.4943291.79927242s-.3841216.4317355-.728654.77519795c-.3445324.34346244-.5638776.57832227-.6580355.70457949.2193452-.09415792.6895998-.23539482 1.410764-.42371067.7211641-.18831586 1.2069334-.39214638 1.4573079-.61149155 0 .44350524-.1567516.86668093-.4702547 1.27434196z" class="fill-color" />
</svg>
`,AC=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return kC}};customElements.define("ia-icon-twitter",AC)});var SC,CC,gg=Kt(()=>{_i();_i();SC=Ke`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="facebookTitleID facebookDescID">
  <title id="facebookTitleID">Facebook icon</title>
  <desc id="facebookDescID">A lowercase f</desc>
  <path d="m30.91057 19.2442068.2670004-5.3339402h-5.7329237c-.0890001-3.4962895.25183-5.42243459 1.0224903-5.77843514.3560005-.17800028.8004955-.28925046 1.333485-.33375053s1.0442346-.0520853 1.5337353-.02275571c.4895008.02932959 1.045246.01466479 1.6672356-.04399439.0890001-1.59997977.1335002-3.24445961.1335002-4.93343953-2.1633102-.20732987-3.6742898-.28115953-4.5329389-.22148898-2.8146294.17800028-4.7847688 1.25965538-5.9104183 3.2449653-.1780003.3256596-.3261653.68873971-.444495 1.08924034-.1183298.40050062-.2144095.76358074-.2882391 1.08924034-.0738297.32565959-.125915.7848194-.1562559 1.37747942-.030341.59266002-.052591 1.04474028-.0667501 1.35624078-.0141592.3115005-.0217444.8449956-.0227558 1.6004854v1.5777298h-3.8229605v5.3339401h3.8669549v14.622824h5.8224296c0-.3560006-.0146648-1.6819003-.0439944-3.9776994-.0293296-2.295799-.0515796-4.2957737-.0667501-5.9999241s-.0075853-3.2525506.0227557-4.6452005h5.4219289z" class="fill-color" />
</svg>
`,CC=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return SC}};customElements.define("ia-icon-facebook",CC)});var EC,TC,vg=Kt(()=>{_i();_i();EC=Ke`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="tumblrTitleID tumblrDescID">
  <title id="tumblrTitleID">Tumblr icon</title>
  <desc id="tumblrDescID">A lowercase letter t</desc>
  <path d="m8.50321407 8.54544475v5.32088575c.15641786.0310693.6819176.0310693 1.57649923 0 .8945816-.0310693 1.3574071.0160703 1.3884764.1414189.0942792 1.5695354.1333837 3.2253149.1173133 4.9673385-.0160703 1.7420236-.0316049 3.3426283-.0466039 4.8018141s.2046288 2.824628.6588835 4.0963267c.4542546 1.2716986 1.1999178 2.2209194 2.2369897 2.8476622 1.2556283.784232 2.9896167 1.207953 5.2019653 1.271163 2.2123485.0632099 4.1659648-.2506972 5.8608487-.9417213-.0310693-.3449764-.0230341-1.4045467.0241055-3.1787109.0471397-1.7741643-.0080351-2.75499-.1655244-2.9424772-3.5472571 1.0360005-5.697467.6904885-6.4506298-1.0365361-.7220934-1.6638147-.8635123-4.9909084-.4242566-9.981281v-.046604h6.7318605v-5.32088568h-6.7318605v-6.54383772h-4.0497228c-.2828378 1.28669763-.6122795 2.35376743-.9883252 3.20120941-.3760457.84744199-.98029 1.60060471-1.812733 2.25948817-.832443.65888347-1.87594303 1.01993018-3.1305 1.08314014z" class="fill-color" />
</svg>
`,TC=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return EC}};customElements.define("ia-icon-tumblr",TC)});var PC,$C,yg=Kt(()=>{_i();_i();PC=Ke`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="pinterestTitleID pinterestDescID">
  <title id="pinterestTitleID">Pinterest icon</title>
  <desc id="pinterestDescID">A stylized letter p</desc>
  <path d="m11.9051049 30.5873434.653491-1.0742755.4207845-.839975c.2805229-.591861.5371377-1.2533214.7698443-1.9843813.2327065-.7310599.4659444-1.6029125.6997135-2.6155579.2337692-1.0126455.4128151-1.752206.5371377-2.2186817.0308151.030815.0775689.0855382.1402615.1641697.0626927.0786314.1094465.1333547.1402615.1641697.1243227.1870153.2178304.311338.280523.372968 1.1210293.964829 2.3817888 1.4631823 3.7822785 1.4950599 1.4939973 0 2.8790795-.3426843 4.1552465-1.0280529 2.1166733-1.1826593 3.6733633-3.1128487 4.6700699-5.7905679.4048457-1.1518444.6848374-2.5996192.8399751-4.3433245.1243226-1.587505-.0781002-3.0974411-.6072685-4.5298084-.903199-2.36638128-2.5528653-4.20306294-4.948999-5.51004497-1.276167-.65349101-2.5990879-1.05833667-3.9687625-1.21453696-1.525875-.21783034-3.1293188-.17107651-4.8103315.14026149-2.7701643.52916833-5.02709913 1.743174-6.77080442 3.64201699-1.99235065 2.14748836-2.98852598 4.62225355-2.98852598 7.42429545 0 2.9571797.9494215 5.0584455 2.84826449 6.3037975l.83997504.4207845c.12432268 0 .22526845.0154075.3028373.0462225s.1551377.0074381.23270656-.0701308c.07756885-.0775688.13229208-.1243226.16416969-.1402614s.07066204-.0860696.11635328-.2103923c.04569124-.1243226.07703756-.2098609.09403895-.2566147.01700139-.0467539.04834771-.1476996.09403895-.3028373s.06906816-.2486454.07013074-.280523l.14026149-.5132295c.06269263-.311338.09403895-.5291684.09403895-.653491-.03081502-.1243227-.12432268-.2799917-.28052297-.467007-.15620029-.1870154-.23376915-.2959305-.23270656-.3267455-.62267599-.8096914-.9494215-1.7904592-.98023652-2.9423035-.03081502-1.55669.28052297-2.9731185.93401399-4.24928547 1.18265932-2.45882635 3.17501002-3.93741618 5.97705192-4.43576949 1.6183201-.311338 3.1356943-.25661476 4.5521228.16416969 1.4164285.42078446 2.5135496 1.09765239 3.2913633 2.03060379.8405063 1.02752164 1.3229208 2.28828114 1.4472435 3.78227848.1243227 1.4004897-.0313463 2.9725872-.467007 4.7162925-.3740306 1.3696746-.9186065 2.5528653-1.6337275 3.5495719-.9967066 1.245352-2.0863896 1.8834355-3.269049 1.9142505-1.7118277.0626926-2.7547568-.6375522-3.1287874-2.1007345-.0935077-.4664757 0-1.2134744.2805229-2.240996.7469987-2.5842117 1.1359055-3.9384788 1.1667206-4.0628015.1870153-1.0275216.2024228-1.7904591.0462225-2.2888124-.1870153-.65349104-.5759222-1.15928246-1.1667205-1.51737429-.5907984-.35809182-1.2756357-.39687625-2.054512-.11635327-1.1826594.43566067-1.9610044 1.40048968-2.335035 2.89448706-.311338 1.306982-.2491767 2.6299028.186484 3.9687625 0 .0626926.0313463.1402615.094039.2327065.0626926.0924451.0940389.1700139.0940389.2327066 0 .0935076-.0313463.2491766-.0940389.467007-.0626927.2178303-.094039.3580918-.094039.4207844-.0935076.4356607-.3038999 1.3308903-.6311767 2.6856887-.3272768 1.3547985-.5838915 2.3897582-.7698443 3.1048793-.7778136 3.2068876-1.12049796 5.5881451-1.02805289 7.1437725l.37296809 2.7558194c.653491-.591861 1.2294131-1.2299445 1.7277664-1.9142505z" class="fill-color" />
</svg>
`,$C=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return PC}};customElements.define("ia-icon-pinterest",$C)});var LC,OC,bg=Kt(()=>{_i();_i();LC=Ke`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="emailTitleID emailDescID">
  <title id="emailTitleID">Email icon</title>
  <desc id="emailDescID">An illustration of an envelope</desc>
  <path d="m32 7.04156803v19.91686397c0 .5752421-.4763773 1.041568-1.0640184 1.041568h-27.87196316c-.58764116 0-1.06401844-.4663259-1.06401844-1.041568v-19.91686397c0-.57524214.47637728-1.04156803 1.06401844-1.04156803h27.87196316c.5876411 0 1.0640184.46632589 1.0640184 1.04156803zm-26.25039901 1.19676167 10.04327011 10.1323738c.5135662.4194048.8817166.6291071 1.1044511.6291071.1198794 0 .2695514-.0503424.4490158-.1510273.1794644-.100685.3291364-.2013699.4490158-.3020548l.1798191-.1510273 10.1198794-10.15841306zm16.77212271 9.7303286 6.8831353 6.7889404v-13.5778809zm-17.92871075-6.6379131v13.350819l6.78098955-6.6629107zm22.09008685 14.2059464-5.9074304-5.8588202-.9757049.9551179-.3594018.3295984c-.0342324.0304241-.0665646.0587822-.0969964.0850743l-.1597867.1329606c-.0684912.0540844-.1198794.0895749-.1541644.1064714-.6674943.3687151-1.3523675.5530727-2.0546196.5530727-.65047 0-1.3782586-.218035-2.1833659-.6541048l-.6682036-.4520405-1.0278418-1.0311524-5.95850326 5.832781z" class="fill-color" />
</svg>
`,OC=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return LC}};customElements.define("ia-icon-email",OC)});var MC,IC,wg=Kt(()=>{_i();_i();MC=Ke`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="linkTitleID linkDescID">
  <title id="linkTitleID">Link icon</title>
  <desc id="linkDescID">Two chain links linked together</desc>
  <path d="m7.80511706 12.3659763c1.2669254-2.2579539 4.09819784-2.9949938 6.41200864-1.7733458l.2295791.12871 1.6067188.9559859 3.5467013-6.31849361c1.2682451-2.26030597 4.104098-2.99652769 6.4192376-1.76952182l.2223501.12488594 3.2168204 1.91103915c2.2770002 1.3527136 3.1866331 4.21502324 2.0564431 6.51290984l-.1198433.2278304-5.2002499 9.2680474c-1.2669254 2.2579539-4.0981978 2.9949938-6.4120086 1.7733458l-.2295791-.12871-1.6096554-.9558482-3.5437647 6.3183559c-1.2682451 2.260306-4.104098 2.9965277-6.41923761 1.7695218l-.22235013-.1248859-3.21682032-1.9110392c-2.27700024-1.3527136-3.18663314-4.2150232-2.05644312-6.5129098l.11984332-.2278304zm13.93955474-5.73311741-3.563271 6.35055051c1.889633 1.4530595 2.5776248 4.0429866 1.5410255 6.156875l-.1223014.2328355-.4183304.7430134 1.6096554.9558483c1.1431442.6791157 2.5155496.3977368 3.1667361-.5628389l.0921501-.1491451 5.2002498-9.2680474c.5752467-1.0252226.2110342-2.4011579-.8559335-3.14755806l-.1742742-.11247814-3.2168203-1.91103915c-1.1402863-.67741793-2.5086889-.39913772-3.1618387.55564729zm-11.79500786 7.00714351-5.20024982 9.2680474c-.57524673 1.0252226-.21103426 2.4011579.85593348 3.1475581l.17427416.1124781 3.21682032 1.9110392c1.14028632.6774179 2.50868892.3991377 3.16183872-.5556473l.0970474-.1563368 3.5622708-6.3513198c-1.8888875-1.4532134-2.5764504-4.042623-1.5400057-6.1561456l.1222818-.2327956.4153938-.7428758-1.6067188-.9559859c-1.1431442-.6791157-2.5155496-.3977368-3.1667361.5628389zm6.97653866 1.5796652-.3817806.6812386c-.5117123.9119895-.2800268 2.1014993.528439 2.8785267l.382717-.6803391c.5119098-.9123415.2798478-2.1024176-.5293754-2.8794262z" class="fill-color" />
</svg>
`,IC=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return MC}};customElements.define("ia-icon-link",IC)});function gx(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return ox!==void 0?ox.createHTML(t):t}function al(e,t,r=e,a){var l,o,c,n;if(t===Nu)return t;let u=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,p=ju(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,a)),a!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[a]=u:r._$Cl=u),u!==void 0&&(t=al(e,u._$AS(e,t.values),u,a)),t}var xg,Ah,yc,ox,Sh,Ua,Sg,RC,ol,Ch,ju,hx,px,_g,Du,ax,sx,rl,lx,cx,fx,mx,az,sz,Nu,Jn,ux,nl,vx,Ag,bx,Cg,Bu,xx,DC,_x,kx,Ax,jC,kg,NC,Eg,Sx,dx,Va,vs,BC,Hu,Fu,Eh,Cx,Tg=Kt(()=>{Ah=window,yc=Ah.trustedTypes,ox=yc?yc.createPolicy("lit-html",{createHTML:e=>e}):void 0,Sh="$lit$",Ua=`lit$${(Math.random()+"").slice(9)}$`,Sg="?"+Ua,RC=`<${Sg}>`,ol=document,Ch=()=>ol.createComment(""),ju=e=>e===null||typeof e!="object"&&typeof e!="function",hx=Array.isArray,px=e=>hx(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",_g=`[ 	
\f\r]`,Du=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ax=/-->/g,sx=/>/g,rl=RegExp(`>|${_g}(?:([^\\s"'>=/]+)(${_g}*=${_g}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),lx=/'/g,cx=/"/g,fx=/^(?:script|style|textarea|title)$/i,mx=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),az=mx(1),sz=mx(2),Nu=Symbol.for("lit-noChange"),Jn=Symbol.for("lit-nothing"),ux=new WeakMap,nl=ol.createTreeWalker(ol,129,null,!1);vx=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",c=Du;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Du?g[1]==="!--"?c=ax:g[1]!==void 0?c=sx:g[2]!==void 0?(fx.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=rl):g[3]!==void 0&&(c=rl):c===rl?g[0]===">"?(c=l!=null?l:Du,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?rl:g[3]==='"'?cx:lx):c===cx||c===lx?c=rl:c===ax||c===sx?c=Du:(c=rl,l=void 0);let x=c===rl&&e[n+1].startsWith("/>")?" ":"";o+=c===Du?u+RC:m>=0?(a.push(p),u.slice(0,m)+Sh+u.slice(m)+Ua+x):u+Ua+(m===-2?(a.push(void 0),n):x)}return[gx(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Ag=class yx{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=vx(t,r);if(this.el=yx.createElement(p,a),nl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=nl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Sh)||y.startsWith(Ua)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+Sh).split(Ua),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?xx:k[1]==="?"?_x:k[1]==="@"?kx:Bu})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(fx.test(l.tagName)){let m=l.textContent.split(Ua),y=m.length-1;if(y>0){l.textContent=yc?yc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Ch()),nl.nextNode(),u.push({type:2,index:++o});l.append(m[y],Ch())}}}else if(l.nodeType===8)if(l.data===Sg)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(Ua,m+1))!==-1;)u.push({type:7,index:o}),m+=Ua.length-1}o++}}static createElement(t,r){let a=ol.createElement("template");return a.innerHTML=t,a}};bx=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:ol).importNode(r,!0);nl.currentNode=l;let o=nl.nextNode(),c=0,n=0,u=a[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new Cg(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new Ax(o,this,e)),this._$AV.push(p),u=a[++n]}c!==(u==null?void 0:u.index)&&(o=nl.nextNode(),c++)}return nl.currentNode=ol,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Cg=class wx{constructor(t,r,a,l){var o;this.type=2,this._$AH=Jn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=al(this,t,r),ju(t)?t===Jn||t==null||t===""?(this._$AH!==Jn&&this._$AR(),this._$AH=Jn):t!==this._$AH&&t!==Nu&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):px(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Jn&&ju(this._$AH)?this._$AA.nextSibling.data=t:this.$(ol.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Ag.createElement(gx(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let c=new bx(o,this),n=c.u(this.options);c.v(a),this.$(n),this._$AH=c}}_$AC(t){let r=ux.get(t.strings);return r===void 0&&ux.set(t.strings,r=new Ag(t)),r}T(t){hx(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new wx(this.k(Ch()),this.k(Ch()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Bu=class{constructor(e,t,r,a,l){this.type=1,this._$AH=Jn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Jn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=al(this,e,t,0),o=!ju(e)||e!==this._$AH&&e!==Nu,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=al(this,c[r+n],t,n),u===Nu&&(u=this._$AH[n]),o||(o=!ju(u)||u!==this._$AH[n]),u===Jn?e=Jn:e!==Jn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!a&&this.j(e)}j(e){e===Jn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},xx=class extends Bu{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Jn?void 0:e}},DC=yc?yc.emptyScript:"",_x=class extends Bu{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Jn?this.element.setAttribute(this.name,DC):this.element.removeAttribute(this.name)}},kx=class extends Bu{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=al(this,e,t,0))!==null&&r!==void 0?r:Jn)===Nu)return;let a=this._$AH,l=e===Jn&&a!==Jn||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==Jn&&(a===Jn||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},Ax=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){al(this,e)}},jC={O:Sh,P:Ua,A:Sg,C:1,M:vx,L:bx,R:px,D:al,I:Cg,V:Bu,H:_x,N:kx,U:xx,F:Ax},kg=Ah.litHtmlPolyfillSupport;kg==null||kg(Ag,Cg),((xg=Ah.litHtmlVersions)!==null&&xg!==void 0?xg:Ah.litHtmlVersions=[]).push("2.8.0");({I:NC}=jC),Eg=(e,t)=>t===void 0?(e==null?void 0:e._$litType$)!==void 0:(e==null?void 0:e._$litType$)===t,Sx=e=>{var t;return((t=e==null?void 0:e._$litType$)===null||t===void 0?void 0:t.h)!=null},dx=()=>document.createComment(""),Va=(e,t,r)=>{var a;let l=e._$AA.parentNode,o=t===void 0?e._$AB:t._$AA;if(r===void 0){let c=l.insertBefore(dx(),o),n=l.insertBefore(dx(),o);r=new NC(c,n,e,e.options)}else{let c=r._$AB.nextSibling,n=r._$AM,u=n!==e;if(u){let p;(a=r._$AQ)===null||a===void 0||a.call(r,e),r._$AM=e,r._$AP!==void 0&&(p=e._$AU)!==n._$AU&&r._$AP(p)}if(c!==o||u){let p=r._$AA;for(;p!==c;){let g=p.nextSibling;l.insertBefore(p,o),p=g}}}return r},vs=(e,t,r=e)=>(e._$AI(t,r),e),BC={},Hu=(e,t=BC)=>e._$AH=t,Fu=e=>e._$AH,Eh=e=>{var t;(t=e._$AP)===null||t===void 0||t.call(e,!1,!0);let r=e._$AA,a=e._$AB.nextSibling;for(;r!==a;){let l=r.nextSibling;r.remove(),r=l}},Cx=e=>{e._$AR()};});function Nx(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ex!==void 0?Ex.createHTML(t):t}function xc(e,t,r=e,a){var l,o,c,n;if(t===wc)return t;let u=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,p=Uu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,a)),a!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[a]=u:r._$Cl=u),u!==void 0&&(t=xc(e,u._$AS(e,t.values),u,a)),t}var Pg,Th,bc,Ex,Og,ys,Ix,HC,cl,Ph,Uu,Rx,FC,$g,zu,Tx,Px,sl,$x,Lx,Dx,jx,mz,gz,wc,Qn,Ox,ll,zC,Mg,UC,Hx,$h,VC,WC,qC,GC,YC,Lg,Mx,Ca,zx=Kt(()=>{tc();Tg();Th=window,bc=Th.trustedTypes,Ex=bc?bc.createPolicy("lit-html",{createHTML:e=>e}):void 0,Og="$lit$",ys=`lit$${(Math.random()+"").slice(9)}$`,Ix="?"+ys,HC=`<${Ix}>`,cl=document,Ph=()=>cl.createComment(""),Uu=e=>e===null||typeof e!="object"&&typeof e!="function",Rx=Array.isArray,FC=e=>Rx(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",$g=`[ 	
\f\r]`,zu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Tx=/-->/g,Px=/>/g,sl=RegExp(`>|${$g}(?:([^\\s"'>=/]+)(${$g}*=${$g}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),$x=/'/g,Lx=/"/g,Dx=/^(?:script|style|textarea|title)$/i,jx=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),mz=jx(1),gz=jx(2),wc=Symbol.for("lit-noChange"),Qn=Symbol.for("lit-nothing"),Ox=new WeakMap,ll=cl.createTreeWalker(cl,129,null,!1);zC=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",c=zu;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===zu?g[1]==="!--"?c=Tx:g[1]!==void 0?c=Px:g[2]!==void 0?(Dx.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=sl):g[3]!==void 0&&(c=sl):c===sl?g[0]===">"?(c=l!=null?l:zu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?sl:g[3]==='"'?Lx:$x):c===Lx||c===$x?c=sl:c===Tx||c===Px?c=zu:(c=sl,l=void 0);let x=c===sl&&e[n+1].startsWith("/>")?" ":"";o+=c===zu?u+HC:m>=0?(a.push(p),u.slice(0,m)+Og+u.slice(m)+ys+x):u+ys+(m===-2?(a.push(void 0),n):x)}return[Nx(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Mg=class Bx{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=zC(t,r);if(this.el=Bx.createElement(p,a),ll.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=ll.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Og)||y.startsWith(ys)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+Og).split(ys),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?VC:k[1]==="?"?qC:k[1]==="@"?GC:$h})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(Dx.test(l.tagName)){let m=l.textContent.split(ys),y=m.length-1;if(y>0){l.textContent=bc?bc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Ph()),ll.nextNode(),u.push({type:2,index:++o});l.append(m[y],Ph())}}}else if(l.nodeType===8)if(l.data===Ix)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ys,m+1))!==-1;)u.push({type:7,index:o}),m+=ys.length-1}o++}}static createElement(t,r){let a=cl.createElement("template");return a.innerHTML=t,a}};UC=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:cl).importNode(r,!0);ll.currentNode=l;let o=ll.nextNode(),c=0,n=0,u=a[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new Hx(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new YC(o,this,e)),this._$AV.push(p),u=a[++n]}c!==(u==null?void 0:u.index)&&(o=ll.nextNode(),c++)}return ll.currentNode=cl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Hx=class Fx{constructor(t,r,a,l){var o;this.type=2,this._$AH=Qn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=xc(this,t,r),Uu(t)?t===Qn||t==null||t===""?(this._$AH!==Qn&&this._$AR(),this._$AH=Qn):t!==this._$AH&&t!==wc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):FC(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Qn&&Uu(this._$AH)?this._$AA.nextSibling.data=t:this.$(cl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Mg.createElement(Nx(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let c=new UC(o,this),n=c.u(this.options);c.v(a),this.$(n),this._$AH=c}}_$AC(t){let r=Ox.get(t.strings);return r===void 0&&Ox.set(t.strings,r=new Mg(t)),r}T(t){Rx(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new Fx(this.k(Ph()),this.k(Ph()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},$h=class{constructor(e,t,r,a,l){this.type=1,this._$AH=Qn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Qn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=xc(this,e,t,0),o=!Uu(e)||e!==this._$AH&&e!==wc,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=xc(this,c[r+n],t,n),u===wc&&(u=this._$AH[n]),o||(o=!Uu(u)||u!==this._$AH[n]),u===Qn?e=Qn:e!==Qn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!a&&this.j(e)}j(e){e===Qn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},VC=class extends $h{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Qn?void 0:e}},WC=bc?bc.emptyScript:"",qC=class extends $h{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Qn?this.element.setAttribute(this.name,WC):this.element.removeAttribute(this.name)}},GC=class extends $h{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=xc(this,e,t,0))!==null&&r!==void 0?r:Qn)===wc)return;let a=this._$AH,l=e===Qn&&a!==Qn||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==Qn&&(a===Qn||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},YC=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){xc(this,e)}},Lg=Th.litHtmlPolyfillSupport;Lg==null||Lg(Mg,Hx),((Pg=Th.litHtmlVersions)!==null&&Pg!==void 0?Pg:Th.litHtmlVersions=[]).push("2.8.0");Mx=(e,t,r)=>{let a=new Map;for(let l=t;l<=r;l++)a.set(e[l],l);return a},Ca=wa(class extends xa{constructor(e){if(super(e),e.type!==ls.CHILD)throw Error("repeat() can only be used in text expressions")}ct(e,t,r){let a;r===void 0?r=t:t!==void 0&&(a=t);let l=[],o=[],c=0;for(let n of e)l[c]=a?a(n,c):c,o[c]=r(n,c),c++;return{values:o,keys:l}}render(e,t,r){return this.ct(e,t,r).values}update(e,[t,r,a]){var l;let o=Fu(e),{values:c,keys:n}=this.ct(t,r,a);if(!Array.isArray(o))return this.ut=n,c;let u=(l=this.ut)!==null&&l!==void 0?l:this.ut=[],p=[],g,m,y=0,x=o.length-1,w=0,k=c.length-1;for(;y<=x&&w<=k;)if(o[y]===null)y++;else if(o[x]===null)x--;else if(u[y]===n[w])p[w]=vs(o[y],c[w]),y++,w++;else if(u[x]===n[k])p[k]=vs(o[x],c[k]),x--,k--;else if(u[y]===n[k])p[k]=vs(o[y],c[k]),Va(e,p[k+1],o[y]),y++,k--;else if(u[x]===n[w])p[w]=vs(o[x],c[w]),Va(e,o[y],o[x]),x--,w++;else if(g===void 0&&(g=Mx(n,w,k),m=Mx(u,y,x)),g.has(u[y]))if(g.has(u[x])){let S=m.get(n[w]),P=S!==void 0?o[S]:null;if(P===null){let E=Va(e,o[y]);vs(E,c[w]),p[w]=E}else p[w]=vs(P,c[w]),Va(e,o[y],P),o[S]=null;w++}else Eh(o[x]),x--;else Eh(o[y]),y++;for(;w<=k;){let S=Va(e,p[k+1]);vs(S,c[w]),p[w++]=S}for(;y<=x;){let S=o[y++];S!==null&&Eh(S)}return this.ut=n,Hu(e,p),wc}});});var ul=Kt(()=>{zx()});var KC,Ig,Ux,XC,ZC,Wa,JC,bs,Rg,Dg,eo,Vx,oU,ca,QC,e9,t9,uU,Vu,dl,jg=Kt(()=>{vr();_i();Fr();oh();rx();vr();_i();Fr();_i();nx();vr();_i();Fr();_i();vr();_i();Fr();vr();_i();Fr();vr();_i();Fr();fg();mg();gg();vg();yg();bg();wg();vr();_i();Fr();ul();KC=pt`42px`,Ig=pt`var(--menuWidth, 320px)`,Ux=pt`var(--animationTiming, 200ms)`,XC=pt`
  .main {
    overflow: hidden;
    width: 100%;
    height: 100%;
  }

  .animate {
    transition: transform ${Ux} ease-out;
  }

  .menu {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: ${Ig};
    padding: 0.5rem 0.5rem 0 0;
    box-sizing: border-box;
    font-size: 1.4rem;
    color: var(--primaryTextColor);
    background: var(--menuSliderBg);
    transform: translateX(calc(${Ig} * -1));
  }

  .menu > button.close {
    right: 0.7rem;
  }

  button {
    cursor: pointer;
  }

  header {
    margin: 0 0 0.5rem 0;
  }

  header * {
    margin: 0;
    display: inline-block;
  }
  header button {
    cursor: pointer;
  }

  header.with-secondary-action .details {
    width: 80%;
  }

  header .details {
    font-weight: bold;
    width: 88%;
  }

  header .custom-action > *,
  button.close {
    padding: 0;
    background-color: transparent;
    border: 0;
    --iconWidth: var(--menuSliderHeaderIconWidth);
    --iconHeight: var(--menuSliderHeaderIconHeight);
  }

  header .custom-action,
  button.close {
    position: absolute;
  }
  button.close {
    right: 0.5rem;
  }

  button.close * {
    float: right;
  }

  .content {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: ${KC};
    z-index: 1;
    transform: translateX(calc(${Ig} * -1));
    transition: transform ${Ux} ease-out;
    background: var(--activeButtonBg);
    border-right: 0.2rem solid;
    border-color: var(--subpanelRightBorderColor);
    padding: 0.5rem 0 0 0.5rem;
    display: flex;
    flex-direction: column;
  }

  .open {
    transform: translateX(0);
  }

  .menu-list {
    padding: 0;
    margin: 0;
    list-style: none;
    background: var(--menuSliderBg);
  }
  .menu-list li {
    margin-bottom: 0.2rem;
  }

  .content > section {
    overflow: auto;
    overscroll-behavior: contain;
  }
`,ZC=pt`
  a {
    display: inline-block;
    text-decoration: none;
  }

  .menu-item {
    display: inline-flex;
    width: 100%;
    padding: 0;
    font-size: 1.6rem;
    text-align: left;
    background: transparent;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    border: none;
    cursor: pointer;
  }

  button.menu-item {
    -webkit-appearance: none;
    appearance: none;
    border-radius: 0;
  }

  .label {
    display: var(--menuButtonLabelDisplay, none);
    padding: 0;
    font-weight: 400;
    color: var(--primaryTextColor);
    text-align: left;
    vertical-align: middle;
    margin-left: 1rem;
  }

  .menu-details {
    color: var(--primaryTextColor);
    display: inline-block;
    margin-left: 0.5rem;
    font-style: italic;
    font-size: 1.5rem;
  }

  .menu-item > .icon {
    position: relative;
    display: inline-flex;
    z-index: 2;
    min-width: 4.2rem;
    max-width: 4.2rem;
    height: 4.2rem;
    vertical-align: middle;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
  }

  .menu-item.selected .icon {
    background-color: var(--activeButtonBg);
    border-radius: 1rem 0 0 1rem;
  }

  .icon .fill-color {
    fill: #999;
  }

  .icon.active .fill-color {
    fill: #fff;
  }
`,Wa=class extends mi{constructor(){super(...arguments),this.icon="",this.href="",this.label="",this.menuDetails="",this.buttonId="",this.selected=!1,this.followable=!1}static get styles(){return ZC}onClick(e){e.preventDefault(),this.dispatchMenuTypeSelectedEvent()}dispatchMenuTypeSelectedEvent(){this.dispatchEvent(new CustomEvent("menuTypeSelected",{bubbles:!0,composed:!0,detail:{id:this.buttonId}}))}get buttonClass(){return this.selected?"selected":""}get iconClass(){return this.selected?"active":""}get menuItem(){return Ke`
      <span class="icon ${this.iconClass}"> ${this.icon} </span>
      <span class="label">${this.label}</span>
      <span class="menu-details">${this.menuDetails}</span>
    `}get linkButton(){return Ke`
      <a
        href="${this.href}"
        class="menu-item ${this.buttonClass}"
        @click=${this.followable?void 0:this.onClick}
        >${this.menuItem}</a
      >
    `}get clickButton(){return Ke`
      <button class="menu-item ${this.buttonClass}" @click=${this.onClick}>
        ${this.menuItem}
      </button>
    `}render(){return this.href?this.linkButton:this.clickButton}};le([Qt({type:String})],Wa.prototype,"icon",void 0);le([Qt({type:String})],Wa.prototype,"href",void 0);le([Qt({type:String})],Wa.prototype,"label",void 0);le([Qt({type:String})],Wa.prototype,"menuDetails",void 0);le([Qt({type:String})],Wa.prototype,"buttonId",void 0);le([Qt({type:Boolean})],Wa.prototype,"selected",void 0);le([Qt({type:Boolean})],Wa.prototype,"followable",void 0);Wa=le([ur("menu-button")],Wa);JC={closeDrawer:"menuSliderClosed"},bs=class extends mi{constructor(){super(...arguments),this.menus=[],this.open=!1,this.manuallyHandleClose=!1,this.selectedMenu="",this.selectedMenuAction=Ei,this.animateMenuOpen=!1}static get styles(){return XC}updated(){let{actionButton:e}=this.selectedMenuDetails||{};e!==this.selectedMenuAction&&(this.selectedMenuAction=e||Ei)}setSelectedMenu({detail:e}){let{id:t}=e;this.selectedMenu=this.selectedMenu===t?"":t;let{actionButton:r}=this.selectedMenuDetails||{};this.selectedMenuAction=r||Ei}closeMenu(){this.manuallyHandleClose||(this.open=!1);let{closeDrawer:e}=JC,t=new CustomEvent(e,{detail:this.selectedMenuDetails});this.dispatchEvent(t)}get selectedMenuDetails(){return this.menus.find(e=>e.id===this.selectedMenu)}get selectedMenuComponent(){let e=this.selectedMenuDetails;return e&&(e!=null&&e.component)?e.component:Ke``}get sliderDetailsClass(){let e=this.animateMenuOpen?"animate":"",t=this.open?"open":"";return`${e} ${t}`}get selectedMenuClass(){return this.selectedMenu?"open":""}get menuItems(){return this.menus.map(e=>Ke`
        <li>
          <menu-button
            @menuTypeSelected=${this.setSelectedMenu}
            .icon=${e.icon}
            .label=${e.label}
            .menuDetails=${e.menuDetails}
            .buttonId=${e.id}
            .selected=${e.id===this.selectedMenu}
            .followable=${e.followable}
            .href=${e.href}
          ></menu-button>
        </li>
      `)}get renderMenuHeader(){let{label:e="",menuDetails:t=""}=this.selectedMenuDetails||{},r=this.selectedMenuAction?"with-secondary-action":"",a=this.selectedMenuAction?Ke`<span class="custom-action">${this.selectedMenuAction}</span>`:Ei;return Ke`
      <header class="${r}">
        <div class="details">
          <h3>${e}</h3>
          <span class="extra-details">${t}</span>
        </div>
        ${a} ${this.closeButton}
      </header>
    `}get closeButton(){return Ke`
      <button
        class="close"
        aria-label="Close this menu"
        @click=${this.closeMenu}
      >
        <ia-icon-collapse-sidebar></ia-icon-collapse-sidebar>
      </button>
    `}render(){return Ke`
      <div class="main">
        <div class="menu ${this.sliderDetailsClass}">
          ${this.closeButton}
          <ul class="menu-list">
            ${this.menuItems}
          </ul>
          <div
            class="content ${this.selectedMenuClass}"
            @menuTypeSelected=${this.setSelectedMenu}
          >
            ${this.renderMenuHeader}
            <section>
              <div class="selected-menu">${this.selectedMenuComponent}</div>
            </section>
          </div>
        </div>
      </div>
    `}};le([Qt({type:Array})],bs.prototype,"menus",void 0);le([Qt({type:Boolean})],bs.prototype,"open",void 0);le([Qt({type:Boolean})],bs.prototype,"manuallyHandleClose",void 0);le([Qt({type:String})],bs.prototype,"selectedMenu",void 0);le([Qt({type:Object})],bs.prototype,"selectedMenuAction",void 0);le([Qt({type:Boolean})],bs.prototype,"animateMenuOpen",void 0);bs=le([ur("ia-menu-slider")],bs);Rg=class extends mi{constructor(){super(...arguments),this.loaderMessage=""}get bookIconSvg(){return An`
      <g class="bookIcon" transform="matrix(1 0 0 -1 28 67.362264)">
        <path d="m44.71698 31.6981124v-29.99320678s-18.0956599.30735848-18.6322637-.7171698c-.0633962-.12226414-1.890566-.59207545-2.9745282-.59207545-1.3228302 0-3.5122641 0-4.1286791.74547168-.9707547 1.17452827-18.82811278.71660375-18.82811278.71660375v30.040754l1.83849052.7867924.29094339-28.48188608s15.94981097.15339622 17.09094297-1.10716978c.8145283-.90056602 4.997547-.91641507 5.3450942-.3526415.9611321 1.55716977 14.7101883 1.31716978 17.6077354 1.45981128l.3266038 28.22830118z"/>
        <path d="m40.1129424 33.5957539h-12.8337733c-1.8690565 0-3.1098112-.7545283-3.9299999-1.6279245v-26.70452764l1.2362264-.00792453c.4584906.72962262 3.0922641 1.39415091 3.0922641 1.39415091h10.1298111s1.0381131.01754717 1.5141509.47377357c.5643396.54056602.7913207 1.36981129.7913207 1.36981129z"/>
        <path d="m17.3354713 33.5957539h-12.8337733v-25.37660316s0-.75283017.49358489-1.14113205c.52867924-.41433961 1.3415094-.42849055 1.3415094-.42849055h10.59905631s2.2075471-.52698112 3.0928301-1.39415091l1.2.00792453v26.74245214c-.8201886.8581132-2.0530188 1.59-3.8932074 1.59"/>
      </g>
    `}get icon(){return this.bookIconSvg}get loader(){return An`
    <svg
      height="100"
      viewBox="0 0 100 100"
      width="100"
      xmlns="http://www.w3.org/2000/svg"
      aria-labelledby="item-loading"
    >
      <title id="item-loading">Currently loading viewer.</title>
      <desc>Please wait while we load theater.</desc>
      <g fill="#333" fill-rule="evenodd" class="book-icon">
        ${this.icon}
        <path
          class="ring"
          d="m17.8618849 11.6970233c18.5864635-15.59603144 45.6875867-15.59603102 64.2740497.000001 1.9271446 1.6170806 2.1785128 4.4902567.5614466 6.4174186-1.6170661 1.9271618-4.4902166 2.1785323-6.4173612.5614517-15.1996922-12.75416882-37.3625282-12.75416916-52.5622206-.000001-15.19969387 12.7541707-19.04823077 34.5805019-9.1273354 51.7641499 9.9208955 17.183646 30.7471499 24.7638499 49.3923323 17.9774983 18.6451823-6.7863521 29.7266014-25.9801026 26.2811129-45.5206248-.436848-2.4775114 1.2174186-4.8400696 3.6949079-5.2769215 2.4774893-.4368518 4.8400264 1.2174296 5.2768744 3.694941 4.2132065 23.8945096-9.3373563 47.3649806-32.137028 55.6634567-22.799672 8.2984758-48.2663986-.9707372-60.39785211-21.9832155-12.1314534-21.012481-7.42539173-47.7021198 11.16107351-63.2981544z"
          fill-rule="nonzero"
        />
      </g>
    </svg>
    `}render(){let e=this.loaderMessage?Ke`<h2>${this.loaderMessage}</h2>`:Ei;return Ke`
      <div class="place-holder">
        ${e} ${this.loader}
        <h3>Loading viewer</h3>
      </div>
    `}static get styles(){return pt`
      .place-holder {
        width: 30%;
        margin: auto;
        text-align: center;
        color: var(--primaryTextColor);
      }

      .place-holder {
        position: relative;
      }

      .place-holder svg {
        display: block;
        width: 60%;
        max-width: 100px;
        height: auto;
        margin: auto;
      }

      svg * {
        fill: var(--primaryTextColor);
      }

      svg .ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
        display: block; // transform won't work on inline style
      }

      @keyframes rotate {
        0% {
          -moz-transform: rotate(-360deg);
          -webkit-transform: rotate(-360deg);
          transform: rotate(-360deg);
        }
      }
    `}};le([Qt({type:String})],Rg.prototype,"loaderMessage",void 0);Rg=le([ur("ia-itemnav-loader")],Rg);Dg=class extends mi{constructor(){super(...arguments),this.identifier=""}emitLoaded(){this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:!0}}))}updated(e){e.has("identifier")&&this.emitLoaded()}get downloadUrl(){return`/download/${this.identifier}`}render(){return Ke`
      <section>
        <h2>THERE IS NO PREVIEW AVAILABLE FOR THIS ITEM</h2>
        <p>
          This item does not appear to have any files that can be experienced on
          Archive.org. <br />
          Please download files in this item to interact with them on your
          computer.
        </p>
        <a href=${this.downloadUrl}>Show all files</a>
      </section>
    `}static get styles(){return pt`
      :host {
        color: var(--primaryTextColor, #fff);
        text-align: center;
      }
      section {
        width: 100%;
        margin: 5%;
        padding: 0 5%;
      }
      p {
        font-size: 1.4rem;
      }
      a {
        color: var(--primaryTextColor, #fff);
        background-color: rgb(25, 72, 128);
        min-height: 35px;
        cursor: pointer;
        line-height: normal;
        border-radius: 0.4rem;
        text-align: center;
        vertical-align: middle;
        font-size: 1.4rem;
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        display: inline-block;
        padding: 0.85rem 1.2rem;
        border: 1px solid rgb(197, 209, 223);
        white-space: nowrap;
        appearance: auto;
        box-sizing: border-box;
        user-select: none;
        text-decoration: none;
      }
    `}};le([Qt({type:String})],Dg.prototype,"identifier",void 0);Dg=le([ur("ia-no-theater-available")],Dg);eo=class extends mi{constructor(){super(...arguments),this.viewAvailable=!0,this.baseHost="archive.org",this.signedIn=!1,this.menuContents=[],this.menuShortcuts=[],this.viewportInFullscreen=null,this.menuOpened=!1,this.loaded=!1,this.openMenuState="shift"}disconnectedCallback(){super.disconnectedCallback(),this.removeResizeObserver()}updated(e){if(e.has("sharedObserver")){let t=e.get("sharedObserver");t==null||t.removeObserver(this.resizeObserverConfig),this.setResizeObserver()}}handleResize(e){let{width:t}=e.contentRect;if(t<=600){this.openMenuState="overlay";return}this.openMenuState="shift"}setResizeObserver(){var e,t;(e=this.sharedObserver)===null||e===void 0||e.addObserver(this.resizeObserverConfig),(t=this.sharedObserver)===null||t===void 0||t.addObserver({target:this.headerSlot,handler:{handleResize:({contentRect:r})=>{r.height&&this.requestUpdate()}}})}removeResizeObserver(){var e;(e=this.sharedObserver)===null||e===void 0||e.removeObserver(this.resizeObserverConfig)}get resizeObserverConfig(){return{handler:this,target:this.frame}}get loaderTitle(){return this.viewportInFullscreen?"Internet Archive":""}get loadingArea(){return Ke`
      <div class="loading-area">
        <div class="loading-view">
          <ia-itemnav-loader
            .loaderMessage=${this.loaderTitle}
          ></ia-itemnav-loader>
        </div>
      </div>
    `}slotChange(e,t){var r;let a=(r=e.target.assignedNodes())===null||r===void 0?void 0:r[0];this.dispatchEvent(new CustomEvent("slotChange",{detail:{slot:a,type:t}})),this.requestUpdate()}render(){var e,t;let r=this.loaded?"":"hidden",a=((t=(e=this.headerSlot)===null||e===void 0?void 0:e.assignedNodes()[0])===null||t===void 0?void 0:t.offsetHeight)||0;return Ke`
      <div id="frame" class=${this.menuClass}>
        <slot
          name="header"
          style=${`height: ${a}px`}
          @slotchange=${l=>this.slotChange(l,"header")}
        ></slot>
        <div class="menu-and-reader">
          ${this.shouldRenderMenu?this.renderSideMenu:Ei}
          <div id="reader" class=${r}>
            ${this.renderViewport}
          </div>
          ${this.loaded?Ei:this.loadingArea}
        </div>
      </div>
    `}get noTheaterView(){var e,t;return Ke`<ia-no-theater-available
      .identifier=${(t=(e=this.item)===null||e===void 0?void 0:e.metadata)===null||t===void 0?void 0:t.identifier}
      @loadingStateUpdated=${this.loadingStateUpdated}
    ></ia-no-theater-available>`}get renderViewport(){if(!this.viewAvailable)return this.noTheaterView;let e=this.loaded?"opacity: 1;":"opacity: 0;";return Ke`
      <div slot="main" style=${e}>
        <slot
          name="main"
          @slotchange=${t=>this.slotChange(t,"main")}
        ></slot>
      </div>
    `}loadingStateUpdated(e){let{loaded:t}=e.detail;this.loaded=t!=null?t:!1}manageViewportFullscreen(e){let t=!!e.detail.isFullScreen;this.viewportInFullscreen=t||null;let r=new CustomEvent("fullscreenToggled",{detail:e.detail});this.dispatchEvent(r)}get shouldRenderMenu(){var e;return!!(!((e=this.menuContents)===null||e===void 0)&&e.length)}toggleMenu(){this.menuOpened=!this.menuOpened}closeMenu(){this.menuOpened=!1}setOpenMenu(e){let{id:t}=e.detail;this.openMenu=t!==this.openMenu?t:void 0}setMenuContents(e){let t=[...e.detail];this.menuContents=t}setMenuShortcuts(e){this.menuShortcuts=[...e.detail]}manageSideMenuEvents(e){let{menuId:t,action:r}=e.detail;t&&(r==="open"?this.openShortcut(t):r==="toggle"&&(this.openMenu=t,this.toggleMenu()))}get menuToggleButton(){return Ke`
      <button
        class="toggle-menu"
        @click=${this.toggleMenu}
        title="Toggle theater side panels"
      >
        <div>
          <ia-icon-ellipses
            style="width: var(--iconWidth); height: var(--iconHeight);"
          ></ia-icon-ellipses>
        </div>
      </button>
    `}get selectedMenuId(){return this.openMenu||""}get renderSideMenu(){let e=this.menuOpened?"":"hidden";return Ke`
      <nav>
        <div class="minimized">${this.shortcuts} ${this.menuToggleButton}</div>
        <div id="menu" class=${e}>
          <ia-menu-slider
            .menus=${this.menuContents}
            .selectedMenu=${this.selectedMenuId}
            @menuTypeSelected=${this.setOpenMenu}
            @menuSliderClosed=${this.closeMenu}
            manuallyHandleClose
            open
          ></ia-menu-slider>
        </div>
      </nav>
    `}openShortcut(e=""){this.openMenu=e,this.menuOpened=!0}get shortcuts(){let e=this.menuShortcuts.map(({icon:t,id:r})=>r==="fullscreen"?Ke`${t}`:Ke`
        <button class="shortcut ${r}" @click="${()=>this.openShortcut(r)}">
          ${t}
        </button>
      `);return Ke`<div class="shortcuts">${e}</div>`}get menuClass(){var e,t;let r=((e=this.menuContents)===null||e===void 0?void 0:e.length)||((t=this.menuShortcuts)===null||t===void 0?void 0:t.length),a=this.menuOpened&&r?"open":"",l=this.viewportInFullscreen?"fullscreen":"";return`${a} ${l} ${this.openMenuState}`}static get styles(){let e=pt`var(--menuWidth, 320px)`,t=pt`var(--animationTiming, 200ms)`,r=pt`transform ${t} ease-out`,a=pt`var(--theaterMenuMargin, 42px)`,l=pt`var(--theaterBgColor, #000)`;return pt`
      :host,
      #frame,
      .menu-and-reader {
        position: relative;
        overflow: hidden;
        display: block;
      }

      :host,
      #frame,
      .loading-area,
      .loading-view {
        min-height: inherit;
        height: inherit;
      }

      slot {
        display: block;
        width: 100%;
      }

      slot * {
        display: block;
        height: inherit;
      }

      #frame {
        background-color: ${l};
        color-scheme: dark;
        display: flex;
        flex-direction: column;
      }

      #frame.fullscreen {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 9;
      }

      .loading-view {
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .loading-area {
        width: 100%;
      }

      ia-itemnav-loader {
        display: block;
        width: 100%;
      }

      .hidden {
        display: none !important;
      }

      button {
        cursor: pointer;
        padding: 0;
        border: 0;
      }

      .menu-and-reader {
        position: relative;
        display: flex;
        flex: 1;
      }

      nav button {
        background: none;
      }

      nav .minimized {
        background: rgba(0, 0, 0, 0.7);
        padding-top: 6px;
        position: absolute;
        width: ${a};
        z-index: 2;
        left: 0;
        border-bottom-right-radius: 5%;
      }

      nav .minimized button {
        width: var(--iconWidth);
        height: var(--iconHeight);
        margin-bottom: 0.2rem;
        margin: auto;
        display: inline-flex;
        vertical-align: middle;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: center;
        justify-content: center;
        width: ${a};
        height: ${a};
      }

      nav .minimized button.toggle-menu > * {
        border: 2px solid var(--iconStrokeColor);
        border-radius: var(--iconWidth);
        width: var(--iconWidth);
        height: var(--iconHeight);
        margin: auto;
      }

      ia-icon-ellipses {
        width: var(--iconWidth);
        height: var(--iconHeight);
      }

      #menu {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        z-index: 3;
        overflow: hidden;
        transform: translateX(-${e});
        width: ${e};
        transform: translateX(calc(${e} * -1));
        transition: ${r};
      }

      #reader {
        position: relative;
        z-index: 1;
        transform: translateX(0);
        width: 100%;
        display: flex;
      }

      #reader > * {
        width: 100%;
        display: flex;
        flex: 1;
      }

      .open.overlay #reader {
        transition: none;
      }

      .open #menu {
        width: ${e};
        transform: translateX(0);
        transition: ${r};
      }

      .open.shift #reader {
        width: calc(100% - ${e});
        margin-left: ${e};
        transition: ${r};
      }
    `}};le([Qt({type:Object,converter:e=>e&&typeof e=="string"?new hm(JSON.parse(atob(e))):e})],eo.prototype,"item",void 0);le([Qt({type:Boolean,reflect:!0})],eo.prototype,"viewAvailable",void 0);le([Qt({type:String})],eo.prototype,"baseHost",void 0);le([Qt({type:Boolean})],eo.prototype,"signedIn",void 0);le([Qt({type:Array})],eo.prototype,"menuContents",void 0);le([Qt({type:Array})],eo.prototype,"menuShortcuts",void 0);le([Qt({type:Boolean,reflect:!0,attribute:!0})],eo.prototype,"viewportInFullscreen",void 0);le([Qt({type:Boolean,reflect:!0})],eo.prototype,"menuOpened",void 0);le([Qt({type:String,reflect:!0})],eo.prototype,"openMenu",void 0);le([Qt({attribute:!1})],eo.prototype,"modal",void 0);le([Qt({attribute:!1})],eo.prototype,"sharedObserver",void 0);le([Qt({type:Boolean,reflect:!0,attribute:!0})],eo.prototype,"loaded",void 0);le([$n()],eo.prototype,"openMenuState",void 0);le([sn("#frame")],eo.prototype,"frame",void 0);le([sn('slot[name="header"]')],eo.prototype,"headerSlot",void 0);le([sn('slot[name="main"]')],eo.prototype,"mainSlot",void 0);eo=le([ur("iaux-item-navigator")],eo);Vx=e=>{let t=e.currentTarget,r=t.querySelector("textarea"),a=t.querySelector("small");r.select(),document.execCommand("copy"),r.blur(),a.classList.add("visible"),clearTimeout(a.timeout),a.timeout=setTimeout(()=>a.classList.remove("visible"),4e3)},oU=Ke`<ia-icon-share
  style="width: var(--iconWidth); height: var(--iconHeight);"
></ia-icon-share>`,ca=class extends mi{constructor(){super(...arguments),this.baseHost="archive.org",this.creator="",this.description="",this.embedOptionsVisible=!1,this.identifier="",this.sharingOptions=[],this.type="",this.renderHeader=!1,this.fileSubPrefix=""}updated(e){e.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}loadProviders(){let e=`https://${this.baseHost}/details/${this.identifier}`;this.fileSubPrefix&&(e+=`/${this.fileSubPrefix}`);let t=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:Ke`<ia-icon-twitter></ia-icon-twitter>`,url:`https://twitter.com/intent/tweet?${new URLSearchParams({url:e,text:t,via:"internetarchive"})}`},{name:"Facebook",icon:Ke`<ia-icon-facebook></ia-icon-facebook>`,url:`https://www.facebook.com/sharer/sharer.php?${new URLSearchParams({u:e})}`},{name:"Tumblr",icon:Ke`<ia-icon-tumblr></ia-icon-tumblr>`,url:`https://www.tumblr.com/widgets/share/tool/preview?${new URLSearchParams({posttype:"link",canonicalUrl:e,title:t})}`},{name:"Pinterest",icon:Ke`<ia-icon-pinterest></ia-icon-pinterest>`,url:`http://www.pinterest.com/pin/create/button/?${new URLSearchParams({url:e,description:t})}`},{name:"Email",icon:Ke`<ia-icon-email></ia-icon-email>`,url:`mailto:?${new URLSearchParams({subject:t,body:e})}`}]}get iframeEmbed(){return`<iframe
      src="https://${this.baseHost}/embed/${this.identifier}"
      width="560" height="384" frameborder="0"
      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen
    ></iframe>`}get bbcodeEmbed(){return`[archiveorg ${this.identifier} width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`}get helpURL(){return`https://${this.baseHost}/help/audio.php?identifier=${this.identifier}`}get header(){let e=Ke`<header><h3>Share this ${this.type}</h3></header>`;return this.renderHeader?e:Ei}render(){return Ke`
      ${this.header}
      <main>
        ${this.sharingOptions.map(e=>Ke` <a class="share-option" href="${e.url}" target="_blank">
              ${e.icon} ${e.name}
            </a>`)}
        <details>
          <summary class="share-option">
            <ia-icon-link></ia-icon-link>
            Get an embeddable link
          </summary>
          <div class="embed">
            <h4>Embed</h4>
            <div class="code" @click=${Vx}>
              <textarea readonly>${this.iframeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <h4>
              Embed for wordpress.com hosted blogs and archive.org item
              &lt;description&gt; tags
            </h4>
            <div class="code" @click=${Vx}>
              <textarea readonly>${this.bbcodeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <p>
              Want more?
              <a href=${this.helpURL}
                >Advanced embedding details, examples, and help</a
              >!
            </p>
          </div>
        </details>
      </main>
    `}get providerIcon(){return Ke`<ia-icon-share
      style="width: var(--iconWidth); height: var(--iconHeight);"
    ></ia-icon-share>`}static get styles(){return pt`
      :host {
        display: block;
        height: 100%;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      header {
        display: flex;
        align-items: baseline;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.6rem;
      }

      h4 {
        font-size: 1.4rem;
      }

      main {
        padding: 1rem 0;
      }

      .share-option {
        display: block;
        padding: 0.5rem 0;
        font-size: 1.6rem;
        text-decoration: none;
        color: var(--shareLinkColor);
        cursor: pointer;
      }

      .share-option > * {
        display: inline-block;
        padding: 0.2rem;
        margin-right: 1rem;
        vertical-align: middle;
        border: 1px solid var(--shareIconBorder);
        border-radius: 7px;
        background: var(--shareIconBg);
      }

      /* Hide the triangle that appears on details tags */
      summary::marker {
        content: '';
      }

      summary::-webkit-details-marker {
        display: none;
      }

      .embed {
        padding-right: 5px;
      }

      .embed a {
        color: var(--shareLinkColor);
      }

      .code {
        position: relative;
      }

      textarea {
        display: block;
        width: 100%;
        height: 120px;
        padding: 0.8rem 1rem;
        box-sizing: border-box;
        resize: none;
        cursor: pointer;
        font:
          normal 1.4rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaColor, #fff);
        background: var(--textareaBg, #151515);
      }

      small {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3rem;
        padding: 0.5rem 1rem;
        box-sizing: border-box;
        font:
          normal 1.2rem/2rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaBg, #151515);
        background: var(--textareaColor, #fff);
        opacity: 0;
        transition: opacity 300ms linear;
      }
      small.visible {
        opacity: 1;
      }
    `}};le([Qt({type:String})],ca.prototype,"baseHost",void 0);le([Qt({type:String})],ca.prototype,"creator",void 0);le([Qt({type:String})],ca.prototype,"description",void 0);le([Qt({type:Boolean})],ca.prototype,"embedOptionsVisible",void 0);le([Qt({type:String})],ca.prototype,"identifier",void 0);le([Qt({type:Array})],ca.prototype,"sharingOptions",void 0);le([Qt({type:String})],ca.prototype,"type",void 0);le([Qt({type:Boolean})],ca.prototype,"renderHeader",void 0);le([Qt({type:String})],ca.prototype,"fileSubPrefix",void 0);ca=le([ur("iaux-in-share-panel")],ca);QC=Ke`
  <svg
    name="sort-asc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
        transform="matrix(1 0 0 -1 0 18.692308)"
      />
    </g>
  </svg>
`,e9=Ke`
  <svg
    name="sort-desc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
      />
    </g>
  </svg>
`,t9=Ke`
  <svg
    name="sort-neutral"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="#fff" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill-rule="nonzero"
      />
      <circle cx="13" cy="9" r="2" />
    </g>
  </svg>
`,uU=Ke`
  <svg
    height="24"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="volumesTitleID volumesDescID"
  >
    <title id="volumesTitleID">Viewable Files</title>
    <g fill="#ffffff">
      <path
        fill="#ffffff"
        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"
      />
    </g>
  </svg>
`,Vu=class extends mi{constructor(){super(...arguments),this.fileListRaw=[],this.fileListSorted=[],this.sortOrderBy="default"}render(){return Ke`<div class="sort-multi-file-list">${this.sortButton}</div>`}get sortButton(){return{default:Ke`
        <button
          class="sort-by neutral-icon"
          aria-label="Sort volumes in initial order"
          @click=${()=>this.sortVolumes("title_asc")}
        >
          ${t9}
        </button>
      `,title_asc:Ke`
        <button
          class="sort-by asc-icon"
          aria-label="Sort volumes in ascending order"
          @click=${()=>this.sortVolumes("title_desc")}
        >
          ${QC}
        </button>
      `,title_desc:Ke`
        <button
          class="sort-by desc-icon"
          aria-label="Sort volumes in descending order"
          @click=${()=>this.sortVolumes("default")}
        >
          ${e9}
        </button>
      `}[this.sortOrderBy]}sortVolumes(e){this.sortOrderBy=e;let t=[];t=this.fileListRaw.sort((r,a)=>e==="title_asc"?r.title.localeCompare(a.title):e==="title_desc"?a.title.localeCompare(r.title):r.orig_sort-a.orig_sort),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:e,sortedFiles:t},bubbles:!0,composed:!0})),this.fileListSorted=t}static get styles(){return pt`
      button.sort-by {
        padding: 0px;
        background-color: transparent;
        border: 0px;
        --iconWidth: var(--menuSliderHeaderIconWidth);
        --iconHeight: var(--menuSliderHeaderIconHeight);
      }
    `}};le([Qt({type:Array})],Vu.prototype,"fileListRaw",void 0);le([Qt({type:Array})],Vu.prototype,"fileListSorted",void 0);le([Qt({type:String,reflect:!0})],Vu.prototype,"sortOrderBy",void 0);Vu=le([ur("iaux-in-sort-files-button")],Vu);dl=class extends mi{constructor(){super(...arguments),this.baseHost="archive.org",this.sortOrderBy="default",this.subPrefix="",this.fileList=[],this.addSortToUrl=!1}firstUpdated(){let e=this.shadowRoot.querySelector(".content.active");setTimeout(()=>{e!=null&&e.scrollIntoViewIfNeeded?e==null||e.scrollIntoViewIfNeeded(!0):e==null||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}volumeItemWithImageTitle(e){let t=this.fileUrl(e);return Ke`
      <li class="content active">
        <div class="separator"></div>
        <a class="container" href="${t}">
          <div class="image">
            <img src="${e.image}" alt="preview" />
          </div>
          <div class="text">
            <p class="item-title">${e.title}</p>
            <small>by: ${e.author}</small>
          </div>
        </a>
      </li>
    `}fileUrl(e){let t=`//${this.baseHost}${e.url_path}`,r=t;return this.addSortToUrl&&(r=this.sortOrderBy==="default"?`${t}`:`${t}?sort=${this.sortOrderBy}`),r}get pdfLabel(){return Ke`<span class="pdf-label"
      ><span class="sr-only">view this</span> PDF</span
    >`}fileLi(e){var t;let r=this.subPrefix===e.file_subprefix?" active":"",a=this.fileUrl(e),l=((t=e.file_source)!==null&&t!==void 0?t:"").match(/^[^+]+\.pdf$/i);return Ke`
      <li>
        <div class="separator"></div>
        <div class="content${r}">
          <a href=${a}>
            <p class="item-title">
              ${e.title}${l?this.pdfLabel:Ei}
            </p>
          </a>
        </div>
      </li>
    `}get fileListTemplate(){let e=Ca(this.fileList,t=>t==null?void 0:t.file_prefix,this.fileLi.bind(this));return Ke`
      <ul>
        ${e}
        <div class="separator"></div>
      </ul>
    `}render(){return Ke` ${this.fileList.length?this.fileListTemplate:Ei} `}static get styles(){return pt`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-top: 14px;
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      a {
        color: #ffffff;
        text-decoration: none;
      }

      img {
        width: 35px;
        height: 45px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }

      ul > li:first-child .separator {
        display: none;
      }

      li {
        cursor: pointer;
        position: relative;
      }

      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: 0.2rem 0 0.4rem 0.2rem;
      }

      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }

      li.content a {
        display: flex;
      }

      small {
        font-style: italic;
        white-space: initial;
      }

      .container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .item-title {
        margin-block-start: 0em;
        margin-block-end: 0em;
        font-size: 14px;
        font-weight: bold;
        word-wrap: break-word;
        padding-left: 5px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      .text {
        padding-left: 10px;
      }

      .icon {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: 0.7rem;
        border: 1px solid var(--primaryTextColor);
        border-radius: 2px;
        background: var(--activeButtonBg) 50% 50% no-repeat;
      }

      .pdf-label {
        border: 1px solid;
        padding: 2px 5px;
        border-radius: 20px;
        display: inline-block;
        margin-left: 5px;
        font-size: 0.9rem;
      }

      .pdf-label .sr-only {
        position: absolute;
        clip: rect(1px, 1px, 1px, 1px);
        padding: 0;
        border: 0;
        height: 1px;
        width: 1px;
        overflow: hidden;
      }
    `}};le([Qt({type:String})],dl.prototype,"baseHost",void 0);le([Qt({type:String})],dl.prototype,"sortOrderBy",void 0);le([Qt({type:String})],dl.prototype,"subPrefix",void 0);le([Qt({type:Array})],dl.prototype,"fileList",void 0);le([Qt({type:Boolean,reflect:!0})],dl.prototype,"addSortToUrl",void 0);dl=le([ur("iaux-in-viewable-files-panel")],dl)});var i9,r9,Wu=Kt(()=>{_i();i9=Object.freeze({processing:"processing",complete:"complete"}),r9=class extends mi{static get properties(){return{mode:{type:String}}}constructor(){super(),this.mode=i9.processing}render(){return Ke`
      <div class="${this.mode}">
        <svg
          viewBox="0 0 120 120"
          preserveAspectRatio="none"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-labelledby="indicatorTitle indicatorDescription"
        >
          <title id="indicatorTitle">Activity Indicator</title>
          <desc id="indicatorDescription">
            A rotating activity indicator with three dots in the middle.
          </desc>
          <g
            id="icons/check-ring---squared"
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
          >
            <path
              id="completed-ring"
              class="loaded-indicator"
              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <polygon
              id="check"
              class="loaded-indicator"
              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "
              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"
            ></polygon>
            <path
              id="activity-ring"
              class="activity-indicator"
              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <g
              id="activity-dots"
              class="activity-indicator"
              transform="translate(40.000000, 55.000000)"
            >
              <circle id="left-dot" cx="5" cy="5" r="5"></circle>
              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>
              <circle id="right-dot" cx="35" cy="5" r="5"></circle>
            </g>
          </g>
        </svg>
      </div>
    `}static get styles(){let e=pt`var(--activityIndicatorCheckmarkColor, #31A481)`,t=pt`var(--activityIndicatorCompletedRingColor, #31A481)`,r=pt`var(--activityIndicatorLoadingRingColor, #333333)`,a=pt`var(--activityIndicatorLoadingDotColor, #333333)`;return pt`
      #completed-ring {
        fill: ${t};
      }

      #check {
        fill: ${e};
      }

      #activity-ring {
        fill: ${r};
      }

      #activity-dots {
        fill: ${a};
      }

      .activity-indicator {
        opacity: 0;
        transition: opacity 0.25s ease-out;
      }

      .processing .activity-indicator {
        opacity: 1;
      }

      .loaded-indicator {
        opacity: 1;
        transition: opacity 0.25s ease-out;
      }

      .processing .loaded-indicator {
        opacity: 0;
      }

      .image {
        border: 1px solid red;
        display: inline-block;
      }

      .processing #activity-ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
      }

      .processing #left-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.2s;
      }

      .processing #middle-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.4s;
      }

      .processing #right-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.6s;
      }

      @keyframes rotate {
        0% {
          transform: rotate(-360deg);
        }
        100% {
          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */
          transform: rotate(0deg);
        }
      }

      @keyframes dot {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    `}};window.customElements.define("ia-activity-indicator",r9)});var n9,Wx,qx,Gx=Kt(()=>{_i();_i();n9=Ke`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="closeTitleID closeDescID"
>
  <title id="closeTitleID">Close icon</title>
  <desc id="closeDescID">A line drawing of an X</desc>
  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>
</svg>
`,Wx=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return n9}};customElements.define("ia-icon-close",Wx);qx=Wx});var o9,Yx,Kx,Xx=Kt(()=>{_i();_i();o9=Ke`
<svg
  class="ia-logo"
  viewBox="0 0 27 30"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="logoTitleID logoDescID"
>
  <title id="logoTitleID">Internet Archive logo</title>
  <desc id="logoDescID">A line drawing of the Internet Archive headquarters building façade.</desc>
  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <mask id="mask-2" class="fill-color">
      <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>
    </mask>
    <use class="fill-color" xlink:href="#path-1"></use>
    <g mask="url(#mask-2)" class="fill-color">
      <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>
    </g>
  </g>
</svg>
`,Yx=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return o9}};customElements.define("ia-icon-ia-logo",Yx);Kx=Yx});var Bg,Ng,hl,a9,_c,kc=Kt(()=>{vr();_i();Fr();vr();_i();Fr();Wu();Gx();Xx();Xc();Bg=class{constructor(e){var t,r,a,l,o,c,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(a=e==null?void 0:e.showProcessingIndicator)!==null&&a!==void 0?a:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(c=e==null?void 0:e.showHeaderLogo)!==null&&c!==void 0?c:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}},Ng=class extends mi{constructor(){super(...arguments),this.config=new Bg}render(){return Ke`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?Ke`<div class="logo-icon">${Kx}</div>`:Ei}
            ${this.config.title?Ke`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?Ke`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?Ke` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?Ke` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(){let e=new Event("closeButtonPressed");this.dispatchEvent(e)}get closeButtonTemplate(){return Ke`
      <button
        type="button"
        class="close-button"
        tabindex="0"
        @click=${this.handleCloseButton}
      >
        ${qx}
      </button>
    `}static get styles(){let e=pt`var(--modalLogoSize, 6.5rem)`,t=pt`var(--processingImageSize, 7.5rem)`,r=pt`var(--modalCornerRadius, 1rem)`,a=pt`var(--modalBorder, 2px solid black)`,l=pt`var(--modalBottomMargin, 2.5rem)`,o=pt`var(--modalTopMargin, 5rem)`,c=pt`var(--modalHeaderBottomPadding, 0.5em)`,n=pt`var(--modalBottomPadding, 2rem)`,u=pt`var(--modalScrollOffset, 5px)`,p=pt`var(--modalTitleFontSize, 1.8rem)`,g=pt`var(--modalSubtitleFontSize, 1.4rem)`,m=pt`var(--modalHeadlineFontSize, 1.6rem)`,y=pt`var(--modalMessageFontSize, 1.4rem)`,x=pt`var(--modalTitleLineHeight, normal)`,w=pt`var(--modalSubtitleLineHeight, normal)`,k=pt`var(--modalHeadlineLineHeight, normal)`,S=pt`var(--modalMessageLineHeight, normal)`;return pt`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${a};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${c};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${p};
        font-weight: bold;
        line-height: ${x};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${g};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${a};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${u}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${u}) 0;
      }

      .headline {
        font-size: ${m};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${y};
        line-height: ${S};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};le([Qt({type:Object})],Ng.prototype,"config",void 0);Ng=le([ur("modal-template")],Ng);(function(e){e.Open="open",e.Closed="closed"})(hl||(hl={}));a9=class{constructor(e){this.windowResizeThrottler=Yl(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case hl.Open:this.startResizeListener(),this.stopDocumentScroll();break;case hl.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},_c=class extends mi{constructor(){super(...arguments),this.mode=hl.Closed,this.hostBridge=new a9(this),this.closeOnBackdropClick=!0}render(){return Ke`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="0"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=hl.Closed}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return Oo(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=hl.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=pt`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=pt`var(--modalBackdropZindex, 1000)`,r=pt`var(--modalWidth, 32rem)`,a=pt`var(--modalMaxWidth, 95%)`,l=pt`var(--modalZindex, 2000)`;return pt`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${a};
      }
    `}};le([Qt({type:String,reflect:!0})],_c.prototype,"mode",void 0);le([Qt({type:Object})],_c.prototype,"customModalContent",void 0);le([Qt({type:Object})],_c.prototype,"hostBridge",void 0);le([sn("modal-template")],_c.prototype,"modalTemplate",void 0);_c=le([ur("modal-manager")],_c)});var s9,l9,c9,Zx,qu,pl,Lh=Kt(()=>{vr();_i();Fr();ul();s9=Ke`
  <svg
    name="sort-asc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
        transform="matrix(1 0 0 -1 0 18.692308)"
      />
    </g>
  </svg>
`,l9=Ke`
  <svg
    name="sort-desc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
      />
    </g>
  </svg>
`,c9=Ke`
  <svg
    name="sort-neutral"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="#fff" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill-rule="nonzero"
      />
      <circle cx="13" cy="9" r="2" />
    </g>
  </svg>
`,Zx=Ke`
  <svg
    height="24"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="volumesTitleID volumesDescID"
  >
    <title id="volumesTitleID">Viewable Files</title>
    <g fill="#ffffff">
      <path
        fill="#ffffff"
        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"
      />
    </g>
  </svg>
`,qu=class extends mi{constructor(){super(...arguments),this.fileListRaw=[],this.fileListSorted=[],this.sortOrderBy="default"}render(){return Ke`<div class="sort-multi-file-list">${this.sortButton}</div>`}get sortButton(){return{default:Ke`
        <button
          class="sort-by neutral-icon"
          aria-label="Sort volumes in initial order"
          @click=${()=>this.sortVolumes("title_asc")}
        >
          ${c9}
        </button>
      `,title_asc:Ke`
        <button
          class="sort-by asc-icon"
          aria-label="Sort volumes in ascending order"
          @click=${()=>this.sortVolumes("title_desc")}
        >
          ${s9}
        </button>
      `,title_desc:Ke`
        <button
          class="sort-by desc-icon"
          aria-label="Sort volumes in descending order"
          @click=${()=>this.sortVolumes("default")}
        >
          ${l9}
        </button>
      `}[this.sortOrderBy]}sortVolumes(e){this.sortOrderBy=e;let t=[];t=this.fileListRaw.sort((r,a)=>e==="title_asc"?r.title.localeCompare(a.title):e==="title_desc"?a.title.localeCompare(r.title):r.orig_sort-a.orig_sort),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:e,sortedFiles:t},bubbles:!0,composed:!0})),this.fileListSorted=t}static get styles(){return pt`
      button.sort-by {
        padding: 0px;
        background-color: transparent;
        border: 0px;
        --iconWidth: var(--menuSliderHeaderIconWidth);
        --iconHeight: var(--menuSliderHeaderIconHeight);
      }
    `}};le([Qt({type:Array})],qu.prototype,"fileListRaw",void 0);le([Qt({type:Array})],qu.prototype,"fileListSorted",void 0);le([Qt({type:String,reflect:!0})],qu.prototype,"sortOrderBy",void 0);qu=le([ur("iaux-in-sort-files-button")],qu);pl=class extends mi{constructor(){super(...arguments),this.baseHost="archive.org",this.sortOrderBy="default",this.subPrefix="",this.fileList=[],this.addSortToUrl=!1}firstUpdated(){let e=this.shadowRoot.querySelector(".content.active");setTimeout(()=>{e!=null&&e.scrollIntoViewIfNeeded?e==null||e.scrollIntoViewIfNeeded(!0):e==null||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}volumeItemWithImageTitle(e){let t=this.fileUrl(e);return Ke`
      <li class="content active">
        <div class="separator"></div>
        <a class="container" href="${t}">
          <div class="image">
            <img src="${e.image}" alt="preview" />
          </div>
          <div class="text">
            <p class="item-title">${e.title}</p>
            <small>by: ${e.author}</small>
          </div>
        </a>
      </li>
    `}fileUrl(e){let t=`//${this.baseHost}${e.url_path}`,r=t;return this.addSortToUrl&&(r=this.sortOrderBy==="default"?`${t}`:`${t}?sort=${this.sortOrderBy}`),r}get pdfLabel(){return Ke`<span class="pdf-label"
      ><span class="sr-only">view this</span> PDF</span
    >`}fileLi(e){var t;let r=this.subPrefix===e.file_subprefix?" active":"",a=this.fileUrl(e),l=((t=e.file_source)!==null&&t!==void 0?t:"").match(/^[^+]+\.pdf$/i);return Ke`
      <li>
        <div class="separator"></div>
        <div class="content${r}">
          <a href=${a}>
            <p class="item-title">
              ${e.title}${l?this.pdfLabel:Ei}
            </p>
          </a>
        </div>
      </li>
    `}get fileListTemplate(){let e=Ca(this.fileList,t=>t==null?void 0:t.file_prefix,this.fileLi.bind(this));return Ke`
      <ul>
        ${e}
        <div class="separator"></div>
      </ul>
    `}render(){return Ke` ${this.fileList.length?this.fileListTemplate:Ei} `}static get styles(){return pt`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-top: 14px;
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      a {
        color: #ffffff;
        text-decoration: none;
      }

      img {
        width: 35px;
        height: 45px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }

      ul > li:first-child .separator {
        display: none;
      }

      li {
        cursor: pointer;
        position: relative;
      }

      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: 0.2rem 0 0.4rem 0.2rem;
      }

      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }

      li.content a {
        display: flex;
      }

      small {
        font-style: italic;
        white-space: initial;
      }

      .container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .item-title {
        margin-block-start: 0em;
        margin-block-end: 0em;
        font-size: 14px;
        font-weight: bold;
        word-wrap: break-word;
        padding-left: 5px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      .text {
        padding-left: 10px;
      }

      .icon {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: 0.7rem;
        border: 1px solid var(--primaryTextColor);
        border-radius: 2px;
        background: var(--activeButtonBg) 50% 50% no-repeat;
      }

      .pdf-label {
        border: 1px solid;
        padding: 2px 5px;
        border-radius: 20px;
        display: inline-block;
        margin-left: 5px;
        font-size: 0.9rem;
      }

      .pdf-label .sr-only {
        position: absolute;
        clip: rect(1px, 1px, 1px, 1px);
        padding: 0;
        border: 0;
        height: 1px;
        width: 1px;
        overflow: hidden;
      }
    `}};le([Qt({type:String})],pl.prototype,"baseHost",void 0);le([Qt({type:String})],pl.prototype,"sortOrderBy",void 0);le([Qt({type:String})],pl.prototype,"subPrefix",void 0);le([Qt({type:Array})],pl.prototype,"fileList",void 0);le([Qt({type:Boolean,reflect:!0})],pl.prototype,"addSortToUrl",void 0);pl=le([ur("iaux-in-viewable-files-panel")],pl)});var u9,d9,Hg=Kt(()=>{_i();_i();u9=Ke`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="searchTitleID searchDescID"
>
  <title id="searchTitleID">Search icon</title>
  <desc id="searchDescID">Search for something.</desc>
  <path
    class="fill-color"
    fill="none"
    d="m17.0555551 41.3194459c0-12.7430552 10.3541664-23.1027772 23.0847216-23.1027772 12.7166664 0 23.0777773 10.359722 23.0777773 23.1027772 0 12.7361108-10.3611109 23.0986106-23.0777773 23.0986106-12.7305552 0-23.0847216-10.3624998-23.0847216-23.0986106zm-17.24305512 0c0 22.2916661 18.04583292 40.3472213 40.32777672 40.3472213 8.9208332 0 17.145833-2.9319449 23.8194439-7.8527776l24.1513883 24.0777771c1.2125 1.1402778 2.8430555 1.8430556 4.6374999 1.8430556 3.7444443 0 6.7805554-3.0361111 6.7805554-6.7791665 0-2.0652778-.9222222-3.9069444-2.3736111-5.1499999l-23.718055-23.7458328c4.4152777-6.4791665 7.0152776-14.3055552 7.0152776-22.7402772 0-22.2791661-18.0458328-40.34861006-40.312499-40.34861006-22.2819438 0-40.32777672 18.06944396-40.32777672 40.34861006z" />
</svg>
`,d9=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return u9}};customElements.define("ia-icon-search",d9)});var h9,p9,Fg=Kt(()=>{_i();_i();h9=Ke`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="downloadTitleID downloadDescID"
>
  <title id="downloadTitleID">Download icon</title>
  <desc id="downloadDescID">An arrow pointing downward at an empty document tray</desc>
  <g class="fill-color">

    <path d="m50 80 33.3333333-43.3333333h-20v-36.6666667h-26.6666666v36.6666667h-20zm50 20v-13.3333333h-100v13.3333333z"/>
  </g>
</svg>
`,p9=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return h9}};customElements.define("ia-icon-dl",p9)});var f9,zg=Kt(()=>{_i();f9=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      #hollow,
      #plus,
      #minus {
        display: none;
      }

      .hollow #filled,
      .plus #filled,
      .minus #filled {
        display: none;
      }

      .hollow #hollow,
      .plus #hollow,
      .minus #hollow {
        display: block;
      }

      .plus #plus {
        display: block;
      }

      .minus #minus {
        display: block;
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}static get properties(){return{state:{type:String}}}render(){return Ke`
      <div class=${this.state}>
        <svg
          height="24"
          viewBox="0 0 16 24"
          width="16"
          xmlns="http://www.w3.org/2000/svg"
          aria-labelledby="bookmarkTitleID bookmarDescID"
        >
          <title id="bookmarkTitleID">Bookmark icon</title>
          <desc id="bookmarkDescID">An outline of the shape of a bookmark</desc>
          <path
            id="filled"
            d="m1 0h14c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1z"
            class="fill-color"
            fill-rule="evenodd"
          />
          <g class="fill-color" fill-rule="evenodd">
            <path
              id="hollow"
              d="m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z"
            />
            <path
              id="plus"
              d="m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z"
              fill-rule="nonzero"
            />
            <path id="minus" d="m11 8.25v1.5h-6v-1.5z" fill-rule="nonzero" />
          </g>
        </svg>
      </div>
    `}};window.customElements.define("icon-bookmark",f9)});var Jx,Qx,ua,Oh=Kt(()=>{vr();_i();Fr();fg();mg();gg();vg();yg();bg();wg();Jx=e=>{let t=e.currentTarget,r=t.querySelector("textarea"),a=t.querySelector("small");r.select(),document.execCommand("copy"),r.blur(),a.classList.add("visible"),clearTimeout(a.timeout),a.timeout=setTimeout(()=>a.classList.remove("visible"),4e3)},Qx=Ke`<ia-icon-share
  style="width: var(--iconWidth); height: var(--iconHeight);"
></ia-icon-share>`,ua=class extends mi{constructor(){super(...arguments),this.baseHost="archive.org",this.creator="",this.description="",this.embedOptionsVisible=!1,this.identifier="",this.sharingOptions=[],this.type="",this.renderHeader=!1,this.fileSubPrefix=""}updated(e){e.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}loadProviders(){let e=`https://${this.baseHost}/details/${this.identifier}`;this.fileSubPrefix&&(e+=`/${this.fileSubPrefix}`);let t=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:Ke`<ia-icon-twitter></ia-icon-twitter>`,url:`https://twitter.com/intent/tweet?${new URLSearchParams({url:e,text:t,via:"internetarchive"})}`},{name:"Facebook",icon:Ke`<ia-icon-facebook></ia-icon-facebook>`,url:`https://www.facebook.com/sharer/sharer.php?${new URLSearchParams({u:e})}`},{name:"Tumblr",icon:Ke`<ia-icon-tumblr></ia-icon-tumblr>`,url:`https://www.tumblr.com/widgets/share/tool/preview?${new URLSearchParams({posttype:"link",canonicalUrl:e,title:t})}`},{name:"Pinterest",icon:Ke`<ia-icon-pinterest></ia-icon-pinterest>`,url:`http://www.pinterest.com/pin/create/button/?${new URLSearchParams({url:e,description:t})}`},{name:"Email",icon:Ke`<ia-icon-email></ia-icon-email>`,url:`mailto:?${new URLSearchParams({subject:t,body:e})}`}]}get iframeEmbed(){return`<iframe
      src="https://${this.baseHost}/embed/${this.identifier}"
      width="560" height="384" frameborder="0"
      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen
    ></iframe>`}get bbcodeEmbed(){return`[archiveorg ${this.identifier} width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`}get helpURL(){return`https://${this.baseHost}/help/audio.php?identifier=${this.identifier}`}get header(){let e=Ke`<header><h3>Share this ${this.type}</h3></header>`;return this.renderHeader?e:Ei}render(){return Ke`
      ${this.header}
      <main>
        ${this.sharingOptions.map(e=>Ke` <a class="share-option" href="${e.url}" target="_blank">
              ${e.icon} ${e.name}
            </a>`)}
        <details>
          <summary class="share-option">
            <ia-icon-link></ia-icon-link>
            Get an embeddable link
          </summary>
          <div class="embed">
            <h4>Embed</h4>
            <div class="code" @click=${Jx}>
              <textarea readonly>${this.iframeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <h4>
              Embed for wordpress.com hosted blogs and archive.org item
              &lt;description&gt; tags
            </h4>
            <div class="code" @click=${Jx}>
              <textarea readonly>${this.bbcodeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <p>
              Want more?
              <a href=${this.helpURL}
                >Advanced embedding details, examples, and help</a
              >!
            </p>
          </div>
        </details>
      </main>
    `}get providerIcon(){return Ke`<ia-icon-share
      style="width: var(--iconWidth); height: var(--iconHeight);"
    ></ia-icon-share>`}static get styles(){return pt`
      :host {
        display: block;
        height: 100%;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      header {
        display: flex;
        align-items: baseline;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.6rem;
      }

      h4 {
        font-size: 1.4rem;
      }

      main {
        padding: 1rem 0;
      }

      .share-option {
        display: block;
        padding: 0.5rem 0;
        font-size: 1.6rem;
        text-decoration: none;
        color: var(--shareLinkColor);
        cursor: pointer;
      }

      .share-option > * {
        display: inline-block;
        padding: 0.2rem;
        margin-right: 1rem;
        vertical-align: middle;
        border: 1px solid var(--shareIconBorder);
        border-radius: 7px;
        background: var(--shareIconBg);
      }

      /* Hide the triangle that appears on details tags */
      summary::marker {
        content: '';
      }

      summary::-webkit-details-marker {
        display: none;
      }

      .embed {
        padding-right: 5px;
      }

      .embed a {
        color: var(--shareLinkColor);
      }

      .code {
        position: relative;
      }

      textarea {
        display: block;
        width: 100%;
        height: 120px;
        padding: 0.8rem 1rem;
        box-sizing: border-box;
        resize: none;
        cursor: pointer;
        font:
          normal 1.4rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaColor, #fff);
        background: var(--textareaBg, #151515);
      }

      small {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3rem;
        padding: 0.5rem 1rem;
        box-sizing: border-box;
        font:
          normal 1.2rem/2rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaBg, #151515);
        background: var(--textareaColor, #fff);
        opacity: 0;
        transition: opacity 300ms linear;
      }
      small.visible {
        opacity: 1;
      }
    `}};le([Qt({type:String})],ua.prototype,"baseHost",void 0);le([Qt({type:String})],ua.prototype,"creator",void 0);le([Qt({type:String})],ua.prototype,"description",void 0);le([Qt({type:Boolean})],ua.prototype,"embedOptionsVisible",void 0);le([Qt({type:String})],ua.prototype,"identifier",void 0);le([Qt({type:Array})],ua.prototype,"sharingOptions",void 0);le([Qt({type:String})],ua.prototype,"type",void 0);le([Qt({type:Boolean})],ua.prototype,"renderHeader",void 0);le([Qt({type:String})],ua.prototype,"fileSubPrefix",void 0);ua=le([ur("iaux-in-share-panel")],ua)});var m9,g9,Ug=Kt(()=>{_i();_i();m9=Ke`
<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="visualAdjustmentTitleID visualAdjustmentDescID"
>
  <title id="visualAdjustmentTitleID">Visual adjustment</title>
  <desc id="visualAdjustmentDescID">A circle with its left hemisphere filled</desc>
  <path class="fill-color" d="m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2v20l.2664041-.0034797c5.399703-.1412166 9.7335959-4.562751 9.7335959-9.9965203 0-5.5228475-4.4771525-10-10-10z" fill-rule="evenodd" />
</svg>
`,g9=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return m9}};customElements.define("ia-icon-visual-adjustment",g9)});var v9,y9,Vg=Kt(()=>{_i();_i();v9=Ke`
<svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg" aria-labelledby="editPencilTitleID editPencilDescID"><title id="editPencilTitleID">Pencil icon</title><desc id="editPencilDescID">An illustration of a pencil, used to represent an edit action</desc><path class="fill-color" d="m15.6111048 9.3708338-9.52237183 9.5222966-5.14363353 1.0897111c-.42296707.0896082-.83849202-.1806298-.92810097-.6035935-.02266463-.1069795-.02266463-.2175207 0-.3245001l1.08971974-5.1435929 9.52237189-9.52229656zm-10.89310224 5.9110366-2.78094924-.5403869-.67567462 3.166657.83033407.8303275 3.16668096-.6756703zm14.82724244-12.05935921c.6114418.61143705.6055516 1.6086709-.0131615 2.22737904l-2.2405581 2.24054036-4.9820147-4.98197536 2.2405581-2.24054036c.618713-.61870814 1.6159506-.62460252 2.2273925-.01316547z" fill-rule="evenodd"/></svg>
`,y9=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return v9}};customElements.define("ia-icon-edit-pencil",y9)});var b9,w9,Wg=Kt(()=>{_i();_i();b9=Ke`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="magnify-minusTitleID magnify-minusDescID"
>
  <title id="magnify-minusTitleID">Zoom out</title>
  <desc id="magnify-minusDescID">Take a look further.</desc>
  <g
    class="fill-color"
    fill="none"
    fill-rule="nonzero"
  >
    <path d="m2.3239824 87.3815869 25.8938394-23.8143095c-4.5929593-6.6937643-6.889439-14.1059452-6.889439-22.2365428 0-7.1360431 1.7567382-13.7186647 5.2702146-19.7478649 3.5134763-6.0292002 8.2852035-10.8003118 14.3151815-14.31333499 6.029978-3.51302314 12.6134488-5.26953471 19.7504125-5.26953471s13.7204346 1.75651157 19.7504126 5.26953471c6.029978 3.51302319 10.8017051 8.28413479 14.3151815 14.31333499 3.5134763 6.0292002 5.2702145 12.6118218 5.2702145 19.7478649s-1.7567382 13.7324143-5.2702145 19.7891137c-3.5134764 6.0566994-8.2852035 10.8415607-14.3151815 14.3545838-6.029978 3.5130232-12.6134489 5.2695347-19.7504126 5.2695347-8.5762743 0-16.3217363-2.5723212-23.2363861-7.7169637l-26.3063807 24.2302349c-1.27200216 1.1618413-2.76631826 1.742762-4.48294825 1.742762-1.826641 0-3.38971397-.6496687-4.68921892-1.949006s-1.94925743-2.8622087-1.94925743-4.688614c0-1.9364022.7746608-3.5955208 2.3239824-4.9773557zm58.3436469-19.9162976c7.1919692 0 13.3331041-2.5585716 18.4234048-7.6757149s7.635451-11.2712357 7.635451-18.4622772-2.5451503-13.3313843-7.635451-18.4210284-11.2314356-7.6344661-18.4234048-7.6344661-13.3331042 2.544822-18.4234049 7.6344661-7.635451 11.2299869-7.635451 18.4210284 2.5451503 13.3451339 7.635451 18.4622772 11.2314357 7.6757149 18.4234049 7.6757149zm-14.9374313-21.3256316h31.2878163v-9.5422233h-31.2878163z"/>
  </g>
</svg>
`,w9=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return b9}};customElements.define("ia-icon-magnify-minus",w9)});var x9,_9,qg=Kt(()=>{_i();_i();x9=Ke`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="magnify-plusTitleID magnify-plusDescID"
>
  <title id="magnify-plusTitleID">Zoom in</title>
  <desc id="magnify-plusDescID">Take a look closer.</desc>
  <g
    class="fill-color"
    fill="none"
    fill-rule="nonzero"
  >
    <path d="m2.40305276 87.4017263 25.81133064-23.7730295c-4.5356618-6.5723551-6.8034928-14.000283-6.8034928-22.2837838 0-7.1236734 1.7429868-13.6948847 5.2289603-19.7136338 3.4859736-6.0187491 8.2577006-10.7953163 14.3151813-14.32970144 6.0574806-3.53438517 12.6547027-5.30157776 19.7916662-5.30157776 10.8429591 0 20.0964884 3.85236545 27.760588 11.5570964 7.6640996 7.7047309 11.4950036 16.9684802 11.4927136 27.791248 0 10.8799585-3.8309059 20.1574336-11.4927136 27.8324254-7.6618077 7.6749917-16.915337 11.5124876-27.760588 11.5124876-8.6312796 0-16.431747-2.5678624-23.4014021-7.7035871l-26.1413636 24.188234c-1.21699671 1.2147305-2.73881553 1.8220957-4.56545649 1.8220957s-3.3897139-.6485425-4.68921882-1.9456276c-1.29950493-1.297085-1.94925739-2.8572473-1.94925739-4.6804867 0-1.8781426.80216353-3.5343852 2.4064906-4.9687279zm58.34020784-19.878343c7.1369635 0 13.264347-2.5678623 18.3821503-7.7035871 5.1178034-5.1357247 7.676705-11.2928753 7.676705-18.4714518s-2.5589016-13.3082755-7.676705-18.3890972c-5.1178033-5.0808217-11.2451868-7.6212325-18.3821503-7.6212325-7.2469746 0-13.4156121 2.5404108-18.5059127 7.6212325s-7.6354509 11.2105207-7.6354509 18.3890972 2.5589016 13.3357271 7.676705 18.4714518c5.1178033 5.1357248 11.2726895 7.7035871 18.4646586 7.7035871zm-13.3594607-21.8685793h10.206958v10.1879511h7.2194718v-10.1879511h10.206958v-7.206028h-10.206958v-10.187951h-7.2194718v10.187951h-10.206958z"/>
  </g>
</svg>
`,_9=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return x9}};customElements.define("ia-icon-magnify-plus",_9)});function i_(e,t){return e.sort((r,a)=>{let l=t?t(r):r,o=t?t(a):a;return l<o?-1:l>o?1:0})}var r_,e_,Gu,k9,Kn,A9,S9,t_,C9,E9,Gg,Yg,T9,P9,$9,L9,O9,M9,I9,R9,o_,D9,j9,N9,B9,Mh,H9,F9,Ih,z9,s_,l_=Kt(()=>{_i();jg();Us();kc();_i();_i();Hg();ds();_i();Wu();_i();_i();_i();_i();Fg();_i();_i();Ug();_i();ul();_i();Wg();qg();_i();_i();_i();_i();kc();_i();ul();_i();_i();ul();_i();Vg();zg();_i();Oh();Oh();_i();Lh();Lh();_i();kc();kc();Us();r_=pt`data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgMTMgMTAiIHdpZHRoPSIxMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNC4zMzMzMzMzMyAxMC00LjMzMzMzMzMzLTQuMTY2NjY2NjcgMS43MzMzMzMzMy0xLjY2NjY2NjY2IDIuNiAyLjUgNi45MzMzMzMzNy02LjY2NjY2NjY3IDEuNzMzMzMzMyAxLjY2NjY2NjY3eiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+`,e_=pt`data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDAgNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1sYWJlbGxlZGJ5PSJjbG9zZVRpdGxlSUQgY2xvc2VEZXNjSUQiPjxwYXRoIGQ9Ik0yOS4xOTIgMTAuODA4YTEuNSAxLjUgMCAwMTAgMi4xMkwyMi4xMjIgMjBsNy4wNyA3LjA3MmExLjUgMS41IDAgMDEtMi4xMiAyLjEyMWwtNy4wNzMtNy4wNy03LjA3IDcuMDdhMS41IDEuNSAwIDAxLTIuMTIxLTIuMTJsNy4wNy03LjA3My03LjA3LTcuMDdhMS41IDEuNSAwIDAxMi4xMi0yLjEyMUwyMCAxNy44NzhsNy4wNzItNy4wN2ExLjUgMS41IDAgMDEyLjEyMSAweiIgY2xhc3M9ImZpbGwtY29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==`,Gu=pt`
  .ia-button {
    min-height: 3rem;
    border: none;
    outline: none;
    cursor: pointer;
    color: var(--primaryTextColor);
    line-height: normal;
    border-radius: .4rem;
    text-align: center;
    vertical-align: middle;
    font-size: 1.4rem;
    font-family: inherit;
    display: inline-block;
    padding: .6rem 1.2rem;
    border: 1px solid transparent;

    white-space: nowrap;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
    user-select: none;
  }

  .ia-button.link,
  .ia-button.external {
    min-height: unset;
    text-decoration: none;
  }

  .ia-button:disabled,
  .ia-button.disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

  .ia-button.transparent {
    background-color: transparent;
  }
  
  .ia-button.slim {
    padding: 0;
  }

  .ia-button.primary {
    background-color: var(--primaryCTAFill);
    border-color: var(--primaryCTABorder);
  }

  .ia-button.cancel {
    background-color: var(--primaryErrorCTAFill);
    border-color: var(--primaryErrorCTABorder);
  }

  .ia-button.external {
    background: var(--secondaryCTAFill);
    border-color: var(--secondaryCTABorder);
  }
`,k9=class extends mi{static get properties(){return{results:{type:Array},query:{type:String},queryInProgress:{type:Boolean},renderHeader:{type:Boolean},renderSearchAllFiles:{type:Boolean},displayResultImages:{type:Boolean},errorMessage:{type:String}}}constructor(){super(),this.results=[],this.query="",this.queryInProgress=!1,this.renderHeader=!1,this.renderSearchAllFiles=!1,this.displayResultImages=!1,this.errorMessage="",this.bindBookReaderListeners()}updated(){this.focusOnInputIfNecessary()}bindBookReaderListeners(){document.addEventListener("BookReader:SearchCallback",this.setResults.bind(this))}focusOnInputIfNecessary(){this.results.length||this.shadowRoot.querySelector("input[type='search']").focus()}setResults({detail:e}){this.results=e.results}setQuery(e){this.query=e.currentTarget.value,this.query||this.cancelSearch()}performSearch(e){e.preventDefault();let t=e.currentTarget.querySelector('input[type="search"]');!t||!t.value||this.dispatchEvent(new CustomEvent("bookSearchInitiated",{bubbles:!0,composed:!0,detail:{query:this.query}}))}selectResult(e){this.dispatchEvent(new CustomEvent("resultSelected",{bubbles:!0,composed:!0,detail:{match:e}})),this.dispatchEvent(new CustomEvent("closeMenu",{bubbles:!0,composed:!0}))}cancelSearch(){this.queryInProgress=!1,this.dispatchSearchCanceled()}dispatchSearchCanceled(){this.dispatchEvent(new Event("bookSearchCanceled"))}get resultsCount(){let e=this.results.length;return e?Ke`<p>(${e} result${e>1?"s":""})</p>`:Ei}get headerSection(){let e=Ke`<header>
      <h3>Search inside</h3>
      ${this.resultsCount}
    </header>`;return this.renderHeader?e:Ei}get searchMultipleControls(){let e=Ke`
      <input name="all_files" id="all_files" type="checkbox" />
      <label class="checkbox" for="all_files">Search all files</label>
    `;return this.renderSearchAllFiles?e:Ei}get loadingIndicator(){return Ke`
      <div class="loading">
        <ia-activity-indicator mode="processing"></ia-activity-indicator>
        <p>Searching</p>
        <button class="ia-button external cancel-search" @click=${this.cancelSearch}>Cancel</button>
      </div>
    `}get resultsSet(){let e=this.displayResultImages?"show-image":"";return Ke`
      <ul class="results ${e}">
        ${this.results.map(t=>Ke`
            <li @click=${this.selectResult.bind(this,t)}>
              ${t.cover?Ke`<img src="${t.cover}" />`:Ei}
              <h4>${t.title||Ei}</h4>
              <p class="page-num">Page ${t.displayPageNumber}</p>
              <p>${us(t.html)}</p>
            </li>
          `)}
      </ul>
    `}get searchForm(){return Ke`
      <form action="" method="get" @submit=${this.performSearch}>
        <fieldset>
          ${this.searchMultipleControls}
          <input
            type="search"
            name="query"
            alt="Search inside this book."
            @keyup=${this.setQuery}
            @search=${this.setQuery}
            .value=${this.query}
          />
        </fieldset>
      </form>
    `}get setErrorMessage(){return Ke`
      <p class="error-message">${this.errorMessage}</p>
    `}get searchCTA(){return Ke`<p class="search-cta"><em>Please enter text to search for</em></p>`}render(){let e=!this.queryInProgress&&!this.errorMessage&&!this.queryInProgress&&!this.results.length;return Ke`
      ${this.headerSection}
      ${this.searchForm}
      <div class="results-container">
        ${this.queryInProgress?this.loadingIndicator:Ei}
        ${this.errorMessage?this.setErrorMessage:Ei}
        ${this.results.length?this.resultsSet:Ei}
        ${e?this.searchCTA:Ei}
      </div>
    `}static get styles(){let e=pt`var(--searchResultText, #adaedc)`,t=pt`var(--searchResultBg, #272958)`,r=pt`var(--searchResultBorder, #adaedc)`,a=pt`(--tertiaryBGColor, #333)`,l=pt`
      :host {
        display: block;
        height: 100%;
        padding: 1.5rem 1rem 2rem 0;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      mark {
        padding: 0 .2rem;
        color: ${e};
        background: ${t};
        border: 1px solid ${r};
        border-radius: 2px;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 2rem;
      }

      header {
        display: flex;
        align-items: center;
        padding: 0 2rem 0 0;
      }
      header p {
        padding: 0;
        margin: 0;
        font-size: 1.2rem;
        font-weight: bold;
        font-style: italic;
      }

      fieldset {
        padding: 0 0 1rem 0;
        border: none;
      }

      [type="checkbox"] {
        display: none;
      }

      label {
        display: block;
        text-align: center;
      }

      label.checkbox {
        padding-bottom: .5rem;
        font-size: 1.6rem;
        line-height: 150%;
        vertical-align: middle;
      }

      label.checkbox:after {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: .7rem;
        content: "";
        border-radius: 2px;
      }
      :checked + label.checkbox:after {
        background-image: url('${r_}');
      }

      label.checkbox[for="all_files"]:after {
        background: ${a} 50% 50% no-repeat;
        border: 1px solid var(--primaryTextColor);
      }

      [type="search"] {
        color: var(--primaryTextColor);
        border: 1px solid var(--primaryTextColor);
        -webkit-appearance: textfield;
        width: 100%;
        height: 3rem;
        padding: 0 1.5rem;
        box-sizing: border-box;
        font: normal 1.6rem "Helvetica qNeue", Helvetica, Arial, sans-serif;
        border-radius: 1.5rem;
        background: transparent;
      }
      [type="search"]:focus {
        outline: none;
      }
      [type="search"]::-webkit-search-cancel-button {
        width: 18px;
        height: 18px;
        -webkit-appearance: none;
        appearance: none;
        -webkit-mask: url('${e_}') 0 0 no-repeat;
        mask: url('${e_}') 0 0 no-repeat;
        -webkit-mask-size: 100%;
        mask-size: 100%;
        background: #fff;
      }

      p.page-num {
        font-weight: bold;
        padding-bottom: 0;
      }

      p.search-cta {
        text-align: center;
      }

      .results-container {
        padding-bottom: 2rem;
      }

      ul {
        padding: 0 0 2rem 0;
        margin: 0;
        list-style: none;
      }

      ul.show-image li {
        display: grid;
      }

      li {
        cursor: pointer;
        grid-template-columns: 30px 1fr;
        grid-gap: 0 .5rem;
      }

      li img {
        display: block;
        width: 100%;
      }

      li h4 {
        grid-column: 2 / 3;
        padding: 0 0 2rem 0;
        margin: 0;
        font-weight: normal;
      }

      li p {
        grid-column: 2 / 3;
        padding: 0 0 1.5rem 0;
        margin: 0;
        font-size: 1.2rem;
      }

      .loading {
        text-align: center;
      }

      .loading p {
        padding: 0 0 1rem 0;
        margin: 0;
        font-size: 1.2rem;
      }

      ia-activity-indicator {
        display: block;
        width: 40px;
        height: 40px;
        margin: 0 auto;
      }
    `;return[Gu,l]}};customElements.define("ia-book-search-results",k9);Kn={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},A9=class{constructor({onProviderChange:e,bookreader:t}){this.onBookSearchInitiated=this.onBookSearchInitiated.bind(this),this.onSearchStarted=this.onSearchStarted.bind(this),this.onSearchRequestError=this.onSearchRequestError.bind(this),this.onSearchResultsClicked=this.onSearchResultsClicked.bind(this),this.onSearchResultsChange=this.onSearchResultsChange.bind(this),this.onSearchResultsCleared=this.onSearchResultsCleared.bind(this),this.searchCanceledInMenu=this.searchCanceledInMenu.bind(this),this.bindEventListeners=this.bindEventListeners.bind(this),this.getMenuDetails=this.getMenuDetails.bind(this),this.getComponent=this.getComponent.bind(this),this.updateMenu=this.updateMenu.bind(this),this.onProviderChange=e,this.bookreader=t,this.icon=Ke`<ia-icon-search style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-search>`,this.label="Search inside",this.menuDetails=this.getMenuDetails(),this.id="search",this.component=this.getComponent(),this.bindEventListeners()}getMenuDetails(){let{resultsCount:e,query:t,queryInProgress:r}=Kn;return r||!t?Ei:Ke`(${e} ${e===1?"result":"results"})`}bindEventListeners(){window.addEventListener("BookReader:SearchStarted",this.onSearchStarted),window.addEventListener("BookReader:SearchCallback",this.onSearchResultsChange),window.addEventListener("BookReader:SearchCallbackEmpty",e=>{this.onSearchRequestError(e,"noResults")}),window.addEventListener("BookReader:SearchCallbackNotIndexed",e=>{this.onSearchRequestError(e,"notIndexed")}),window.addEventListener("BookReader:SearchCallbackError",e=>{this.onSearchRequestError(e)}),window.addEventListener("BookReader:SearchResultsCleared",()=>{this.onSearchResultsCleared()}),window.addEventListener("BookReader:SearchCanceled",e=>{this.onSearchCanceled(e)})}onSearchCanceled(){Kn={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""};let e={searchCanceled:!0};this.updateMenu(e),this.bookreader.urlPlugin&&this.updateSearchInUrl()}onSearchStarted(e){let{term:t="",instance:r}=e.detail.props;r&&(this.bookreader=r),Kn.query=t,Kn.results=[],Kn.resultsCount=0,Kn.queryInProgress=!0,Kn.errorMessage="",this.updateMenu()}onBookSearchInitiated({detail:e}){Kn.query=e.query,this.bookreader.search(Kn.query)}onSearchRequestError(e,t="default"){var n;let{detail:{props:r}}=e,{instance:a,results:l}=r;a&&(this.bookreader=a);let o={noResults:"0 results",notIndexed:`This book hasn't been indexed for searching yet.  We've just started indexing it,
       so search should be available soon.  Please try again later.  Thanks!`,default:"Sorry, there was an error with your search.  Please try again."},c=(n=o[t])!=null?n:o.default;Kn.query=(l==null?void 0:l.q)||"",Kn.results=[],Kn.resultsCount=0,Kn.queryInProgress=!1,Kn.errorMessage=Ke`<p class="error">${c}</p>`,this.updateMenu()}onSearchResultsChange({detail:{props:e={}}}){let{instance:t=null,results:r=[]}=e;t&&(this.bookreader=t);let a=r.matches||[],l=a.length,o=r.q;Kn={results:a,resultsCount:l,query:o,queryInProgress:!1,errorMessage:""},this.updateMenu()}searchCanceledInMenu(){this.bookreader.plugins.search.cancelSearchRequest()}onSearchResultsCleared(){Kn={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},this.updateMenu({openMenu:!1}),this.bookreader.plugins.search.searchView.clearSearchFieldAndResults(!1),this.bookreader.urlPlugin&&this.updateSearchInUrl()}updateSearchInUrl(){this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),Kn.query?this.bookreader.urlPlugin.setUrlParam("q",Kn.query):this.bookreader.urlPlugin.removeUrlParam("q"))}updateMenu(e={}){this.menuDetails=this.getMenuDetails(),this.component=this.getComponent(),this.onProviderChange(this.bookreader,e)}getComponent(){let{query:e,results:t,queryInProgress:r,errorMessage:a}=Kn;return Ke`
    <ia-book-search-results
      .query=${e}
      .results=${t}
      .errorMessage=${a}
      ?queryInProgress=${r}
      ?renderSearchAllFiles=${!1}
      @resultSelected=${this.onSearchResultsClicked}
      @bookSearchInitiated=${this.onBookSearchInitiated}
      @bookSearchResultsCleared=${this.onSearchResultsCleared}
      @bookSearchCanceled=${this.searchCanceledInMenu}
    ></ia-book-search-results>
  `}onSearchResultsClicked({detail:e}){this.bookreader.plugins.search.jumpToMatch(e.match.matchIndex)}},S9=class extends mi{static get properties(){return{downloads:{type:Array},expiration:{type:Number},renderHeader:{type:Boolean},isBookProtected:{type:Boolean}}}constructor(){super(),this.downloads=[],this.expiration=0,this.renderHeader=!1,this.isBookProtected=!1}get formatsCount(){let e=this.downloads.length;return e?Ke`<p>${e} format${e>1?"s":""}</p>`:Ke``}get loanExpiryMessage(){return this.expiration?Ke`<h2>These files will expire in ${this.expiration} days.</h2>`:Ke``}renderDownloadOptions(){return this.downloads.map(e=>Ke`
        <li>
          <a class="ia-button link primary" href="${e.url}">Get ${e.type}</a>
          ${e.note?Ke`<p>${e.note}</p>`:Ke``}
        </li>
      `)}get hasLCPOption(){let e=/^(LCP)/g;return this.downloads.some(t=>{var r;return(r=t.type)==null?void 0:r.match(e)})}get header(){return this.renderHeader?Ke`
      <header>
        <h3>Downloadable files</h3>
        ${this.formatsCount}
      </header>
    `:Ei}get installLCPSoftwareMsg(){return Ke`
    <p>For LCP downloads, make sure you have LCP software such as <a href="https://thorium.edrlab.org/" rel="noopener noreferrer nofollow" target="_blank">Thorium (desktop)</a>, <a href="https://apps.apple.com/us/app/cantook-by-aldiko/id1476410111" rel="noopener noreferrer nofollow" target="_blank">Cantook (iOS)</a> or <a href="https://play.google.com/store/apps/details?id=com.aldiko.android" rel="noopener noreferrer nofollow" target="_blank">Cantook (Android)</a> installed on your device.</p>
  `}render(){return Ke`
      ${this.header}
      ${this.loanExpiryMessage}
      <ul>${this.renderDownloadOptions()}</ul>
      ${this.hasLCPOption?this.installLCPSoftwareMsg:Ei}
    `}static get styles(){let e=pt`
      :host {
        display: block;
        height: 100%;
        padding: 1.5rem 0;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      a.close ia-icon {
        --iconWidth: 18px;
        --iconHeight: 18px;
      }
      a.close {
        justify-self: end;
      }

      header {
        display: flex;
        align-items: center;
        padding: 0 2rem;
      }
      header p {
        padding: 0;
        margin: 0;
        font-size: 1.2rem;
        font-weight: bold;
        font-style: italic;
      }
      header div {
        display: flex;
        align-items: baseline;
      }      

      h2 {
        font-size: 1.6rem;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.4rem;
      }

      ul {
        padding: 0;
        margin: 0;
        list-style: none;
      }

      p {
        margin: .3rem 0 0 0;
      }

      li,
      ul + p {
        padding-bottom: 1.2rem;
        font-size: 1.2rem;
        line-height: 140%;
      }
    `;return[Gu,e]}};customElements.define("ia-book-downloads",S9);t_={pdf:{type:"Encrypted Adobe PDF",url:"#",note:"PDF files contain high quality images of pages."},lcppdf:{type:"Get LCP PDF",url:"#",note:"PDF files contain high quality images of pages."},lcpepub:{type:"Get LCP ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."},epub:{type:"Encrypted Adobe ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."}},C9={pdf:"PDF",epub:"ePub",lcppdf:"LCP PDF",lcpepub:"LCP ePub"},E9=class{constructor({bookreader:e}){var t;this.icon=Ke`<ia-icon-dl style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-dl>`,this.label="Downloadable files",this.menuDetails="",this.downloads=[],this.id="downloads",this.component="",this.isBookProtected=((t=e==null?void 0:e.options)==null?void 0:t.isProtected)||!1}update(e){this.computeAvailableTypes(e),this.component=this.menu,this.component.isBookProtected=this.isBookProtected;let t=this.downloads.length===1?"":"s";this.menuDetails=`(${this.downloads.length} format${t})`}computeAvailableTypes(e=[]){let t=e.reduce((r,a=[])=>{let[l="",o=""]=a,c=l.toLowerCase(),n=t_[c]||null;if(n){let u=this.isBookProtected?t_[c].type:C9[c],p=Object.assign({},n,{url:o,type:u});r.push(p)}return r},[]);this.downloads=t}get menu(){return Ke`<ia-book-downloads .downloads=${this.downloads}></ia-book-downloads>`}},Gg=e=>`visualAdjustment${e}`,Yg={optionChange:Gg("OptionChanged"),zoomIn:Gg("ZoomIn"),zoomOut:Gg("ZoomOut")},T9=class extends mi{static get properties(){return{activeCount:{type:Number},options:{type:Array},renderHeader:{type:Boolean},showZoomControls:{type:Boolean}}}constructor(){super(),this.activeCount=0,this.options=[],this.renderHeader=!1,this.showZoomControls=!0}firstUpdated(){this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent()}get activeOptions(){return this.options.reduce((e,t)=>t.active?[...e,t.id]:e,[])}prepareEventDetails(e=""){return{options:this.options,activeCount:this.activeCount,changedOptionId:e}}emitOptionChangedEvent(e=""){let t=this.prepareEventDetails(e);this.dispatchEvent(new CustomEvent(Yg.optionChange,{bubbles:!0,composed:!0,detail:t}))}emitZoomIn(){this.dispatchEvent(new CustomEvent(Yg.zoomIn))}emitZoomOut(){this.dispatchEvent(new CustomEvent(Yg.zoomOut))}changeActiveStateFor(e){let t=[...this.options],r=t.find(a=>a.id===e);r.active=!r.active,this.options=t,this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent(r.id)}setRangeValue(e,t){let r=[...this.options];r.find(a=>a.id===e).value=t,this.options=[...r]}rangeSlider(e){return Ke`
      <div class=${`range${e.active?" visible":""}`}>
        <input
          type="range"
          name="${e.id}_range"
          min=${e.min||0}
          max=${e.max||100}
          step=${e.step||1}
          .value=${e.value}
          @input=${t=>this.setRangeValue(e.id,t.target.value)}
          @change=${()=>this.emitOptionChangedEvent()}
        />
        <p>${e.value}%</p>
      </div>
    `}adjustmentCheckbox(e){let t=`adjustment_${e.id}`;return Ke`<li>
      <label for="${t}">
        <span class="name">${e.name}</span>
        <input
          type="checkbox"
          name="${t}"
          id="${t}"
          @change=${()=>this.changeActiveStateFor(e.id)}
          ?checked=${e.active}
        />
        <span class="icon"></span>
      </label>
      ${e.value!==void 0?this.rangeSlider(e):Ei}
    </li>`}get headerSection(){let e=this.activeCount?Ke`<p>(${this.activeCount} active)</p>`:Ei,t=Ke`<header>
      <h3>Visual adjustments</h3>
      ${e}
    </header>`;return this.renderHeader?t:Ei}get zoomControls(){return Ke`
      <h4>Adjust zoom</h4>
      <button class="zoom_out" @click=${this.emitZoomOut} title="zoom out">
        <ia-icon-magnify-minus></ia-icon-magnify-minus>
      </button>
      <button class="zoom_in" @click=${this.emitZoomIn} title="zoom in">
        <ia-icon-magnify-plus></ia-icon-magnify-plus>
      </button>
    `}render(){return Ke`
      ${this.headerSection}
      <ul>
        ${Ca(this.options,e=>e.id,this.adjustmentCheckbox.bind(this))}
      </ul>
      ${this.showZoomControls?this.zoomControls:Ei}
    `}static get styles(){return pt`
    :host {
      display: block;
      height: 100%;
      overflow-y: auto;
      font-size: 1.4rem;
      box-sizing: border-box;
    }

    header {
      display: flex;
      align-items: baseline;
    }

    h3 {
      padding: 0;
      margin: 0 1rem 0 0;
      font-size: 1.6rem;
    }

    header p {
      padding: 0;
      margin: 0;
      font-size: 1.2rem;
      font-weight: bold;
      font-style: italic;
    }

    ul {
      padding: 1rem 2rem 0 0;
      list-style: none;
      margin-top: 0;
    }

    [type="checkbox"] {
      display: none;
    }

    label {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      font-size: 1.4rem;
      font-weight: bold;
      line-height: 150%;
      vertical-align: middle;
    }

    .icon {
      display: inline-block;
      width: 14px;
      height: 14px;
      margin-left: .7rem;
      border: 1px solid var(--primaryTextColor);
      border-radius: 2px;
      background: var(--activeButtonBg) 50% 50% no-repeat;
    }
    :checked + .icon {
      background-image: url('${r_}');
    }

    .range {
      display: none;
      padding-top: .5rem;
    }
    .range.visible {
      display: flex;
    }

    .range p {
      margin-left: 1rem;
    }

    h4 {
      padding: 1rem 0;
      margin: 0;
      font-size: 1.4rem;
    }

    button {
      -webkit-appearance: none;
      appearance: none;
      border: none;
      border-radius: 0;
      background: transparent;
      outline: none;
      cursor: pointer;
      --iconFillColor: var(--primaryTextColor);
      --iconStrokeColor: var(--primaryTextColor);
      height: 4rem;
      width: 4rem;
    }

    button * {
      display: inline-block;
    }`}};customElements.define("ia-book-visual-adjustments",T9);P9=[{id:"brightness",name:"Adjust brightness",active:!1,min:0,max:150,step:1,value:100},{id:"contrast",name:"Adjust contrast",active:!1,min:0,max:150,step:1,value:100},{id:"invert",name:"Invert colors (dark mode)",active:!1},{id:"grayscale",name:"Convert to grayscale",active:!1}],$9=class{constructor(e){let{onProviderChange:t,bookreader:r}=e;this.onProviderChange=t,this.bookContainer=r.refs.$brContainer,this.bookreader=r,this.onAdjustmentChange=this.onAdjustmentChange.bind(this),this.optionUpdateComplete=this.optionUpdateComplete.bind(this),this.updateOptionsCount=this.updateOptionsCount.bind(this),this.onZoomIn=this.onZoomIn.bind(this),this.onZoomOut=this.onZoomOut.bind(this),this.activeCount=0,this.icon=Ke`<ia-icon-visual-adjustment style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-visual-adjustment>`,this.label="Visual Adjustments",this.menuDetails=this.updateOptionsCount(),this.id="visualAdjustments",this.component=Ke`
      <ia-book-visual-adjustments
        .options=${P9}
        @visualAdjustmentOptionChanged=${this.onAdjustmentChange}
        @visualAdjustmentZoomIn=${this.onZoomIn}
        @visualAdjustmentZoomOut=${this.onZoomOut}
      ></ia-book-visual-adjustments>
    `}onZoomIn(){this.bookreader.zoom(1)}onZoomOut(){this.bookreader.zoom(-1)}onAdjustmentChange(e){let{detail:t}=e,r={brightness:l=>`brightness(${l}%)`,contrast:l=>`contrast(${l}%)`,grayscale:()=>"grayscale(100%)",invert:()=>"invert(100%)"},a=t.options.reduce((l,o)=>{let c=`${o.active?r[o.id](o.value):""}`;return c?[...l,c]:l},[]).join(" ");this.bookContainer.css("filter",a),this.optionUpdateComplete(e)}optionUpdateComplete(e){this.activeCount=e.detail.activeCount,this.updateOptionsCount(e),this.onProviderChange()}updateOptionsCount(){this.menuDetails=`(${this.activeCount} active)`}},L9=class extends mi{static get styles(){return pt`
      div {
        display: flex;
        justify-content: center;
        padding-top: 2rem;
      }

      button {
        appearance: none;
        padding: 0.5rem 1rem;
        margin: 0 .5rem;
        box-sizing: border-box;
        font: 1.3rem "Helvetica Neue", Helvetica, Arial, sans-serif;
        color: var(--primaryTextColor);
        border: none;
        border-radius: 4px;
        cursor: pointer;
        background: var(--primaryCTAFill);
      }

      .delete {
        background: var(--primaryErrorCTAFill);
      }
    `}static get properties(){return{cancelAction:{type:Function},deleteAction:{type:Function},pageID:{type:String}}}render(){return Ke`
      <div>
        <button class="delete" @click=${()=>this.deleteAction({detail:{id:`${this.pageID}`}})}>Delete</button>
        <button @click=${()=>this.cancelAction()}>Cancel</button>
      </div>
    `}};customElements.define("delete-modal-actions",L9);O9=class extends mi{static get styles(){return pt`
      button {
        -webkit-appearance: none;
        appearance: none;
        outline: 0;
        border: none;
        padding: 0;
        height: 4rem;
        width: 4rem;
        background: transparent;
        cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 16 24' width='16'%3E%3Cg fill='%23333' fill-rule='evenodd'%3E%3Cpath d='m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z'/%3E%3Cpath d='m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E"), pointer;
        position: relative;
      }
      button > * {
        display: block;
        position: absolute;
        top: 0.2rem;
      }
      button.left > * {
        left: 0.2rem;
      }

      button.right > * {
        right: 0.2rem;
      }
    `}static get properties(){return{side:{type:String},state:{type:String}}}constructor(){super(),this.state="hollow",this.side=void 0}handleClick(e){e.preventDefault(),this.dispatchEvent(new CustomEvent("bookmarkButtonClicked"))}get title(){return`${this.state==="hollow"?"Add":"Remove"} bookmark`}render(){let e=this.side||"right";return Ke`
      <button title=${this.title} @click=${this.handleClick} class=${e}>
        <icon-bookmark state=${this.state}></icon-bookmark>
      </button>
    `}};customElements.define("bookmark-button",O9);M9=class extends mi{static get properties(){return{url:{type:String}}}static get styles(){return Gu}constructor(){super(),this.url="https://archive.org/account/login"}render(){return Ke`
      <p>A free account is required to save and access bookmarks.</p>
      <a class="ia-button link primary" href="${this.url}">Log in</a>
    `}};customElements.define("bookmarks-login",M9);I9={endpoint:"/services/bookmarks.php",headers:{"Content-Type":"application/json"},delete(e){return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e}`,{credentials:"same-origin",method:"DELETE",headers:this.headers})},get(e){return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e}`,{credentials:"same-origin",method:"GET",headers:this.headers})},getAll(){return fetch(`${this.endpoint}?identifier=${this.identifier}`,{credentials:"same-origin",method:"GET",headers:this.headers})},post(e){return this.sendBookmarkData(e,"POST")},put(e){return this.sendBookmarkData(e,"POST")},sendBookmarkData(e,t){let r={note:e.note,color:e.color};return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e.id}`,{credentials:"same-origin",method:t,headers:this.headers,body:JSON.stringify({notes:r})})}},R9=class n_ extends mi{static get properties(){return{activeBookmarkID:{type:String},bookmarks:{type:Array},bookreader:{type:Object},displayMode:{type:String},editedBookmark:{type:Object},deleteModalConfig:{type:Object},modal:{attribute:!1},loginOptions:{type:Object,attribute:!1}}}static get styles(){let t=pt`
      .bookmarks {
        height: 100%;
        overflow: hidden;
        padding-bottom: 20px;
      }

      .list ia-bookmark-edit {
        display: none;
      }

      .edit ia-bookmarks-list {
        display: none;
      }
    `;return[Gu,t]}static formatPage(t){return isNaN(+t)?`(${t.replace(/\D/g,"")})`:t}constructor(){super(),this.bookmarks=[],this.bookreader={},this.editedBookmark={},this.modal=void 0,this.loginOptions={loginClicked:()=>{},loginUrl:""},this.displayMode="bookmarks",this.bookmarkColors=[{id:0,className:"red"},{id:1,className:"blue"},{id:2,className:"green"}],this.defaultColor=this.bookmarkColors[0],this.api=I9,this.deleteModalConfig=new Bg({title:"Delete Bookmark",headline:"This bookmark contains a note. Deleting it will permanently delete the note. Are you sure?",headerColor:"#194880"})}updated(t){t.has("displayMode")&&this.updateDisplay(),this.emitBookmarksChanged()}setup(){this.api.identifier=this.getIdentifier(),this.displayMode!=="login"&&(this.fetchUserBookmarks(),this.setBREventListeners())}getIdentifier(){return this.bookreader.bookId!==this.bookreader.subPrefix?`${this.bookreader.bookId}/${this.bookreader.subPrefix}`:this.bookreader.bookId}updateDisplay(){this.displayMode==="bookmarks"&&this.fetchUserBookmarks()}fetchUserBookmarks(){return yi(this,null,function*(){this.api.identifier&&(yield this.fetchBookmarks(),this.initializeBookmarks())})}setBREventListeners(){["3PageViewSelected"].forEach(t=>{window.addEventListener(`BookReader:${t}`,r=>{setTimeout(()=>{this.renderBookmarkButtons()},100)})}),["pageChanged","1PageViewSelected","2PageViewSelected"].forEach(t=>{window.addEventListener(`BookReader:${t}`,r=>{setTimeout(()=>{this.renderBookmarkButtons(),this.markActiveBookmark()},100)})}),["zoomOut","zoomIn","resize"].forEach(t=>{window.addEventListener(`BookReader:${t}`,()=>{this.renderBookmarkButtons()})})}initializeBookmarks(){this.renderBookmarkButtons(),this.markActiveBookmark(!0),this.emitBookmarksChanged()}formatBookmark({leafNum:t="",notes:r={}}){let{note:a="",color:l}=r,o={note:a,color:this.getBookmarkColor(l)?l:this.defaultColor.id},c=n_.formatPage(this.bookreader.book.getPageNum(t)),n=this.bookreader.book.getPageURI(`${t}`.replace(/\D/g,""),32);return on(Dr({},o),{id:t,leafNum:t,page:c,thumbnail:n})}fetchBookmarks(){return yi(this,null,function*(){let t=yield this.api.getAll().then(n=>n.text()),r;try{r=JSON.parse(t)}catch(n){r={error:n.message}}let{success:a,error:l="Something happened while fetching bookmarks.",value:o=[]}=r;a||(console==null||console.warn("Error fetching bookmarks",l));let c={};return Object.keys(o).forEach(n=>{let u=o[n],p=parseInt(n,10),g=this.formatBookmark(on(Dr({},u),{leafNum:p}));c[n]=g}),this.bookmarks=c,c})}emitBookmarksChanged(){this.dispatchEvent(new CustomEvent("bookmarksChanged",{bubbles:!0,composed:!0,detail:{bookmarks:this.bookmarks}}))}emitBookmarkButtonClicked(){this.dispatchEvent(new CustomEvent("bookmarkButtonClicked",{bubbles:!0,composed:!0,detail:{editedBookmark:this.editedBookmark}}))}bookmarkButtonClicked(t){this.getBookmark(t)?this.confirmDeletion(t):this.createBookmark(t)}renderBookmarkButtons(){this.bookreader.$(".BRpagecontainer").not(".BRemptypage").get().forEach(t=>{let r=t.querySelector(".bookmark-button");r&&r.remove();let a=+t.classList.value.match(/pagediv\d+/)[0].replace(/\D/g,""),l=this.getBookmark(a),o=l?"filled":"hollow",c=this.bookreader.book.getPage(a),{isViewable:n}=c;if(!n)return;let u=document.createElement("div");["mousedown","mouseup"].forEach(g=>{u.addEventListener(g,m=>m.stopPropagation())}),u.classList.add("bookmark-button",o),l&&u.classList.add(this.getBookmarkColor(l.color));let p=t.getAttribute("data-side")==="L"&&this.bookreader.mode===this.bookreader.constMode2up?"left":"right";Ed(Ke`
        <bookmark-button
          @bookmarkButtonClicked=${()=>this.bookmarkButtonClicked(a)}
          state=${o}
          side=${p}
        ></bookmark-button>`,u),t.appendChild(u)})}markActiveBookmark(t=!1){let{mode:r,constMode2up:a,constModeThumb:l}=this.bookreader,o=this.bookreader.currentIndex();if(r===l){let c=this.bookmarks[o];t&&c&&(this.activeBookmarkID=o);return}if(!(r===a&&this.bookreader.displayedIndices.includes(+this.activeBookmarkID))){if(this.bookmarks[o]){this.activeBookmarkID=o;return}this.activeBookmarkID=""}}bookmarkEdited({detail:t}){let r=t.bookmark.id===this.editedBookmark.id;this.editedBookmark=r?{}:t.bookmark}getBookmark(t){return this.bookmarks[t]}getBookmarkColor(t){var r;return(r=this.bookmarkColors.find(a=>a.id===t))==null?void 0:r.className}addBookmark(){let t=this.bookreader.currentIndex();if(this.bookreader.mode===this.bookreader.constMode2up){let r=this.bookreader.displayedIndices;t=r[r.length-1]}this.createBookmark(t)}createBookmark(t){let r=this.getBookmark(t);if(r){this.bookmarkEdited({detail:{bookmark:r}}),this.emitBookmarkButtonClicked();return}this.editedBookmark=this.formatBookmark({leafNum:t}),this.api.post(this.editedBookmark),this.bookmarks[t]=this.editedBookmark,this.activeBookmarkID=t,this.disableAddBookmarkButton=!0,this.renderBookmarkButtons(),this.emitBookmarkButtonClicked()}bookmarkSelected({detail:t}){let{leafNum:r}=t.bookmark;this.bookreader.jumpToPage(`${this.bookreader.book.getPageNum(`${r}`.replace(/\D/g,""))}`),this.activeBookmarkID=r}saveBookmark({detail:t}){let r=this.bookmarks[t.bookmark.id];Object.assign(r,t.bookmark),this.api.put(r),this.editedBookmark={},this.renderBookmarkButtons()}confirmDeletion(t){if(this.getBookmark(t).note){this.displayDeletionModal(t);return}this.deleteBookmark({detail:{id:`${t}`}})}displayDeletionModal(t){let r=Ke`
      <delete-modal-actions
        .deleteAction=${()=>this.deleteBookmark({detail:{id:`${t}`}})}
        .cancelAction=${()=>this.modal.closeModal()}
        .pageID=${t}
      ></delete-modal-actions>
    `;this.modal.showModal({config:this.deleteModalConfig,customModalContent:r})}deleteBookmark({detail:t}){let{id:r}=t,a=this.bookmarks;delete a[r],this.bookmarks=Dr({},a),this.api.delete(t.id),this.editedBookmark={},this.modal.closeModal(),this.renderBookmarkButtons()}get shouldEnableAddBookmarkButton(){let t=this.bookreader.mode===this.bookreader.constMode2up?this.bookreader.displayedIndices[this.bookreader.displayedIndices.length-1]:this.bookreader.currentIndex();return!!this.getBookmark(t)}get allowAddingBookmark(){return this.bookreader.mode!==this.bookreader.constModeThumb}get addBookmarkButton(){return Ke`
      <button
        class="ia-button primary"
        tabindex="-1"
        ?disabled=${this.shouldEnableAddBookmarkButton}
        @click=${this.addBookmark}>
        Add bookmark
      </button>
    `}get bookmarksList(){return Ke`
      <ia-bookmarks-list
        @bookmarkEdited=${this.bookmarkEdited}
        @bookmarkSelected=${this.bookmarkSelected}
        @saveBookmark=${this.saveBookmark}
        @deleteBookmark=${this.deleteBookmark}
        .editedBookmark=${this.editedBookmark}
        .bookmarks=${Dr({},this.bookmarks)}
        .activeBookmarkID=${this.activeBookmarkID}
        .bookmarkColors=${this.bookmarkColors}
        .defaultBookmarkColor=${this.defaultColor}>
      </ia-bookmarks-list>
    `}get bookmarkHelperMessage(){return Ke`<p>Please use 1up or 2up view modes to add bookmark.</p>`}render(){let t=Ke`
      ${this.bookmarksList}
      ${this.allowAddingBookmark?this.addBookmarkButton:this.bookmarkHelperMessage}
    `;return Ke`
      <section class="bookmarks">
      ${this.displayMode==="login"?Ke`<bookmarks-login
        @click=${()=>this.loginOptions.loginClicked()}
        .url=${this.loginOptions.loginUrl}></bookmarks-login>`:t}
      </section>
    `}};customElements.define("ia-bookmarks",R9);o_=pt`
  .blue {
    --iconFillColor: var(--blueBookmarkColor, #0023f5);
  }

  .red {
    --iconFillColor: var(--redBookmarkColor, #eb3223);
  }

  .green {
    --iconFillColor: var(--greenBookmarkColor, #75ef4c);
  }
`,D9=class a_ extends mi{static get properties(){return{bookmark:{type:Object},bookmarkColors:{type:Array},renderHeader:{type:Boolean},showBookmark:{type:Boolean}}}constructor(){super(),this.bookmark={},this.bookmarkColors=[],this.renderHeader=!1,this.showBookmark=!0}emitSaveEvent(t){t.preventDefault(),this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:this.bookmark}}))}emitDeleteEvent(){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:this.bookmark.id}}))}emitColorChangedEvent(t){this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:this.bookmark.id,colorId:t}}))}changeColorTo(t){this.bookmark.color=t,this.emitColorChangedEvent(t)}updateNote(t){this.bookmark.note=t.currentTarget.value}static get headerSection(){return Ke`<header>
      <h3>Edit Bookmark</h3>
    </header>`}bookmarkColor(t){return Ke`
      <li>
        <input type="radio" name="color" id="color_${t.id}" .value=${t.id} @change=${()=>this.changeColorTo(t.id)} ?checked=${this.bookmark.color===t.id}>
        <label for="color_${t.id}">
          <icon-bookmark class=${t.className}></icon-bookmark>
        </label>
      </li>
    `}get bookmarkTemplate(){return Ke`
      <div class="bookmark">
        <img src=${this.bookmark.thumbnail} />
        <h4>Page ${this.bookmark.page}</h4>
      </div>
    `}render(){return Ke`
      ${this.renderHeader?a_.headerSection:Ei}
      ${this.showBookmark?this.bookmarkTemplate:Ei}
      <form action="" method="put" @submit=${this.emitSaveEvent}>
        <fieldset>
          <label for="note">Note <small>(optional)</small></label>
          <textarea rows="4" cols="80" name="note" id="note" @change=${this.updateNote}>${this.bookmark.note}</textarea>
          <label for="color">Bookmark color</label>
          <ul>
            ${Ca(this.bookmarkColors,t=>t.id,this.bookmarkColor.bind(this))}
          </ul>
          <div class="actions">
            <button type="button" class="ia-button cancel" @click=${this.emitDeleteEvent}>Delete</button>
            <input class="ia-button" type="submit" value="Save">
          </div>
        </fieldset>
      </form>
    `}static get styles(){let t=pt`
    :host {
      display: block;
      padding: 0 1rem 2rem 1rem;
      color: var(--primaryTextColor);
    }

    small {
      font-style: italic;
    }

    .bookmark {
      display: grid;
      grid-template-columns: 37px 1fr;
      grid-gap: 0 1rem;
      align-items: center;
    }

    h4 {
      margin: 0;
      font-size: 1.4rem;
    }

    fieldset {
      padding: 2rem 0 0 0;
      border: none;
    }

    label {
      display: block;
      font-weight: bold;
    }

    p {
      padding: 0;
      margin: .5rem 0;
      font-size: 1.2rem;
      line-height: 120%;
    }

    textarea {
      width: 100%;
      margin-bottom: 2rem;
      box-sizing: border-box;
      font: normal 1.4rem "Helvetica Neue", Helvetica, Arial, sans-serif;
      resize: vertical;
    }

    ul {
      display: grid;
      grid-template-columns: repeat(3, auto);
      grid-gap: 0 2rem;
      justify-content: start;
      padding: 1rem 0 0 0;
      margin: 0 0 2rem 0;
      list-style: none;
    }

    li input {
      display: none;
    }

    li label {
      display: block;
      min-width: 50px;
      padding-top: .4rem;
      text-align: center;
      border: 1px solid transparent;
      border-radius: 4px;
      cursor: pointer;
    }

    li input:checked + label {
      border-color: var(--primaryTextColor);
    }

    input[type="submit"] {
      background: var(--primaryCTAFill);
      border-color: var(--primaryCTABorder);
    }

    button {
      background: var(--primaryErrorCTAFill);
      border-color: var(--primaryErrorCTABorder);
    }

    .button {
      -webkit-appearance: none;
      appearance: none;
      padding: .5rem 1rem;
      box-sizing: border-box;
      color: var(--primaryTextColor);
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .actions {
      display: grid;
      grid-template-columns: auto auto;
      grid-gap: 0 1rem;
      justify-items: stretch;
    }
    `;return[Gu,o_,t]}};customElements.define("ia-bookmark-edit",D9);j9=class extends mi{static get properties(){return{activeBookmarkID:{type:Number},bookmarkColors:{type:Array},defaultBookmarkColor:{type:Object},bookmarks:{type:Object},editedBookmark:{type:Object},renderHeader:{type:Boolean}}}constructor(){super(),this.activeBookmarkID=void 0,this.bookmarkColors=[],this.defaultBookmarkColor={},this.bookmarks={},this.editedBookmark={},this.renderHeader=!1}emitEditEvent(e,t){this.dispatchEvent(new CustomEvent("bookmarkEdited",{detail:{bookmark:t}}))}emitSelectedEvent(e){this.activeBookmarkID=e.id,this.dispatchEvent(new CustomEvent("bookmarkSelected",{detail:{bookmark:e}}))}emitSaveBookmark(e){this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:e}}))}emitDeleteBookmark(e){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:e}}))}emitBookmarkColorChanged({detail:e}){let{bookmarkId:t,colorId:r}=e;this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:t,colorId:r}}))}emitAddBookmark(){this.dispatchEvent(new CustomEvent("addBookmark"))}editBookmark(e,t){this.emitEditEvent(e,t),this.editedBookmark=this.editedBookmark===t?{}:t}saveBookmark({detail:e}){let{bookmark:t}=e;this.editedBookmark={},this.emitSaveBookmark(t)}deleteBookmark({detail:e}){let{id:t}=e;this.editedBookmark={},this.emitDeleteBookmark(t)}bookmarkColorInfo(e=0){return this.bookmarkColors.find(t=>(t==null?void 0:t.id)===e)}bookmarkItem(e){let t=this.editedBookmark.id===e.id,{className:r}=this.bookmarkColorInfo(e.color),a=e.id===this.activeBookmarkID?"active":"";return Ke`
      <li
        @click=${()=>this.emitSelectedEvent(e)}
        tabindex="0"
        data-pageIndex=${e.id}
      >
        <div class="separator"></div>
        <div class="content ${a}">
          <button
            class="edit"
            @click=${l=>this.editBookmark(l,e)}
            title="Edit this bookmark"
          >
            <ia-icon-edit-pencil></ia-icon-edit-pencil>
          </button>
          <h4>
            <icon-bookmark class=${r}></icon-bookmark>
            <span> Page ${e.page}</span>
          </h4>
          ${!t&&e.note?Ke`<p>${e.note}</p>`:Ei}
          ${t?this.editBookmarkComponent:Ei}
        </div>
      </li>
    `}get editBookmarkComponent(){return Ke`
      <ia-bookmark-edit
        .bookmark=${this.editedBookmark}
        .bookmarkColors=${this.bookmarkColors}
        .defaultBookmarkColor=${this.defaultBookmarkColor}
        .showBookmark=${!1}
        @saveBookmark=${this.saveBookmark}
        @deleteBookmark=${this.deleteBookmark}
        @bookmarkColorChanged=${this.emitBookmarkColorChanged}
      ></ia-bookmark-edit>
    `}sortBookmarks(){return Object.keys(this.bookmarks).sort((e,t)=>+e>+t?1:+e<+t?-1:0).map(e=>this.bookmarks[e])}get bookmarksCount(){let e=this.bookmarks.length;return Ke`<small>(${e})</small>`}get headerSection(){return Ke`<header>
      <h3>
        Bookmarks
        ${this.bookmarks.length?this.bookmarksCount:Ei}
      </h3>
    </header>`}get bookmarkslist(){let e=this.sortBookmarks(),t=Ca(e,r=>r==null?void 0:r.id,this.bookmarkItem.bind(this));return Ke`
      <ul>
        ${t}
        <div class="separator"></div>
      </ul>
    `}render(){return Ke`
      ${this.renderHeader?this.headerSection:Ei}
      ${Object.keys(this.bookmarks).length?this.bookmarkslist:Ei}
    `}static get styles(){return[pt`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      icon-bookmark {
        width: 16px;
        height: 24px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      small {
        font-style: italic;
      }

      h4 {
        margin: 0;
        font-size: 1.4rem;
      }
      h4 * {
        display: inline-block;
      }
      h4 icon-bookmark {
        vertical-align: bottom;
      }
      h4 span {
        vertical-align: top;
        padding-top: 1%;
      }

      p {
        padding: 0;
        margin: 5px 0 0 0;
        width: 98%;
        overflow-wrap: break-word;
      }

      ia-bookmark-edit {
        margin: 5px 5px 3px 6px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }
      ul > li:first-child .separator {
        display: none;
      }
      li {
        cursor: pointer;
        outline: none;
        position: relative;
      }
      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: .2rem 0 .4rem .2rem;
      }
      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }
      li button.edit {
        padding: 5px 2px 0 0;
        background: transparent;
        cursor: pointer;
        height: 40px;
        width: 40px;
        position: absolute;
        right: 2px;
        top: 2px;
        text-align: right;
        -webkit-appearance: none;
        appearance: none;
        outline: none;
        box-sizing: border-box;
        border: none;
      }
      li button.edit > * {
        display: block;
        height: 100%;
        width: 100%;
      }
    `,o_]}};customElements.define("ia-bookmarks-list",j9);N9=class{constructor(e){let{baseHost:t,signedIn:r,bookreader:a,modal:l,onProviderChange:o}=e,c=`referer=${encodeURIComponent(location.href)}`,n=`https://${t}/account/login?${c}`;this.component=document.createElement("ia-bookmarks"),this.component.bookreader=a,this.component.displayMode=r?"bookmarks":"login",this.component.modal=l,this.component.loginOptions={loginClicked:this.bookmarksLoginClicked,loginUrl:n},this.bindEvents(),this.icon=Ke`<icon-bookmark state="hollow" style="--iconWidth: 16px; --iconHeight: 24px;"></icon-bookmark>`,this.label="Bookmarks",this.id="bookmarks",this.onProviderChange=o,this.component.setup(),this.updateMenu(this.component.bookmarks.length)}updateMenu(e){this.menuDetails=`(${e})`}bindEvents(){this.component.addEventListener("bookmarksChanged",this.bookmarksChanged.bind(this))}bookmarksChanged({detail:e}){let t=Object.keys(e.bookmarks).length;this.updateMenu(t),this.onProviderChange(e.bookmarks,e.showSidePanel)}bookmarksLoginClicked(){var e;(e=window.archive_analytics)==null||e.send_event_no_sampling("BookReader","BookmarksLogin",window.location.path)}},B9=class{constructor({item:e,baseHost:t,bookreader:r}){let{identifier:a,creator:l,title:o}=e==null?void 0:e.metadata,c=Array.isArray(l)?l[0]:l,n=r.subPrefix||"",u="Share this book";this.icon=Ke`${Qx}`,this.label=u,this.id="share",this.component=Ke`<iaux-in-share-panel
      .identifier=${a}
      .type=${"book"}
      .creator=${c}
      .description=${o}
      .baseHost=${t}
      .fileSubPrefix=${n}
    ></iaux-in-share-panel>`}},Mh={title_asc:"title_asc",title_desc:"title_desc",default:"default"},H9=class{constructor({baseHost:e,bookreader:t,onProviderChange:r}){this.bookreader=t,this.onProviderChange=r,this.baseHost=e;let a=t.options.multipleBooksList.by_subprefix;if(this.viewableFiles=Object.keys(a).map(l=>a[l]),this.volumeCount=Object.keys(a).length,this.id="volumes",this.label=`Viewable files (${this.volumeCount})`,this.icon=Ke`${Zx}`,this.sortOrderBy=Mh.default,this.component=document.createElement("iaux-in-viewable-files-panel"),this.component.addSortToUrl=!0,this.component.subPrefix=t.options.subPrefix||"",this.component.baseHost=e,this.component.fileList=[...this.viewableFiles],this.sortFilesComponent=document.createElement("iaux-in-sort-files-button"),this.sortFilesComponent.fileListRaw=this.viewableFiles,this.sortFilesComponent.addEventListener("fileListSorted",l=>this.handleFileListSorted(l)),this.actionButton=this.sortFilesComponent,this.bookreader.urlPlugin){this.bookreader.urlPlugin.pullFromAddressBar();let l=this.bookreader.urlPlugin.getUrlParam("sort");(l===Mh.title_asc||l===Mh.title_desc)&&(this.sortOrderBy=l)}this.sortFilesComponent.sortVolumes(this.sortOrderBy),this.onProviderChange(this.bookreader)}handleFileListSorted(e){return yi(this,null,function*(){let{sortType:t,sortedFiles:r}=e.detail;this.viewableFiles=r,this.sortOrderBy=t,this.component.fileList=[...this.viewableFiles],yield this.component.updateComplete,this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),this.sortOrderBy!==Mh.default?this.bookreader.urlPlugin.setUrlParam("sort",this.sortOrderBy):this.bookreader.urlPlugin.removeUrlParam("sort")),this.onProviderChange(this.bookreader),this.multipleFilesClicked(this.sortOrderBy)})}multipleFilesClicked(e){var t;(t=window.archive_analytics)==null||t.send_event("BookReader",`VolumesSort|${e}`,window.location.path)}},F9=An`
  <svg class="ia-logo" width="27" height="30" viewBox="0 0 27 30" xmlns="http://www.w3.org/2000/svg" aria-labelledby="logoTitleID logoDescID">
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">A line drawing of the Internet Archive headquarters building façade.</desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" fill="white">
        <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>
      </mask>
      <use fill="#FFFFFF" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" fill="#FFFFFF">
        <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>
      </g>
    </g>
  </svg>
`;Ih={menuUpdated:"menuUpdated",updateSideMenu:"updateSideMenu",PostInit:"PostInit",ViewportInFullScreen:"ViewportInFullScreen"},z9=class extends mi{static get properties(){return{itemMD:{type:Object},bookReaderLoaded:{type:Boolean},bookreader:{type:Object},bookIsRestricted:{type:Boolean},downloadableTypes:{type:Array},isAdmin:{type:Boolean},lendingInitialized:{type:Boolean},lendingStatus:{type:Object},menuProviders:{type:Object},menuShortcuts:{type:Array},signedIn:{type:Boolean},loaded:{type:Boolean},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},fullscreenBranding:{type:Object}}}constructor(){super(),this.itemMD=void 0,this.loaded=!1,this.bookReaderCannotLoad=!1,this.bookReaderLoaded=!1,this.bookreader=null,this.bookIsRestricted=!1,this.downloadableTypes=[],this.isAdmin=!1,this.lendingInitialized=!1,this.lendingStatus={},this.menuProviders={bookmarks:null,search:null,downloads:null,visualAdjustments:null,share:null,volumes:null},this.menuShortcuts=[],this.signedIn=!1,this.modal=void 0,this.sharedObserver=void 0,this.fullscreenBranding=F9,this.sharedObserverHandler=void 0,this.brWidth=0,this.brHeight=0,this.shortcutOrder=["fullscreen","volumes","chapters","search","bookmarks","downloads","visualAdjustments","share","experiments"]}disconnectedCallback(){this.sharedObserver.removeObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}firstUpdated(){this.bindEventListeners(),this.emitPostInit(),this.loaded=!0}updated(e){!this.bookreader||!this.itemMD||!this.bookReaderLoaded||((e.has("loaded")&&this.loaded||e.has("itemMD")||e.has("bookreader")||e.has("signedIn")||e.has("isAdmin")||e.has("modal"))&&this.initializeBookSubmenus(),e.has("sharedObserver")&&this.bookreader&&(this.loadSharedObserver(),this.initializeBookSubmenus()),e.has("downloadableTypes")&&this.initializeBookSubmenus())}emitPostInit(){var e;this.dispatchEvent(new CustomEvent(`BrBookNav:${Ih.PostInit}`,{detail:{brSelector:(e=this.bookreader)==null?void 0:e.el},bubbles:!0,composed:!0}))}get baseProviderConfig(){return{baseHost:this.baseHost,modal:this.modal,sharedObserver:this.sharedObserver,bookreader:this.bookreader,item:this.itemMD,signedIn:this.signedIn,isAdmin:this.isAdmin,onProviderChange:()=>{}}}get isWideEnoughToOpenMenu(){return this.brWidth>=640}initializeBookSubmenus(){var t,r;let e={visualAdjustments:new $9(on(Dr({},this.baseProviderConfig),{onProviderChange:()=>{this.updateMenuContents()}}))};this.baseProviderConfig.item&&(e.share=new B9(this.baseProviderConfig)),this.shouldShowDownloadsMenu()&&(e.downloads=new E9(this.baseProviderConfig)),(r=(t=this.bookreader.options.plugins)==null?void 0:t.search)!=null&&r.enabled&&(e.search=new A9(on(Dr({},this.baseProviderConfig),{onProviderChange:(a=null,l={})=>{a&&(this.bookreader=a),this.updateMenuContents(),l.openMenu!==!1&&this.isWideEnoughToOpenMenu&&!(l!=null&&l.searchCanceled)&&setTimeout(()=>{this.updateSideMenu("search","open")},0)}}))),this.bookreader.options.enableBookmarks&&(e.bookmarks=new N9(on(Dr({},this.baseProviderConfig),{onProviderChange:a=>{let l=Object.keys(a).length?"add":"remove";this[`${l}MenuShortcut`]("bookmarks"),this.updateMenuContents()}}))),this.bookreader.options.enableMultipleBooks&&(e.volumes=new H9(on(Dr({},this.baseProviderConfig),{onProviderChange:(a=null,l={})=>{a&&(this.bookreader=a),this.updateMenuContents(),this.isWideEnoughToOpenMenu&&setTimeout(()=>{this.updateSideMenu("volumes","open")})}}))),Object.assign(this.menuProviders,e),this.addMenuShortcut("search"),this.addMenuShortcut("volumes"),this.updateMenuContents()}get mainBRContainer(){var e;return document.querySelector((e=this.bookreader)==null?void 0:e.el)}addFullscreenShortcut(){let e={icon:this.fullscreenShortcut,id:"fullscreen"};this.menuShortcuts.push(e),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}deleteFullscreenShortcut(){let e=this.menuShortcuts.filter(({id:t})=>t!=="fullscreen");this.menuShortcuts=e,this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}closeFullscreen(){this.bookreader.exitFullScreen()}get fullscreenShortcut(){return Ke`
      <button
        @click=${()=>this.closeFullscreen()}
        title="Exit fullscreen view"
      >${this.fullscreenBranding}</button>
    `}updateSideMenu(e="",t="open"){if(!e)return;let r=new CustomEvent(Ih.updateSideMenu,{detail:{menuId:e,action:t}});this.dispatchEvent(r)}updateMenuContents(){var r;let e=i_(Object.entries(this.menuProviders).filter(([a,l])=>!!l).filter(([a,l])=>a==="downloads"?this.shouldShowDownloadsMenu():!0),([a,l])=>{let o=this.shortcutOrder.indexOf(a);return o===-1?this.shortcutOrder.length:o}).map(([a,l])=>l);this.shouldShowDownloadsMenu()&&((r=this.menuProviders.downloads)==null||r.update(this.downloadableTypes));let t=new CustomEvent(Ih.menuUpdated,{detail:e});this.dispatchEvent(t)}shouldShowDownloadsMenu(){if(!this.downloadableTypes.length)return!1;if(this.bookIsRestricted===!1||this.isAdmin)return!0;let{user_loan_record:e={}}=this.lendingStatus;return Array.isArray(e)?!1:e.type&&e.type!=="SESSION_LOAN"}addMenuShortcut(e){this.menuShortcuts.find(t=>t.id===e)||this.menuProviders[e]&&(this.menuShortcuts.push(this.menuProviders[e]),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated())}removeMenuShortcut(e){this.menuShortcuts=this.menuShortcuts.filter(t=>t.id!==e),this.emitMenuShortcutsUpdated()}sortMenuShortcuts(){this.menuShortcuts=i_(this.menuShortcuts,e=>{let t=this.shortcutOrder.indexOf(e.id);return t===-1?this.shortcutOrder.length:t})}emitMenuShortcutsUpdated(){let e=new CustomEvent("menuShortcutsUpdated",{detail:this.menuShortcuts});this.dispatchEvent(e)}emitLoadingStatusUpdate(e){let t=new CustomEvent("loadingStateUpdated",{detail:{loaded:e}});this.dispatchEvent(t)}bindEventListeners(){window.addEventListener("BookReader:PostInit",e=>{this.bookreader=e.detail.props,this.bookreader.shell=this,this.bookReaderLoaded=!0,this.bookReaderCannotLoad=!1,this.emitLoadingStatusUpdate(!0),this.loadSharedObserver(),setTimeout(()=>{this.bookreader.resize()},0)}),window.addEventListener("BookReader:fullscreenToggled",e=>{let{detail:{props:t=null}}=e;t&&(this.bookreader=t),this.manageFullScreenBehavior()},{passive:!0}),window.addEventListener("BookReader:ToggleSearchMenu",e=>{this.dispatchEvent(new CustomEvent(Ih.updateSideMenu,{detail:{menuId:"search",action:"toggle"}}))}),window.addEventListener("LendingFlow:PostInit",({detail:e})=>{let{downloadTypesAvailable:t,lendingStatus:r,isAdmin:a,previewType:l}=e;this.lendingInitialized=!0,this.downloadableTypes=t,this.lendingStatus=r,this.isAdmin=a,this.bookReaderCannotLoad=l==="singlePagePreview",this.emitLoadingStatusUpdate(!0)}),window.addEventListener("BRJSIA:PostInit",({detail:e})=>{let{isRestricted:t,downloadURLs:r}=e;this.bookReaderLoaded=!0,this.downloadableTypes=r,this.bookIsRestricted=t}),window.addEventListener("contextmenu",e=>this.manageContextMenuVisibility(e),{capture:!0})}manageContextMenuVisibility(e){var t,r,a;if((a=window.archive_analytics)==null||a.send_event("BookReader",`contextmenu-${this.bookIsRestricted?"restricted":"unrestricted"}`,(r=(t=e.target)==null?void 0:t.classList)==null?void 0:r.value),!(!this.bookIsRestricted||!e.target.classList.value.match(/BRscreen|BRpageimage/g)))return e.preventDefault(),!1}loadSharedObserver(){var e;this.sharedObserverHandler={handleResize:this.handleResize.bind(this)},(e=this.sharedObserver)==null||e.addObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}handleResize({contentRect:e,target:t}){var n;let r=this.brWidth,a=this.brHeight,{animating:l}=this.bookreader;t===this.mainBRContainer&&(this.brWidth=e.width,this.brHeight=e.height),!r&&this.brWidth&&this.initializeBookSubmenus();let o=r!==this.brWidth,c=a!==this.brHeight;!l&&(o||c)&&((n=this.bookreader)==null||n.resize())}manageFullScreenBehavior(){this.emitFullScreenState(),this.bookreader.options.enableFSLogoShortcut&&(this.bookreader.isFullscreen()?this.addFullscreenShortcut():this.deleteFullscreenShortcut())}emitFullScreenState(){let e=this.bookreader.isFullscreen(),t=new CustomEvent("ViewportInFullScreen",{detail:{isFullScreen:e}});this.dispatchEvent(t)}get itemImage(){var r;let e=(r=this.itemMD)==null?void 0:r.metadata.identifier,t=`https://${this.baseHost}/services/img/${e}`;return Ke`<img class="cover-img" src=${t} alt="cover image for ${e}">`}get placeholder(){return Ke`<div class="placeholder">${this.itemImage}</div>`}render(){return Ke`<div id="book-navigator__root">
      ${this.bookReaderCannotLoad?this.placeholder:Ei}
      ${this.bookReaderCannotLoad?Ei:Ke`<slot name="main"></slot>`}
    </div>
  `}static get styles(){return pt`
    :host,
    #book-navigator__root,
    slot,
    slot > * {
      display: block;
      height: inherit;
      width: inherit;
    }
    .placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      margin: 5%;
    }
    .cover-img {
      max-height: 300px;
    }
  `}};customElements.define("book-navigator",z9);s_=class extends mi{static get properties(){return{item:{type:Object},baseHost:{type:String},signedIn:{type:Boolean},fullscreen:{type:Boolean,reflect:!0,attribute:!0},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},loaded:{type:Boolean},menuShortcuts:{type:Array},menuContents:{type:Array}}}constructor(){super(),this.item=void 0,this.bookreader=void 0,this.baseHost="archive.org",this.fullscreen=!1,this.signedIn=!1,this.modal=void 0,this.sharedObserver=void 0,this.loaded=!1,this.menuShortcuts=[],this.menuContents=[],this.openMenuName=""}updated(){this.modal||this.setModalManager(),this.sharedObserver||(this.sharedObserver=new Ro)}get itemNav(){return this.shadowRoot.querySelector("iaux-item-navigator")}setModalManager(){let e=document.querySelector("modal-manager");e||(e=document.createElement("modal-manager"),document.body.appendChild(e)),this.modal=e}manageFullscreen(e){let{detail:t}=e,r=!!t.isFullScreen;this.fullscreen=r,this.dispatchEvent(new CustomEvent("fullscreenStateUpdated",{detail:{fullscreen:r}}))}loadingStateUpdated(e){let{loaded:t}=e.detail;this.loaded=t||null,this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:t}}))}setMenuShortcuts(e){this.menuShortcuts=[...e.detail]}setMenuContents(e){let t=[...e.detail];this.menuContents=t}manageSideMenuEvents(e){var a,l;let{menuId:t,action:r}=e.detail;t&&(this.openMenuName=t,r==="open"?(a=this.itemNav)==null||a.openShortcut(t):r==="toggle"&&((l=this.itemNav)==null||l.toggleMenu()))}render(){return Ke`
      <div class="main-component">
        <iaux-item-navigator
          ?viewportInFullscreen=${this.fullscreen}
          .basehost=${this.baseHost}
          .item=${this.item}
          .modal=${this.modal}
          .loaded=${this.loaded}
          .sharedObserver=${this.sharedObserver}
          ?signedIn=${this.signedIn}
          .menuShortcuts=${this.menuShortcuts}
          .menuContents=${this.menuContents}
          .openMenu=${this.openMenuName}
        >
          <div slot="header">
            <slot name="header"></slot>
          </div>
          <div slot="main">
            <book-navigator
              .modal=${this.modal}
              .baseHost=${this.baseHost}
              .itemMD=${this.item}
              ?signedIn=${this.signedIn}
              ?sideMenuOpen=${this.menuOpened}
              .sharedObserver=${this.sharedObserver}
              @ViewportInFullScreen=${this.manageFullscreen}
              @loadingStateUpdated=${this.loadingStateUpdated}
              @updateSideMenu=${this.manageSideMenuEvents}
              @menuUpdated=${this.setMenuContents}
              @menuShortcutsUpdated=${this.setMenuShortcuts}
            >
              <div slot="main">
                <slot name="main"></slot>
              </div>
            </book-navigator>
          </div>
        </iaux-item-navigator>
      </div>
    `}static get styles(){return pt`
      :host {
        display: block;
        --primaryBGColor: var(--black, #000);
        --secondaryBGColor: #222;
        --tertiaryBGColor: #333;
        --primaryTextColor: var(--white, #fff);
        --primaryCTAFill: #194880;
        --primaryCTABorder: #c5d1df;
        --secondaryCTAFill: #333;
        --secondaryCTABorder: #999;
        --primaryErrorCTAFill: #e51c26;
        --primaryErrorCTABorder: #f8c6c8;
        background-color: var(--primaryBGColor);
        position: relative;
      }

      :host([fullscreen]),
      iaux-item-navigator[viewportinfullscreen] {
        position: fixed;
        inset: 0;
        height: 100%;
        min-height: unset;
      }

      .main-component {
        height: 100%;
        width: 100%;
        min-height: inherit;
      }

      div[slot="header"],
      div[slot="main"] {
        display: flex;
        width: 100%;
      }

      slot {
        display: block;
        flex: 1;
      }

      iaux-item-navigator {
        min-height: var(--br-height, inherit);
        height: var(--br-height, inherit);
        display: block;
        width: 100%;
        color: var(--primaryTextColor);
        --menuButtonLabelDisplay: block;
        --menuWidth: 320px;
        --menuSliderBg: var(--secondaryBGColor);
        --activeButtonBg: var(--tertiaryBGColor);
        --subpanelRightBorderColor: var(--secondaryCTABorder);
        --animationTiming: 100ms;
        --iconFillColor: var(--primaryTextColor);
        --iconStrokeColor: var(--primaryTextColor);
        --menuSliderHeaderIconHeight: 2rem;
        --menuSliderHeaderIconWidth: 2rem;
        --iconWidth: 2.4rem;
        --iconHeight: 2.4rem;
        --shareLinkColor: var(--primaryTextColor);
        --shareIconBorder: var(--primaryTextColor);
        --shareIconBg: var(--secondaryBGColor);
        --activityIndicatorLoadingDotColor: var(--primaryTextColor);
        --activityIndicatorLoadingRingColor: var(--primaryTextColor);
      }
    `}};window.customElements.define("ia-bookreader",s_)});var c_={};Dn(c_,{IaBookReader:()=>s_});var u_=Kt(()=>{_i();jg();kc();Us();Lh();Hg();Fg();zg();Oh();Ug();ds();ul();Wu();Vg();Wg();qg();l_()});function U9(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}}function V9(e){return yi(this,null,function*(){return yield new Promise((t,r)=>{let a=new Image;a.onload=()=>t(a),a.onerror=r,a.src=e})})}function W9(e){return yi(this,null,function*(){let t=[];return yield Promise.all(e.map(r=>yi(this,null,function*(){let a;try{a=yield V9(r.uri)}catch(o){a=new Image(300,300)}console.log("^^^^^^^^^^^^^^ FETCH IMAGE ~~~~~~~",a,a.height,a.width);let l=e.indexOf(r);t[l]=on(Dr({},r),{width:a.width,height:a.height})}))),t})}function d_(l){return yi(this,arguments,function*({images:e=[],itemIdentifier:t="",itemTitle:r="",baseHost:a="archive.org"}){let o=(yield fetch(`https://${a}/metadata/${t}/metadata`).then(m=>m.json())).result||{},c=e.map((m,y)=>{let x=y%2===1?"L":"R";return console.log("imgPath",m),{uri:`https://${a}/download/${t}${m}`,leafNum:y,pageType:"Normal",pageSide:x}}),n=yield W9(c),u=[];n.forEach((m,y)=>{if(y===0){u.push([m]);return}if(y%2===1){u.push([m]);return}y%2===0&&u[u.length-1].push(m)});let p=on(Dr({bookId:t,bookPath:`/download/${t}`,bookTitle:r,defaults:"mode/1up",dfaultStartLeaf:0,ppi:200,data:u},U9()),{enableSearch:!1,plugins:{textSelection:{enabled:!1}}}),g={data:{streamOnly:!1,isRestricted:!1,id:t,subPrefix:t,bookUrl:`/details/${t}`},brOptions:p,metadata:o};return console.log("**** MANIFEST _---",g,p),g})}var h_=Kt(()=>{});var p_=Kt(()=>{h_()});var da,q9,qa,Kg,Wo,Sn,G9,f_,Y9,K9,X9,Er,qo,Rh,Dh,Z9,J9,fl,Xg,Q9,e8,m_,ml=Kt(()=>{vr();Ln();No();vr();Ln();No();No();No();No();No();No();No();No();vr();Ln();No();vr();Ln();No();da=class{constructor(e,t){this.parser=e,this.rawValue=t}get values(){return this.parseRawValue()}get value(){return this.values[0]}parseRawValue(){if(this.rawValue===void 0)return[];let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let a=this.parser.parseValue(r);Array.isArray(a)?t.push(...a):a!==void 0&&t.push(a)}),t}};le([At()],da.prototype,"values",null);le([At()],da.prototype,"value",null);q9=class extends da{constructor(e){super(wh.shared,e)}},qa=class extends da{constructor(e){super(il.shared,e)}},Kg=class extends da{constructor(e){super(mc.shared,e)}},Wo=class extends da{constructor(e){super(jo.shared,e)}},Sn=class extends da{constructor(e){super(gc.shared,e)}},G9=class extends da{constructor(e){super(_h.shared,e)}},f_=class extends da{constructor(e){super(gs.shared,e)}},Y9=class extends da{constructor(e){super(xh.shared,e)}},K9=class extends da{constructor(e,t){super(t,e)}},X9=class extends K9{constructor(e){let t=new Zw(gc.shared);super(e,t)}},Er=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}get addeddate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new qa(this.rawMetadata.addeddate):void 0}get audio_codec(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new Sn(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new Wo(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new Wo(this.rawMetadata.avg_rating):void 0}get collection(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new Sn(this.rawMetadata.collection):void 0}get collections_raw(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new Sn(this.rawMetadata.collections_raw):void 0}get collection_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new f_(this.rawMetadata.collection_size):void 0}get contributor(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new Sn(this.rawMetadata.contributor):void 0}get coverage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new Sn(this.rawMetadata.coverage):void 0}get creator(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new Sn(this.rawMetadata.creator):void 0}get date(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new qa(this.rawMetadata.date):void 0}get description(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new Sn(this.rawMetadata.description):void 0}get downloads(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new Wo(this.rawMetadata.downloads):void 0}get duration(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new Kg(this.rawMetadata.duration):void 0}get"external-identifier"(){var e,t;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new Sn((t=this.rawMetadata)===null||t===void 0?void 0:t["external-identifier"]):void 0}get files_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new Wo(this.rawMetadata.files_count):void 0}get indexdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new qa(this.rawMetadata.indexdate):void 0}get isbn(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new Sn(this.rawMetadata.isbn):void 0}get issue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new Sn(this.rawMetadata.issue):void 0}get item_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new Wo(this.rawMetadata.item_count):void 0}get item_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new f_(this.rawMetadata.item_size):void 0}get language(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new Sn(this.rawMetadata.language):void 0}get length(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new Kg(this.rawMetadata.length):void 0}get lineage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new Sn(this.rawMetadata.lineage):void 0}get month(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new Wo(this.rawMetadata.month):void 0}get mediatype(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new Y9(this.rawMetadata.mediatype):void 0}get noindex(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.noindex?new q9(this.rawMetadata.noindex):void 0}get notes(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new Sn(this.rawMetadata.notes):void 0}get num_favorites(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new Wo(this.rawMetadata.num_favorites):void 0}get num_reviews(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new Wo(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new Sn(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new Sn(this.rawMetadata.openlibrary_work):void 0}get page_progression(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new G9(this.rawMetadata.page_progression):void 0}get partner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new Sn(this.rawMetadata.partner):void 0}get ppi(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new Wo(this.rawMetadata.ppi):void 0}get publicdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new qa(this.rawMetadata.publicdate):void 0}get publisher(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new Sn(this.rawMetadata.publisher):void 0}get reviewdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new qa(this.rawMetadata.reviewdate):void 0}get runtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new Kg(this.rawMetadata.runtime):void 0}get scanner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new Sn(this.rawMetadata.scanner):void 0}get source(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new Sn(this.rawMetadata.source):void 0}get start_localtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new qa(this.rawMetadata.start_localtime):void 0}get start_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new qa(this.rawMetadata.start_time):void 0}get stop_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new qa(this.rawMetadata.stop_time):void 0}get subject(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new X9(this.rawMetadata.subject):void 0}get taper(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new Sn(this.rawMetadata.taper):void 0}get title(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new Sn(this.rawMetadata.title):void 0}get transferer(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new Sn(this.rawMetadata.transferer):void 0}get track(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new Wo(this.rawMetadata.track):void 0}get type(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new Sn(this.rawMetadata.type):void 0}get uploader(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new Sn(this.rawMetadata.uploader):void 0}get utc_offset(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new Wo(this.rawMetadata.utc_offset):void 0}get venue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new Sn(this.rawMetadata.venue):void 0}get volume(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new Sn(this.rawMetadata.volume):void 0}get week(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new Wo(this.rawMetadata.week):void 0}get year(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new qa(this.rawMetadata.year):void 0}};le([At()],Er.prototype,"addeddate",null);le([At()],Er.prototype,"audio_codec",null);le([At()],Er.prototype,"audio_sample_rate",null);le([At()],Er.prototype,"avg_rating",null);le([At()],Er.prototype,"collection",null);le([At()],Er.prototype,"collections_raw",null);le([At()],Er.prototype,"collection_size",null);le([At()],Er.prototype,"contributor",null);le([At()],Er.prototype,"coverage",null);le([At()],Er.prototype,"creator",null);le([At()],Er.prototype,"date",null);le([At()],Er.prototype,"description",null);le([At()],Er.prototype,"downloads",null);le([At()],Er.prototype,"duration",null);le([At()],Er.prototype,"external-identifier",null);le([At()],Er.prototype,"files_count",null);le([At()],Er.prototype,"indexdate",null);le([At()],Er.prototype,"isbn",null);le([At()],Er.prototype,"issue",null);le([At()],Er.prototype,"item_count",null);le([At()],Er.prototype,"item_size",null);le([At()],Er.prototype,"language",null);le([At()],Er.prototype,"length",null);le([At()],Er.prototype,"lineage",null);le([At()],Er.prototype,"month",null);le([At()],Er.prototype,"mediatype",null);le([At()],Er.prototype,"noindex",null);le([At()],Er.prototype,"notes",null);le([At()],Er.prototype,"num_favorites",null);le([At()],Er.prototype,"num_reviews",null);le([At()],Er.prototype,"openlibrary_edition",null);le([At()],Er.prototype,"openlibrary_work",null);le([At()],Er.prototype,"page_progression",null);le([At()],Er.prototype,"partner",null);le([At()],Er.prototype,"ppi",null);le([At()],Er.prototype,"publicdate",null);le([At()],Er.prototype,"publisher",null);le([At()],Er.prototype,"reviewdate",null);le([At()],Er.prototype,"runtime",null);le([At()],Er.prototype,"scanner",null);le([At()],Er.prototype,"source",null);le([At()],Er.prototype,"start_localtime",null);le([At()],Er.prototype,"start_time",null);le([At()],Er.prototype,"stop_time",null);le([At()],Er.prototype,"subject",null);le([At()],Er.prototype,"taper",null);le([At()],Er.prototype,"title",null);le([At()],Er.prototype,"transferer",null);le([At()],Er.prototype,"track",null);le([At()],Er.prototype,"type",null);le([At()],Er.prototype,"uploader",null);le([At()],Er.prototype,"utc_offset",null);le([At()],Er.prototype,"venue",null);le([At()],Er.prototype,"volume",null);le([At()],Er.prototype,"week",null);le([At()],Er.prototype,"year",null);qo=class{constructor(e){this.rawValue=e}get name(){return this.rawValue.name}get source(){return this.rawValue.source}get btih(){return this.rawValue.btih}get md5(){return this.rawValue.md5}get format(){return this.rawValue.format}get mtime(){return this.rawValue.mtime}get crc32(){return this.rawValue.crc32}get sha1(){return this.rawValue.sha1}get original(){return this.rawValue.original}get size(){return this.rawValue.size?gs.shared.parseValue(this.rawValue.size):void 0}get title(){return this.rawValue.title}get length(){return this.rawValue.length?mc.shared.parseValue(this.rawValue.length):void 0}get height(){return this.rawValue.height?jo.shared.parseValue(this.rawValue.height):void 0}get width(){return this.rawValue.width?jo.shared.parseValue(this.rawValue.width):void 0}get track(){return this.rawValue.track?jo.shared.parseValue(this.rawValue.track):void 0}get external_identifier(){return this.rawValue.external_identifier}get creator(){return this.rawValue.creator}get album(){return this.rawValue.album}};le([At()],qo.prototype,"size",null);le([At()],qo.prototype,"length",null);le([At()],qo.prototype,"height",null);le([At()],qo.prototype,"width",null);le([At()],qo.prototype,"track",null);Rh=class{constructor(e){this.rawValue=e}get reviewbody(){return this.rawValue.reviewbody}get reviewtitle(){return this.rawValue.reviewtitle}get reviewer(){return this.rawValue.reviewer}get reviewdate(){return this.rawValue.reviewdate?il.shared.parseValue(this.rawValue.reviewdate):void 0}get createdate(){return this.rawValue.createdate?il.shared.parseValue(this.rawValue.createdate):void 0}get stars(){return this.rawValue.stars?jo.shared.parseValue(this.rawValue.stars):void 0}};le([At()],Rh.prototype,"reviewdate",null);le([At()],Rh.prototype,"createdate",null);le([At()],Rh.prototype,"stars",null);Dh=class{constructor(e){var t,r;this.rawResponse=e,this.created=e.created,this.d1=e.d1,this.d2=e.d2,this.dir=e.dir,this.files=(t=e.files)===null||t===void 0?void 0:t.map(a=>new qo(a)),this.files_count=e.files_count,this.item_last_updated=e.item_last_updated,this.item_size=e.item_size,this.metadata=new Er(e.metadata),this.server=e.server,this.uniq=e.uniq,this.workable_servers=e.workable_servers,this.speech_vs_music_asr=e.speech_vs_music_asr,this.reviews=(r=e.reviews)===null||r===void 0?void 0:r.map(a=>new Rh(a))}},Z9=class{constructor(e){this.numFound=e.numFound,this.start=e.start,this.docs=e.docs.map(t=>new Er(t)),this.aggregations=e.aggregations}},J9=class{constructor(e){this.rawResponse=e,this.responseHeader=e.responseHeader,this.response=new Z9(e.response)}};(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(fl||(fl={}));Xg=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},Q9=class{static aggregateSearchParamsAsString(e){if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field} ${e.direction}`}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("q",e.query),t.append("output","json"),e.rows&&t.append("rows",String(e.rows)),e.page&&t.append("page",String(e.page)),e.fields&&t.append("fl",e.fields.join(",")),e.sort){let a=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",a.join(","))}let r=e.aggregations;if(r){let a=this.aggregateSearchParamsAsString(r);a&&t.append("user_aggs",a)}return t}},e8=class{constructor(e){var t;if(this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(e==null?void 0:e.scope)!==void 0)this.requestScope=e.scope;else{let r=new URL(window.location.href).searchParams.get("scope");r&&(this.requestScope=r)}}performSearch(e){return yi(this,null,function*(){let t=Q9.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}/advancedsearch.php?${t}`;return this.fetchUrl(r)})}fetchMetadata(e,t){return yi(this,null,function*(){let r=t?`/${t}`:"",a=`https://${this.baseUrl}/metadata/${e}${r}`;return this.fetchUrl(a,{requestOptions:{credentials:"omit"}})})}fetchUrl(e,t){return yi(this,null,function*(){var r;let a=new URL(e);this.requestScope&&a.searchParams.set("scope",this.requestScope);let l;try{let o=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};l=yield fetch(a.href,o)}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(fl.networkError,c)}try{let o=yield l.json(),c=o.error;if(c){let n=o.forensics;return this.getErrorResult(fl.searchEngineError,c,n)}else return{success:o}}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(fl.decodingError,c)}})}getErrorResult(e,t,r){return{error:new Xg(e,t,r)}}},m_=class{constructor(e){this.searchBackend=e}search(e){return yi(this,null,function*(){let t=yield this.searchBackend.performSearch(e);return t.error?t:{success:new J9(t.success)}})}fetchMetadata(e){return yi(this,null,function*(){var t;let r=yield this.searchBackend.fetchMetadata(e);return r.error?r:((t=r.success)===null||t===void 0?void 0:t.metadata)===void 0?{error:new Xg(fl.itemNotFound)}:{success:new Dh(r.success)}})}fetchMetadataValue(e,t){return yi(this,null,function*(){var r;let a=yield this.searchBackend.fetchMetadata(e,t);return a.error?a:((r=a.success)===null||r===void 0?void 0:r.result)===void 0?{error:new Xg(fl.itemNotFound)}:{success:a.success.result}})}};m_.default=new m_(new e8)});var t8,g_,v_=Kt(()=>{ml();ml();t8=class extends qo{constructor(e,t="archive.org"){super(e),this.isSegmented=!1,this.private=!1,this.details=null,this.orig="",this.image="",this.duration=0,this.sources=[],this._playlistTrack=null,this.details=e.details,this.baseHost=t}setPlaylistInfo(e){this._playlistTrack=e,this.orig=e.orig,this.image=e.image,this.duration=e.duration,this.sources=e.sources}get url(){return`https://${this.baseHost}/${this.name}`}get title(){var e;return((e=this._playlistTrack)===null||e===void 0?void 0:e.title)||(this===null||this===void 0?void 0:this.title)||this.name}get youtubeId(){return this.externalIds.find(e=>e.match(/youtube/gi))||""}get spotifyId(){return this.externalIds.find(e=>e.match(/spotify/gi))||""}get externalIds(){return Array.isArray(this.rawValue["external-identifier"])?this.rawValue["external-identifier"]:[this.rawValue["external-identifier"]||""]}},g_=class{constructor(e,t){this.tracks=[],this.images=[],this.linerNotes=[],this.tracksAreSegmented=!1,this.baseHost="archive.org",this.relatedFiles=[],this.rawPlaylistTracks=[],this.item=new Dh(e),this.rawPlaylistTracks=t,this.tracks=t,this.filterFiles(this.item.files)}get title(){var e,t;return((t=(e=this.item.metadata)===null||e===void 0?void 0:e.title)===null||t===void 0?void 0:t.values.join("; "))||""}get creator(){var e,t,r,a,l,o;return!((t=(e=this.item.metadata)===null||e===void 0?void 0:e.creator)===null||t===void 0)&&t.values?(a=(r=this.item.metadata)===null||r===void 0?void 0:r.creator)===null||a===void 0?void 0:a.values.join("; "):!((l=this.item.metadata.rawMetadata)===null||l===void 0)&&l.artist?(o=this.item.metadata.rawMetadata)===null||o===void 0?void 0:o.artist:""}get youtubeId(){return this.externalIds.find(e=>e.match(/youtube/gi))||""}get spotifyId(){return this.externalIds.find(e=>e.match(/spotify/gi))||""}get externalIds(){var e;if(!this.item.metadata.rawMetadata)return[""];let t=this.item.metadata["external-identifier"];return!((e=t==null?void 0:t.values)===null||e===void 0)&&e.length?t.values:[(t==null?void 0:t.value)||""]}get youtubeTracks(){let e=this.tracks.filter(t=>t.youtubeId);return this.albumTrackOption("yt")!==void 0&&e.unshift(this.albumTrackOption("yt")),e}get spotifyTracks(){let e=this.tracks.filter(t=>t.spotifyId);return this.albumTrackOption("sp")!==void 0&&e.unshift(this.albumTrackOption("sp")),e}get albumImage(){let e=this.images.find(a=>a.format==="Item Image"),t=`https://${this.baseHost}/download/${this.item.metadata.identifier}/`;if(e)return`${t}${e.name}`;let r=this.images.find(a=>{let l=["Item Image","JPEG Thumb"];return a.source==="original"&&!l.includes(a.format)});return r?`${t}${r.name}`:`${t}__ia_thumb.jpg`}albumTrackOption(e){let t={title:"Full Album",orig:"",image:"",duration:"-- : --",track:0,iaTrackNum:-1,sources:[]};if(e==="yt"&&this.youtubeId)return on(Dr({},t),{youtubeId:this.youtubeId});if(e==="sp"&&this.spotifyId)return on(Dr({},t),{spotifyId:this.spotifyId})}isAlbumRelatedFile(e){var t,r;return!!(!((t=e.name.match(/.(ffp|md5)$/g))===null||t===void 0)&&t.length)&&!!(!((r=e.original)===null||r===void 0)&&r.length)&&e.source==="derivative"}isValidAudioFile(e=""){var t;return!!(!((t=e.match(/(mp3|ogg|flac|m4a|wma|aiff|aac|aa|ra|ram|shn|wav|wave|opus)$/gi))===null||t===void 0)&&t.length)}isValidImageFile(e=""){var t;return!!(!((t=e.match(/.(png|jpg|jpeg)$/gi))===null||t===void 0)&&t.length)}isValidImageFileFormat(e=""){var t;return!!(!((t=e.match(/(png|jpg|jpeg)/gi))===null||t===void 0)&&t.length)}isValidSegmentFile(e=""){var t;return!!(!((t=e.match(/_segments.(json|xml)$/gi))===null||t===void 0)&&t.length)}isSpectrogram(e=""){var t;return!!(!((t=e.match(/spectrogram/gi))===null||t===void 0)&&t.length)}isSampleMP3(e=""){var t;return!!(!((t=e.match(/_sample\.mp3$/gi))===null||t===void 0)&&t.length)}hasScannedLinerNotes(e=""){var t;return!!(!((t=e.match(/_jp2.(zip|tar)/gi))===null||t===void 0)&&t.length)}filterFiles(e){let t=[],r={};e.forEach(l=>{var o,c;let n=l.rawValue,u=this.isValidAudioFile(n.name);if(this.isAlbumRelatedFile(n)){this.relatedFiles.push(n);return}if(this.isValidSegmentFile(n.name)&&(this.tracksAreSegmented=!0,this.relatedFiles.push(n),n.original&&this.isValidAudioFile(n.name)&&!r[n.original]&&(r[n.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0})),n.source==="original"&&!r[n.name]&&u&&(r[n.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),n.original&&this.isValidAudioFile(n.original)&&!r[n.original]&&(r[n.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),this.hasScannedLinerNotes(n.name)&&this.linerNotes.push(n),this.isValidImageFile(n.name)){n.original&&this.isValidAudioFile(n.original)?r[n.original].spectrogram=n:t.push(n);return}if(n.original&&this.isValidAudioFile(n.original)&&!this.isValidAudioFile(n.name)){r[n.original].related.push(n);return}if(!this.isValidAudioFile(n.name)||!this.isValidImageFile(n.name)&&!this.isValidAudioFile(n.name))return;let p=this.isValidSegmentFile(n.original)&&this.isValidAudioFile(n.name);if(n.source==="original"&&this.isValidAudioFile(n.name)||p){r[n.name]||(r[n.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),r[n.name].primary=n;return}if(!((o=n.name.match(/_sample\.mp3$/))===null||o===void 0)&&o.length&&n.original){r[n.original].sampleMp3=new qo(n);return}this.isValidAudioFile(n.name)&&!this.isSampleMP3(n.name)&&this.isValidAudioFile(n.original)&&n.original&&(!((c=n.name.match(/.mp3$/))===null||c===void 0)&&c.length?r[n.original].fullMp3=n:r[n.original].related.push(n))}),this.images=t;let a=[];this.tracks.forEach((l,o)=>{let c=r[l.orig].primary,n=new t8(on(Dr(Dr({},l),c),{details:r[l.orig]}),"archive.org");n.setPlaylistInfo(l),a[o]=n}),this.tracks=a}}});var y_=Kt(()=>{ml();v_()});var b_=Kt(()=>{qc();Gl();Vp();Wp();_i()});var Zg=Kt(()=>{b_()});var i8,r8,Jg=Kt(()=>{_i();_i();i8=Ke`
  <svg
    height="12"
    viewBox="0 0 12 12"
    width="12"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="closeCircleTitleID closeCircleDescID"
  >
    <title id="closeCircleTitleID">Close circle icon</title>
    <desc id="closeCircleDescID">A line drawing of an X in a circle</desc>
    <path
      d="m6 0c3.3137085 0 6 2.6862915 6 6s-2.6862915 6-6 6-6-2.6862915-6-6 2.6862915-6 6-6zm-2.3406945 2.96359116c-.19486814-.13499605-.46429254-.1157109-.63785889.05785545-.19526215.19526215-.19526215.51184463 0 .70710678l2.27155339 2.27144661-2.20567981 2.20557302-.05785545.06924789c-.13499605.19486814-.1157109.46429254.05785545.6378589.19526215.19526214.51184464.19526214.70710679 0l2.20557302-2.20567981 2.20557302 2.20567981.06924789.05785545c.19486814.13499605.46429254.1157109.6378589-.05785545.19526214-.19526215.19526214-.51184464 0-.70710679l-2.20567981-2.20557302 2.27155339-2.27144661.05785545-.06924789c.13499605-.19486814.1157109-.46429254-.05785545-.63785889-.19526215-.19526215-.51184463-.19526215-.70710678 0l-2.27144661 2.27155339-2.27144661-2.27155339z"
      class="fill-color"
      fill-rule="evenodd"
    />
  </svg>
`,r8=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor, #999);
      }
    `}render(){return i8}};customElements.define("ia-icon-close-circle",r8)});function L_(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return w_!==void 0?w_.createHTML(t):t}function Sc(e,t,r=e,a){var l,o,c,n;if(t===Zu)return t;let u=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,p=Xu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,a)),a!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[a]=u:r._$Cl=u),u!==void 0&&(t=Sc(e,u._$AS(e,t.values),u,a)),t}var Qg,jh,Ac,w_,iv,ws,E_,n8,yl,Ku,Xu,T_,o8,ev,Yu,x_,__,gl,k_,A_,P_,$_,_G,kG,Zu,Xn,S_,vl,a8,rv,s8,nv,Nh,l8,c8,u8,d8,h8,tv,p8,C_,I_,R_=Kt(()=>{tc();Tg();jh=window,Ac=jh.trustedTypes,w_=Ac?Ac.createPolicy("lit-html",{createHTML:e=>e}):void 0,iv="$lit$",ws=`lit$${(Math.random()+"").slice(9)}$`,E_="?"+ws,n8=`<${E_}>`,yl=document,Ku=()=>yl.createComment(""),Xu=e=>e===null||typeof e!="object"&&typeof e!="function",T_=Array.isArray,o8=e=>T_(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",ev=`[ 	
\f\r]`,Yu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,x_=/-->/g,__=/>/g,gl=RegExp(`>|${ev}(?:([^\\s"'>=/]+)(${ev}*=${ev}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),k_=/'/g,A_=/"/g,P_=/^(?:script|style|textarea|title)$/i,$_=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),_G=$_(1),kG=$_(2),Zu=Symbol.for("lit-noChange"),Xn=Symbol.for("lit-nothing"),S_=new WeakMap,vl=yl.createTreeWalker(yl,129,null,!1);a8=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",c=Yu;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Yu?g[1]==="!--"?c=x_:g[1]!==void 0?c=__:g[2]!==void 0?(P_.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=gl):g[3]!==void 0&&(c=gl):c===gl?g[0]===">"?(c=l!=null?l:Yu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?gl:g[3]==='"'?A_:k_):c===A_||c===k_?c=gl:c===x_||c===__?c=Yu:(c=gl,l=void 0);let x=c===gl&&e[n+1].startsWith("/>")?" ":"";o+=c===Yu?u+n8:m>=0?(a.push(p),u.slice(0,m)+iv+u.slice(m)+ws+x):u+ws+(m===-2?(a.push(void 0),n):x)}return[L_(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},rv=class O_{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=a8(t,r);if(this.el=O_.createElement(p,a),vl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=vl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(iv)||y.startsWith(ws)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+iv).split(ws),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?l8:k[1]==="?"?u8:k[1]==="@"?d8:Nh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(P_.test(l.tagName)){let m=l.textContent.split(ws),y=m.length-1;if(y>0){l.textContent=Ac?Ac.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Ku()),vl.nextNode(),u.push({type:2,index:++o});l.append(m[y],Ku())}}}else if(l.nodeType===8)if(l.data===E_)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ws,m+1))!==-1;)u.push({type:7,index:o}),m+=ws.length-1}o++}}static createElement(t,r){let a=yl.createElement("template");return a.innerHTML=t,a}};s8=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:yl).importNode(r,!0);vl.currentNode=l;let o=vl.nextNode(),c=0,n=0,u=a[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new nv(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new h8(o,this,e)),this._$AV.push(p),u=a[++n]}c!==(u==null?void 0:u.index)&&(o=vl.nextNode(),c++)}return vl.currentNode=yl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},nv=class M_{constructor(t,r,a,l){var o;this.type=2,this._$AH=Xn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Sc(this,t,r),Xu(t)?t===Xn||t==null||t===""?(this._$AH!==Xn&&this._$AR(),this._$AH=Xn):t!==this._$AH&&t!==Zu&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):o8(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Xn&&Xu(this._$AH)?this._$AA.nextSibling.data=t:this.$(yl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=rv.createElement(L_(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let c=new s8(o,this),n=c.u(this.options);c.v(a),this.$(n),this._$AH=c}}_$AC(t){let r=S_.get(t.strings);return r===void 0&&S_.set(t.strings,r=new rv(t)),r}T(t){T_(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new M_(this.k(Ku()),this.k(Ku()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Nh=class{constructor(e,t,r,a,l){this.type=1,this._$AH=Xn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Xn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=Sc(this,e,t,0),o=!Xu(e)||e!==this._$AH&&e!==Zu,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Sc(this,c[r+n],t,n),u===Zu&&(u=this._$AH[n]),o||(o=!Xu(u)||u!==this._$AH[n]),u===Xn?e=Xn:e!==Xn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!a&&this.j(e)}j(e){e===Xn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},l8=class extends Nh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Xn?void 0:e}},c8=Ac?Ac.emptyScript:"",u8=class extends Nh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Xn?this.element.setAttribute(this.name,c8):this.element.removeAttribute(this.name)}},d8=class extends Nh{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Sc(this,e,t,0))!==null&&r!==void 0?r:Xn)===Zu)return;let a=this._$AH,l=e===Xn&&a!==Xn||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==Xn&&(a===Xn||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},h8=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Sc(this,e)}},tv=jh.litHtmlPolyfillSupport;tv==null||tv(rv,nv),((Qg=jh.litHtmlVersions)!==null&&Qg!==void 0?Qg:jh.litHtmlVersions=[]).push("2.8.0");p8=(e,t,r)=>{var a,l;let o=(a=r==null?void 0:r.renderBefore)!==null&&a!==void 0?a:t,c=o._$litPart$;if(c===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=c=new nv(t.insertBefore(Ku(),n),n,void 0,r!=null?r:{})}return c._$AI(e),c},C_=e=>Sx(e)?e._$litType$.h:e.strings,I_=wa(class extends xa{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(e,[t]){let r=Eg(this.et)?C_(this.et):null,a=Eg(t)?C_(t):null;if(r!==null&&(a===null||r!==a)){let l=Fu(e).pop(),o=this.tt.get(r);if(o===void 0){let c=document.createDocumentFragment();o=p8(Xn,c),o.setConnected(!1),this.tt.set(r,o)}Hu(o,[l]),Va(o,void 0,l)}if(a!==null){if(r===null||r!==a){let l=this.tt.get(a);if(l!==void 0){let o=Fu(l).pop();Cx(e),Va(e,void 0,o),Hu(e,[o])}}this.et=t}else this.et=void 0;return this.render(t)}});});var ov=Kt(()=>{R_()});var Ga,av=Kt(()=>{vr();_i();Fr();Ga=class extends mi{constructor(){super(...arguments),this.open=!1,this.displayCaret=!1,this.selectedOption="",this.options=[],this.optionGroup="options",this.optionSelected=()=>{}}renderOption(e){let{label:t,url:r=void 0,id:a}=e,l,o=this.selectedOption===a?"selected":"";return r?l=Ke`<a
        href=${r}
        @click=${()=>this.optionClicked(e)}
        >${t}</a
      >`:l=Ke`<button
        @click=${()=>this.optionClicked(e)}
      >
        ${t}
      </button>`,Ke`<li class=${o}>${l}</li>`}optionClicked(e){this.selectedOption=e.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:e}})),e.selectedHandler&&(e==null||e.selectedHandler(e))}toggleOptions(){this.open=!this.open}get caret(){return this.open?this.caretUp:this.caretDown}get dropdownState(){return this.open?"open":"closed"}get caretUp(){return An`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
      fill=""></path>
  </svg>`}get caretDown(){return An`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
    fill=""></path>
  </svg>`}get availableOptions(){return this.options.filter(e=>this.selectedOption!==e.id)}render(){return Ke`
      <div class="ia-dropdown-group">
        <button @click=${this.toggleOptions} class="click-main">
          <span class="cta sr-only">Toggle ${this.optionGroup}</span>
          <slot name="dropdown-label"></slot>
          ${this.displayCaret?Ke`<span class="caret">${this.caret}</span>`:Ei}
        </button>

        <ul class="dropdown-main ${this.dropdownState}">
          ${this.availableOptions.map(e=>this.renderOption(e))}
        </ul>
      </div>
    `}};Ga.styles=pt`
    :host {
      display: inline;
      color: var(--dropdownTextColor, #fff);
    }

    svg.caret-up-svg,
    svg.caret-down-svg {
      fill: var(--dropdownCaretColor, #fff);
      vertical-align: middle;
    }

    button.click-main {
      background: transparent;
      color: inherit;
      border: none;
      cursor: pointer;
      outline: inherit;
      display: flex;
      align-items: center;
      justify-content: center;
      align-content: center;
      flex-wrap: nowrap;
      flex-direction: row;
      padding-left: 0;
    }

    button slot {
      padding-right: 5px;
      display: inline-block;
    }

    .ia-dropdown-group {
      width: inherit;
      height: inherit;
      position: relative;
    }

    .sr-only {
      border: 0 !important;
      clip: rect(1px, 1px, 1px, 1px) !important;
      -webkit-clip-path: inset(50%) !important;
      clip-path: inset(50%) !important;
      height: 1px !important;
      margin: -1px !important;
      overflow: hidden !important;
      padding: 0 !important;
      position: absolute !important;
      width: 1px !important;
      white-space: nowrap !important;
    }

    .caret svg {
      height: var(--caretHeight, 10px);
      width: var(--caretWidth, 20px);
    }

    ul {
      z-index: var(--dropdownListZIndex, 1);
    }

    ul.dropdown-main.closed {
      visibility: hidden;
      height: 1px;
      width: 1px;
    }

    ul.dropdown-main {
      position: absolute;
      list-style: none;
      margin: 5px 0 0 0;
      padding: 0;
      color: var(--dropdownTextColor, #fff);
      border-radius: 4px;
      border: 1px solid var(--dropdownBorderColor, #fff);
    }

    ul.dropdown-main {
      background: var(--dropdownBgColor, #333);
    }

    ul.dropdown-main li:hover:first-child {
      border-top-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
    }

    ul.dropdown-main li:hover:last-child {
      border-bottom-color: var(
        --dropdownHoverBgColor,
        rgba(255, 255, 255, 0.3)
      );
    }

    ul.dropdown-main li:hover:not(:first-child) {
      border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
    }
    ul.dropdown-main li:hover:not(:last-child) {
      border-bottom: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
    }

    ul.dropdown-main li.selected:last-child {
      border-bottom-color: var(--dropdownSelectedBgColor, #fff);
    }

    ul.dropdown-main li.selected:first-child {
      border-top-color: var(--dropdownSelectedBgColor, #fff);
    }

    ul.dropdown-main li.selected > * {
      background-color: var(--dropdownSelectedBgColor, #fff);
      color: var(--dropdownSelectedTextColor, #2c2c2c);
    }

    ul.dropdown-main li:hover {
      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
      color: var(--dropdownHoverTextColor, #fff);
      list-style: none;
      cursor: pointer;
    }

    ul.dropdown-main li:hover > * {
      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
      color: var(--dropdownHoverTextColor, #fff);
    }

    ul.dropdown-main li {
      background: var(--dropdownBgColor, #333);
      list-style: none;
      height: 30px;
      cursor: pointer;
      border-bottom: 0.5px solid var(--dropdownBgColor, #333);
      border-top: 0.5px solid var(--dropdownBgColor, #333);
    }

    ul.dropdown-main li button {
      background: none;
      color: inherit;
      border: none;
      font: inherit;
      cursor: pointer;
      outline: inherit;
    }

    ul.dropdown-main li a {
      text-decoration: none;
      display: block;
      box-sizing: border-box;
    }

    ul.dropdown-main li:first-child {
      border-top-left-radius: 4px;
      border-top-right-radius: 4px;
    }

    ul.dropdown-main li:last-child {
      border-bottom-right-radius: 4px;
      border-bottom-left-radius: 4px;
    }

    /* cover the list with the label */
    ul.dropdown-main li > * > :first-child {
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
      padding: 5px 10px;
      box-sizing: border-box;
    }

    ul.dropdown-main li > * {
      width: 100%;
      height: inherit;
      color: var(--dropdownTextColor, #fff);
      background: transparent;
      padding: 0;
    }
  `;le([Qt({type:Boolean,attribute:!0})],Ga.prototype,"open",void 0);le([Qt({type:Boolean,attribute:!0})],Ga.prototype,"displayCaret",void 0);le([Qt({type:String,attribute:!0})],Ga.prototype,"selectedOption",void 0);le([Qt({type:Array})],Ga.prototype,"options",void 0);le([Qt({type:String})],Ga.prototype,"optionGroup",void 0);le([Qt({type:Function})],Ga.prototype,"optionSelected",void 0);Ga=le([ur("ia-dropdown")],Ga)});var f8,m8,sv=Kt(()=>{_i();_i();f8=Ke`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="audioTitleID audioDescID"
>
  <title id="audioTitleID">Audio icon</title>
  <desc id="audioDescID">An illustration of an audio speaker.</desc>
  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g transform="translate(10, 8)" class="fill-color">
      <path
        d="M19.4264564,11.8585048 L19.4264564,20.7200433 C19.4264564,22.3657576 18.8838179,23.2519114 16.8489237,23.2519114 C12.2364969,23.125318 7.75972977,23.125318 3.14730298,23.2519114 C1.24806842,23.2519114 0.569770368,22.492351 0.569770368,20.7200433 L0.569770368,2.74377955 C0.569770368,1.09806526 1.11240881,0.211911416 3.14730298,0.211911416 C7.75972977,0.338504822 12.2364969,0.338504822 16.8489237,0.211911416 C18.7481583,0.211911416 19.4264564,0.971471855 19.4264564,2.74377955 C19.2907967,5.78202131 19.4264564,8.82026306 19.4264564,11.8585048 L19.4264564,11.8585048 Z M10.0659432,2.74377955 C8.16670861,2.74377955 6.67445288,4.13630702 6.67445288,5.90861471 C6.67445288,7.6809224 8.16670861,9.07344988 10.0659432,9.07344988 C11.9651777,9.07344988 13.4574335,7.6809224 13.4574335,5.90861471 C13.4574335,4.13630702 11.8295181,2.74377955 10.0659432,2.74377955 L10.0659432,2.74377955 Z M10.0659432,11.4787246 C7.21709133,11.4787246 5.04653754,13.6308125 5.04653754,16.1626806 C5.04653754,18.8211422 7.35275094,20.8466367 10.0659432,20.8466367 C12.914795,20.8466367 15.0853488,18.6945488 15.0853488,16.1626806 C15.0853488,13.6308125 12.7791354,11.4787246 10.0659432,11.4787246 L10.0659432,11.4787246 Z"
      ></path>
      <ellipse cx="10.2016028" cy="16.5690777" rx="1.35659611" ry="1.34075134"></ellipse>
    </g>
  </g>
</svg>
`,m8=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return f8}};customElements.define("ia-icon-audio",m8)});var lv,cv=Kt(()=>{vr();_i();Fr();lv=class extends mi{render(){return Ke`
      <div class="icon-label-container">
        <slot name="icon"></slot>
        <slot></slot>
      </div>
    `}};lv.styles=pt`
    :host {
      display: block;
      width: 100%;
      height: 100%;
      position: relative;
    }

    :host(.invert-icon-at-hover:hover) slot[name='icon'] {
      filter: invert(1);
    }

    :host(.selected) {
      background-color: var(--selectedBgColor, #fff);
      color: var(--selectedTextColor, #2c2c2c);
    }

    :host(.invert-icon-at-selected.selected) slot[name='icon'] {
      filter: invert(1);
    }

    div.icon-label-container {
      display: flex;
      width: 100%;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
    }

    slot[name='icon'] {
      width: var(--iconWidth, 20px);
      margin-right: var(--iconLabelGutterWidth, 10px);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
    }
  `;lv=le([ur("ia-icon-label")],lv)});function q_(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return D_!==void 0?D_.createHTML(t):t}function Tc(e,t,r=e,a){var l,o,c,n;if(t===Ec)return t;let u=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,p=Qu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,a)),a!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[a]=u:r._$Cl=u),u!==void 0&&(t=Tc(e,u._$AS(e,t.values),u,a)),t}var uv,Bh,Cc,D_,pv,xs,z_,g8,xl,Hh,Qu,U_,v8,dv,Ju,j_,N_,bl,B_,H_,V_,W_,XG,ZG,Ec,to,F_,wl,y8,fv,b8,Y_,Fh,w8,x8,_8,k8,A8,hv,X_,S8,zh,Z_=Kt(()=>{tc();Bh=window,Cc=Bh.trustedTypes,D_=Cc?Cc.createPolicy("lit-html",{createHTML:e=>e}):void 0,pv="$lit$",xs=`lit$${(Math.random()+"").slice(9)}$`,z_="?"+xs,g8=`<${z_}>`,xl=document,Hh=()=>xl.createComment(""),Qu=e=>e===null||typeof e!="object"&&typeof e!="function",U_=Array.isArray,v8=e=>U_(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",dv=`[ 	
\f\r]`,Ju=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,j_=/-->/g,N_=/>/g,bl=RegExp(`>|${dv}(?:([^\\s"'>=/]+)(${dv}*=${dv}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),B_=/'/g,H_=/"/g,V_=/^(?:script|style|textarea|title)$/i,W_=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),XG=W_(1),ZG=W_(2),Ec=Symbol.for("lit-noChange"),to=Symbol.for("lit-nothing"),F_=new WeakMap,wl=xl.createTreeWalker(xl,129,null,!1);y8=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",c=Ju;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Ju?g[1]==="!--"?c=j_:g[1]!==void 0?c=N_:g[2]!==void 0?(V_.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=bl):g[3]!==void 0&&(c=bl):c===bl?g[0]===">"?(c=l!=null?l:Ju,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?bl:g[3]==='"'?H_:B_):c===H_||c===B_?c=bl:c===j_||c===N_?c=Ju:(c=bl,l=void 0);let x=c===bl&&e[n+1].startsWith("/>")?" ":"";o+=c===Ju?u+g8:m>=0?(a.push(p),u.slice(0,m)+pv+u.slice(m)+xs+x):u+xs+(m===-2?(a.push(void 0),n):x)}return[q_(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},fv=class G_{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=y8(t,r);if(this.el=G_.createElement(p,a),wl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=wl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(pv)||y.startsWith(xs)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+pv).split(xs),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?w8:k[1]==="?"?_8:k[1]==="@"?k8:Fh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(V_.test(l.tagName)){let m=l.textContent.split(xs),y=m.length-1;if(y>0){l.textContent=Cc?Cc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Hh()),wl.nextNode(),u.push({type:2,index:++o});l.append(m[y],Hh())}}}else if(l.nodeType===8)if(l.data===z_)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(xs,m+1))!==-1;)u.push({type:7,index:o}),m+=xs.length-1}o++}}static createElement(t,r){let a=xl.createElement("template");return a.innerHTML=t,a}};b8=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:xl).importNode(r,!0);wl.currentNode=l;let o=wl.nextNode(),c=0,n=0,u=a[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new Y_(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new A8(o,this,e)),this._$AV.push(p),u=a[++n]}c!==(u==null?void 0:u.index)&&(o=wl.nextNode(),c++)}return wl.currentNode=xl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Y_=class K_{constructor(t,r,a,l){var o;this.type=2,this._$AH=to,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Tc(this,t,r),Qu(t)?t===to||t==null||t===""?(this._$AH!==to&&this._$AR(),this._$AH=to):t!==this._$AH&&t!==Ec&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):v8(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==to&&Qu(this._$AH)?this._$AA.nextSibling.data=t:this.$(xl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=fv.createElement(q_(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let c=new b8(o,this),n=c.u(this.options);c.v(a),this.$(n),this._$AH=c}}_$AC(t){let r=F_.get(t.strings);return r===void 0&&F_.set(t.strings,r=new fv(t)),r}T(t){U_(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new K_(this.k(Hh()),this.k(Hh()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Fh=class{constructor(e,t,r,a,l){this.type=1,this._$AH=to,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=to}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=Tc(this,e,t,0),o=!Qu(e)||e!==this._$AH&&e!==Ec,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Tc(this,c[r+n],t,n),u===Ec&&(u=this._$AH[n]),o||(o=!Qu(u)||u!==this._$AH[n]),u===to?e=to:e!==to&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!a&&this.j(e)}j(e){e===to?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},w8=class extends Fh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===to?void 0:e}},x8=Cc?Cc.emptyScript:"",_8=class extends Fh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==to?this.element.setAttribute(this.name,x8):this.element.removeAttribute(this.name)}},k8=class extends Fh{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Tc(this,e,t,0))!==null&&r!==void 0?r:to)===Ec)return;let a=this._$AH,l=e===to&&a!==to||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==to&&(a===to||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},A8=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Tc(this,e)}},hv=Bh.litHtmlPolyfillSupport;hv==null||hv(fv,Y_),((uv=Bh.litHtmlVersions)!==null&&uv!==void 0?uv:Bh.litHtmlVersions=[]).push("2.8.0");X_="important",S8=" !"+X_,zh=wa(class extends xa{constructor(e){var t;if(super(e),e.type!==ls.ATTRIBUTE||e.name!=="style"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,r)=>{let a=e[r];return a==null?t:t+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${a};`},"")}update(e,[t]){let{style:r}=e.element;if(this.ht===void 0){this.ht=new Set;for(let a in t)this.ht.add(a);return this.render(t)}this.ht.forEach(a=>{t[a]==null&&(this.ht.delete(a),a.includes("-")?r.removeProperty(a):r[a]="")});for(let a in t){let l=t[a];if(l!=null){this.ht.add(a);let o=typeof l=="string"&&l.endsWith(S8);a.includes("-")||o?r.setProperty(a,o?l.slice(0,-11):l,o?X_:""):r[a]=l}}return Ec}});});var mv=Kt(()=>{Z_()});function lk(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return J_!==void 0?J_.createHTML(t):t}function Lc(e,t,r=e,a){var l,o,c,n;if(t===$c)return t;let u=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,p=td(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,a)),a!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[a]=u:r._$Cl=u),u!==void 0&&(t=Lc(e,u._$AS(e,t.values),u,a)),t}var gv,Uh,Pc,J_,bv,_s,nk,C8,Al,Vh,td,ok,E8,vv,ed,Q_,ek,_l,tk,ik,ak,sk,cY,uY,$c,io,rk,kl,T8,wv,P8,uk,Wh,$8,L8,O8,M8,I8,yv,Sl,hk=Kt(()=>{tc();Uh=window,Pc=Uh.trustedTypes,J_=Pc?Pc.createPolicy("lit-html",{createHTML:e=>e}):void 0,bv="$lit$",_s=`lit$${(Math.random()+"").slice(9)}$`,nk="?"+_s,C8=`<${nk}>`,Al=document,Vh=()=>Al.createComment(""),td=e=>e===null||typeof e!="object"&&typeof e!="function",ok=Array.isArray,E8=e=>ok(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",vv=`[ 	
\f\r]`,ed=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Q_=/-->/g,ek=/>/g,_l=RegExp(`>|${vv}(?:([^\\s"'>=/]+)(${vv}*=${vv}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),tk=/'/g,ik=/"/g,ak=/^(?:script|style|textarea|title)$/i,sk=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),cY=sk(1),uY=sk(2),$c=Symbol.for("lit-noChange"),io=Symbol.for("lit-nothing"),rk=new WeakMap,kl=Al.createTreeWalker(Al,129,null,!1);T8=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",c=ed;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===ed?g[1]==="!--"?c=Q_:g[1]!==void 0?c=ek:g[2]!==void 0?(ak.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=_l):g[3]!==void 0&&(c=_l):c===_l?g[0]===">"?(c=l!=null?l:ed,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?_l:g[3]==='"'?ik:tk):c===ik||c===tk?c=_l:c===Q_||c===ek?c=ed:(c=_l,l=void 0);let x=c===_l&&e[n+1].startsWith("/>")?" ":"";o+=c===ed?u+C8:m>=0?(a.push(p),u.slice(0,m)+bv+u.slice(m)+_s+x):u+_s+(m===-2?(a.push(void 0),n):x)}return[lk(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},wv=class ck{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=T8(t,r);if(this.el=ck.createElement(p,a),kl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=kl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(bv)||y.startsWith(_s)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+bv).split(_s),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?$8:k[1]==="?"?O8:k[1]==="@"?M8:Wh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(ak.test(l.tagName)){let m=l.textContent.split(_s),y=m.length-1;if(y>0){l.textContent=Pc?Pc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Vh()),kl.nextNode(),u.push({type:2,index:++o});l.append(m[y],Vh())}}}else if(l.nodeType===8)if(l.data===nk)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(_s,m+1))!==-1;)u.push({type:7,index:o}),m+=_s.length-1}o++}}static createElement(t,r){let a=Al.createElement("template");return a.innerHTML=t,a}};P8=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Al).importNode(r,!0);kl.currentNode=l;let o=kl.nextNode(),c=0,n=0,u=a[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new uk(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new I8(o,this,e)),this._$AV.push(p),u=a[++n]}c!==(u==null?void 0:u.index)&&(o=kl.nextNode(),c++)}return kl.currentNode=Al,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},uk=class dk{constructor(t,r,a,l){var o;this.type=2,this._$AH=io,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Lc(this,t,r),td(t)?t===io||t==null||t===""?(this._$AH!==io&&this._$AR(),this._$AH=io):t!==this._$AH&&t!==$c&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):E8(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==io&&td(this._$AH)?this._$AA.nextSibling.data=t:this.$(Al.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=wv.createElement(lk(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let c=new P8(o,this),n=c.u(this.options);c.v(a),this.$(n),this._$AH=c}}_$AC(t){let r=rk.get(t.strings);return r===void 0&&rk.set(t.strings,r=new wv(t)),r}T(t){ok(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new dk(this.k(Vh()),this.k(Vh()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Wh=class{constructor(e,t,r,a,l){this.type=1,this._$AH=io,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=io}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=Lc(this,e,t,0),o=!td(e)||e!==this._$AH&&e!==$c,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Lc(this,c[r+n],t,n),u===$c&&(u=this._$AH[n]),o||(o=!td(u)||u!==this._$AH[n]),u===io?e=io:e!==io&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!a&&this.j(e)}j(e){e===io?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},$8=class extends Wh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===io?void 0:e}},L8=Pc?Pc.emptyScript:"",O8=class extends Wh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==io?this.element.setAttribute(this.name,L8):this.element.removeAttribute(this.name)}},M8=class extends Wh{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Lc(this,e,t,0))!==null&&r!==void 0?r:io)===$c)return;let a=this._$AH,l=e===io&&a!==io||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==io&&(a===io||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},I8=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Lc(this,e)}},yv=Uh.litHtmlPolyfillSupport;yv==null||yv(wv,uk),((gv=Uh.litHtmlVersions)!==null&&gv!==void 0?gv:Uh.litHtmlVersions=[]).push("2.8.0");Sl=wa(class extends xa{constructor(e){var t;if(super(e),e.type!==ls.ATTRIBUTE||e.name!=="class"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,a;if(this.it===void 0){this.it=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(let o in t)t[o]&&!(!((r=this.nt)===null||r===void 0)&&r.has(o))&&this.it.add(o);return this.render(t)}let l=e.element.classList;this.it.forEach(o=>{o in t||(l.remove(o),this.it.delete(o))});for(let o in t){let c=!!t[o];c===this.it.has(o)||!((a=this.nt)===null||a===void 0)&&a.has(o)||(c?(l.add(o),this.it.add(o)):(l.remove(o),this.it.delete(o)))}return $c}});});var id=Kt(()=>{hk()});function K8(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}}function X8(e){var t;let r=e.brOptions,a=Dr(Dr({},K8()),r),l=new window.BookReader(a),o=window.BookReader.prototype.getPageURI;l.getPageURI=(n,u=1,p=0)=>{let g=Math.pow(2,Math.floor(Math.log2(Math.max(1,u)))),m=o.call(l,n,g,p);return m+=m.indexOf("?")>-1?"&":"?",m=`${m}scale=${g}&rotate=${p}`,m},window.br=l;let c=(t=e==null?void 0:e.data)===null||t===void 0?void 0:t.isRestricted;return window.dispatchEvent(new CustomEvent("contextmenu",{detail:{isRestricted:c}})),l}var R8,zr,Co,Ea,Yh,pk,fk,mk,gk,D8,j8,N8,B8,H8,F8,z8,U8,V8,W8,q8,G8,Y8,qh,Bo,rd,Z8,co,Oc,Gh,Ya,vk=Kt(()=>{vr();_i();Fr();ov();av();_i();_i();cv();mv();id();vr();_i();Fr();Jg();vr();_i();Fr();sv();_i();vr();_i();Fr();vr();_i();Fr();vr();_i();Fr();ml();ml();R8=pt`
  section#radio {
    display: flex;
    flex-direction: row;
    align-items: center;
  }

  #radio #selector-title {
    margin-right: 5px;
  }

  #radio ul {
    display: inline-block;
  }

  #radio ul {
    border-radius: 50px;
    display: inline-flex;
    align-content: flex-start;
    flex-wrap: nowrap;
    justify-content: center;
    align-items: center;
  }

  #radio li {
    border: 1px solid #fff;
  }

  #radio li:first-child {
    border-top-left-radius: 50px;
    border-bottom-left-radius: 50px;
    padding-left: 5px;
  }
  #radio li:first-child ia-icon-label {
    margin-left: 5px;
  }

  #radio li:last-child {
    border-top-right-radius: 50px;
    border-bottom-right-radius: 50px;
    padding-right: 10px;
    padding-left: 5px;
  }

  #radio li:last-child ia-icon-label {
    margin-right: 5px;
  }

  #radio li:not(:last-child) {
    border-right: none;
    padding-right: 5px;
    padding-left: 5px;
  }

  /* Demarcate when hovering next to selected channel */
  #radio li > ia-icon-label {
    height: 30px;
    padding: 5px;
    box-sizing: border-box;
  }
  /* End demarcation */
`;(function(e){e.ia="ia",e.beta="beta",e.youtube="youtube",e.spotify="spotify",e.webamp="webamp"})(zr||(zr={}));(function(e){e.iaSamples="Samples",e.iaPlayer="Player",e.beta="Beta",e.spotify="Spotify",e.webamp="Webamp",e.youtube="YouTube"})(Co||(Co={}));Ea={ia:Ke`<img
    class="ia"
    src="https://archive.org/images/music-theater/internet-archive.svg"
    alt="Internet Archive logo"
    style="height: 20px; width: 20px;"
  />`,beta:Ke`<img
    class="ia-beta"
    src="https://archive.org/images/music-theater/streaming.svg"
    alt="Internet Archive beta player logo"
    style="height: 20px; width: 20px;"
  />`,spotify:Ke`<img
    class="spotify"
    src="https://archive.org/images/music-theater/spotify.svg"
    alt="Spotify logo"
    style="display: block;"
  />`,webamp:Ke`<img
    class="webamp"
    src="https://archive.org/images/music-theater/webamp.svg"
    alt="webamp logo"
    style="height: 20px;"
  />`,youtube:Ke`<img
    class="youtube"
    src="https://archive.org/images/music-theater/youtube.svg"
    alt="youtube logo"
    style="height: 20px; width: 20px; display: block;"
  />`},Yh=({label:e=Co.iaPlayer,selected:t})=>{let r=zh({filter:t?"invert(1)":"invert(0)",height:"20px",width:"20px"}),a=Sl({selected:t,"invert-icon-at-hover-selected":t});return Ke`
    <ia-icon-label class=${a}>
      <span slot="icon" style=${r}>${Ea.ia}</span>
      <span>${e}</span>
    </ia-icon-label>
  `},pk=e=>{let t=zh({filter:e?"invert(1)":"invert(0)",height:"20px",width:"20px"}),r=Sl({selected:e,"invert-icon-at-hover-selected":e});return Ke`
    <ia-icon-label class=${r}>
      <span slot="icon" style=${t}>${Ea.beta}</span>
      <span>${Co.beta}</span>
    </ia-icon-label>
  `},fk=e=>Ke`
  <ia-icon-label class="${e?"selected":""}">
    <span slot="icon">${Ea.spotify}</span>
    <span>${Co.spotify}</span>
  </ia-icon-label>
`,mk=e=>{let t=zh({filter:e?"invert(1)":"invert(0)",height:"20px",width:"20px"}),r=Sl({selected:e,"invert-icon-at-hover-selected":e});return Ke`
    <ia-icon-label class=${r}>
      <span slot="icon" style=${t}>${Ea.webamp}</span>
      <span>Webamp</span>
    </ia-icon-label>
  `},gk=e=>Ke`
  <ia-icon-label class="${e?"selected":""}">
    <span slot="icon">${Ea.youtube}</span>
    <span>${Co.youtube}</span>
  </ia-icon-label>
`,D8=({samples:e,onClick:t,href:r,selected:a})=>{let l=e?Co.iaSamples:Co.iaPlayer;return Ke`
    <a href=${r} @click=${()=>t()}>${Yh({label:l,selected:a})}</button>
  `},j8=({samples:e,onClick:t,selected:r})=>{let a=e?Co.iaSamples:Co.iaPlayer;return Ke`
    <button @click=${l=>t(l)} class="ia">
      ${Yh({label:a,selected:r})}
    </button>
  `},N8=({onClick:e,selected:t})=>Ke`<button
  @click=${r=>e(r)}
  class="ia-beta"
>
  ${pk(t)}
</button>`,B8=({onClick:e,selected:t})=>Ke`<button
  @click=${r=>e(r)}
  class="sp"
>
  ${fk(t)}
</button>`,H8=({onClick:e,href:t,selected:r})=>{let a=`${t}?webamp=default`;return Ke`
    <a href=${a} @click=${l=>e(l)} class="wa">${mk(r)}</button>
  `},F8=({onClick:e,selected:t})=>Ke`<button
  @click=${r=>e(r)}
  class="yt"
>
  ${gk(t)}
</button>`,z8=({samples:e,onClick:t,href:r,selectedOption:a})=>({url:r,selectedHandler:l=>{t(l)},label:Yh({label:e?Co.iaSamples:Co.iaPlayer,selected:a===zr.ia}),id:zr.ia}),U8=({samples:e,onClick:t,selectedOption:r})=>({selectedHandler:a=>{t(a)},label:Yh({label:e?Co.iaSamples:Co.iaPlayer,selected:r===zr.ia}),id:zr.ia}),V8=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:pk(t===zr.beta),id:zr.beta}),W8=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:fk(t===zr.spotify),id:zr.spotify}),q8=({href:e,onClick:t,selectedOption:r})=>{let a=l=>{t(l)};return{url:`${e}?webamp=default`,selectedHandler:a,label:mk(r===zr.webamp),id:zr.webamp}},G8=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:gk(t===zr.youtube),id:zr.youtube}),Y8=e=>{let{spotify:t,beta:r,youtube:a,selectedOption:l}=e;return[l===zr.webamp?z8(e):U8(e),r?V8(e):null,t?W8(e):null,a?G8(e):null,q8(e)].filter(Boolean)};(function(e){e.postInit="postInit",e.channelChange="channelChange"})(qh||(qh={}));Bo=class extends mi{constructor(){super(...arguments),this.youtube=!1,this.spotify=!1,this.beta=!1,this.webamp=!0,this.samples=!1,this.backgroundTheme="dark",this.selected=zr.ia,this.displayStyle="radio",this.url=""}firstUpdated(){this.dispatchEvent(new CustomEvent(qh.postInit,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}emitChannelChanged(){this.dispatchEvent(new CustomEvent(qh.channelChange,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}iaClicked(){this.selected!==zr.ia&&(this.selected=zr.ia,this.emitChannelChanged())}betaClicked(){this.selected!==zr.beta&&(this.selected=zr.beta,this.emitChannelChanged())}spotifyClicked(){this.selected!==zr.spotify&&(this.selected=zr.spotify,this.emitChannelChanged())}webampClicked(){this.selected!==zr.webamp&&(this.selected=zr.webamp,this.emitChannelChanged())}youtubeClicked(){this.selected!==zr.youtube&&(this.selected=zr.youtube,this.emitChannelChanged())}dropdownOptionSelected(e){this.selected=e.id,this.emitChannelChanged(),this.iaDropdown.open=!1}get iaLinkSelector(){let e=this.selected===zr.ia?"selected":"";return Ke`
      <li class=${e}>
        ${D8({samples:this.samples,selected:this.selected===zr.ia,onClick:()=>this.iaClicked(),href:this.url})}
      </li>
    `}get iaButtonSelector(){let e=this.selected===zr.ia?"selected":"";return Ke`
      <li class=${e}>
        ${j8({samples:this.samples,selected:this.selected===zr.ia,onClick:()=>this.iaClicked()})}
      </li>
    `}get iaBetaSelector(){let e=this.selected===zr.beta?"selected":"";return Ke`
      <li class=${e}>
        ${N8({selected:this.selected===zr.beta,onClick:()=>this.betaClicked()})}
      </li>
    `}get spotifySelector(){let e=this.selected===zr.spotify?"selected":"";return Ke`
      <li class=${e}>
        ${B8({selected:this.selected===zr.spotify,onClick:()=>this.spotifyClicked()})}
      </li>
    `}get webampSelector(){let e=this.selected===zr.webamp?"selected":"";return Ke`
      <li class=${e}>
        ${H8({href:this.url||window.location.href,selected:this.selected===zr.webamp,onClick:()=>this.webampClicked()})}
      </li>
    `}get youtubeSelector(){let e=this.selected===zr.youtube?"selected":"";return Ke`
      <li class=${e}>
        ${F8({selected:this.selected===zr.youtube,onClick:()=>this.youtubeClicked()})}
      </li>
    `}get properIaSelector(){return this.selected===zr.webamp?this.iaLinkSelector:this.iaButtonSelector}toggleDisplayStyle(){let e=this.displayStyle==="dropdown"?"radio":"dropdown";this.displayStyle=e}shouldShowChannelType(e){let t=this.selected===e;return this.displayStyle==="radio"?!0:!(this.displayStyle==="dropdown"&&t)}get dropdownOptions(){let{samples:e,beta:t,spotify:r,webamp:a,youtube:l,url:o,selected:c}=this;return Y8({selectedOption:c,samples:!!e,beta:t,spotify:r,webamp:a,youtube:l,href:o,onClick:this.dropdownOptionSelected.bind(this)})}get currentlySelectedIcon(){switch(this.selected){case zr.beta:return Ea.beta;case zr.spotify:return Ea.spotify;case zr.youtube:return Ea.youtube;case zr.webamp:return Ea.webamp;default:return Ea.ia}}get dropdown(){return Ke`
      <ia-dropdown
        displayCaret
        .options=${this.dropdownOptions}
        .selectedOption=${this.selected}
        class=${this.backgroundTheme}
      >
        <span slot="dropdown-label">${this.currentlySelectedIcon}</span>
      </ia-dropdown>
    `}get radioView(){return Ke`
      <div id="selector-title"><h4>Play from:</h4></div>
      <div>
        <ul>
          ${this.properIaSelector} ${this.beta?this.iaBetaSelector:Ei}
          ${this.youtube?this.youtubeSelector:Ei}
          ${this.spotify?this.spotifySelector:Ei}
          ${this.webamp?this.webampSelector:Ei}
        </ul>
      </div>
    `}render(){return Ke`
      <section
        id=${this.displayStyle}
        class="${this.displayStyle} ${this.backgroundTheme}"
      >
        ${I_(this.displayStyle==="radio"?this.radioView:this.dropdown)}
      </section>
    `}};Bo.styles=[pt`
      :host {
        display: block;
      }

      :host(:focus) {
        outline: none;
      }

      section.radio ul,
      section.radio h4 {
        color: #fff;
      }

      section.radio.light h4 {
        color: #222;
      }

      ia-dropdown.light {
        --channel-selector-dropdown-text-color: #222;
        color: var(--channel-selector-dropdown-text-color, #222);
        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #222);
      }

      ia-dropdown {
        --dropdownBgColor: #333;
        --dropdownHoverBgColor: #474747;
        color: var(--channel-selector-dropdown-text-color, #fff);
        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #fff);
      }

      ia-dropdown.light img.ia,
      ia-dropdown.light img.ia-beta,
      ia-dropdown.light img.webamp {
        filter: invert(1);
      }

      h4 {
        margin: 0;
      }

      a:link,
      a:visited,
      a:active,
      a {
        color: inherit;
        text-decoration: none;
      }

      button {
        color: inherit;
        background: none;
        border: none;
        padding: 0;
        font: inherit;
        cursor: pointer;
        outline: inherit;
        margin: 0;
      }

      li > *,
      #dropdown .selected-option {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-content: center;
        justify-content: center;
        align-items: center;
        width: 100%;
      }

      li:hover {
        background-color: var(--channel-selector-hover-bg-color, #474747);
      }

      li.selected {
        background-color: #fff;
        color: #2c2c2c;
      }

      ul,
      li {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }

      li {
        display: flex;
        height: 30px;
        background-color: #333;
      }

      #dropdown .close,
      .sr-only {
        width: 1px;
        height: 1px;
        padding: 0px;
        margin: -1px;
        overflow: hidden;
        clip: rect(0px, 0px, 0px, 0px);
        border: 0px;
        display: block;
      }

      #radio .selected-option {
        display: none;
      }

      li a.ia {
        display: flex;
      }

      *[slot='dropdown-label'] img {
        height: 30px !important;
        width: 30px !important;
        display: block;
      }
    `,R8];le([Qt({attribute:!0,type:Boolean,reflect:!0})],Bo.prototype,"youtube",void 0);le([Qt({attribute:!0,type:Boolean,reflect:!0})],Bo.prototype,"spotify",void 0);le([Qt({attribute:!0,type:Boolean,reflect:!0})],Bo.prototype,"beta",void 0);le([Qt({attribute:!0,type:Boolean,reflect:!0})],Bo.prototype,"webamp",void 0);le([Qt({attribute:!0,type:Boolean,reflect:!0})],Bo.prototype,"samples",void 0);le([Qt({attribute:!0,type:String,reflect:!0})],Bo.prototype,"backgroundTheme",void 0);le([Qt({type:String,reflect:!0})],Bo.prototype,"selected",void 0);le([Qt({type:String,reflect:!0})],Bo.prototype,"displayStyle",void 0);le([Qt({type:String})],Bo.prototype,"url",void 0);le([sn("ia-dropdown")],Bo.prototype,"iaDropdown",void 0);Bo=le([ur("channel-selector")],Bo);rd=class extends mi{constructor(){super(...arguments),this.iaIdentifier="",this.gradType=""}updated(e){e.has("iaIdentifier")&&this.setGradType()}hashStrToInt(e){return e.split("").reduce((t,r)=>t+r.charCodeAt(0),0)}setGradType(){let e=0;this.iaIdentifier?(e=this.hashStrToInt(this.iaIdentifier)%6,this.gradType=`grad${e}`):this.gradType="grad0",this.dispatchEvent(new CustomEvent("iaMusicNoImageAvailable",{detail:{gradient:e,gradType:this.gradType,identifier:this.iaIdentifier},bubbles:!0,composed:!0}))}render(){return Ke`
      <div class="no-image">
        <ia-icon-audio class=${this.gradType}></ia-icon-audio>
      </div>
    `}};rd.styles=pt`
    ia-icon-audio {
      margin: auto;
      display: block;
      height: var(--imageHeight, 100%);
      width: var(--imageWidth, 100%);
      opacity: 0.8;
    }
    :host {
      height: 100%;
      width: 100%;
    }

    ia-icon-audio {
      border: 1px solid #fff8;
    }

    ia-icon-audio.grad0 {
      background: linear-gradient(
        hsl(300, 80%, 55%),
        hsl(330, 80%, 33%) 35%,
        hsl(330, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad1 {
      background: linear-gradient(
        hsl(200, 80%, 55%),
        hsl(230, 80%, 33%) 35%,
        hsl(230, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad2 {
      background: linear-gradient(
        hsl(160, 80%, 55%),
        hsl(190, 80%, 33%) 35%,
        hsl(190, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad3 {
      background: linear-gradient(
        hsl(250, 80%, 55%),
        hsl(280, 80%, 33%) 35%,
        hsl(280, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad4 {
      background: linear-gradient(
        hsl(280, 80%, 55%),
        hsl(310, 80%, 33%) 35%,
        hsl(310, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad5 {
      background: linear-gradient(
        hsl(340, 80%, 55%),
        hsl(0, 80%, 33%) 35%,
        hsl(0, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }
  `;le([Qt({type:String,reflect:!0,attribute:!0})],rd.prototype,"iaIdentifier",void 0);le([Qt({type:String,reflect:!0})],rd.prototype,"gradType",void 0);rd=le([ur("iamusic-noimage")],rd);Z8=Ke`
  <svg
    id="more-inside-icon"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 100 100"
  >
    <path
      d="m96.8125698 30.0518396-12.4391845 11.1531924c-6.4532715-6.3905169-12.9677985-11.5730208-19.5435809-15.5475116s-12.5677954-6.5813314-17.976039-7.8205218c-5.4082436-1.2391903-10.6069142-1.851437-15.5960116-1.8369986-4.9890974.0149552-9.3415934.6580779-13.0574879 1.9296264-3.7158945 1.2715486-6.9635733 2.5779337-9.74303641 3.9191553-2.77946307 1.3412217-4.90933068 2.5788117-6.38960283 3.7127699l-2.06762666 1.7089107c7.29513996.9354669 14.2472986 2.8747038 20.856476 5.8177108 6.6091773 2.9430069 12.0620941 6.1781707 16.3587501 9.7054913 4.2966561 3.5273205 8.0790367 6.9908189 11.3471418 10.3904951 3.2681052 3.3996761 5.6276868 6.2214567 7.0787448 8.4653416l2.1765871 3.3658274-13.0786842 11.7265792 55.2609844 8.2580923z"
      fill-rule="evenodd"
      class="fill-color"
    />
  </svg>
`,co=class extends mi{constructor(){super(...arguments),this.showAllPhotos=!1,this.baseHost="archive.org",this.signedIn=!1,this.itemIdentifier="",this.fullscreenActive=!1,this.reInitBrAtFullscreen=!1,this.noImageAvailable=!1,this.backgroundTheme="dark",this.bindBrEvents=()=>{window.addEventListener("BookReader:PostInit",this.handleBrPostInit),window.addEventListener("BookReader:fullscreenToggled",()=>{var e;this.fullscreenActive=((e=this.bookreader)===null||e===void 0?void 0:e.isFullscreen())||!1;let t=this.fullscreenActive?"fullscreenOpened":"fullscreenClosed";this.dispatchEvent(new Event(t))})}}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("BookReader:PostInit",this.handleBrPostInit)}firstUpdated(){this.bindBrEvents()}updated(e){e.has("linerNotesManifest")&&this.linerNotesManifest&&this.loadFreshBookReaderFromManifest(),e.has("showAllPhotos")&&this.showAllPhotos&&this.initBr(500)}render(){if(this.noImageAvailable)return Ke`
        <div class="no-images">
          <iamusic-noimage .iaIdentifier=${this.itemIdentifier}
            >no image available</iamusic-noimage
          >
        </div>
      `;let e=this.backgroundTheme==="light"?"light":"",t=this.showAllPhotos?"show-back":"",r=this.fullscreenActive?"fullscreenActive":"";return Ke`
      <div
        class=${`flip-card ${t} ${r} ${e}`}
      >
        <div class="flip-card-inner">
          <div class="flip-card-front">${this.photoAlbumCover}</div>
          <div class="flip-card-back">${this.linerNotesView}</div>
        </div>
      </div>
    `}togglePhotoViewer(){this.showAllPhotos=!this.showAllPhotos,this.showAllPhotos||(this.fullscreenActive=!1,this.dispatchEvent(new Event("fullscreenClosed")))}get imageBaseUrl(){return`https://${this.baseHost}/download/${this.itemIdentifier}`}get primaryImage(){var e;if(this.linerNotesManifest){let t=(e=this.linerNotesManifest.brOptions.data)===null||e===void 0?void 0:e.flat()[0];return(t==null?void 0:t.uri)||void 0}}get linerNotesView(){return Ke`
      <div class=${"photo-viewer-container"}>
        <button
          id="close-photo-viewer"
          @click=${()=>{var e;(e=this.bookreader)===null||e===void 0||e.exitFullScreen(),this.togglePhotoViewer()}}
        >
          <span class="sr-only">Click to close Photo Viewer.</span>
          <ia-icon-close-circle></ia-icon-close-circle>
        </button>
        <ia-bookreader
          .item=${this.linerNotesManifest}
          .baseHost=${this.baseHost}
          .signedIn=${this.signedIn}
          ><div slot="main"><slot name="main"></slot></div
        ></ia-bookreader>
      </div>
    `}get photoAlbumCover(){var e,t;let r=(t=(e=this.itemMD)===null||e===void 0?void 0:e.title)!==null&&t!==void 0?t:this.itemIdentifier,a=this.primaryImage?this.primaryImage:`//${this.baseHost}/services/img/${this.itemIdentifier}`;return Ke`
      <div class="cover-art">
        <button
          class="click-for-photos"
          @click=${()=>yi(this,null,function*(){this.togglePhotoViewer()})}
        >
          <img
            src=${a}
            alt=${`primary image for ${r}`}
            @load=${l=>{let o=l.target,{width:c,height:n}=o.getBoundingClientRect();this.dispatchEvent(new CustomEvent("coverImageLoaded",{detail:{width:c,height:n,target:o}}))}}
          />
          <span class="sr-only">See all photos for ${r}</span>
          <div id="see-more-cta">
            <p><span>See more</span> <span>${Z8}</span></p>
          </div>
        </button>
      </div>
    `}handleBrPostInit(e){this.bookreader=e==null?void 0:e.detail.props,window.br=this.bookreader,setTimeout(()=>{var t,r;(t=this.bookreader)===null||t===void 0||t.jumpToIndex(0),(r=this.bookreader)===null||r===void 0||r.resize()},1e3)}prepareLightDomHook(){var e,t;let r=(e=this.lightDomHook)===null||e===void 0?void 0:e.querySelector("div.bookreader-slot");r&&((t=this.lightDomHook)===null||t===void 0||t.removeChild(r))}loadFreshBookReaderFromManifest(){return yi(this,null,function*(){yield this.mountBookReaderLightDomHook(),yield this.initBr()})}initBr(e=0){return yi(this,null,function*(){console.log("&&&& INIT BR"),yield new Promise(t=>{setTimeout(()=>{var r,a;this.bookreader=this.linerNotesManifest&&X8(this.linerNotesManifest),console.log("&&&& BR OPTIONS",(r=this.bookreader)===null||r===void 0?void 0:r.options),(a=this.bookreader)===null||a===void 0||a.init(),t()},e)})})}mountBookReaderLightDomHook(){return yi(this,null,function*(){yield new Promise(e=>{var t,r,a;let l=(t=this.lightDomHook)===null||t===void 0?void 0:t.querySelector("div.bookreader-slot");l&&((r=this.lightDomHook)===null||r===void 0||r.removeChild(l));let o=document.createElement("div");o.setAttribute("slot","main"),o.classList.add("bookreader-slot");let c=document.createElement("div");c.classList.add("liner-notes"),o.append(c),(a=this.lightDomHook)===null||a===void 0||a.append(o),c.setAttribute("id","BookReader"),c.classList.add("BookReader"),e(!0)})})}};co.styles=pt`
    :host {
      display: block;
    }

    :host[fullscreenactive],
    .flip-card.fullscreenActive {
      position: absolute;
      inset: 0;
      height: var(--linerNotesFullscreenHeight, 100vh);
    }

    div.no-images {
      display: flex;
      height: inherit;
    }
    div.no-images * {
      --iconFillColor: white;
      --iconHeight: 250px;
      --iconWidth: 250px;
      margin: auto;
    }

    ia-icon-texts {
      height: 50px;
      width: 50px;
      --iconFillColor: white;
      display: block;
    }

    button {
      cursor: pointer;
      border: 1px solid transparent;
      background-color: transparent;
    }

    .cover-art,
    button.click-for-photos {
      height: inherit;
      position: relative;
      padding: 0;
    }

    button.click-for-photos {
      display: flex;
      margin: auto;
      min-height: 30%;
      min-width: 25%;
    }

    button.click-for-photos img {
      display: block;
      overflow: hidden;
      object-fit: contain;
      object-position: top;
      max-width: 100%;
      margin-top: 18px;
      max-height: calc(var(--linerNotesInTheaterHeight, 100%) - 30px);
    }

    button.click-for-photos ia-icon-texts,
    button#close-photo-viewer {
      position: absolute;
      top: 0;
      right: 0;
    }

    button span.sr-only {
      position: absolute;
      height: 1px;
      width: 1px;
      top: 0;
      left: 0;
      visibility: hidden;
    }

    button#close-photo-viewer {
      border: none;
      z-index: 2;
      padding: 0;
    }

    button#close-photo-viewer ia-icon-close-circle {
      display: block;
      padding: 10px;
      --iconHeight: 20px;
      --iconWidth: 20px;
      --iconFillColor: #fff;
    }

    .flip-card {
      width: 100%;
      height: 100%;
      perspective: 1000px;
    }

    .flip-card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .flip-card.show-back .flip-card-inner {
      transform: rotateY(180deg);
    }

    .flip-card.show-back .flip-card-front .cover-art {
      transition: height 0.5s;
      height: 100%;
      visibility: hidden;
    }

    .flip-card-front,
    .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: transparent;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }

    .flip-card-back {
      transform: rotateY(180deg);
    }

    .photo-viewer-container {
      height: inherit;
    }

    ia-bookreader {
      display: block;
      background-color: transparent;
    }

    /* see more cta */
    .flip-card #see-more-cta {
      font-family: 'Helvetica Neue Bold', Helvetica, Arial, sans-serif;
      font-weight: bold;
      font-size: 14px;
      align-self: end;
      margin: 0;
      position: absolute;
      top: 0;
      right: 0;
    }
    .flip-card #see-more-cta p {
      display: inline-block;
      margin: 0;
      width: 90px;
    }
    .flip-card #see-more-cta svg {
      position: absolute;
      width: 16px;
      margin-left: 0px;
      top: 0;
      right: 0;
      margin-top: -2px;
    }

    .flip-card #see-more-cta {
      color: white;
    }
    .flip-card #see-more-cta .fill-color {
      fill: white;
    }

    .flip-card.light #see-more-cta {
      color: #222;
    }
    .flip-card.light #see-more-cta .fill-color {
      fill: #222;
    }
  `;le([Qt({type:Boolean,reflect:!0})],co.prototype,"showAllPhotos",void 0);le([Qt({type:String,attribute:!0,reflect:!0})],co.prototype,"baseHost",void 0);le([Qt({type:Boolean,reflect:!0})],co.prototype,"signedIn",void 0);le([Qt({type:String,reflect:!0,attribute:!0})],co.prototype,"itemIdentifier",void 0);le([Qt({type:Object})],co.prototype,"itemMD",void 0);le([Qt({type:Object})],co.prototype,"linerNotesManifest",void 0);le([Qt({type:Object})],co.prototype,"bookreader",void 0);le([Qt({type:Boolean,reflect:!0})],co.prototype,"fullscreenActive",void 0);le([Qt({type:Boolean})],co.prototype,"reInitBrAtFullscreen",void 0);le([Qt({type:Boolean,reflect:!0})],co.prototype,"noImageAvailable",void 0);le([Qt({attribute:!0,type:String,reflect:!0})],co.prototype,"backgroundTheme",void 0);le([Qt({type:Object})],co.prototype,"lightDomHook",void 0);le([sn("button.click-for-photos img")],co.prototype,"coverImage",void 0);co=le([ur("iaux-photo-viewer")],co);Oc=class extends mi{constructor(){super(...arguments),this.iaUrn="",this.display=!1,this.baseHost="https://archive.org"}get youTubeUrl(){if(!this.iaUrn||!this.iaUrn.match(/urn:youtube:/g))return"";let e=this.iaUrn.replace(/urn:youtube:/g,"").replace(/:/g,"/"),t=`origin=${this.baseHost}&widgetid=1&autoplay=1&rel=0`;return`https://www.youtube.com/embed/${e}?${t}`}render(){let e=this.youTubeUrl;return e?Ke`
      <iframe
        id="embed-iframe"
        src="${e}"
        width="100%"
        height="200"
        frameborder="0"
        allowtransparency="true"
        allow="encrypted-media"
        title="YouTube Player"
      ></iframe>
    `:Ei}static get styles(){return[pt`
        :host {
          display: block;
          width: 100%;
          height: 100%;
        }
      `]}};le([Qt({type:String,reflect:!0})],Oc.prototype,"iaUrn",void 0);le([Qt({type:Boolean,reflect:!0})],Oc.prototype,"display",void 0);le([Qt({type:String})],Oc.prototype,"baseHost",void 0);le([sn("iframe")],Oc.prototype,"iframe",void 0);Oc=le([ur("youtube-player")],Oc);Gh=class extends mi{constructor(){super(...arguments),this.iaUrn=""}get spotifyUrl(){return!this.iaUrn||!this.iaUrn.match(/urn:spotify:/g)?"":`https://open.spotify.com/embed/${this.iaUrn.replace(/urn:spotify:/g,"").replace(/:/g,"/")}`}render(){let e=this.spotifyUrl;return e?Ke`
      <iframe
        id="embed-iframe"
        src="${e}"
        width="100%"
        height="80"
        frameborder="0"
        allowtransparency="true"
        allow="encrypted-media"
        title="Spotify Player"
      ></iframe>
    `:Ke`<h3>Invalid Spotify URI: ${this.iaUrn}</h3>`}static get styles(){return[pt`
        :host {
          display: block;
          width: 100%;
          height: 100%;
        }
      `]}};le([Qt({type:String,attribute:!0,reflect:!0})],Gh.prototype,"iaUrn",void 0);le([sn("iframe")],Gh.prototype,"iframe",void 0);Gh=le([ur("spotify-player")],Gh);Ya=class extends mi{constructor(){super(...arguments),this.selectedChannel="",this.playerApi=void 0}updated(e){e.has("album")&&this.album&&this.dispatchAlbumInfo(),e.has("selectedChannel")&&this.selectedChannel&&this.album&&this.updateToSelectedChannel(),e.has("selectedTrack")&&this.selectedTrack&&this.dispatchSelectedTrack()}dispatchSelectedTrack(){console.log("externalchannels-player: SELECTED TRACK",this.selectedTrack),this.dispatchEvent(new CustomEvent("externalChannelsSelectedTrack",{detail:{track:this.selectedTrack}}))}dispatchAlbumInfo(){var e,t;console.log("externalchannels-player: ALBUM INFO",this.album),this.dispatchEvent(new CustomEvent("externalChannelsPlayerLoaded",{detail:{album:this.album,spotifyTracks:((e=this.album)===null||e===void 0?void 0:e.spotifyTracks)||[],youtubeTracks:((t=this.album)===null||t===void 0?void 0:t.youtubeTracks)||[]}}))}onTracklistClickCallback(e){var t,r,a,l,o;this.currentTrackNum=e+1;let c=(t=this.album)===null||t===void 0?void 0:t.tracks.find(n=>n.track===this.currentTrackNum);if(this.selectedChannel===zr.spotify){let n=(r=this.album)===null||r===void 0?void 0:r.spotifyTracks.find(u=>u.track===this.currentTrackNum);c=n!=null?n:(a=this.album)===null||a===void 0?void 0:a.spotifyTracks[0]}else if(this.selectedChannel===zr.youtube){let n=(l=this.album)===null||l===void 0?void 0:l.youtubeTracks.find(u=>u.track===this.currentTrackNum);c=n!=null?n:(o=this.album)===null||o===void 0?void 0:o.youtubeTracks[0]}this.selectedTrack=c,console.log("*** onTracklistClickCallback ** ",{selectedTrack:c,iaTrackNum:e,currentTrackNum:this.currentTrackNum})}updateToSelectedChannel(){var e,t,r,a,l;if(this.selectedChannel==="youtube"){let o=this.album.youtubeTracks||[],c=[];if(console.log("youtubeTracks",o),o.length){let n=o.reduce((u,p)=>{let g=Number.isInteger(p.track)?`${p.track}`:"n/a";if(u.push(g),g!=="n/a"){let m=Number(g)-1;c.push(m)}return u},[]).join(", ");console.log("ytTrackNums",{ytTrackNums:n,iaYtTracklist:c}),(e=this.playerApi)===null||e===void 0||e.headless(c,u=>this.onTracklistClickCallback(u))}}else if(this.selectedChannel==="spotify"){let o=((t=this.album)===null||t===void 0?void 0:t.spotifyTracks)||[],c=[];if(console.log("spotifyTracks",o),o.length){let n=((r=this.album)===null||r===void 0?void 0:r.spotifyTracks.reduce((u,p)=>{let g=Number.isInteger(p.track)?`${p.track}`:"n/a";if(u.push(g),g!=="n/a"){let m=Number(g)-1;c.push(m)}return u},[])).join(", ");console.log("spTrackNums ------",{spTrackNums:n,iaSpTracklist:c}),(a=this.playerApi)===null||a===void 0||a.headless(c,u=>this.onTracklistClickCallback(u))}}else(l=this.playerApi)===null||l===void 0||l.headless()}render(){var e,t;if(!(this.selectedChannel==="youtube"||this.selectedChannel==="spotify"))return Ei;if(this.selectedChannel==="spotify"){let r=(e=this.album)===null||e===void 0?void 0:e.spotifyTracks.find(a=>{var l;return(a==null?void 0:a.track)===((l=this.selectedTrack)===null||l===void 0?void 0:l.track)});if(r)return Ke`
          <spotify-player .iaUrn=${r==null?void 0:r.spotifyId}></spotify-player>
        `}else if(this.selectedChannel==="youtube"){let r=(t=this.album)===null||t===void 0?void 0:t.youtubeTracks.find(a=>{var l;return a.track===((l=this.selectedTrack)===null||l===void 0?void 0:l.track)});if(console.log("~~~~ trackFound YT ID",r==null?void 0:r.youtubeId,r),r)return Ke`
          <youtube-player .iaUrn=${r.youtubeId}></youtube-player>
        `}return Ei}};le([Qt({type:String,attribute:!0,reflect:!0})],Ya.prototype,"selectedChannel",void 0);le([Qt({type:Object})],Ya.prototype,"playerApi",void 0);le([Qt({type:Object})],Ya.prototype,"album",void 0);le([Qt({type:Object})],Ya.prototype,"selectedTrack",void 0);le([$n()],Ya.prototype,"currentTrackNum",void 0);le([sn("spotify-player")],Ya.prototype,"spotifyPlayer",void 0);le([sn("youtube-player")],Ya.prototype,"youtubePlayer",void 0);Ya=le([ur("externalchannels-player")],Ya)});var yk=Kt(()=>{ml();vr();_i();Fr();Jg();ov();av();sv();cv();mv();id();vk()});var bk={};Dn(bk,{IaMusicTheater:()=>Kh});var Kh,wk=Kt(()=>{p_();y_();Zg();qd();yk();xo();Ff();window.SharedResizeObserver||(window.SharedResizeObserver=Ro);Ci("** ia-music-player@1.2.0 **");Kh=class extends mi{static get properties(){return{itemInfo:{type:Object},baseHost:{type:String},identifier:{type:String,reflect:!0},sharedRO:{type:Object},linerNotesFullscreen:{type:Boolean,attribute:!0,reflect:!0},signedIn:{type:Boolean,attribute:!0,reflect:!0},hasFullAudioAccess:{type:Boolean,attribute:!0,reflect:!0},displayStyle:{type:String,attribute:!0,reflect:!0},bgTheme:{type:String,attribute:!0,reflect:!0},selectedChannel:{type:String,attribute:!0,reflect:!0},linerNotesUrl:{type:String,attribute:!0,reflect:!0},linerNotesManifest:{type:Object},looseImageInfo:{type:Array},noImageAvailable:{type:Boolean,attribute:!0,reflect:!0},photoViewerReady:{type:Boolean,attribute:!0,reflect:!0},iaPlaylist:{type:Object},hasYoutubeTracks:{type:Boolean,attribute:!0,reflect:!0},hasSpotifyTracks:{type:Boolean,attribute:!0,reflect:!0},album:{type:Object}}}constructor(){super(),this.baseHost="",this.signedIn=!1,this.hasFullAudioAccess=!0,this.identifier="",this.sharedRO=void 0,this.displayStyle="one-col",this.bgTheme="dark",this.linerNotesUrl="",this.linerNotesManifest=void 0,this.itemInfo=void 0,this.looseImageInfo=[],this.linerNotesFullscreen=!1,this.noImageAvailable=!1,this.photoViewerReady=!1,this.iaPlaylist=void 0,this.hasSpotifyTracks=!1,this.hasYoutubeTracks=!1,this.album=void 0,this.analyticsHandler=new Vs,this.selectedChannel="ia",this.currComponentWidth=0}firstUpdated(){var c;this.classList.remove("preload"),this.setupResizeObserver(),this.analyticsHandler.send_event("ia-music-theater","channel-onload",`${this.selectedChannel}`);let t=document.querySelector(".js-ia-metadata").value;this.itemInfo={metadata:JSON.parse(t),rawString:t};let r=document.querySelector(".js-iaux-loose-images").value,a=((c=JSON.parse(r))==null?void 0:c.image_filenames)||[];Ci("~~~~ parsedImageInfo: ",a,"~~~~");let l=(a==null?void 0:a.includes("_"))&&(a==null?void 0:a.length)===1;this.looseImageInfo=!l&&(a!=null&&a.length)?a:[];let o=document.querySelector(".js-play8-playlist").value;this.iaPlaylist=JSON.parse(o),this.album=new g_(this.itemInfo.metadata,this.iaPlaylist)}updated(t){var r;t.has("linerNotesUrl")&&this.linerNotesUrl&&this.fetchLinerNotes(),this.fullscreenActive||(t.has("displayStyle")&&this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),t.has("displayStyle")&&this.displayStyle!=="one-col"&&this.removeBookReaderMobileViewClasses()),t.has("looseImageInfo")&&((r=this.looseImageInfo)!=null&&r.length)&&!this.linerNotesUrl&&this.createManifestToLoad()}createManifestToLoad(){return yi(this,null,function*(){let t=yield d_({itemIdentifier:this.identifier,images:this.looseImageInfo,baseHost:"archive.org"});Ci("*** manifest ***",t),this.linerNotesManifest=t})}removeBookReaderMobileViewClasses(){let t=this.querySelector("div#BookReader");t==null||t.classList.remove("iaux-music-theater-mobile-view")}setBookReaderClassesForMobileView(){let t=this.querySelector("div#BookReader");t==null||t.classList.add("iaux-music-theater-mobile-view")}fetchLinerNotes(){return yi(this,null,function*(){let t;try{t=yield $.ajax({url:`/embed/${this.identifier}?output=json`,type:"GET",dataType:"json",crossDomain:!0}).then(a=>a).catch(()=>[])}catch(a){t=[]}this.jwplayerPlaylist=t,Ci("*** jwplayerPlaylist ***",t);let r;try{r=yield $.ajax({url:this.linerNotesUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(a=>a).catch(()=>null)}catch(a){r=void 0}this.linerNotesManifest=r==null?void 0:r.data,this.noImageAvailable=!1,Ci("*** linerNotesManifest ***",r)})}get itemUrl(){return`https://${this.baseHost}/details/${this.identifier}`}get iauxPhotoViewer(){return this.shadowRoot.querySelector("iaux-photo-viewer")}get channelSelector(){return this.shadowRoot.querySelector("channel-selector")}setupResizeObserver(){this.sharedRO=new Ro,this.sharedRO.addObserver({handler:{handleResize:this.handleResize.bind(this)},target:this.shadowRoot.host})}handleResize(t){var a,l;let{contentRect:r}=t;if(r.width!==this.currComponentWidth){if(this.linerNotesFullscreen&&(this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight",`${Math.round(r.height)}px`)),document.body.style.removeProperty("--linerNotesInTheaterHeight"),r.width<768)this.displayStyle="one-col",this.channelSelector.displayStyle="dropdown";else{this.displayStyle="two-col",this.channelSelector.displayStyle="radio";let o=(l=(a=this.iauxPhotoViewer)==null?void 0:a.coverImage)==null?void 0:l.getBoundingClientRect();if(!o)return;let c=o.height,n=o.width,u=Math.floor(c);if(r.width<950){this.setBookReaderHeight(u);return}let g=Math.floor(c/n),m=Math.floor(this.offsetHeight-c),y=this.offsetHeight>=c&&m>250,x=g===1&&m>170;(m<0||x||y)&&(u=this.offsetHeight-20),this.setBookReaderHeight(u)}Ci("music-player handleResize",{width:r.width,displayStyle:this.displayStyle})}}channelChange({detail:t}){let r=(t==null?void 0:t.channel)||"unknown";Ci("channel change",r),this.selectedChannel=r,this.analyticsHandler.send_event("ia-music-theater","channel-change",`${this.selectedChannel}`)}setBookReaderHeight(t){let r=Math.floor(t);!t||!r||(document.body.style.removeProperty("--linerNotesInTheaterHeight"),document.body.style.setProperty("--linerNotesInTheaterHeight",`${r}px`))}render(){var r;Ci("~~~ render: linerNotesManifest ",this.linerNotesManifest);let t=this.linerNotesFullscreen?"linerNotesFullscreen":"";return Ke`
      <section
        id="music-theater"
        class=${`${this.displayStyle} ${t} ${this.bgTheme} ${this.noImageAvailable?"noimageavailable":"hasimage"}`}
      >
        <channel-selector
          .backgroundTheme=${this.bgTheme}
          webamp
          .youtube=${this.hasYoutubeTracks}
          .spotify=${this.hasSpotifyTracks}
          .url=${this.itemUrl}
          .selected=${this.selectedChannel}
          @channelChange=${a=>this.channelChange(a)}
          .displayStyle=${this.displayStyle==="one-col"?"dropdown":"radio"}
        ></channel-selector>
        ${this.noImageAvailable?Ke`<iaux-photo-viewer
            noimageavailable
            .itemIdentifier=${this.identifier}></iaux-photo-viewer>`:Ke`<iaux-photo-viewer
            ?noimageavailable=${this.noImageAvailable}
            class=${this.linerNotesManifest?"":"hide"}
            .backgroundTheme=${this.bgTheme}
            .baseHost=${this.baseHost}
            .itemIdentifier=${this.identifier}
            .itemMD=${(r=this.itemInfo)==null?void 0:r.metadata}
            .signedIn=${this.signedIn}
            .linerNotesManifest=${this.linerNotesManifest}
            .lightDomHook=${this}
            .sharedRO=${this.sharedRO}
            @fullscreenOpened=${()=>{if(this.displayStyle==="one-col"){let a=window.innerHeight;this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight",`${Math.round(a)}px`)}this.linerNotesFullscreen=!0}}
            @fullscreenClosed=${()=>{this.displayStyle==="one-col"&&this.style.removeProperty("--linerNotesFullScreenHeight"),this.linerNotesFullscreen=!1}}
            @showingAllPhotos=${()=>{this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),this.analyticsHandler.send_event("ia-music-theater","liner-notes-viewed",`${this.displayStyle}`)}}
            @coverImageLoaded=${a=>{var u;if(!this.noImageAvailable&&!((u=this.looseImageInfo)!=null&&u.length)&&!this.linerNotesManifest)return;let{height:o,width:c}=a.detail,n=o;this.displayStyle==="one-col"?n=250:(Math.round(o/c)===1||o>=this.offsetHeight)&&(n=this.offsetHeight-20),this.setBookReaderHeight(n),this.photoViewerReady=!0}}
          >
            <div slot="main" class="main">
              <slot name="main"></slot>
            </div>
          </iaux-photo-viewer>`}
        ${this.photoViewerReady?Ei:Ke`<div class="image"><slot name="image"></slot></div>`}
        <div class="player">
          <div id="ext-channels-section">
            <externalchannels-player
                .album=${this.album}
                selectedChannel=${this.selectedChannel}
                .playerApi=${window==null?void 0:window.Play}
                @externalChannelsPlayerLoaded=${a=>{let{youtubeTracks:l,spotifyTracks:o,album:c}=a.detail;this.hasYoutubeTracks=!!l.length,this.hasSpotifyTracks=!!o.length,this.album=c,Ci("*** external player loaded",a.detail)}}
                @externalChannelsSelectedTrack=${a=>{Ci("*** external player selected track Received",a.detail)}}
              ></external-channels-player>
          </div>
          <slot class="player"></slot>
        </div>
      </section>
    `}static get styles(){return pt`
      :host {
        display: block;
        position: relative;
        overflow: hidden;
        /* petabox styling is very sticky for outlines, let's remove */
        outline: none !important;
        font-size: 16px;
        height: 100%;
        min-height: inherit;
        --imageWidth: 350px;
        --imageHeight: 350px;
      }

      :host[bgtheme="dark"],
      #music-theater.dark {
        color: white;
      }

      .hide {
        display: none;
      }

      .linerNotesFullscreen channel-selector {
        visibility: hidden;
      }

      channel-selector {
        z-index: 1;
        position: relative;
      }

      channel-selector[displaystyle="dropdown"] {
        padding-left: 5px;
        padding-bottom: 10px;
        padding-top: 10px;
        z-index: 3;
        display: inline-block;
        position: absolute;
        top: 0;
      }

      #music-theater.dropdown {
        margin-top: 5px;
      }

      @media(max-width: 768px) {
        #music-theater.one-col.hasimage slot[name="image"],
        #music-theater.one-col.hasimage iaux-photo-viewer {
          overflow: hidden;
          height: 268px;
          margin-top: 20px;
        }

        #music-theater.one-col.noimageavailable channel-selector {
          position: absolute;
        }

        #music-theater.one-col.noimageavailable iaux-photo-viewer {
          overflow: hidden;
          --imageHeight: 190px;
          --imageWidth: 190px;
          --linerNotesHeight: 200px;
          height: 200px !important;
          padding-top: 10px;
        }

        #music-theater.one-col slot.player {
          padding: 0 5px;
        }
      }

      @media(min-width: 1201px) {
        #music-theater.two-col {
          margin: 10px auto;
        }
      }

      #music-theater.two-col {
        display: grid;
        grid-template-columns: 0.7fr 1.3fr;
        grid-template-rows: 0.2fr;
        gap: 0;
        column-gap: 0;
        grid-template-areas: "image channel-selector" "image player";
        column-gap: 20px;
        margin: 10px 30px;
      }

      #music-theater.two-col .image,
      #music-theater.two-col iaux-photo-viewer {
        grid-area: image;
        z-index: 2;
        max-height: var(--linerNotesInTheaterHeight, 100%);
        margin-top: 10px;
        height: auto;
      }
      #music-theater.two-col .player {
        grid-area: player;
      }
      #music-theater.two-col channel-selector[displaystyle="radio"] {
        grid-area: channel-selector;
      }

      @media(min-width: 768px) and (max-width: 1200px) {
        #music-theater.two-col.hasimage {
          grid-template-columns: 1fr 1fr;
        }
      }

      slot {
        display: block;
      }

      slot[name="image"] {
        max-height: 400px;
        display: block;
        max-width: 100%;
        height: inherit;
        object-fit: contain;
        position: relative;
      }

      div#ext-channels-section {
        margin-top: 5px;
      }
    `}};customElements.define("ia-music-theater",Kh)});var Ak={};Dn(Ak,{default:()=>Cl});var nd,xv,xk,kv,J8,Ka,_k,_v,kk,Q8,eE,tE,iE,rE,Cl,Sk=Kt(()=>{Xl();Id();Ld();Hn();vf();xo();ru();pf();nu();nd={},xv=480,xk=640,kv=30,J8=350,Ka=kv,_k=140,_v=240,kk=800,Q8=20,eE=370,tE=100,iE=100,rE=navigator.userAgent.indexOf("Windows NT ")>=0&&(navigator.userAgent.indexOf(" Trident/")>=0||navigator.userAgent.indexOf("MSIE ")>=0),Cl=class e{constructor(t,r,{start:a=0,embed:l=!1,hide_list:o=!1,autoplay:c=!1,audio:n=!1,width:u=0,height:p=0,responsive:g=!1,aspectratio:m=!1,noshare:y=!1,nolinks:x=!1,logo:w=!1,so:k=!1,tv:S=!1,tvStart:P=0,tvEnd:E=0,tvContributor:L=!1,tvSource:s=!1,play_just1:h=!1,list_height:v=0,identifier:d=!1,onTime:_=!1,onComplete:C=!1,onDisplayClick:N=!1,onReady:G=!1,onPlaylistItem:q=!1,collection:K=!1,waveformer:ie=!1,speed:Q=1,details:te=location.href}={}){let Oe=S&&r.length===1?r[0].title:"",fe=`#${t}`,W=`#${t}__list`,ae=!1,de=4/3,Z=!1,ye=!1,Y=0,ce=!1,Ze=l&&!S&&!n&&!c&&a,ft=!0,ct=!1,Ge=0,Ae=0,Me=0;this.construct=()=>{if(x&&(d=!1,K=!1,y=!0),Q=parseFloat(Q),!xe(fe).length)return Ci("play8.js requires #",t," element on page -- not found"),!1;if(this.responsiveResize(!0),d!==!1&&(te=`https://archive.org/details/${d}`),S&&E&&(te+=`/start/${P}/end/${E}`),typeof r=="undefined"&&(r=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],a=!0,o=!0),o||(v||(v=n?eE:tE),v=Math.min(v,r.length*Q8)),!g&&!(u>0&&p>0))if(l){let Ve=xe(window).width(),rt=xe(window).height();u=n?Math.min(Ve,kk):Ve,p=n?Ka+v:rt-v}else m||(u=n?J8:xk,p=n?Ka+v:xv);if(Y=u,xe.each(r,(Ve,rt)=>{if(typeof rt.autoplay!="undefined"&&(ct||(ct=[]),ct[Ve-1]=!rt.autoplay),typeof rt.sources=="undefined"&&typeof rt.file!="undefined"&&(rt.sources=[{file:rt.file,height:480}]),typeof rt.sources=="undefined")alert(`${Ve}: sources undefined!`);else for(let je of rt.sources)typeof je.file!="undefined"&&(!Ve&&je.file.indexOf("/download")>=0&&(je.file=je.file.replace(/\/download\//,"/serve/")),je.file=e.filename_char_encoder(je.file))}),!o){let Ve=`<div id="${t}__list" style="height:${v}px"> </div>`;xe(Ve).insertAfter(fe)}Oe&&(r[0].title=r[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));let Ne={playlist:JSON.parse(JSON.stringify(r)),abouttext:"this item, formats, and more at Internet Archive",aboutlink:te,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:c,fallback:k,width:isNaN(Y)?"100%":Y,height:n?kv:p,base:$d};if(g&&!l?Ne.displaytitle=!1:m&&(Ne.width="100%",Ne.aspectratio=m,delete Ne.height),d!==!1){let Ve=S&&E?`?start=${P}&end=${E}`:"",rt=`<iframe src="https://archive.org/embed/MEDIAID"
                              width="${n?500:xk}"
                              height="${n?Ka:xv}"
                              frameborder="0"
                              webkitallowfullscreen="true"
                              mozallowfullscreen="true"
                              allowfullscreen></iframe>`.replace(/embed\/MEDIAID/,`embed/${d}${Ve}`).replace(/\s+/g," "),je=`[archiveorg ${d}${Ve} width=640 height=${n?Ka:xv} frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`;Ne.mediaid=d,xe("#embedcodehere").text(rt),xe("#embedcodehereWP").text(je)}if((l&&!n&&!x||w)&&(Ne.logo={file:"//av.archive.org/jw/glogo-ghost.png",link:te,position:"top-right",margin:2,hide:!1}),h||ct){let Ve=C;C=rt=>{let je={done:h||ct[rt.getPlaylistIndex()]};je.done&&rt.stop(),Ve&&Ve(rt,je)}}return Ci(Ne),Lr(t).setup(Ne),Lr(t).on("ready",()=>{Ci("IA ",t," is ready");let Ve=Lr(t);Ci("NOTE: JW version: ",Lr.version),_&&Ci("NOTE: onTime() is in use!"),_&&Ve.on("time",()=>_(Ve)),C&&Ve.on("complete",()=>C(Ve)),N&&Ve.on("displayClick",()=>N(Ve)),n?Ve.on("firstFrame",()=>e.track_event("Details-Audio|AudioStarted")):S||(Ve.on("firstFrame",()=>e.track_event("Details-Video|VideoStarted")),Ve.on("complete",()=>e.track_event("Details-Video|VideoEnded"))),ae=!0,this.addClickablePlaylist(),n&&g&&!l&&this.responsiveResize(),g&&!n&&xe(fe).css("margin","auto"),this.add_buttons(Ve),g&&!l&&!n&&typeof xr!="undefined"&&xr.theatre_controls_position(!1,0,u,p),g&&Ka>kv&&xe(fe).css("height",Ka),n&&!ie&&xe(fe).find(".jw-preview").css("display","none"),!l&&g?this.details_setup():l&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup(),Ve.on("meta",rt=>{ye||(ye=!0,Ci("onMeta() fired"),xe("body").addClass("responsive-playing"),!n&&l&&rt.width&&rt.height&&this.adjustVideoWidth(this,rt),this.unpreload(),a&&(Ci("SEEK TO: ",a),this.pause(),Lr(t).seek(a)))}),Ve.on("playlistItem",rt=>{let je=rt.index;if(Ci("onPlaylistItem: ",je),Me&&!je){Ci(`onPlaylistItem: ignoring since desired index ${Me} !== ${je} -- and this is likely an event from reloading the playlist`);let J=Me;Me=0,Lr(t).playlistItem(J);return}let ee=xe(W).find(".jwrow, .jwrowV2");if(ee.length){ee.removeClass("playing");let J=xe(ee.get(je));J.addClass("playing"),xe(W).scrollTop(J.offset().top-xe(W).offset().top+xe(W).scrollTop())}this.seeker_playlist(),this.url_updater(Ve,je),Q!==1&&setTimeout(()=>{this.speed(Q)},1e3),this.waveformer_setup(Ve)}),q&&Ve.on("playlistItem",rt=>{Ci("onPlaylistItem",{e:rt}),q(Ve,rt)}),Ve.on("playlistComplete",()=>{!n&&K&&!S&&this.related_items_click()}),Ve.on("error",rt=>{Ci("err"),Ci(rt),xe(fe).css({"background-color":"black"})}),G&&G(Ve)}),this},this.url_updater=(Ne,Ve)=>{if(S||l||!d||typeof history.replaceState=="undefined")return;let rt=Ne.getConfig();if(!(!rt||!rt.playlist||rt.playlist.length<=1||!rt.playlist[Ve]||!rt.playlist[Ve].orig))if(ft){let je=`/details/${d}/${encodeURIComponent(rt.playlist[Ve].orig).replace(/%2F/g,"/").replace(/%20/g,"+")}`,ee=typeof xr!="undefined"&&ou("playset",!0)?"?playset=1&autoplay=1":"";Ci("updating url to",je+ee),history.replaceState({},null,je+ee)}else Ci("looks like /details/ page loaded cold-state -- leave url AS IS"),Ne.once("play",()=>{Ci("time to start updating urls"),ft=!0,this.url_updater(Ne,Ve)})},this.waveformer_setup=Ne=>{if(!ie||ce)return;let Ve=Ne.getConfig().provider==="flash",rt=xe(fe);Ve&&(rt=rt.parent()),rt.wrap(`<div id="${ie}" style="position:relative"></div>`),Ge=xe(`#${ie}`).width(),xe(`#${ie}`).prepend('<div id="waveformer" style="background-color:rgb(19,160,216); position:absolute; width:0; top:0; bottom:0;"></div>'),Ne.on("time",je=>{je.duration&&(Ae=je.position/je.duration,xe("#waveformer").css({width:Math.round(Ge*Ae)}))}),ce=!0,setTimeout(()=>{Ve||xe(fe).css("background-color","transparent"),xe(`#${ie}`).css("background-color","#ddd")},1e3)},this.on=(Ne,Ve)=>{let rt=Lr&&Lr(t);return rt&&rt.on(Ne,Ve),this},this.adjustVideoWidth=(Ne,Ve)=>{Ve.height&&Ve.width&&Ve.height>0&&Ve.width>0&&parseInt(Ve.height,10)>0&&(de=parseInt(Ve.width,10)/parseInt(Ve.height,10),Ci("DAR: ",de,Ve.width,"x",Ve.height)),l&&this.embedResize()},this.embedResize=()=>{if(!Lr||!Lr(t))return;if(n){Lr(t).resize(Math.min(kk,xe(window).width()),Ka);return}let Ne=xe(window).width(),Ve=xe(window).height()-v;Lr(t).resize(Ne,Ve)},this.playN=(Ne,Ve)=>{let rt=Lr(t);return Ci("playN",{readyIA:ae,idx:Ne,load_paused:Ve,state:rt.getState()}),Ve&&rt.once("play",()=>rt.pause()),rt.playlistItem(Ne),!1},this.seeker_playlist=()=>{Z||(Z=!0,Ze&&Lr(t).once("seek",()=>{this.pause(),Ci("... paused first seek!")}),a&&(this.pause(),Lr(t).seek(a)))},this.embed_setup=()=>{xe(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler2),e.throttler2=setTimeout(()=>{new e(t).embedResize()},250)})},this.unpreload=()=>{let Ne=Lr(t),Ve=Ne.getPlaylist(),rt=Ne.getPlaylistIndex();if(Ci("unpreload:",{startPlaylistIdx:rt}),Ve.length&&(typeof Ve[0].file!="undefined"&&(Ve[0].file=Ve[0].file.replace(/\/serve\//,"/download/")),typeof Ve[0].sources!="undefined"))for(let je of Ve[0].sources)je.file=je.file.replace(/\/serve\//,"/download/");rt?(Ne.on("playlist",()=>{Ci("unpreload: onplaylist:",{startPlaylistIdx:rt}),Ne.playlistIndex=rt,Ne.playlistItem(rt)}),Me=rt):!a&&!c&&(ft=!1),Ne.load(Ve)},this.details_setup=()=>{Ci("details_setup");let Ne=0,Ve=`^/details/${d}/([^&?]+)`,rt=location.pathname.match(Ve);if(rt){let je=decodeURIComponent(rt[1].replace(/\+/g,"%20"));Ci("looking for: ",je);for(let ee in r){let J=Number(ee);if(r[J].orig===je){Ci("player should seek to track #",J),Ne=J;break}}}!Ne&&!a&&!c&&(ft=!1),!c&&(Ne||a)&&(Ci("seek #",Ne," to ",a),Lr(t).playlistItem(Ne))},this.pause=()=>{let Ne=Lr(t);ae&&Ne&&Ne.getState&&Ne.getState()==="playing"&&Ne.pause()},this.remove=()=>{this.pause();let Ne=Lr(t);ae&&Ne&&Ne.getConfig()&&Ne.remove(),delete nd[t]},this.speed=Ne=>{if(typeof Ne=="undefined"||typeof Ne=="object"){let je=!1;n&&(xe(".jw-controls").css("overflow","initial"),je=xe(fe).height()===_v,xe(fe).css("height",je?_k:_v)),je=je||xe(`${fe} .jw-controls`).hasClass("jw-settings-open"),je?(xe(`${fe} .jw-controls`).removeClass("jw-settings-open"),n&&xe(".jw-controls").css("overflow","")):xe(`${fe} .jw-controls`).toggleClass("jw-settings-open"),xe(`${fe} .jw-settings-topbar .jw-icon`).attr("aria-checked","false"),xe(`${fe} .jw-settings-playbackRates`).attr("aria-checked","true");let ee=xe('.jw-settings-content-item:contains("0.5x")').parent(),J=`${fe} .jw-settings-submenu`;return xe(J).attr("aria-expanded","false").removeClass("jw-settings-submenu-active"),ee.attr("aria-expanded","true").addClass("jw-settings-submenu-active"),xe(J).addClass("jw-settings-submenu-active"),!1}let Ve=Ne;(typeof Ve=="undefined"||isNaN(Ve))&&(Ve=1);let rt=xe(`#${t} video`).get(0);return rt.playbackRate=Ve,Ci(`speed to ${Ve}`),!1},this.add_buttons=Ne=>{let Ve='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',rt='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',je='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',ee='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(l&&!x){let J=Oe?`${Oe.replace(/ : /g,`
`)}

Click above for more information and clips
at the Internet Archive`:"More Formats from Internet Archive";Ne.addButton("/images/glogo-jw.png",J,()=>{let qe=document.createElement("a");qe.setAttribute("href",te),qe.setAttribute("target","_blank"),document.body.appendChild(qe),qe.click()},"btn-ia")}l&&!n&&!y&&!S&&(d!==!1&&Ne.addButton("https://av.archive.org/jw/embed.png","Embedding Examples and Help",()=>{window.top.location.href=`/help/video.php?identifier=${d}`},"btn-mbd"),typeof xr!="undefined"&&(Ne.addButton(je,"share",()=>{let J=xe(".jw-icon[button=btn-shr]").get(0);xr.modal_go(J,{ignore_lnk:1,shown:xr.embed_codes_adjust})},"btn-shr"),xe(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))),S&&l&&s!==!1&&Ne.addButton(`/images/tv/${d.split("_")[0]}.png`,`Look for this show on ${L} website`,()=>{window.top.location.href=s},"btn-tv"),!n&&K&&!S&&Ne.addButton("https://av.archive.org/jw/related.png","Related Videos",()=>{this.related_items_click()},"btn-rel"),this.castable()&&(window.chrome&&e.cast_sender_setup(),Ne.addButton(ee,"Cast media with AirPlay / Chromecast",()=>{this.cast()},"btn-cast")),!S&&r.length>1&&(Ne.addButton(rt,"next",()=>{Ne.playlistNext()},"btn-nxt"),Ne.addButton(Ve,"previous",()=>{Ne.playlistPrev()},"btn-prv"))},this.castable=()=>window.WebKitPlaybackTargetAvailabilityEvent||window.chrome,this.cast=()=>{if(window.WebKitPlaybackTargetAvailabilityEvent){xe(`#${t} video`).get(0).webkitShowPlaybackTargetPicker();return}if(!window.chrome)return;let Ne=(rt,je)=>{je.play(null,ee=>{Ci("media play success",rt,je,ee)},ee=>{Ci("media play fail",ee)})};this.cast_retries=0;let Ve=()=>{if(Ci("cast_setup #",this.cast_retries),this.cast_retries+=1,this.cast_retries>3)return!1;if(!window.chrome.cast)return setTimeout(Ve,this.cast_retries*1e3);let{cast:rt}=window.chrome,je=new rt.SessionRequest(rt.media.DEFAULT_MEDIA_RECEIVER_APP_ID),ee=new rt.ApiConfig(je,J=>{J.media.length&&Ne("onRequestSessionSuccess",J.media[0])},J=>{Ci("receiver listener fail",J)});return rt.initialize(ee,()=>{Ci("cast init success"),rt.requestSession(J=>{Ci("request session success",J);let qe=xe(`${fe} video`).attr("src"),_t=`${location.protocol}//${location.host}${qe}`,we=new rt.media.MediaInfo(_t),$e=new rt.media.LoadRequest(we);J.loadMedia($e,Ne.bind(this,"loadMedia"),at=>{Ci("onMediaError",at)})},J=>{Ci("request session fail",J),setTimeout(Ve,500)})},()=>Ci("cast init failure")),!0};Ve()},this.related_items_click=()=>{let Ne=()=>{xe(`${fe} .jw-controlbar`).one("click",Ve=>{xe("#related-items-bg").hide(),Ve.preventDefault()})};typeof Jl!="undefined"&&!xe("#related-items").length?(xe(`${fe}`).prepend(`
<div id="related-items-bg" style="display:none">
  <div id="related-items">
  </div>
</div>
`),Zr("#related-items-bg",()=>xe("#related-items-bg").hide(),"default"),Jl.getRelatedItems(d,!0).then(Ve=>{let rt=Math.floor(Ve.length/2),je="";for(let[ee,J]of Object.entries(Ve))Number(ee)===rt&&K==="prelinger"?(e.track_event("Details-Video|DonationEndrollDisplayed"),je+=`
<a class="related-donate"
   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"
   data-event-click-tracking="Details-Video|DonationEndrollClicked"
   data-event-tracking-options='{ "service": "ao_no_sampling" }'>
  <div>
    <div class="related-ctr related-donate-logo">
      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>
    </div>
    <div class="related-ctr related-donate-msg">
      <div>
        Your donation helps us keep these videos free for everyone
      </div>
    </div>
    <div class="related-ctr related-donate-btn">
      <div>
        CHIP IN
      </div>
    </div>
  </div>
</a>
`):je+=`
<div>
  <a href="/details/${J.identifier}"
    data-event-click-tracking="Details-Video|LastFrameLinkChosen"
    data-event-tracking-options='{ "service": "ao_no_sampling" }'>
    <div class="related-ttl">
      ${J.title!==null?J.title:""}
      ${J.creator!==null?`<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;${J.creator}`:""}
      ${J.downloads!==null?`<div>${J.downloads} views</div>`:""}
    </div>
    <img src="/services/img/${J.identifier}"/>
  </a>
</div>
`;xe("#related-items").html(je),xe("#related-items-bg").show(),Ne()})):xe("#related-items-bg:visible").length?xe("#related-items-bg").hide():(xe("#related-items-bg").show(),setTimeout(Ne,500))},this.addClickablePlaylist=()=>{if(o)return;let Ne=Lr(t).getPlaylist(),Ve=!0;Ne.length!==r.length&&(Ci("NOTE: jw playlist filtered down -- ",r.length,"==>",Ne.length," items"),Ve=!1);let rt="";xe.each(Ne,(ee,J)=>{let qe=(typeof J.title=="undefined"?"":J.title).concat(typeof J.artist=="undefined"?"":` - ${J.artist}`),_t=typeof J.duration!="undefined"?J.duration:!1;_t===!1&&(_t=Ve&&typeof r[ee]!="undefined"&&typeof r[ee].duration!="undefined"?r[ee].duration:0),_t<=0&&(_t=!1),rt+=`
<a href="#" class="js-play8-play-track" data-idx="${ee}">
  <div class="jwrow">
    <div class="tm">
      ${_t?e.sec2hms(_t):""}
    </div>
    <div class="n">
      ${ee+1}
    </div>
    <div class="ttl">
      ${qe}
    </div>
  </div>
</a>`});let je={};g&&(je.width=u,je.margin="auto",n||xe(fe).css("margin","auto")),xe(W).addClass("jwlist").css(je).html(rt),Zr(".js-play8-play-track",ee=>window.Play(`${t}`).playN(xe(ee.currentTarget).data().idx)),Ci(r)},this.debug=()=>{debugger},this.responsiveResize=Ne=>{if(!g)return;let Ve=xe(fe).offset(),rt=xe(window).height()-Ve.top-iE;if(n)r&&r.length>0&&r[0].image&&ie&&(Ka=_k),rt-=Ka,rt=Math.max(_v,rt),l||(Ci("responsiveResize() maxH:",rt),v=rt,Ci(xe(W).length),xe(W).css({"max-height":rt,"overflow-x":"hidden","overflow-y":"auto"}),ie&&(Ge=xe(`#${ie}`).width(),xe("#waveformer").css({width:Math.round(Ge*Ae)}))),u="100%",xe("#theatre-controls .fave-share").removeClass("fave-share"),xe("#theatre-controls").offset({top:Ve.top}).css({visibility:"visible","background-color":"black"});else{let je=de;r&&r.length>0&&r[0].sources&&r[0].sources.length>0&&r[0].sources[0].width&&r[0].sources[0].height&&(je=r[0].sources[0].width/r[0].sources[0].height,Ci("aspect ratio appears to be: ",je));let ee=xe(".container-ia:last").width();Ci("video max rect avail: ",ee,"x",rt);let J,qe;for(qe of[960,840,720,600,480,360,240,180])if(J=Math.round(qe*je),Ci("video size try fit: ",J,"x",qe),J<=ee&&qe<=rt||J<=320)break;u=J,p=qe,typeof xr!="undefined"&&xr.theatre_controls_position(!1,0,u,p)}Ne?xe(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler),e.throttler=setTimeout(()=>{new e(t).responsiveResize()},250)}):n||Lr(t).resize(u,p)},this.cache=()=>{if(!t)return alert("please pass in a unique identifier for this object");if(typeof nd[t]!="undefined"){if(typeof r=="undefined")return nd[t];delete nd[t]}return!1};let De=this.cache();if(De)return De;nd[t]=this,Ci("PLAY CONFIG:",arguments[2]),this.construct()}static sec2hms(t,r){let a=Math.round(t),l=Math.floor(a/3600),o=Math.floor((a-l*3600)/60);a-=l*3600+o*60;let c="",n="";return(r||l>0)&&(n=`00${l}`,c+=n.substr(n.length-2,2),c+=":"),n=`00${o}`,c+=n.substr(n.length-2,2),c+=":",n=`00${a}`,c+=n.substr(n.length-2,2),c}static seconds(t){let r=t.replace(",","."),a=r.split(":"),l=0;return r.substr(-1)==="s"?l=Number(r.substr(0,r.length-1)):r.substr(-1)==="m"?l=Number(r.substr(0,r.length-1))*60:r.substr(-1)==="h"?l=Number(r.substr(0,r.length-1))*3600:a.length>1?(l=Number(a[a.length-1]),l+=Number(a[a.length-2])*60,a.length===3&&(l+=Number(a[a.length-3])*3600)):l=Number(r),l}static seek(t){let r=`${t.href}/`.match(/[/#]start\/([\d.]+)\//)||t.href.match(/[?&]start=([\d.]+)/);if(!r)return!0;let a=r[1];return Lr().seek(a),typeof history.pushState=="undefined"?location.href=t.href:history.pushState({},null,t.href),!1}static mute_click(){let t=!qn.get("unmute"),r=Lr("jw6");if(r){let a=r.getVolume();a?(e.mute_click_prior_volume=a,r.setVolume(0)):r.setVolume(typeof e.mute_click_prior_volume=="undefined"?100:e.mute_click_prior_volume)}return xe("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),t?qn.set("unmute",1,{path:"/details",expires:30}):qn.remove("unmute",{path:"/details"}),!1}static cast_sender_setup(){!window.chrome||window.chrome.cast||function(){var t=function(w){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+w)!=-1||document.currentScript.src.indexOf("&"+w)!=-1)},r=t("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",a=t("loadCastFramework")||t("loadCastApplicationFramework"),l=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},o=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],c=function(w){w.length?u(w.shift(),function(){c(w)}):g()},n=function(w){return"chrome-extension://"+w+r},u=function(w,k,S){var P=document.createElement("script");P.onerror=k,S&&(P.onload=S),P.src=w,(document.head||document.documentElement).appendChild(P)},p=function(w){return 0<=window.navigator.userAgent.indexOf(w)},g=function(){var w=l();w&&w(!1,"No cast extension found")},m=function(){if(a){var w=2,k=l(),S=function(){w--,w==0&&k&&k(!0)};window.__onGCastApiAvailable=S,u("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",g,S)}};if(p("CriOS")){var y=window.__gCrWeb&&window.__gCrWeb.message&&window.__gCrWeb.message.invokeOnHost;y&&(m(),y({command:"cast.sender.init"}))}else if(p("Android")&&p("Chrome/")&&window.navigator.presentation){m();var x=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);c(["//www.gstatic.com/eureka/clank/"+(x?parseInt(x[1],10):0)+r,"//www.gstatic.com/eureka/clank"+r])}else window.chrome&&window.navigator.presentation&&!p("Edge")?(m(),c(o.map(n))):g()}()}static filename_char_encoder(t){let r=t.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i);return r.shift().replace(/#/g,"%23").replace(/\?/g,"%3F")+(r.length?`.${r.shift()}?`:"")+r.join("")}static track_event(t){if(!window.archive_analytics)return;let[r,a]=t.split("|");window.archive_analytics.send_event(r,a,window.location.pathname)}static setup(){xe(".js-play8-config").each((t,r)=>{let a=JSON.parse(xe(r).val()),l=a.jid||"jw6";xe(".js-play8").attr({id:l}),ou("playset",!0)&&(a.onComplete=Md.onComplete),window.Play(l,JSON.parse(xe(".js-play8-playlist").val()),a),Zr(".js-play8-speed",window.Play(l).speed),Zr(".js-play8-gofullscreen",Lr(l).setFullscreen)})}};window.Play=(e,t,r)=>new Cl(e,t,r);for(let e of["sec2hms","seconds","seek","filename_char_encoder","mute_click"])window.Play[e]=Cl[e];rE?Cl.setup():xe(Cl.setup);xe(()=>{Zr(".js-play8-thumbzilla",e=>xr.thumbzilla(xe(e.currentTarget).data().identifier)),Zr(".js-play8-mute-click",window.Play.mute_click),Zr(".js-play8-seek",e=>window.Play.seek(e.currentTarget))})});var Vn,Xh=Kt(()=>{lf();Vn="jQuery"in window&&"$"in window?window.$:js;window.jQuery=Vn;window.$=Vn});var od,Ck=Kt(()=>{od=class{static LoadingMessage({message:t="Loading"}){return`<small class="loading-message">${t}</small>`}static ErrorMessage({errorMessage:t}){return`<small>${t}</small>`}}});function ad(){Vn(".row .tilebars").find(".results").parents(".row").each((e,t)=>{let r=!1;Vn(t).find(".results").each((a,l)=>{Vn(l).show().css({visibility:"hidden"}),r||(r=Vn(l).offset()),Vn(l).offset().top!==r.top?Vn(l).hide():Vn(l).css({visibility:"visible"})})})}var Ek=Kt(()=>{Xh()});var Zh,Tk=Kt(()=>{Zh=class{constructor(t,r=250,a=void 0){this.callback=t,this.threshhold=r,this.context=a,this.last=void 0,this.deferTimeout=void 0}execute(){let t=+new Date;this.last&&t<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}executeCallback(){this.last=+new Date,this.callback.apply(this.context)}}});var Jh,Pk=Kt(()=>{Xh();Tk();Jh=class{constructor(t,r,a){this.identifier=t,this.$targetElement=r,this.callback=a,this.$window=Vn(window),this.throttler=new Zh(this.scrollListener,100,this)}startListener(){this.$window.on(`scroll.${this.identifier}`,this.throttledListener.bind(this)),this.scrollListener()}throttledListener(){return this.throttler.execute()}getTargetScrollOffset(){let t=this.$targetElement.offset().top,r=this.$window.height();return t-r/2}scrollListener(){let t=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=t&&(this.$window.off(`.${this.identifier}`),this.callback())}}});var $k,Lk=Kt(()=>{$k=/bot|crawl|spider/i.test(navigator.userAgent)});var Mc,Ok=Kt(()=>{Xh();Ck();Ek();Pk();Lk();Mc=class e{static setup(){let t=Vn("#js-related");if(t.length&&(ad(),Vn(window).on("resize  orientationchange",a=>{clearTimeout(e.also_found_throttler),e.also_found_throttler=setTimeout(ad,250)})),!t.length||$k)return;let r=Vn("#also-found");this.scrollProximityHandler=new Jh("related_items",r,()=>{if(!t.text())return r.find(".tilebars").show(),t.html(od.LoadingMessage({message:"Fetching items"})),e.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}static doWhenScrolledToRelatedSection(){let t=Vn("#also-found").data("identifier"),r=Vn("#js-related");return e.getRelatedItems(t).then(a=>{r.html(a),ad()}).catch(a=>{Vn("#playplayset").hide(),r.html(od.ErrorMessage({errorMessage:a.message})).show()})}static getRelatedItems(t,r){return new Promise((a,l)=>{let o=`/details/${encodeURIComponent(t)}?RelatedItemsGet=${r?"json":1}`,c="Related items temporarily unavailable. Please try back later.";Vn.get(o,n=>{n===""&&l(new Error("No similar items found.")),n==="service_disabled"&&l(new Error(c)),a(n)}).fail(()=>{l(new Error(c))})})}};Vn(()=>Mc.setup())});function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}function Av(e,t){function r(l,o,c){if(!(typeof document>"u")){c=Qh({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var u in c)c[u]&&(n+="; "+u,c[u]!==!0&&(n+="="+c[u].split(";")[0]));return document.cookie=l+"="+e.write(o,l)+n}}function a(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var o=document.cookie?document.cookie.split("; "):[],c={},n=0;n<o.length;n++){var u=o[n].split("="),p=u.slice(1).join("=");try{var g=decodeURIComponent(u[0]);if(c[g]=e.read(p,g),l===g)break}catch(m){}}return l?c[l]:c}}return Object.create({set:r,get:a,remove:function(l,o){r(l,"",Qh({},o,{expires:-1}))},withAttributes:function(l){return Av(this.converter,Qh({},this.attributes,l))},withConverter:function(l){return Av(Qh({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var nE,Xa,Sv=Kt(()=>{nE={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};Xa=Av(nE,{path:"/"});});var Cv=Kt(()=>{Sv();Sv()});var ep,tp,Ev,Mk,Tv,so,sd,Pv,ip,ld=Kt(()=>{ep=window,tp=ep.ShadowRoot&&(ep.ShadyCSS===void 0||ep.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ev=Symbol(),Mk=new WeakMap,Tv=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==Ev)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(tp&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=Mk.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Mk.set(t,e))}return e}toString(){return this.cssText}},so=e=>new Tv(typeof e=="string"?e:e+"",void 0,Ev),sd=(e,...t)=>{let r=e.length===1?e[0]:t.reduce((a,l,o)=>a+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+e[o+1],e[0]);return new Tv(r,e,Ev)},Pv=(e,t)=>{tp?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{let a=document.createElement("style"),l=ep.litNonce;l!==void 0&&a.setAttribute("nonce",l),a.textContent=r.cssText,e.appendChild(a)})},ip=tp?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let a of t.cssRules)r+=a.cssText;return so(r)})(e):e;});var $v,rp,Ik,oE,Lv,Mv,Rk,Ov,Iv,El,Rv=Kt(()=>{ld();ld();rp=window,Ik=rp.trustedTypes,oE=Ik?Ik.emptyScript:"",Lv=rp.reactiveElementPolyfillSupport,Mv={toAttribute(e,t){switch(t){case Boolean:e=e?oE:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(a){r=null}}return r}},Rk=(e,t)=>t!==e&&(t==t||e==e),Ov={attribute:!0,type:String,converter:Mv,reflect:!1,hasChanged:Rk},Iv="finalized",El=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,r)=>{let a=this._$Ep(r,t);a!==void 0&&(this._$Ev.set(a,r),e.push(a))}),e}static createProperty(e,t=Ov){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,a=this.getPropertyDescriptor(e,r,t);a!==void 0&&Object.defineProperty(this.prototype,e,a)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(a){let l=this[e];this[t]=a,this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Ov}static finalize(){if(this.hasOwnProperty(Iv))return!1;this[Iv]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let a of r)this.createProperty(a,t[a])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let a of r)t.unshift(ip(a))}else e!==void 0&&t.push(ip(e));return t}static _$Ep(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Pv(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostConnected)===null||r===void 0?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostDisconnected)===null||r===void 0?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=Ov){var a;let l=this.constructor._$Ep(e,r);if(l!==void 0&&r.reflect===!0){let o=(((a=r.converter)===null||a===void 0?void 0:a.toAttribute)!==void 0?r.converter:Mv).toAttribute(t,r.type);this._$El=e,o==null?this.removeAttribute(l):this.setAttribute(l,o),this._$El=null}}_$AK(e,t){var r;let a=this.constructor,l=a._$Ev.get(e);if(l!==void 0&&this._$El!==l){let o=a.getPropertyOptions(l),c=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:Mv;this._$El=l,this[l]=c.fromAttribute(t,o.type),this._$El=null}}requestUpdate(e,t,r){let a=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||Rk)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):a=!1),!this.isUpdatePending&&a&&(this._$E_=this._$Ej())}_$Ej(){return yi(this,null,function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((a,l)=>this[l]=a),this._$Ei=void 0);let t=!1,r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(a=>{var l;return(l=a.hostUpdate)===null||l===void 0?void 0:l.call(a)}),this.update(r)):this._$Ek()}catch(a){throw t=!1,this._$Ek(),a}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var a;return(a=r.hostUpdated)===null||a===void 0?void 0:a.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,r)=>this._$EO(r,this[r],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};El[Iv]=!0,El.elementProperties=new Map,El.elementStyles=[],El.shadowRootOptions={mode:"open"},Lv==null||Lv({ReactiveElement:El}),(($v=rp.reactiveElementVersions)!==null&&$v!==void 0?$v:rp.reactiveElementVersions=[]).push("1.6.3");});var Dv=Kt(()=>{ld();Rv()});var np=Kt(()=>{ld();Rv()});function qk(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Dk!==void 0?Dk.createHTML(t):t}function Rc(e,t,r=e,a){var l,o,c,n;if(t===Ll)return t;let u=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,p=dd(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,a)),a!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[a]=u:r._$Cl=u),u!==void 0&&(t=Rc(e,u._$AS(e,t.values),u,a)),t}var jv,op,Ic,Dk,Hv,ks,zk,aE,$l,ud,dd,Uk,sE,Nv,cd,jk,Nk,Tl,Bk,Hk,Vk,Wk,no,mX,Ll,ro,Fk,Pl,lE,Fv,cE,zv,ap,uE,dE,hE,pE,fE,Bv,Kk,Xk=Kt(()=>{op=window,Ic=op.trustedTypes,Dk=Ic?Ic.createPolicy("lit-html",{createHTML:e=>e}):void 0,Hv="$lit$",ks=`lit$${(Math.random()+"").slice(9)}$`,zk="?"+ks,aE=`<${zk}>`,$l=document,ud=()=>$l.createComment(""),dd=e=>e===null||typeof e!="object"&&typeof e!="function",Uk=Array.isArray,sE=e=>Uk(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Nv=`[ 	
\f\r]`,cd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,jk=/-->/g,Nk=/>/g,Tl=RegExp(`>|${Nv}(?:([^\\s"'>=/]+)(${Nv}*=${Nv}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Bk=/'/g,Hk=/"/g,Vk=/^(?:script|style|textarea|title)$/i,Wk=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),no=Wk(1),mX=Wk(2),Ll=Symbol.for("lit-noChange"),ro=Symbol.for("lit-nothing"),Fk=new WeakMap,Pl=$l.createTreeWalker($l,129,null,!1);lE=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",c=cd;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===cd?g[1]==="!--"?c=jk:g[1]!==void 0?c=Nk:g[2]!==void 0?(Vk.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=Tl):g[3]!==void 0&&(c=Tl):c===Tl?g[0]===">"?(c=l!=null?l:cd,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?Tl:g[3]==='"'?Hk:Bk):c===Hk||c===Bk?c=Tl:c===jk||c===Nk?c=cd:(c=Tl,l=void 0);let x=c===Tl&&e[n+1].startsWith("/>")?" ":"";o+=c===cd?u+aE:m>=0?(a.push(p),u.slice(0,m)+Hv+u.slice(m)+ks+x):u+ks+(m===-2?(a.push(void 0),n):x)}return[qk(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Fv=class Gk{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=lE(t,r);if(this.el=Gk.createElement(p,a),Pl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=Pl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Hv)||y.startsWith(ks)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+Hv).split(ks),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?uE:k[1]==="?"?hE:k[1]==="@"?pE:ap})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(Vk.test(l.tagName)){let m=l.textContent.split(ks),y=m.length-1;if(y>0){l.textContent=Ic?Ic.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],ud()),Pl.nextNode(),u.push({type:2,index:++o});l.append(m[y],ud())}}}else if(l.nodeType===8)if(l.data===zk)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ks,m+1))!==-1;)u.push({type:7,index:o}),m+=ks.length-1}o++}}static createElement(t,r){let a=$l.createElement("template");return a.innerHTML=t,a}};cE=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:$l).importNode(r,!0);Pl.currentNode=l;let o=Pl.nextNode(),c=0,n=0,u=a[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new zv(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new fE(o,this,e)),this._$AV.push(p),u=a[++n]}c!==(u==null?void 0:u.index)&&(o=Pl.nextNode(),c++)}return Pl.currentNode=$l,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},zv=class Yk{constructor(t,r,a,l){var o;this.type=2,this._$AH=ro,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Rc(this,t,r),dd(t)?t===ro||t==null||t===""?(this._$AH!==ro&&this._$AR(),this._$AH=ro):t!==this._$AH&&t!==Ll&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):sE(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==ro&&dd(this._$AH)?this._$AA.nextSibling.data=t:this.$($l.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Fv.createElement(qk(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let c=new cE(o,this),n=c.u(this.options);c.v(a),this.$(n),this._$AH=c}}_$AC(t){let r=Fk.get(t.strings);return r===void 0&&Fk.set(t.strings,r=new Fv(t)),r}T(t){Uk(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new Yk(this.k(ud()),this.k(ud()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},ap=class{constructor(e,t,r,a,l){this.type=1,this._$AH=ro,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=ro}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=Rc(this,e,t,0),o=!dd(e)||e!==this._$AH&&e!==Ll,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Rc(this,c[r+n],t,n),u===Ll&&(u=this._$AH[n]),o||(o=!dd(u)||u!==this._$AH[n]),u===ro?e=ro:e!==ro&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!a&&this.j(e)}j(e){e===ro?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},uE=class extends ap{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ro?void 0:e}},dE=Ic?Ic.emptyScript:"",hE=class extends ap{constructor(){super(...arguments),this.type=4}j(e){e&&e!==ro?this.element.setAttribute(this.name,dE):this.element.removeAttribute(this.name)}},pE=class extends ap{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Rc(this,e,t,0))!==null&&r!==void 0?r:ro)===Ll)return;let a=this._$AH,l=e===ro&&a!==ro||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==ro&&(a===ro||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},fE=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Rc(this,e)}},Bv=op.litHtmlPolyfillSupport;Bv==null||Bv(Fv,zv),((jv=op.litHtmlVersions)!==null&&jv!==void 0?jv:op.litHtmlVersions=[]).push("2.8.0");Kk=(e,t,r)=>{var a,l;let o=(a=r==null?void 0:r.renderBefore)!==null&&a!==void 0?a:t,c=o._$litPart$;if(c===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=c=new zv(t.insertBefore(ud(),n),n,void 0,r!=null?r:{})}return c._$AI(e),c};});var Dc=Kt(()=>{Xk()});var Uv,Vv,Ta,Wv,Zk=Kt(()=>{np();np();Dc();Dc();Ta=class extends El{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let r=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=r.firstChild),r}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Kk(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Ll}};Ta.finalized=!0,Ta._$litElement$=!0,(Uv=globalThis.litElementHydrateSupport)===null||Uv===void 0||Uv.call(globalThis,{LitElement:Ta});Wv=globalThis.litElementPolyfillSupport;Wv==null||Wv({LitElement:Ta});((Vv=globalThis.litElementVersions)!==null&&Vv!==void 0?Vv:globalThis.litElementVersions=[]).push("3.3.3");});var qv=Kt(()=>{np();Dc();Zk()});var Jk=Kt(()=>{});var Gv=Kt(()=>{Jk()});var Qk=Kt(()=>{Dv();Dc();qv();Gv()});var sp=Kt(()=>{Dv();qv();Gv();Dc();Qk()});function Yv(e,t=300,r=!1){let a=[...e];if(a.length<=t)return e;let l=a.slice(0,t).join(""),o=l.lastIndexOf(" ");return o>=0?r?e:`${l.slice(0,o)}...`:`${a.slice(0,t-2).join("")}..`}function e5(e){let t={};return Object.entries(e).map(r=>{t[r[1]]=r[0]}),t}var hd=Kt(()=>{});var t5=Kt(()=>{});var i5=Kt(()=>{hd()});var r5=Kt(()=>{});function lp(){return location.hostname||location.host}var n5=Kt(()=>{});var o5,gZ,gE,vZ,yZ,Kv=Kt(()=>{Zv();Xv();t5();as();cp();i5();r5();n5();hd();gZ=(o5=lp())!=null&&o5.startsWith("tvnix")?lp().split(".")[0].substr(5).toUpperCase():!1,gE="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",vZ=`identifier ~ '${gE.slice(1).slice(0,-1)}'`,yZ=e5(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"])});var Xv=Kt(()=>{Kv()});var Zv=Kt(()=>{Xv();as()});function pd(e,t=!1){let r;return t&&(r=e.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(r[1])*3600+Number(r[2])*60+Number(r[3])+ +`0.${r[4]}`:(r=e.match(/^(\d+):(\d+):([\d+.]+)$/))?(r=r.map(a=>parseFloat(a)),r[1]*3600+r[2]*60+r[3]):(r=e.match(/^(\d+):([\d+.]+)$/))?(r=r.map(a=>parseFloat(a)),r[1]*60+r[2]):(r=e.match(/^([\d+.]+)$/))?parseFloat(r[1]):!1}var l5,RZ,cp=Kt(()=>{as();hd();Zv();Kv();l5={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},RZ=Object.keys(l5)});var Qv,Ol,bE,wE,xE,Jv,_E,kE,e0,c5,u5=Kt(()=>{as();Pd();cp();hd();Qv=!1,Ol=100,bE=(location==null?void 0:location.host)==="av.dev.archive.org",wE="__ia_thumb.jpg",xE=0,Jv=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",Qv?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(e=>[e,xE++])),_E=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],kE=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],e0=class e{constructor(t,r=!1){this.identifier=t.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;let a={},l={},o={},c={},n={},u={},p={},g={},m=Jv.thumbnail2,y={};t.files.forEach(E=>{let[L]=this.filter(E);if(L){if("original"in L){let s=e.val(L.original);L.name!==s&&(a[L.name]=s)}L.name.endsWith(".png")&&!L.name.endsWith("_spectrogram.png")&&(p[L.name]=1)}}),Yi(a),t.files.forEach(E=>{let[L,s,h]=this.filter(E);if(!L)return;let v=L.name,d=Jv[s],_="original"in L,C=v;if(_){C=e.val(L.original);for(let N=10;N&&C in a;N--)C=a[C];(h==="mp4"||h==="ogv")&&C in t.files&&t.files[C].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),C="{$m2[1]}{$m2[2]}$origSuffix"),C=e.val(C)}else"artist"in L?y[C]=L.artist:"creatorxxx"in L&&(y[C]=L.creatorxxx);if(!(r&&C!==r)){if(C in l||(l[C]={}),"title"in L&&(_&&"title"in l[C]||(l[C].title=L.title)),"height"in L&&(this.heights[v]=L.height),"width"in L&&(this.widths[v]=L.width),"autoplay"in L&&(n[v]=L.autoplay),"length"in L){let N=pd(String(e.val(L.length)));this.durations[v]=N,_&&(g[C]=1),(_||!("length"in l[C])||!(C in g))&&(l[C].length=Math.round(N))}if(d){if(_){if(s==="h.264 720p"){l[C].HD=v;return}}else{let N=L.title;if(s==="h.264 hd"||s==="h.264 mpeg4"&&(N.indexOf("[HD]")>0||N.indexOf(" HD ")>0||N.endsWith(" HD"))){l[C].HD=v;return}if(Qv&&s==="h.264 4k"){l[C]["4K"]=v;return}d>1&&(d+=Ol)}d>1&&(_E.indexOf(s)>=0?(o[C]=1,u[v]=1):c[C]=1),C in l||(l[C]={}),d in l[C]?s==="thumbnail"&&m in l[C]&&(l[C][m]=v):(l[C][d]=v,d<Ol&&d+Ol in l[C]?delete l[C][d+Ol]:d>Ol&&d-Ol in l[C]&&delete l[C][d-Ol])}}}),Yi(l),this.haxLP&&(delete l[`${this.identifier}.flac`],delete l[`${this.identifier}.ogg`],delete l[`${this.identifier}.mp3`],delete l[`${this.identifier}.m4a`]);let x=Object.keys(o).length,w=Object.keys(c).length;w>0&&(w>=x||t.metadata.mediatype==="movies")?this.showing="movies":this.showing=x?"audio":!1;let k=Object.values(y);(k.length<=1||[...new Set(k)].length<=1)&&(y={});let S=this.showing==="movies"?c:o,P=this.showing==="movies"?w:x;for(let[E,L]of Object.entries(l)){if(!(E in S))continue;let s={SRC:[]};if(0 in L)s.POSTER=L[0];else if(1 in L)s.POSTER=L[1];else for(let[h,v]of Object.entries(L))if(parseInt(h,10)){let d=v.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");d!==v&&d in p&&(s.POSTER=d)}E in n&&(s.AUTOPLAY=!1);for(let[h,v]of Object.entries(L))if(parseInt(h,10)&&h>1){if(this.showing==="movies"&&u[v]||this.showing!=="movies"&&!u[v])continue;s.SRC.push(v)}s.SRC.length&&(s.TITLE="title"in L?e.val(L.title):E.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),s.ORIG=E,E in y&&(s.ARTIST=y[E]),"length"in L?s.length=L.length:s.length=this.runtime(t,P,E),"HD"in L&&(s.HD=L.HD),Qv&&"4K"in L&&(s["4K"]=L["4K"]),this.groups.push(s))}if(this.captions(),bE&&Yi("player",this),this.showing==="audio")for(let E of this.groups){let L=!1,s=!1;for(let[h,v]of Object.entries(E.SRC))v.endsWith("_sample.mp3")?L=h:v.endsWith(".mp3")&&(s=!0);s&&L!==!1&&E.SRC.splice(L,1)}}static val(t){return typeof t=="object"?t.length?t[0]:"":t}filter(t){let r=t.name,a=r.substr(1+r.lastIndexOf(".")).toLowerCase(),l=t.format.toLowerCase();if(kE.includes(l)||r===wE)return[];if(a==="mp3"&&(t.original===`${this.identifier}_segments.json`||t.original===`${this.identifier}_segments.xml`)&&(this.haxLP=!0,delete t.original,t.source="original"),typeof t.original=="string"&&t.original.endsWith(".torrent")&&(delete t.original,t.source="original"),a==="vtt")return this.vtts[r]=1,[];if(a==="srt")return this.srts[r]=1,[];let o=Jv[l];return a==="mp3"&&!o?[t,"64kbps mp3",a]:[t,l,a]}jwplaylist(t,r=!1,a=[]){let l=[],o=`https://archive.org/download/${this.identifier}/`,c=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?ea("jest")?c=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:c=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(c=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),c.push("video/x-flv");let n=0;c=Object.fromEntries(c.map(u=>[u,n++]));for(let u of Object.values(this.groups)){let p={sources:[],title:Yv(u.TITLE,100,!0)};"ORIG"in u&&(p.orig=u.ORIG,"ARTIST"in u&&(p.artist=u.ARTIST)),"AUTOPLAY"in u&&(p.autoplay=u.AUTOPLAY);let g=ea("poster");g?p.image=this.url(g.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in u||this.showing==="audio"&&"POSTER"in u)&&(p.image=this.url(o+u.POSTER),a.length||a.push(this.url(o+u.POSTER))),"length"in u&&(p.duration=u.length),"HD"in u&&u.SRC.push(u.HD);let m={};for(let y of u.SRC){let x=((y.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(y.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(y.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(r&&(x==="ogg"||x==="ogv"))continue;let w="",k=[640,480];switch(x){case"mp3":w="mp3";break;case"ogg":w="ogg";break;case"m4a":w="aac";break;case"ogv":w="ogg",k=[400,300];break;case"mp4":w="mp4";break;case"mpeg4":w="mp4";break;case"m4v":w="mp4";break;case"mov":w="mp4";break;case"flv":w="video/x-flv";break;case"swf":w="video/x-flv";break;default:w=""}let S=y in this.widths?this.widths[y]:k[0],P=y in this.heights?this.heights[y]:k[1],E={file:this.url(o+y),width:S,height:P};w!==""&&(E.type=w),this.showing==="movies"&&(E.label=`${P}p${P>=720?" HD":""}`),!(w&&parseInt(P,10)===parseInt(m[w],10))&&(m[w]=P,p.sources.push(E),this.showing==="movies"&&"image"in p&&(p.tracks=[{kind:"thumbnails",file:`${p.image.replace("/download/","/stream/").replace("%2F","/")}?vtt=vtt.vtt`}]),y in this.durations&&(p.duration=Math.max(p.duration,this.durations[y])))}Yi(t.tv),l.push(p)}return l}runtime(t,r,a){return this.xxx=`implement runtime() ${r?typeof t:typeof a}`,-1}captions(){this.xxx="implement captions()"}url(t){return this.xxx="sort me out ",t}},c5=e0});var AE,d5,h5=Kt(()=>{AE=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,d5=AE});var p5=Kt(()=>{});function SE(e,t=""){return yi(this,null,function*(){let a=typeof window!="undefined"&&window.navigator.onLine===!1?`${location.origin}/json/${e}.json`:`https://archive.org/metadata/${e}${t?`/${t}`:""}`;return(yield fetch(a)).json()})}var f5,m5=Kt(()=>{p5();f5=SE});var g5=Kt(()=>{sp();Cv();customElements.define("background-play",class extends Ta{constructor(){super(),this.toggle=!Xa.get("nohls")}static get properties(){return{toggle:Boolean}}click_on(){this.toggle=!0,Xa.remove("nohls",{path:"/details"})}click_off(){this.toggle=!1,Xa.set("nohls",1,{path:"/details",expires:30})}render(){let t="jw-settings-item-active";return no`
      <div class="jw-reset jw-settings-submenu-items">
        <button type="button"
          aria-checked="${this.toggle}"
          class="jw-reset-text jw-settings-content-item ${this.toggle?t:""}"
          role="menuitemradio" dir="auto"
          aria-label="Background Play ON"
          @click=${this.click_on}
          >Background Play ON</button>
        <button type="button"
          aria-checked="${!this.toggle}"
          class="jw-reset-text jw-settings-content-item ${this.toggle?"":t}"
          role="menuitemradio" dir="auto"
          aria-label="Background Play OFF"
          @click=${this.click_off}
          >Background Play OFF</button>
        <div class="jw-reset-text jw-settings-content-item">
          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.
        </div>
      </div>`}createRenderRoot(){return this}})});var v5,t0,Ml,As,Pa,ha,y5,b5,w5=Kt(()=>{_i();Fr();_i();Fr();_i();Fr();v5=function(e,t,r,a){var l=arguments.length,o=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,a);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},t0=class extends mi{constructor(){super(...arguments),this.seconds=0}render(){return Ke`
      ${this.durationString}
    `}get durationString(){if(typeof this.seconds!="number")return"";let e=Math.floor(this.seconds/3600),t=Math.floor(this.seconds/60)%60,r=Math.floor(this.seconds%60),a=e>0?`${e}`:void 0,l=e>0&&t<10?`0${t}`:`${t}`,o=r<10?`0${r}`:`${r}`,c=`${l}:${o}`;return c=a?`${a}:${c}`:c,c}};v5([Qt({type:Number})],t0.prototype,"seconds",void 0);t0=v5([ur("duration-formatter")],t0);Ml=function(e,t,r,a){var l=arguments.length,o=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,a);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},As=class extends mi{constructor(){super(...arguments),this.entry=void 0,this.isActive=!1,this.isSelected=!1,this.isClickable=!1,this.isSearchResult=!1,this.isMusicEntry=!1}render(){return Ke`
      ${this.entry?this.entry.displayText:""}
    `}};Ml([Qt({type:Object})],As.prototype,"entry",void 0);Ml([Qt({type:Boolean,reflect:!0})],As.prototype,"isActive",void 0);Ml([Qt({type:Boolean,reflect:!0})],As.prototype,"isSelected",void 0);Ml([Qt({type:Boolean,reflect:!0})],As.prototype,"isClickable",void 0);Ml([Qt({type:Boolean,reflect:!0})],As.prototype,"isSearchResult",void 0);Ml([Qt({type:Boolean,reflect:!0})],As.prototype,"isMusicEntry",void 0);As=Ml([ur("transcript-entry")],As);Pa=function(e,t,r,a){var l=arguments.length,o=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,a);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},ha=class extends mi{constructor(){super(...arguments),this.config=void 0,this.currentTime=0,this.topContextHeight=50,this.bottomContextHeight=50,this.autoScroll=!0,this.selectedSearchResultIndex=0,this.showContextZones=!1,this.timeScrollTop=0,this.currentEntries=[],this.scrollTimerDelay=15e3,this.scrollResumeTimerId=-1}render(){return Ke`
      <div class="container">
        ${this.showContextZones?this.contextZoneDevTemplates:""}

        <div
          class="scroll-container"
          id="scroll-container"
          @wheel=${this.didScroll}
          @touchmove=${this.didScroll}
        >
          <div class="col time">
            ${this.timeDisplayTemplate}
          </div>

          <div class="col">
            ${this.autoScrollButtonTemplate}
            ${this.transcriptEntries.map(e=>this.transcriptEntryTemplate(e))}
          </div>
        </div>
      </div>
    `}scrollToSelectedSearchResult(){let{selectedSearchResult:e}=this;e&&(this.autoScroll=!1,this.scrollToElement(e))}get autoScrollButtonTemplate(){return Ke`
      <button
        @click=${this.enableAutoScroll}
        class="auto-scroll-button ${this.autoScroll?"hidden":""}"
      >
        Scroll text with audio
      </button>
    `}get timeDisplayTemplate(){return Ke`
      <div class="time-display" style="top: ${this.timeScrollTop}px">
        <duration-formatter .seconds=${this.currentTime}> </duration-formatter>
      </div>
    `}transcriptEntryTemplate(e){let t=this.currentEntries.find(o=>o.id===e.id)!==void 0,r=e.searchMatchIndex===this.selectedSearchResultIndex,a=e.searchMatchIndex!==void 0,l=e.isMusic;return Ke`
      <transcript-entry
        .entry=${e}
        ?isSelected=${r}
        ?isActive=${t}
        ?isSearchResult=${a}
        ?isMusicEntry=${l}
        ?isClickable=${!0}
        .data-search-result-index=${e.searchMatchIndex}
        data-identifier=${e.id}
        @click=${this.transcriptEntrySelected}
      >
      </transcript-entry>
    `}get contextZoneDevTemplates(){return Ke`
      ${this.topContextZoneDevTemplate} ${this.bottomContextZoneDevTemplate}
    `}get topContextZoneDevTemplate(){return Ke`
      <div class="top context-overlay" style="height: ${this.topContextHeight}px"></div>
    `}get bottomContextZoneDevTemplate(){return Ke`
      <div class="bottom context-overlay" style="height: ${this.bottomContextHeight}px"></div>
    `}get transcriptEntries(){return this.config?this.config.entries:[]}static get styles(){let e=pt`var(--transcriptHeight, 200px)`,t=pt`var(--timeFontSize, 1em)`,r=pt`var(--timeLineHeight, 1em)`,a=pt`var(--timeColor, white)`,l=pt`var(--timeColumnWidth, 3rem)`,o=pt`var(--timeDisplay, block)`,c=pt`var(--autoScrollButtonFontColor, black)`,n=pt`var(--autoScrollButtonBackgroundColor, white)`,u=pt`var(--autoScrollButtonWidth, 12rem)`,p=pt`var(--autoScrollButtonFontSize, 1em)`,g=pt`var(--transcriptNormalTextColor, gray)`,m=pt`var(--transcriptActiveTextColor, white)`,y=pt`var(--transcriptHoverTextColor, silver)`,x=pt`var(--transcriptMusicNormalTextColor, gray)`,w=pt`var(--transcriptMusicActiveTextColor, white)`,k=pt`var(--transcriptMusicActiveTextColor, silver)`,S=pt`var(--transcriptSearchResultInactiveBorderColor, gray)`,P=pt`var(--transcriptSearchResultActiveBorderColor, green)`;return pt`
      :host {
        color: ${g};
      }

      .container {
        position: relative;
      }

      .auto-scroll-button.hidden {
        display: none;
      }

      .auto-scroll-button {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 1rem;
        margin: auto;
        width: ${u};
        border-radius: 1em;
        border: 0;
        display: inline-block;
        color: ${c};
        background-color: ${n};
        font-size: ${p};
        z-index: 10;
      }

      .context-overlay {
        position: absolute;
        left: 0;
        width: 100%;
        height: 0;
        z-index: -1;
      }

      .context-overlay.top {
        top: 0;
        border-bottom: 1px solid green;
      }

      .context-overlay.bottom {
        bottom: 0;
        border-top: 1px solid green;
      }

      .time {
        display: ${o};
        flex: 0 0 ${l};
        color: ${a};
        position: relative;
      }

      .time-display {
        position: absolute;
        top: 0;
        font-size: ${t};
        line-height: ${r};
        transition: top 1s;
      }

      .scroll-container {
        display: flex;
        overflow-y: auto;
        -ms-overflow-style: none;
        scrollbar-width: none;
        height: ${e};
      }

      .scroll-container::-webkit-scrollbar {
        display: none;
      }

      transcript-entry {
        cursor: pointer;
      }

      transcript-entry:hover {
        color: ${y};
      }

      transcript-entry[ismusicentry] {
        color: ${x};
        display: block;
        font-style: italic;
      }

      transcript-entry[ismusicentry]:hover {
        color: ${k};
      }

      transcript-entry[ismusicentry][isactive] {
        color: ${w};
      }

      transcript-entry[isactive] {
        color: ${m};
      }

      transcript-entry[issearchresult] {
        display: inline-block; /* without this, the outline adds an extra space to the right of the text */
        padding: 0 5px;
        position: relative;
      }

      transcript-entry[issearchresult]:after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 2px solid ${S};
        border-radius: 5px;
      }

      transcript-entry[issearchresult][isselected]:after {
        border: 2px solid ${P};
      }
    `}transcriptEntrySelected(e){let{entry:t}=e.target;if(!t)return;let r=new CustomEvent("transcriptEntrySelected",{detail:{entry:t}});this.dispatchEvent(r),t.searchMatchIndex!==void 0&&(this.selectedSearchResultIndex=t.searchMatchIndex),this.autoScroll=!1}handleCurrentTimeChange(){let e=this.transcriptEntries;if(e.length===0)return;let t=e.filter(r=>this.currentTime>=r.start&&this.currentTime<=r.end);this.entryArraysMatch(t,this.currentEntries)||(this.dispatchEvent(new Event("currentEntriesUpdated")),this.currentEntries=t)}entryArraysMatch(e,t){if(e.length!==t.length)return!1;let r=e.map(o=>o.id).sort(),a=t.map(o=>o.id).sort(),l=!0;return r.forEach((o,c)=>{a[c]!==o&&(l=!1)}),!!l}entryIdentifierClosestToTime(e){if(this.transcriptEntries.length===0)return null;let t=this.transcriptEntries[0],r=Math.abs(e-t.start),a=t.id;return this.transcriptEntries.forEach(l=>{let o=Math.abs(e-l.start);o<r&&(r=o,a=l.id)}),a}elementClosestToTime(e){let t=this.entryIdentifierClosestToTime(e);return t?this.elementForIdentifier(t):null}elementForIdentifier(e){return this.shadowRoot&&this.shadowRoot.querySelector(`transcript-entry[data-identifier="${e}"]`)}didScroll(){this.autoScroll=!1,window.clearTimeout(this.scrollResumeTimerId),this.scrollResumeTimerId=window.setTimeout(()=>{this.autoScroll=!0},this.scrollTimerDelay)}enableAutoScroll(){this.autoScroll=!0,this.scrollToClosestEntry()}updated(e){e.has("currentTime")&&this.handleCurrentTimeChange(),e.has("selectedSearchResultIndex")&&this.scrollToSelectedSearchResult(),e.has("currentEntries")&&(this.scrollToClosestEntry(),this.updateTimePosition()),e.has("autoScroll")&&this.handleAutoScrollChange(),e.has("config")&&(this.selectedSearchResultIndex=0,this.scrollToSelectedSearchResult())}get scrollView(){return this.shadowRoot&&this.shadowRoot.getElementById("scroll-container")}get activeTranscriptEntry(){return this.shadowRoot&&this.shadowRoot.querySelector("transcript-entry[isActive]")}get selectedSearchResult(){return this.shadowRoot&&this.shadowRoot.querySelector(`transcript-entry[data-search-result-index="${this.selectedSearchResultIndex}"]`)}get closestEntryToCurrentTime(){return this.activeTranscriptEntry||this.elementClosestToTime(this.currentTime)}handleAutoScrollChange(){let e=new CustomEvent("autoScrollChanged",{detail:{autoScroll:this.autoScroll}});this.dispatchEvent(e)}scrollToClosestEntry(){if(!this.autoScroll)return;let e=this.closestEntryToCurrentTime;e&&this.scrollToElement(e)}scrollToElement(e){let{scrollView:t}=this;if(!t)return;let r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),l=r.height,{topContextHeight:o}=this,{bottomContextHeight:c}=this,n=l-c;if(a.bottom>r.top+n||a.top<r.top){let u=a.top-r.top+t.scrollTop-o;this.scrollToOffsetWithDuration(u,1)}}updateTimePosition(){let e=this.closestEntryToCurrentTime;if(!e)return;let t=e.parentNode.getBoundingClientRect(),r=e.getBoundingClientRect().top-t.top;this.timeScrollTop=r}scrollToOffsetWithDuration(e,t,r){let{scrollView:a}=this;if(!a)return;let l=a.scrollTop,o=e-l,c=performance.now(),n,u,p;function g(y){return y<.5?2*y*y:-1+(4-2*y)*y}function m(){a&&(n=performance.now(),u=(n-c)/1e3,p=u/t,a.scrollTop=l+o*g(p),p<1?window.requestAnimationFrame(m):r&&r())}m()}};Pa([Qt({type:Object})],ha.prototype,"config",void 0);Pa([Qt({type:Number})],ha.prototype,"currentTime",void 0);Pa([Qt({type:Number})],ha.prototype,"topContextHeight",void 0);Pa([Qt({type:Number})],ha.prototype,"bottomContextHeight",void 0);Pa([Qt({type:Boolean})],ha.prototype,"autoScroll",void 0);Pa([Qt({type:Number})],ha.prototype,"selectedSearchResultIndex",void 0);Pa([Qt({type:Boolean})],ha.prototype,"showContextZones",void 0);Pa([$n()],ha.prototype,"timeScrollTop",void 0);Pa([$n()],ha.prototype,"currentEntries",void 0);ha=Pa([ur("transcript-view")],ha);y5=class{constructor(e){this.entries=[],this.entries=e}get searchResults(){return this.entries.filter(e=>e.searchMatchIndex!==void 0)}},b5=class{constructor(e,t,r,a,l,o){this.id=e,this.start=t,this.end=r,this.rawText=a,this.isMusic=l,this.searchMatchIndex=o}get displayText(){return this.isMusic?"[Transcript unavailable]":this.rawText}}});var x5=Kt(()=>{_i();Fr();w5()});var _5=Kt(()=>{sp();x5();cp();as();customElements.define("transcript-viewer",class extends Ta{static get properties(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}render(){return this.tracks_with_captions?no`
    <div class="${this.transcriptConfig?"":"dimmed"}">
      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px">⇳</div>
        <button type="button" @click="${this.transcript_toggled}"
          class="${this.bgTheme==="light"?"light":""}">

        <div>
          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>
        </div>
        <div>
          ${this.kind}
        </div>
        <div style="display:none; ${this.is_open?"margin-top:-12px":""}">${this.is_open?"\uFE3F":"\uFE40"}</div>

        <div>
          ${this.is_open?no`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>`:no`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>`}
        </div>
      </button>

      <div class="transcript-view-wrap  ${this.transcriptConfig&&this.is_open?"":"not-showing"}">
        <transcript-view
          .config=${this.transcriptConfig}
          .currentTime=${this.currentTime}
          @transcriptEntrySelected=${this.transcriptEntrySelected}
        ></transcript-view>
      </div>
    </div>
    `:no``}transcript_toggled(){this.transcriptConfig&&(this.is_open=!this.is_open,this.is_open&&globalThis.archive_analytics&&globalThis.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}static get styles(){return sd`
:host {
  --timeColumnWidth: 4.5rem;
  --transcriptHeight: ${so(185)}px;
}
:host > div {
  padding: 3px 5px;
  margin: 4px 4px 0 8px;
}
.caret-up-svg, .caret-down-svg {
  width: 25px;
  display: inline-block;
}
.transcript-svg {
  width: 14px;
  display: inline-block;
  margin-top: 6px;
}

transcript-view {
  display: block;
  padding: ${so(5)}px 10px;
  background-color: #000000cc !important;
  border: ${so(1)}px solid #ffffff33;
  border-radius: 5px;
  box-sizing: border-box;
}
.transcript-view-wrap {
  height: ${so(185+2*1+2*5)}px;
  overflow-y: hidden;
  transition: height 0.5s ease;
}
.not-showing {
  height: 0px;
}
.dimmed {
  opacity: 0.4;
}
button {
  background: none;
  color: inherit;
  border: none;
  padding: 0;
  font: inherit;
  cursor: pointer;
  outline: inherit;
}
button div {
  display: inline-block;
  vertical-align: top;
  margin-left: 5px;
  color: white;
}
button svg {
  fill: white;
}
button.light, button.light div {
  color: black;
}
button.light svg {
  fill: black;
}
.dimmed button {
  cursor: default;
}
    `}updated(e){if(Yi("<transcript-viewer> updated()",e),e.has("trackno")&&this.update_transcript_view(),!this.tracking_time){let t=document.querySelector("video");t&&(this.tracking_time=!0,t.addEventListener("timeupdate",()=>{var a;this.currentTime=t.currentTime;let r=(a=this.shadowRoot)==null?void 0:a.querySelector("transcript-view");if(r&&(r.currentTime=this.currentTime,!this.transcript_view_tweaked)){let l=r.shadowRoot.querySelectorAll("transcript-entry");if(l.length){if(this.transcript_view_tweaked=!0,this.kind==="Lyrics (AI)"){let c=()=>l.forEach(n=>n.style.display="block");c(),setTimeout(c,1e3)}let o=r.shadowRoot.querySelector(".col.time");o&&(o.style.top="3px")}}}))}}transcriptEntrySelected(e){let r=(e.detail||{}).entry||{};if(!r.start)return;let a=r.start;this.currentTime=a;let l=document.querySelector("video");Yi({player:l}),l&&(l.currentTime=this.currentTime,l.play())}update_transcript_view(){return yi(this,null,function*(){delete this.transcript_view_tweaked;let e=this.captions[this.trackno];if(!e){this.transcriptConfig=null;return}if(!this.transcriptConfigCache[this.trackno]){let t=e.replace(/^\/download\//,"https://archive.org/cors/");Yi({srtUrl:t});let a=yield(yield fetch(t)).text(),l=[],o=0;for(let n of a.split(`

`)){o+=1;let[,u,p,g]=n.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""];p&&l.push({id:o,start:pd(u,!0),end:pd(p,!0),text:g,is_music:!1})}Yi({json:l});let c=l.map(n=>new b5(n.id,n.start,n.end,n.text,n.is_music,n.search_match_index));this.transcriptConfigCache[this.trackno]=new y5(c)}this.transcriptConfig=this.transcriptConfigCache[this.trackno]})}firstUpdated(){var t,r;Yi("<transcript-viewer> firstUpdated()"),this.currentTime=0;let e="Lyrics";this.kind=e,this.captions=[],this.transcriptConfigCache=[];for(let[a,l]of Object.entries(JSON.parse(this.playlist))){if(!l.tracks)continue;let o={};for(let c of l.tracks)c.kind==="subtitles"&&((t=c.file)!=null&&t.endsWith(".srt"))&&(o[(r=c.label)!=null?r:"none"]=c.file);this.captions[a]=o.align||o.cc5||o.en||o.asr||o.none,(this.captions[a]===o.align||this.captions[a]===o.asr)&&(this.kind=`${e} (AI)`)}Yi(this.captions),this.tracks_with_captions=Object.values(this.captions).length}})});var up,k5,CE,EE,A5,Il,i0=Kt(()=>{up=function(e,t){return e<t?-1:e>t?1:0},k5=function(e){return e.reduce(function(t,r){return t+r},0)},CE=function(){function e(r){this.colors=r}var t=e.prototype;return t.palette=function(){return this.colors},t.map=function(r){return r},e}(),EE=function(){function e(o,c,n){return(o<<10)+(c<<5)+n}function t(o){var c=[],n=!1;function u(){c.sort(o),n=!0}return{push:function(p){c.push(p),n=!1},peek:function(p){return n||u(),p===void 0&&(p=c.length-1),c[p]},pop:function(){return n||u(),c.pop()},size:function(){return c.length},map:function(p){return c.map(p)},debug:function(){return n||u(),c}}}function r(o,c,n,u,p,g,m){var y=this;y.r1=o,y.r2=c,y.g1=n,y.g2=u,y.b1=p,y.b2=g,y.histo=m}function a(){this.vboxes=new t(function(o,c){return up(o.vbox.count()*o.vbox.volume(),c.vbox.count()*c.vbox.volume())})}function l(o,c){if(c.count()){var n=c.r2-c.r1+1,u=c.g2-c.g1+1,p=Math.max.apply(null,[n,u,c.b2-c.b1+1]);if(c.count()==1)return[c.copy()];var g,m,y,x,w=0,k=[],S=[];if(p==n)for(g=c.r1;g<=c.r2;g++){for(x=0,m=c.g1;m<=c.g2;m++)for(y=c.b1;y<=c.b2;y++)x+=o[e(g,m,y)]||0;k[g]=w+=x}else if(p==u)for(g=c.g1;g<=c.g2;g++){for(x=0,m=c.r1;m<=c.r2;m++)for(y=c.b1;y<=c.b2;y++)x+=o[e(m,g,y)]||0;k[g]=w+=x}else for(g=c.b1;g<=c.b2;g++){for(x=0,m=c.r1;m<=c.r2;m++)for(y=c.g1;y<=c.g2;y++)x+=o[e(m,y,g)]||0;k[g]=w+=x}return k.forEach(function(P,E){S[E]=w-P}),function(P){var E,L,s,h,v,d=P+"1",_=P+"2",C=0;for(g=c[d];g<=c[_];g++)if(k[g]>w/2){for(s=c.copy(),h=c.copy(),v=(E=g-c[d])<=(L=c[_]-g)?Math.min(c[_]-1,~~(g+L/2)):Math.max(c[d],~~(g-1-E/2));!k[v];)v++;for(C=S[v];!C&&k[v-1];)C=S[--v];return s[_]=v,h[d]=s[_]+1,[s,h]}}(p==n?"r":p==u?"g":"b")}}return r.prototype={volume:function(o){var c=this;return c._volume&&!o||(c._volume=(c.r2-c.r1+1)*(c.g2-c.g1+1)*(c.b2-c.b1+1)),c._volume},count:function(o){var c=this,n=c.histo;if(!c._count_set||o){var u,p,g,m=0;for(u=c.r1;u<=c.r2;u++)for(p=c.g1;p<=c.g2;p++)for(g=c.b1;g<=c.b2;g++)m+=n[e(u,p,g)]||0;c._count=m,c._count_set=!0}return c._count},copy:function(){var o=this;return new r(o.r1,o.r2,o.g1,o.g2,o.b1,o.b2,o.histo)},avg:function(o){var c=this,n=c.histo;if(!c._avg||o){var u,p,g,m,y=0,x=0,w=0,k=0;if(c.r1===c.r2&&c.g1===c.g2&&c.b1===c.b2)c._avg=[c.r1<<3,c.g1<<3,c.b1<<3];else{for(p=c.r1;p<=c.r2;p++)for(g=c.g1;g<=c.g2;g++)for(m=c.b1;m<=c.b2;m++)y+=u=n[e(p,g,m)]||0,x+=u*(p+.5)*8,w+=u*(g+.5)*8,k+=u*(m+.5)*8;c._avg=y?[~~(x/y),~~(w/y),~~(k/y)]:[~~(8*(c.r1+c.r2+1)/2),~~(8*(c.g1+c.g2+1)/2),~~(8*(c.b1+c.b2+1)/2)]}}return c._avg},contains:function(o){var c=this,n=o[0]>>3;return gval=o[1]>>3,bval=o[2]>>3,n>=c.r1&&n<=c.r2&&gval>=c.g1&&gval<=c.g2&&bval>=c.b1&&bval<=c.b2}},a.prototype={push:function(o){this.vboxes.push({vbox:o,color:o.avg()})},palette:function(){return this.vboxes.map(function(o){return o.color})},size:function(){return this.vboxes.size()},map:function(o){for(var c=this.vboxes,n=0;n<c.size();n++)if(c.peek(n).vbox.contains(o))return c.peek(n).color;return this.nearest(o)},nearest:function(o){for(var c,n,u,p=this.vboxes,g=0;g<p.size();g++)((n=Math.sqrt(Math.pow(o[0]-p.peek(g).color[0],2)+Math.pow(o[1]-p.peek(g).color[1],2)+Math.pow(o[2]-p.peek(g).color[2],2)))<c||c===void 0)&&(c=n,u=p.peek(g).color);return u},forcebw:function(){var o=this.vboxes;o.sort(function(p,g){return up(k5(p.color),k5(g.color))});var c=o[0].color;c[0]<5&&c[1]<5&&c[2]<5&&(o[0].color=[0,0,0]);var n=o.length-1,u=o[n].color;u[0]>251&&u[1]>251&&u[2]>251&&(o[n].color=[255,255,255])}},{quantize:function(o,c){if(!Number.isInteger(c)||c<1||c>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!o.length||c<2||c>256||!o.length||c<2||c>256)return!1;for(var n=[],u=new Set,p=0;p<o.length;p++){var g=o[p],m=g.join(",");u.has(m)||(u.add(m),n.push(g))}if(n.length<=c)return new CE(n);var y=function(E){var L,s=new Array(32768);return E.forEach(function(h){L=e(h[0]>>3,h[1]>>3,h[2]>>3),s[L]=(s[L]||0)+1}),s}(o);y.forEach(function(){});var x=function(E,L){var s,h,v,d=1e6,_=0,C=1e6,N=0,G=1e6,q=0;return E.forEach(function(K){(s=K[0]>>3)<d?d=s:s>_&&(_=s),(h=K[1]>>3)<C?C=h:h>N&&(N=h),(v=K[2]>>3)<G?G=v:v>q&&(q=v)}),new r(d,_,C,N,G,q,L)}(o,y),w=new t(function(E,L){return up(E.count(),L.count())});function k(E,L){for(var s,h=E.size(),v=0;v<1e3;){if(h>=L||v++>1e3)return;if((s=E.pop()).count()){var d=l(y,s),_=d[0],C=d[1];if(!_)return;E.push(_),C&&(E.push(C),h++)}else E.push(s),v++}}w.push(x),k(w,.75*c);for(var S=new t(function(E,L){return up(E.count()*E.volume(),L.count()*L.volume())});w.size();)S.push(w.pop());k(S,c);for(var P=new a;S.size();)P.push(S.pop());return P}}}().quantize,A5=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)};A5.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};Il=function(){};Il.prototype.getColor=function(e,t){return t===void 0&&(t=10),this.getPalette(e,5,t)[0]},Il.prototype.getPalette=function(e,t,r){var a=function(n){var u=n.colorCount,p=n.quality;if(u!==void 0&&Number.isInteger(u)){if(u===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");u=Math.max(u,2),u=Math.min(u,20)}else u=10;return(p===void 0||!Number.isInteger(p)||p<1)&&(p=10),{colorCount:u,quality:p}}({colorCount:t,quality:r}),l=new A5(e),o=function(n,u,p){for(var g,m,y,x,w,k=n,S=[],P=0;P<u;P+=p)m=k[0+(g=4*P)],y=k[g+1],x=k[g+2],((w=k[g+3])===void 0||w>=125)&&(m>250&&y>250&&x>250||S.push([m,y,x]));return S}(l.getImageData().data,l.width*l.height,a.quality),c=EE(o,a.colorCount);return c?c.palette():null},Il.prototype.getColorFromUrl=function(e,t,r){var a=this,l=document.createElement("img");l.addEventListener("load",function(){var o=a.getPalette(l,5,r);t(o[0],e)}),l.src=e},Il.prototype.getImageData=function(e,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(this.status==200){var a=new Uint8Array(this.response);i=a.length;for(var l=new Array(i),o=0;o<a.length;o++)l[o]=String.fromCharCode(a[o]);var c=l.join(""),n=window.btoa(c);t("data:image/png;base64,"+n)}},r.send()},Il.prototype.getColorAsync=function(e,t,r){var a=this;this.getImageData(e,function(l){var o=document.createElement("img");o.addEventListener("load",function(){var c=a.getPalette(o,5,r);t(c[0],this)}),o.src=l})}});var S5={};Dn(S5,{default:()=>Il});var C5=Kt(()=>{i0();i0()});var Rl,r0=Kt(()=>{Rl={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var n0=Kt(()=>{r0();r0()});function TE(e,t){return Pn(e[0]-t[0],2)+Pn(e[1]-t[1],2)+Pn(e[2]-t[2],2)}function PE(){let e={},t=Object.keys(Dl);for(let{length:r}=t,a=0;a<r;a++)e[t[a]]={distance:-1,parent:null};return e}function $E(e){let t=PE(),r=[e];for(t[e].distance=0;r.length>0;){let a=r.pop(),l=Object.keys(Dl[a]);for(let{length:o}=l,c=0;c<o;c++){let n=l[c],u=t[n];u.distance===-1&&(u.distance=t[a].distance+1,u.parent=a,r.unshift(n))}}return t}function LE(e,t){return function(r){return t(e(r))}}function OE(e,t){let r=[t[e].parent,e],a=Dl[t[e].parent][e],l=t[e].parent;for(;t[l].parent;)r.unshift(t[l].parent),a=LE(Dl[t[l].parent][l],a),l=t[l].parent;return a.conversion=r,a}function ME(e){let t=$E(e),r={},a=Object.keys(t);for(let{length:l}=a,o=0;o<l;o++){let c=a[o];t[c].parent!==null&&(r[c]=OE(c,t))}return r}function DE(e){let t=function(...r){let a=r[0];return a==null?a:(a.length>1&&(r=a),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function jE(e){let t=function(...r){let a=r[0];if(a==null)return a;a.length>1&&(r=a);let l=e(r);if(typeof l=="object")for(let{length:o}=l,c=0;c<o;c++)l[c]=Math.round(l[c]);return l};return"conversion"in e&&(t.conversion=e.conversion),t}var E5,Ar,Dl,Za,IE,jc,RE,T5,o0=Kt(()=>{n0();E5={};for(let e of Object.keys(Rl))E5[Rl[e]]=e;Ar={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Dl=Ar,Za=Pn(6/29,3);for(let e of Object.keys(Ar)){if(!("channels"in Ar[e]))throw new Error("missing channels property: "+e);if(!("labels"in Ar[e]))throw new Error("missing channel labels property: "+e);if(Ar[e].labels.length!==Ar[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=Ar[e];delete Ar[e].channels,delete Ar[e].labels,Object.defineProperty(Ar[e],"channels",{value:t}),Object.defineProperty(Ar[e],"labels",{value:r})}Ar.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,a=e[2]/255,l=Math.min(t,r,a),o=Math.max(t,r,a),c=o-l,n,u;switch(o){case l:{n=0;break}case t:{n=(r-a)/c;break}case r:{n=2+(a-t)/c;break}case a:{n=4+(t-r)/c;break}}n=Math.min(n*60,360),n<0&&(n+=360);let p=(l+o)/2;return o===l?u=0:p<=.5?u=c/(o+l):u=c/(2-o-l),[n,u*100,p*100]};Ar.rgb.hsv=function(e){let t,r,a,l,o,c=e[0]/255,n=e[1]/255,u=e[2]/255,p=Math.max(c,n,u),g=p-Math.min(c,n,u),m=function(y){return(p-y)/6/g+1/2};if(g===0)l=0,o=0;else{switch(o=g/p,t=m(c),r=m(n),a=m(u),p){case c:{l=a-r;break}case n:{l=1/3+t-a;break}case u:{l=2/3+r-t;break}}l<0?l+=1:l>1&&(l-=1)}return[l*360,o*100,p*100]};Ar.rgb.hwb=function(e){let t=e[0],r=e[1],a=e[2],l=Ar.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,a));return a=1-1/255*Math.max(t,Math.max(r,a)),[l,o*100,a*100]};Ar.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,a=e[2]/255,l=Math.min(1-t,1-r,1-a),o=(1-t-l)/(1-l)||0,c=(1-r-l)/(1-l)||0,n=(1-a-l)/(1-l)||0;return[o*100,c*100,n*100,l*100]};Ar.rgb.keyword=function(e){let t=E5[e];if(t)return t;let r=Number.POSITIVE_INFINITY,a;for(let l of Object.keys(Rl)){let o=Rl[l],c=TE(e,o);c<r&&(r=c,a=l)}return a};Ar.keyword.rgb=function(e){return Rl[e]};Ar.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,a=e[2]/255;t=t>.04045?Pn((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Pn((r+.055)/1.055,2.4):r/12.92,a=a>.04045?Pn((a+.055)/1.055,2.4):a/12.92;let l=t*.4124564+r*.3575761+a*.1804375,o=t*.2126729+r*.7151522+a*.072175,c=t*.0193339+r*.119192+a*.9503041;return[l*100,o*100,c*100]};Ar.rgb.lab=function(e){let t=Ar.rgb.xyz(e),r=t[0],a=t[1],l=t[2];r/=95.047,a/=100,l/=108.883,r=r>Za?Pn(r,1/3):7.787*r+16/116,a=a>Za?Pn(a,1/3):7.787*a+16/116,l=l>Za?Pn(l,1/3):7.787*l+16/116;let o=116*a-16,c=500*(r-a),n=200*(a-l);return[o,c,n]};Ar.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,a=e[2]/100,l,o;if(r===0)return o=a*255,[o,o,o];let c=a<.5?a*(1+r):a+r-a*r,n=2*a-c,u=[0,0,0];for(let p=0;p<3;p++)l=t+1/3*-(p-1),l<0&&l++,l>1&&l--,6*l<1?o=n+(c-n)*6*l:2*l<1?o=c:3*l<2?o=n+(c-n)*(2/3-l)*6:o=n,u[p]=o*255;return u};Ar.hsl.hsv=function(e){let t=e[0],r=e[1]/100,a=e[2]/100,l=r,o=Math.max(a,.01);a*=2,r*=a<=1?a:2-a,l*=o<=1?o:2-o;let c=(a+r)/2,n=a===0?2*l/(o+l):2*r/(a+r);return[t,n*100,c*100]};Ar.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,a=e[2]/100,l=Math.floor(t)%6,o=t-Math.floor(t),c=255*a*(1-r),n=255*a*(1-r*o),u=255*a*(1-r*(1-o));switch(a*=255,l){case 0:return[a,u,c];case 1:return[n,a,c];case 2:return[c,a,u];case 3:return[c,n,a];case 4:return[u,c,a];case 5:return[a,c,n]}};Ar.hsv.hsl=function(e){let t=e[0],r=e[1]/100,a=e[2]/100,l=Math.max(a,.01),o,c;c=(2-r)*a;let n=(2-r)*l;return o=r*l,o/=n<=1?n:2-n,o=o||0,c/=2,[t,o*100,c*100]};Ar.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,a=e[2]/100,l=r+a,o;l>1&&(r/=l,a/=l);let c=Math.floor(6*t),n=1-a;o=6*t-c,c&1&&(o=1-o);let u=r+o*(n-r),p,g,m;switch(c){default:case 6:case 0:{p=n,g=u,m=r;break}case 1:{p=u,g=n,m=r;break}case 2:{p=r,g=n,m=u;break}case 3:{p=r,g=u,m=n;break}case 4:{p=u,g=r,m=n;break}case 5:{p=n,g=r,m=u;break}}return[p*255,g*255,m*255]};Ar.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,a=e[2]/100,l=e[3]/100,o=1-Math.min(1,t*(1-l)+l),c=1-Math.min(1,r*(1-l)+l),n=1-Math.min(1,a*(1-l)+l);return[o*255,c*255,n*255]};Ar.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,a=e[2]/100,l,o,c;return l=t*3.2404542+r*-1.5371385+a*-.4985314,o=t*-.969266+r*1.8760108+a*.041556,c=t*.0556434+r*-.2040259+a*1.0572252,l=l>.0031308?1.055*Pn(l,1/2.4)-.055:l*12.92,o=o>.0031308?1.055*Pn(o,1/2.4)-.055:o*12.92,c=c>.0031308?1.055*Pn(c,1/2.4)-.055:c*12.92,l=Math.min(Math.max(0,l),1),o=Math.min(Math.max(0,o),1),c=Math.min(Math.max(0,c),1),[l*255,o*255,c*255]};Ar.xyz.lab=function(e){let t=e[0],r=e[1],a=e[2];t/=95.047,r/=100,a/=108.883,t=t>Za?Pn(t,1/3):7.787*t+16/116,r=r>Za?Pn(r,1/3):7.787*r+16/116,a=a>Za?Pn(a,1/3):7.787*a+16/116;let l=116*r-16,o=500*(t-r),c=200*(r-a);return[l,o,c]};Ar.lab.xyz=function(e){let t=e[0],r=e[1],a=e[2],l,o,c;o=(t+16)/116,l=r/500+o,c=o-a/200;let n=Pn(o,3),u=Pn(l,3),p=Pn(c,3);return o=n>Za?n:(o-16/116)/7.787,l=u>Za?u:(l-16/116)/7.787,c=p>Za?p:(c-16/116)/7.787,l*=95.047,o*=100,c*=108.883,[l,o,c]};Ar.lab.lch=function(e){let t=e[0],r=e[1],a=e[2],l;l=Math.atan2(a,r)*360/2/Math.PI,l<0&&(l+=360);let o=Math.sqrt(r*r+a*a);return[t,o,l]};Ar.lch.lab=function(e){let t=e[0],r=e[1],a=e[2]/360*2*Math.PI,l=r*Math.cos(a),o=r*Math.sin(a);return[t,l,o]};Ar.rgb.ansi16=function(e,t=null){let[r,a,l]=e,o=t===null?Ar.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let c=30+(Math.round(l/255)<<2|Math.round(a/255)<<1|Math.round(r/255));return o===2&&(c+=60),c};Ar.hsv.ansi16=function(e){return Ar.rgb.ansi16(Ar.hsv.rgb(e),e[2])};Ar.rgb.ansi256=function(e){let t=e[0],r=e[1],a=e[2];return t>>4===r>>4&&r>>4===a>>4?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(a/255*5)};Ar.ansi16.rgb=function(e){e=e[0];let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(Math.trunc(e>50)+1)*.5,a=(t&1)*r*255,l=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[a,l,o]};Ar.ansi256.rgb=function(e){if(e=e[0],e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,a=Math.floor((t=e%36)/6)/5*255,l=t%6/5*255;return[r,a,l]};Ar.rgb.hex=function(e){let t=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t};Ar.hex.rgb=function(e){let t=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=[...r].map(n=>n+n).join(""));let a=Number.parseInt(r,16),l=a>>16&255,o=a>>8&255,c=a&255;return[l,o,c]};Ar.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,a=e[2]/255,l=Math.max(Math.max(t,r),a),o=Math.min(Math.min(t,r),a),c=l-o,n,u=c<1?o/(1-c):0;return c<=0?n=0:l===t?n=(r-a)/c%6:l===r?n=2+(a-t)/c:n=4+(t-r)/c,n/=6,n%=1,[n*360,c*100,u*100]};Ar.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,a=r<.5?2*t*r:2*t*(1-r),l=0;return a<1&&(l=(r-.5*a)/(1-a)),[e[0],a*100,l*100]};Ar.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,a=t*r,l=0;return a<1&&(l=(r-a)/(1-a)),[e[0],a*100,l*100]};Ar.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,a=e[2]/100;if(r===0)return[a*255,a*255,a*255];let l=[0,0,0],o=t%1*6,c=o%1,n=1-c,u=0;switch(Math.floor(o)){case 0:{l[0]=1,l[1]=c,l[2]=0;break}case 1:{l[0]=n,l[1]=1,l[2]=0;break}case 2:{l[0]=0,l[1]=1,l[2]=c;break}case 3:{l[0]=0,l[1]=n,l[2]=1;break}case 4:{l[0]=c,l[1]=0,l[2]=1;break}default:l[0]=1,l[1]=0,l[2]=n}return u=(1-r)*a,[(r*l[0]+u)*255,(r*l[1]+u)*255,(r*l[2]+u)*255]};Ar.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,a=t+r*(1-t),l=0;return a>0&&(l=t/a),[e[0],l*100,a*100]};Ar.hcg.hsl=function(e){let t=e[1]/100,r=e[2]/100*(1-t)+.5*t,a=0;return r>0&&r<.5?a=t/(2*r):r>=.5&&r<1&&(a=t/(2*(1-r))),[e[0],a*100,r*100]};Ar.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,a=t+r*(1-t);return[e[0],(a-t)*100,(1-a)*100]};Ar.hwb.hcg=function(e){let t=e[1]/100,r=1-e[2]/100,a=r-t,l=0;return a<1&&(l=(r-a)/(1-a)),[e[0],a*100,l*100]};Ar.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};Ar.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};Ar.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};Ar.gray.hsl=function(e){return[0,0,e[0]]};Ar.gray.hsv=Ar.gray.hsl;Ar.gray.hwb=function(e){return[0,100,e[0]]};Ar.gray.cmyk=function(e){return[0,0,0,e[0]]};Ar.gray.lab=function(e){return[e[0],0,0]};Ar.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(r.length)+r};Ar.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};IE=ME,jc={},RE=Object.keys(Dl);for(let e of RE){jc[e]={},Object.defineProperty(jc[e],"channels",{value:Dl[e].channels}),Object.defineProperty(jc[e],"labels",{value:Dl[e].labels});let t=IE(e),r=Object.keys(t);for(let a of r){let l=t[a];jc[e][a]=jE(l),jc[e][a].raw=DE(l)}}T5=jc});var P5={};Dn(P5,{default:()=>T5});var $5=Kt(()=>{n0();o0();o0()});var u0={};Dn(u0,{default:()=>YE});var a0,L5,dp,Ja,NE,BE,Qa,HE,FE,zE,I5,UE,s0,O5,VE,WE,qE,GE,l0,M5,$a,c0,YE,d0=Kt(()=>{Ok();Cv();sp();ef();Pd();as();tf();Ld();u5();Id();h5();m5();g5();_5();a0=480,L5=640,dp=30,Ja=60,NE=10,BE=350,Qa=dp,HE=60,FE=140,zE=200,I5=490,UE=I5+55,s0=152,O5=800,VE=20,WE=370,qE=100,GE=100,l0=1200,M5={start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,onTime:!1,onComplete:!1,onDisplayClick:!1,onReady:!1,onPlaylistItem:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},$a=class e extends Ta{constructor(t,r,a={}){if(super(),!t&&this.getAttribute("jid")&&this.getAttribute("playlist")&&this.getAttribute("args")&&(t=this.getAttribute("jid"),r=JSON.parse(this.getAttribute("playlist")),a=JSON.parse(this.getAttribute("args")),a.headless&&(a.onPlaylistItem=e.headless_callback,delete e.headless_callback),Yi("TRIFECTA",{jid:t,playlist:r,args:a})),t||ki(".js-play8-config").each((l,o)=>{a=JSON.parse(ki(o).val()),t=a.jid||"jw6";let c=ki(".js-play8");ki("play-av").length||c.attr({id:t}),ea("playset")&&(a.onComplete=Md.onComplete),r=JSON.parse(ki(".js-play8-playlist").val())}),t)return this.construct(t,r,a)}construct(t,r,a){var u,p,g;this.jid=t;let l=this.cache();if(l)return l;ki("play-av").attr("jid")||ki("play-av").attr("jid",t),e.STASH[t]=this,Yi("PLAY CONFIG:",a);for(let[m,y]of Object.entries(M5))this[m]=y;for(let[m,y]of Object.entries(a))m in M5&&(this[m]=y);this.tvTitle=this.tv&&r.length===1?r[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel=`#${t}`,this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless;let o=!1;if(this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.playlist=r,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&((u=this.triggers)!=null&&u.length)&&r.length&&!this.onTime?new c0(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),!ki(this.jidsel).length){Yi("play.js requires #",t," element on page -- not found"),this.retry={playlist:r,args:a};return}if(this.responsiveResize(!0),ta(".js-play8-speed",globalThis.Play(t).speed),ta(".js-play8-gofullscreen",Lr(t).setFullscreen),ta(".js-play8-mute-click",globalThis.Play.mute_click),ta(".js-play8-seek",m=>globalThis.Play.seek(m.currentTarget)),globalThis.AJS&&ta(".js-play8-thumbzilla",m=>globalThis.AJS.thumbzilla(ki(m.currentTarget).data().identifier)),this.identifier!==!1&&(this.details=`https://archive.org/details/${this.identifier}`),this.tv&&this.tvEnd&&(this.details+=`/start/${this.tvStart}/end/${this.tvEnd}`),typeof r=="undefined"&&(r=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],this.playlist=r,this.start=!0,this.hide_list=!0),this.hide_list||(this.list_height||(this.list_height=this.audio?WE:qE),this.list_height=Math.min(this.list_height,r.length*VE)),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){let m=ki(window).width(),y=ki(window).height();this.width=this.audio?Math.min(m,O5):m,this.height=this.audio?Qa+this.list_height:y-this.list_height}else this.aspectratio||(this.width=this.audio?BE:L5,this.height=this.audio?Qa+this.list_height:a0);ki.each(r,(m,y)=>{if(typeof y.autoplay!="undefined"&&(o||(o=[]),o[m-1]=!y.autoplay),typeof y.sources=="undefined"&&typeof y.file!="undefined"&&(y.sources=[{file:y.file,height:480}]),typeof y.sources=="undefined")alert(`${m}: sources undefined!`);else for(let x of y.sources)typeof x.file!="undefined"&&(!m&&x.file.indexOf("/download")>=0&&(x.file=x.file.replace(/\/download\//,"/serve/")),x.file=e.filename_char_encoder(x.file))}),this.tvTitle&&(r[0].title=r[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));let c=JSON.parse(JSON.stringify(r));c.forEach(m=>(this.audio&&delete m.tracks,m));let n={playlist:c,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?dp:this.height,base:$d};if(this.responsive&&!this.embed?n.displaytitle=!1:this.aspectratio&&(n.width="100%",n.aspectratio=this.aspectratio,delete n.height),this.identifier!==!1){let m=this.tv&&this.tvEnd?`?start=${this.tvStart}&end=${this.tvEnd}`:"",y=`<iframe src="https://archive.org/embed/MEDIAID"
                            width="${this.audio?500:L5}"
                            height="${this.audio?Qa:a0}"
                            frameborder="0"
                            webkitallowfullscreen="true"
                            mozallowfullscreen="true"
                            allowfullscreen></iframe>`.replace(/embed\/MEDIAID/,`embed/${this.identifier}${m}`).replace(/\s+/g," "),x=`[archiveorg ${this.identifier}${m} width=640 height=${this.audio?Qa:a0} frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`;n.mediaid=this.identifier,ki("#embedcodehere").text(y),ki("#embedcodehereWP").text(x)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(n.logo={file:"https://av.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||o){let m=this.onComplete;this.onComplete=y=>{let x={done:this.play_just1||o[y.getPlaylistIndex()]};x.done&&y.stop(),m&&m(y,x)}}return(p=this.HLS)==null||p.update_playlist(n),Yi(n),this.headless?(this.playN((g=this.headless.playN)!=null?g:0),this):(Lr(t).setup(n),Lr(t).on("ready",()=>{var y;Yi("IA ",t," is ready");let m=Lr(t);this.player=m,Yi("NOTE: JW version: ",Lr.version);{let x=this.playlist.length,w=m.getConfig().playlist.length;x!==w&&!(this.HLS&&w===1&&x>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",this.playlist.length,"-vs-",m.getConfig().playlist.length)}(y=this.HLS)==null||y.setup(this),this.onTime&&Yi("NOTE: onTime() is in use!"),this.onTime&&m.on("time",()=>this.onTime(m)),this.onComplete&&m.on("complete",()=>this.onComplete(m)),this.onDisplayClick&&m.on("displayClick",()=>this.onDisplayClick(m)),this.audio?m.on("firstFrame",()=>e.track_event("Details-Audio-Beta|AudioStarted")):this.tv||(m.on("firstFrame",()=>e.track_event("Details-Video|VideoStarted")),m.on("complete",()=>e.track_event("Details-Video|VideoEnded"))),this.readyIA=!0,this.requestUpdate(),m.once("meta",x=>{Yi("onMeta() fired"),this.embed&&!this.audio&&this.adjust_video_width(x),this.HLS||this.unpreload(),this.start&&(Yi("SEEK TO: ",this.start),this.pause(),Lr(t).seek(this.start))}),m.on("playlistItem",x=>{let w=x.index;if(Yi("onPlaylistItem: ",w),this.reloading_playlist_playlist_idx&&!w){Yi(`onPlaylistItem: ignoring since desired index ${this.reloading_playlist_playlist_idx} !== ${w} -- and this is likely an event from reloading the playlist`);let k=this.reloading_playlist_playlist_idx;this.reloading_playlist_playlist_idx=0,Lr(t).playlistItem(k);return}this.track_change(m,w),this.seeker_playlist(),this.speed!==1&&setTimeout(()=>this.set_speed,1e3),this.waveformer_setup(m)}),this.onPlaylistItem&&m.on("playlistItem",x=>{Yi("onPlaylistItem",{e:x}),this.onPlaylistItem(m,x)}),m.on("playlistComplete",()=>{!this.audio&&this.collection&&!this.tv&&this.related_items_click()}),m.on("error",x=>{Yi("err"),Yi(x),ki(this.jidsel).css({"background-color":"black"})}),this.onReady&&this.onReady(m)}),this)}url_updater(t,r){if(Yi(`url_updater(${r})`),this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined"||this.playlist.length<=1||!this.playlist[r]||!this.playlist[r].orig&&!this.headless)return;let{orig:a}=this.playlist[r];if(this.update_url_onload){let l=`/details/${this.identifier}`.concat(a===""?"":`/${encodeURIComponent(a).replace(/%2F/g,"/").replace(/%20/g,"+")}`),o=ea("playset",!0)?"?playset=1&autoplay=1":"";Yi("updating url to",l+o),history.replaceState({},null,l+o)}else Yi(`looks like /details/ page loaded cold-state at #${r}-- leave url AS IS`),t==null||t.once("play",()=>{Yi("time to start updating urls"),this.update_url_onload=!0,this.url_updater(t,r)})}waveformer_setup(t){var a;if(!this.audio||this.waveformed)return;ki(`#${this.jid}`).css("border-radius",`${Ja/2}px 0 0 ${Ja/2}px`),this.recolor(),ki(".jw-slider-time").remove(),setTimeout(()=>{ki("#ia-scrubber").html(`
        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"
          style="padding:0" tabindex="0" role="slider" aria-label="Seek">
          <div class="jw-slider-container jw-reset">
            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>
            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>
            <div class="jw-progress jw-reset" style="background-color: #000"></div>
            <div class="jw-knob jw-reset"
              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>
          </div>
        </div>`)},750),ki(".jw-icon-settings svg").html('<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>'),ki(".jw-text-countdown").remove(),this.HLS?(ki(".jw-text-elapsed, .jw-text-duration").remove(),ki(".jw-button-container").append(`
<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"
role="timer">00:00</div>
<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"
role="timer">${e.sec2hms(Math.round((a=this.playlist[0])==null?void 0:a.duration)||0)}</div>`)):(ki(".jw-icon-settings").after(ki(".jw-text-elapsed")),ki(".jw-text-elapsed").after(ki(".jw-text-duration"))),this.canHLS&&(ki("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before(`
          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"
          role="menuitemradio" tabindex="0"
          aria-label="Background Play"
          name="backgroundPlay"
          type="button"
          aria-haspopup="true"
          aria-controls="jw-settings-submenu-backgroundPlay">
            <img src="//av.archive.org/img/infinity.png"/>
            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">
              <div class="jw-text">Background Play</div>
            </div>
          </div>`),ki("#jw-settings-menu").append(`<background-play id="jw-settings-submenu-backgroundPlay"
        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"
        role="menu"></background-play>`),ki(".jw-settings-backgroundPlay").on("click",()=>{ki(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),ki("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),ki(".jw-settings-backgroundPlay").attr("aria-expanded","true"),ki(".jw-settings-playbackRates").attr("aria-expanded","")}),ki(".jw-settings-playbackRates").on("click",()=>{ki(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),ki("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),ki(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",()=>{ki("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),ki(".jw-settings-playbackRates").attr("aria-expanded","true"),ki(".jw-settings-backgroundPlay").attr("aria-expanded","")})),ki("#ia-scrubber").on("click",l=>this.waveform_clicked(l)),t.on("time",l=>{var n;if(!l.duration)return;this.HLS?this.HLS.on_time():this.jwaudioPercentDone=Math.min(1,l.position/l.duration);let o=`${Number(100*this.jwaudioPercentDone).toFixed(3)}%`,c=this.shadowRoot.getElementById("waveformer");c.style.width=o,this.waveformer_played_color&&(c.style.backgroundColor=this.waveformer_played_color),ki("#ia-scrubber").find(".jw-knob").css("left",o),ki("#ia-scrubber").find(".jw-progress").css({width:o,backgroundColor:(n=this.waveformer_progress_color)!=null?n:"#000"})}),t.on("bufferChange",l=>{this.HLS?Yi("xxxhls HLS buffering"):ki("#ia-scrubber").find(".jw-buffer").css("width",`${l.bufferPercent}%`)}),this.waveformed=!0}waveform_clicked(t){let r=ki(this.shadowRoot.getElementById("waveformer-wrap")).width(),a=Number(t.offsetX/r).toFixed(2);if(Yi("waveform_clicked",{percent:a}),this.HLS)return this.HLS.waveform_clicked2(a);let l=this.player.getPlaylistItem().duration||0;this.player.seek(l*a)}recolor(){return yi(this,null,function*(){var c,n,u;if((c=document.querySelector("ia-music-theater"))!=null&&c.hasAttribute("noimageavailable")){this.recolor_generic();return}let t=(n=ki("ia-music-theater img"))==null?void 0:n.get(0);if(!t)return;let[r,a]=(yield Promise.all([Promise.resolve().then(()=>(C5(),S5)),Promise.resolve().then(()=>($5(),P5))])).map(p=>p.default),l=()=>{var S;let g=new r().getPalette(t,5);if(Yi({palette:g}),!g)return;let m=g[0];if(Yi({dominantColorRGB:m}),!m)return;let y=a.rgb.hsl(...m);Yi({HSL:y});let x=Math.round(m.reduce((P,E)=>P+E)/m.length),w=x>=128?"black":"white";Yi({avgVal:x});let k=(S=document.getElementById("theatre-ia-wrap"))!=null?S:document.getElementsByTagName("body")[0];k.style.color=w,k.style.backgroundImage=`linear-gradient(rgb(${m.join(",")}), black)`,k.style.backgroundRepeat="no-repeat",w==="black"&&(this.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),this.waveformer_played_color=`hsl(${y[0]},${y[1]}%,${Math.min(100,1.5*y[2])}%)`},o=(u=document.getElementById("theatre-ia-wrap"))!=null?u:document.getElementsByTagName("body")[0];o.style.backgroundImage="linear-gradient(#aaa, black)",o.style.backgroundRepeat="no-repeat",o.style.backgroundColor="black",t.crossOrigin="Anonymous",t.complete?l():t.addEventListener("load",l)})}recolor_generic(){var c;let t=[`linear-gradient(
        hsl(330, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(230, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(190, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(280, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(310, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(360, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`],r=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],a=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],l=e.hash_string(this.identifier)%6,o=(c=document.getElementById("theatre-ia-wrap"))!=null?c:document.getElementsByTagName("body")[0];o.style.backgroundImage=t[l],this.waveformer_played_color=r[l],this.waveformer_progress_color=a[l]}static hash_string(t){return t.split("").reduce((r,a)=>r+a.charCodeAt(0),0)}on(t,r){let a=Lr&&Lr(this.jid);return a&&a.on(t,r),this}adjust_video_width(t){!t.width||!t.height||(t.height&&t.width&&t.height>0&&t.width>0&&parseInt(t.height,10)>0&&(this.DAR=parseInt(t.width,10)/parseInt(t.height,10),Yi("DAR: ",this.DAR,t.width,"x",t.height)),this.embedResize())}embedResize(){if(!Lr||!Lr(this.jid))return;if(this.audio){Lr(this.jid).resize(Math.min(O5,ki(window).width()),Qa);return}let t=ki(window).width(),r=ki(window).height()-this.list_height;Lr(this.jid).resize(t,r)}playN(t,r){if(this.headless)return this.onPlaylistItem(t-(this.headless.has_full_album?1:0)),this.track_change(void 0,t);let a=Lr(this.jid);return Yi("playN",{readyIA:this.readyIA,idx:t,load_paused:r,state:a.getState()}),r&&a.once("play",()=>a.pause()),this.HLS?(a.seek(t?this.triggers[t-1]-this.HLS.WIGGLE:0),this.track_change(a,t),!1):(a.playlistItem(t),!1)}track_change(t,r){Yi("track_change",{idx:r}),this.trackno=r,this.url_updater(t,r)}seeker_playlist(){this.first_seeked_playlist||(this.first_seeked_playlist=!0,this.pause_first_seek&&Lr(this.jid).once("seek",()=>{this.pause(),Yi("... paused first seek!")}),this.start&&(this.pause(),Lr(this.jid).seek(this.start)))}embed_setup(){ki(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler2),e.throttler2=setTimeout(()=>{new e(this.jid).embedResize()},250)})}unpreload(){let t=Lr(this.jid),r=t.getPlaylist(),a=t.getPlaylistIndex();if(Yi("unpreload:",{startPlaylistIdx:a}),r.length&&(typeof r[0].file!="undefined"&&(r[0].file=r[0].file.replace(/\/serve\//,"/download/")),typeof r[0].sources!="undefined"))for(let l of r[0].sources)l.file=l.file.replace(/\/serve\//,"/download/");a?(t.on("playlist",()=>{Yi("unpreload: onplaylist:",{startPlaylistIdx:a}),t.playlistIndex=a,t.playlistItem(a)}),this.reloading_playlist_playlist_idx=a):!this.start&&!this.autoplay&&(this.update_url_onload=!1),t.load(r)}details_setup(){Yi("details_setup");let t=0,r=`^/details/${this.identifier}/([^&?]+)`,a=location.pathname.match(r);if(a){let l=decodeURIComponent(a[1].replace(/\+/g,"%20"));Yi("looking for: ",l);for(let o in this.playlist){let c=Number(o);if(this.playlist[c].orig===l){Yi("player should seek to track #",c),t=c;break}}}!t&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(t||this.start)&&(Yi("seek #",t," to ",this.start),this.HLS?(setTimeout(()=>this.playN(0,!0),500),setTimeout(()=>this.playN(t,!0),1e3)):Lr(this.jid).playlistItem(t))}pause(){let t=Lr(this.jid);this.readyIA&&t&&t.getState&&t.getState()==="playing"&&t.pause()}remove(){this.pause();let t=Lr(this.jid);this.readyIA&&t&&t.getConfig()&&t.remove(),delete e.STASH[this.jid]}set_speed(){var r;let t=ki(`#${this.jid} video`).get(0);t.playbackRate=(r=this.speed)!=null?r:1,Yi(`speed to ${t.playbackRate}`)}add_buttons(t){var c;let r='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',a='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',l='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',o='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){let n=this.tvTitle?`${this.tvTitle.replace(/ : /g,`
`)}

Click above for more information and clips
at the Internet Archive`:"More Formats from Internet Archive";t.addButton("/images/glogo-jw.png",n,()=>{let u=document.createElement("a");u.setAttribute("href",this.details),u.setAttribute("target","_blank"),document.body.appendChild(u),u.click()},"btn-ia")}this.embed&&!this.audio&&!this.noshare&&!this.tv&&(this.identifier!==!1&&t.addButton("/jw/embed.png","Embedding Examples and Help",()=>{globalThis.top.location.href=`/help/video.php?identifier=${this.identifier}`},"btn-mbd"),globalThis.AJS&&(t.addButton(l,"share",()=>{let n=ki(".jw-icon[button=btn-shr]").get(0);globalThis.AJS.modal_go(n,{ignore_lnk:1,shown:globalThis.AJS.embed_codes_adjust})},"btn-shr"),ki(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))),this.tv&&this.embed&&this.tvSource!==!1&&t.addButton(`/images/tv/${this.identifier.split("_")[0]}.png`,`Look for this show on ${this.tvContributor} website`,()=>{globalThis.top.location.href=this.tvSource},"btn-tv"),!this.audio&&this.collection&&!this.tv&&t.addButton("http://av.archive.org/jw/related.png","Related Videos",()=>{this.related_items_click()},"btn-rel"),ki(".jw-icon-settings").css("display","flex"),ki(".jw-slider-time").remove(),ki(".jw-icon-settings").on("click",()=>this.settings_opened()),ki(".jw-settings-close").on("click",()=>this.settings_closed()),t.on("playbackRateChanged",()=>this.settings_closed()),ki(".jw-icon-volume").on("mouseover",()=>{ki('div[button="btn-prv"]').hide(),ki('div[button="btn-nxt"]').hide(),ki(".jw-icon-settings").hide()}),ki(`${this.jidsel} .jw-button-container`).on("mouseleave",()=>{ki('div[button="btn-prv"]').show(),ki('div[button="btn-nxt"]').show(),ki(".jw-icon-settings").show()}),!this.tv&&((c=this.playlist)==null?void 0:c.length)>1&&(t.addButton(a,"next",()=>(this.HLS||t).playlistNext(),"btn-nxt"),t.addButton(r,"previous",()=>(this.HLS||t).playlistPrev(),"btn-prv"))}settings_opened(){ki(this.jidsel).css("overflow","visible"),ki(".jw-controls").css("overflow","visible").show(),ki("#jw-settings-menu").css({overflow:"visible",height:zE,top:dp+5,bottom:"initial"}),ki(".jw-controlbar").show(),ki(".jw-icon-settings").removeClass("jw-icon-settings");let t=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,r=t-s0+7;Yi({kebab_left:t,settings_new_left:r}),document.querySelector("body.jwaudio #jw-settings-menu").style.left=`${r}px`}settings_closed(){ki(this.jidsel).css("overflow","")}static castable(){return globalThis.WebKitPlaybackTargetAvailabilityEvent||globalThis.chrome}cast(){if(globalThis.WebKitPlaybackTargetAvailabilityEvent){ki(`#${this.jid} video`).get(0).webkitShowPlaybackTargetPicker();return}if(!globalThis.chrome)return;let t=(a,l)=>{l.play(null,o=>{Yi("media play success",a,l,o)},o=>{Yi("media play fail",o)})};this.cast_retries=0;let r=()=>{if(Yi("cast_setup #",this.cast_retries),this.cast_retries+=1,this.cast_retries>3)return!1;if(!globalThis.chrome.cast)return setTimeout(r,this.cast_retries*1e3);let{cast:a}=globalThis.chrome,l=new a.SessionRequest(a.media.DEFAULT_MEDIA_RECEIVER_APP_ID),o=new a.ApiConfig(l,c=>{c.media.length&&t("onRequestSessionSuccess",c.media[0])},c=>{Yi("receiver listener fail",c)});return a.initialize(o,()=>{Yi("cast init success"),a.requestSession(c=>{Yi("request session success",c);let n=ki(`${this.jidsel} video`).attr("src"),u=`${location.protocol}//${location.host}${n}`,p=new a.media.MediaInfo(u),g=new a.media.LoadRequest(p);c.loadMedia(g,t.bind(this,"loadMedia"),m=>{Yi("onMediaError",m)})},c=>{Yi("request session fail",c),setTimeout(r,500)})},()=>Yi("cast init failure")),!0};r()}related_items_click(){let t=()=>{ki(`${this.jidsel} .jw-controlbar`).one("click",r=>{ki("#related-items-bg").hide(),r.preventDefault()})};typeof Mc!="undefined"&&!ki("#related-items").length?(ki(`${this.jidsel}`).prepend(`
<div id="related-items-bg" style="display:none">
  <div id="related-items">
  </div>
</div>
`),Mc.getRelatedItems(this.identifier,!0).then(r=>{let a=Math.floor(r.length/2),l="";for(let[o,c]of Object.entries(r))Number(o)===a&&this.collection==="prelinger"?(e.track_event("Details-Video|DonationEndrollDisplayed"),l+=`
<a class="related-donate"
   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"
   data-event-click-tracking="Details-Video|DonationEndrollClicked"
   data-event-tracking-options='{ "service": "ao_no_sampling" }'>
  <div>
    <div class="related-ctr related-donate-logo">
      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>
    </div>
    <div class="related-ctr related-donate-msg">
      <div>
        Your donation helps us keep these videos free for everyone
      </div>
    </div>
    <div class="related-ctr related-donate-btn">
      <div>
        CHIP IN
      </div>
    </div>
  </div>
</a>
`):l+=`
<div>
  <a href="/details/${c.identifier}"
    data-event-click-tracking="Details-Video|LastFrameLinkChosen"
    data-event-tracking-options='{ "service": "ao_2" }'>
    <div class="related-ttl">
      ${c.title!==null?c.title:""}
      ${c.creator!==null?`<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;${c.creator}`:""}
      ${c.downloads!==null?`<div>${c.downloads} views</div>`:""}
    </div>
    <img src="/services/img/${c.identifier}"/>
  </a>
</div>
`;ki("#related-items").html(l),ki("#related-items-bg").show(),t()})):ki("#related-items-bg:visible").length?ki("#related-items-bg").hide():(ki("#related-items-bg").show(),setTimeout(t,500)),ta("#related-items-bg",()=>ki("#related-items-bg").hide())}add_playlist_panel(){return this.hide_list?"":no`
<div class="playlist">
  <button type="button" class="page-left page-arrow iconochive iconochive-left"
    @click="${this.prior_panel}"
    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">
    <span class="sr-only">prior page</span>
  </button>

  <div class="track-list">
    <div class="flexbox-pages column">
      ${this.playlist.map((t,r)=>{var a;return no`
      <button
        @click="${this.playlist_track_click}"
        type="button"
        class="track ${this.trackno===r?"selected":""}"
        data-track-number="${r}"
        data-event-click-tracking="TrackList|Item">
        ${this.headless?"":no`<span class="track-number">${r+1}</span>`}
        <span class="track-title">${(a=t.title)!=null?a:""}
          ${t.artist?no`<i class="track-artist">- ${t.artist}</i>`:""}
        </span>
        <span class="track-length">
          ${""}
          ${t.duration?e.sec2hms(t.duration):this.headless?"- \u2013:\u2013 -":""}
        </span>
      </button>`})}
    </div>

    <div class="page-buttons">
      ${[...Array(this.panels_count)].map((t,r)=>no`
        <button type="button"
          @click="${this.goto_panel}"
          data-page-number="${r}"
          class="page-button ${Number(r)===this.panelno?"selected":""}"
          data-event-click-tracking="Play-AV|Paginator-Button"
          tabindex="-1">
          <span class="sr-only">${r}</span>
        </button>`)}
    </div>
  </div>

  <button type="button" class="page-right page-arrow iconochive iconochive-right"
    @click="${this.next_panel}"
    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">
    <span class="sr-only">next page</span>
  </button>

</div>
`}playlist_track_click(t){this.playN(Number(t.currentTarget.dataset.trackNumber))}prior_panel(){this.panelno-=1;let t=this.shadowRoot.querySelector(".flexbox-pages");t.scrollBy({top:0,left:-1*t.clientWidth,behavior:"smooth"}),this.requestUpdate()}next_panel(){this.panelno+=1;let t=this.shadowRoot.querySelector(".flexbox-pages");t.scrollBy({top:0,left:t.clientWidth,behavior:"smooth"}),this.requestUpdate()}goto_panel(t){let r=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(t.currentTarget.dataset.pageNumber),r.scrollTo({top:0,left:this.panelno*r.clientWidth,behavior:"smooth"}),this.requestUpdate()}paging_visibility(){var c;let t=((c=this.shadowRoot)==null?void 0:c.querySelector(".flexbox-pages"))||this,r=t.parentElement.parentElement.querySelector(".page-left"),a=t.parentElement.parentElement.querySelector(".page-right"),{scrollLeft:l}=t;r.style.visibility=l<=0?"hidden":"visible",this.panels_count=Math.ceil(t.scrollWidth/t.clientWidth),console.warn("PANELS COUNT",this.panels_count);let o=t.scrollWidth-t.clientWidth;a.style.visibility=l>=o?"hidden":"visible"}paging_hide_if_always_single_panel(){var r;if(this.always_single_panel||ki(window).width()<l0)return;let t=(r=this.shadowRoot)==null?void 0:r.querySelector(".flexbox-pages");t&&(Yi("paging_hide_if_always_single_panel()",t.scrollWidth,"-v-",t.clientWidth),t.scrollWidth===t.clientWidth?(t.parentElement.querySelector(".page-buttons").style.display="none",t.parentElement.parentElement.querySelector(".page-left").style.display="none",t.parentElement.parentElement.querySelector(".page-right").style.display="none",this.always_single_panel="yes"):this.always_single_panel="no")}static get styles(){return sd`
:host {
  outline: 0 !important;
  outline-offset: unset !important;
}

.av-pill {
  margin-top: 5px;
  display: flex;
  flex-shrink: 0;
}

#waveformer-wrap {
  flex-grow: 1;
  position: relative;
  display: inline-block;
  height: ${so(Ja)}px;
  border-radius: 0 ${so(Ja/2)}px ${so(Ja)/2}px 0;
  border-right: ${so(Ja/2)}px solid black;
  cursor: pointer;

  background-color: white; /* would be supercool transparent otherwise... */
}
#waveformer {
  position: absolute;
  height: ${so(Ja)}px;
  width: 0;
  background-color: #ddd; /* fallback in case no imagery or colorthief fails */
}
#waveformer-wrap img {
  position: absolute;
  height: ${so(Ja)}px;
  width: 100%;
  background-color: transparent;
}

::slotted(#ia-scrubber) {
  z-index: 1;
  position: absolute;
  left: 0;
  right: 0;
  height: 17px;
  top: ${so(Ja/2-9)}px;
}



@media (max-width: ${so(l0-1)}px) {
  .media-section {
    margin-bottom: 1rem;
  }
  .playlist {
    max-height: 340px; /* xxxhls revisit hardcode & in 'archive.less', min-height for audio, etc. */
    margin: 0;
  }
  .page-buttons,
  .page-arrow {
    display: none;
  }
}


.playlist {
  color: #fff;
  margin-top: 1rem;
  padding-bottom: 4rem;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;

  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxxhls */
}

.track-list {
  /* split overflow declaration needed for Safari */
  position: relative;
  overflow-x: hidden;
  overflow-y: auto;
  box-sizing: border-box;
  margin: 0 2.5rem; /* space for left & right [<] paging buttons */
}

.track {
  vertical-align: top;
  cursor: pointer;
  border-width: 0.3rem;
  border-style: solid;
  border-color: transparent;
  text-align: left;
  background: transparent;
  color: inherit;
  padding-right: 0;
  padding-left: 0;
  min-height: 4rem;
  margin-left: 0.5%;
  margin-right: 0.5%;
  box-sizing: border-box;
  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */
  font-size: 13.3px; /* safari consistent w/ chrome */
}

.track.selected {
  border-color: #00A1DD;
  border-radius: .5rem;
}
.track.selected:focus {
  outline: none;
}

.track-number,
.track-title,
.track-length {
  display: inline-block;
  box-sizing: border-box;
  border-right: 10px solid transparent;
  vertical-align: top;
}

.track-number {
  text-align: right;
  font-weight: 100;
  width: 9%;
}

.track-title {
  width: 60%;
}

.track-artist {
  font-weight: 200;
}

.track-length {
  text-align: right;
  font-weight: 100;
  float: right;
}



.flexbox-pages {
  display: flex;
  align-items: stretch;
  flex-direction: column;
  flex-wrap: wrap;
  height: inherit; /* must set with parent to wrap columns */
  overflow: hidden;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
}

.flexbox-pages.column > * {
  width: inherit; /* set at parent, for better display control */ /*xxxhls*/
}

@media (max-width: 500px) { /* xxxhls number */
  .flexbox-pages {
    flex-wrap: nowrap;
  }
}

@media (min-width: ${so(l0)}px) {
  .flexbox-pages {
    height: 350px; /*calc(400px - 50px);*/
    float: unset;
  }

  .flexbox-pages.column > * {
    width: 49%;
  }
}

.page-buttons {
  width: 100%;
  text-align: center;
}
.page-button {
  border-radius: 50%;
  border-color: inherit;
  border-style: solid;
  border-width: 0.1rem;
  color: white;
  background-color: transparent;
  height: 1.5rem;
  width: 1.5rem;
  margin: 0 .5rem;
}
.page-button.selected {
  background-color: white;
}
.page-button.selected:focus {
  outline: none;
}

.page-arrow {
  background: transparent;
  border: none;
  position: absolute;
  top: 35%;
  font-size: 2.5rem;
  color: white;
  opacity: 0.6;
}
.page-arrow:hover {
  cursor: pointer;
  opacity: 1.0;
}

.page-left {
  left: -1rem;
}
.page-right {
  right: -1rem;
}

.sr-only {
  position: absolute;
  clip: rect(0, 0, 0, 0);
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
`}static css(){let t=document.getElementsByTagName("head")[0];if(!t)return;let r=document.createElement("style");r.setAttribute("type","text/css"),r.appendChild(document.createTextNode(`

body.jwaudio .jwplayer {
  width: initial !important;
  display: inline-block;
  margin-left: ${NE}px;

  outline: 0 !important;
  outline-offset: unset !important;
}

body.navia.jwaudio .jw-preview {
  display: none !important;
}

/* avoid bleed-thru when kebab opened */
body.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {
  background-color: transparent;
  background: none;
}

/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */
body.jwaudio .jw-wrapper,
body.jwaudio .jw-controls {
  position: initial;
}

body.jwaudio .jw-controlbar .jw-icon-inline:first-child {
  margin-left: 15px;
}

body.jwaudio .jw-controlbar .jw-icon-inline {
  width: 35px;
}
body.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {
  width: 55px;
}

/* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries */
#play-av-wrapper {
  container-name: player-pill;
  container-type: inline-size;
}
@container player-pill (min-width: ${I5}px) {
  body.jwaudio .jw-text-elapsed {
    display: flex !important;
  }
}
@container player-pill (min-width: ${UE}px) {
  body.jwaudio .jw-text-duration {
    display: flex !important;
  }
}

body.jwaudio .jw-settings-submenu-button {
  margin-left: -5px;
}

body.jwaudio #jw-settings-menu {
  z-index: 1;
  margin-top: 25px;
  border-top: 1px solid #aaa;
  left: 50px;
}

body.jwaudio #jw-settings-menu:before {
  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */
  content: "";
  position:absolute;

  /* position tooltip correctly */
  top: -11px;
  left: ${s0}px;
  transform:translateY(-50%);

  /* the arrow */
  border: 10px solid #000;
  border-color: transparent transparent #aaa transparent;
}
body.jwaudio #jw-settings-menu:after {
  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */
  content: "";
  position:absolute;

  /* position tooltip correctly */
  top: -8px;
  left: ${s0}px;
  transform:translateY(-50%);

  /* the arrow */
  border: 10px solid #000;
  border-color: transparent transparent black transparent;
}

#waveformer-loader {
  overflow: hidden;
  width: 1px;
  height: 1px;
  max-width: 1px;
  max-height: 1px;
  position: fixed;
  bottom: 0;
  right: 0;
  opacity: 0.01;
}
    `)),t.appendChild(r)}responsiveResize(t){if(!this.responsive)return;let r=ki(this.jidsel).offset(),a=ki(window).height()-r.top-GE;if(this.audio)this.playlist&&this.playlist.length>0&&(Qa=HE),a-=Qa,a=Math.max(FE,a),this.embed||(Yi("responsiveResize() maxH:",a),this.list_height=a);else{let l=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(l=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,Yi("aspect ratio appears to be: ",l));let o=ki(".container-ia:last").width();Yi("video max rect avail: ",o,"x",a);let c,n;for(n of[960,840,720,600,480,360,240,180])if(c=Math.round(n*l),Yi("video size try fit: ",c,"x",n),c<=o&&n<=a||c<=320)break;this.width=c,this.height=n,globalThis.AJS&&globalThis.AJS.theatre_controls_position(!1,0,this.width,this.height)}t?ki(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler),e.throttler=setTimeout(()=>{new e(this.jid).responsiveResize()},250)}):this.audio||Lr(this.jid).resize(this.width,this.height),t||this.paging_visibility(),this.paging_hide_if_always_single_panel()}cache(){if(!this.jid)return alert("please pass in a unique identifier for this object");if(typeof e.STASH[this.jid]!="undefined"){if(typeof this.playlist=="undefined")return e.STASH[this.jid];delete e.STASH[this.jid]}}static sec2hms(t,r=!1,a=!1){let l=Math.round(t),o=Math.floor(l/3600),c=Math.floor((l-o*3600)/60);l-=o*3600+c*60;let n="",u="";(r||o>0)&&(u=`00${o}`,n+=u.substr(u.length-2,2),n+=":"),u=`00${c}`,n+=u.substr(u.length-2,2),n+=":",u=`00${l}`,n+=u.substr(u.length-2,2);let p=a?`.${(t%1).toFixed(3).slice(2)}`:"";return`${n}${p}`}static seconds(t){let r=t.replace(",","."),a=r.split(":"),l=0;return r.substr(-1)==="s"?l=Number(r.substr(0,r.length-1)):r.substr(-1)==="m"?l=Number(r.substr(0,r.length-1))*60:r.substr(-1)==="h"?l=Number(r.substr(0,r.length-1))*3600:a.length>1?(l=Number(a[a.length-1]),l+=Number(a[a.length-2])*60,a.length===3&&(l+=Number(a[a.length-3])*3600)):l=Number(r),l}static seek(t){let r=`${t.href}/`.match(/[/#]start\/([\d.]+)\//)||t.href.match(/[?&]start=([\d.]+)/);if(!r)return!0;let a=r[1];return Lr().seek(a),typeof history.pushState=="undefined"?location.href=t.href:history.pushState({},null,t.href),!1}static mute_click(){let t=!Xa.get("unmute"),r=Lr("jw6");if(r){let a=r.getVolume();a?(e.mute_click_prior_volume=a,r.setVolume(0)):r.setVolume(typeof e.mute_click_prior_volume=="undefined"?100:e.mute_click_prior_volume)}return ki("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),t?Xa.set("unmute",1,{path:"/details",expires:30}):Xa.remove("unmute",{path:"/details"}),!1}static cast_sender_setup(){!globalThis.chrome||globalThis.chrome.cast||function(){var t=function(w){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+w)!=-1||document.currentScript.src.indexOf("&"+w)!=-1)},r=t("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",a=t("loadCastFramework")||t("loadCastApplicationFramework"),l=function(){return typeof globalThis.__onGCastApiAvailable=="function"?globalThis.__onGCastApiAvailable:null},o=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],c=function(w){w.length?u(w.shift(),function(){c(w)}):g()},n=function(w){return"chrome-extension://"+w+r},u=function(w,k,S){var P=document.createElement("script");P.onerror=k,S&&(P.onload=S),P.src=w,(document.head||document.documentElement).appendChild(P)},p=function(w){return 0<=globalThis.navigator.userAgent.indexOf(w)},g=function(){var w=l();w&&w(!1,"No cast extension found")},m=function(){if(a){var w=2,k=l(),S=function(){w--,w==0&&k&&k(!0)};globalThis.__onGCastApiAvailable=S,u("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",g,S)}};if(p("CriOS")){var y=globalThis.__gCrWeb&&globalThis.__gCrWeb.message&&globalThis.__gCrWeb.message.invokeOnHost;y&&(m(),y({command:"cast.sender.init"}))}else if(p("Android")&&p("Chrome/")&&globalThis.navigator.presentation){m();var x=globalThis.navigator.userAgent.match(/Chrome\/([0-9]+)/);c(["//www.gstatic.com/eureka/clank/"+(x?parseInt(x[1],10):0)+r,"//www.gstatic.com/eureka/clank"+r])}else globalThis.chrome&&globalThis.navigator.presentation&&!p("Edge")?(m(),c(o.map(n))):g()}()}static filename_char_encoder(t){let r=t.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i);return r.shift().replace(/#/g,"%23").replace(/\?/g,"%3F")+(r.length?`.${r.shift()}?`:"")+r.join("")}static track_event(t){if(!globalThis.archive_analytics)return;let[r,a]=t.split("|");globalThis.archive_analytics.send_event(r,a,globalThis.location.pathname)}updated(t){Yi("play updated()",t),"mdapi"in t&&Yi("mdapi changed"),this.audio&&!this.playlist_setup&&this.playlist&&(this.playlist_setup=!0,this.shadowRoot.querySelector(".flexbox-pages").addEventListener("scroll",this.paging_visibility),this.paging_visibility(),this.paging_hide_if_always_single_panel())}firstUpdated(){Yi("play firstUpdated up")}static get properties(){return{trackno:Number,identifier:String,mdapi:Array,bgTheme:String}}render(){var a;Yi("play-av render()",this.trackno),this.slotted||(this.innerHTML=`<div id="${this.jid||"jw6"}"></div><div id="ia-scrubber" slot="ia-scrubber"></div>`,this.slotted=!0,this.retry&&this.construct(this.jid,this.retry.playlist,this.retry.args)),this.identifier&&!this.jid&&!this.mdapi&&this.from_attr_identifier(),this.mdapi&&!this.jid&&this.from_attr_mdapi("jw6");let t=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.audio&&this.responsive&&!this.embed&&this.responsiveResize(),this.responsive&&!this.audio&&ki(this.jidsel).css("margin","auto"),this.add_buttons(this.player),ki(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),ki(".jw-controlbar").css("padding-top","8px"),this.responsive&&Qa>dp&&ki(this.jidsel).css("height",Qa),!this.embed&&this.responsive?this.details_setup():this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup()));let r=this.playlist?(a=this.playlist[this.trackno||0])==null?void 0:a.image:"";return no`
      <link rel="stylesheet" href="https://av.archive.org/css/iconochive.css">
      <div class="av-pill">
        <slot></slot>

        ${this.audio&&!this.headless?no`
          <div id="waveformer-wrap">
            <div id="waveformer"></div>
            ${r?no`<img src="${r}" @click="${this.waveform_clicked}">`:no`<img src="https://archive.org/images/black.jpg">`}
            <slot name="ia-scrubber"></slot>
          </div>`:""}
      </div>

      ${this.show_transcripts()?no`
        <transcript-viewer identifier="${this.identifier}" trackno=${this.trackno||0}
          playlist='${JSON.stringify(this.playlist||[])}' bgTheme=${this.bgTheme}>
        </transcript-viewer>
      `:""}

      ${t}
    `}show_transcripts(){var n,u,p,g;let a=["78rpm","edison-recordings","georgeblood"];if(this.headless)return!1;if(!a.filter(m=>{var y;return(y=this.collections)==null?void 0:y.includes(m)}).length)return!0;let l=String((g=(p=(u=JSON.parse((n=ki(".js-ia-metadata").val())!=null?n:"{}"))==null?void 0:u.metadata)==null?void 0:p.date)!=null?g:"6666");if(typeof l!="string")return!1;let o=l.match(/^(\d\d\d\d)$/)||l.match(/^(\d\d\d\d)-\d\d$/)||l.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!o)return!1;let c=Number(o[1]);return c<=1928&&c>=1600}from_attr_identifier(){Yi("from_attr_identifier()"),f5(this.identifier).then(t=>{this.mdapi=t}).catch(t=>Yi("error",t))}from_attr_mdapi(t){var a;Yi("from_attr_mdapi()");let r=new c5(this.mdapi);if(r.showing==="movies"||r.showing==="audio"){let l=[].concat(this.mdapi.metadata.collection),o={audio:r.showing==="audio",responsive:!0,identifier:this.id,collections:l,collection:l.shift()},c=[],n=r.jwplaylist(o,d5,c);if(Yi(n),r.showing==="audio"){let u=document.getElementsByTagName("body")[0];u.setAttribute("class",`${(a=u.getAttribute("class"))!=null?a:""} jwaudio`),o&&!this.embed&&(o.waveformer=!0)}this.construct(t,n,o)}}draggable_scrubber(){let t=!1;function r(l){if(!t)return;let o=document.getElementById("ia-scrubber").getBoundingClientRect(),c=Math.min(o.width,Math.max(0,l.clientX-o.left));ki("#ia-scrubber .jw-knob").css({left:`${c}px`})}document.querySelector("play-av").parentElement.addEventListener("mousemove",r);let a=document.getElementById("ia-scrubber");a.addEventListener("mousedown",()=>{this.player.pause(),t=!0}),a.addEventListener("mouseup",()=>{this.player.play(),t=!1})}static headless(t=[],r=a=>Yi(`track ${a} clicked`)){let a=ki("play-av:first").attr("jid");e.headless_callback=r,globalThis.Play(a).headless_create(t,r)}headless_create(t=[]){if(!t.length){let n=ki("play-av:not(:first)"),u=ki("play-av:first"),p=globalThis.Play(n.attr("jid")),g=globalThis.Play(u.attr("jid"));if(p.remove(),n.remove(),u.show(),Yi("IS AT",p.trackno,p.headless.tracks),p.trackno||p.trackno===0){let m=p.headless.tracks[p.trackno];g.playN(Math.max(0,m),!0)}return}this.pause();let r={audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:t,has_full_album:!1}},a=[];for(let n of t)Number(n)===-1&&(r.headless.has_full_album=!0),a.push(Number(n)===-1?{title:"[Full Album]",orig:"",sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[n]);let l=ki("play-av").parent(),o=ki("play-av:first").attr("jid"),c=globalThis.Play(o).trackno;r.headless.playN=Math.max(0,t.indexOf(c)),ki("play-av:first").hide(),ki("play-av[jid=headless]").remove(),delete e.STASH.headless,l.append(`
      <play-av jid="headless"
        playlist='${JSON.stringify(a).replace(/'/g,"&apos;")}'
        args='${JSON.stringify(r).replace(/'/g,"&apos;")}'></play-av>`)}},c0=class{constructor(t){this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=t,Yi(t.triggers)}setup(t){this.play=t,this.p.player.on("time",()=>this.on_time()),this.p.player.on("meta",r=>Yi("HLS meta",r))}on_time(){let t=this.p.player.getCurrentTime();if(Math.abs(this.last_time-t)<.25)return;this.last_time=t;let r=this.playlist_index;if(t>=this.p.triggers[r]+this.WIGGLE)for(Yi("on_time >=",t,">=",this.p.triggers[r]+this.WIGGLE);t>=this.p.triggers[r]-this.WIGGLE;)r+=1;else if(t<this.p.triggers[r-1]+this.WIGGLE)for(Yi("on_time <",t,"<",this.p.triggers[r-1]-this.WIGGLE);r&&t<this.p.triggers[r-1]-this.WIGGLE;)r-=1;if(r!==this.playlist_index){if(Yi("HLS switching tracks:",this.playlist_index,"=>",r),this.playlist_index=r,this.play.track_change(this.p.player,this.playlist_index),ki("#play-hls-duration").html($a.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){Yi(this.p.playlist[this.playlist_index]);let l=this.p.playlist[this.playlist_index].image;if(l){ki("#waveformer-loader").length||ki("body").append('<img id="waveformer-loader"></img>');let o=ki("#waveformer-loader").get(0);o.onload=()=>ki(".jw-preview").css("background-color","transparent"),o.src=l,ki(".jw-preview").css("background-color","black"),ki(".jw-preview").css("background-image",`url("${l}")`)}}}let a=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&a){let l=t-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);ki("#play-hls-elapsed").html($a.sec2hms(Math.round(Math.max(0,l)))),this.p.jwaudioPercentDone=Math.min(1,l/a)}}update_playlist(t){Yi("HLS.update_playlist",t.playlist);let r=ea("mode")==="aac"?"&mode=aac":"";t.playlist=t.playlist.slice(0,1),t.playlist[0].sources[0].file=`/details/${this.p.identifier}${r}&embed=1&HLS=1&hls.m3u8`,delete t.playlist[0].sources[0].title,delete t.playlist[0].sources[0].duration,Yi("HLS new playlist to jw",t.playlist),t.hlsjsConfig={p2pConfig:{live:!1}}}playlistPrev(){Yi("HLS.playlistPrev");let t=0;this.playlist_index?this.playlist_index>1&&(t=this.p.triggers[this.playlist_index-2]-this.WIGGLE):t=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(t)}playlistNext(){Yi("HLS.playlistNext");let t=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(t)}waveform_clicked2(t){let r=this.playlist_index,a=r?this.p.triggers[r-1]:0,l=this.p.triggers[r]-a;this.p.player.seek(a+l*t)}};if(!globalThis.Play){$a.STASH={},$a.css(),globalThis.Play=(e,t,r)=>new $a(e,t,r);for(let e of["mute_click","sec2hms","seconds","seek","filename_char_encoder","headless"])globalThis.Play[e]=$a[e];customElements.define("play-av",$a)}YE=$a});function*p0(e=document.activeElement){e!=null&&(yield e,"shadowRoot"in e&&e.shadowRoot&&e.shadowRoot.mode!=="closed"&&(yield*wd(p0(e.shadowRoot.activeElement))))}function KE(){return[...p0()].pop()}function j5(e){let t=R5.get(e);return t||(t=window.getComputedStyle(e,null),R5.set(e,t)),t}function XE(e){if("checkVisibility"in e&&typeof e.checkVisibility=="function")return e.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});let t=j5(e);return t.visibility!=="hidden"&&t.display!=="none"}function ZE(e){let t=j5(e),{overflowY:r,overflowX:a}=t;return r==="scroll"||a==="scroll"?!0:r!=="auto"||a!=="auto"?!1:e.scrollHeight>e.clientHeight&&r==="auto"||e.scrollWidth>e.clientWidth&&a==="auto"}function JE(e){let t=e.tagName.toLowerCase(),r=Number(e.getAttribute("tabindex"));return e.hasAttribute("tabindex")&&(isNaN(r)||r<=-1)||e.hasAttribute("disabled")||e.closest("[inert]")||t==="input"&&e.getAttribute("type")==="radio"&&!e.hasAttribute("checked")||!XE(e)?!1:(t==="audio"||t==="video")&&e.hasAttribute("controls")||e.hasAttribute("tabindex")||e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(t)?!0:ZE(e)}function QE(e,t){var r;return((r=e.getRootNode({composed:!0}))===null||r===void 0?void 0:r.host)!==t}function D5(e){let t=new WeakMap,r=[];function a(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||t.has(l))return;t.set(l,!0),!r.includes(l)&&JE(l)&&r.push(l),l instanceof HTMLSlotElement&&QE(l,e)&&l.assignedElements({flatten:!0}).forEach(o=>{a(o)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&a(l.shadowRoot)}for(let o of Array.from(l.children))a(o)}return a(e),r.sort((l,o)=>{let c=Number(l.getAttribute("tabindex"))||0;return(Number(o.getAttribute("tabindex"))||0)-c})}var Nl,R5,fd,eT,tT,h0,jl,iT,Nc,f0=Kt(()=>{vr();_i();Fr();vr();_i();Fr();Wu();Td();_i();Xc();Nl=class{constructor(e){var t,r,a,l,o,c,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(a=e==null?void 0:e.showProcessingIndicator)!==null&&a!==void 0?a:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(c=e==null?void 0:e.showHeaderLogo)!==null&&c!==void 0?c:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}};R5=new WeakMap;fd=[],eT=class{constructor(e){this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var r;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;let a=KE();if(this.previousFocus=a,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";let l=D5(this.element),o=l.findIndex(n=>n===a);this.previousFocus=this.currentFocus;let c=this.tabDirection==="forward"?1:-1;for(;;){o+c>=l.length?o=0:o+c<0?o=l.length-1:o+=c,this.previousFocus=this.currentFocus;let n=l[o];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||n&&this.possiblyHasTabbableChildren(n))return;t.preventDefault(),this.currentFocus=n,(r=this.currentFocus)===null||r===void 0||r.focus({preventScroll:!1});let u=[...p0()];if(u.includes(this.currentFocus)||!u.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e,this.elementsWithTabbableControls=["iframe"]}activate(){fd.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){fd=fd.filter(e=>e!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return fd[fd.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){let e=D5(this.element);if(!this.element.matches(":focus-within")){let t=e[0],r=e[e.length-1],a=this.tabDirection==="forward"?t:r;typeof(a==null?void 0:a.focus)=="function"&&(this.currentFocus=a,a.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}},tT=Ke`
  <svg
    class="ia-logo"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building façade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" class="fill-color">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use class="fill-color" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" class="fill-color">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,h0=class extends mi{constructor(){super(...arguments),this.config=new Nl}render(){return Ke`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?Ke`<div class="logo-icon">${tT}</div>`:Ei}
            ${this.config.title?Ke`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?Ke`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?Ke` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?Ke` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(e){if(e.preventDefault(),e.type==="keydown"&&e.key!==" "&&e.key!=="Enter")return;let t=new Event("closeButtonPressed");this.dispatchEvent(t)}get closeButtonTemplate(){return Ke`
      <button
        type="button"
        class="close-button"
        @click=${this.handleCloseButton}
        @keydown=${this.handleCloseButton}
      >
        <ia-icon-close></ia-icon-close>
      </button>
    `}static get styles(){let e=pt`var(--modalLogoSize, 6.5rem)`,t=pt`var(--processingImageSize, 7.5rem)`,r=pt`var(--modalCornerRadius, 1rem)`,a=pt`var(--modalBorder, 2px solid black)`,l=pt`var(--modalBottomMargin, 2.5rem)`,o=pt`var(--modalTopMargin, 5rem)`,c=pt`var(--modalHeaderBottomPadding, 0.5em)`,n=pt`var(--modalBottomPadding, 2rem)`,u=pt`var(--modalScrollOffset, 5px)`,p=pt`var(--modalTitleFontSize, 1.8rem)`,g=pt`var(--modalSubtitleFontSize, 1.4rem)`,m=pt`var(--modalHeadlineFontSize, 1.6rem)`,y=pt`var(--modalMessageFontSize, 1.4rem)`,x=pt`var(--modalTitleLineHeight, normal)`,w=pt`var(--modalSubtitleLineHeight, normal)`,k=pt`var(--modalHeadlineLineHeight, normal)`,S=pt`var(--modalMessageLineHeight, normal)`;return pt`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${a};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${c};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${p};
        font-weight: bold;
        line-height: ${x};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${g};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${a};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${u}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${u}) 0;
      }

      .headline {
        font-size: ${m};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${y};
        line-height: ${S};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};le([Qt({type:Object})],h0.prototype,"config",void 0);h0=le([ur("modal-template")],h0);(function(e){e.Open="open",e.Closed="closed"})(jl||(jl={}));iT=class{constructor(e){this.windowResizeThrottler=Yl(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case jl.Open:this.startResizeListener(),this.stopDocumentScroll();break;case jl.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},Nc=class extends mi{constructor(){super(...arguments),this.mode=jl.Closed,this.hostBridge=new iT(this),this.modal=new eT(this),this.closeOnBackdropClick=!0}firstUpdated(){return Oo(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,0)),this.closeOnBackdropClick&&this.addEventListener("keydown",e=>{e.key==="Escape"&&this.backdropClicked()})})}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate()}render(){return Ke`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="-1"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=jl.Closed,this.customModalContent=void 0,this.modalTemplate.config=new Nl,this.modal.deactivate()}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return Oo(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=jl.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus(),this.modal.activate()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=pt`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=pt`var(--modalBackdropZindex, 1000)`,r=pt`var(--modalWidth, 32rem)`,a=pt`var(--modalMaxWidth, 95%)`,l=pt`var(--modalZindex, 2000)`;return pt`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${a};
      }
    `}};le([Qt({type:String,reflect:!0})],Nc.prototype,"mode",void 0);le([Qt({type:Object})],Nc.prototype,"customModalContent",void 0);le([Qt({type:Object})],Nc.prototype,"hostBridge",void 0);le([sn("modal-template")],Nc.prototype,"modalTemplate",void 0);Nc=le([ur("modal-manager")],Nc)});function Bc(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function rT(e,t){let r,a=()=>{if(r)return r;let l=indexedDB.open(e);return l.onupgradeneeded=()=>l.result.createObjectStore(t),r=Bc(l),r.then(o=>{o.onclose=()=>r=void 0},()=>{}),r};return(l,o)=>a().then(c=>o(c.transaction(t,l).objectStore(t)))}function hp(){return m0||(m0=rT("keyval-store","keyval")),m0}function N5(e,t=hp()){return t("readonly",r=>Bc(r.get(e)))}function B5(e,t,r=hp()){return r("readwrite",a=>(a.put(t,e),Bc(a.transaction)))}function H5(e,t=hp()){return t("readwrite",r=>(r.delete(e),Bc(r.transaction)))}function nT(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Bc(e.transaction)}function F5(e=hp()){return e("readonly",t=>{if(t.getAllKeys)return Bc(t.getAllKeys());let r=[];return nT(t,a=>r.push(a.key)).then(()=>r)})}var m0,z5=Kt(()=>{});function oT(e,t){return e.setMilliseconds(e.getMilliseconds()+t*1e3),e}var U5,g0=Kt(()=>{z5();U5=class{constructor(e){var t,r,a,l;if(this.namespace=(t=e==null?void 0:e.namespace)!==null&&t!==void 0?t:"LocalCache",this.defaultTTL=(r=e==null?void 0:e.defaultTTL)!==null&&r!==void 0?r:15*60,(!((a=e==null?void 0:e.immediateClean)!==null&&a!==void 0)||a)&&this.cleanExpired(),!(e!=null&&e.disableCleaning)){let o=(l=e==null?void 0:e.cleaningInterval)!==null&&l!==void 0?l:60;setInterval(()=>{this.cleanExpired()},o*1e3)}}set(e){return yi(this,null,function*(){var t;let r={value:e.value},a=(t=e.ttl)!==null&&t!==void 0?t:this.defaultTTL,l=oT(new Date,a);r.expires=l;let o=this.getNamespacedKey(e.key);try{yield B5(o,r)}catch(c){}})}get(e){return yi(this,null,function*(){let t=this.getNamespacedKey(e),r;try{r=yield N5(t)}catch(l){}if(!r)return;let a=new Date;if(r.expires&&r.expires<a){yield this.delete(e);return}return r.value})}delete(e){return yi(this,null,function*(){let t=this.getNamespacedKey(e);try{yield H5(t)}catch(r){}})}cleanExpired(){return yi(this,null,function*(){let e=yield this.getAllKeys();yield Promise.all(e.map(t=>yi(this,null,function*(){return this.get(t)})))})}getAllKeys(){return yi(this,null,function*(){let e=[];try{e=yield F5()}catch(r){}let t=[];for(let r of e)typeof r=="string"&&t.push(r);return t.filter(r=>r.startsWith(this.namespace)).map(r=>this.removeNamespace(r))})}getNamespacedKey(e){return`${this.namespace}-${e}`}removeNamespace(e){return e.replace(`${this.namespace}-`,"")}}});var pp=Kt(()=>{Gl()});var aT,sT,v0=Kt(()=>{_i();_i();aT=Ke`
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <title id="linkTitleID">Get more information</title>
  <desc id="linkDescID">Informative icon</desc>
    <path d="m0 0h100v100h-100z" fill="#000"/>
    <path d="m49.8315487 0h.1702245c6.7356878 0 13.1853038 1.31117332 19.3488483 3.93351997 6.1635444 2.62234664 11.4854233 6.15778963 15.9656369 10.60632903 4.4802135 4.4485394 8.0478347 9.7522946 10.7028636 15.9112655 2.655029 6.1589709 3.980878 12.6038012 3.9789971 19.3344909.0567419 6.6716279-1.1702933 13.0585776-3.6811042 19.1608491-2.510811 6.1022715-6.106803 11.5206067-10.7879759 16.2550055-9.7027949 9.7522946-21.4884754 14.6851412-35.3570414 14.79854h-.1702244c-6.7333236 0-13.1829397-1.3111733-19.3488483-3.93352-6.1659087-2.6223466-11.4877876-6.1577896-15.9656369-10.606329s-8.04547055-9.7522946-10.7028637-15.9112655c-2.65739314-6.1589709-3.9844243-12.6038012-3.98254337-19.3344909-.05674149-6.6716279 1.17029325-13.0585776 3.68110421-19.1608491 2.51081095-6.1022715 6.10680292-11.5206067 10.78797586-16.2550055 9.7027949-9.75229456 21.4884754-14.68514123 35.3570414-14.79854zm12.6566146 26.4757998c1.6745578-1.6828001 2.5118367-3.6747334 2.5118367-5.9757998 0-2.4126333-.8095238-4.4324583-2.4285714-6.059475s-3.6289796-2.440525-6.0297959-2.440525c-2.4008164 0-4.4107483.8135083-6.029796 2.440525-1.6745578 1.6270167-2.5118367 3.6468417-2.5118367 6.059475 0 2.1871753.8372789 4.1791086 2.5118367 5.9757998 1.6745579 1.6828001 3.6844898 2.5242002 6.029796 2.5242002 2.3453061 0 4.3274829-.8414001 5.9465306-2.5242002zm-12.1370589 52.7776981-1.2815282-.9486968c0-.4588935.398855-1.8938272 1.196565-4.3048011l12.7338588-39-23.0745876 3.6164609.2548896 3.873251c0-.1141289.4554971-.1997256 1.3664914-.2567901.9109942 0 1.623741.1723823 2.1382404.5171468.5121392.2306356.7965299.6039323.8531721 1.1198902 0 .8607225-.6549247 3.2134431-1.9647739 7.0581619l-8.1175252 24.1061729c-1.0242785 3.2716963-1.5080967 5.5388203-1.4514546 6.8013717.0566421 1.6643804.8826732 2.9839963 2.4780932 3.9588477 1.2532071.803658 2.8769482 1.205487 4.8712231 1.205487h.5982825c1.7653464-.0570645 3.8445846-.3875629 6.2377146-.9914952 2.3931299-.6039323 4.3590839-1.3933242 5.8978617-2.3681756 1.3098493-.803658 2.3919499-1.5359853 3.2463021-2.1969821.8543521-.6609968 1.3959925-1.1341564 1.6249211-1.4194788l.3433929-.3459533-2.8214861-3.3596708-2.9914125 2.0650205c-.79771.4588935-1.5104568.7454047-2.1382404.8595337z" class="fill-color" fill-rule="nonzero"/>
</svg>
`,sT=class extends mi{static get styles(){return pt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return aT}};customElements.define("ia-icon-info",sT)});function Bl(e){return yi(this,null,function*(){var m,y;let t=Dr({action:null,identifier:"",success(){},error(){}},e),r="/services/loans/loan",a=window==null?void 0:window.location,l="loan token not found. please try again later.",o="This book is not available to borrow at this time. Please try again later.",c=["browse_book","borrow_book","create_token","renew_loan","return_loan"],n=((m=a==null?void 0:a.href)==null?void 0:m.indexOf("?error=true"))!==-1&&(a==null?void 0:a.hostname)!=="archive.org",u=["localhost","internetarchive.github.io"],p=!1;u.includes(a.hostname)&&(p=!0,r=a.href);let g=new FormData;g.append("action",t.action),g.append("identifier",t.identifier);try{yield fetch(r,{method:"POST",body:g}).then(x=>yi(this,null,function*(){return n&&c.includes(t==null?void 0:t.action)?{success:!1,error:(t==null?void 0:t.action)==="create_token"?l:o}:p?(t==null?void 0:t.action)=="renew_loan"||(t==null?void 0:t.action)=="return_loan"?(yield new Promise(w=>setTimeout(w,5e3)),{success:!0,loan:{renewal:!0}}):{success:!0,message:"operation executed successfully!"}:x.json()})).then(x=>{x!=null&&x.error?t==null||t.error(x):t==null||t.success(x)})}catch(x){(y=window==null?void 0:window.Sentry)==null||y.captureException(`${es.actionsHandlerService} - Error: ${x}`)}})}function lT(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function mp(e,t,r,a,l,o){return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+(r?`; expires=${r.toUTCString()}`:"")+(l?`; domain=${l}`:"")+(a?`; path=${a}`:"")+(o?"; secure":""),!0}var Fo,es,yn,Hl,Fc,fp,q5,G5,V5,cT,uT,dT,y0,hT,pT,b0,fT,mT,w0,gT,vT,yT,bT,Hc,W5,wT,xT,_T,kT,x0,AT,ST,CT,ET,TT,PT,$T,uo,LT,OT,MT,IT,Ho,RT,k0=Kt(()=>{_i();Us();f0();g0();_i();pp();id();_i();pp();_i();_i();_i();_i();_i();_i();_i();_i();ds();v0();_i();_i();Fo=class _0{static isInIframe(){var t;try{return window.self!==window.top}catch(r){return(t=window==null?void 0:window.Sentry)==null||t.captureException(r),!0}}static getRedirectUrl(){let t;return _0.isInIframe()?t=window.top.location.href:t=window.location.href,t}static goToUrl(t,r){let a;_0.isInIframe()&&r?a=window.top.location:a=window.location,a.href===t?a.reload():a.href=t}static isOnStreamPage(){return window.location.href.indexOf("/stream/")>-1}static getQueryParam(t){let r=window.location.search.substring(1).split("&"),a="";for(let l=0;l<r.length;l+=1)if(a=r[l].split("="),a[0]===t)return a[1];return Ei}static getBackHref(){return window.location.href.replace(/[?&]{1}(?:admin|access)=1/,"")}static formatUrl(t,r){return/^https?:/.test(r)?r:`${t}${r}`}},es={disconnectedCallback:"IABookActions:disconnectedCallback",bookHasRenewed:"IABookActions:handleLoanAutoRenewed - book has renewed for next one hour",bookRenewFailed:"IABookActions:handleLoanRenewNow - failed to renew",browseHasExpired:"IABookActions:browseHasExpired - one-hour loan has been expired",bookWasExpired:"IABookActions:setupLendingToolbarActions - book was expired at intial, no tokenPoller",clearTokenPoller:"IABookActions:startLoanTokenPoller - clearing token poller interval",clearOneHourTimer:"IABookActions:timerCountdown - one-hour timer interval cleared",bookAccessed:"IABookActions:bookAccessed",handleLoanTokenPoller:"IABookActions:handleLoanTokenPoller",setConsecutiveLoanCounts:"IABookActions:setConsecutiveLoanCounts",actionsHandlerService:"IABookActions:actionsHandlerService"},yn=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)||location.host.match(/^internetarchive/)?console.log.bind(console):()=>{};Hl={borrow:"BookReader-ReadingBorrow",browse:"BookReader-ReadingBrowse",preview:"BookReader-Preview",satisfactionMetric:"DetailsPage-Book",bookReaderHeader:"BookReader-Header",adminAccess:"Admin-Access"},Fc={browse:"Borrow-1Hour",browseAgain:"Borrow-Again",browseRenew:"BookRenew",browseReturn:"BookReturn",borrow:"Borrow-14Days",waitlistJoin:"JoinWaitlist",waitlistLeave:"LeaveWaitlist",doneBorrowing:"ReturnBook",login:"LogIn",purchase:"BWBPurchase",unavailable:"Book-Unavailable",printDisability:"Print-Disability",titleBar:"Book-Title-Bar"},fp={browseAutoRenew:"BookAutoRenew",browseAutoReturn:"BookAutoReturn",browseManualRenew:"BookManualRenew",browseManualReturn:"BookManualReturn"};q5=class{constructor(){this.identifier=void 0,this.gaStats={}}storeLoanStatsCount(e,t=""){return yi(this,null,function*(){this.identifier=e;try{yield this.getLoanStatsCount(t),this.sendMatrixStatsEvents(t);let r=new Date;r.setHours(r.getHours()+2),yield mp(this.getLoanCountStorageKey,JSON.stringify(this.lendingEventCounts),r,"/")}catch(r){yn(r),this.sendEvent("Cookies-Error-Actions",r,this.identifier)}})}getLoanStatsCount(e){return yi(this,null,function*(){var l,o,c,n,u,p,g;this.lendingEventCounts=JSON.parse(yield lT(this.getLoanCountStorageKey)),this.gaStats=(l=this.lendingEventCounts)!=null?l:{browse:0,renew:0,expire:0};let t=(c=(o=this.lendingEventCounts)==null?void 0:o.browse)!=null?c:0,r=(u=(n=this.lendingEventCounts)==null?void 0:n.renew)!=null?u:0,a=(g=(p=this.lendingEventCounts)==null?void 0:p.expire)!=null?g:0;switch(e){case"browse":t=t?Number(t)+1:1,this.gaStats.browse=t,r=0,a=0;break;case"autorenew":r=r?Number(r)+1:1,this.gaStats.renew=r;break;case"return":a=a?Number(a)+1:1,this.gaStats.expire=a,r=0,a=0;break;default:break}this.lendingEventCounts={browse:t,renew:r,expire:a}})}sendMatrixStatsEvents(e){var a,l;let t=Hl.browse,r=`browse${this.paddedNumber((a=this.gaStats)==null?void 0:a.browse)}-autorenew${this.paddedNumber((l=this.gaStats)==null?void 0:l.renew)}:${e}`;this.sendEvent(t,r,this.identifier)}paddedNumber(e){return e?e.toString().padStart(3,"0"):"000"}get getLoanCountStorageKey(){return`br-browse-${this.identifier}`}sendEvent(e,t,r,a){var l;yn("eventCategory:-",e,"||	eventAction:-",t,"||	label:-",r,"||	extraParams:-",a),(l=window==null?void 0:window.archive_analytics)==null||l.send_event_no_sampling(e,t,r||this.identifier,a)}},G5=class extends mi{constructor(){super(),this.waitUntillBorrowComplete=6,this.loanAnanlytics=new q5,this.bindEvents()}bindEvents(){this.addEventListener("browseBook",()=>yi(this,null,function*(){var e;this.handleBrowseIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"browse")})),this.addEventListener("browseBookAgain",()=>yi(this,null,function*(){var e;this.handleBrowseIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"browseagain")})),this.addEventListener("autoRenew",t=>yi(this,[t],function*({detail:e}){var a,l;this.handleLoanRenewNow(),yield(a=this.loanAnanlytics)==null?void 0:a.storeLoanStatsCount(this.identifier,"autorenew");let r=(e==null?void 0:e.renewType)==="auto"?fp.browseAutoRenew:fp.browseManualRenew;(l=this.loanAnanlytics)==null||l.sendEvent(Hl.browse,Fc.browseRenew,r,this.identifier)})),this.addEventListener("autoReturn",()=>yi(this,null,function*(){var e,t;this.handleReturnIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"autoreturn"),(t=this.loanAnanlytics)==null||t.sendEvent(Hl.browse,Fc.browseReturn,fp.browseAutoReturn,this.identifier)})),this.addEventListener("returnNow",({detail:e})=>{var t,r,a;if((e==null?void 0:e.borrowType)==="browse"&&((t=this.loanAnanlytics)==null||t.storeLoanStatsCount(this.identifier,"return"),(r=this.loanAnanlytics)==null||r.sendEvent(Hl.browse,Fc.browseReturn,fp.browseManualReturn,this.identifier)),this.handleReturnIt("returnNow"),(e==null?void 0:e.borrowType)==="borrow"){let{category:l,action:o}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(l,o,this.identifier)}}),this.addEventListener("borrowBook",({detail:e})=>{var a;this.handleBorrowIt();let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)}),this.addEventListener("loginAndBorrow",({detail:e})=>{var a;this.handleLoginOk();let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)}),this.addEventListener("leaveWaitlist",({detail:e})=>{var a;this.handleRemoveFromWaitingList();let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)}),this.addEventListener("joinWaitlist",({detail:e})=>{var a;this.handleReserveIt();let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)}),this.addEventListener("purchaseBook",({detail:e})=>{var a;let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)}),this.addEventListener("adminAccess",({detail:e})=>{var l;let{category:t,action:r}=e.event;(l=this.loanAnanlytics)==null||l.sendEvent(t,r,this.identifier),this.setStickyAdminAccess(!0);let a=new URL(window.location.href);a.searchParams.append("admin",1),window.location.search=a.search}),this.addEventListener("exitAdminAccess",({detail:e})=>{var a;let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier),this.setStickyAdminAccess(!1)}),this.addEventListener("bookTitleBar",({detail:e})=>{var a;let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)})}handleBrowseIt(){let e="browse_book";this.dispatchToggleActionGroup(),Bl({action:e,identifier:this.identifier,success:()=>{this.setBrowseTimeSession(),this.handleReadItNow()},error:t=>{this.dispatchActionError(e,t)}})}handleLoanRenewNow(){let e="renew_loan";Bl({action:e,identifier:this.identifier,success:t=>{var l;yn("RENEW_LOAN --- ",t,e,t.loan,this.identifier);let r=t.loan?t.loan:void 0,a=r.renewal;r&&a?this.setBrowseTimeSession():(yn("RENEW_LOAN ERROR --- ",{action:e,isRenewal:a,activeLoan:r,data:t,id:this.identifier}),(l=window==null?void 0:window.Sentry)==null||l.captureMessage(`${es.bookRenewFailed} - Error: ${JSON.stringify(t)}`),this.dispatchActionError(e,{data:t,error:!0,message:"Loan renewal failed: no loan active."})),this.dispatchEvent(new CustomEvent("loanAutoRenewed",{detail:{action:e,data:on(Dr({},t),{loan:r})}}))},error:t=>{this.dispatchActionError(e,t)}})}handleReturnIt(e=""){let t="return_loan";e==="returnNow"&&this.dispatchToggleActionGroup(),Bl({action:t,identifier:this.identifier,success:()=>{this.deleteLoanCookies(),e==="returnNow"&&Fo.goToUrl(this.returnUrl,!0)},error:r=>{this.dispatchActionError(t,r)}})}handleBorrowIt(){let e="borrow_book";this.dispatchToggleActionGroup(),Bl({action:e,identifier:this.identifier,success:()=>{this.handleReadItNow()},error:t=>{this.dispatchActionError(e,t)}})}handleReserveIt(){let e="join_waitlist";this.dispatchToggleActionGroup(),Bl({action:e,identifier:this.identifier,success:()=>{Fo.goToUrl(Fo.getRedirectUrl(),!0)},error:t=>{this.dispatchActionError(e,t)}})}handleRemoveFromWaitingList(){let e="leave_waitlist";this.dispatchToggleActionGroup(),Bl({action:e,identifier:this.identifier,success:()=>{Fo.goToUrl(Fo.getRedirectUrl(),!0)},error:t=>{this.dispatchActionError(e,t)}})}dispatchActionError(e,t={}){var r;(r=this.loanAnanlytics)==null||r.sendEvent("LendingServiceError",e),this.dispatchEvent(new CustomEvent("lendingActionError",{detail:{action:e,data:t}}))}dispatchToggleActionGroup(){this.dispatchEvent(new CustomEvent("toggleActionGroup"))}handleLoginOk(){let e=`/account/login?referer=${encodeURIComponent(Fo.getRedirectUrl())}`;Fo.goToUrl(e,!0)}handleReadItNow(e){let t=new URLSearchParams(window.location.search);if(e){let o=new URLSearchParams(e);for(let[c,n]of o.entries())t.append(c,n)}let r=t.toString(),a=r?`?${r}`:"",l=window.location.origin+window.location.pathname+a;setTimeout(()=>{Fo.goToUrl(l,!0)},this.waitUntillBorrowComplete*1e3)}setBrowseTimeSession(){return yi(this,null,function*(){try{let e=new Date(new Date().getTime()+this.loanTotalTime*1e3);yield this.localCache.set({key:`${this.identifier}-loanTime`,value:e,ttl:Number(this.loanTotalTime)}),yield this.localCache.delete(`${this.identifier}-pageChangedTime`)}catch(e){yn(e)}})}deleteLoanCookies(){let e=new Date;e.setTime(e.getTime()-24*60*60*1e3),mp(`loan-${this.identifier}=""`,"",e,"/",".archive.org"),mp(`br-loan-${this.identifier}=""`,"",e,"/",".archive.org")}setStickyAdminAccess(e){let t=window.location.hostname==="localhost"?"localhost":".archive.org";mp("sticky-admin-access",e,"","/",t)}},V5=pt`var(--white, #fff)`,cT=pt`var(--primaryDisableCTAFill, #767676)`,uT=pt`var(--secondaryCTABorder, #999)`,dT=pt`var(--primaryCTAFill, #194880)`,y0=pt`var(--primaryCTAFillRGB, 25, 72, 128)`,hT=pt`var(--primaryCTABorder, #c5d1df)`,pT=pt`var(--primaryErrorCTAFill, #d9534f)`,b0=pt`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,fT=pt`var(--primaryErrorCTABorder, #d43f3a)`,mT=pt`var(--secondaryCTAFill, #333)`,w0=pt`var(--secondaryCTAFillRGB, 51, 51, 51)`,gT=pt`var(--primaryCTABorder, #979797)`,vT=pt`#ee8950`,yT=pt`#ec7939`,bT=pt`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${V5};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 1rem;
    outline-color: ${V5};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${cT};
    border: 1px solid ${uT};
  }
  .ia-button.transparent {
    background-color: transparent;
  }
  .ia-button.warning {
    background-color: ${vT}
    border-color: ${yT};
  }

  .ia-button.primary {
    background-color: ${dT};
    border-color: ${hT};
  }
  .ia-button.primary:hover {
    background-color: rgba(${y0}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${y0}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${y0}, 0.7);
  }

  .ia-button.danger {
    background-color: ${pT};
    border-color: ${fT};
  }
  .ia-button.danger:hover {
    background-color: rgba(${b0}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${b0}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${b0}, 0.7);
  }

  .ia-button.dark {
    background-color: ${mT};
    border-color: ${gT};
  }
  .ia-button.dark:hover {
    background-color: rgba(${w0}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${w0}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${w0}, 0.7);
  }
`,Hc=pt`var(--white, #fff)`,W5=pt`var(--primaryBGColor, #000)`,wT=pt`var(--iaBookActionsDropdownBGColor, #2d2d2d)`,xT=pt`
  :host {
    display: inline-flex;
    height: 3.5rem;
    padding: 1rem 0;
  }
  .actiongroup {
    display: flex;
    margin-right: 10px;
  }
  .action-buttons {
    display: inline-flex;
    align-items: center;
  }
  .action-buttons .ia-button {
    margin: 0;
    height: 3.5rem;
    padding: 0 2rem;
  }
  .action-buttons .desktop {
    background-color: ${Hc};
    border-radius: 10px;
  }
  .action-buttons .desktop.purchase {
    margin-left: 5px;
  }
  .action-buttons .mobile.purchase.dark {
    padding-left: 0;
  }
  .primary {
    background-color: ${Hc};
    margin-right: 4px;
  }
  .primary,
  .secondary {
    position: relative;
    border-radius: 5px;
  }
  .primary .initial {
    border-radius: 4px 0 0 4px;
    margin-right: 0;
  }
  .primary svg {
    vertical-align: middle;
  }

  .secondary .ia-button.purchase {
    padding: 2px 10px 2px 35px;
    position: relative;
    display: inline-block;
    vertical-align: middle;
  }
  .secondary .ia-button.exit-admin {
    background-color: ${W5};
    border: 1px solid ${Hc};
  }

  .dropdown-content {
    position: absolute;
    min-width: 14rem;
    margin: 0;
    padding: 0;
    background: ${wT};
    border-radius: 4px;
    border: 1px solid var(--primaryCTABorder);
    top: 3.4rem;
    left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
  }
  .dropdown-content li {
    color: ${W5};
    list-style: none;
    height: 3rem;
  }
  .dropdown-content .ia-button {
    background: none;
    color: ${Hc};
    border: none;
    box-sizing: border-box;
    width: 100%;
    text-align: left;
    height: 3rem;
    position: relative;
    padding: 0.6rem 1.2rem;
    margin: 0;
  }
  .dropdown-content .ia-button:is(:focus-visible, :hover) {
    background: unset;
  }
  .dropdown-content li .ia-button {
    border-radius: 0;
  }
  .dropdown-content li .ia-button:hover {
    background: ${Hc};
    color: rgb(45, 45, 45);
  }
  .dropdown-content li:first-child .ia-button {
    border-radius: 0.3rem 0.3rem 0 0;
  }
  .dropdown-content li:last-child .ia-button {
    border-radius: 0;
    border-radius: 0 0 0.3rem 0.3rem;
  }
  .dropdown-content .purchase:hover svg g {
    fill: black;
  }
  .dropdown-content .purchase {
    padding-left: 35px;
    margin: 0;
  }
  .dropdown-content .purchase small {
    display: initial;
    font-size: 1.4rem;
  }

  .ia-button.down-arrow {
    border-radius: 0 0.4rem 0.4rem 0;
    padding: 0 0.6rem;
    margin-left: 0;
  }
  .actionloader {
    vertical-align: middle;
    visibility: hidden;
    padding: 0.9rem 0.2rem;
  }
  .close {
    display: none;
  }
  .open {
    display: block;
    z-index: 2;
  }
  .visible {
    display: inline-block;
  }
  .btn:hover,
  .dropdown:hover .btn {
    background-color: ${Hc};
  }
  a {
    text-decoration: none;
  }
  .purchase small {
    display: block;
    font-size: 1rem;
  }
  .purchase svg {
    position: absolute;
    left: 10px;
    top: 20%;
  }
  .unavailable {
    opacity: 0.7;
    pointer-events: none;
  }
  .disabled {
    opacity: 0.8;
    pointer-events: none;
    visibility: visible;
  }
`,_T=Ke`<svg
  height="20"
  viewBox="0 0 75 75"
  width="20"
  xmlns="http://www.w3.org/2000/svg"
>
  <g fill="#fff" fill-rule="evenodd" transform="translate(0 13.736264)">
    <path
      d="m22.8463837 18.2119173c6.5756797.1478113 10.585751 1.8020104 13.0298545 3.5887422l3.9291669 17.6234408c-4.8169735 1.3742664-9.2153954 4.1561307-12.6728799 7.9003587-5.9346575-9.1046945-13.627732-14.2752618-26.92576083-19.445829l.0576431-.0724863.08436419-.1026121c1.1105031-1.331793 8.72437099-9.8023542 22.49761204-9.4916143z"
    />
    <path
      d="m74.9439846 1.1046788c-8.1318682 11.7830147-14.8351649 24.4553135-17.2527473 38.4615385-2.8571429-1.0004447-5.9340659-1.5562473-9.1208791-1.5562473-1.3812656 0-2.7625312.1317192-4.0892393.3399693l-2.9788221-18.0144913c6.444022-11.67552841 19.228784-18.40456144 32.9707606-19.20539059z"
    />
    <path
      d="m36.8571258 21.719357 3.6273911-.8052884 2.5793903 17.8073684c-.7020757.1150413-1.4041514.2300825-2.1062271.4601649z"
    />
    <path
      d="m70.1594803.55538282c-13.7069528 2.06173881-23.764449 8.35192747-29.6753948 19.07620888l-.2624906.5200262-3.7425669.8013234c-2.8059684-1.7413364-5.5070193-3.8778459-12.5979079-4.0336896-7.5995702-.1676376-12.2045639 1.9616824-16.46353768 3.7996974l.57415955-.5673312c4.03313533-3.936109 8.45564043-7.3737923 14.98104763-8.4391649 4.9512458-.776666 10.8981852.1535901 14.8163388 6.4911269.6044492-19.13367701 23.3058132-18.5735241 32.3703519-17.64819708z"
    />
  </g>
</svg>`,kT=Ke`<svg
  height="4"
  viewBox="0 0 8 4"
  width="8"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
    fill="#fff"
  />
</svg>`,x0=Ke`<svg
  height="4"
  viewBox="0 0 8 4"
  width="8"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
    fill="#fff"
  />
</svg>`,AT=class extends G5{static get properties(){return{userid:{type:String},identifier:{type:String},primaryActions:{type:Array},secondaryActions:{type:Array},primaryColor:{type:String},dropdownState:{type:String},width:{type:Number},hasAdminAccess:{type:Boolean},dropdownArrow:{type:String},disabled:{type:Boolean},returnUrl:{type:String},autoRenew:{type:Boolean},loanRenewType:{type:String},autoReturn:{type:Boolean},returnNow:{type:Boolean}}}constructor(){super(),this.userid="",this.identifier="",this.primaryActions=[],this.secondaryActions=[],this.primaryColor="",this.dropdownState="close",this.width=0,this.hasAdminAccess=!1,this.dropdownArrow=x0,this.initialButton=!1,this.title="",this.loaderIcon="https://archive.org/upload/images/tree/loading.gif",this.disabled=!1,this.returnUrl="",this.autoRenew=!1,this.loanRenewType="",this.autoReturn=!1,this.returnNow=!1}updated(e){(e.has("width")||e.has("disabled"))&&this.isBelowTabletContainer&&this.resetActions(),e.has("autoRenew")&&this.autoRenew&&this.dispatchLoanEvent("autoRenew",{renewType:this.loanRenewType});let t=e.has("autoReturn")&&this.autoReturn;t&&this.dispatchLoanEvent("autoReturn"),e.has("returnNow")&&this.returnNow&&!t&&this.dispatchLoanEvent("returnNow",{borrowType:"browse"})}dispatchLoanEvent(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}resetActions(){this.primaryActions.length&&(this.primaryActions=this.primaryActions.concat(this.secondaryActions),this.primaryColor=this.primaryActions[0].className,this.hasAdminAccess&&this.sortActionButtonOrder(),this.secondaryActions=[])}sortActionButtonOrder(){let e=1,t=0;this.secondaryActions.length===2&&(e=2),e=this.primaryActions.length-e;let r=this.primaryActions[e],a=this.primaryActions;a.splice(e,1),a.splice(t,0,r),this.primaryActions=a}render(){return Ke`
      <div
        class="${Sl({actiongroup:!0,disabled:this.disabled})}"
      >
        ${this.getLoaderIcon}
        <section class="action-buttons primary">
          ${this.renderPrimaryActions}
        </section>
        <section class="action-buttons secondary">
          ${this.renderSecondaryActions}
        </section>
      </div>
    `}get renderPrimaryActions(){return this.primaryActions.length===0?Ei:(this.dropdownState==="close"&&(this.primaryColor=this.primaryActions[0].className),this.primaryActions.length===1?this.initialActionTemplate:Ke`
      ${this.initialActionTemplate}
      <button
        class="ia-button ${this.primaryColor} down-arrow"
        @click=${this.toggleDropdown}
      >
        ${this.dropdownArrow}
      </button>

      <ul class="dropdown-content ${this.dropdownState}">
        ${this.getPrimaryItems}
      </ul>
    `)}get renderSecondaryActions(){return this.secondaryActions.length?this.secondaryActions.map(e=>this.renderActionButton(e)):Ei}renderActionLink(e,t=!1){return Ke`<span class="${this.getDeviceType} ${e.className}">
      <a
        class="ia-button ${e.className} ${t?"initial":""}"
        href="${e.url}"
        target=${e.target}
        @click=${()=>{this.clickHandler(e.id,e.analyticsEvent,e==null?void 0:e.borrowType)}}
      >
        ${e.id==="purchaseBook"?_T:""} ${e.text}
        <small>${e.subText}</small>
      </a>
    </span>`}renderActionButton(e,t=!1){if(e.url)return this.renderActionLink(e,t);let{analyticsEvent:r}=e;return Ke`<button
      class="ia-button ${e.className} ${t?"initial":""}"
      @click=${()=>{this.clickHandler(e.id,r,e==null?void 0:e.borrowType)}}
    >
      ${e.text}
    </button>`}clickHandler(e,t,r=""){if(this.dropdownState="close",this.dropdownArrow=x0,!t||!e)return;let{category:a,action:l}=t;this.dispatchEvent(new CustomEvent(e,{detail:{event:{category:a,action:l},borrowType:r}}))}get initialActionTemplate(){return this.initialButton=!1,this.primaryActions.length>1&&(this.initialButton=!0),this.renderActionButton(this.primaryActions[0],this.initialButton)}get getPrimaryItems(){return this.primaryActions.slice(1).map(e=>Ke`<li>${this.renderActionButton(e,this.initialButton)}</li>`)}get getLoaderIcon(){return Ke`<img
      class="${Sl({actionloader:!0,disabled:this.disabled})}"
      alt=""
      src="${this.loaderIcon}"
    />`}get isBelowTabletContainer(){return this.width<=800}get getDeviceType(){return this.isBelowTabletContainer?"mobile":"desktop"}toggleDropdown(){this.dropdownState==="open"?(this.dropdownState="close",this.dropdownArrow=x0,this.primaryColor=this.primaryActions[0].className):(this.dropdownState="open",this.dropdownArrow=kT,this.primaryColor="dark")}static get styles(){return[bT,xT]}};window.customElements.define("collapsible-action-group",AT);ST=Ke`
  <svg
    class="ia-logo"
    width="26"
    height="26"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building façade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" fill="white">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use fill="#FFFFFF" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" fill="#FFFFFF">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,CT=class extends G5{static get properties(){return{identifier:{type:String},bookTitle:{type:String}}}constructor(){super(),this.identifier="",this.bookTitle="",this.analyticsCategories=Hl,this.analyticsActions=Fc}clickHandler(){let{category:e,action:t}={category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.titleBar};this.dispatchEvent(new CustomEvent("bookTitleBar",{detail:{event:{category:e,action:t}}}))}render(){return Ke`
      <a
        class="embed-link"
        @click=${()=>{this.clickHandler()}}
        href="/details/${this.identifier}"
      >
        <span>${ST}</span>
        <span class="title">${this.bookTitle}</span>
      </a>
    `}static get styles(){return pt`
      :host {
        padding: 0 10px;
        height: 3.4rem;
        display: flex;
      }
      .embed-link {
        display: inline-flex;
        align-items: center;
        text-decoration: none;
        color: var(--primaryTextColor, #fff);
        font-size: 1.4rem;
      }
      .embed-link .title {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
        text-align: left;
        line-height: initial;
      }
      .embed-link svg {
        margin-right: 0.5rem;
        display: block;
      }
      .embed-link:hover {
        text-decoration: underline;
      }
    `}};window.customElements.define("book-title-bar",CT);ET=class extends mi{static get properties(){return{texts:{type:String},textClass:{type:String}}}constructor(){super(),this.texts="",this.textClass=""}render(){return Ke`
      <span class="variable-texts ${this.textClass}">${this.texts}</span>
    `}static get styles(){return pt`
      :host {
        display: inline-block;
      }
      .variable-texts {
        margin-right: 10px;
        vertical-align: middle;
        font-size: 1.7rem;
      }
      .hidden {
        display: none;
      }
      .visible {
        display: inline-block;
      }
    `}};window.customElements.define("text-group",ET);TT=class extends mi{static get properties(){return{iconClass:{type:String}}}constructor(){super(),this.iconClass="",this.helpURL="https://help.archive.org/help/borrowing-from-the-lending-library"}render(){return Ke`
      <a
        class="more-info-icon ${this.iconClass}"
        href=${this.helpURL}
        target="_blank"
        title="Get more info on borrowing from The Lending Library"
        data-event-click-tracking="BookReader|BrowsableMoreInfo"
      >
        <ia-icon-info></ia-icon-info>
      </a>
    `}get getInfoIcon(){return An`${us(this.icon)}`}static get styles(){return pt`
      ia-icon-info {
        display: inline-block;
        width: 18px;
        height: 20px;
        vertical-align: middle;
        --iconFillColor: white;
      }
      .more-info-icon img {
        width: 24px;
        height: 24px;
        vertical-align: middle;
        background: white;
      }
      .hidden {
        display: none;
      }
      .visible {
        display: inline-block;
      }
    `}};window.customElements.define("info-icon",TT);PT=class extends mi{static get properties(){return{secondsLeftOnLoan:{type:Number},displayTime:{type:Boolean}}}constructor(){super(),this.secondsLeftOnLoan=0,this.displayTime=!1}get minutesLeftOnLoan(){let e=Math.round(this.secondsLeftOnLoan);return e=Math.ceil(e/60),e<10?e=`0:0${e}`:e===60?e="1:00":e=`0:${e}`,e}get remainingTime(){let e="minute",t=this.minutesLeftOnLoan;return t!==1?`${t} ${e}s`:`${t} ${e}`}render(){let e=this.displayTime?"view":"hide";return Ke`
      <button
        id="timer-counter"
        class=${e}
        @click=${()=>{this.displayTime=!this.displayTime}}
        role="timer"
      >
        <span>${this.minutesLeftOnLoan} - </span>
        <span class="second">${Number(this.secondsLeftOnLoan)}</span>
        <span class="sr-only">${this.remainingTime} left</span>
      </button>
    `}static get styles(){return pt`
      :host {
        right: 0;
        margin-right: 10px;
        position: absolute;
      }

      .sr-only {
        position: absolute;
        left: -9999px;
        width: 1px;
        height: 1px;
        margin: 0;
        padding: 0;
        border: none;
        overflow: hidden;
      }

      button#timer-counter {
        cursor: pointer;
      }

      .hide {
        opacity: 0;
      }

      .show {
        opacity: 1;
      }
    `}};window.customElements.define("timer-countdown",PT);window.IALendingIntervals={tokenPoller:0,timerCountdown:0,browseExpireTimeout:0,clearTokenPoller:()=>{window.clearInterval(window.IALendingIntervals.tokenPoller),window.IALendingIntervals.tokenPoller=0},clearTimerCountdown:()=>{window.clearInterval(window.IALendingIntervals.timerCountdown),window.IALendingIntervals.timerCountdown=0},clearBrowseExpireTimeout:()=>{window.clearTimeout(window.IALendingIntervals.browseExpireTimeout),window.IALendingIntervals.browseExpireTimeout=0},clearAll:()=>{var e,t,r;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller(),(t=window==null?void 0:window.IALendingIntervals)==null||t.clearTimerCountdown(),(r=window==null?void 0:window.IALendingIntervals)==null||r.clearBrowseExpireTimeout()}};$T=class{constructor(e,t,r={},a){this.userid=e,this.identifier=t,this.lendingStatus=r,this.bwbPurchaseUrl=a,this.printDisabilityLink="/details/printdisabled?tab=about",this.analyticsCategories=Hl,this.analyticsActions=Fc}firstBrowseConfig(){return{id:"browseBook",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.browse}}}browseAgainConfig(){return{id:"browseBookAgain",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.browse,action:this.analyticsActions.browseAgain}}}returnBookConfig(){return{id:"returnNow",text:"Return now",className:"danger",analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.borrow,action:this.analyticsActions.doneBorrowing},borrowType:this.lendingStatus.user_has_browsed?"browse":"borrow"}}borrowBookConfig(e=!1){return!this.lendingStatus.available_to_borrow&&!this.lendingStatus.user_is_printdisabled||this.lendingStatus.user_has_borrowed?null:{id:"borrowBook",text:"Borrow for 14 days",className:"primary",disabled:e,analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.preview,action:this.analyticsActions.borrow}}}loginAndBorrowBookConfig(){return{id:"loginAndBorrow",text:"Log In and Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}leaveWaitlistConfig(){return{id:"leaveWaitlist",text:"Leave Waitlist",className:"dark",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistLeave}}}loginAndWaitlistConfig(){return{id:"loginAndWaitlist",text:"Log In and Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}waitlistConfig(){let e=!!this.userid,t=this.lendingStatus||{};return!t.available_to_waitlist||t.available_to_borrow?null:e?{id:"joinWaitlist",text:"Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistJoin}}:this.loginAndWaitlistConfig()}purchaseConfig(){return this.bwbPurchaseUrl?{id:"purchaseBook",text:"Purchase at ",subText:"Better World Books",title:"Purchase",url:this.bwbPurchaseUrl,target:"_blank",className:"purchase dark",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.purchase}}:null}printDisabilityConfig(){return this.lendingStatus.user_is_printdisabled?null:{id:"printDisability",text:"Print Disability Access",title:"Print Disability Access",url:this.printDisabilityLink,target:"_self",className:"print-disability",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.printDisability}}}adminAccessConfig(){return this.lendingStatus.user_has_borrowed||!this.lendingStatus.isAdmin?null:{id:"adminAccess",text:"Admin Access",title:"You have administrative privileges to read this book",className:"danger",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.borrow}}}adminOrPrintDisabledExitConfig(){return{id:"exitAdminAccess",text:`\u2190 Exit ${Fo.getQueryParam("admin")==="1"?"admin":"print-disabled"} access mode`,url:Fo.getBackHref(),target:"_self",className:"exit-admin",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.doneBorrowing}}}unavailableBookConfig(){return{id:"borrowUnavailable",text:"Borrow Unavailable",className:"primary unavailable",disabled:!0,analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.unavailable}}}isEmbed(e){return{primaryTitle:`<img src=/images/glogo-jw.png> <a href=/details/${this.identifier}>${e}</a>`,primaryActions:[],primaryColor:""}}},uo={available_1hr:"Renews automatically with continued use.",available_14d:"This book can be borrowed for 14 days.",available_pd:"Book available to patrons with print disabilities.",available_waitlist:"A waitlist is available.",admin_access:"You have administrative privileges to read this book.",claim_waitlist:"You are at the top of the waitlist for this book.",being_borrowed:"Another patron is using this book. Please check back later.",eligible_pd:"You are eligible for print-disabled access.",on_waitlist:"You are on the waitlist for this book.",session_expired:"Renews automatically with continued use.",unavailable:"This book is not available at this time."},LT=class{constructor(e,t,r,a){this.userid=e,this.identifier=t,this.lendingStatus=r,this.bwbPurchaseUrl=a,this.analyticsCategories=Hl,this.analyticsActions=Fc,this.actionsConfig=new $T(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl)}onlyAdminAction(){return{primaryTitle:uo.admin_access,primaryActions:[],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}adminOrPrintDisabledReadingAction(){return{primaryTitle:"",primaryActions:[],secondaryActions:[this.actionsConfig.adminOrPrintDisabledExitConfig()],borrowType:"adminBorrowed"}}patronIsReadingAction(){let e=this.lendingStatus||{},t=e.loanCount>=e.maxLoans,r="",a=e.user_has_browsed&&!e.browsingExpired;return a?r=uo.available_1hr:r=`Your loan of this book has ${e.daysLeftOnLoan} days left.`,{primaryTitle:r,primaryActions:[this.actionsConfig.returnBookConfig(),this.actionsConfig.borrowBookConfig(t),this.actionsConfig.waitlistConfig(),this.actionsConfig.printDisabilityConfig()],primaryColor:"danger",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()],borrowType:a?"browsed":"borrowed"}}claimWaitlistAction(){let e=this.lendingStatus||{},t=this.actionsConfig.leaveWaitlistConfig(),r=this.actionsConfig.borrowBookConfig(),a=e.available_to_browse?this.actionsConfig.firstBrowseConfig():null,l=[r];return a&&l.push(a),l.push(t),{primaryTitle:uo.claim_waitlist,primaryActions:l,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrowPrintDisabledAction(){return{primaryTitle:uo.eligible_pd,primaryActions:[this.actionsConfig.borrowBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}onlyPrintDisabledAction(){let e=this.lendingStatus.isAdmin?[]:this.actionsConfig.unavailableBookConfig();return{primaryTitle:uo.available_pd,primaryActions:[e],primaryColor:"primary",secondaryActions:[]}}onWaitlistAction(){return{primaryTitle:uo.on_waitlist,primaryActions:[this.actionsConfig.leaveWaitlistConfig(),this.actionsConfig.firstBrowseConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}restrictedAction(){let e=this.lendingStatus||{};return{primaryTitle:e.max_browsable_copies&&!e.available_lendable_copies?uo.being_borrowed:uo.unavailable,primaryActions:[this.actionsConfig.unavailableBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}loggedOutOptions(){let e=this.lendingStatus||{},t=!e.available_to_waitlist&&!e.available_to_borrow,r=this.actionsConfig.waitlistConfig(),a=null;e.available_to_borrow||e.available_to_browse?a=this.actionsConfig.loginAndBorrowBookConfig():t&&(a=this.actionsConfig.unavailableBookConfig());let l=this.actionsConfig.printDisabilityConfig(),o=[a,r,l].filter(c=>c!==null);return{primaryTitle:e.available_to_browse?uo.available_1hr:e.available_to_borrow?uo.available_14d:uo.unavailable,primaryActions:o,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrow1HrAction(){let e=this.lendingStatus||{},t=!e.available_to_browse&&e.browsingExpired,r=e.available_to_browse||t,a=r&&e.available_to_borrow,l=r&&!e.available_to_borrow&&e.available_to_waitlist,o=r&&!e.available_to_borrow&&!e.available_to_waitlist,c=e.available_browsable_copies<1&&e.available_browsable_copies<e.max_browsable_copies,n=t?uo.session_expired:!r&&c?uo.being_borrowed:!r&&e.available_to_waitlist?uo.available_waitlist:uo.available_1hr,u=t?this.actionsConfig.browseAgainConfig():this.actionsConfig.firstBrowseConfig(),p=this.actionsConfig.borrowBookConfig(),g=this.actionsConfig.waitlistConfig(),m=this.actionsConfig.printDisabilityConfig();return{primaryTitle:n,primaryActions:o?[u,m]:a?[u,p,m]:l?[u,g,m]:[],primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrowAction(){let e=this.lendingStatus||{};if(!this.userid)return this.loggedOutOptions();if(e.available_to_browse||e.browsingExpired)return this.borrow1HrAction();let t=null,r=this.actionsConfig.waitlistConfig(),a=this.actionsConfig.printDisabilityConfig(),l=e.loanCount>=e.maxLoans;!e.available_to_borrow&&!r?t=this.actionsConfig.unavailableBookConfig():e.available_to_borrow&&(t=this.actionsConfig.borrowBookConfig(l));let o=[t,r,a].filter(function(c){return c!==null});return{primaryTitle:r?uo.being_borrowed:"",primaryActions:o,primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}getBrowseCountdownTitle(){let e=this.lendingStatus.secondsLeftOnLoan;var t=new Date(+new Date+e*1e3),r=t.getHours()%12,a=(""+t.getMinutes()).replace(/^(\d{1})$/,"0$1"),l=t.getHours()>11?" PM":" AM";return r===0&&(r=12),"Borrow ends at "+r+":"+a+l}getCurrentLendingActions(){let e,t=this.lendingStatus||{},r=Fo.getQueryParam("admin")=="1"&&t.isAdmin,a=Fo.getQueryParam("access")=="1"&&t.user_is_printdisabled,l=t.user_has_borrowed||t.user_has_browsed&&!t.browsingExpired,o=!t.user_has_borrowed&&!t.user_has_browsed,c=!t.available_to_borrow&&!t.available_to_browse,n=t.is_printdisabled&&t.user_is_printdisabled,u=(t.available_to_browse||t.available_to_borrow)&&o&&!t.user_on_waitlist;return r||a?e=this.adminOrPrintDisabledReadingAction():t.isAdmin&&o&&c?e=this.onlyAdminAction():l?e=this.patronIsReadingAction():t.user_can_claim_waitlist?e=this.claimWaitlistAction():n?e=this.borrowPrintDisabledAction():u||t.browsingExpired?e=this.borrowAction():t.isPrintDisabledOnly?e=this.onlyPrintDisabledAction():t.user_on_waitlist?e=this.onWaitlistAction():e=this.restrictedAction(),e}},OT=class{constructor(e,t,r,a,l){this.identifier=e,this.borrowType=t,this.successCallback=r,this.errorCallback=a,this.pollerDelay=l,this.loanTokenInterval=void 0,this.loanAnalytics=new q5,this.bookAccessed()}disconnectedCallback(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller()}bookAccessed(){return yi(this,null,function*(){var e;this.borrowType?(this.handleLoanTokenPoller(!0),this.borrowType!=="adminBorrowed"&&(window.IALendingIntervals.tokenPoller=setInterval(()=>{this.handleLoanTokenPoller()},this.pollerDelay*1e3))):((e=window==null?void 0:window.Sentry)==null||e.captureMessage(`${es.bookAccessed} - not borrowed`),this.disconnectedCallback())})}handleLoanTokenPoller(e=!1){return yi(this,null,function*(){let t="create_token";Bl({identifier:this.identifier,action:t,error:r=>{var a,l;this.errorCallback({detail:{action:t,data:r}}),(a=window==null?void 0:window.Sentry)==null||a.captureMessage(`${es.handleLoanTokenPoller} - Error: ${JSON.stringify(r)}`),(l=this.loanAnalytics)==null||l.sendEvent("LendingServiceLoanError",t,this.identifier)},success:()=>{e&&this.successCallback()}})})}},MT=class{constructor(e,t,r,a){this.hasPageChanged=e,this.identifier=t,this.localCache=r,this.loanRenewTimeConfig=a,this.loanRenewMessage="This book has been renewed for #time #unitsOfTime.",this.loanReturnWarning="With no action, this book will be auto-returned in #time #unitsOfTime.",this.result={texts:null,renewNow:!1,renewType:""}}handleLoanRenew(){try{return this.hasPageChanged?this.pageChanged():this.autoChecker()}catch(e){yn(e)}return Ei}pageChanged(){return yi(this,null,function*(){let{loanRenewAtLast:e}=this.loanRenewTimeConfig,t=new Date,r=yield this.localCache.get(`${this.identifier}-loanTime`),a=this.changeTime(r,e,"sub");return a!==null&&t>=a&&(this.result={texts:this.loanRenewMessage,renewNow:!0,renewType:"auto"}),this.setPageChangedTime(),this.result})}autoChecker(){return yi(this,null,function*(){let{pageChangedInLast:e}=this.loanRenewTimeConfig,t=yield this.localCache.get(`${this.identifier}-pageChangedTime`),r=this.changeTime(new Date,e,"sub");return t===void 0||t<=r?this.result={texts:this.loanReturnWarning,renewNow:!1,renewType:""}:t>=r&&(this.result={texts:"",renewNow:!0,renewType:"auto"}),this.result})}setPageChangedTime(){return yi(this,null,function*(){yield this.localCache.set({key:`${this.identifier}-pageChangedTime`,value:new Date,ttl:Number(this.loanRenewTimeConfig.loanTotalTime)})})}getMessageTexts(e,t){let r="minute",a=e,l=t;return l=Math.ceil(l/60),l>59&&(l=1,r="hour"),a=a==null?void 0:a.replace(/#time/,l),a==null?void 0:a.replace(/#unitsOfTime/,l!==1?`${r}s`:r)}changeTime(e,t,r){return e===void 0?null:r==="sub"?new Date(e.getTime()-t*1e3):new Date(e.getTime()+t*1e3)}},IT={browseExpired:"IABookReader:BrowsingHasExpired"},Ho={iaButton:"min-height:3.5rem;cursor:pointer;color:white;border-radius:0.4rem;border:1px solid #c5d1df;padding:4px 8px;width:auto;user-select:none;",renew:"background:#194880;width:110px;",return:"background:#d9534f;width:120px;",loaderIcon:"display:inline-block;width:20px;height:20px;margin-top:2px;color:white;--activityIndicatorLoadingRingColor:#fff;--activityIndicatorLoadingDotColor:#fff;",refresh:"background:none;font-size:inherit;border:0;padding:0;color:#0000ee;cursor:pointer;text-decoration:underline"},RT=class extends mi{static get properties(){return{userid:{type:String},identifier:{type:String},bookTitle:{type:String},lendingStatus:{type:Object},returnUrl:{type:String},width:{type:Number},bwbPurchaseUrl:{type:String},lendingBarPostInit:{type:Function,attribute:!1},barType:{type:String},sharedObserver:{attribute:!1},disableActionGroup:{type:Boolean},modal:{Object},tokenDelay:{type:Number},timerExecutionSeconds:{type:Number},localCache:{type:Object},loanRenewTimeConfig:{type:Object},loanRenewResult:{type:Object}}}constructor(){super(),this.userid="",this.identifier="",this.bookTitle="",this.returnUrl="",this.lendingStatus={},this.width=0,this.bwbPurchaseUrl="",this.lendingBarPostInit=()=>{},this.barType="action",this.sharedObserver=void 0,this.disableActionGroup=!1,this.tokenDelay=120,this.timerExecutionSeconds=30,this.postInitComplete=!1,this.primaryActions=[],this.primaryTitle="",this.primaryColor="primary",this.secondaryActions=[],this.lendingOptions={},this.borrowType=null,this.browseTimer=void 0,this.timeWhenTimerStart=void 0,this.returnNow=!1,this.loanRenewTimeConfig={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900},this.loanRenewResult={texts:"",renewNow:!1,secondsLeft:0,renewType:""}}disconnectedCallback(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearAll(),this.sentryCaptureMsg(es.disconnectedCallback),this.disconnectResizeObserver()}sentryCaptureMsg(e){var t;yn(window==null?void 0:window.Sentry),(t=window==null?void 0:window.Sentry)==null||t.captureMessage(e)}firstUpdated(){this.bindLoanRenewEvents(),this.localCache=new U5({namespace:"loanRenew"}),this.sharedObserver||(this.sharedObserver=new Ro,this.setupResizeObserver())}updated(e){(e.has("lendingStatus")||e.has("bwbPurchaseUrl"))&&this.setupLendingToolbarActions(),e.has("sharedObserver")&&(this.disconnectResizeObserver(),this.setupResizeObserver()),e.has("loanRenewResult")&&this.loanRenewResult.renewNow&&window.IALendingIntervals.clearAll()}handleResize(e){let{target:t}=e;if(t!==this.shadowRoot.host)return;let{contentRect:r}=e;this.width=Math.round(r.width)}disconnectResizeObserver(){var e;(e=this.sharedObserver)==null||e.removeObserver({handler:this,target:this.shadowRoot.host})}setupResizeObserver(){var e;this.shadowRoot&&((e=this.sharedObserver)==null||e.addObserver({handler:this,target:this.shadowRoot.host}))}setupLendingToolbarActions(){return yi(this,null,function*(){var r,a,l,o;this.lendingOptions=new LT(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl);let e=this.lendingOptions.getCurrentLendingActions();if(!e)return;this.primaryTitle=e.primaryTitle,this.primaryActions=(r=e.primaryActions)==null?void 0:r.filter(c=>c!=null),this.primaryColor=e.primaryColor,this.secondaryActions=(a=e.secondaryActions)==null?void 0:a.filter(c=>c!=null),this.borrowType=e.borrowType?e.borrowType:null;let t="browsingExpired"in this.lendingStatus&&((l=this.lendingStatus)==null?void 0:l.browsingExpired);if(t){yn("setupLendingToolbarActions > hasExpired --- "),this.tokenPoller||this.sentryCaptureMsg(es.bookWasExpired),(o=window==null?void 0:window.IALendingIntervals)==null||o.clearAll(),this.dispatchEvent(new Event(IT.browseExpired,{bubbles:!0,cancelable:!1,composed:!0}));return}if(this.borrowType==="browsed"&&(yield this.startTimerCountdown(),yield this.startBrowseTimer()),!this.borrowType||this.barType==="title"){this.lendingBarPostInit();return}setTimeout(()=>{!t&&!window.IALendingIntervals.tokenPoller&&this.startLoanTokenPoller()},100),this.requestUpdate()})}bindLoanRenewEvents(){window.addEventListener("BookReader:userAction",()=>{yn("IABookActions:BookReader:userAction"),this.borrowType==="browsed"&&this.autoLoanRenewChecker(!0)}),document.addEventListener("visibilitychange",()=>yi(this,null,function*(){if(!document.hidden&&(yn("visibilitychange event execute:------------------ ",new Date().getMinutes(),new Date().getSeconds(),this.borrowType),this.borrowType==="browsed"&&this.lendingStatus.browsingExpired===!1)){let e=yield this.localCache.get(`${this.identifier}-loanTime`),t=Math.round((e-new Date)/1e3);t>=this.timerExecutionSeconds?this.loanStatusCheckInterval(Number(t)):(this.browseHasExpired(),this.disconnectedCallback())}}))}autoLoanRenewChecker(e=!1){return yi(this,null,function*(){this.loanRenewHelper=new MT(e,this.identifier,this.localCache,this.loanRenewTimeConfig),yield this.loanRenewHelper.handleLoanRenew(),this.loanRenewResult=this.loanRenewHelper.result})}get modal(){let e=document.body.querySelector("modal-manager");return e==null||e.setAttribute("id","action-bar-modal"),e}showWarningModal(){return yi(this,null,function*(){var a,l,o;yn("****** showWarningModal ******"),this.modal.customModalContent=Ei,(a=this.modal)==null||a.closeModal(),this.loanRenewResult={texts:"",renewNow:!1};let{secondsLeft:e}=this.loanRenewResult;e===void 0?e=this.lendingStatus.secondsLeftOnLoan:e=e>60?e:60;let t=new Nl({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(l=this.loanRenewHelper)==null?void 0:l.getMessageTexts(this.loanRenewResult.texts,e)}),r=Ke`<br />
      <div
        id="book-action-bar-custom-buttons"
        style="display:flex;justify-content:center;"
      >
        <button
          style="${Ho.iaButton} ${Ho.renew}"
          @click=${()=>this.patronWantsToRenewBook()}
        >
          Keep reading
        </button>
        <button
          style="${Ho.iaButton} ${Ho.return}"
          @click=${()=>this.patronWantsToReturnBook()}
        >
          Return the book
        </button>
      </div> `;this.modal.setAttribute("aria-live","assertive"),yield(o=this.modal)==null?void 0:o.showModal({config:t,customModalContent:r})})}showWarningDisabledModal(e="renewBook"){return yi(this,null,function*(){var l,o;let{secondsLeft:t}=this.loanRenewResult;t===void 0?t=this.lendingStatus.secondsLeftOnLoan:t=t>60?t:60;let r=new Nl({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(l=this.loanRenewHelper)==null?void 0:l.getMessageTexts(this.loanRenewResult.texts,t)}),a=Ke`<br />
      <div
        id="disabled-book-action-bar-custom-buttons"
        style="display:flex;justify-content:center; opacity:0.8; pointer-events:none;"
      >
        <button
          disabled
          style="${Ho.iaButton} ${Ho.renew}"
        >
          ${e==="renewBook"?Ke`<ia-activity-indicator
                mode="processing"
                style=${Ho.loaderIcon}
              ></ia-activity-indicator>`:"Keep reading"}
        </button>
        <span
          style="position: absolute; visibility: none; height: 1px; width: 1px; overflow: hidden;"
          >Renewing loan, one moment please.</span
        >
        <button
          disabled
          style="${Ho.iaButton} ${Ho.return}"
        >
          ${e==="returnBook"?Ke`<ia-activity-indicator
                mode="processing"
                style=${Ho.loaderIcon}
              ></ia-activity-indicator>`:"Return the book"}
        </button>
      </div> `;yield(o=this.modal)==null?void 0:o.showModal({config:r,customModalContent:a})})}patronWantsToRenewBook(){return yi(this,null,function*(){this.showWarningDisabledModal(),this.loanRenewResult={texts:"",renewNow:!0,renewType:"manual"}})}patronWantsToReturnBook(){return yi(this,null,function*(){this.showWarningDisabledModal("returnBook"),document.querySelector("ia-book-actions").disableActionGroup=!0,this.returnNow=!0})}showExpiredModal(){return yi(this,null,function*(){var r;let e=new Nl({headline:"",showCloseButton:!1,closeOnBackdropClick:!1,headerColor:"#194880",message:"This book has been returned due to inactivity."}),t=Ke`<br />
      <div style="text-align: center">
        <button
          style="${Ho.iaButton} ${Ho.renew}"
          @click=${()=>{Fo.goToUrl(this.returnUrl,!0)}}
        >
          Okay
        </button>
      </div> `;yield(r=this.modal)==null?void 0:r.showModal({config:e,customModalContent:t})})}browseHasExpired(){return yi(this,null,function*(){var t;yn("BrowseHasExpired ---"),(t=window==null?void 0:window.IALendingIntervals)==null||t.clearAll();let e=on(Dr({},this.lendingStatus),{browsingExpired:!0,secondsLeftOnLoan:0});this.lendingStatus=e,yield this.localCache.delete(`${this.identifier}-loanTime`),yield this.localCache.delete(`${this.identifier}-pageChangedTime`),this.loanRenewResult.renewNow=!1,this.loanRenewResult.texts="This book has been returned due to inactivity.",yield this.showExpiredModal(),this.sentryCaptureMsg(es.browseHasExpired)})}startBrowseTimer(){return yi(this,null,function*(){var a;(a=window==null?void 0:window.IALendingIntervals)==null||a.clearBrowseExpireTimeout();let{browsingExpired:e,user_has_browsed:t,secondsLeftOnLoan:r}=this.lendingStatus;if(!t||e){yn("startBrowseTimer --- !user_has_browsed || browsingExpired",{user_has_browsed:t,browsingExpired:e,secondsLeftOnLoan:r});return}window.IALendingIntervals.browseExpireTimeout=setTimeout(()=>{yn("startBrowseTimer > browseExpireTimeout --- will expire loan",r),this.browseHasExpired()},r*1e3)})}render(){return this.barType==="title"?Ke`<section class="lending-wrapper">
        ${this.bookTitleBar}
      </section>`:Ke`<section class="lending-wrapper">
      ${this.bookActionBar}
    </section>`}get bookTitleBar(){return Ke`<book-title-bar
      .identifier=${this.identifier}
      .bookTitle=${this.bookTitle}
    ></book-title-bar>`}get timerCountdownEl(){return this.shadowRoot.querySelector("timer-countdown")}get bookActionBar(){return Ke`
      <collapsible-action-group
        .userid=${this.userid}
        .identifier=${this.identifier}
        .primaryColor=${this.primaryColor}
        .primaryActions=${this.primaryActions}
        .secondaryActions=${this.secondaryActions}
        .width=${this.width}
        .borrowType=${this.borrowType}
        .returnUrl=${this.returnUrl}
        .localCache=${this.localCache}
        .loanTotalTime=${this.loanRenewTimeConfig.loanTotalTime}
        .loanRenewType=${this.loanRenewResult.renewType}
        ?hasAdminAccess=${this.hasAdminAccess}
        ?disabled=${this.disableActionGroup}
        ?autoRenew=${this.loanRenewResult.renewNow}
        ?autoReturn=${this.lendingStatus.browsingExpired}
        ?returnNow=${this.returnNow}
        @loanAutoRenewed=${this.handleLoanAutoRenewed}
        @lendingActionError=${this.handleLendingActionError}
        @toggleActionGroup=${this.handleToggleActionGroup}
      >
      </collapsible-action-group>
      ${this.textGroupTemplate} ${this.infoIconTemplate}
      <timer-countdown
        .secondsLeftOnLoan=${Math.round(Number(this.lendingStatus.secondsLeftOnLoan))}
      ></timer-countdown>
    `}handleLoanAutoRenewed(t){return yi(this,arguments,function*({detail:e}){var l,o,c;let r=(l=e==null?void 0:e.data)==null?void 0:l.loan,a=`Whoops, seems we hit a hiccup with renewing this book. Please refresh & retry. --- (Debug: ${(o=e==null?void 0:e.data)==null?void 0:o.error})`;if(!r){this.showErrorModal(a,"handleLoanAutoRenewed");return}if(this.loanRenewResult.renewNow){let n=yield this.localCache.get(`${this.identifier}-loanTime`),u=Math.round((n-new Date)/1e3);yn(n,u),yn("IABookActions: handleLoanAutoRenewed --- ",{ajaxResponse:e==null?void 0:e.data,loanRenewResult:this.loanRenewResult,secondsLeftOnLoan:u});let p=on(Dr({},this.lendingStatus),{user_has_browsed:!0,browsingExpired:!1,secondsLeftOnLoan:u});this.lendingStatus=p,(c=this.modal)==null||c.closeModal(),this.modal.removeAttribute("id"),this.modal.customModalContent=Ei,this.sentryCaptureMsg(es.bookHasRenewed)}})}startTimerCountdown(){return yi(this,null,function*(){var t;(t=window==null?void 0:window.IALendingIntervals)==null||t.clearTimerCountdown();let e=Number(this.lendingStatus.secondsLeftOnLoan);this.timeWhenTimerStart=new Date,window.IALendingIntervals.timerCountdown=setInterval(()=>yi(this,null,function*(){yield this.loanStatusCheckInterval(e)}),this.timerExecutionSeconds*1e3)})}loanStatusCheckInterval(e){return yi(this,null,function*(){let t=e;t-=this.timerExecutionSeconds,t=Math.round(t);let r=yield this.reSyncTimerIfGoneOff(t);r.hasSynced&&(t=r.whatShouldLeft,yn("startTimerCountdown --- stale, timer has resyncd",{secondsLeft:t})),yn("startTimerCountdown --- countdown still valid. continue...",{resyncd:r,secondsLeft:t,loanRenewAtLast:this.loanRenewTimeConfig.loanRenewAtLast},"time: ",new Date().getMinutes(),":",new Date().getSeconds(),", timerDelay: ",this.timerExecutionSeconds),t<=this.loanRenewTimeConfig.loanRenewAtLast&&(yield this.loanRenewAttempt(t)),t<=this.timerExecutionSeconds&&(this.disconnectedCallback(),this.sentryCaptureMsg(es.clearOneHourTimer))})}reSyncTimerIfGoneOff(e){return yi(this,null,function*(){let t=new Date,r=t.getTime()/1e3-this.timeWhenTimerStart.getTime()/1e3,a=this.lendingStatus.secondsLeftOnLoan-r;yn("currentTime: ",t),yn("timeWhenTimerStart: ",this.timeWhenTimerStart),yn("diffInSeconds: ",r),yn("secondsShouldLeft: ",a),yn("this.lendingStatus.secondsLeftOnLoan: ",this.lendingStatus.secondsLeftOnLoan);let l=Math.round(e),o=Math.round(a),c=this.timerCountdownEl.secondsLeftOnLoan||0;if(yn("reSyncTimerIfGoneOff?",{whatIsleft:l,whatShouldLeft:o,timerElSeconds:c,timeLeftInMin:Math.ceil(e/60)}),c!==o||l!==o){let n=on(Dr({},this.lendingStatus),{secondsLeftOnLoan:o});this.lendingStatus=n}return l!==o?(yn("reSyncTimerIfGoneOff --- let's re-sync."),{hasSynced:!0,whatShouldLeft:o}):{hasSynced:!1,whatShouldLeft:o}})}loanRenewAttempt(e){return yi(this,null,function*(){yn("loanRenewAttempt ---",{secondsLeft:e,loanRenewResult:this.loanRenewResult});let t=e;if(t<50){yn("loanRenewAttempt --- loanSecondsLeft < 50, will expire"),yield this.browseHasExpired();return}yield this.autoLoanRenewChecker(!1),this.loanRenewResult.renewNow===!1&&(t-=60,this.loanRenewResult.secondsLeft=t,this.showWarningModal())})}startLoanTokenPoller(){let e=()=>{this.postInitComplete||this.lendingBarPostInit(),this.postInitComplete=!0},t=r=>{this.handleLendingActionError(r)};this.tokenPoller=new OT(this.identifier,this.borrowType,e,t,this.tokenDelay)}handleToggleActionGroup(){this.disableActionGroup=!this.disableActionGroup}handleLendingActionError(e){var a,l,o,c;this.disableActionGroup=!1,(a=window==null?void 0:window.IALendingIntervals)==null||a.clearAll();let t=(l=e==null?void 0:e.detail)==null?void 0:l.action,r=(c=(o=e==null?void 0:e.detail)==null?void 0:o.data)==null?void 0:c.error;if(r&&t!=="create_token"&&this.showErrorModal(r,t),t==="create_token"){let n=on(Dr({},this.lendingStatus),{user_has_browsed:!1,available_to_browse:!0});this.lendingStatus=n}if(r&&r.match(/not available to borrow/gm)){let n=this.lendingStatus;t==="browse_book"?n=on(Dr({},this.lendingStatus),{available_to_browse:!1}):t==="borrow_book"&&(n=on(Dr({},this.lendingStatus),{available_to_borrow:!1})),this.lendingStatus=n}}showErrorModal(e,t){return yi(this,null,function*(){var a;let r=new Nl({title:"Lending error",message:e,headerColor:"#d9534f",showCloseButton:!0});if(t==="create_token"){let l=Ke`<button
        style="${Ho.refresh}"
        @click=${()=>window.location.reload(!0)}
      >
        refresh
      </button>`;r.message=Ke` Uh oh, something went wrong trying to access
        this book.<br />
        Please ${l} to try again or send us an email to
        <a
          href="mailto:info@archive.org?subject=Help: cannot access my borrowed book: ${this.identifier}"
          >info@archive.org</a
        ><br /><br />
        <code>errorLog: ${e}</code>`}yield(a=this.modal)==null?void 0:a.showModal({config:r})})}get iconClass(){return this.width<=700?"mobile":"desktop"}get textClass(){return this.width>=700?"visible":"hidden"}get infoIconTemplate(){return Ke`<info-icon iconClass=${this.iconClass}></info-icon>`}get textGroupTemplate(){return this.primaryTitle?Ke`<text-group
          textClass=${this.textClass}
          .texts=${this.primaryTitle}
        >
        </text-group>`:Ei}get hasAdminAccess(){return!this.lendingStatus.userHasBorrowed&&this.lendingStatus.isAdmin}static get styles(){return pt`
      :host {
        display: block;
      }

      .hide {
        display: none;
      }

      .lending-wrapper {
        width: 100%;
        margin: 0 auto;
        background: var(--primaryBGColor, #000);
        color: var(--primaryTextColor, #fff);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
      }
    `}};window.customElements.define("ia-book-actions",RT)});var Y5=Kt(()=>{_i();Us();f0();g0();pp();id();ds();v0();k0();k0()});var K5={};Dn(K5,{IaBookTheater:()=>gp});var gp,X5=Kt(()=>{Zg();qd();xo();Y5();Ci("** ia-book-actions loaded 1.4.1 **");gp=class extends mi{static get properties(){return{item:{type:Object},baseHost:{type:String},signedIn:{converter:t=>t==="false"?null:t==="true"||t===!0},viewportInFullscreen:{type:Boolean,reflect:!0},sharedObserver:{attribute:!1},manifest:{type:Object}}}constructor(){super(),this.item=void 0,this.baseHost="",this.signedIn=null,this.viewportInFullscreen=!1,this.sharedObserver=void 0,this.manifest=null,this.actionBarHeightPx=0,this.primaryReaderHeightPx=0}firstUpdated(){var r;let t=(r=document.querySelector(".js-ia-metadata"))==null?void 0:r.value;t&&(this.item=JSON.parse(t)),this.loadObserver()}get modal(){return document.querySelector("modal-manager")}get itemNav(){return this.shadowRoot.querySelector("ia-item-navigator")}loadObserver(){this.sharedObserver=new Ro}manageFullscreen(t){var a;let r=(a=t.detail)==null?void 0:a.fullscreen;this.viewportInFullscreen=r||null}static get styles(){return pt`
      div[slot="main"] {
        height: inherit;
        width: inherit;
      }
      ia-bookreader {
        height: 100%;
        width: 100%;
        min-height: inherit;
      }

      div[slot="header"],
      div[slot="main"] {
        width: 100%;
      }
    `}setMenuShortcuts(t){this.menuShortcuts=[...t.detail]}setMenuContents(t){let r=[...t.detail];this.menuContents=r}manageSideMenuEvents(t){let{menuId:r,action:a}=t.detail;r&&(a==="open"?(this.itemNav.openShortcut(r),this.openShortcut(r)):a==="toggle"&&(this.itemNav.openMenu(r),this.itemNav.toggleMenu()))}render(){return Ke`
      <ia-bookreader
      .item=${this.item}
      .baseHost=${this.baseHost}
      ?signedIn=${this.signedIn}
      class="focus-on-child-only"
      style="min-height: inherit;"
      .sharedObserver=${this.sharedObserver}
      .modal=${this.modal}
      @fullscreenStateUpdated=${this.manageFullscreen}
      >
        <div slot="header">
          <slot name="header"></slot>
        </div>
        <!--
          This width is set via CSS, but is not working on older browsers
          for some reason, resulting in black screen. So set explicitly.
        -->
        <div slot="main" style="width:100%">
          <slot name="main"></slot>
        </div>
      </ia-bookreader>
    `}};customElements.define("ia-book-theater",gp);Ci("** ia-book-theater defined **")});var DT={};function ts(e,t,r){this.maxAge=18e4,this.postInitCB=null,this.requestCount=0,this.maxRequests=3,this.br=e,this.bookId=t||"",this.postInitCB=r,this.tokenErrorMessage="no access token"}var Z5=Kt(()=>{ts.prototype.init=function(){this.initiateRequest()};ts.prototype.grantAccess=function(){this.startTimer();var e=this.requestCount===1&&this.postInitCB;e&&this.postInitCB()};ts.prototype.requestError=function(e){if(typeof archive_analytics!="undefined"){var t=e.responseJSON?e.responseJSON.error.replace(/\s/g,"_"):"unknown",r="BRSearchInsideToken-ReqErr-"+e.status+"-From-"+t;window.Sentry&&e.status>=400&&window.Sentry.captureMessage(r)}this.clearTimer(),this.requestCount<this.maxRequests?this.initiateRequest():this.postInitCB({errorMessage:this.tokenErrorMessage})};ts.prototype.initiateRequest=function(){this.requestCount=this.requestCount+1,this.requestAccess()};ts.prototype.requestAccess=function(){if(this.hasValidLoanToken()){this.grantAccess();return}$.ajax({url:"/services/loans/loan/searchInside.php",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:{action:"grant_access",identifier:this.bookId}}).then(function(e){this.grantAccess()}.bind(this),function(e){this.requestError(e)}.bind(this))};ts.prototype.clearTimer=function(){clearInterval(this.poller),this.poller=null};ts.prototype.startTimer=function(){this.clearTimer(),this.poller=setInterval(this.initiateRequest.bind(this),this.maxAge)};ts.prototype.hasValidLoanToken=function(){var e="loan-"+this.bookId,t;try{t=document.cookie}catch(r){t=""}return t.indexOf(e)>-1};window.SearchInsideAccess=ts});var jT={};var J5=Kt(()=>{window.BookReaderJSIAinit=function(){function e(p,g,m){var y=g||{};if(jQuery.extend(!0,y,t(p)),jQuery.extend(!0,y,r(p)),jQuery.extend(!0,y,a(p)),jQuery.extend(!0,y,l(p)),y.bookUrl=p.bookUrl,y.bookUri=p.bookUri,p.lendingInfo.isOpenLibraryLending?(y.bookUrlText=y.bookTitle+"<br>&larr; Back to book details on Open Library",y.bookUrlTitle="Go to this book's page on Open Library",y.bookUrlMoreInfo="More information on Open Library"):(y.bookUrlText=y.bookTitle+"<br>&larr; Back to item details",y.bookUrlTitle="Go to this book's page on Archive.org",y.bookUrlMoreInfo="More information on Archive.org"),y.imagesBaseURL="/includes/build/BookReader/images/",y.protected=p.lendingInfo.shouldProtectImages,y.thumbnail="//archive.org/download/"+p.id+"/page/cover_t.jpg",y.enableExperimentalControls=!0,y.enablePageResume=!0,isNaN(parseInt(y.defaultStartLeaf))||(y.titleLeaf=y.defaultStartLeaf),m){var x=m.plugins;x&&(y.plugins=y.plugins||{},jQuery.extend(!0,y.plugins,m.plugins),delete m.plugins),jQuery.extend(y,m),x&&(m.plugins=x)}return y}function t(p){var g={},m=[],y=Array(p.metadata.title).join(", ");if(y&&m.push({label:"Title",value:y,extraValueClass:"larger"}),p.metadata.creator&&m.push({label:"Author",value:Array(p.metadata.creator).join(", "),extraValueClass:"larger"}),p.metadata.publishDate&&m.push({label:"Publish Data",value:p.metadata.publishDate,extraValueClass:""}),p.metadata.collection&&p.metadata.collection.length>0){var x=$.map(p.metadata.collection,function(k){return'<a href="/details/'+k+'">'+k+"</a>"}).join(", ");m.push({label:"Collections",value:x,extraValueClass:""})}if(p.metadata.sponsor&&p.metadata.contributor&&p.metadata.sponsor==p.metadata.contributor?m.push({label:"Sponsor &amp; Contributor",value:p.metadata.sponsor,extraValueClass:""}):(p.metadata.sponsor&&m.push({label:"Sponsor",value:p.metadata.sponsor,extraValueClass:""}),p.metadata.contributor&&m.push({label:"Contributor",value:p.metadata.contributor,extraValueClass:""})),g.metadata=m,p.metadata.language){var w=typeof p.metadata.language=="string"?p.metadata.language:p.metadata[0]?p.metadata[0]:null;g.bookLanguage=w}return g}function r(p){var g={},m={};return p.lendingInfo.loanId&&(m.loanId=p.lendingInfo.loanId),g.lendingInfo=m,g}function a(p){var g={},m=function(y,x){var w="https://"+window.location.host+"/stream/"+p.id;return p.subPrefix!=p.id&&(w+="/"+urlencodePath(p.subPrefix)),w+="?ui=embed",typeof x!="undefined"&&(w+="#"+y.fragmentFromParams(x)),w};return g.getEmbedCode=function(y,x,w){return"<iframe src='"+m(this,w)+"' width='"+y+"' height='"+x+"' frameborder='0' ></iframe>"},g}function l(p){var g={},m=BookReader.prototype.getPageURI;if(g.getPageURI=function(y,x,w){typeof x=="undefined"&&(x=1),typeof w=="undefined"&&(w=0),x=Math.pow(2,Math.floor(Math.log2(Math.max(1,x))));var k=m.call(this,y,x,w);return k?(k=k+(k.indexOf("?")>-1?"&":"?"),k=k+"scale="+x+"&rotate="+w,k):""},p.lendingInfo.shouldProtectImages){g.renderPageURI=function(w,k){return yi(this,null,function*(){let S=yield fetch(k,{credentials:"include"}),P=S.headers.get("X-Obfuscate");if(!P){w.src=k;return}let E=S.headers.get("content-type"),L=yield S.arrayBuffer(),[s,h]=P.split("|");if(s!=="1")throw new Error("Unsupported obfuscation version");let v=k.replace(/https?:\/\/.*?\//,"/"),d=yield y(L.slice(0,1024),v,h),_=new Uint8Array(L);_.set(new Uint8Array(d),0);let C=new Blob([_],{type:E});w.addEventListener("load",N=>URL.revokeObjectURL(w.src),{once:!0}),w.src=URL.createObjectURL(C)})};function y(x,w,k){return yi(this,null,function*(){let S=yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(w)),P=yield crypto.subtle.importKey("raw",S.slice(0,16),"AES-CTR",!1,["decrypt"]);return yield crypto.subtle.decrypt({name:"AES-CTR",length:64,counter:new Uint8Array(atob(k).split("").map(E=>E.charCodeAt(0)))},P,x)})}}return g}function o(p){var g=BookReader.PLUGINS.resume.prototype.getResumeValue;BookReader.PLUGINS.resume.prototype.getResumeValue=function(){var y=null;return p.lendingInfo.userid&&BookReader.docCookies&&(y=BookReader.docCookies.getItem("br-resume-"+p.lendingInfo.userid)),y===null&&(y=g?g.call(this):0),y!==null&&(y=parseInt(y)),y};var m=BookReader.PLUGINS.resume.prototype.updateResumeValue;BookReader.PLUGINS.resume.prototype.updateResumeValue=function(y){var x=p.lendingInfo.userid?"br-resume-"+p.lendingInfo.userid:null;m.call(this,y,x)}}function c(p){if(CustomEvent){var g=new CustomEvent("BRJSIA:PostInit",{bubbles:!0,captures:!0,detail:p});document.dispatchEvent(g)}}function n(p,g){if(CustomEvent){var m=p.lendingStatus,y=new CustomEvent("LendingFlow:PostInit",{bubbles:!0,captures:!0,detail:{downloadTypesAvailable:g||[],lendingStatus:m||{},isAdmin:p.isAdmin}});document.dispatchEvent(y)}}function u(p,g,m,y){var x=g,w=g.lendingStatus;x=Object.assign({},x,w),x.lendingStatus="";var k=x.isOpenLibraryLending||document.referrer&&document.referrer.includes("openlibrary.org")?"https://openlibrary.org/account/loans":"/details/"+m.bookId,S=document.querySelector("ia-book-actions");S||(S=document.createElement("ia-book-actions")),S.userid=x.userid,S.identifier=m.bookId,S.bookTitle=m.bookTitle,S.lendingStatus=x,S.bwbPurchaseUrl=m.purchaseUrl,S.barType=y||"action",S.lendingBarPostInit=p,S.returnUrl=k,S.classList.add("focus-on-child-only");var P={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900};S.loanRenewTimeConfig=P;var E=document.querySelector("#IABookReaderMessageWrapper");E?(E.appendChild(S),E.style.display=""):p()}return function(p,g){var m=p.data,y=p.brOptions,x=p.lendingInfo,w=x.lendingStatus||{},k=p.metadata;m.lendingInfo=x,m.metadata=k,window.onerror=logError;var S=e(m,y,g);if(!BookReader.version&&window.Sentry){Sentry.captureMessage("BookReader.version not defined"),alert("You have a really old version of BookReader that we no longer support.");return}o(m);var P=new BookReader(S);window.br=P;var E=x.isPrintDisabledOnly||m.isRestricted&&!w.is_login_required||x.isLendingRequired&&x.isBrowserBorrowable;window.Sentry&&(Sentry.setTag("br_version",BookReader.version),Sentry.setTag("borrowable_book",E));var L=!E,s=S.ui==="embed";E&&$("<link>",{rel:"stylesheet",type:"text/css",href:"/bookreader/print.css",media:"print"}).appendTo("head"),c({brVersion:BookReader.version,downloadURLs:m.downloadUrls.filter(_=>!_[1].includes("media_url")),isRestricted:m.isRestricted});var h=function(){setTimeout(function(){P.init()},100)},v=function(){setTimeout(function(){n(x,m.downloadUrls.filter(C=>!C[1].includes("media_url"))),h()},100)};if(L){h(),s&&u(function(){},x,S,"title");return}var d=function(C){C&&typeof C!="undefined"&&C.errorMessage==="no access token"&&(P.options.enableSearch=!1);var N=s?"title":"action";u(v,x,S,N)};window.SearchInsideAccess?(this.searchInside=new SearchInsideAccess(P,k.identifier,d),this.searchInside.init()):d(),window.Sentry&&Sentry.setContext("Lending info",{available_to_browse:w.available_to_browse||"",available_to_borrow:w.available_to_borrow||"",available_to_waitlist:w.available_to_waitlist||"",user_has_browsed:w.user_has_browsed||"",user_has_borrowed:w.user_has_borrowed||"",user_on_waitlist:w.user_on_waitlist||"",user_can_claim_waitlist:w.user_can_claim_waitlist||""})}}()});vr();_i();Xc();Fr();Zc();Td();vr();_i();Fr();vr();_i();Fr();Zc();Td();_i();Xc();var Qc=class{constructor(e){var t,r,a,l,o,c,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(a=e==null?void 0:e.showProcessingIndicator)!==null&&a!==void 0?a:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(c=e==null?void 0:e.showHeaderLogo)!==null&&c!==void 0?c:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}};function*Zp(e=document.activeElement){e!=null&&(yield e,"shadowRoot"in e&&e.shadowRoot&&e.shadowRoot.mode!=="closed"&&(yield*wd(Zp(e.shadowRoot.activeElement))))}function R3(){return[...Zp()].pop()}var ry=new WeakMap;function oy(e){let t=ry.get(e);return t||(t=window.getComputedStyle(e,null),ry.set(e,t)),t}function D3(e){if("checkVisibility"in e&&typeof e.checkVisibility=="function")return e.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});let t=oy(e);return t.visibility!=="hidden"&&t.display!=="none"}function j3(e){let t=oy(e),{overflowY:r,overflowX:a}=t;return r==="scroll"||a==="scroll"?!0:r!=="auto"||a!=="auto"?!1:e.scrollHeight>e.clientHeight&&r==="auto"||e.scrollWidth>e.clientWidth&&a==="auto"}function N3(e){let t=e.tagName.toLowerCase(),r=Number(e.getAttribute("tabindex"));return e.hasAttribute("tabindex")&&(isNaN(r)||r<=-1)||e.hasAttribute("disabled")||e.closest("[inert]")||t==="input"&&e.getAttribute("type")==="radio"&&!e.hasAttribute("checked")||!D3(e)?!1:(t==="audio"||t==="video")&&e.hasAttribute("controls")||e.hasAttribute("tabindex")||e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(t)?!0:j3(e)}function B3(e,t){var r;return((r=e.getRootNode({composed:!0}))===null||r===void 0?void 0:r.host)!==t}function ny(e){let t=new WeakMap,r=[];function a(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||t.has(l))return;t.set(l,!0),!r.includes(l)&&N3(l)&&r.push(l),l instanceof HTMLSlotElement&&B3(l,e)&&l.assignedElements({flatten:!0}).forEach(o=>{a(o)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&a(l.shadowRoot)}for(let o of Array.from(l.children))a(o)}return a(e),r.sort((l,o)=>{let c=Number(l.getAttribute("tabindex"))||0;return(Number(o.getAttribute("tabindex"))||0)-c})}var Jc=[],H3=class{constructor(e){this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var r;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;let a=R3();if(this.previousFocus=a,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";let l=ny(this.element),o=l.findIndex(n=>n===a);this.previousFocus=this.currentFocus;let c=this.tabDirection==="forward"?1:-1;for(;;){o+c>=l.length?o=0:o+c<0?o=l.length-1:o+=c,this.previousFocus=this.currentFocus;let n=l[o];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||n&&this.possiblyHasTabbableChildren(n))return;t.preventDefault(),this.currentFocus=n,(r=this.currentFocus)===null||r===void 0||r.focus({preventScroll:!1});let u=[...Zp()];if(u.includes(this.currentFocus)||!u.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e,this.elementsWithTabbableControls=["iframe"]}activate(){Jc.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){Jc=Jc.filter(e=>e!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return Jc[Jc.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){let e=ny(this.element);if(!this.element.matches(":focus-within")){let t=e[0],r=e[e.length-1],a=this.tabDirection==="forward"?t:r;typeof(a==null?void 0:a.focus)=="function"&&(this.currentFocus=a,a.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}},F3=Ke`
  <svg
    class="ia-logo"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building façade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" class="fill-color">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use class="fill-color" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" class="fill-color">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,Xp=class extends mi{constructor(){super(...arguments),this.config=new Qc}render(){return Ke`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?Ke`<div class="logo-icon">${F3}</div>`:Ei}
            ${this.config.title?Ke`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?Ke`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?Ke` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?Ke` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(e){if(e.preventDefault(),e.type==="keydown"&&e.key!==" "&&e.key!=="Enter")return;let t=new Event("closeButtonPressed");this.dispatchEvent(t)}get closeButtonTemplate(){return Ke`
      <button
        type="button"
        class="close-button"
        @click=${this.handleCloseButton}
        @keydown=${this.handleCloseButton}
      >
        <ia-icon-close></ia-icon-close>
      </button>
    `}static get styles(){let e=pt`var(--modalLogoSize, 6.5rem)`,t=pt`var(--processingImageSize, 7.5rem)`,r=pt`var(--modalCornerRadius, 1rem)`,a=pt`var(--modalBorder, 2px solid black)`,l=pt`var(--modalBottomMargin, 2.5rem)`,o=pt`var(--modalTopMargin, 5rem)`,c=pt`var(--modalHeaderBottomPadding, 0.5em)`,n=pt`var(--modalBottomPadding, 2rem)`,u=pt`var(--modalScrollOffset, 5px)`,p=pt`var(--modalTitleFontSize, 1.8rem)`,g=pt`var(--modalSubtitleFontSize, 1.4rem)`,m=pt`var(--modalHeadlineFontSize, 1.6rem)`,y=pt`var(--modalMessageFontSize, 1.4rem)`,x=pt`var(--modalTitleLineHeight, normal)`,w=pt`var(--modalSubtitleLineHeight, normal)`,k=pt`var(--modalHeadlineLineHeight, normal)`,S=pt`var(--modalMessageLineHeight, normal)`;return pt`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${a};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${c};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${p};
        font-weight: bold;
        line-height: ${x};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${g};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${a};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${u}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${u}) 0;
      }

      .headline {
        font-size: ${m};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${y};
        line-height: ${S};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};le([Qt({type:Object})],Xp.prototype,"config",void 0);Xp=le([ur("modal-template")],Xp);var Ds;(function(e){e.Open="open",e.Closed="closed"})(Ds||(Ds={}));var z3=class{constructor(e){this.windowResizeThrottler=Yl(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case Ds.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Ds.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},Kl=class extends mi{constructor(){super(...arguments),this.mode=Ds.Closed,this.hostBridge=new z3(this),this.modal=new H3(this),this.closeOnBackdropClick=!0}firstUpdated(){return Oo(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,0)),this.closeOnBackdropClick&&this.addEventListener("keydown",e=>{e.key==="Escape"&&this.backdropClicked()})})}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate()}render(){return Ke`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="-1"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=Ds.Closed,this.customModalContent=void 0,this.modalTemplate.config=new Qc,this.modal.deactivate()}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return Oo(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=Ds.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus(),this.modal.activate()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=pt`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=pt`var(--modalBackdropZindex, 1000)`,r=pt`var(--modalWidth, 32rem)`,a=pt`var(--modalMaxWidth, 95%)`,l=pt`var(--modalZindex, 2000)`;return pt`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${a};
      }
    `}};le([Qt({type:String,reflect:!0})],Kl.prototype,"mode",void 0);le([Qt({type:Object})],Kl.prototype,"customModalContent",void 0);le([Qt({type:Object})],Kl.prototype,"hostBridge",void 0);le([sn("modal-template")],Kl.prototype,"modalTemplate",void 0);Kl=le([ur("modal-manager")],Kl);Id();nu();Xl();Hn();xo();function BS(){try{return document.cookie,!0}catch(e){return!1}}function fw(){let e=()=>{xe("#theatre-ia-wrap").removeClass("flagged"),xe(".bookreader-playlist-container").removeClass("hide")};xe(".toggle-flag-overlay").on("click",t=>{t.preventDefault(),e()}),xe("#flag-checkboxes a").on("click",function(r){r.preventDefault(),xe(this).children(".my-checkbox").toggleClass("checked"),xe.get(xe(this).attr("href")),e()}),BS()&&qn.get("logged-in-user")!==void 0&&(xe("#flag-popover li").on("click",function(){return xe(this).find("a").trigger("click"),!1}),xe("#flag-popover a").on("click",function(r){r.preventDefault();let a=xe("#item-flags-popup"),l=xe(this),o=xe(l).parent();return xe(o).toggleClass("selected"),xe(a).removeClass("open"),xe.getJSON(`${xe(this).attr("href")}&no_chrome=1`,c=>{let n=xe(c.button);xe(a).replaceWith(n),xe("#flag-button-container").html(c.button),xe("#flag-overlay").html(c.overlay),c.has_flags?xe("#theatre-ia-wrap").addClass("flagged"):xe("#theatre-ia-wrap").removeClass("flagged"),fw()}),!1}))}xe(document).ready(()=>{Ci("initialize item flags"),fw()});xo();vr();_i();Fr();var ah=globalThis,sh=ah.ShadowRoot&&(ah.ShadyCSS===void 0||ah.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,gw=Symbol(),mw=new WeakMap,vw=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==gw)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(sh&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=mw.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&mw.set(t,e))}return e}toString(){return this.cssText}},yw=e=>new vw(typeof e=="string"?e:e+"",void 0,gw);var bw=(e,t)=>{if(sh)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(let r of t){let a=document.createElement("style"),l=ah.litNonce;l!==void 0&&a.setAttribute("nonce",l),a.textContent=r.cssText,e.appendChild(a)}},Dm=sh?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let a of t.cssRules)r+=a.cssText;return yw(r)})(e):e;var{is:HS,defineProperty:FS,getOwnPropertyDescriptor:zS,getOwnPropertyNames:US,getOwnPropertySymbols:VS,getPrototypeOf:WS}=Object,fs=globalThis,ww=fs.trustedTypes,qS=ww?ww.emptyScript:"",jm=fs.reactiveElementPolyfillSupport,_u=(e,t)=>e,Nm={toAttribute(e,t){switch(t){case Boolean:e=e?qS:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(a){r=null}}return r}},lh=(e,t)=>!HS(e,t),xw={attribute:!0,type:String,converter:Nm,reflect:!1,useDefault:!1,hasChanged:lh},_w,kw;(_w=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),(kw=fs.litPropertyMetadata)!=null||(fs.litPropertyMetadata=new WeakMap);var xu=class extends HTMLElement{static addInitializer(e){var t;this._$Ei(),((t=this.l)!=null?t:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=xw){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let r=Symbol(),a=this.getPropertyDescriptor(e,r,t);a!==void 0&&FS(this.prototype,e,a)}}static getPropertyDescriptor(e,t,r){var o;let{get:a,set:l}=(o=zS(this.prototype,e))!=null?o:{get(){return this[t]},set(c){this[t]=c}};return{get:a,set(c){let n=a==null?void 0:a.call(this);l==null||l.call(this,c),this.requestUpdate(e,n,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var t;return(t=this.elementProperties.get(e))!=null?t:xw}static _$Ei(){if(this.hasOwnProperty(_u("elementProperties")))return;let e=WS(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(_u("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(_u("properties"))){let t=this.properties,r=[...US(t),...VS(t)];for(let a of r)this.createProperty(a,t[a])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[r,a]of t)this.elementProperties.set(r,a)}this._$Eh=new Map;for(let[t,r]of this.elementProperties){let a=this._$Eu(t,r);a!==void 0&&this._$Eh.set(a,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let a of r)t.unshift(Dm(a))}else e!==void 0&&t.push(Dm(e));return t}static _$Eu(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$EO)!=null?t:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let r of t.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var t;let e=(t=this.shadowRoot)!=null?t:this.attachShadow(this.constructor.shadowRootOptions);return bw(e,this.constructor.elementStyles),e}connectedCallback(){var e,t;(e=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(r=>{var a;return(a=r.hostConnected)==null?void 0:a.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var r;return(r=t.hostDisconnected)==null?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ET(e,t){var l;let r=this.constructor.elementProperties.get(e),a=this.constructor._$Eu(e,r);if(a!==void 0&&r.reflect===!0){let o=(((l=r.converter)==null?void 0:l.toAttribute)!==void 0?r.converter:Nm).toAttribute(t,r.type);this._$Em=e,o==null?this.removeAttribute(a):this.setAttribute(a,o),this._$Em=null}}_$AK(e,t){var l,o,c,n;let r=this.constructor,a=r._$Eh.get(e);if(a!==void 0&&this._$Em!==a){let u=r.getPropertyOptions(a),p=typeof u.converter=="function"?{fromAttribute:u.converter}:((l=u.converter)==null?void 0:l.fromAttribute)!==void 0?u.converter:Nm;this._$Em=a,this[a]=(n=(c=p.fromAttribute(t,u.type))!=null?c:(o=this._$Ej)==null?void 0:o.get(a))!=null?n:null,this._$Em=null}}requestUpdate(e,t,r){var a,l;if(e!==void 0){let o=this.constructor,c=this[e];if(r!=null||(r=o.getPropertyOptions(e)),!(((a=r.hasChanged)!=null?a:lh)(c,t)||r.useDefault&&r.reflect&&c===((l=this._$Ej)==null?void 0:l.get(e))&&!this.hasAttribute(o._$Eu(e,r))))return;this.C(e,t,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:r,reflect:a,wrapped:l},o){var c,n,u;r&&!((c=this._$Ej)!=null?c:this._$Ej=new Map).has(e)&&(this._$Ej.set(e,(n=o!=null?o:t)!=null?n:this[e]),l!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(t=void 0),this._$AL.set(e,t)),a===!0&&this._$Em!==e&&((u=this._$Eq)!=null?u:this._$Eq=new Set).add(e))}_$EP(){return yi(this,null,function*(){this.isUpdatePending=!0;try{yield this._$ES}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r,a;if(!this.isUpdatePending)return;if(!this.hasUpdated){if((r=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[o,c]of this._$Ep)this[o]=c;this._$Ep=void 0}let l=this.constructor.elementProperties;if(l.size>0)for(let[o,c]of l){let{wrapped:n}=c,u=this[o];n!==!0||this._$AL.has(o)||u===void 0||this.C(o,void 0,c,u)}}let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(a=this._$EO)==null||a.forEach(l=>{var o;return(o=l.hostUpdate)==null?void 0:o.call(l)}),this.update(t)):this._$EM()}catch(l){throw e=!1,this._$EM(),l}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(r=>{var a;return(a=r.hostUpdated)==null?void 0:a.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}},Aw;xu.elementStyles=[],xu.shadowRootOptions={mode:"open"},xu[_u("elementProperties")]=new Map,xu[_u("finalized")]=new Map,jm==null||jm({ReactiveElement:xu}),((Aw=fs.reactiveElementVersions)!=null?Aw:fs.reactiveElementVersions=[]).push("2.1.0");var ch={INITIAL:0,PENDING:1,COMPLETE:2,ERROR:3},ku=Symbol(),Bm=class{get taskComplete(){return this.t||(this.i===1?this.t=new Promise((e,t)=>{this.o=e,this.h=t}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(e,t,r){var l,o,c;this.p=0,this.i=0,(this._=e).addController(this);let a=typeof t=="object"?t:{task:t,args:r};this.v=a.task,this.j=a.args,this.m=(l=a.argsEqual)!=null?l:Sw,this.k=a.onComplete,this.A=a.onError,this.autoRun=(o=a.autoRun)!=null?o:!0,"initialValue"in a&&(this.u=a.initialValue,this.i=2,this.O=(c=this.T)==null?void 0:c.call(this))}hostUpdate(){this.autoRun===!0&&this.S()}hostUpdated(){this.autoRun==="afterUpdate"&&this.S()}T(){if(this.j===void 0)return;let e=this.j();if(!Array.isArray(e))throw Error("The args function must return an array");return e}S(){return yi(this,null,function*(){let e=this.T(),t=this.O;this.O=e,e===t||e===void 0||t!==void 0&&this.m(t,e)||(yield this.run(e))})}run(e){return yi(this,null,function*(){var o,c,n,u,p;let t,r;e!=null||(e=this.T()),this.O=e,this.i===1?(o=this.q)==null||o.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();let a=++this.p;this.q=new AbortController;let l=!1;try{t=yield this.v(e,{signal:this.q.signal})}catch(g){l=!0,r=g}if(this.p===a){if(t===ku)this.i=0;else{if(l===!1){try{(c=this.k)==null||c.call(this,t)}catch(g){}this.i=2,(n=this.o)==null||n.call(this,t)}else{try{(u=this.A)==null||u.call(this,r)}catch(g){}this.i=3,(p=this.h)==null||p.call(this,r)}this.u=t,this.l=r}this._.requestUpdate()}})}abort(e){var t;this.i===1&&((t=this.q)==null||t.abort(e))}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(e){var t,r,a,l;switch(this.i){case 0:return(t=e.initial)==null?void 0:t.call(e);case 1:return(r=e.pending)==null?void 0:r.call(e);case 2:return(a=e.complete)==null?void 0:a.call(e,this.value);case 3:return(l=e.error)==null?void 0:l.call(e,this.error);default:throw Error("Unexpected status: "+this.i)}}},Sw=(e,t)=>e===t||e.length===t.length&&e.every((r,a)=>!lh(r,t[a]));vr();_i();Fr();var Hm,uh=window,dc=uh.trustedTypes,Cw=dc?dc.createPolicy("lit-html",{createHTML:e=>e}):void 0,Um="$lit$",ms=`lit$${(Math.random()+"").slice(9)}$`,Ow="?"+ms,GS=`<${Ow}>`,Js=document,dh=()=>Js.createComment(""),Su=e=>e===null||typeof e!="object"&&typeof e!="function",Mw=Array.isArray,YS=e=>Mw(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Fm=`[ 	
\f\r]`,Au=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ew=/-->/g,Tw=/>/g,Xs=RegExp(`>|${Fm}(?:([^\\s"'>=/]+)(${Fm}*=${Fm}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Pw=/'/g,$w=/"/g,Iw=/^(?:script|style|textarea|title)$/i,Rw=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),vj=Rw(1),yj=Rw(2),Cu=Symbol.for("lit-noChange"),Yn=Symbol.for("lit-nothing"),Lw=new WeakMap,Zs=Js.createTreeWalker(Js,129,null,!1);function Dw(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Cw!==void 0?Cw.createHTML(t):t}var KS=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",c=Au;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Au?g[1]==="!--"?c=Ew:g[1]!==void 0?c=Tw:g[2]!==void 0?(Iw.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=Xs):g[3]!==void 0&&(c=Xs):c===Xs?g[0]===">"?(c=l!=null?l:Au,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?Xs:g[3]==='"'?$w:Pw):c===$w||c===Pw?c=Xs:c===Ew||c===Tw?c=Au:(c=Xs,l=void 0);let x=c===Xs&&e[n+1].startsWith("/>")?" ":"";o+=c===Au?u+GS:m>=0?(a.push(p),u.slice(0,m)+Um+u.slice(m)+ms+x):u+ms+(m===-2?(a.push(void 0),n):x)}return[Dw(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Vm=class jw{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=KS(t,r);if(this.el=jw.createElement(p,a),Zs.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=Zs.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Um)||y.startsWith(ms)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+Um).split(ms),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?ZS:k[1]==="?"?QS:k[1]==="@"?e7:hh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(Iw.test(l.tagName)){let m=l.textContent.split(ms),y=m.length-1;if(y>0){l.textContent=dc?dc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],dh()),Zs.nextNode(),u.push({type:2,index:++o});l.append(m[y],dh())}}}else if(l.nodeType===8)if(l.data===Ow)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ms,m+1))!==-1;)u.push({type:7,index:o}),m+=ms.length-1}o++}}static createElement(t,r){let a=Js.createElement("template");return a.innerHTML=t,a}};function hc(e,t,r=e,a){var l,o,c,n;if(t===Cu)return t;let u=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,p=Su(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,a)),a!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[a]=u:r._$Cl=u),u!==void 0&&(t=hc(e,u._$AS(e,t.values),u,a)),t}var XS=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Js).importNode(r,!0);Zs.currentNode=l;let o=Zs.nextNode(),c=0,n=0,u=a[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new Nw(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new t7(o,this,e)),this._$AV.push(p),u=a[++n]}c!==(u==null?void 0:u.index)&&(o=Zs.nextNode(),c++)}return Zs.currentNode=Js,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Nw=class Bw{constructor(t,r,a,l){var o;this.type=2,this._$AH=Yn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=hc(this,t,r),Su(t)?t===Yn||t==null||t===""?(this._$AH!==Yn&&this._$AR(),this._$AH=Yn):t!==this._$AH&&t!==Cu&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):YS(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Yn&&Su(this._$AH)?this._$AA.nextSibling.data=t:this.$(Js.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Vm.createElement(Dw(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let c=new XS(o,this),n=c.u(this.options);c.v(a),this.$(n),this._$AH=c}}_$AC(t){let r=Lw.get(t.strings);return r===void 0&&Lw.set(t.strings,r=new Vm(t)),r}T(t){Mw(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new Bw(this.k(dh()),this.k(dh()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},hh=class{constructor(e,t,r,a,l){this.type=1,this._$AH=Yn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Yn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=hc(this,e,t,0),o=!Su(e)||e!==this._$AH&&e!==Cu,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=hc(this,c[r+n],t,n),u===Cu&&(u=this._$AH[n]),o||(o=!Su(u)||u!==this._$AH[n]),u===Yn?e=Yn:e!==Yn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!a&&this.j(e)}j(e){e===Yn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},ZS=class extends hh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Yn?void 0:e}},JS=dc?dc.emptyScript:"",QS=class extends hh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Yn?this.element.setAttribute(this.name,JS):this.element.removeAttribute(this.name)}},e7=class extends hh{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=hc(this,e,t,0))!==null&&r!==void 0?r:Yn)===Cu)return;let a=this._$AH,l=e===Yn&&a!==Yn||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==Yn&&(a===Yn||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},t7=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){hc(this,e)}},zm=uh.litHtmlPolyfillSupport;zm==null||zm(Vm,Nw),((Hm=uh.litHtmlVersions)!==null&&Hm!==void 0?Hm:uh.litHtmlVersions=[]).push("2.8.0");var Wm=e=>e!=null?e:Yn;_i();_i();vr();_i();Fr();var i7=An`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
<path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
  fill=""></path>
</svg>`,r7=An`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
<path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
fill=""></path>
</svg>`,ao=class extends mi{constructor(){super(...arguments),this.open=!1,this.isDisabled=!1,this.displayCaret=!1,this.closeOnSelect=!1,this.openViaButton=!0,this.openViaCaret=!0,this.includeSelectedOption=!1,this.selectedOption="",this.options=[],this.optionGroup="options",this.optionSelected=()=>{},this.isCustomList=!1,this.hasCustomClickHandler=!1,this.closeOnEscape=!1,this.closeOnBackdropClick=!1,this.boundKeyboardListener=e=>{switch(e.key){case"Escape":case"Esc":this.closeOptions();break;default:break}},this.closeOptions=e=>{e&&e.type==="click"&&e.stopPropagation(),this.open=!1},this.handlingCaretClick=!1}firstUpdated(){return yi(this,null,function*(){yield new Promise(e=>setTimeout(e,0)),this.addEventListener("closeDropdown",this.closeOptions)})}disconnectedCallback(){var e;(e=super.disconnectedCallback)===null||e===void 0||e.call(this),this.removeKeyboardListener()}setupKeyboardListener(){this.closeOnEscape&&document.addEventListener("keydown",this.boundKeyboardListener)}removeKeyboardListener(){this.closeOnEscape&&document.removeEventListener("keydown",this.boundKeyboardListener)}get dropdownState(){return this.open?(this.setupKeyboardListener(),"open"):(this.removeKeyboardListener(),"closed")}toggleOptions(){this.open=!this.open}mainButtonClicked(){if(this.handlingCaretClick){this.handlingCaretClick=!1;return}this.openViaButton&&this.toggleOptions()}caretInteracted(){this.openViaCaret&&this.toggleOptions()}caretClicked(){this.handlingCaretClick=!0,this.caretInteracted()}caretKeyDown(e){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.caretInteracted())}renderOption(e){let{label:t,url:r=void 0,id:a}=e,l,o=this.selectedOption===a?"selected":"";return r?l=Ke`<a
        href=${r}
        @click=${c=>this.optionClicked(c,e)}
        >${t}</a
      >`:l=Ke`<button
        @click=${c=>this.optionClicked(c,e)}
      >
        ${t}
      </button>`,Ke`<li class=${o}>${l}</li>`}optionClicked(e,t){var r;e.stopPropagation(),this.selectedOption!==t.id&&(this.selectedOption=t.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:t}})),(r=t.selectedHandler)===null||r===void 0||r.call(t,t)),this.closeOnSelect&&this.closeOptions()}get availableOptions(){return this.includeSelectedOption?this.options:this.options.filter(e=>this.selectedOption!==e.id)}get caretTemplate(){if(!this.displayCaret)return Ke``;let e=this.openViaCaret&&!this.openViaButton?"0":void 0,t=this.openViaCaret?"button":void 0;return Ke`
      <span
        class="caret"
        tabindex=${Wm(e)}
        role=${Wm(t)}
        @click=${this.isDisabled||this.hasCustomClickHandler?Ei:this.caretClicked}
        @keydown=${this.isDisabled||this.hasCustomClickHandler?Ei:this.caretKeyDown}
      >
        <span ?hidden=${!this.open} class="caret-up">
          <slot name="caret-up">${i7}</slot>
        </span>
        <span ?hidden=${this.open} class="caret-down">
          <slot name="caret-down">${r7}</slot>
        </span>
      </span>
    `}get dropdownTemplate(){return this.isCustomList?Ke`<slot name="list"></slot>`:Ke`${this.availableOptions.map(e=>this.renderOption(e))}`}get backdropTemplate(){return this.closeOnBackdropClick?this.open?Ke`
      <div
        id="dropdown-backdrop"
        @keyup=${this.closeOptions}
        @click=${this.closeOptions}
      ></div>
    `:Ke``:Ke``}render(){return Ke`
      <div class="ia-dropdown-group">
        <button
          class="click-main"
          @click=${this.isDisabled||this.hasCustomClickHandler?Ei:this.mainButtonClicked}
          ?disabled=${this.isDisabled}
        >
          <span class="sr-only">Toggle ${this.optionGroup}</span>
          <slot name="dropdown-label"></slot>
          ${this.caretTemplate}
        </button>

        <ul class="dropdown-main ${this.dropdownState}">
          ${this.dropdownTemplate}
        </ul>

        ${this.backdropTemplate}
      </div>
    `}static get styles(){let e=pt`var(--dropdownBorderWidth, 1px)`,t=pt`var(--dropdownBorderRadius, 4px)`,r=pt`var(--dropdownBorderColor, #fff)`,a=pt`var(--dropdownBgColor, #333)`,l=pt`var(--dropdownTextColor, #fff)`,o=pt`var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3))`,c=pt`var(--dropdownSelectedBgColor, #fff)`;return pt`
      :host {
        display: inline;
        color: ${l};
      }

      svg.caret-up-svg,
      svg.caret-down-svg,
      ::slotted(svg.caret-up-svg),
      ::slotted(svg.caret-down-svg) {
        fill: var(--dropdownCaretColor, #fff);
        vertical-align: middle;
      }

      button.click-main {
        background: transparent;
        color: inherit;
        padding: var(--dropdownMainButtonPadding, 0px);
        border: var(--dropdownMainButtonBorder, none);
        border-radius: var(--dropdownMainButtonBorderRadius, none);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        align-content: center;
        flex-wrap: nowrap;
        flex-direction: var(--dropdownMainButtonFlexDirection, row);
        z-index: var(--dropdownListZIndex, 2);
      }

      button.click-main:disabled {
        pointer-events: none;
        cursor: not-allowed;
        opacity: 0.5;
        /* Disable text selection on disabled button */
        -webkit-user-select: none; /* Safari */
        -ms-user-select: none; /* IE 10 and IE 11 */
        user-select: none; /* Standard syntax */
      }

      button.click-main:hover {
        background-color: var(--dropdownMainButtonHoverBgColor, inherit);
      }

      button.click-main:focus,
      button.click-main:focus-visible {
        background-color: var(--dropdownMainButtonFocusBgColor, inherit);
      }

      button.click-main:active {
        background-color: var(--dropdownMainButtonActiveBgColor, inherit);
      }

      button slot[name='dropdown-label'] {
        /* Set var to 0px for column layout */
        padding-right: var(--buttonSlotPaddingRight, 5px);
        display: inline-block;
      }

      .ia-dropdown-group {
        width: inherit;
        height: inherit;
        position: relative;
      }

      .sr-only {
        border: 0 !important;
        clip: rect(1px, 1px, 1px, 1px) !important;
        -webkit-clip-path: inset(50%) !important;
        clip-path: inset(50%) !important;
        height: 1px !important;
        margin: -1px !important;
        overflow: hidden !important;
        padding: 0 !important;
        position: absolute !important;
        width: 1px !important;
        white-space: nowrap !important;
        -webkit-user-select: none !important;
        user-select: none !important;
      }

      .caret {
        /* Maintain centered caret position but with a full-height clickable region */
        display: flex;
        align-self: stretch;
        align-items: center;
        padding: var(--caretPadding, 0px);
      }

      .caret svg {
        height: var(--caretHeight, 10px);
        width: var(--caretWidth, 20px);
      }

      #dropdown-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: transparent;
        z-index: 1;
      }

      ul {
        z-index: var(--dropdownListZIndex, 2);
      }

      ul.dropdown-main.closed {
        visibility: hidden;
        height: 1px;
        width: 1px;
      }

      ul.dropdown-main {
        position: var(--dropdownListPosition, absolute);
        list-style: none;
        margin: var(--dropdownOffsetTop, 5px) 0 0 0;
        padding: 0;
        color: ${l};
        background: ${a};

        font-size: var(--dropdownFontSize, inherit);

        border-top: var(--dropdownBorderTopWidth, ${e});
        border-right: var(--dropdownBorderRightWidth, ${e});
        border-bottom: var(--dropdownBorderBottomWidth, ${e});
        border-left: var(--dropdownBorderLeftWidth, ${e});
        /* Must be after border-width settings for specificity */
        border-style: solid;
        border-color: ${r};

        border-radius: var(
            --dropdownBorderTopLeftRadius,
            ${t}
          )
          var(--dropdownBorderTopRightRadius, ${t})
          var(--dropdownBorderBottomRightRadius, ${t})
          var(--dropdownBorderBottomLeftRadius, ${t});

        white-space: var(--dropdownWhiteSpace, normal);

        /* Prevent top/bottom inner li from overlapping inner border */
        overflow: hidden;
      }

      ul.dropdown-main li:hover {
        background-color: ${o};
        color: var(--dropdownHoverTextColor, #fff);
        list-style: none;
        cursor: pointer;
      }

      ul.dropdown-main li:hover:first-child {
        border-top-color: ${o};
      }

      ul.dropdown-main li:hover:last-child {
        border-bottom-color: ${o};
      }

      ul.dropdown-main li:hover:not(:first-child) {
        border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
      }
      ul.dropdown-main li:hover:not(:last-child) {
        border-bottom: 0.5px solid
          var(--dropdownHoverTopBottomBorderColor, #333);
      }

      ul.dropdown-main li.selected:last-child {
        border-bottom-color: ${c};
      }

      ul.dropdown-main li.selected:first-child {
        border-top-color: ${c};
      }

      ul.dropdown-main li:hover > *,
      ul.dropdown-main li:focus-within > * {
        background-color: ${o};
        color: var(--dropdownHoverTextColor, #fff);
      }

      ul.dropdown-main li.selected > * {
        background-color: ${c};
        color: var(--dropdownSelectedTextColor, #2c2c2c);
      }

      ul.dropdown-main li {
        background: ${a};
        list-style: none;
        height: 30px;
        cursor: pointer;
        border-bottom: 0.5px solid ${a};
        border-top: 0.5px solid ${a};
      }

      ul.dropdown-main li button {
        background: none;
        color: inherit;
        border: none;
        font: inherit;
        cursor: pointer;
        outline: inherit;
      }

      ul.dropdown-main li a {
        text-decoration: none;
        display: block;
        box-sizing: border-box;
      }

      ul.dropdown-main li:first-child {
        border-top-left-radius: var(--dropdownBorderTopLeftRadius, 4px);
        border-top-right-radius: var(--dropdownBorderTopRightRadius, 4px);
      }

      ul.dropdown-main li:last-child {
        border-bottom-right-radius: var(--dropdownBorderBottomRightRadius, 4px);
        border-bottom-left-radius: var(--dropdownBorderBottomLeftRadius, 4px);
      }

      /* cover the list with the label */
      ul.dropdown-main li > * > :first-child {
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        align-content: center;
        flex-wrap: nowrap;
        height: 100%;
        padding: var(--dropdownItemPaddingTop, 5px)
          var(--dropdownItemPaddingRight, 10px)
          var(--dropdownItemPaddingBottom, 5px)
          var(--dropdownItemPaddingLeft, 10px);
        box-sizing: border-box;
      }

      ul.dropdown-main li > * {
        width: 100%;
        height: inherit;
        color: ${l};
        background: transparent;
        padding: 0;
      }
    `}};le([Qt({type:Boolean,reflect:!0})],ao.prototype,"open",void 0);le([Qt({type:Boolean,reflect:!0})],ao.prototype,"isDisabled",void 0);le([Qt({type:Boolean})],ao.prototype,"displayCaret",void 0);le([Qt({type:Boolean})],ao.prototype,"closeOnSelect",void 0);le([Qt({type:Boolean})],ao.prototype,"openViaButton",void 0);le([Qt({type:Boolean})],ao.prototype,"openViaCaret",void 0);le([Qt({type:Boolean})],ao.prototype,"includeSelectedOption",void 0);le([Qt({type:String})],ao.prototype,"selectedOption",void 0);le([Qt({attribute:!1})],ao.prototype,"options",void 0);le([Qt({type:String})],ao.prototype,"optionGroup",void 0);le([Qt({attribute:!1})],ao.prototype,"optionSelected",void 0);le([Qt({type:Boolean,reflect:!0})],ao.prototype,"isCustomList",void 0);le([Qt({type:Boolean,reflect:!0})],ao.prototype,"hasCustomClickHandler",void 0);le([Qt({type:Boolean,reflect:!0})],ao.prototype,"closeOnEscape",void 0);le([Qt({type:Boolean,reflect:!0})],ao.prototype,"closeOnBackdropClick",void 0);ao=le([ur("ia-dropdown")],ao);var qm=class extends mi{render(){return Ke`
      <div class="icon-label-container">
        <slot name="icon"></slot>
        <slot></slot>
      </div>
    `}};qm.styles=pt`
    :host {
      display: block;
      width: 100%;
      height: 100%;
      position: relative;
    }

    :host(.invert-icon-at-hover:hover) slot[name='icon'] {
      filter: invert(1);
    }

    :host(.selected) {
      background-color: var(--selectedBgColor, #fff);
      color: var(--selectedTextColor, #2c2c2c);
    }

    :host(.invert-icon-at-selected.selected) slot[name='icon'] {
      filter: invert(1);
    }

    div.icon-label-container {
      display: flex;
      width: 100%;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      flex-direction: var(--iconLabelFlexDirection, row);
      height: 100%;
    }

    slot[name='icon'] {
      width: var(--iconWidth, 20px);
      margin-right: var(--iconLabelGutterWidth, 10px);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      white-space: nowrap;
      height: 100%;
    }

    /* https://css-tricks.com/flexbox-truncated-text/ */
    ::slotted(div.truncate) {
      display: flex;
      width: var(--labelWidth, 100%);
      text-align: left;
      word-wrap: break-word; /* Important for long words! */
      overflow: hidden;
      text-overflow: ellipsis;
      min-width: 0;
    }

    @supports not (-webkit-line-clamp: 2) {
      ::slotted(div.truncate) {
        min-width: 0;
      }
    }
    @supports (-webkit-line-clamp: 2) {
      ::slotted(div.truncate) {
        min-width: 0;
        display: -webkit-box;
        overflow-wrap: break-word;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        /* Fixed line-height needed to fit unicode and emojis
          https://stackoverflow.com/a/67807146
        */
        line-height: 1.2em;
        /* max-height needed for Safari browser */
        max-height: var(--labelTruncateHeight, 30px);
        max-width: var(--labelWidth, 100%);
      }
    }
  `;qm=le([ur("ia-icon-label")],qm);vr();_i();Fr();_i();vr();Ha();vr();Ha();Ln();Ln();vr();Ha();Ha();Ln();vr();Ln();vr();Ha();Ha();Ln();vr();Ha();Ln();vr();Ln();var So=class extends kr{get created_on(){return this.rawMetadata.created_on!=null?new Ao(this.rawMetadata.created_on):void 0}get file_creation_mtime(){return this.rawMetadata.file_creation_mtime!=null?new Gn(this.rawMetadata.file_creation_mtime):void 0}get filename(){return this.rawMetadata.filename!=null?new Ur(this.rawMetadata.filename):void 0}get file_basename(){return this.rawMetadata.file_basename!=null?new Ur(this.rawMetadata.file_basename):void 0}get result_in_subfile(){return this.rawMetadata.result_in_subfile!=null?new Ys(this.rawMetadata.result_in_subfile):void 0}get query(){return this.rawMetadata.query!=null?new Ur(this.rawMetadata.query):void 0}get date_favorited(){return this.rawMetadata.date_favorited!=null?new Ao(this.rawMetadata.date_favorited):void 0}get updated_on(){return this.rawMetadata.updated_on!=null?new Ao(this.rawMetadata.updated_on):void 0}get __href__(){return this.rawMetadata.__href__!=null?new Ur(this.rawMetadata.__href__):void 0}};le([At()],So.prototype,"created_on",null);le([At()],So.prototype,"file_creation_mtime",null);le([At()],So.prototype,"filename",null);le([At()],So.prototype,"file_basename",null);le([At()],So.prototype,"result_in_subfile",null);le([At()],So.prototype,"query",null);le([At()],So.prototype,"date_favorited",null);le([At()],So.prototype,"updated_on",null);le([At()],So.prototype,"__href__",null);var sa=class{constructor(e){var t;this.rawMetadata=e,this.fields=new So((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get collection_files_count(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.collection_files_count)!=null?new Gn(this.rawMetadata.fields.collection_files_count):void 0}get collection_size(){return this.fields.collection_size}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get files_count(){return this.fields.files_count}get genre(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.genre)!=null?new Ur(this.rawMetadata.fields.genre):void 0}get indexflag(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.indexflag)!=null?new Ur(this.rawMetadata.fields.indexflag):void 0}get issue(){return this.fields.issue}get item_count(){return this.fields.item_count}get item_size(){return this.fields.item_size}get language(){return this.fields.language}get lending___available_to_borrow(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_borrow)!=null?new Ys(this.rawMetadata.fields.lending___available_to_borrow):void 0}get lending___available_to_browse(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_browse)!=null?new Ys(this.rawMetadata.fields.lending___available_to_browse):void 0}get lending___available_to_waitlist(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_waitlist)!=null?new Ys(this.rawMetadata.fields.lending___available_to_waitlist):void 0}get lending___status(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___status)!=null?new Ur(this.rawMetadata.fields.lending___status):void 0}get licenseurl(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.licenseurl)!=null?new Ur(this.rawMetadata.fields.licenseurl):void 0}get mediatype(){return this.fields.mediatype}get month(){return this.fields.month}get noindex(){return this.fields.noindex}get num_favorites(){return this.fields.num_favorites}get num_reviews(){return this.fields.num_reviews}get publicdate(){return this.fields.publicdate}get reviewdate(){return this.fields.reviewdate}get review(){let e=this.rawMetadata.review;return e?{body:e.reviewbody,title:e.reviewtitle,author:e.reviewer,authorItem:e.reviewer_itemname,updatedate:new Date(e.reviewdate),createdate:new Date(e.createdate),stars:Number(e.stars)||0,__href__:e.__href__}:void 0}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get type(){return this.fields.type}get volume(){return this.fields.volume}get week(){return this.fields.week}get year(){return this.fields.year}};le([At()],sa.prototype,"collection_files_count",null);le([At()],sa.prototype,"genre",null);le([At()],sa.prototype,"indexflag",null);le([At()],sa.prototype,"lending___available_to_borrow",null);le([At()],sa.prototype,"lending___available_to_browse",null);le([At()],sa.prototype,"lending___available_to_waitlist",null);le([At()],sa.prototype,"lending___status",null);le([At()],sa.prototype,"licenseurl",null);le([At()],sa.prototype,"review",null);var Ym=class{constructor(e){var t;this.rawMetadata=e,this.fields=new So((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get highlight(){var e;return!((e=this.rawMetadata.highlight)===null||e===void 0)&&e.text?new Ur(this.rawMetadata.highlight.text):void 0}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get created_on(){return this.fields.created_on}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get filename(){return this.fields.filename}get file_basename(){return this.fields.file_basename}get file_creation_mtime(){return this.fields.file_creation_mtime}get issue(){return this.fields.issue}get mediatype(){return this.fields.mediatype}get page_num(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.page_num)!=null?new Gn(this.rawMetadata.fields.page_num):void 0}get publicdate(){return this.fields.publicdate}get result_in_subfile(){return this.fields.result_in_subfile}get reviewdate(){return this.fields.reviewdate}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get updated_on(){return this.fields.updated_on}get year(){return this.fields.year}get __href__(){return this.fields.__href__}};le([At()],Ym.prototype,"highlight",null);le([At()],Ym.prototype,"page_num",null);var Eu;(function(e){e[e.COUNT=0]="COUNT",e[e.ALPHABETICAL=1]="ALPHABETICAL",e[e.NUMERIC=2]="NUMERIC"})(Eu||(Eu={}));var zw=class{constructor(e){this.buckets=e.buckets,this.doc_count_error_upper_bound=e.doc_count_error_upper_bound,this.sum_other_doc_count=e.sum_other_doc_count,this.first_bucket_key=e.first_bucket_key,this.last_bucket_key=e.last_bucket_key,this.number_buckets=e.number_buckets,this.interval=e.interval}getSortedBuckets(e){let t=[...this.buckets];if(this.isRawNumberBuckets(t))return t;let r=new Intl.Collator;switch(e){case Eu.ALPHABETICAL:return t.sort((a,l)=>r.compare(a.key.toString(),l.key.toString()));case Eu.NUMERIC:return t.sort((a,l)=>Number(l.key)-Number(a.key));case Eu.COUNT:default:return t}}isRawNumberBuckets(e){return typeof this.buckets[0]=="number"}};le([At()],zw.prototype,"getSortedBuckets",null);var n7=class{constructor(e){var t;this.rawMetadata=e,this.fields=new So((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){var e;return(e=this.fields.query)===null||e===void 0?void 0:e.value}get title(){return this.fields.title}get query(){return this.fields.query}get date_favorited(){return this.fields.date_favorited}get __href__(){return this.fields.__href__}},Km=class{constructor(e){var t;this.rawMetadata=e,this.fields=new So((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){var e;return(e=this.rawMetadata.fields)===null||e===void 0?void 0:e.url}get mediatype(){return new um("web")}get title(){var e,t;return!((e=this.rawMetadata.fields)===null||e===void 0)&&e.url?new Ur((t=this.rawMetadata.fields)===null||t===void 0?void 0:t.url):void 0}get capture_dates(){var e,t;return!((e=this.rawMetadata.fields)===null||e===void 0)&&e.capture_dates?new Ao((t=this.rawMetadata.fields)===null||t===void 0?void 0:t.capture_dates):void 0}get __href__(){return this.fields.__href__}};le([At()],Km.prototype,"title",null);le([At()],Km.prototype,"capture_dates",null);var Xm=class{constructor(e){var t;this.rawMetadata=e,this.fields=new So((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get highlight(){var e;return!((e=this.rawMetadata.highlight)===null||e===void 0)&&e.text?new Ur(this.rawMetadata.highlight.text):void 0}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get created_on(){return this.fields.created_on}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get filename(){return this.fields.filename}get file_basename(){return this.fields.file_basename}get file_creation_mtime(){return this.fields.file_creation_mtime}get issue(){return this.fields.issue}get mediatype(){return this.fields.mediatype}get publicdate(){return this.fields.publicdate}get result_in_subfile(){return this.fields.result_in_subfile}get reviewdate(){return this.fields.reviewdate}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get updated_on(){return this.fields.updated_on}get year(){return this.fields.year}get start(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.start)!=null?new Ur(this.rawMetadata.fields.start):void 0}get __href__(){return this.fields.__href__}};le([At()],Xm.prototype,"highlight",null);le([At()],Xm.prototype,"start",null);var o7=["loans","waitlist","loan_history"];function a7(e){let t=e.slice(0,4),r=e.slice(4,6),a=e.slice(6,8),l=e.slice(8,10),o=e.slice(10,12),c=e.slice(12,14);return`${t}-${r}-${a}T${l}:${o}:${c}Z`}function s7(e){var t;let r=[];for(let a of e){if(!(!((t=a.captures)===null||t===void 0)&&t.length))continue;let l=encodeURIComponent(a.url),o=`https://web.archive.org/web/${a.captures[0]}/${l}`;r.push({hit_type:"web_archive",fields:{url:a.url,capture_dates:a.captures.map(c=>a7(c)),__href__:o}})}return r}var l7=class Uw{constructor(t,r){var a,l,o,c,n,u,p,g,m,y,x,w,k,S;this.schema=r,this.schemaHitType=r==null?void 0:r.hit_type;let P;t!=null&&t.page_elements&&(this.pageElements=t.page_elements,P=Object.values(this.pageElements)[0]);let E=(a=t==null?void 0:t.hits)===null||a===void 0?void 0:a.hits;this.totalResults=(o=(l=t==null?void 0:t.hits)===null||l===void 0?void 0:l.total)!==null&&o!==void 0?o:0,this.returnedCount=(n=(c=t==null?void 0:t.hits)===null||c===void 0?void 0:c.returned)!==null&&n!==void 0?n:0,!(E!=null&&E.length)&&!((u=this.pageElements)===null||u===void 0)&&u.service___fts?(this.totalResults=0,this.returnedCount=0,this.handleFederatedPageElements()):!(E!=null&&E.length)&&!((p=P==null?void 0:P.hits)===null||p===void 0)&&p.hits?(E=P.hits.hits,this.totalResults=(g=P.hits.total)!==null&&g!==void 0?g:0,this.returnedCount=(m=P.hits.returned)!==null&&m!==void 0?m:0):!((y=this.pageElements)===null||y===void 0)&&y.lending?E=this.handleLendingPageElement():!((x=this.pageElements)===null||x===void 0)&&x.web_archives&&(E=this.handleWebArchivesPageElement()),this.results=this.formatHits(E);let L=t==null?void 0:t.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(P!=null&&P.aggregations)&&(L=P.aggregations),L&&this.buildAggregations(L),t!=null&&t.collection_titles&&(this.collectionTitles=(w=t.collection_titles)!==null&&w!==void 0?w:{}),t!=null&&t.collection_extra_info&&(this.collectionExtraInfo=(k=t.collection_extra_info)!==null&&k!==void 0?k:null),t!=null&&t.account_extra_info&&(this.accountExtraInfo=(S=t.account_extra_info)!==null&&S!==void 0?S:null)}formatHits(t){var r;return(r=t==null?void 0:t.map(a=>{var l;return Uw.createResult((l=a.hit_type)!==null&&l!==void 0?l:this.schemaHitType,a)}))!==null&&r!==void 0?r:[]}buildAggregations(t){this.aggregations=Object.entries(t).reduce((r,[a,l])=>(r[a]=new zw(l),r),{})}handleLendingPageElement(){var t,r;let a=(t=this.pageElements)===null||t===void 0?void 0:t.lending,l=(r=a.loans)!==null&&r!==void 0?r:[];this.totalResults=l.length,this.returnedCount=this.totalResults;for(let o of o7)a[o]=this.formatHits(a[o]);return l}handleWebArchivesPageElement(){var t;let r=s7((t=this.pageElements)===null||t===void 0?void 0:t.web_archives);return this.totalResults=r.length,this.returnedCount=this.totalResults,r}handleFederatedPageElements(){var t,r,a,l;let o=["service___fts","service___tvs","service___rcs","service___whisper"];for(let c of o){let n=this.removeServicePrefix(c);this.federatedResults?this.federatedResults[c]=[]:this.federatedResults={[n]:[]};let u=(r=(t=this.pageElements)===null||t===void 0?void 0:t[c])===null||r===void 0?void 0:r.hits;u!=null&&u.hits&&(this.federatedResults[n]=this.formatHits(u==null?void 0:u.hits)),this.totalResults+=(a=u==null?void 0:u.total)!==null&&a!==void 0?a:0,this.returnedCount+=(l=u==null?void 0:u.returned)!==null&&l!==void 0?l:0}}removeServicePrefix(t){return t.split("___")[1]}static createResult(t,r){switch(t){case"item":return new sa(r);case"text":case"asr_text":return new Ym(r);case"favorited_search":return new n7(r);case"web_archive":return new Km(r);case"tv_clip":return new Xm(r);default:return new sa(r)}}},c7=class{constructor(e){this.clientParameters=e.client_parameters,this.backendRequests=e.backend_requests,this.kind=e.kind}},u7=class{constructor(e){var t,r,a;this.rawResponse=e,this.request=new c7(e.request),this.responseHeader=(t=e.response)===null||t===void 0?void 0:t.header,this.sessionContext=e.session_context,this.response=new l7((r=e.response)===null||r===void 0?void 0:r.body,(a=e.response)===null||a===void 0?void 0:a.hit_schema)}},ph=class{static aggregateSearchParamsAsString(e){if(e.omit)return"false";if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field}:${e.direction}`}static filterParamsAsString(e){return JSON.stringify(e)}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("user_query",e.query),e.pageType&&t.append("page_type",String(e.pageType)),e.pageTarget&&t.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){let a=`[${e.pageElements.map(l=>`"${l}"`).join(",")}]`;t.append("page_elements",a)}if(e.rows!=null&&t.append("hits_per_page",String(e.rows)),e.page!=null&&t.append("page",String(e.page)),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){let a=this.filterParamsAsString(e.filters);a&&a!=="{}"&&t.append("filter_map",a)}if(e.sort&&e.sort.length>0){let a=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",a.join(","))}let r=e.aggregations;if(r){let a=this.aggregateSearchParamsAsString(r);a&&t.append("aggregations",a)}if(e.aggregationsSize!=null&&t.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&t.append("debugging","true"),e.uid&&t.append("uid",e.uid),e.includeClientUrl!==!1){let a=window.location.href.slice(0,400);e.query.length<=1e3&&t.append("client_url",a)}return t}},Tu;(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(Tu||(Tu={}));var d7=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},Hw={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},fh=class{constructor(e){var t,r;this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;let a=new URL(window.location.href).searchParams,l=a.get("scope"),o=a.get("verbose"),c=a.get("debugging"),n=a.get("cacheDebug"),u="";for(let p of Object.keys(Hw))if(a.get(p)){u=Hw[p];break}u=(r=a.get("caching"))!==null&&r!==void 0?r:u,(e==null?void 0:e.caching)!==void 0?this.cachingFlags=e.caching:u&&(this.cachingFlags=u),(e==null?void 0:e.debuggingEnabled)!==void 0?this.debuggingEnabled=e.debuggingEnabled:(c||n)&&(this.debuggingEnabled=!0),(e==null?void 0:e.scope)!==void 0?this.requestScope=e.scope:l&&(this.requestScope=l),(e==null?void 0:e.verbose)!==void 0?this.verbose=e.verbose:o&&(this.verbose=!!o)}fetchUrl(e,t){return yi(this,null,function*(){var r,a;let l=new URL(e);this.requestScope&&l.searchParams.set("scope",this.requestScope),this.cachingFlags&&l.searchParams.set("caching",this.cachingFlags);let o;try{let c=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};o=yield fetch(l.href,c)}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(Tu.networkError,n)}try{let c=yield o.json();this.verbose&&this.printResponse(c),c.debugging&&this.printDebuggingInfo(c);let n=(a=c.response)===null||a===void 0?void 0:a.error;return n?this.getErrorResult(Tu.searchEngineError,n.message,n.forensics):{success:c}}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(Tu.decodingError,n)}})}getErrorResult(e,t,r){return{error:new d7(e,t,r)}}printResponse(e){var t,r,a,l,o;try{let c=JSON.parse(JSON.stringify(e)),n=(a=(r=(t=c==null?void 0:c.response)===null||t===void 0?void 0:t.body)===null||r===void 0?void 0:r.hits)===null||a===void 0?void 0:a.hits;if(Array.isArray(n)&&n.length>1){let p=[];p.push(n[0]),p.push(`*** ${n.length-1} hits omitted ***`),c.response.body.hits.hits=p}let u=(o=(l=c==null?void 0:c.response)===null||l===void 0?void 0:l.body)===null||o===void 0?void 0:o.aggregations;u&&Object.entries(u).forEach(([p,g])=>{var m,y,x,w;if(((y=(m=g)===null||m===void 0?void 0:m.buckets)===null||y===void 0?void 0:y.length)>0){let k=JSON.parse(JSON.stringify(g));k.buckets=`*** ${(w=(x=k.buckets)===null||x===void 0?void 0:x.length)!==null&&w!==void 0?w:0} buckets omitted ***`,c.response.body.aggregations[p]=k}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(c,null,2)),console.groupEnd()}catch(c){console.error("Error printing search response:",c)}}printDebuggingInfo(e){var t,r;let a=e.debugging,l=(t=a.messages)!==null&&t!==void 0?t:[],o=(r=a.data)!==null&&r!==void 0?r:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");for(let c of l)console.log(c);console.groupEnd(),console.group("Debug data");for(let[c,n]of Object.entries(o))console.log(c,n);console.groupEnd(),console.log("***** END DEBUGGING *****")}},h7=class extends fh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return yi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=ph.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?${t}`;return this.fetchUrl(r)})}},p7=class extends fh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return yi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=ph.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=fts&${t}`;return this.fetchUrl(r)})}},f7=class extends fh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return yi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=ph.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=rcs&${t}`;return this.fetchUrl(r)})}},Fa;(function(e){e[e.METADATA=0]="METADATA",e[e.FULLTEXT=1]="FULLTEXT",e[e.RADIO=3]="RADIO",e[e.FEDERATED=4]="FEDERATED"})(Fa||(Fa={}));var m7=class extends fh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return yi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=ph.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?page_type=simple_federation&${t}`;return this.fetchUrl(r)})}},Gm=class Vw{constructor(t={}){this.backendOptions=t}search(a){return yi(this,arguments,function*(t,r=Fa.METADATA){let l=yield Vw.getBackendForSearchType(r,this.backendOptions).performSearch(t);return l.error?l:{success:new u7(l.success)}})}static getBackendForSearchType(t,r={}){switch(t){case Fa.FULLTEXT:return new p7(r);case Fa.RADIO:return new f7(r);case Fa.FEDERATED:return new m7(r);case Fa.METADATA:default:return new h7(r)}}};Gm.default=new Gm;le([At((e,t={})=>{let{includeCredentials:r=!1,verbose:a=!1,scope:l="",baseUrl:o=""}=t;return`${e};${r};${a};${l};${o}`})],Gm,"getBackendForSearchType",null);var Fw;(function(e){e.INCLUDE="inc",e.EXCLUDE="exc",e.GREATER_THAN="gt",e.GREATER_OR_EQUAL="gte",e.LESS_THAN="lt",e.LESS_OR_EQUAL="lte"})(Fw||(Fw={}));var Ww=pt`var(--white, #fff)`,g7=pt`var(--primaryDisableCTAFill, #767676)`,v7=pt`var(--secondaryCTABorder, #999)`,y7=pt`var(--primaryCTAFill, #194880)`,Zm=pt`var(--primaryCTAFillRGB, 25, 72, 128)`,b7=pt`var(--primaryCTABorder, #c5d1df)`,w7=pt`var(--primaryErrorCTAFill, #d9534f)`,Jm=pt`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,x7=pt`var(--primaryErrorCTABorder, #d43f3a)`,_7=pt`var(--secondaryCTAFill, #333)`,Qm=pt`var(--secondaryCTAFillRGB, 51, 51, 51)`,k7=pt`var(--primaryCTABorder, #979797)`,A7=pt`#ee8950`,S7=pt`#ec7939`,C7=pt`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${Ww};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 3rem;
    outline-color: ${Ww};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${g7};
    border: 1px solid ${v7};
  }
  .ia-button.transparent {
    background-color: transparent;
  }
  .ia-button.warning {
    background-color: ${A7}
    border-color: ${S7};
  }

  .ia-button.primary {
    background-color: ${y7};
    border-color: ${b7};
  }
  .ia-button.primary:hover {
    background-color: rgba(${Zm}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${Zm}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${Zm}, 0.7);
  }

  .ia-button.danger {
    background-color: ${w7};
    border-color: ${x7};
  }
  .ia-button.danger:hover {
    background-color: rgba(${Jm}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${Jm}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${Jm}, 0.7);
  }

  .ia-button.dark {
    background-color: ${_7};
    border-color: ${k7};
  }
  .ia-button.dark:hover {
    background-color: rgba(${Qm}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${Qm}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${Qm}, 0.7);
  }
`,Pu;(function(e){e.NETWORK="failed to connect to user lists backend service",e.BAD_RESPONSE="malformed response from backend",e.USER_NOT_FOUND="user with the given id was not found",e.LIST_NOT_FOUND="user list with the given id was not found",e.LIST_MEMBER_NOT_FOUND="user list member with the given id was not found",e.ITEM_NOT_TOUND="item with the given id was not found"})(Pu||(Pu={}));var E7=class extends Error{constructor(e,t,r){super(t,r),this.reason=e}},eg="application/json; charset=utf-8",mh=class pc{constructor({fetchHandler:t,searchService:r,userService:a,baseUrl:l=pc.DEFAULT_BASE_URL}){this.fetchHandler=t,this.searchService=r,this.userService=a,this.baseUrl=l}fetchEndpoint(t,r,a,l){return yi(this,null,function*(){try{let o=yield this.fetchHandler.fetchApiResponse(t,{method:r,body:a,headers:l,includeCredentials:!0});return o.success?{success:o.value}:{error:pc.getErrorResult(Pu.LIST_NOT_FOUND,o.error)}}catch(o){return{error:pc.getErrorResult(Pu.NETWORK,o)}}})}fetchListsForUser(t){return yi(this,null,function*(){var r;let a=(r=yield this.userService.getLoggedInUser())===null||r===void 0?void 0:r.success,l=(a==null?void 0:a.itemname)===t?"me":t;return this.fetchEndpoint(`${this.baseUrl}/services/users/${l}/lists`)})}fetchList(t,r){return yi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/${t}/lists/${r}`)})}fetchOwnListsContainingItem(t){return yi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists?item=${t}`)})}fetchListMembers(t,r){return yi(this,null,function*(){let a=yield this.fetchList(t,r);if(!a.success)return a;let{members:l}=a.success;if(!l)throw pc.getErrorResult(Pu.BAD_RESPONSE);return{success:l}})}fetchListMemberSearchResults(t,r){return yi(this,null,function*(){let a=yield this.fetchListMembers(t,r);if(!a.success)return a;let l=a.success;if(l.length===0)return{success:[]};let o=`identifier:(${l.map(n=>n.identifier).join(" OR ")})`,c=yield this.searchService.search({query:o,rows:l.length,aggregations:{omit:!0}},Fa.METADATA);return c.success?{success:c.success.response.results}:{error:c.error}})}createList(t){return yi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists`,"POST",JSON.stringify(t),{"Content-Type":eg})})}updateList(t,r){return yi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}`,"PATCH",JSON.stringify(r),{"Content-Type":eg})})}deleteList(t){return yi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}`,"DELETE")})}addMemberToList(t,r){return yi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}/members`,"POST",JSON.stringify(r),{"Content-Type":eg})})}removeMemberFromList(t,r){return yi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}/members/${r}`,"DELETE")})}static getErrorResult(t,r){return new E7(t,pc.getErrorMessage(r),{cause:r})}static getErrorMessage(t){return t instanceof Error?t.message:typeof t=="string"?t:"Unknown error"}};mh.DEFAULT_BASE_URL="https://archive.org";var za=class extends mi{saveListDetails(e){return yi(this,null,function*(){var t,r,a,l;e.preventDefault();let o=(t=e.target)===null||t===void 0?void 0:t.querySelector("button#save-list-settings");o==null||o.setAttribute("disabled","true"),this.dispatchEvent(new Event("userListSaving"));try{let c={list_name:this.listName.value,description:this.listDescription.value,is_private:this.listPrivate.checked},n;if(!((r=this.userList)===null||r===void 0)&&r.id?n=yield(a=this.userListsService)===null||a===void 0?void 0:a.updateList(this.userList.id,c):n=yield(l=this.userListsService)===null||l===void 0?void 0:l.createList(c),n.success)this.dispatchEvent(new CustomEvent("userListSaved",{detail:n.success}));else throw n.error}catch(c){this.dispatchEvent(new CustomEvent("userListError",{detail:{error:c}})),console.log("error",c),o==null||o.removeAttribute("disabled")}})}emitCloseModalEvent(e){e.preventDefault(),this.dispatchEvent(new Event("listModalClosed"))}render(){var e,t,r,a,l,o,c,n;return Ke`
      <section class="new-list">
        <form id="user-list-form" @submit=${this.saveListDetails}>
          <div class="field">
            <input type="hidden" id="id" .value=${(t=(e=this.userList)===null||e===void 0?void 0:e.id)!==null&&t!==void 0?t:""} />
            <label for="name">List name*</label>
            <input
              type="text"
              id="name"
              .value=${(a=(r=this.userList)===null||r===void 0?void 0:r.list_name)!==null&&a!==void 0?a:""}
              required
            />
          </div>
          <div class="field">
            <label for="description">Description</label>
            <textarea
              id="description"
              .value=${(o=(l=this.userList)===null||l===void 0?void 0:l.description)!==null&&o!==void 0?o:""}
            ></textarea>
          </div>
          <div class="field">
            <label for="private">Private list</label>
            <input
              type="checkbox"
              id="private"
              .checked="${(n=(c=this.userList)===null||c===void 0?void 0:c.is_private)!==null&&n!==void 0?n:!1}"
            />
          </div>
          <div class="footer field">
            <button
              type="button"
              class="ia-button dark"
              id="cancel"
              @click=${this.emitCloseModalEvent}
            >
              Cancel
            </button>
            <button
              type="submit"
              id="save-list-settings"
              class="ia-button primary"
            >
              Save
            </button>
          </div>
        </form>
      </section>
    `}};za.styles=[C7,pt`
      :host {
        display: block;
        padding: 15px 0 0 0;
        font-size: 14px;
        position: relative;
      }

      .field {
        margin-bottom: 10px;
        display: flex;
        align-items: center;
      }

      label {
        display: inline-block;
        width: 90px;
        text-align: left;
        margin-right: 10px;
        font-weight: 700;
      }

      input[type='text'],
      textarea {
        line-height: 20px;
        padding: 5px;
        border-radius: 5px;
        width: 270px;
        font-family: inherit;
        font-size: inherit;
        resize: none;
        border-style: solid;
        outline: none;
        border-radius: 4px;
        border-width: 1px;
        border-color: #999;
      }

      input[type='checkbox'] {
        cursor: pointer;
        margin: 0;
      }

      label[for='private'] {
        cursor: pointer;
      }

      .footer {
        display: block;
        text-align: center;
        margin: 10px 0 0 0;
      }

      .ia-button {
        display: initial;
        padding: 0 15px;
        height: 3.5rem;
      }
    `];le([Qt({type:Object}),Ts("design:type",Object)],za.prototype,"userList",void 0);le([Qt({type:Object}),Ts("design:type",mh)],za.prototype,"userListsService",void 0);le([sn("#id"),Ts("design:type",HTMLInputElement)],za.prototype,"listId",void 0);le([sn("#name"),Ts("design:type",HTMLInputElement)],za.prototype,"listName",void 0);le([sn("#description"),Ts("design:type",HTMLInputElement)],za.prototype,"listDescription",void 0);le([sn("#private"),Ts("design:type",HTMLInputElement)],za.prototype,"listPrivate",void 0);za=le([ur("iaux-userlist-settings")],za);vr();Ln();Un();vr();Ln();Un();Un();Un();Un();Un();Un();Un();Un();vr();Ln();vr();Ln();vr();Ln();vr();Ln();vr();Ln();vr();Ln();vr();Ln();var la=class{constructor(e,t){this.parser=e,this.rawValue=t}get values(){return this.parseRawValue()}get value(){return this.values[0]}parseRawValue(){if(this.rawValue===void 0)return[];let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let a=this.parser.parseValue(r);Array.isArray(a)?t.push(...a):a!==void 0&&t.push(a)}),t}};le([At()],la.prototype,"values",null);le([At()],la.prototype,"value",null);var el=class extends la{constructor(e){super(oc.shared,e)}},gn=class extends la{constructor(e){super(Ba.shared,e)}},tg=class extends la{constructor(e){super(ps.shared,e)}},dn=class extends la{constructor(e){super(ko.shared,e)}},pr=class extends la{constructor(e){super(_a.shared,e)}},T7=class extends la{constructor(e){super(sc.shared,e)}},gh=class extends la{constructor(e){super(hs.shared,e)}},Mu=class extends la{constructor(e){super(ac.shared,e)}},P7=class extends la{constructor(e,t){super(t,e)}},$7=class extends P7{constructor(e){let t=new nh(_a.shared);super(e,t)}},Cr=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}get addeddate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new gn(this.rawMetadata.addeddate):void 0}get audio_codec(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new pr(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new dn(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new dn(this.rawMetadata.avg_rating):void 0}get collection(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new pr(this.rawMetadata.collection):void 0}get collections_raw(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new pr(this.rawMetadata.collections_raw):void 0}get collection_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new gh(this.rawMetadata.collection_size):void 0}get contributor(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new pr(this.rawMetadata.contributor):void 0}get coverage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new pr(this.rawMetadata.coverage):void 0}get creator(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new pr(this.rawMetadata.creator):void 0}get date(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new gn(this.rawMetadata.date):void 0}get description(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new pr(this.rawMetadata.description):void 0}get downloads(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new dn(this.rawMetadata.downloads):void 0}get duration(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new tg(this.rawMetadata.duration):void 0}get"external-identifier"(){var e,t;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new pr((t=this.rawMetadata)===null||t===void 0?void 0:t["external-identifier"]):void 0}get files_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new dn(this.rawMetadata.files_count):void 0}get indexdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new gn(this.rawMetadata.indexdate):void 0}get isbn(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new pr(this.rawMetadata.isbn):void 0}get issue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new pr(this.rawMetadata.issue):void 0}get item_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new dn(this.rawMetadata.item_count):void 0}get item_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new gh(this.rawMetadata.item_size):void 0}get language(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new pr(this.rawMetadata.language):void 0}get length(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new tg(this.rawMetadata.length):void 0}get lineage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new pr(this.rawMetadata.lineage):void 0}get month(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new dn(this.rawMetadata.month):void 0}get mediatype(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new Mu(this.rawMetadata.mediatype):void 0}get noindex(){var e;return((e=this.rawMetadata)===null||e===void 0?void 0:e.noindex)!=null?new el(this.rawMetadata.noindex):void 0}get notes(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new pr(this.rawMetadata.notes):void 0}get num_favorites(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new dn(this.rawMetadata.num_favorites):void 0}get num_reviews(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new dn(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new pr(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new pr(this.rawMetadata.openlibrary_work):void 0}get page_progression(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new T7(this.rawMetadata.page_progression):void 0}get partner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new pr(this.rawMetadata.partner):void 0}get ppi(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new dn(this.rawMetadata.ppi):void 0}get publicdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new gn(this.rawMetadata.publicdate):void 0}get publisher(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new pr(this.rawMetadata.publisher):void 0}get reviewdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new gn(this.rawMetadata.reviewdate):void 0}get runtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new tg(this.rawMetadata.runtime):void 0}get scanner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new pr(this.rawMetadata.scanner):void 0}get source(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new pr(this.rawMetadata.source):void 0}get start_localtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new gn(this.rawMetadata.start_localtime):void 0}get start_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new gn(this.rawMetadata.start_time):void 0}get stop_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new gn(this.rawMetadata.stop_time):void 0}get subject(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new $7(this.rawMetadata.subject):void 0}get taper(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new pr(this.rawMetadata.taper):void 0}get title(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new pr(this.rawMetadata.title):void 0}get transferer(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new pr(this.rawMetadata.transferer):void 0}get track(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new dn(this.rawMetadata.track):void 0}get type(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new pr(this.rawMetadata.type):void 0}get uploader(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new pr(this.rawMetadata.uploader):void 0}get utc_offset(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new dn(this.rawMetadata.utc_offset):void 0}get venue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new pr(this.rawMetadata.venue):void 0}get volume(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new pr(this.rawMetadata.volume):void 0}get week(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new dn(this.rawMetadata.week):void 0}get year(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new gn(this.rawMetadata.year):void 0}get query(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.query?new pr(this.rawMetadata.fields.query):void 0}get date_favorited(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date_favorited?new gn(this.rawMetadata.fields.date_favorited):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new pr(this.rawMetadata.fields.__href__):void 0}};le([At()],Cr.prototype,"addeddate",null);le([At()],Cr.prototype,"audio_codec",null);le([At()],Cr.prototype,"audio_sample_rate",null);le([At()],Cr.prototype,"avg_rating",null);le([At()],Cr.prototype,"collection",null);le([At()],Cr.prototype,"collections_raw",null);le([At()],Cr.prototype,"collection_size",null);le([At()],Cr.prototype,"contributor",null);le([At()],Cr.prototype,"coverage",null);le([At()],Cr.prototype,"creator",null);le([At()],Cr.prototype,"date",null);le([At()],Cr.prototype,"description",null);le([At()],Cr.prototype,"downloads",null);le([At()],Cr.prototype,"duration",null);le([At()],Cr.prototype,"external-identifier",null);le([At()],Cr.prototype,"files_count",null);le([At()],Cr.prototype,"indexdate",null);le([At()],Cr.prototype,"isbn",null);le([At()],Cr.prototype,"issue",null);le([At()],Cr.prototype,"item_count",null);le([At()],Cr.prototype,"item_size",null);le([At()],Cr.prototype,"language",null);le([At()],Cr.prototype,"length",null);le([At()],Cr.prototype,"lineage",null);le([At()],Cr.prototype,"month",null);le([At()],Cr.prototype,"mediatype",null);le([At()],Cr.prototype,"noindex",null);le([At()],Cr.prototype,"notes",null);le([At()],Cr.prototype,"num_favorites",null);le([At()],Cr.prototype,"num_reviews",null);le([At()],Cr.prototype,"openlibrary_edition",null);le([At()],Cr.prototype,"openlibrary_work",null);le([At()],Cr.prototype,"page_progression",null);le([At()],Cr.prototype,"partner",null);le([At()],Cr.prototype,"ppi",null);le([At()],Cr.prototype,"publicdate",null);le([At()],Cr.prototype,"publisher",null);le([At()],Cr.prototype,"reviewdate",null);le([At()],Cr.prototype,"runtime",null);le([At()],Cr.prototype,"scanner",null);le([At()],Cr.prototype,"source",null);le([At()],Cr.prototype,"start_localtime",null);le([At()],Cr.prototype,"start_time",null);le([At()],Cr.prototype,"stop_time",null);le([At()],Cr.prototype,"subject",null);le([At()],Cr.prototype,"taper",null);le([At()],Cr.prototype,"title",null);le([At()],Cr.prototype,"transferer",null);le([At()],Cr.prototype,"track",null);le([At()],Cr.prototype,"type",null);le([At()],Cr.prototype,"uploader",null);le([At()],Cr.prototype,"utc_offset",null);le([At()],Cr.prototype,"venue",null);le([At()],Cr.prototype,"volume",null);le([At()],Cr.prototype,"week",null);le([At()],Cr.prototype,"year",null);le([At()],Cr.prototype,"query",null);le([At()],Cr.prototype,"date_favorited",null);le([At()],Cr.prototype,"__href__",null);var Qr=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new gn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating)!=null?new dn(this.rawMetadata.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new pr(this.rawMetadata.fields.collection):void 0}get collection_files_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.collection_files_count)!=null?new dn(this.rawMetadata.fields.collection_files_count):void 0}get collection_size(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.collection_size)!=null?new gh(this.rawMetadata.fields.collection_size):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new pr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new gn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new pr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads)!=null?new dn(this.rawMetadata.fields.downloads):void 0}get files_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.files_count)!=null?new dn(this.rawMetadata.fields.files_count):void 0}get genre(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.genre?new pr(this.rawMetadata.fields.genre):void 0}get indexflag(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.indexflag?new pr(this.rawMetadata.fields.indexflag):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new pr(this.rawMetadata.fields.issue):void 0}get item_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.item_count)!=null?new dn(this.rawMetadata.fields.item_count):void 0}get item_size(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.item_size)!=null?new gh(this.rawMetadata.fields.item_size):void 0}get language(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.language?new pr(this.rawMetadata.fields.language):void 0}get lending___available_to_borrow(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_borrow)!=null?new el(this.rawMetadata.fields.lending___available_to_borrow):void 0}get lending___available_to_browse(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_browse)!=null?new el(this.rawMetadata.fields.lending___available_to_browse):void 0}get lending___available_to_waitlist(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_waitlist)!=null?new el(this.rawMetadata.fields.lending___available_to_waitlist):void 0}get lending___status(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.lending___status?new pr(this.rawMetadata.fields.lending___status):void 0}get licenseurl(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.licenseurl?new pr(this.rawMetadata.fields.licenseurl):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new Mu(this.rawMetadata.fields.mediatype):void 0}get month(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.month)!=null?new dn(this.rawMetadata.fields.month):void 0}get noindex(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.noindex)!=null?new el(this.rawMetadata.fields.noindex):void 0}get num_favorites(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.num_favorites)!=null?new dn(this.rawMetadata.fields.num_favorites):void 0}get num_reviews(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.num_reviews)!=null?new dn(this.rawMetadata.fields.num_reviews):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new gn(this.rawMetadata.fields.publicdate):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new gn(this.rawMetadata.fields.reviewdate):void 0}get review(){var e;let t=(e=this.rawMetadata)===null||e===void 0?void 0:e.review;return t?{body:t.reviewbody,title:t.reviewtitle,author:t.reviewer,authorItem:t.reviewer_itemname,updatedate:new Date(t.reviewdate),createdate:new Date(t.createdate),stars:Number(t.stars)||0,__href__:t.__href__}:void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new pr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new pr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new pr(this.rawMetadata.fields.title):void 0}get type(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.type?new pr(this.rawMetadata.fields.type):void 0}get volume(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.volume?new pr(this.rawMetadata.fields.volume):void 0}get week(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.week)!=null?new dn(this.rawMetadata.fields.week):void 0}get year(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year)!=null?new dn(this.rawMetadata.fields.year):void 0}};le([At()],Qr.prototype,"addeddate",null);le([At()],Qr.prototype,"avg_rating",null);le([At()],Qr.prototype,"collection",null);le([At()],Qr.prototype,"collection_files_count",null);le([At()],Qr.prototype,"collection_size",null);le([At()],Qr.prototype,"creator",null);le([At()],Qr.prototype,"date",null);le([At()],Qr.prototype,"description",null);le([At()],Qr.prototype,"downloads",null);le([At()],Qr.prototype,"files_count",null);le([At()],Qr.prototype,"genre",null);le([At()],Qr.prototype,"indexflag",null);le([At()],Qr.prototype,"issue",null);le([At()],Qr.prototype,"item_count",null);le([At()],Qr.prototype,"item_size",null);le([At()],Qr.prototype,"language",null);le([At()],Qr.prototype,"lending___available_to_borrow",null);le([At()],Qr.prototype,"lending___available_to_browse",null);le([At()],Qr.prototype,"lending___available_to_waitlist",null);le([At()],Qr.prototype,"lending___status",null);le([At()],Qr.prototype,"licenseurl",null);le([At()],Qr.prototype,"mediatype",null);le([At()],Qr.prototype,"month",null);le([At()],Qr.prototype,"noindex",null);le([At()],Qr.prototype,"num_favorites",null);le([At()],Qr.prototype,"num_reviews",null);le([At()],Qr.prototype,"publicdate",null);le([At()],Qr.prototype,"reviewdate",null);le([At()],Qr.prototype,"review",null);le([At()],Qr.prototype,"source",null);le([At()],Qr.prototype,"subject",null);le([At()],Qr.prototype,"title",null);le([At()],Qr.prototype,"type",null);le([At()],Qr.prototype,"volume",null);le([At()],Qr.prototype,"week",null);le([At()],Qr.prototype,"year",null);var On=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get highlight(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||t===void 0)&&t.text?new pr(this.rawMetadata.highlight.text):void 0}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new gn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating)!=null?new dn(this.rawMetadata.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new pr(this.rawMetadata.fields.collection):void 0}get created_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.created_on?new gn(this.rawMetadata.fields.created_on):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new pr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new gn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new pr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads)!=null?new dn(this.rawMetadata.fields.downloads):void 0}get filename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.filename?new pr(this.rawMetadata.fields.filename):void 0}get file_basename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.file_basename?new pr(this.rawMetadata.fields.file_basename):void 0}get file_creation_mtime(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.file_creation_mtime)!=null?new dn(this.rawMetadata.fields.file_creation_mtime):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new pr(this.rawMetadata.fields.issue):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new Mu(this.rawMetadata.fields.mediatype):void 0}get page_num(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.page_num)!=null?new dn(this.rawMetadata.fields.page_num):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new gn(this.rawMetadata.fields.publicdate):void 0}get result_in_subfile(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.result_in_subfile)!=null?new el(this.rawMetadata.fields.result_in_subfile):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new gn(this.rawMetadata.fields.reviewdate):void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new pr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new pr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new pr(this.rawMetadata.fields.title):void 0}get updated_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.updated_on?new gn(this.rawMetadata.fields.updated_on):void 0}get year(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year)!=null?new dn(this.rawMetadata.fields.year):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new pr(this.rawMetadata.fields.__href__):void 0}};le([At()],On.prototype,"highlight",null);le([At()],On.prototype,"addeddate",null);le([At()],On.prototype,"avg_rating",null);le([At()],On.prototype,"collection",null);le([At()],On.prototype,"created_on",null);le([At()],On.prototype,"creator",null);le([At()],On.prototype,"date",null);le([At()],On.prototype,"description",null);le([At()],On.prototype,"downloads",null);le([At()],On.prototype,"filename",null);le([At()],On.prototype,"file_basename",null);le([At()],On.prototype,"file_creation_mtime",null);le([At()],On.prototype,"issue",null);le([At()],On.prototype,"mediatype",null);le([At()],On.prototype,"page_num",null);le([At()],On.prototype,"publicdate",null);le([At()],On.prototype,"result_in_subfile",null);le([At()],On.prototype,"reviewdate",null);le([At()],On.prototype,"source",null);le([At()],On.prototype,"subject",null);le([At()],On.prototype,"title",null);le([At()],On.prototype,"updated_on",null);le([At()],On.prototype,"year",null);le([At()],On.prototype,"__href__",null);var $u;(function(e){e[e.COUNT=0]="COUNT",e[e.ALPHABETICAL=1]="ALPHABETICAL",e[e.NUMERIC=2]="NUMERIC"})($u||($u={}));var Yw=class{constructor(e){this.buckets=e.buckets,this.doc_count_error_upper_bound=e.doc_count_error_upper_bound,this.sum_other_doc_count=e.sum_other_doc_count,this.first_bucket_key=e.first_bucket_key,this.last_bucket_key=e.last_bucket_key,this.number_buckets=e.number_buckets,this.interval=e.interval}getSortedBuckets(e){let t=[...this.buckets];if(this.isRawNumberBuckets(t))return t;let r=new Intl.Collator;switch(e){case $u.ALPHABETICAL:return t.sort((a,l)=>r.compare(a.key.toString(),l.key.toString()));case $u.NUMERIC:return t.sort((a,l)=>Number(l.key)-Number(a.key));case $u.COUNT:default:return t}}isRawNumberBuckets(e){return typeof this.buckets[0]=="number"}};le([At()],Yw.prototype,"getSortedBuckets",null);var Iu=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.fields.query}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new pr(this.rawMetadata.fields.title):void 0}get query(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.query?new pr(this.rawMetadata.fields.query):void 0}get date_favorited(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date_favorited?new gn(this.rawMetadata.fields.date_favorited):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new pr(this.rawMetadata.fields.__href__):void 0}};le([At()],Iu.prototype,"title",null);le([At()],Iu.prototype,"query",null);le([At()],Iu.prototype,"date_favorited",null);le([At()],Iu.prototype,"__href__",null);var vh=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.url}get mediatype(){return new Mu("web")}get title(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.url?new pr((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.url):void 0}get capture_dates(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.capture_dates?new gn((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.capture_dates):void 0}get __href__(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new pr((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.__href__):void 0}};le([At()],vh.prototype,"title",null);le([At()],vh.prototype,"capture_dates",null);le([At()],vh.prototype,"__href__",null);var Mn=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get highlight(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||t===void 0)&&t.text?new pr(this.rawMetadata.highlight.text):void 0}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new gn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating;return a||a===0?new dn((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new pr(this.rawMetadata.fields.collection):void 0}get created_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.created_on?new gn(this.rawMetadata.fields.created_on):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new pr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new gn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new pr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads;return a||a===0?new dn((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.downloads):void 0}get filename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.filename?new pr(this.rawMetadata.fields.filename):void 0}get file_basename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.file_basename?new pr(this.rawMetadata.fields.file_basename):void 0}get file_creation_mtime(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.file_creation_mtime;return a||a===0?new dn((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.file_creation_mtime):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new pr(this.rawMetadata.fields.issue):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new Mu(this.rawMetadata.fields.mediatype):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new gn(this.rawMetadata.fields.publicdate):void 0}get result_in_subfile(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.result_in_subfile;return a||a===!1?new el((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.result_in_subfile):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new gn(this.rawMetadata.fields.reviewdate):void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new pr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new pr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new pr(this.rawMetadata.fields.title):void 0}get updated_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.updated_on?new gn(this.rawMetadata.fields.updated_on):void 0}get year(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year;return a||a===0?new dn((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.year):void 0}get start(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.start;return a||a===0?new pr((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.start):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new pr(this.rawMetadata.fields.__href__):void 0}};le([At()],Mn.prototype,"highlight",null);le([At()],Mn.prototype,"addeddate",null);le([At()],Mn.prototype,"avg_rating",null);le([At()],Mn.prototype,"collection",null);le([At()],Mn.prototype,"created_on",null);le([At()],Mn.prototype,"creator",null);le([At()],Mn.prototype,"date",null);le([At()],Mn.prototype,"description",null);le([At()],Mn.prototype,"downloads",null);le([At()],Mn.prototype,"filename",null);le([At()],Mn.prototype,"file_basename",null);le([At()],Mn.prototype,"file_creation_mtime",null);le([At()],Mn.prototype,"issue",null);le([At()],Mn.prototype,"mediatype",null);le([At()],Mn.prototype,"publicdate",null);le([At()],Mn.prototype,"result_in_subfile",null);le([At()],Mn.prototype,"reviewdate",null);le([At()],Mn.prototype,"source",null);le([At()],Mn.prototype,"subject",null);le([At()],Mn.prototype,"title",null);le([At()],Mn.prototype,"updated_on",null);le([At()],Mn.prototype,"year",null);le([At()],Mn.prototype,"start",null);le([At()],Mn.prototype,"__href__",null);var L7=["loans","waitlist","loan_history"];function O7(e){let t=e.slice(0,4),r=e.slice(4,6),a=e.slice(6,8),l=e.slice(8,10),o=e.slice(10,12),c=e.slice(12,14);return`${t}-${r}-${a}T${l}:${o}:${c}Z`}function M7(e){var t;let r=[];for(let a of e){if(!(!((t=a.captures)===null||t===void 0)&&t.length))continue;let l=encodeURIComponent(a.url),o=`https://web.archive.org/web/${a.captures[0]}/${l}`;r.push({hit_type:"web_archive",fields:{url:a.url,capture_dates:a.captures.map(c=>O7(c)),__href__:o}})}return r}var I7=class Kw{constructor(t,r){var a,l,o,c,n,u,p,g,m,y,x,w,k,S;this.schema=r,this.schemaHitType=r==null?void 0:r.hit_type;let P;t!=null&&t.page_elements&&(this.pageElements=t.page_elements,P=Object.values(this.pageElements)[0]);let E=(a=t==null?void 0:t.hits)===null||a===void 0?void 0:a.hits;this.totalResults=(o=(l=t==null?void 0:t.hits)===null||l===void 0?void 0:l.total)!==null&&o!==void 0?o:0,this.returnedCount=(n=(c=t==null?void 0:t.hits)===null||c===void 0?void 0:c.returned)!==null&&n!==void 0?n:0,!(E!=null&&E.length)&&!((u=this.pageElements)===null||u===void 0)&&u.service___fts?(this.totalResults=0,this.returnedCount=0,this.handleFederatedPageElements()):!(E!=null&&E.length)&&!((p=P==null?void 0:P.hits)===null||p===void 0)&&p.hits?(E=P.hits.hits,this.totalResults=(g=P.hits.total)!==null&&g!==void 0?g:0,this.returnedCount=(m=P.hits.returned)!==null&&m!==void 0?m:0):!((y=this.pageElements)===null||y===void 0)&&y.lending?E=this.handleLendingPageElement():!((x=this.pageElements)===null||x===void 0)&&x.web_archives&&(E=this.handleWebArchivesPageElement()),this.results=this.formatHits(E);let L=t==null?void 0:t.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(P!=null&&P.aggregations)&&(L=P.aggregations),L&&this.buildAggregations(L),t!=null&&t.collection_titles&&(this.collectionTitles=(w=t.collection_titles)!==null&&w!==void 0?w:{}),t!=null&&t.collection_extra_info&&(this.collectionExtraInfo=(k=t.collection_extra_info)!==null&&k!==void 0?k:null),t!=null&&t.account_extra_info&&(this.accountExtraInfo=(S=t.account_extra_info)!==null&&S!==void 0?S:null)}formatHits(t){var r;return(r=t==null?void 0:t.map(a=>{var l;return Kw.createResult((l=a.hit_type)!==null&&l!==void 0?l:this.schemaHitType,a)}))!==null&&r!==void 0?r:[]}buildAggregations(t){this.aggregations=Object.entries(t).reduce((r,[a,l])=>(r[a]=new Yw(l),r),{})}handleLendingPageElement(){var t,r;let a=(t=this.pageElements)===null||t===void 0?void 0:t.lending,l=(r=a.loans)!==null&&r!==void 0?r:[];this.totalResults=l.length,this.returnedCount=this.totalResults;for(let o of L7)a[o]=this.formatHits(a[o]);return l}handleWebArchivesPageElement(){var t;let r=M7((t=this.pageElements)===null||t===void 0?void 0:t.web_archives);return this.totalResults=r.length,this.returnedCount=this.totalResults,r}handleFederatedPageElements(){var t,r,a,l;let o=["service___fts","service___tvs","service___rcs","service___whisper"];for(let c of o){let n=this.removeServicePrefix(c);this.federatedResults?this.federatedResults[c]=[]:this.federatedResults={[n]:[]};let u=(r=(t=this.pageElements)===null||t===void 0?void 0:t[c])===null||r===void 0?void 0:r.hits;u!=null&&u.hits&&(this.federatedResults[n]=this.formatHits(u==null?void 0:u.hits)),this.totalResults+=(a=u==null?void 0:u.total)!==null&&a!==void 0?a:0,this.returnedCount+=(l=u==null?void 0:u.returned)!==null&&l!==void 0?l:0}}removeServicePrefix(t){return t.split("___")[1]}static createResult(t,r){switch(t){case"item":return new Qr(r);case"text":case"asr_text":return new On(r);case"favorited_search":return new Iu(r);case"web_archive":return new vh(r);case"tv_clip":return new Mn(r);default:return new Qr(r)}}},R7=class{constructor(e){this.clientParameters=e.client_parameters,this.backendRequests=e.backend_requests,this.kind=e.kind}},D7=class{constructor(e){var t,r,a;this.rawResponse=e,this.request=new R7(e.request),this.responseHeader=(t=e.response)===null||t===void 0?void 0:t.header,this.sessionContext=e.session_context,this.response=new I7((r=e.response)===null||r===void 0?void 0:r.body,(a=e.response)===null||a===void 0?void 0:a.hit_schema)}},yh=class{static aggregateSearchParamsAsString(e){if(e.omit)return"false";if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field}:${e.direction}`}static filterParamsAsString(e){return JSON.stringify(e)}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("user_query",e.query),e.pageType&&t.append("page_type",String(e.pageType)),e.pageTarget&&t.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){let a=`[${e.pageElements.map(l=>`"${l}"`).join(",")}]`;t.append("page_elements",a)}if(e.rows!=null&&t.append("hits_per_page",String(e.rows)),e.page!=null&&t.append("page",String(e.page)),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){let a=this.filterParamsAsString(e.filters);a&&a!=="{}"&&t.append("filter_map",a)}if(e.sort&&e.sort.length>0){let a=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",a.join(","))}let r=e.aggregations;if(r){let a=this.aggregateSearchParamsAsString(r);a&&t.append("aggregations",a)}if(e.aggregationsSize!=null&&t.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&t.append("debugging","true"),e.uid&&t.append("uid",e.uid),e.includeClientUrl!==!1){let a=window.location.href.slice(0,400);e.query.length<=1e3&&t.append("client_url",a)}return t}},Lu;(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(Lu||(Lu={}));var j7=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},qw={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},bh=class{constructor(e){var t,r;this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;let a=new URL(window.location.href).searchParams,l=a.get("scope"),o=a.get("verbose"),c=a.get("debugging"),n=a.get("cacheDebug"),u="";for(let p of Object.keys(qw))if(a.get(p)){u=qw[p];break}u=(r=a.get("caching"))!==null&&r!==void 0?r:u,(e==null?void 0:e.caching)!==void 0?this.cachingFlags=e.caching:u&&(this.cachingFlags=u),(e==null?void 0:e.debuggingEnabled)!==void 0?this.debuggingEnabled=e.debuggingEnabled:(c||n)&&(this.debuggingEnabled=!0),(e==null?void 0:e.scope)!==void 0?this.requestScope=e.scope:l&&(this.requestScope=l),(e==null?void 0:e.verbose)!==void 0?this.verbose=e.verbose:o&&(this.verbose=!!o)}fetchUrl(e,t){return yi(this,null,function*(){var r,a;let l=new URL(e);this.requestScope&&l.searchParams.set("scope",this.requestScope),this.cachingFlags&&l.searchParams.set("caching",this.cachingFlags);let o;try{let c=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};o=yield fetch(l.href,c)}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(Lu.networkError,n)}try{let c=yield o.json();this.verbose&&this.printResponse(c),c.debugging&&this.printDebuggingInfo(c);let n=(a=c.response)===null||a===void 0?void 0:a.error;return n?this.getErrorResult(Lu.searchEngineError,n.message,n.forensics):{success:c}}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(Lu.decodingError,n)}})}getErrorResult(e,t,r){return{error:new j7(e,t,r)}}printResponse(e){var t,r,a,l,o;try{let c=JSON.parse(JSON.stringify(e)),n=(a=(r=(t=c==null?void 0:c.response)===null||t===void 0?void 0:t.body)===null||r===void 0?void 0:r.hits)===null||a===void 0?void 0:a.hits;if(Array.isArray(n)&&n.length>1){let p=[];p.push(n[0]),p.push(`*** ${n.length-1} hits omitted ***`),c.response.body.hits.hits=p}let u=(o=(l=c==null?void 0:c.response)===null||l===void 0?void 0:l.body)===null||o===void 0?void 0:o.aggregations;u&&Object.entries(u).forEach(([p,g])=>{var m,y,x,w;if(((y=(m=g)===null||m===void 0?void 0:m.buckets)===null||y===void 0?void 0:y.length)>0){let k=JSON.parse(JSON.stringify(g));k.buckets=`*** ${(w=(x=k.buckets)===null||x===void 0?void 0:x.length)!==null&&w!==void 0?w:0} buckets omitted ***`,c.response.body.aggregations[p]=k}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(c,null,2)),console.groupEnd()}catch(c){console.error("Error printing search response:",c)}}printDebuggingInfo(e){var t,r;let a=e.debugging,l=(t=a.messages)!==null&&t!==void 0?t:[],o=(r=a.data)!==null&&r!==void 0?r:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");for(let c of l)console.log(c);console.groupEnd(),console.group("Debug data");for(let[c,n]of Object.entries(o))console.log(c,n);console.groupEnd(),console.log("***** END DEBUGGING *****")}},N7=class extends bh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return yi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=yh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?${t}`;return this.fetchUrl(r)})}},B7=class extends bh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return yi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=yh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=fts&${t}`;return this.fetchUrl(r)})}},H7=class extends bh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return yi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=yh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=rcs&${t}`;return this.fetchUrl(r)})}},Qs;(function(e){e[e.METADATA=0]="METADATA",e[e.FULLTEXT=1]="FULLTEXT",e[e.RADIO=3]="RADIO",e[e.FEDERATED=4]="FEDERATED"})(Qs||(Qs={}));var F7=class extends bh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return yi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=yh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?page_type=simple_federation&${t}`;return this.fetchUrl(r)})}},Ou=class Xw{constructor(t={}){this.backendOptions=t}search(a){return yi(this,arguments,function*(t,r=Qs.METADATA){let l=yield Xw.getBackendForSearchType(r,this.backendOptions).performSearch(t);return l.error?l:{success:new D7(l.success)}})}static getBackendForSearchType(t,r={}){switch(t){case Qs.FULLTEXT:return new B7(r);case Qs.RADIO:return new H7(r);case Qs.FEDERATED:return new F7(r);case Qs.METADATA:default:return new N7(r)}}};Ou.default=new Ou;le([At((e,t={})=>{let{includeCredentials:r=!1,verbose:a=!1,scope:l="",baseUrl:o=""}=t;return`${e};${r};${a};${l};${o}`})],Ou,"getBackendForSearchType",null);var Gw;(function(e){e.INCLUDE="inc",e.EXCLUDE="exc",e.GREATER_THAN="gt",e.GREATER_OR_EQUAL="gte",e.LESS_THAN="lt",e.LESS_OR_EQUAL="lte"})(Gw||(Gw={}));function z7(e){var t=[],r="";for(r in e)t.push(r);return t}function ig(e){return e=JSON.stringify(e),!(typeof e!="string"||!/^\{[\s\S]*\}$/.test(e))}function U7(e){return e instanceof Array}function V7(e){return Array.prototype.slice.call(e)}function fc(){if(!(this instanceof fc))return new fc}fc.prototype={get:function(e){for(var t=e+"=",r=document.cookie.split(";"),a=0;a<r.length;a++){for(var l=r[a];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(t)==0)return decodeURI(l.substring(t.length,l.length))}return!1},set:function(e,t,r){if(ig(e))for(let a in e)this.set(a,e[a],t,r);else if(typeof e=="string"){let a=ig(r)?r:{expires:r},l=a.path!==void 0?`;path=${a.path};path=/`:";path=/",o=a.domain?`;domain=${a.domain}`:"",c=a.secure?";secure":"",n=a.expires!==void 0?a.expires:"";typeof n=="string"&&n!==""?n=new Date(n):typeof n=="number"&&(n=new Date(+new Date+1e3*60*60*24*n)),n!==""&&"toGMTString"in n&&(n=`;expires=${n.toGMTString()}`);let u=a.sameSite?`;SameSite=${a.sameSite}`:"";document.cookie=`${e}=${encodeURI(t)+n+l+o+c+u}`}},remove:function(e){e=U7(e)?e:V7(arguments);for(var t=0,r=e.length;t<r;t++)this.set(e[t],"",-1);return e},clear:function(e){return e?this.remove(e):this.remove(z7(this.all()))},all:function(){if(document.cookie==="")return{};for(var e=document.cookie.split("; "),t={},r=0,a=e.length;r<a;r++){var l=e[r].split("=");t[decodeURI(l[0])]=decodeURI(l[1])}return t}};var tl=null,rg=function(e,t,r){let a=arguments;if(tl||(tl=fc()),a.length===0)return tl.all();if(a.length===1&&e===null)return tl.clear();if(a.length===2&&!t)return tl.clear(e);if(typeof e=="string"&&!t)return tl.get(e);if(typeof e=="string"&&t||ig(e))return tl.set(e,t,r)};for(let e in fc.prototype)rg[e]=fc.prototype[e];No();var W7=class Qw{constructor(t){this.name=t.name,this.source=t.source,this.mtime=t.mtime,this.size=t.size,this.md5=t.md5,this.crc32=t.crc32,this.sha1=t.sha1,this.format=t.format,this.rotation=t.rotation}static fromResponse(t){let r=jo.shared,a=gs.shared,l,o,c;return t.mtime&&(l=r.parseValue(t.mtime)),t.size&&(o=a.parseValue(t.size)),t.rotation&&(c=r.parseValue(t.rotation)),new Qw({name:t.name,source:t.source,mtime:l,size:o,md5:t.md5,crc32:t.crc32,sha1:t.sha1,format:t.format,rotation:c})}},Jw=class e2{constructor(t){this.username=t.username,this.itemname=t.itemname,this.screenname=t.screenname,this.privs=t.privs,this.image_info=t.image_info,this.isArchiveOrgUser=this.username.endsWith("@archive.org");let{itemname:r}=t;this.userid=r.startsWith("@")?r.substring(1):r}static fromUserResponse(t){return new e2({username:t.username,itemname:t.itemname,screenname:t.screenname,privs:t.privs,image_info:W7.fromResponse(t.image_info)})}},vc;(function(e){e.userNotLoggedIn="UserService.userNotLoggedIn",e.networkError="UserService.networkError",e.decodingError="UserService.decodingError"})(vc||(vc={}));var kh=class extends Error{constructor(e,t){super(t),this.name=e,this.type=e}},t2=class{constructor(e){var t,r;this.userServiceEndpoint=(t=e==null?void 0:e.userServiceEndpoint)!==null&&t!==void 0?t:"https://archive.org/services/user.php?op=whoami",this.cache=e==null?void 0:e.cache,this.cacheTTL=e==null?void 0:e.cacheTTL,this.userCacheKey=(r=e==null?void 0:e.userCacheKey)!==null&&r!==void 0?r:"loggedInUserInfo"}getLoggedInUser(){return yi(this,null,function*(){let e=rg.get("logged-in-user");if(e===!1)return{error:new kh(vc.userNotLoggedIn)};let t=yield this.getPersistedUser();if(t){let a=Jw.fromUserResponse(t);if(e===a.username)return{success:a}}if(this.fetchPromise)return this.fetchPromise=this.fetchPromise.then(a=>a),this.fetchPromise;this.fetchPromise=this.fetchUser();let r=yield this.fetchPromise;return this.fetchPromise=void 0,r})}fetchUser(){return yi(this,null,function*(){let e;try{e=yield fetch(this.userServiceEndpoint,{credentials:"include"})}catch(l){return{error:new kh(vc.networkError,l.message)}}let t;try{t=yield e.json()}catch(l){return{error:new kh(vc.decodingError,l.message)}}if(!t.success||!t.value)return{error:new kh(vc.userNotLoggedIn,t.error)};let r=t.value,a=Jw.fromUserResponse(r);return yield this.persistUser(r),{success:a}})}getPersistedUser(){return yi(this,null,function*(){var e;return(e=this.cache)===null||e===void 0?void 0:e.get(this.userCacheKey)})}persistUser(e){return yi(this,null,function*(){var t;yield(t=this.cache)===null||t===void 0?void 0:t.set({key:this.userCacheKey,value:e,ttl:this.cacheTTL})})}};vr();_i();Fr();vr();_i();Fr();_i();_i();_i();_i();var q7=class{fetchApiResponse(e,t){return yi(this,null,function*(){let r={};return t!=null&&t.includeCredentials&&(r.credentials="include"),t!=null&&t.method&&(r.method=t.method),t!=null&&t.body&&(r.body=t.body),t!=null&&t.headers&&(r.headers=t.headers),yield(yield fetch(e,r)).json()})}},G7="https://archive.org",i2={create(e){let{serviceUrl:t,serviceProtocol:r="https://"}=e,a=t?`${r}${t}`:G7;return new mh({fetchHandler:new q7,searchService:Ou.default,userService:new t2,baseUrl:a})}};function Y7(e,t,r){return yi(this,null,function*(){let a=document.querySelector("modal-manager");if(!a){let o=document.querySelector("body");a=document.createElement("modal-manager"),o==null||o.appendChild(a)}let l=()=>{let o=a!=null?a:document.querySelector("modal-manager");o==null||o.showModal({config:new Qc,customModalContent:void 0,userClosedModalCallback:void 0}),o==null||o.closeModal(),a==null||a.removeAttribute("id")};a==null||a.setAttribute("id","create-user-list-modal"),a.showModal({config:new Qc({title:Ke`List settings`,headerColor:"#194880",showCloseButton:!0,showHeaderLogo:!1,closeOnBackdropClick:!0}),userClosedModalCallback:()=>l(),customModalContent:Ke`
      <iaux-userlist-settings
        .userList=${{id:void 0,list_name:"",description:"",is_private:!1}}
        .userListsService=${e}
        @listModalClosed=${()=>l()}
        @userListError=${o=>{var c,n,u,p;let g=(p=(n=(c=o.detail.error)===null||c===void 0?void 0:c.reason)!==null&&n!==void 0?n:(u=o.detail.error)===null||u===void 0?void 0:u.message)!==null&&p!==void 0?p:"Unknown error from iaux-userlist-settings";console==null||console.error("userListSettingsError",g)}}
        @userListSaving=${()=>yi(this,null,function*(){t==null||t()})}
        @userListSaved=${o=>yi(this,null,function*(){yield r==null?void 0:r(o.detail.id),l()})}
      ></iaux-userlist-settings>
    `})})}var n2=An`<svg
      viewBox="0 0 100 100"
      xmlns="http://www.w3.org/2000/svg"
      >
    <g fill="currentColor" fill-rule="nonzero">
      <path d="m49.9459358 0c13.7978412 0 25.5896453 4.88776371 35.3754122 14.6632911 9.7857669 9.7755275 14.678652 21.554993 14.678652 35.3383967 0 13.7800281-4.8928851 25.5594936-14.678652 35.3350211-9.7857669 9.7755274-21.577571 14.6632911-35.3754122 14.6632911s-25.5716235-4.8877637-35.3213471-14.6632911c-9.74972353-9.7755275-14.6245887-21.554993-14.6245887-35.3383967-.00224931-9.0014064 2.23243779-17.3524613 6.70406469-25.0531645 4.47162691-7.7007033 10.54380341-13.7834037 18.21652941-18.24810129 7.6727261-4.46469761 16.0145067-6.69704641 25.0253417-6.69704641zm0 6c-7.9548389 0-15.2549008 1.95357387-22.0076943 5.8829701-6.7720278 3.9405885-12.0963254 9.2741139-16.0455165 16.0751171-3.93842488 6.7824623-5.89471047 14.0931257-5.89272481 22.040225 0 12.1941053 4.24437231 22.4500702 12.87283241 31.1013666 8.6242501 8.6470752 18.8695883 12.9003212 31.0731032 12.9003212 12.2065273 0 22.4734846-4.2557068 31.1349929-12.9081521 8.6603017-8.6512398 12.9190715-18.9040965 12.9190715-31.0935357l-.0036695-.6147591c-.1419586-11.9183989-4.4018851-21.9707923-12.915402-30.475401-8.6615083-8.6524453-18.9284656-12.9081521-31.1349929-12.9081521z" />
      <path d="m56 23v22h22v11h-22v22h-11l-.001-22h-21.999v-11h21.999l.001-22z" />
    </g>
  </svg>`,o2=An`<svg viewBox="0 0 100 100"
xmlns="http://www.w3.org/2000/svg"
>
<path
  d="m33.3333333 90-33.3333333-33.3333333 13.3333333-13.3333334 20 20 53.3333334-53.3333333 13.3333333 13.3333333z"
  fill-rule="evenodd" fill="currentColor"
/>
</svg>`,Ru=class extends mi{constructor(){super(...arguments),this.itemId="",this.lists=[],this.closeDropdown=()=>{this.dispatchEvent(new CustomEvent("closeDropdown",{bubbles:!0,composed:!0}))},this.selectDropdown=()=>{this.dispatchEvent(new CustomEvent("selectDropdown",{bubbles:!0,composed:!0}))},this.updateDropdown=()=>{this.dispatchEvent(new CustomEvent("updateDropdown",{bubbles:!0,composed:!0}))},this.optionClicked=(e,t)=>{var r;e.stopPropagation(),(r=t.selectedHandler)===null||r===void 0||r.call(t,t)},this.onSelected=e=>yi(this,null,function*(){this.selectDropdown();let t=this.lists.find(r=>e.id===r.id)||{};t.item_is_member?yield this.removeMember(t.id,t.member_id):yield this.addMember(t.id),this.updateDropdown()}),this.addCreatedList=e=>yi(this,null,function*(){yield this.addMember(e),this.dispatchEvent(new CustomEvent("listCreated",{detail:{totalLists:this.lists.length}})),this.updateDropdown()}),this.createList=()=>{this.closeDropdown(),Y7(this.userListsService,this.selectDropdown,this.addCreatedList)},this.userListOptions=()=>{let e=[];return e=this.lists.map(t=>this.listOption(t)),e.push(this.newListOption),e}}listOption(e){return{id:e.id,label:this.labelTemplate(e),isSelected:e.item_is_member,selectedHandler:t=>this.onSelected(t)}}get newListOption(){return{id:"create-new-list",label:Ke` <ia-icon-label>
        <div slot="icon" class="icon-size">${n2}</div>
        Create new list
      </ia-icon-label>`,selectedHandler:()=>this.createList()}}addMember(e){return yi(this,null,function*(){var t;yield(t=this.userListsService)===null||t===void 0?void 0:t.addMemberToList(e,{identifier:this.itemId}),this.dispatchEvent(new CustomEvent("addMember",{detail:{listId:e,itemId:this.itemId}}))})}removeMember(e,t){return yi(this,null,function*(){var r;yield(r=this.userListsService)===null||r===void 0?void 0:r.removeMemberFromList(e,t),this.dispatchEvent(new CustomEvent("removeMember",{detail:{listId:e,itemId:this.itemId}}))})}labelTemplate(e){let{item_is_member:t,list_name:r}=e;return Ke`
      <ia-icon-label>
        <div slot="icon" class="icon-size">
          ${t?o2:Ei}
        </div>
        <div class="truncate">${r}</div>
      </ia-icon-label>
    `}optionTemplate(e){return Ke` <li class="${e.isSelected?"selected":""}">
      ${this.buttonTemplate(e)}
    </li>`}buttonTemplate(e){return Ke`
      <button @click=${t=>this.optionClicked(t,e)}>
        ${e.label}
      </button>
    `}render(){return Ke` ${this.userListOptions().map(e=>this.optionTemplate(e))} `}static get styles(){return pt`
      :host {
        display: inline;
        background-color: #fff;
      }

      li:hover {
        list-style: none;
        cursor: pointer;
      }

      li {
        background: #fff;
        list-style: none;
        height: 30px;
        cursor: pointer;
        border-bottom: 1px #f1f1f1 solid;
        color: #2c2c2c;
        width: 140px;
        text-overflow: ellipsis;
      }

      li button {
        background: none;
        color: inherit;
        border: none;
        font: inherit;
        cursor: pointer;
        width: 100%;
        padding: 0px 10px;
        font-size: 12px;
        --iconLabelGutterWidth: 8px;
        --iconWidth: 12px;
        margin: 0;
      }

      /* cover the list with the label */
      li > * > :first-child {
        margin: 0;
        display: inline-block;
        height: 30px;
        box-sizing: border-box;
        text-align: left;
        line-height: initial;
      }

      /* color opacity calculator: https://codepen.io/quyenvsp/pen/jOLBBmX
        foreground: #2c2c2c 44;
        background: #fff;
      */
      button:hover {
        /* 10% 234 */
        background-color: #eaeaea;
      }

      button:focus,
      button:focus-visible {
        /* 20% 213 */
        background-color: #d5d5d5;
      }

      button:active {
        /* 30% 192 */
        background-color: #c0c0c0;
      }

      .icon-size {
        width: 12px;
        height: 12px;
      }
    `}};le([Qt({type:String})],Ru.prototype,"itemId",void 0);le([Qt({type:Array})],Ru.prototype,"lists",void 0);le([Qt({type:Object})],Ru.prototype,"userListsService",void 0);Ru=le([ur("item-user-lists")],Ru);var r2=Ke`<img
  src="https://archive.org/images/loading.gif"
  alt="Loading..."
/>`,Sa=class extends mi{constructor(){super(...arguments),this.baseHost="archive.org",this.item="",this.selectedCount=0,this.userListData=[],this.dataAction="initial",this.userListsService=i2.create({serviceUrl:this.baseHost}),this.listID="",this.closeListener=()=>{this.dropdown.open=!1},this.selectListener=()=>{this.dropdown.open=!1,this.dataActionTask.run(["initial"])},this.updateListener=()=>{this.dataActionTask.run(["load"])},this.dataActionTask=new Bm(this,{task:t=>yi(this,[t],function*([e]){if(!this.item||!this.userListsService)return ku;switch(e){case"load":return this.updateSelectedCount();default:return ku}}),args:()=>[this.dataAction],autoRun:!1})}dropdownClicked(e){return yi(this,null,function*(){e.preventDefault(),this.dropdown.open?this.dropdown.open=!1:(yield this.dataActionTask.run(["load"]),this.dropdown.open=!0)})}firstUpdated(){return yi(this,null,function*(){var e;yield new Promise(t=>setTimeout(t,0)),this.addEventListener("closeDropdown",this.closeListener),this.addEventListener("selectDropdown",this.selectListener),this.addEventListener("updateDropdown",this.updateListener),(e=this.dataActionTask.run(["load"]))===null||e===void 0||e.then(()=>{this.dispatchEvent(new CustomEvent("userItemListDataReceived",{detail:{total_lists:this.userListData.length}}))})})}updated(e){e.has("baseHost")&&this.baseHost&&e.get("baseHost")&&this.reloadService()}reloadService(){this.userListsService=i2.create({serviceUrl:this.baseHost}),this.dataActionTask.run(["load"])}updateItemUserList(){return yi(this,null,function*(){var e;let t=yield this.userListsService.fetchOwnListsContainingItem(this.item);if(!t.success)throw new Error((e=t.error)===null||e===void 0?void 0:e.message);return this.userListData=t.success,this.userListData})}updateSelectedCount(){return yi(this,null,function*(){let e=yield this.updateItemUserList();return this.selectedCount=e.filter(t=>t.item_is_member).length,this.selectedCount})}renderIcon(e){return Ke`
      <div slot="icon" class="icon-img">${e}</div>
      <div class="label">
        <div class="def">Add to list</div>
        <div class="sm">Lists</div>
      </div>
    `}renderError(){return Ke`
      <div class="label">User Lists<br />Load Error</div>
      <div class="label-sm">Load<br />Error</div>
    `}mainButton(e){return Ke`
      <div class="action-bar-text">
        <ia-icon-label>
          ${e?this.renderIcon(e):this.renderError()}
        </ia-icon-label>
      </div>
    `}get isFetched(){return this.dataActionTask.status===ch.COMPLETE}get isDisabled(){return this.dataActionTask.status!==ch.COMPLETE}get itemUserListsTemplate(){return Ke`
      <item-user-lists
        slot="list"
        .itemId=${this.item}
        .lists=${this.userListData}
        .userListsService=${this.userListsService}
        @addMember=${e=>this.dispatchEvent(new CustomEvent("memberAdded",{detail:on(Dr({},e.detail),{total_items:this.selectedCount})}))}
        @removeMember=${e=>this.dispatchEvent(new CustomEvent("memberRemoved",{detail:on(Dr({},e.detail),{total_items:this.selectedCount})}))}
        @userListError=${e=>{this.dispatchEvent(new CustomEvent("userListError",{detail:Dr({},e.detail)}))}}
        @listCreated=${e=>{this.dispatchEvent(new CustomEvent("listCreated",{detail:on(Dr({},e.detail),{total_lists:this.selectedCount})}))}}
      >
      </item-user-lists>
    `}render(){return Ke`
      <div class="list-container">
        <ia-dropdown
          class="list-dropdown"
          ?isDisabled=${this.isDisabled}
          ?openViaCaret=${!1}
          ?isCustomList=${!0}
          ?closeOnEscape=${!0}
          ?closeOnBackdropClick=${!0}
          ?hasCustomClickHandler=${!0}
          @click=${this.isDisabled?Ei:this.dropdownClicked}
        >
          <div class="list-title" slot="dropdown-label">
            ${this.dataActionTask.render({initial:()=>this.mainButton(r2),pending:()=>this.mainButton(r2),complete:e=>this.mainButton(e===0?n2:o2),error:()=>this.mainButton(void 0)})}
          </div>
          ${this.itemUserListsTemplate}
        </ia-dropdown>
      </div>
    `}};Sa.styles=pt`
    :host {
      display: block;
    }

    ia-icon-label {
      cursor: pointer;
      display: flex;
    }

    .icon-img {
      height: 16px;
      width: 16px;
      padding-bottom: 2px;
    }

    div.list-title {
      font-weight: 600;
      color: #2c2c2c;
    }

    ia-dropdown {
      --dropdownBgColor: #fff;
      --dropdownItemPaddingRight: 0;
      --dropdownItemPaddingLeft: 2px;
      --dropdownBorderColor: #2c2c2c;
      --dropdownBorderWidth: 2px;
      --iconLabelGutterWidth: 4px;
      --iconWidth: 10px;
      --dropdownOffsetTop: 2px;
      --buttonSlotPaddingRight: 0;
      --dropdownMainButtonFlexDirection: column;
      --dropdownMainButtonPadding: 6px 4px;
      --dropdownMainButtonHoverBgColor: rgba(44, 44, 44, 0.1);
      --dropdownMainButtonActiveBgColor: rgba(44, 44, 44, 0.3);
      --iconLabelGutterWidth: 0;
      --iconWidth: 16px;
      --dropdownMainButtonBorder: 2px solid #2c2c2c;
      --dropdownMainButtonBorderRadius: 3px;
    }

    .action-bar-text {
      font-size: 14px;
      font-weight: normal;
      -webkit-user-select: none;
      user-select: none;
      --iconLabelFlexDirection: column;
      --iconLabelGutterWidth: 0;
      --iconWidth: 16px;
      font-family: inherit;
    }

    .action-bar-text .label {
      display: flex;
      align-items: center;
    }

    /* inside button.click-main, classname from details.inc buttons */
    @media (min-width: 992px) {
      .action-bar-text .label {
        height: 20px;
      }
      .action-bar-text .label .sm {
        display: none;
      }
    }

    /* List button */
    @media (max-width: 991px) {
      .action-bar-text .label {
        height: 15px;
      }
      .action-bar-text .label .def {
        display: none;
      }
      .action-bar-text .label .sm {
        font-size: 13px;
      }
    }

    .click-backdrop {
      position: fixed;
      top: 0px;
      left: 0px;
      width: 100vw;
      height: 100vh;
      z-index: 1;
      background-color: transparent;
    }
  `;le([Qt({type:String})],Sa.prototype,"baseHost",void 0);le([Qt({type:String})],Sa.prototype,"item",void 0);le([$n()],Sa.prototype,"selectedCount",void 0);le([$n({hasChanged(e,t){if((e==null?void 0:e.length)!==(t==null?void 0:t.length))return!0;for(let r=0;r<e.length;r+=1)if(e[r].item_is_member!==t[r].item_is_member)return!0;return!1}})],Sa.prototype,"userListData",void 0);le([$n()],Sa.prototype,"dataAction",void 0);le([$n()],Sa.prototype,"userListsService",void 0);le([sn("ia-dropdown")],Sa.prototype,"dropdown",void 0);Sa=le([ur("ia-item-user-lists")],Sa);xo();document.addEventListener("DOMContentLoaded",()=>{var o;let e=document.querySelector("ia-item-user-lists");if(!e)return;if(window.archive_analytics){let c=(o=archive_analytics.mediaType)!=null?o:"unknown mediatype",n="DetailsPageUserLists";e.addEventListener("userItemListDataReceived",u=>{var g,m;let p=(m=(g=u.detail)==null?void 0:g.listCount)!=null?m:0;Ci("UserLists - onload, we send total lists",u.detail),archive_analytics.send_event(n,"onload",p)}),e.addEventListener("memberAdded",u=>{Ci("UserLists - memberAdded, we send mediatype",c),archive_analytics.send_event(n,"memberAdded",c)}),e.addEventListener("memberRemoved",u=>{Ci("UserLists - memberRemoved, we send mediatype",c),archive_analytics.send_event(n,"memberRemoved",c)}),e.addEventListener("listCreated",()=>{Ci("UserLists - listCreated, we send mediatype",c),archive_analytics.send_event(n,"listCreated",c)})}let t="UserLists-itemBtnCalloutDismissed",r=document.querySelector("#item-user-lists > .callout");function a(){var c;(c=window.localStorage)==null||c.setItem(t,!0),r==null||r.remove(),e==null||e.setAttribute("aria-label","Add to list"),e==null||e.removeEventListener("click",a)}function l(){var n;!!((n=window.localStorage)!=null&&n.getItem(t))||(e==null||e.setAttribute("aria-label","New feature: Add to list"),r==null||r.toggleAttribute("hidden",!1),e==null||e.addEventListener("click",a),r==null||r.addEventListener("click",a))}l()});Hn();window.$=xe;(function(){if(!window.archive_analytics)return;let t=document.head.querySelector('meta[property="mediatype"]');if(!t||t.getAttribute("content")!=="texts")return;function a(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)}setTimeout(()=>{let l=document.getElementsByClassName("BRpagecontainer")||[];for(let o=0;o<l.length;o++)if(a(l[o]))return;window.archive_analytics.send_event("BookReader","SlowLoad8s")},8e3)})();xe(function(){return yi(this,null,function*(){var r;let t=!xe(".js-bookreader").length;if(yield Promise.resolve().then(()=>(u2(),c2)),yield Promise.all([Promise.resolve().then(()=>(m2(),f2)),Promise.resolve().then(()=>(w2(),b2))]),!t){let a=/_brExperiments=true/.test(window.location);yield Promise.resolve().then(()=>(S2(),A2)),yield Promise.all([Promise.resolve().then(()=>($2(),P2)),Promise.resolve().then(()=>(R2(),I2)),Promise.resolve().then(()=>(H2(),B2)),Promise.resolve().then(()=>(W2(),V2)),Promise.resolve().then(()=>(X2(),K2)),a&&Promise.resolve().then(()=>(tx(),ex))])}if(yield Promise.resolve().then(()=>(ix(),gC)),yield Promise.resolve().then(()=>(u_(),c_)),Ci("** BR Resources loaded **",(r=window.BookReader)==null?void 0:r.version),t){let a=document.body.classList.contains("embedded");yield Promise.all([Promise.resolve().then(()=>(wk(),bk)),a?Promise.resolve().then(()=>(Sk(),Ak)):document.querySelector("body").classList.contains("devbox")?Promise.resolve().then(()=>(d0(),u0)):Promise.resolve().then(()=>(d0(),u0))]),Ci("** Liner Notes loaded **")}else yield Promise.all([Promise.resolve().then(()=>(X5(),K5)),Promise.resolve().then(()=>(Z5(),DT)),Promise.resolve().then(()=>(J5(),jT))]),Ci("** BR Resources loaded **");xe(".js-bookreader").each((a,l)=>{let o=JSON.parse(xe(l).val());xe.ajax({url:o.url,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(c=>{let n=xr.paramsToJSON(),u={el:"#BookReader",urlHistoryBasePath:o.urlHistoryBasePath,urlMode:"history",urlTrackedParams:["page","search","mode"],enableBookTitleLink:!1,bookUrlText:null,startFullscreen:n.view==="theater",onePage:{autofit:o.autofit},showToolbar:!1,autoResize:!1,enableFSLogoShortcut:!0,enableBookmarks:!0,enableMultipleBooks:!1,purchaseUrl:o.purchase_url,plugins:{resume:{cookiePath:o.resumeCookiePath},search:{initialSearchTerm:o.initialSearchTerm}}};o.br_ui==="embed"&&(u.mode=1,u.ui="embed",u.enableFSLogoShortcut=!1),o.has_multiple_readable_files&&(u.enableMultipleBooks=!0,u.multipleBooksList=o.multipleBooksList),window.BookReaderJSIAinit(c.data,u);let p=decodeURIComponent(n.options).split("|");(n.wrapper==="false"||p.indexOf("view-only")>-1)&&u.ui!=="embed"&&xe("#IABookReaderMessageWrapper").remove(),window.archive_analytics&&(window.archive_analytics.values.bookreader="open")})})})});})();
/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.6.1
   * https://jquery.com/
   *
   * Includes Sizzle.js
   * https://sizzlejs.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2022-08-26T17:52Z
   *)
*/
/*!
JW Player version 8.22.0
Copyright (c) 2021, JW Player, All Rights Reserved 
https://github.com/jwplayer/jwplayer/blob/v8.22.0/README.md

This source code and its use and distribution is subject to the terms and conditions of the applicable license agreement. 
https://www.jwplayer.com/tos/

This product includes portions of other software. For the full text of licenses, see below:

JW Player Third Party Software Notices and/or Additional Terms and Conditions

**************************************************************************************************
The following software is used under Apache License 2.0
**************************************************************************************************

vtt.js v0.13.0
Copyright (c) 2021 Mozilla (http://mozilla.org)
https://github.com/mozilla/vtt.js/blob/v0.13.0/LICENSE

* * *

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.

You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and
limitations under the License.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under MIT license
**************************************************************************************************

Underscore.js v1.6.0
Copyright (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative
https://github.com/jashkenas/underscore/blob/1.6.0/LICENSE

Backbone backbone.events.js v1.1.2
Copyright (c) 2010-2014 Jeremy Ashkenas, DocumentCloud
https://github.com/jashkenas/backbone/blob/1.1.2/LICENSE

Promise Polyfill v7.1.1
Copyright (c) 2014 Taylor Hakes and Forbes Lindesay
https://github.com/taylorhakes/promise-polyfill/blob/v7.1.1/LICENSE

can-autoplay.js v3.0.0
Copyright (c) 2017 video-dev
https://github.com/video-dev/can-autoplay/blob/v3.0.0/LICENSE

focus-options-polyfill v1.5.0
Copyright (c) 2018 Juan Valencia
https://github.com/calvellido/focus-options-polyfill/blob/v1.5.0/LICENSE

* * *

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under W3C license
**************************************************************************************************

Intersection Observer v0.5.0
Copyright (c) 2016 Google Inc. (http://google.com)
https://github.com/w3c/IntersectionObserver/blob/v0.5.0/LICENSE.md

* * *

W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE
Status: This license takes effect 13 May, 2015.

This work is being provided by the copyright holders under the following license.

License
By obtaining and/or copying this work, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions.

Permission to copy, modify, and distribute this work, with or without modification, for any purpose and without fee or royalty is hereby granted, provided that you include the following on ALL copies of the work or portions thereof, including modifications:

The full text of this NOTICE in a location viewable to users of the redistributed or derivative work.

Any pre-existing intellectual property disclaimers, notices, or terms and conditions. If none exist, the W3C Software and Document Short Notice should be included.

Notice of any changes or modifications, through a copyright statement on the new code or document such as "This software or document includes material copied from or derived from [title and URI of the W3C document]. Copyright © [YEAR] W3C® (MIT, ERCIM, Keio, Beihang)."

Disclaimers
THIS WORK IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE OR DOCUMENT WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENT.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to the work without specific, written prior permission. Title to copyright in this work will at all times remain with copyright holders.
*/
/*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/
/*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT © Zeno Rocha
   *)
*/
/*! Bundled license information:

jqueryui/jquery-ui.min.js:
  (*! jQuery UI - v1.11.1 - 2014-08-13
  * http://jqueryui.com
  * Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
  * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT *)
*/
/*! Bundled license information:

magic-snowflakes/dist/snowflakes.esm.js:
  (*! Snowflakes | © 2023 Denis Seleznev | MIT License | https://github.com/hcodes/snowflakes/ *)
*/
/*! Bundled license information:

currency.js/dist/currency.es.js:
  (*!
   * currency.js - v2.0.4
   * http://scurker.github.io/currency.js
   *
   * Copyright (c) 2021 Jason Wilson
   * Released under MIT license
   *)
*/
/*! Bundled license information:

@lit/localize/internal/locale-status-event.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/str-tag.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/types.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/default-msg.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/localized-controller.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/localized-decorator.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/deferred.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/fnv1a64.js:
  (**
   * @license
   * Copyright 2014 Travis Webb
   * SPDX-License-Identifier: MIT
   *)

@lit/localize/internal/id-generation.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/runtime-msg.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/init/runtime.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/init/transform.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/lit-localize.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE *)
*/
/*! Bundled license information:

tablesorter/dist/js/jquery.tablesorter.combined.js:
  (*! tablesorter (FORK) - updated 2024-08-13 (v2.32.0)*)
  (*! TableSorter (FORK) v2.32.0 *)
  (*! Widget: storage - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: uitheme - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: columns - updated 5/24/2017 (v2.28.11) *)
  (*! Widget: filter - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) *)
  (*! Widget: resizable - updated 2018-03-26 (v2.30.2) *)
  (*! Widget: saveSort - updated 2018-03-19 (v2.30.1) *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/BookReader.js:
  (*! For license information please see BookReader.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.search.js:
  (*! For license information please see plugin.search.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.tts.js:
  (*! For license information please see plugin.tts.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.chapters.js:
  (*! For license information please see plugin.chapters.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.text_selection.js:
  (*! For license information please see plugin.text_selection.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.experiments.js:
  (*! For license information please see plugin.experiments.js.LICENSE.txt *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/cache.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/style-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/task/task.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
// @license-end
//# sourceMappingURL=details-bookreader.min.js.map
