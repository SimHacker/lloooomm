// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
(()=>{var kl=Object.defineProperty,qh=Object.defineProperties;var Wh=Object.getOwnPropertyDescriptors;var ia=Object.getOwnPropertySymbols;var Tl=Object.prototype.hasOwnProperty,Il=Object.prototype.propertyIsEnumerable;var zi=(e,t,n)=>t in e?kl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))Tl.call(t,n)&&zi(e,n,t[n]);if(ia)for(var n of ia(t))Il.call(t,n)&&zi(e,n,t[n]);return e},E=(e,t)=>qh(e,Wh(t));var Dt=(e,t)=>{var n={};for(var r in e)Tl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ia)for(var r of ia(e))t.indexOf(r)<0&&Il.call(e,r)&&(n[r]=e[r]);return n};var Gh=(e,t)=>{for(var n in t)kl(e,n,{get:t[n],enumerable:!0})};var Re=(e,t,n)=>(zi(e,typeof t!="symbol"?t+"":t,n),n);var P=(e,t,n)=>new Promise((r,a)=>{var i=l=>{try{o(n.next(l))}catch(c){a(c)}},s=l=>{try{o(n.throw(l))}catch(c){a(c)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);o((n=n.apply(e,t)).next())});var wl={};Gh(wl,{BrowserClient:()=>lh,OpenFeatureIntegrationHook:()=>LT,SDK_VERSION:()=>at,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Ne,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>ae,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>Rn,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Pe,Scope:()=>Tt,WINDOW:()=>B,addBreadcrumb:()=>Ke,addEventProcessor:()=>Oa,addIntegration:()=>xr,breadcrumbsIntegration:()=>hh,browserApiErrorsIntegration:()=>mh,browserProfilingIntegration:()=>wT,browserSessionIntegration:()=>gh,browserTracingIntegration:()=>bl,buildLaunchDarklyFlagUsedHandler:()=>OT,captureConsoleIntegration:()=>Gu,captureEvent:()=>qt,captureException:()=>gt,captureFeedback:()=>za,captureMessage:()=>Tn,captureSession:()=>Ir,chromeStackLineParser:()=>ch,close:()=>_u,consoleLoggingIntegration:()=>rd,contextLinesIntegration:()=>wk,continueTrace:()=>su,createTransport:()=>La,createUserFeedbackEnvelope:()=>SE,dedupeIntegration:()=>Ua,defaultRequestInstrumentationOptions:()=>vl,defaultStackLineParsers:()=>dh,defaultStackParser:()=>ph,diagnoseSdkConnectivity:()=>$T,endSession:()=>Na,eventFiltersIntegration:()=>qs,eventFromException:()=>sh,eventFromMessage:()=>oh,exceptionFromError:()=>$i,extraErrorDataIntegration:()=>Ku,featureFlagsIntegration:()=>MT,feedbackAsyncIntegration:()=>Dw,feedbackIntegration:()=>Pw,feedbackSyncIntegration:()=>Pw,flush:()=>gu,forceLoad:()=>QE,functionToStringIntegration:()=>Pa,geckoStackLineParser:()=>uh,getActiveSpan:()=>de,getClient:()=>T,getCurrentScope:()=>U,getDefaultIntegrations:()=>Sh,getFeedback:()=>Rf,getGlobalScope:()=>Cn,getIsolationScope:()=>me,getReplay:()=>Yp,getRootSpan:()=>ue,getSpanDescendants:()=>bn,getSpanStatusFromHttpCode:()=>Ss,getTraceData:()=>Rr,globalHandlersIntegration:()=>_h,graphqlClientIntegration:()=>Mk,httpClientIntegration:()=>lk,httpContextIntegration:()=>vh,inboundFiltersIntegration:()=>Fa,init:()=>yl,instrumentOutgoingRequests:()=>Rh,instrumentSupabaseClient:()=>Ws,isEnabled:()=>Us,isInitialized:()=>yu,lastEventId:()=>Aa,launchDarklyIntegration:()=>AT,lazyLoadIntegration:()=>rh,linkedErrorsIntegration:()=>bh,logger:()=>ah,makeBrowserOfflineTransport:()=>eT,makeFetchTransport:()=>_l,makeMultiplexedTransport:()=>Pu,moduleMetadataIntegration:()=>Wu,onLoad:()=>ek,openFeatureIntegration:()=>NT,opera10StackLineParser:()=>_E,opera11StackLineParser:()=>bE,parameterize:()=>zs,registerSpanErrorInstrumentation:()=>Ta,replayCanvasIntegration:()=>uf,replayIntegration:()=>Gp,reportingObserverIntegration:()=>ik,rewriteFramesIntegration:()=>Ju,sendFeedback:()=>tl,setContext:()=>Ra,setCurrentClient:()=>Bs,setExtra:()=>fu,setExtras:()=>pu,setHttpStatus:()=>nn,setMeasurement:()=>xa,setTag:()=>Ma,setTags:()=>hu,setUser:()=>mu,showReportDialog:()=>tk,spanToBaggageHeader:()=>nu,spanToJSON:()=>F,spanToTraceHeader:()=>Ts,spotlightBrowserIntegration:()=>IT,startBrowserTracingNavigationSpan:()=>Nh,startBrowserTracingPageLoadSpan:()=>Oh,startInactiveSpan:()=>Rt,startNewTrace:()=>lu,startSession:()=>Tr,startSpan:()=>Ca,startSpanManual:()=>iu,statsigIntegration:()=>FT,supabaseIntegration:()=>Zu,suppressTracing:()=>ou,thirdPartyErrorFilterIntegration:()=>ed,unleashIntegration:()=>DT,updateSpanName:()=>Kc,winjsStackLineParser:()=>hE,withActiveSpan:()=>an,withIsolationScope:()=>Oc,withScope:()=>$e,zodErrorsIntegration:()=>Qu});var vn=typeof Reflect=="object"?Reflect:null,xl=vn&&typeof vn.apply=="function"?vn.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},sa;vn&&typeof vn.ownKeys=="function"?sa=vn.ownKeys:Object.getOwnPropertySymbols?sa=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:sa=function(e){return Object.getOwnPropertyNames(e)};function Yh(e){console&&console.warn&&console.warn(e)}var Ol=Number.isNaN||function(e){return e!==e};function re(){Nl.call(this)}re.EventEmitter=re,re.prototype._events=void 0,re.prototype._eventsCount=0,re.prototype._maxListeners=void 0;var Cl=10;function oa(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(re,"defaultMaxListeners",{enumerable:!0,get:function(){return Cl},set:function(e){if(typeof e!="number"||e<0||Ol(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Cl=e}});function Nl(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}re.init=Nl,re.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ol(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ll(e){return e._maxListeners===void 0?re.defaultMaxListeners:e._maxListeners}re.prototype.getMaxListeners=function(){return Ll(this)},re.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",a=this._events;if(a!==void 0)r=r&&a.error===void 0;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var o=a[e];if(o===void 0)return!1;if(typeof o=="function")xl(o,this,t);else for(var l=o.length,c=Dl(o,l),n=0;n<l;++n)xl(c[n],this,t);return!0};function Rl(e,t,n,r){var a,i,s;if(oa(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),s===void 0)s=i[t]=n,++e._eventsCount;else if(typeof s=="function"?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),a=Ll(e),a>0&&s.length>a&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,Yh(o)}return e}re.prototype.addListener=function(e,t){return Rl(this,e,t,!1)},re.prototype.on=re.prototype.addListener,re.prototype.prependListener=function(e,t){return Rl(this,e,t,!0)};function Vh(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ml(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=Vh.bind(r);return a.listener=n,r.wrapFn=a,a}re.prototype.once=function(e,t){return oa(t),this.on(e,Ml(this,e,t)),this},re.prototype.prependOnceListener=function(e,t){return oa(t),this.prependListener(e,Ml(this,e,t)),this},re.prototype.removeListener=function(e,t){var n,r,a,i,s;if(oa(t),r=this._events,r===void 0)return this;if(n=r[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,a=i;break}if(a<0)return this;a===0?n.shift():Jh(n,a),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},re.prototype.off=re.prototype.removeListener,re.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),i;for(r=0;r<a.length;++r)i=a[r],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this};function Al(e,t,n){var r=e._events;if(r===void 0)return[];var a=r[t];return a===void 0?[]:typeof a=="function"?n?[a.listener||a]:[a]:n?Xh(a):Dl(a,a.length)}re.prototype.listeners=function(e){return Al(this,e,!0)},re.prototype.rawListeners=function(e){return Al(this,e,!1)};function Kh(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):re.prototype.listenerCount.call(e,t)}re.listenerCount=Kh,re.prototype.listenerCount=function(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0},re.prototype.eventNames=function(){return this._eventsCount>0?sa(this._events):[]};function Dl(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Jh(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Xh(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function qi(e){let t=performance.now(),n=Math.floor(t/1e3),r=Math.floor(t*1e6-n*1e9);if(!e)return[n,r];let[a,i]=e;return[n-a,r-i]}qi.bigint=function(){let[e,t]=qi();return BigInt(e)*BigInt(1e9)+BigInt(t)};var Wi=class extends re{constructor(){super();Re(this,"title","browser");Re(this,"browser",!0);Re(this,"env",{});Re(this,"argv",[]);Re(this,"pid",0);Re(this,"arch","unknown");Re(this,"platform","browser");Re(this,"version","");Re(this,"versions",{});Re(this,"emitWarning",()=>{throw new Error("process.emitWarning is not supported")});Re(this,"binding",()=>{throw new Error("process.binding is not supported")});Re(this,"cwd",()=>{throw new Error("process.cwd is not supported")});Re(this,"chdir",n=>{throw new Error("process.chdir is not supported")});Re(this,"umask",()=>18);Re(this,"nextTick",(n,...r)=>queueMicrotask(()=>n(...r)));Re(this,"hrtime",qi)}},He=new Wi;if(typeof Deno<"u"){He.name="deno",He.browser=!1,He.pid=Deno.pid,He.cwd=()=>Deno.cwd(),He.chdir=t=>Deno.chdir(t),He.arch=Deno.build.arch,He.platform=Deno.build.os,He.version="v18.12.1",He.versions=h({node:"18.12.1",uv:"1.43.0",zlib:"1.2.11",brotli:"1.0.9",ares:"1.18.1",modules:"108",nghttp2:"1.47.0",napi:"8",llhttp:"6.0.10",openssl:"3.0.7+quic",cldr:"41.0",icu:"71.1",tz:"2022b",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},Deno.version),He.env=new Proxy({},{get(t,n){return Deno.env.get(String(n))},ownKeys:()=>Reflect.ownKeys(Deno.env.toObject()),getOwnPropertyDescriptor:(t,n)=>{let r=Deno.env.toObject();if(n in Deno.env.toObject()){let a={enumerable:!0,configurable:!0};return typeof n=="string"&&(a.value=r[n]),a}},set(t,n,r){return Deno.env.set(String(n),String(r)),r}});let e=["","",...Deno.args];Object.defineProperty(e,"0",{get:Deno.execPath}),Object.defineProperty(e,"1",{get:()=>Deno.mainModule.startsWith("file:")?new URL(Deno.mainModule).pathname:join(Deno.cwd(),"$deno$node.js")}),He.argv=e}else{let e="/";He.cwd=()=>e,He.chdir=t=>e=t}var Gi=He;var Pl=globalThis||(typeof window!="undefined"?window:self),A=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,at="9.28.1",N=globalThis;function xt(){return pr(N),N}function pr(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||at,t[at]=t[at]||{}}function wa(e,t,n=N){let r=n.__SENTRY__=n.__SENTRY__||{},a=r[at]=r[at]||{};return a[e]||(a[e]=t())}var Ec=Object.prototype.toString;function Et(e){switch(Ec.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return kt(e,Error)}}function xn(e,t){return Ec.call(e)===`[object ${t}]`}function ms(e){return xn(e,"ErrorEvent")}function gs(e){return xn(e,"DOMError")}function kc(e){return xn(e,"DOMException")}function je(e){return xn(e,"String")}function fr(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Ea(e){return e===null||fr(e)||typeof e!="object"&&typeof e!="function"}function $t(e){return xn(e,"Object")}function hr(e){return typeof Event<"u"&&kt(e,Event)}function Zh(e){return typeof Element<"u"&&kt(e,Element)}function Qh(e){return xn(e,"RegExp")}function mr(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function em(e){return $t(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function kt(e,t){try{return e instanceof t}catch(n){return!1}}function Tc(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Ic(e){return typeof Request<"u"&&kt(e,Request)}var _s=N,tm=80;function ze(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,a=[],i=0,s=0,o=" > ",l=o.length,c,d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||tm;for(;n&&i++<r&&(c=nm(n,d),!(c==="html"||i>1&&s+a.length*l+c.length>=u));)a.push(c),s+=c.length,n=n.parentNode;return a.reverse().join(o)}catch(n){return"<unknown>"}}function nm(e,t){let n=e,r=[];if(!(n!=null&&n.tagName))return"";if(_s.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let a=t!=null&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(a!=null&&a.length)a.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&je(s)){let o=s.split(/\s+/);for(let l of o)r.push(`.${l}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let o=n.getAttribute(s);o&&r.push(`[${s}="${o}"]`)}return r.join("")}function qe(){try{return _s.document.location.href}catch(e){return""}}function ka(e){if(!_s.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}var rm="Sentry Logger ",cr=["debug","info","warn","error","log","assert","trace"],ma={};function Ct(e){if(!("console"in N))return e();let t=N.console,n={},r=Object.keys(ma);r.forEach(a=>{let i=ma[a];n[a]=t[a],t[a]=i});try{return e()}finally{r.forEach(a=>{t[a]=n[a]})}}function am(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return A?cr.forEach(n=>{t[n]=(...r)=>{e&&Ct(()=>{N.console[n](`${rm}[${n}]:`,...r)})}}):cr.forEach(n=>{t[n]=()=>{}}),t}var _=wa("logger",am);function Sn(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Yi(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let a=Math.max(t-60,0);a<5&&(a=0);let i=Math.min(a+140,r);return i>r-5&&(i=r),i===r&&(a=Math.max(i-140,0)),n=n.slice(a,i),a>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function wn(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let a=e[r];try{Tc(a)?n.push("[VueViewModel]"):n.push(String(a))}catch(i){n.push("[value cannot be serialized]")}}return n.join(t)}function im(e,t,n=!1){return je(e)?Qh(t)?t.test(e):je(t)?n?e===t:e.includes(t):!1:!1}function Fe(e,t=[],n=!1){return t.some(r=>im(e,r,n))}function we(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let a=n(r);typeof a=="function"&&ys(a,r);try{e[t]=a}catch(i){A&&_.log(`Failed to replace method "${t}" in object`,e)}}function Me(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){A&&_.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function ys(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,Me(e,"__sentry_original__",t)}catch(n){}}function gr(e){return e.__sentry_original__}function xc(e){if(Et(e))return h({message:e.message,name:e.name,stack:e.stack},$l(e));if(hr(e)){let t=h({type:e.type,target:Fl(e.target),currentTarget:Fl(e.currentTarget)},$l(e));return typeof CustomEvent<"u"&&kt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Fl(e){try{return Zh(e)?ze(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function $l(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Cc(e,t=40){let n=Object.keys(xc(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Sn(r,t);for(let a=n.length;a>0;a--){let i=n.slice(0,a).join(", ");if(!(i.length>t))return a===n.length?i:Sn(i,t)}return""}function sm(){let e=N;return e.crypto||e.msCrypto}function ke(e=sm()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Rc(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Ft(e){let{message:t,event_id:n}=e;if(t)return t;let r=Rc(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function _r(e,t,n){let r=e.exception=e.exception||{},a=r.values=r.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function st(e,t){let n=Rc(e);if(!n)return;let r={type:"generic",handled:!0},a=n.mechanism;if(n.mechanism=h(h(h({},r),a),t),t&&"data"in t){let i=h(h({},a==null?void 0:a.data),t.data);n.mechanism.data=i}}function Mc(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,a=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,a-n),a).map(s=>Yi(s,0));let i=Math.min(r-1,a);t.context_line=Yi(e[i],t.colno||0),t.post_context=e.slice(Math.min(a+1,r),a+1+n).map(s=>Yi(s,0))}function Ul(e){if(om(e))return!0;try{Me(e,"__sentry_captured__",!0)}catch(t){}return!1}function om(e){try{return e.__sentry_captured__}catch(t){}}var Ac=1e3;function yr(){return Date.now()/Ac}function lm(){let{performance:e}=N;if(!(e!=null&&e.now))return yr;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Ac}var _e=lm(),Vi;function cm(){var c;let{performance:e}=N;if(!(e!=null&&e.now))return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=a<t,s=(c=e.timing)==null?void 0:c.navigationStart,o=typeof s=="number"?Math.abs(s+n-r):t,l=o<t;return i||l?a<=o?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function be(){return Vi||(Vi=cm()),Vi[0]}function um(e){let t=_e(),n={sid:ke(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>pm(n)};return e&&En(n,e),n}function En(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||_e(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ke()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function dm(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),En(e,n)}function pm(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function vr(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r=h({},e);for(let a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=vr(r[a],t[a],n-1));return r}var ns="_sentrySpan";function tn(e,t){t?Me(e,ns,t):delete e[ns]}function ur(e){return e[ns]}function ht(){return ke()}function br(){return ke().substring(16)}var fm=100,Tt=class rs{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ht(),sampleRand:Math.random()}}clone(){let t=new rs;return t._breadcrumbs=[...this._breadcrumbs],t._tags=h({},this._tags),t._extra=h({},this._extra),t._contexts=h({},this._contexts),this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata=h({},this._sdkProcessingMetadata),t._propagationContext=h({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,tn(t,ur(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&En(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags=h(h({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,n){return this._tags=E(h({},this._tags),{[t]:n}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=h(h({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,n){return this._extra=E(h({},this._extra),{[t]:n}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof rs?n.getScopeData():$t(n)?t:void 0,{tags:a,extra:i,user:s,contexts:o,level:l,fingerprint:c=[],propagationContext:d}=r||{};return this._tags=h(h({},this._tags),a),this._extra=h(h({},this._extra),i),this._contexts=h(h({},this._contexts),o),s&&Object.keys(s).length&&(this._user=s),l&&(this._level=l),c.length&&(this._fingerprint=c),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,tn(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ht(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var i;let r=typeof n=="number"?n:fm;if(r<=0)return this;let a=E(h({timestamp:yr()},t),{message:t.message?Sn(t.message,2048):t.message});return this._breadcrumbs.push(a),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(i=this._client)==null||i.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ur(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=vr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=(n==null?void 0:n.event_id)||ke();if(!this._client)return _.warn("No client configured on scope - will not capture exception!"),r;let a=new Error("Sentry syntheticException");return this._client.captureException(t,E(h({originalException:t,syntheticException:a},n),{event_id:r}),this),r}captureMessage(t,n,r){let a=(r==null?void 0:r.event_id)||ke();if(!this._client)return _.warn("No client configured on scope - will not capture message!"),a;let i=new Error(t);return this._client.captureMessage(t,n,E(h({originalException:t,syntheticException:i},r),{event_id:a}),this),a}captureEvent(t,n){let r=(n==null?void 0:n.event_id)||ke();return this._client?(this._client.captureEvent(t,E(h({},n),{event_id:r}),this),r):(_.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function hm(){return wa("defaultCurrentScope",()=>new Tt)}function mm(){return wa("defaultIsolationScope",()=>new Tt)}var gm=class{constructor(e,t){let n;e?n=e:n=new Tt;let r;t?r=t:r=new Tt,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){let t=this._pushScope(),n;try{n=e(t)}catch(r){throw this._popScope(),r}return mr(n)?n.then(r=>(this._popScope(),r),r=>{throw this._popScope(),r}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function kn(){let e=xt(),t=pr(e);return t.stack=t.stack||new gm(hm(),mm())}function _m(e){return kn().withScope(e)}function ym(e,t){let n=kn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Bl(e){return kn().withScope(()=>e(kn().getIsolationScope()))}function vm(){return{withIsolationScope:Bl,withScope:_m,withSetScope:ym,withSetIsolationScope:(e,t)=>Bl(t),getCurrentScope:()=>kn().getScope(),getIsolationScope:()=>kn().getIsolationScope()}}function Ht(e){let t=pr(e);return t.acs?t.acs:vm()}function U(){let e=xt();return Ht(e).getCurrentScope()}function me(){let e=xt();return Ht(e).getIsolationScope()}function Cn(){return wa("globalScope",()=>new Tt)}function $e(...e){let t=xt(),n=Ht(t);if(e.length===2){let[r,a]=e;return r?n.withSetScope(r,a):n.withScope(a)}return n.withScope(e[0])}function Oc(...e){let t=xt(),n=Ht(t);if(e.length===2){let[r,a]=e;return r?n.withSetIsolationScope(r,a):n.withIsolationScope(a)}return n.withIsolationScope(e[0])}function T(){return U().getClient()}function Nc(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:a}=t,i={trace_id:n,span_id:a||br()};return r&&(i.parent_span_id=r),i}var Pe="sentry.source",Rn="sentry.sample_rate",vs="sentry.previous_trace_sample_rate",Ne="sentry.op",ae="sentry.origin",dr="sentry.idle_span_finish_reason",Mn="sentry.measurement_unit",An="sentry.measurement_value",as="sentry.custom_span_name",bs="sentry.profile_id",rn="sentry.exclusive_time";var Lc="http.request.method",Dc="url.full",Pc="sentry.link.type";var Fc=2;function Ss(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function nn(e,t){e.setAttribute("http.response.status_code",t);let n=Ss(t);n.message!=="unknown_error"&&e.setStatus(n)}var $c="_sentryScope",Uc="_sentryIsolationScope";function bm(e,t,n){e&&(Me(e,Uc,n),Me(e,$c,t))}function ga(e){return{scope:e[$c],isolationScope:e[Uc]}}function Ut(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var ws="sentry-",Sm=/^sentry-/,wm=8192;function Bc(e){let t=Em(e);if(!t)return;let n=Object.entries(t).reduce((r,[a,i])=>{if(a.match(Sm)){let s=a.slice(ws.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Hc(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,a])=>(a&&(n[`${ws}${r}`]=a),n),{});return km(t)}function Em(e){if(!(!e||!je(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=Hl(n);return Object.entries(r).forEach(([a,i])=>{t[a]=i}),t},{}):Hl(e)}function Hl(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch(r){return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function km(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],a)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=a===0?i:`${t},${i}`;return s.length>wm?(A&&_.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var jc=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Tm(e){if(!e)return;let t=e.match(jc);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Es(e,t){let n=Tm(e),r=Bc(t);if(!(n!=null&&n.traceId))return{traceId:ht(),sampleRand:Math.random()};let a=Im(n,r);r&&(r.sample_rand=a.toString());let{traceId:i,parentSpanId:s,parentSampled:o}=n;return{traceId:i,parentSpanId:s,sampled:o,dsc:r||{},sampleRand:a}}function zc(e=ht(),t=br(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Im(e,t){let n=Ut(t==null?void 0:t.sample_rand);if(n!==void 0)return n;let r=Ut(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}var qc=0,ks=1,jl=!1;function xm(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:a,parent_span_id:i,status:s,origin:o,links:l}=F(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:a,status:s,origin:o,links:l}}function Wc(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),a=r?t:F(e).parent_span_id,i=ga(e).scope,s=r?(i==null?void 0:i.getPropagationContext().propagationSpanId)||br():t;return{parent_span_id:a,span_id:s,trace_id:n}}function Ts(e){let{traceId:t,spanId:n}=e.spanContext(),r=jt(e);return zc(t,n,r)}function Gc(e){if(e&&e.length>0)return e.map(s=>{var o=s,{context:l}=o,c=l,{spanId:t,traceId:n,traceFlags:r}=c,a=Dt(c,["spanId","traceId","traceFlags"]),{attributes:i}=o;return h({span_id:t,trace_id:n,sampled:r===ks,attributes:i},a)})}function Qt(e){return typeof e=="number"?zl(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?zl(e.getTime()):_e()}function zl(e){return e>9999999999?e/1e3:e}function F(e){var r;if(Rm(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(Cm(e)){let{attributes:a,startTime:i,name:s,endTime:o,status:l,links:c}=e,d="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:a,description:s,parent_span_id:d,start_timestamp:Qt(i),timestamp:Qt(o)||void 0,status:Yc(l),op:a[Ne],origin:a[ae],links:Gc(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Cm(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Rm(e){return typeof e.getSpanJSON=="function"}function jt(e){let{traceFlags:t}=e.spanContext();return t===ks}function Yc(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var en="_sentryChildSpans",is="_sentryRootSpan";function Vc(e,t){let n=e[is]||e;Me(t,is,n),e[en]?e[en].add(t):Me(e,en,new Set([t]))}function Mm(e,t){e[en]&&e[en].delete(t)}function bn(e){let t=new Set;function n(r){if(!t.has(r)&&jt(r)){t.add(r);let a=r[en]?Array.from(r[en]):[];for(let i of a)n(i)}}return n(e),Array.from(t)}function ue(e){return e[is]||e}function de(){let e=xt(),t=Ht(e);return t.getActiveSpan?t.getActiveSpan():ur(U())}function ss(){jl||(Ct(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),jl=!0)}function Kc(e,t){e.updateName(t),e.setAttributes({[Pe]:"custom",[as]:t})}var et="?",ql=/\(error: (.*)\)/,Wl=/captureMessage|captureException/;function Is(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,a=0)=>{let i=[],s=n.split(`
`);for(let o=r;o<s.length;o++){let l=s[o];if(l.length>1024)continue;let c=ql.test(l)?l.replace(ql,"$1"):l;if(!c.match(/\S*Error: /)){for(let d of t){let u=d(c);if(u){i.push(u);break}}if(i.length>=50+a)break}}return Am(i.slice(a))}}function Jc(e){return Array.isArray(e)?Is(...e):e}function Am(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(la(t).function||"")&&t.pop(),t.reverse(),Wl.test(la(t).function||"")&&(t.pop(),Wl.test(la(t).function||"")&&t.pop()),t.slice(0,50).map(n=>E(h({},n),{filename:n.filename||la(t).filename,function:n.function||et}))}function la(e){return e[e.length-1]||{}}var Ki="<anonymous>";function ot(e){try{return!e||typeof e!="function"?Ki:e.name||Ki}catch(t){return Ki}}function os(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch(r){return}}}var pa={},Gl={};function lt(e,t){pa[e]=pa[e]||[],pa[e].push(t)}function ct(e,t){if(!Gl[e]){Gl[e]=!0;try{t()}catch(n){A&&_.error(`Error while instrumenting ${e}`,n)}}}function De(e,t){let n=e&&pa[e];if(n)for(let r of n)try{r(t)}catch(a){A&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ot(r)}
Error:`,a)}}var Ji=null;function xs(e){let t="error";lt(t,e),ct(t,Om)}function Om(){Ji=N.onerror,N.onerror=function(e,t,n,r,a){return De("error",{column:r,error:a,line:n,msg:e,url:t}),Ji?Ji.apply(this,arguments):!1},N.onerror.__SENTRY_INSTRUMENTED__=!0}var Xi=null;function Cs(e){let t="unhandledrejection";lt(t,e),ct(t,Nm)}function Nm(){Xi=N.onunhandledrejection,N.onunhandledrejection=function(e){return De("unhandledrejection",e),Xi?Xi.apply(this,arguments):!0},N.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var Yl=!1;function Ta(){Yl||(Yl=!0,xs(ls),Cs(ls))}function ls(){let e=de(),t=e&&ue(e);if(t){let n="internal_error";A&&_.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:2,message:n})}}ls.tag="sentry_tracingErrorCallback";function It(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||((n=T())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var Sr="production",Lm=/^o(\d+)\./,Dm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Pm(e){return e==="http"||e==="https"}function zt(e,t=!1){let{host:n,path:r,pass:a,port:i,projectId:s,protocol:o,publicKey:l}=e;return`${o}://${l}${t&&a?`:${a}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Xc(e){let t=Dm.exec(e);if(!t){Ct(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,a="",i="",s="",o=""]=t.slice(1),l="",c=o,d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){let u=c.match(/^\d+/);u&&(c=u[0])}return Zc({host:i,pass:a,path:l,projectId:c,port:s,protocol:n,publicKey:r})}function Zc(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Fm(e){if(!A)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(a=>e[a]?!1:(_.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?Pm(r)?t&&isNaN(parseInt(t,10))?(_.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(_.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(_.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function $m(e){var t;return(t=e.match(Lm))==null?void 0:t[1]}function Qc(e){let t=typeof e=="string"?Xc(e):Zc(e);if(!(!t||!Fm(t)))return t}var eu="_frozenDsc";function fa(e,t){Me(e,eu,t)}function tu(e,t){let n=t.getOptions(),{publicKey:r,host:a}=t.getDsn()||{},i;n.orgId?i=String(n.orgId):a&&(i=$m(a));let s={environment:n.environment||Sr,release:n.release,public_key:r,trace_id:e,org_id:i};return t.emit("createDsc",s),s}function Rs(e,t){let n=t.getPropagationContext();return n.dsc||tu(n.traceId,e)}function Ve(e){var m,g,y,v;let t=T();if(!t)return{};let n=ue(e),r=F(n),a=r.data,i=n.spanContext().traceState,s=(g=(m=i==null?void 0:i.get("sentry.sample_rate"))!=null?m:a[Rn])!=null?g:a[vs];function o(w){return(typeof s=="number"||typeof s=="string")&&(w.sample_rate=`${s}`),w}let l=n[eu];if(l)return o(l);let c=i==null?void 0:i.get("sentry.dsc"),d=c&&Bc(c);if(d)return o(d);let u=tu(e.spanContext().traceId,t),p=a[Pe],f=r.description;return p!=="url"&&f&&(u.transaction=f),It()&&(u.sampled=String(jt(n)),u.sample_rand=(v=i==null?void 0:i.get("sentry.sample_rand"))!=null?v:(y=ga(n).scope)==null?void 0:y.getPropagationContext().sampleRand.toString()),o(u),t.emit("createDsc",u,n),u}function nu(e){let t=Ve(e);return Hc(t)}var mt=class{constructor(e={}){this._traceId=e.traceId||ht(),this._spanId=e.spanId||br()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:qc}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}};function ru(e,t,n=()=>{}){let r;try{r=e()}catch(a){throw t(a),n(),a}return Um(r,t,n)}function Um(e,t,n){return mr(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Bm(e){if(!A)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=F(e),{spanId:a}=e.spanContext(),i=jt(e),s=ue(e),o=s===e,l=`[Tracing] Starting ${i?"sampled":"unsampled"} ${o?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${a}`];if(r&&c.push(`parent ID: ${r}`),!o){let{op:d,description:u}=F(s);c.push(`root ID: ${s.spanContext().spanId}`),d&&c.push(`root op: ${d}`),u&&c.push(`root description: ${u}`)}_.log(`${l}
  ${c.join(`
  `)}`)}function Hm(e){if(!A)return;let{description:t="< unknown name >",op:n="< unknown op >"}=F(e),{spanId:r}=e.spanContext(),a=ue(e)===e,i=`[Tracing] Finishing "${n}" ${a?"root ":""}span "${t}" with ID ${r}`;_.log(i)}function jm(e,t,n){if(!It(e))return[!1];let r,a;typeof e.tracesSampler=="function"?(a=e.tracesSampler(E(h({},t),{inheritOrSampleWith:o=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):o})),r=!0):t.parentSampled!==void 0?a=t.parentSampled:typeof e.tracesSampleRate<"u"&&(a=e.tracesSampleRate,r=!0);let i=Ut(a);if(i===void 0)return A&&_.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`),[!1];if(!i)return A&&_.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||A&&_.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(a)})`),[s,i,r]}function Ye(e,t=100,n=1/0){try{return cs("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Ms(e,t=3,n=100*1024){let r=Ye(e,t);return Gm(r)>n?Ms(e,t-1,n):r}function cs(e,t,n=1/0,r=1/0,a=Ym()){let[i,s]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let o=zm(e,t);if(!o.startsWith("[object "))return o;if(t.__sentry_skip_normalization__)return t;let l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return o.replace("object ","");if(i(t))return"[Circular ~]";let c=t;if(c&&typeof c.toJSON=="function")try{let f=c.toJSON();return cs("",f,l-1,r,a)}catch(f){}let d=Array.isArray(t)?[]:{},u=0,p=xc(t);for(let f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(u>=r){d[f]="[MaxProperties ~]";break}let m=p[f];d[f]=cs(f,m,l-1,r,a),u++}return s(t),d}function zm(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof Pl<"u"&&t===Pl)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Tc(t))return"[VueViewModel]";if(em(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ot(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=qm(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function qm(e){let t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function Wm(e){return~-encodeURI(e).split(/%..|./).length}function Gm(e){return Wm(JSON.stringify(e))}function Ym(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function ut(e,t=[]){return[e,t]}function Vm(e,t){let[n,r]=e;return[n,[...r,t]]}function Bt(e,t){let n=e[1];for(let r of n){let a=r[0].type;if(t(r,a))return!0}return!1}function Vl(e,t){return Bt(e,(n,r)=>t.includes(r))}function _a(e){let t=pr(N);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Km(e){let t=pr(N);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function On(e){let[t,n]=e,r=JSON.stringify(t);function a(i){typeof r=="string"?r=typeof i=="string"?r+i:[_a(r),i]:r.push(typeof i=="string"?_a(i):i)}for(let i of n){let[s,o]=i;if(a(`
${JSON.stringify(s)}
`),typeof o=="string"||o instanceof Uint8Array)a(o);else{let l;try{l=JSON.stringify(o)}catch(c){l=JSON.stringify(Ye(o))}a(l)}}return typeof r=="string"?r:Jm(r)}function Jm(e){let t=e.reduce((a,i)=>a+i.length,0),n=new Uint8Array(t),r=0;for(let a of e)n.set(a,r),r+=a.length;return n}function au(e){let t=typeof e=="string"?_a(e):e;function n(s){let o=t.subarray(0,s);return t=t.subarray(s+1),o}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(Km(n(s)))}let a=r(),i=[];for(;t.length;){let s=r(),o=typeof s.length=="number"?s.length:void 0;i.push([s,o?n(o):r()])}return[a,i]}function Xm(e){return[{type:"span"},e]}function Zm(e){let t=typeof e.data=="string"?_a(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var Qm={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Kl(e){return Qm[e]}function Ia(e){if(!(e!=null&&e.sdk))return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function As(e,t,n,r){var i;let a=(i=e.sdkProcessingMetadata)==null?void 0:i.dynamicSamplingContext;return h(h(h({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:zt(r)}),a&&{trace:a})}function eg(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function tg(e,t,n,r){let a=Ia(n),i=h(h({sent_at:new Date().toISOString()},a&&{sdk:a}),!!r&&t&&{dsn:zt(t)}),s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return ut(i,[s])}function ng(e,t,n,r){let a=Ia(n),i=e.type&&e.type!=="replay_event"?e.type:"event";eg(e,n==null?void 0:n.sdk);let s=As(e,a,r,t);return delete e.sdkProcessingMetadata,ut(s,[[{type:i},e]])}function rg(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=Ve(e[0]),a=t==null?void 0:t.getDsn(),i=t==null?void 0:t.getOptions().tunnel,s=h(h({sent_at:new Date().toISOString()},n(r)&&{trace:r}),!!i&&a&&{dsn:zt(a)}),o=t==null?void 0:t.getOptions().beforeSendSpan,l=o?d=>{let u=F(d);return o(u)||(ss(),u)}:F,c=[];for(let d of e){let u=l(d);u&&c.push(Xm(u))}return ut(s,c)}function xa(e,t,n,r=de()){let a=r&&ue(r);a&&(A&&_.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),a.addEvent(e,{[An]:t,[Mn]:n}))}function Jl(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},a=r[Mn],i=r[An];typeof a=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:a})}),t}var Xl=1e3,Os=class{constructor(e={}){this._traceId=e.traceId||ht(),this._spanId=e.spanId||br(),this._startTime=e.startTimestamp||_e(),this._links=e.links,this._attributes={},this.setAttributes(h({[ae]:"manual",[Ne]:e.op},e.attributes)),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?ks:qc}}setAttribute(e,t){return t===void 0?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=Qt(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Pe,"custom"),this}end(e){this._endTime||(this._endTime=Qt(e),Hm(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ne],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Yc(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ae],profile_id:this._attributes[bs],exclusive_time:this._attributes[rn],measurements:Jl(this._events),is_segment:this._isStandaloneSpan&&ue(this)===this||void 0,segment_id:this._isStandaloneSpan?ue(this).spanContext().spanId:void 0,links:Gc(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){A&&_.log("[Tracing] Adding an event to span:",e);let r=Zl(t)?t:n||_e(),a=Zl(t)?{}:t||{},i={name:e,time:Qt(r),attributes:a};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=T();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===ue(this)))return;if(this._isStandaloneSpan){this._sampled?ig(rg([this],e)):(A&&_.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let t=this._convertSpanToTransaction();t&&(ga(this).scope||U()).captureEvent(t)}_convertSpanToTransaction(){var o;if(!Ql(F(this)))return;this._name||(A&&_.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:t}=ga(this),n=(o=e==null?void 0:e.getScopeData().sdkProcessingMetadata)==null?void 0:o.normalizedRequest;if(this._sampled!==!0)return;let r=bn(this).filter(l=>l!==this&&!ag(l)).map(l=>F(l)).filter(Ql),a=this._attributes[Pe];delete this._attributes[as],r.forEach(l=>{delete l.data[as]});let i=h({contexts:{trace:xm(this)},spans:r.length>Xl?r.sort((l,c)=>l.start_timestamp-c.start_timestamp).slice(0,Xl):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:Ve(this)},request:n},a&&{transaction_info:{source:a}}),s=Jl(this._events);return s&&Object.keys(s).length&&(A&&_.log("[Measurements] Adding measurements to transaction event",JSON.stringify(s,void 0,2)),i.measurements=s),i}};function Zl(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Ql(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function ag(e){return e instanceof Os&&e.isStandaloneSpan()}function ig(e){let t=T();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var Ns="__SENTRY_SUPPRESS_TRACING__";function Ca(e,t){let n=wr();if(n.startSpan)return n.startSpan(e,t);let r=Ds(e),{forceTransaction:a,parentSpan:i,scope:s}=e,o=s==null?void 0:s.clone();return $e(o,()=>cu(i)(()=>{let l=U(),c=Ps(l),d=e.onlyIfParent&&!c?new mt:Ls({parentSpan:c,spanArguments:r,forceTransaction:a,scope:l});return tn(l,d),ru(()=>t(d),()=>{let{status:u}=F(d);d.isRecording()&&(!u||u==="ok")&&d.setStatus({code:2,message:"internal_error"})},()=>{d.end()})}))}function iu(e,t){let n=wr();if(n.startSpanManual)return n.startSpanManual(e,t);let r=Ds(e),{forceTransaction:a,parentSpan:i,scope:s}=e,o=s==null?void 0:s.clone();return $e(o,()=>cu(i)(()=>{let l=U(),c=Ps(l),d=e.onlyIfParent&&!c?new mt:Ls({parentSpan:c,spanArguments:r,forceTransaction:a,scope:l});return tn(l,d),ru(()=>t(d,()=>d.end()),()=>{let{status:u}=F(d);d.isRecording()&&(!u||u==="ok")&&d.setStatus({code:2,message:"internal_error"})})}))}function Rt(e){let t=wr();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=Ds(e),{forceTransaction:r,parentSpan:a}=e;return(e.scope?i=>$e(e.scope,i):a!==void 0?i=>an(a,i):i=>i())(()=>{let i=U(),s=Ps(i);return e.onlyIfParent&&!s?new mt:Ls({parentSpan:s,spanArguments:n,forceTransaction:r,scope:i})})}var su=(e,t)=>{let n=xt(),r=Ht(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:a,baggage:i}=e;return $e(s=>{let o=Es(a,i);return s.setPropagationContext(o),t()})};function an(e,t){let n=wr();return n.withActiveSpan?n.withActiveSpan(e,t):$e(r=>(tn(r,e||void 0),t(r)))}function ou(e){let t=wr();return t.suppressTracing?t.suppressTracing(e):$e(n=>(n.setSDKProcessingMetadata({[Ns]:!0}),e()))}function lu(e){return $e(t=>(t.setPropagationContext({traceId:ht(),sampleRand:Math.random()}),A&&_.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),an(null,e)))}function Ls({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!It()){let s=new mt;if(n||!e){let o=h({sampled:"false",sample_rate:"0",transaction:t.name},Ve(s));fa(s,o)}return s}let a=me(),i;if(e&&!n)i=sg(e,r,t),Vc(e,i);else if(e){let s=Ve(e),{traceId:o,spanId:l}=e.spanContext(),c=jt(e);i=ec(h({traceId:o,parentSpanId:l},t),r,c),fa(i,s)}else{let{traceId:s,dsc:o,parentSpanId:l,sampled:c}=h(h({},a.getPropagationContext()),r.getPropagationContext());i=ec(h({traceId:s,parentSpanId:l},t),r,c),o&&fa(i,o)}return Bm(i),bm(i,r,a),i}function Ds(e){let t=h({isStandalone:(e.experimental||{}).standalone},e);if(e.startTime){let n=h({},t);return n.startTimestamp=Qt(e.startTime),delete n.startTime,n}return t}function wr(){let e=xt();return Ht(e)}function ec(e,t,n){var m,g;let r=T(),a=(r==null?void 0:r.getOptions())||{},{name:i=""}=e,s={spanAttributes:h({},e.attributes),spanName:i,parentSampled:n};r==null||r.emit("beforeSampling",s,{decision:!1});let o=(m=s.parentSampled)!=null?m:n,l=s.spanAttributes,c=t.getPropagationContext(),[d,u,p]=t.getScopeData().sdkProcessingMetadata[Ns]?[!1]:jm(a,{name:i,parentSampled:o,attributes:l,parentSampleRate:Ut((g=c.dsc)==null?void 0:g.sample_rate)},c.sampleRand),f=new Os(E(h({},e),{attributes:h({[Pe]:"custom",[Rn]:u!==void 0&&p?u:void 0},l),sampled:d}));return!d&&r&&(A&&_.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function sg(e,t,n){let{spanId:r,traceId:a}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Ns]?!1:jt(e),s=i?new Os(E(h({},n),{parentSpanId:r,traceId:a,sampled:i})):new mt({traceId:a});Vc(e,s);let o=T();return o&&(o.emit("spanStart",s),n.endTimestamp&&o.emit("spanEnd",s)),s}function Ps(e){let t=ur(e);if(!t)return;let n=T();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?ue(t):t}function cu(e){return e!==void 0?t=>an(e,t):t=>t()}var lr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},og="heartbeatFailed",lg="idleTimeout",cg="finalTimeout",ug="externalFinish";function Fs(e,t={}){let n=new Map,r=!1,a,i=ug,s=!t.disableAutoFinish,o=[],{idleTimeout:l=lr.idleTimeout,finalTimeout:c=lr.finalTimeout,childSpanTimeout:d=lr.childSpanTimeout,beforeSpanEnd:u}=t,p=T();if(!p||!It()){let b=new mt,I=h({sample_rate:"0",sampled:"false"},Ve(b));return fa(b,I),b}let f=U(),m=de(),g=dg(e);g.end=new Proxy(g.end,{apply(b,I,W){if(u&&u(g),I instanceof mt)return;let[S,...R]=W,x=S||_e(),k=Qt(x),C=bn(g).filter(H=>H!==g);if(!C.length)return O(k),Reflect.apply(b,I,[k,...R]);let $=C.map(H=>F(H).timestamp).filter(H=>!!H),G=$.length?Math.max(...$):void 0,D=F(g).start_timestamp,X=Math.min(D?D+c/1e3:1/0,Math.max(D||-1/0,Math.min(k,G||1/0)));return O(X),Reflect.apply(b,I,[X,...R])}});function y(){a&&(clearTimeout(a),a=void 0)}function v(b){y(),a=setTimeout(()=>{!r&&n.size===0&&s&&(i=lg,g.end(b))},l)}function w(b){a=setTimeout(()=>{!r&&s&&(i=og,g.end(b))},d)}function M(b){y(),n.set(b,!0);let I=_e();w(I+d/1e3)}function L(b){if(n.has(b)&&n.delete(b),n.size===0){let I=_e();v(I+l/1e3)}}function O(b){r=!0,n.clear(),o.forEach(x=>x()),tn(f,m);let I=F(g),{start_timestamp:W}=I;if(!W)return;I.data[dr]||g.setAttribute(dr,i),_.log(`[Tracing] Idle span "${I.op}" finished`);let S=bn(g).filter(x=>x!==g),R=0;S.forEach(x=>{x.isRecording()&&(x.setStatus({code:2,message:"cancelled"}),x.end(b),A&&_.log("[Tracing] Cancelling span since span ended early",JSON.stringify(x,void 0,2)));let k=F(x),{timestamp:C=0,start_timestamp:$=0}=k,G=$<=b,D=(c+l)/1e3,X=C-$<=D;if(A){let H=JSON.stringify(x,void 0,2);G?X||_.log("[Tracing] Discarding span since it finished after idle span final timeout",H):_.log("[Tracing] Discarding span since it happened after idle span was finished",H)}(!X||!G)&&(Mm(g,x),R++)}),R>0&&g.setAttribute("sentry.idle_span_discarded_spans",R)}return o.push(p.on("spanStart",b=>{r||b===g||F(b).timestamp||bn(g).includes(b)&&M(b.spanContext().spanId)})),o.push(p.on("spanEnd",b=>{r||L(b.spanContext().spanId)})),o.push(p.on("idleSpanEnableAutoFinish",b=>{b===g&&(s=!0,v(),n.size&&w())})),t.disableAutoFinish||v(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=cg,g.end())},c),g}function dg(e){let t=Rt(e);return tn(U(),t),A&&_.log("[Tracing] Started span is an idle span"),t}var wt;(function(e){e[e.PENDING=0]="PENDING";let t=1;e[e.RESOLVED=t]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(wt||(wt={}));function it(e){return new kr(t=>{t(e)})}function Er(e){return new kr((t,n)=>{n(e)})}var kr=class us{constructor(t){this._state=wt.PENDING,this._handlers=[],this._runExecutor(t)}then(t,n){return new us((r,a)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){a(s)}},i=>{if(!n)a(i);else try{r(n(i))}catch(s){a(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new us((n,r)=>{let a,i;return this.then(s=>{i=!1,a=s,t&&t()},s=>{i=!0,a=s,t&&t()}).then(()=>{if(i){r(a);return}n(a)})})}_executeHandlers(){if(this._state===wt.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===wt.RESOLVED&&n[1](this._value),this._state===wt.REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===wt.PENDING){if(mr(s)){s.then(r,a);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(wt.RESOLVED,i)},a=i=>{n(wt.REJECTED,i)};try{t(r,a)}catch(i){a(i)}}};function ds(e,t,n,r=0){return new kr((a,i)=>{let s=e[r];if(t===null||typeof s!="function")a(t);else{let o=s(h({},t),n);A&&s.id&&o===null&&_.log(`Event processor "${s.id}" dropped event`),mr(o)?o.then(l=>ds(e,l,n,r+1).then(a)).then(null,i):ds(e,o,n,r+1).then(a).then(null,i)}})}var ca,tc,Zi;function uu(e){let t=N._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Zi&&n.length===tc||(tc=n.length,Zi=n.reduce((r,a)=>{var s;ca||(ca={});let i=ca[a];if(i)r[i[0]]=i[1];else{let o=e(a);for(let l=o.length-1;l>=0;l--){let c=(s=o[l])==null?void 0:s.filename,d=t[a];if(c&&d){r[c]=d,ca[a]=[c,d];break}}}return r},{})),Zi}function du(e,t){let n=uu(e);if(!n)return[];let r=[];for(let a of t)a&&n[a]&&r.push({type:"sourcemap",code_file:a,debug_id:n[a]});return r}function pg(e,t){let{fingerprint:n,span:r,breadcrumbs:a,sdkProcessingMetadata:i}=t;fg(e,t),r&&gg(e,r),_g(e,n),hg(e,a),mg(e,i)}function ya(e,t){let{extra:n,tags:r,user:a,contexts:i,level:s,sdkProcessingMetadata:o,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:u,propagationContext:p,transactionName:f,span:m}=t;ua(e,"extra",n),ua(e,"tags",r),ua(e,"user",a),ua(e,"contexts",i),e.sdkProcessingMetadata=vr(e.sdkProcessingMetadata,o,2),s&&(e.level=s),f&&(e.transactionName=f),m&&(e.span=m),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),u.length&&(e.attachments=[...e.attachments,...u]),e.propagationContext=h(h({},e.propagationContext),p)}function ua(e,t,n){e[t]=vr(e[t],n,1)}function fg(e,t){let{extra:n,tags:r,user:a,contexts:i,level:s,transactionName:o}=t;Object.keys(n).length&&(e.extra=h(h({},n),e.extra)),Object.keys(r).length&&(e.tags=h(h({},r),e.tags)),Object.keys(a).length&&(e.user=h(h({},a),e.user)),Object.keys(i).length&&(e.contexts=h(h({},i),e.contexts)),s&&(e.level=s),o&&e.type!=="transaction"&&(e.transaction=o)}function hg(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function mg(e,t){e.sdkProcessingMetadata=h(h({},e.sdkProcessingMetadata),t)}function gg(e,t){e.contexts=h({trace:Wc(t)},e.contexts),e.sdkProcessingMetadata=h({dynamicSamplingContext:Ve(t)},e.sdkProcessingMetadata);let n=ue(t),r=F(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function _g(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function $s(e,t,n,r,a,i){let{normalizeDepth:s=3,normalizeMaxBreadth:o=1e3}=e,l=E(h({},t),{event_id:t.event_id||n.event_id||ke(),timestamp:t.timestamp||yr()}),c=n.integrations||e.integrations.map(g=>g.name);yg(l,e),Sg(l,c),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&vg(l,e.stackParser);let d=Eg(r,n.captureContext);n.mechanism&&st(l,n.mechanism);let u=a?a.getEventProcessors():[],p=Cn().getScopeData();if(i){let g=i.getScopeData();ya(p,g)}if(d){let g=d.getScopeData();ya(p,g)}let f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),pg(l,p);let m=[...u,...p.eventProcessors];return ds(m,l,n).then(g=>(g&&bg(g),typeof s=="number"&&s>0?wg(g,s,o):g))}function yg(e,t){let{environment:n,release:r,dist:a,maxValueLength:i=250}=t;e.environment=e.environment||n||Sr,!e.release&&r&&(e.release=r),!e.dist&&a&&(e.dist=a);let s=e.request;s!=null&&s.url&&(s.url=Sn(s.url,i))}function vg(e,t){var r,a;let n=uu(t);(a=(r=e.exception)==null?void 0:r.values)==null||a.forEach(i=>{var s,o;(o=(s=i.stacktrace)==null?void 0:s.frames)==null||o.forEach(l=>{l.filename&&(l.debug_id=n[l.filename])})})}function bg(e){var r,a;let t={};if((a=(r=e.exception)==null?void 0:r.values)==null||a.forEach(i=>{var s,o;(o=(s=i.stacktrace)==null?void 0:s.frames)==null||o.forEach(l=>{l.debug_id&&(l.abs_path?t[l.abs_path]=l.debug_id:l.filename&&(t[l.filename]=l.debug_id),delete l.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([i,s])=>{n.push({type:"sourcemap",code_file:i,debug_id:s})})}function Sg(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function wg(e,t,n){var a,i;if(!e)return null;let r=h(h(h(h(h({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>h(h({},s),s.data&&{data:Ye(s.data,t,n)}))}),e.user&&{user:Ye(e.user,t,n)}),e.contexts&&{contexts:Ye(e.contexts,t,n)}),e.extra&&{extra:Ye(e.extra,t,n)});return(a=e.contexts)!=null&&a.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ye(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>h(h({},s),s.data&&{data:Ye(s.data,t,n)}))),(i=e.contexts)!=null&&i.flags&&r.contexts&&(r.contexts.flags=Ye(e.contexts.flags,3,n)),r}function Eg(e,t){if(!t)return e;let n=e?e.clone():new Tt;return n.update(t),n}function kg(e){if(e)return Tg(e)?{captureContext:e}:xg(e)?{captureContext:e}:e}function Tg(e){return e instanceof Tt||typeof e=="function"}var Ig=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function xg(e){return Object.keys(e).some(t=>Ig.includes(t))}function gt(e,t){return U().captureException(e,kg(t))}function Tn(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return U().captureMessage(e,n,r)}function qt(e,t){return U().captureEvent(e,t)}function Ra(e,t){me().setContext(e,t)}function pu(e){me().setExtras(e)}function fu(e,t){me().setExtra(e,t)}function hu(e){me().setTags(e)}function Ma(e,t){me().setTag(e,t)}function mu(e){me().setUser(e)}function Aa(){return me().lastEventId()}function gu(e){return P(this,null,function*(){let t=T();return t?t.flush(e):(A&&_.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function _u(e){return P(this,null,function*(){let t=T();return t?t.close(e):(A&&_.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function yu(){return!!T()}function Us(){let e=T();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function Oa(e){me().addEventProcessor(e)}function Tr(e){let t=me(),n=U(),{userAgent:r}=N.navigator||{},a=um(h(h({user:n.getUser()||t.getUser()},r&&{userAgent:r}),e)),i=t.getSession();return(i==null?void 0:i.status)==="ok"&&En(i,{status:"exited"}),Na(),t.setSession(a),a}function Na(){let e=me(),t=U().getSession()||e.getSession();t&&dm(t),vu(),e.setSession()}function vu(){let e=me(),t=T(),n=e.getSession();n&&t&&t.captureSession(n)}function Ir(e=!1){if(e){Na();return}vu()}var Cg="7";function bu(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Rg(e){return`${bu(e)}${e.projectId}/envelope/`}function Mg(e,t){let n={sentry_version:Cg};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Su(e,t,n){return t||`${Rg(e)}?${Mg(e,n)}`}function wu(e,t){let n=Qc(e);if(!n)return"";let r=`${bu(n)}embed/error-page/`,a=`dsn=${zt(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(a+=`&name=${encodeURIComponent(s.name)}`),s.email&&(a+=`&email=${encodeURIComponent(s.email)}`)}else a+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${a}`}var nc=[];function Ag(e){let t={};return e.forEach(n=>{let{name:r}=n,a=t[r];a&&!a.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Eu(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let a=n(t);r=Array.isArray(a)?a:[a]}else r=t;return Ag(r)}function Og(e,t){let n={};return t.forEach(r=>{r&&ku(e,r,n)}),n}function rc(e,t){for(let n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function ku(e,t,n){if(n[t.name]){A&&_.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,nc.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),nc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>r(a,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),a=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(a)}A&&_.log(`Integration installed: ${t.name}`)}function xr(e){let t=T();if(!t){A&&_.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Tu(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch(n){}return t}function Ng(e){var l,c,d;let{trace_id:t,parent_span_id:n,span_id:r,status:a,origin:i,data:s,op:o}=(c=(l=e.contexts)==null?void 0:l.trace)!=null?c:{};return{data:s!=null?s:{},description:e.transaction,op:o,parent_span_id:n,span_id:r!=null?r:"",start_timestamp:(d=e.start_timestamp)!=null?d:0,status:a,timestamp:e.timestamp,trace_id:t!=null?t:"",origin:i,profile_id:s==null?void 0:s[bs],exclusive_time:s==null?void 0:s[rn],measurements:e.measurements,is_segment:!0}}function Lg(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:h(h(h({},e.data),e.profile_id&&{[bs]:e.profile_id}),e.exclusive_time&&{[rn]:e.exclusive_time})}},measurements:e.measurements}}function Dg(e,t,n){let r=[{type:"client_report"},{timestamp:n||yr(),discarded_events:e}];return ut(t?{dsn:t}:{},[r])}var ac="Not capturing exception because it's already been captured.",ic="Discarded session because of missing or non-string release",Iu=Symbol.for("SentryInternalError"),xu=Symbol.for("SentryDoNotSendEventError");function ha(e){return{message:e,[Iu]:!0}}function Qi(e){return{message:e,[xu]:!0}}function sc(e){return!!e&&typeof e=="object"&&Iu in e}function oc(e){return!!e&&typeof e=="object"&&xu in e}var Cu=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Qc(e.dsn):A&&_.warn("No DSN provided, client will not send events."),this._dsn){let t=Su(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport(E(h({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{url:t}))}}captureException(e,t,n){let r=ke();if(Ul(e))return A&&_.log(ac),r;let a=h({event_id:r},t);return this._process(this.eventFromException(e,a).then(i=>this._captureEvent(i,a,n))),a.event_id}captureMessage(e,t,n,r){let a=h({event_id:ke()},n),i=fr(e)?e:String(e),s=Ea(e)?this.eventFromMessage(i,t,a):this.eventFromException(e,a);return this._process(s.then(o=>this._captureEvent(o,a,r))),a.event_id}captureEvent(e,t,n){let r=ke();if(t!=null&&t.originalException&&Ul(t.originalException))return A&&_.log(ac),r;let a=h({event_id:r},t),i=e.sdkProcessingMetadata||{},s=i.capturedSpanScope,o=i.capturedSpanIsolationScope;return this._process(this._captureEvent(e,a,s||n,o)),a.event_id}captureSession(e){this.sendSession(e),En(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(r=>n&&r))):it(!0)}close(e){return this.flush(e).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];ku(this,e,this._integrations),t||rc(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=ng(e,this._dsn,this._options._metadata,this._options.tunnel);for(let a of t.attachments||[])n=Vm(n,Zm(a));let r=this.sendEnvelope(n);r&&r.then(a=>this.emit("afterSendEvent",e,a),null)}sendSession(e){let{release:t,environment:n=Sr}=this._options;if("aggregates"in e){let a=e.attrs||{};if(!a.release&&!t){A&&_.warn(ic);return}a.release=a.release||t,a.environment=a.environment||n,e.attrs=a}else{if(!e.release&&!t){A&&_.warn(ic);return}e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);let r=tg(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){let r=`${e}:${t}`;A&&_.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){let n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{let r=n.indexOf(t);r>-1&&n.splice(r,1)}}emit(e,...t){let n=this._hooks[e];n&&n.forEach(r=>r(...t))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,t=>(A&&_.error("Error while sending envelope:",t),t)):(A&&_.error("Transport disabled"),it({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=Og(this,e),rc(this,e)}_updateSessionFromEvent(e,t){var s,o;let n=t.level==="fatal",r=!1,a=(s=t.exception)==null?void 0:s.values;if(a){r=!0;for(let l of a)if(((o=l.mechanism)==null?void 0:o.handled)===!1){n=!0;break}}let i=e.status==="ok";(i&&e.errors===0||i&&n)&&(En(e,E(h({},n&&{status:"crashed"}),{errors:e.errors||Number(r||n)})),this.captureSession(e))}_isClientDoneProcessing(e){return new kr(t=>{let n=0,r=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),t(!0)):(n+=r,e&&n>=e&&(clearInterval(a),t(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,t,n,r){let a=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&(i!=null&&i.length)&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),$s(a,e,t,n,this,r).then(s=>{if(s===null)return s;this.emit("postprocessEvent",s,t),s.contexts=h({trace:Nc(n)},s.contexts);let o=Rs(this,n);return s.sdkProcessingMetadata=h({dynamicSamplingContext:o},s.sdkProcessingMetadata),s})}_captureEvent(e,t={},n=U(),r=me()){return A&&ps(e)&&_.log(`Captured error event \`${Tu(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(a=>a.event_id,a=>{A&&(oc(a)?_.log(a.message):sc(a)?_.warn(a.message):_.warn(a))})}_processEvent(e,t,n,r){let a=this.getOptions(),{sampleRate:i}=a,s=Ru(e),o=ps(e),l=e.type||"error",c=`before send for type \`${l}\``,d=typeof i>"u"?void 0:Ut(i);if(o&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),Er(Qi(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));let u=l==="replay_event"?"replay":l;return this._prepareEvent(e,t,n,r).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",u),Qi("An event processor returned `null`, will not send event.");if(t.data&&t.data.__sentry__===!0)return p;let f=Fg(this,a,p,t);return Pg(f,c)}).then(p=>{var g;if(p===null){if(this.recordDroppedEvent("before_send",u),s){let y=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw Qi(`${c} returned \`null\`, will not send event.`)}let f=n.getSession()||r.getSession();if(o&&f&&this._updateSessionFromEvent(f,p),s){let y=((g=p.sdkProcessingMetadata)==null?void 0:g.spanCountBeforeProcessing)||0,v=p.spans?p.spans.length:0,w=y-v;w>0&&this.recordDroppedEvent("before_send","span",w)}let m=p.transaction_info;if(s&&m&&p.transaction!==e.transaction){let y="custom";p.transaction_info=E(h({},m),{source:y})}return this.sendEvent(p,t),p}).then(null,p=>{throw oc(p)||sc(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),ha(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(e){this._numProcessing++,e.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([t,n])=>{let[r,a]=t.split(":");return{reason:r,category:a,quantity:n}})}_flushOutcomes(){A&&_.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){A&&_.log("No outcomes to send");return}if(!this._dsn){A&&_.log("No dsn provided, will not send outcomes");return}A&&_.log("Sending outcomes:",e);let t=Dg(e,this._options.tunnel&&zt(this._dsn));this.sendEnvelope(t)}};function Pg(e,t){let n=`${t} must return \`null\` or a valid event.`;if(mr(e))return e.then(r=>{if(!$t(r)&&r!==null)throw ha(n);return r},r=>{throw ha(`${t} rejected with ${r}`)});if(!$t(e)&&e!==null)throw ha(n);return e}function Fg(e,t,n,r){let{beforeSend:a,beforeSendTransaction:i,beforeSendSpan:s}=t,o=n;if(ps(o)&&a)return a(o,r);if(Ru(o)){if(s){let l=s(Ng(o));if(l?o=vr(n,Lg(l)):ss(),o.spans){let c=[];for(let d of o.spans){let u=s(d);u?c.push(u):(ss(),c.push(d))}o.spans=c}}if(i){if(o.spans){let l=o.spans.length;o.sdkProcessingMetadata=E(h({},n.sdkProcessingMetadata),{spanCountBeforeProcessing:l})}return i(o,r)}}return o}function ps(e){return e.type===void 0}function Ru(e){return e.type==="transaction"}function $g(e,t){return t?$e(t,()=>{let n=de(),r=n?Wc(n):Nc(t);return[n?Ve(n):Rs(e,t),r]}):[void 0,void 0]}var Ug={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function Bg(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Hg(e,t,n,r){let a={};return t!=null&&t.sdk&&(a.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(a.dsn=zt(r)),ut(a,[Bg(e)])}var jg=100;N._sentryClientToLogBufferMap=new WeakMap;function zg(e){var t;switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let n="";try{n=(t=JSON.stringify(e))!=null?t:""}catch(r){}return{value:n,type:"string"}}}}function Pt(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function qg(e,t){var r,a;let n=Mu(e);n===void 0?(r=N._sentryClientToLogBufferMap)==null||r.set(e,[t]):((a=N._sentryClientToLogBufferMap)==null||a.set(e,[...n,t]),n.length>=jg&&Cr(e,n))}function va(e,t=T(),n=U(),r=qg){var I,W;if(!t){A&&_.warn("No client available to capture log.");return}let{_experiments:a,release:i,environment:s}=t.getOptions(),{enableLogs:o=!1,beforeSendLog:l}=a!=null?a:{};if(!o){A&&_.warn("logging option not enabled, log will not be captured.");return}let[,c]=$g(t,n),d=h({},e.attributes),{user:u}=Wg(n);if(t.getOptions().sendDefaultPii){let{id:S,email:R,username:x}=u;Pt(d,"user.id",S,!1),Pt(d,"user.email",R,!1),Pt(d,"user.name",x,!1)}Pt(d,"sentry.release",i),Pt(d,"sentry.environment",s);let{name:p,version:f}=(W=(I=t.getSdkMetadata())==null?void 0:I.sdk)!=null?W:{};Pt(d,"sentry.sdk.name",p),Pt(d,"sentry.sdk.version",f);let m=e.message;if(fr(m)){let{__sentry_template_string__:S,__sentry_template_values__:R=[]}=m;d["sentry.message.template"]=S,R.forEach((x,k)=>{d[`sentry.message.parameter.${k}`]=x})}let g=ur(n);Pt(d,"sentry.trace.parent_span_id",g==null?void 0:g.spanContext().spanId);let y=E(h({},e),{attributes:d});t.emit("beforeCaptureLog",y);let v=l?l(y):y;if(!v){t.recordDroppedEvent("before_send","log_item",1),A&&_.warn("beforeSendLog returned null, log will not be captured.");return}let{level:w,message:M,attributes:L={},severityNumber:O}=v,b={timestamp:_e(),level:w,body:M,trace_id:c==null?void 0:c.trace_id,severity_number:O!=null?O:Ug[w],attributes:Object.keys(L).reduce((S,R)=>(S[R]=zg(L[R]),S),{})};r(t,b),t.emit("afterCaptureLog",v)}function Cr(e,t){var i,s;let n=(i=t!=null?t:Mu(e))!=null?i:[];if(n.length===0)return;let r=e.getOptions(),a=Hg(n,r._metadata,r.tunnel,e.getDsn());(s=N._sentryClientToLogBufferMap)==null||s.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(a)}function Mu(e){var t;return(t=N._sentryClientToLogBufferMap)==null?void 0:t.get(e)}function Wg(e){let t=Cn().getScopeData();return ya(t,me().getScopeData()),ya(t,e.getScopeData()),t}function Au(e,t){t.debug===!0&&(A?_.enable():Ct(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),U().update(t.initialScope);let n=new e(t);return Bs(n),n.init(),n}function Bs(e){U().setClient(e)}var Ou=Symbol.for("SentryBufferFullError");function Gg(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function a(s){if(!n())return Er(Ou);let o=s();return t.indexOf(o)===-1&&t.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function i(s){return new kr((o,l)=>{let c=t.length;if(!c)return o(!0);let d=setTimeout(()=>{s&&s>0&&o(!1)},s);t.forEach(u=>{it(u).then(()=>{--c||(clearTimeout(d),o(!0))},l)})})}return{$:t,add:a,drain:i}}function Nu(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Yg(e,t){return e[t]||e.all||0}function Hs(e,t,n=Date.now()){return Yg(e,t)>n}function js(e,{statusCode:t,headers:n},r=Date.now()){let a=h({},e),i=n==null?void 0:n["x-sentry-rate-limits"],s=n==null?void 0:n["retry-after"];if(i)for(let o of i.trim().split(",")){let[l,c,,,d]=o.split(":",5),u=parseInt(l,10),p=(isNaN(u)?60:u)*1e3;if(!c)a.all=r+p;else for(let f of c.split(";"))f==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(a[f]=r+p):a[f]=r+p}else s?a.all=r+Nu(s,r):t===429&&(a.all=r+60*1e3);return a}var Vg=64;function La(e,t,n=Gg(e.bufferSize||Vg)){let r={},a=s=>n.drain(s);function i(s){let o=[];if(Bt(s,(u,p)=>{let f=Kl(p);Hs(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):o.push(u)}),o.length===0)return it({});let l=ut(s[0],o),c=u=>{Bt(l,(p,f)=>{e.recordDroppedEvent(u,Kl(f))})},d=()=>t({body:On(l)}).then(u=>(u.statusCode!==void 0&&(u.statusCode<200||u.statusCode>=300)&&A&&_.warn(`Sentry responded with status code ${u.statusCode} to sent event.`),r=js(r,u),u),u=>{throw c("network_error"),A&&_.error("Encountered error running transport request:",u),u});return n.add(d).then(u=>u,u=>{if(u===Ou)return A&&_.error("Skipped sending event because buffer is full."),c("queue_overflow"),it({});throw u})}return{send:i,flush:a}}var es=100,ts=5e3,Kg=36e5;function Lu(e){function t(...n){A&&_.info("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let a=n.createStore(n),i=ts,s;function o(u,p,f){return Vl(u,["client_report"])?!1:n.shouldStore?n.shouldStore(u,p,f):!0}function l(u){s&&clearTimeout(s),s=setTimeout(()=>P(this,null,function*(){s=void 0;let p=yield a.shift();p&&(t("Attempting to send previously queued event"),p[0].sent_at=new Date().toISOString(),d(p,!0).catch(f=>{t("Failed to retry sending",f)}))}),u),typeof s!="number"&&s.unref&&s.unref()}function c(){s||(l(i),i=Math.min(i*2,Kg))}function d(u,p=!1){return P(this,null,function*(){var f,m;if(!p&&Vl(u,["replay_event","replay_recording"]))return yield a.push(u),l(es),{};try{if(n.shouldSend&&(yield n.shouldSend(u))===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let g=yield r.send(u),y=es;if(g){if((f=g.headers)!=null&&f["retry-after"])y=Nu(g.headers["retry-after"]);else if((m=g.headers)!=null&&m["x-sentry-rate-limits"])y=6e4;else if((g.statusCode||0)>=400)return g}return l(y),i=ts,g}catch(g){if(yield o(u,g,i))return p?yield a.unshift(u):yield a.push(u),c(),t("Error sending. Event queued.",g),{};throw g}})}return n.flushAtStartup&&c(),{send:d,flush:u=>(u===void 0&&(i=ts,l(es)),r.flush(u))}}}function Du(e,t){let n;return Bt(e,(r,a)=>(t.includes(a)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function Jg(e,t){return n=>{let r=e(n);return E(h({},r),{send:a=>P(this,null,function*(){let i=Du(a,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(a)})})}}function Xg(e,t){return ut(t?E(h({},e[0]),{dsn:t}):e[0],e[1])}function Pu(e,t){return n=>{let r=e(n),a=new Map;function i(l,c){let d=c?`${l}:${c}`:l,u=a.get(d);if(!u){let p=Xc(l);if(!p)return;let f=Su(p,n.tunnel);u=c?Jg(e,c)(E(h({},n),{url:f})):e(E(h({},n),{url:f})),a.set(d,u)}return[l,u]}function s(l){return P(this,null,function*(){function c(p){let f=p!=null&&p.length?p:["event"];return Du(l,f)}let d=t({envelope:l,getEvent:c}).map(p=>typeof p=="string"?i(p,void 0):i(p.dsn,p.release)).filter(p=>!!p),u=d.length?d:[["",r]];return(yield Promise.all(u.map(([p,f])=>f.send(Xg(l,p)))))[0]})}function o(l){return P(this,null,function*(){let c=[...a.values(),r];return(yield Promise.all(c.map(d=>d.flush(l)))).every(d=>d)})}return{send:s,flush:o}}}function Da(e,t){let n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return Qg(e,n)||Zg(e,r)}function Zg(e,t){return t?lc(e)===lc(t):!1}function Qg(e,t){return t?e.includes(t.host):!1}function lc(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function zs(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Fu=zs;function $u(e){var t;((t=e.user)==null?void 0:t.ip_address)===void 0&&(e.user=E(h({},e.user),{ip_address:"{{auto}}"}))}function Uu(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs=E(h({},e.attrs),{ip_address:"{{auto}}"})):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Bu(e,t,n=[t],r="npm"){let a=e._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:at})),version:at}),e._metadata=a}function Rr(e={}){let t=T();if(!Us()||!t)return{};let n=xt(),r=Ht(n);if(r.getTraceData)return r.getTraceData(e);let a=U(),i=e.span||de(),s=i?Ts(i):e_(a),o=i?Ve(i):Rs(t,a),l=Hc(o);return jc.test(s)?{"sentry-trace":s,baggage:l}:(_.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function e_(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return zc(t,r,n)}var t_=100;function Ke(e,t){let n=T(),r=me();if(!n)return;let{beforeBreadcrumb:a=null,maxBreadcrumbs:i=t_}=n.getOptions();if(i<=0)return;let s=h({timestamp:yr()},e),o=a?Ct(()=>a(s,t)):s;o!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",o,t),r.addBreadcrumb(o,i))}var cc,n_="FunctionToString",uc=new WeakMap,r_=()=>({name:n_,setupOnce(){cc=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=gr(this),n=uc.has(T())&&t!==void 0?t:this;return cc.apply(n,e)}}catch(e){}},setup(e){uc.set(e,!0)}}),Pa=r_,a_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],i_="EventFilters",qs=(e={})=>{let t;return{name:i_,setup(n){let r=n.getOptions();t=dc(e,r)},processEvent(n,r,a){if(!t){let i=a.getOptions();t=dc(e,i)}return s_(n,t)?null:n}}},Fa=(e={})=>E(h({},qs(e)),{name:"InboundFilters"});function dc(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:a_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function s_(e,t){if(e.type){if(e.type==="transaction"&&l_(e,t.ignoreTransactions))return A&&_.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ft(e)}`),!0}else{if(o_(e,t.ignoreErrors))return A&&_.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ft(e)}`),!0;if(p_(e))return A&&_.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ft(e)}`),!0;if(c_(e,t.denyUrls))return A&&_.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ft(e)}.
Url: ${ba(e)}`),!0;if(!u_(e,t.allowUrls))return A&&_.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ft(e)}.
Url: ${ba(e)}`),!0}return!1}function o_(e,t){return t!=null&&t.length?Tu(e).some(n=>Fe(n,t)):!1}function l_(e,t){if(!(t!=null&&t.length))return!1;let n=e.transaction;return n?Fe(n,t):!1}function c_(e,t){if(!(t!=null&&t.length))return!1;let n=ba(e);return n?Fe(n,t):!1}function u_(e,t){if(!(t!=null&&t.length))return!0;let n=ba(e);return n?Fe(n,t):!0}function d_(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ba(e){var t,n,r,a;try{let i=(a=(r=[...(n=(t=e.exception)==null?void 0:t.values)!=null?n:[]].reverse().find(s=>{var o,l,c;return((o=s.mechanism)==null?void 0:o.parent_id)===void 0&&((c=(l=s.stacktrace)==null?void 0:l.frames)==null?void 0:c.length)}))==null?void 0:r.stacktrace)==null?void 0:a.frames;return i?d_(i):null}catch(i){return A&&_.error(`Cannot extract url for event ${Ft(e)}`),null}}function p_(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function Hu(e,t,n,r,a,i){var o;if(!((o=a.exception)!=null&&o.values)||!i||!kt(i.originalException,Error))return;let s=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;s&&(a.exception.values=fs(e,t,r,i.originalException,n,a.exception.values,s,0))}function fs(e,t,n,r,a,i,s,o){if(i.length>=n+1)return i;let l=[...i];if(kt(r[a],Error)){pc(s,o);let c=e(t,r[a]),d=l.length;fc(c,a,d,o),l=fs(e,t,n,r[a],a,[c,...l],c,d)}return Array.isArray(r.errors)&&r.errors.forEach((c,d)=>{if(kt(c,Error)){pc(s,o);let u=e(t,c),p=l.length;fc(u,`errors[${d}]`,p,o),l=fs(e,t,n,c,a,[u,...l],u,p)}}),l}function pc(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=E(h(h({},e.mechanism),e.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:t})}function fc(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=E(h({},e.mechanism),{type:"chained",source:t,exception_id:n,parent_id:r})}var ju=new Map,hc=new Set;function f_(e){if(N._sentryModuleMetadata)for(let t of Object.keys(N._sentryModuleMetadata)){let n=N._sentryModuleMetadata[t];if(hc.has(t))continue;hc.add(t);let r=e(t);for(let a of r.reverse())if(a.filename){ju.set(a.filename,n);break}}}function h_(e,t){return f_(e),ju.get(t)}function zu(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let a=h_(e,r.filename);a&&(r.module_metadata=a)}})}catch(n){}}function qu(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch(t){}}var Wu=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{Bt(t,(n,r)=>{if(r==="event"){let a=Array.isArray(n)?n[1]:void 0;a&&(qu(a),n[1]=a)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;zu(n,t)})}});function $a(e){let t="console";lt(t,e),ct(t,m_)}function m_(){"console"in N&&cr.forEach(function(e){e in N.console&&we(N.console,e,function(t){return ma[e]=t,function(...n){var r;De("console",{args:n,level:e}),(r=ma[e])==null||r.apply(N.console,n)}})})}function Mr(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var g_="CaptureConsole",__=(e={})=>{var r;let t=e.levels||cr,n=(r=e.handled)!=null?r:!0;return{name:g_,setup(a){"console"in N&&$a(({args:i,level:s})=>{T()!==a||!t.includes(s)||y_(i,s,n)})}}},Gu=__;function y_(e,t,n){let r={level:Mr(t),extra:{arguments:e}};$e(a=>{if(a.addEventProcessor(o=>(o.logger="console",st(o,{handled:n,type:"console"}),o)),t==="assert"){if(!e[0]){let o=`Assertion failed: ${wn(e.slice(1)," ")||"console.assert"}`;a.setExtra("arguments",e.slice(1)),Tn(o,r)}return}let i=e.find(o=>o instanceof Error);if(i){gt(i,r);return}let s=wn(e," ");Tn(s,r)})}var v_="Dedupe",b_=()=>{let e;return{name:v_,processEvent(t){if(t.type)return t;try{if(S_(t,e))return A&&_.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}},Ua=b_;function S_(e,t){return t?!!(w_(e,t)||E_(e,t)):!1}function w_(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Vu(e,t)||!Yu(e,t))}function E_(e,t){let n=mc(t),r=mc(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Vu(e,t)||!Yu(e,t))}function Yu(e,t){let n=os(e),r=os(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let a=0;a<r.length;a++){let i=r[a],s=n[a];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function Vu(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch(a){return!1}}function mc(e){var t;return((t=e.exception)==null?void 0:t.values)&&e.exception.values[0]}var k_="ExtraErrorData",T_=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:k_,processEvent(r,a,i){let{maxValueLength:s=250}=i.getOptions();return I_(r,a,t,n,s)}}},Ku=T_;function I_(e,t={},n,r,a){if(!t.originalException||!Et(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=x_(t.originalException,r,a);if(s){let o=h({},e.contexts),l=Ye(s,n);return $t(l)&&(Me(l,"__sentry_skip_normalization__",!0),o[i]=l),E(h({},e),{contexts:o})}return e}function x_(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],a={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];a[i]=Et(s)||typeof s=="string"?Sn(`${s}`,n):s}if(t&&e.cause!==void 0&&(a.cause=Et(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let o=i[s];a[s]=Et(o)?o.toString():o}}return a}catch(r){A&&_.error("Unable to extract extra data from the Error object:",r)}return null}function C_(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let a=e[r];a==="."?e.splice(r,1):a===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var R_=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function M_(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=R_.exec(t);return n?n.slice(1):[]}function gc(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let a=r>=0?e[r]:"/";a&&(t=`${a}/${t}`,n=a.charAt(0)==="/")}return t=C_(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function _c(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function A_(e,t){e=gc(e).slice(1),t=gc(t).slice(1);let n=_c(e.split("/")),r=_c(t.split("/")),a=Math.min(n.length,r.length),i=a;for(let o=0;o<a;o++)if(n[o]!==r[o]){i=o;break}let s=[];for(let o=i;o<n.length;o++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function O_(e,t){let n=M_(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var N_="RewriteFrames",Ju=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in N&&!!N.window,a=e.iteratee||L_({isBrowser:r,root:t,prefix:n});function i(o){try{return E(h({},o),{exception:E(h({},o.exception),{values:o.exception.values.map(l=>h(h({},l),l.stacktrace&&{stacktrace:s(l.stacktrace)}))})})}catch(l){return o}}function s(o){return E(h({},o),{frames:(o==null?void 0:o.frames)&&o.frames.map(l=>a(l))})}return{name:N_,processEvent(o){let l=o;return o.exception&&Array.isArray(o.exception.values)&&(l=i(l)),l}}};function L_({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let a=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(a||i){let s=a?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,o=t?A_(t,s):O_(s);r.filename=`${n}${o}`}return r}}var D_=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],P_=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],F_={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},Xu=["select","insert","upsert","update","delete"];function Ba(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch(t){}}function Ha(e){try{return e.__SENTRY_INSTRUMENTED__}catch(t){return!1}}function $_(e,t={}){var n;switch(e){case"GET":return"select";case"POST":return(n=t.Prefer)!=null&&n.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function U_(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),a;return n!=null&&n.startsWith("fts")?a="textSearch":n!=null&&n.startsWith("plfts")?a="textSearch[plain]":n!=null&&n.startsWith("phfts")?a="textSearch[phrase]":n!=null&&n.startsWith("wfts")?a="textSearch[websearch]":a=n&&F_[n]||"filter",`${a}(${e}, ${r.join(".")})`}function yc(e,t=!1){return new Proxy(e,{apply(n,r,a){return Ca({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[ae]:"auto.db.supabase",[Ne]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,a).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),gt(s.error,{mechanism:{handled:!1}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),gt(s,{mechanism:{handled:!1}}),s}).then(...a))}})}function B_(e){let t=e.auth;if(!(!t||Ha(e.auth))){for(let n of D_){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=yc(r))}for(let n of P_){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=yc(r,!0))}Ba(e.auth)}}function H_(e){Ha(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let a=Reflect.apply(t,n,r),i=a.constructor;return z_(i),a}}),Ba(e.prototype.from))}function j_(e){Ha(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){var f;let a=Xu,i=n,s=$_(i.method,i.headers);if(!a.includes(s)||!((f=i==null?void 0:i.url)!=null&&f.pathname)||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let o=i.url.pathname.split("/"),l=o.length>0?o[o.length-1]:"",c=[];for(let[m,g]of i.url.searchParams.entries())c.push(U_(m,g));let d=Object.create(null);if($t(i.body))for(let[m,g]of Object.entries(i.body))d[m]=g;let u=`${s==="select"?"":`${s}${d?"(...) ":""}`}${c.join(" ")} from(${l})`,p={"db.table":l,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[ae]:"auto.db.supabase",[Ne]:"db"};return c.length&&(p["db.query"]=c),Object.keys(d).length&&(p["db.body"]=d),Ca({name:u,attributes:p},m=>Reflect.apply(t,n,[]).then(g=>{if(m&&(g&&typeof g=="object"&&"status"in g&&nn(m,g.status||500),m.end()),g.error){let w=new Error(g.error.message);g.error.code&&(w.code=g.error.code),g.error.details&&(w.details=g.error.details);let M={};c.length&&(M.query=c),Object.keys(d).length&&(M.body=d),gt(w,{contexts:{supabase:M}})}let y={type:"supabase",category:`db.${s}`,message:u},v={};return c.length&&(v.query=c),Object.keys(d).length&&(v.body=d),Object.keys(v).length&&(y.data=v),Ke(y),g},g=>{throw m&&(nn(m,500),m.end()),g}).then(...r))}}),Ba(e.prototype.then))}function z_(e){for(let t of Xu)Ha(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,a){let i=Reflect.apply(n,r,a),s=i.constructor;return A&&_.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),j_(s),i}}),Ba(e.prototype[t]))}var Ws=e=>{if(!e){A&&_.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;H_(t),B_(e)},q_="Supabase",W_=e=>({setupOnce(){Ws(e)},name:q_}),Zu=e=>W_(e.supabaseClient),G_=10,Y_="ZodErrors";function V_(e){return Et(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function K_(e){return E(h({},e),{path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0})}function J_(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function X_(e){let t=new Set;for(let r of e.issues){let a=J_(r.path);a.length>0&&t.add(a)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let a=e.issues[0];a!==void 0&&"expected"in a&&typeof a.expected=="string"&&(r=a.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${Sn(n.join(", "),100)}`}function Z_(e,t=!1,n,r){var a;if(!((a=n.exception)!=null&&a.values)||!r.originalException||!V_(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(K_);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),E(h({},n),{exception:E(h({},n.exception),{values:[E(h({},n.exception.values[0]),{value:X_(r.originalException)}),...n.exception.values.slice(1)]}),extra:E(h({},n.extra),{"zoderror.issues":i.slice(0,e)})})}catch(i){return E(h({},n),{extra:E(h({},n.extra),{"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:i instanceof Error?`${i.name}: ${i.message}
${i.stack}`:"unknown"}})})}}var Q_=(e={})=>{var n;let t=(n=e.limit)!=null?n:G_;return{name:Y_,processEvent(r,a){return Z_(t,e.saveZodIssuesAsAttachment,r,a)}}},Qu=Q_,ed=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{Bt(n,(r,a)=>{if(a==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(qu(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;zu(r,n)})},processEvent(t){let n=ey(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](a=>!a.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags=E(h({},t.tags),{third_party_code:!0})}}return t}});function ey(e){let t=os(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(vc)).map(r=>r.slice(vc.length)):[])}var vc="_sentryBundlerPluginAppKey:";var ty="thismessage:/";function td(e){return"isRelative"in e}function Gs(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t!=null?t:n?ty:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;let a=new URL(e,r);return n?{isRelative:n,pathname:a.pathname,search:a.search,hash:a.hash}:a}catch(a){}}function ny(e){if(td(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function _t(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function ja(e){return e.split(/[?#]/,1)[0]}function nd(e,t,n,r,a="auto.http.browser"){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,o=It()&&t(s);if(e.endTimestamp&&o){let u=e.fetchData.__span;if(!u)return;let p=r[u];p&&(ay(p,e),delete r[u]);return}let l=!!de(),c=o&&l?Rt(sy(s,i,a)):new mt;if(e.fetchData.__span=c.spanContext().spanId,r[c.spanContext().spanId]=c,n(e.fetchData.url)){let u=e.args[0],p=e.args[1]||{},f=ry(u,p,It()&&l?c:void 0);f&&(e.args[1]=p,p.headers=f)}let d=T();if(d){let u={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",c,u)}return c}function ry(e,t,n){let r=Rr({span:n}),a=r["sentry-trace"],i=r.baggage;if(!a)return;let s=t.headers||(Ic(e)?e.headers:void 0);if(s)if(iy(s)){let o=new Headers(s);if(o.get("sentry-trace")||o.set("sentry-trace",a),i){let l=o.get("baggage");l?da(l)||o.set("baggage",`${l},${i}`):o.set("baggage",i)}return o}else if(Array.isArray(s)){let o=[...s];s.find(c=>c[0]==="sentry-trace")||o.push(["sentry-trace",a]);let l=s.find(c=>c[0]==="baggage"&&da(c[1]));return i&&!l&&o.push(["baggage",i]),o}else{let o="sentry-trace"in s?s["sentry-trace"]:void 0,l="baggage"in s?s.baggage:void 0,c=l?Array.isArray(l)?[...l]:[l]:[],d=l&&(Array.isArray(l)?l.find(u=>da(u)):da(l));return i&&!d&&c.push(i),E(h({},s),{"sentry-trace":o!=null?o:a,baggage:c.length>0?c.join(","):void 0})}else return h({},r)}function ay(e,t){var n;if(t.response){nn(e,t.response.status);let r=((n=t.response)==null?void 0:n.headers)&&t.response.headers.get("content-length");if(r){let a=parseInt(r);a>0&&e.setAttribute("http.response_content_length",a)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function da(e){return e.split(",").some(t=>t.trim().startsWith(ws))}function iy(e){return typeof Headers<"u"&&kt(e,Headers)}function sy(e,t,n){let r=Gs(e);return{name:r?`${t} ${ny(r)}`:t,attributes:oy(e,r,t,n)}}function oy(e,t,n,r){let a={url:e,type:"fetch","http.method":n,[ae]:r,[Ne]:"http.client"};return t&&(td(t)||(a["http.url"]=t.href,a["server.address"]=t.host),t.search&&(a["http.query"]=t.search),t.hash&&(a["http.fragment"]=t.hash)),a}function za(e,t={},n=U()){let{message:r,name:a,email:i,url:s,source:o,associatedEventId:l,tags:c}=e,d={contexts:{feedback:{contact_email:i,name:a,message:r,url:s,source:o,associated_event_id:l}},type:"feedback",level:"info",tags:c},u=(n==null?void 0:n.getClient())||T();return u&&u.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var ly="ConsoleLogs",bc={[ae]:"auto.console.logging"},cy=(e={})=>{let t=e.levels||cr;return{name:ly,setup(n){var r;if(!((r=n.getOptions()._experiments)!=null&&r.enableLogs)){A&&_.warn("`_experiments.enableLogs` is not enabled, ConsoleLogs integration disabled");return}$a(({args:a,level:i})=>{if(T()!==n||!t.includes(i))return;if(i==="assert"){if(!a[0]){let o=a.slice(1),l=o.length>0?`Assertion failed: ${Sc(o)}`:"Assertion failed";va({level:"error",message:l,attributes:bc})}return}let s=i==="log";va({level:s?"info":i,message:Sc(a),severityNumber:s?10:void 0,attributes:bc})})}}},rd=cy;function Sc(e){return"util"in N&&typeof N.util.format=="function"?N.util.format(...e):wn(e," ")}function Ys(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var In=N;function ad(){return"history"in In&&!!In.history}function uy(){if(!("fetch"in In))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Sa(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Vs(){var n;if(typeof EdgeRuntime=="string")return!0;if(!uy())return!1;if(Sa(In.fetch))return!0;let e=!1,t=In.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=Sa(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){A&&_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function id(){return"ReportingObserver"in In}function Nn(e,t){let n="fetch";lt(n,e),ct(n,()=>od(void 0,t))}function sd(e){let t="fetch-body-resolved";lt(t,e),ct(t,()=>od(py))}function od(e,t=!1){t&&!Vs()||we(N,"fetch",function(n){return function(...r){let a=new Error,{method:i,url:s}=fy(r),o={args:r,fetchData:{method:i,url:s},startTimestamp:_e()*1e3,virtualError:a,headers:hy(r)};return e||De("fetch",h({},o)),n.apply(N,r).then(l=>P(this,null,function*(){return e?e(l):De("fetch",E(h({},o),{endTimestamp:_e()*1e3,response:l})),l}),l=>{if(De("fetch",E(h({},o),{endTimestamp:_e()*1e3,error:l})),Et(l)&&l.stack===void 0&&(l.stack=a.stack,Me(l,"framesToPop",1)),l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{let c=new URL(o.fetchData.url);l.message=`${l.message} (${c.host})`}catch(c){}throw l})}})}function dy(e,t){return P(this,null,function*(){if(e!=null&&e.body){let n=e.body,r=n.getReader(),a=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:o}=yield r.read();clearTimeout(s),o&&(t(),i=!1)}catch(o){i=!1}finally{clearTimeout(s)}}clearTimeout(a),r.releaseLock(),n.cancel().then(null,()=>{})}})}function py(e){let t;try{t=e.clone()}catch(n){return}dy(t,()=>{De("fetch-body-resolved",{endTimestamp:_e()*1e3,response:e})})}function hs(e,t){return!!e&&typeof e=="object"&&!!e[t]}function wc(e){return typeof e=="string"?e:e?hs(e,"url")?e.url:e.toString?e.toString():"":""}function fy(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:wc(n),method:hs(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:wc(t),method:hs(t,"method")?String(t.method).toUpperCase():"GET"}}function hy(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Ic(t))return new Headers(t.headers)}catch(r){}}function my(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ld(){return"npm"}function gy(){return!my()&&Object.prototype.toString.call(typeof Gi<"u"?Gi:0)==="[object process]"}function Ar(){return typeof window<"u"&&(!gy()||_y())}function _y(){var e;return((e=N.process)==null?void 0:e.type)==="renderer"}var Lr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,yy=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Dn=(e,t,n,r)=>{let a,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(a||0),(i||a===void 0)&&(a=t.value,t.delta=i,t.rating=yy(t.value,n),e(t)))}},Y=N,vy=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,Dr=(e=!0)=>{var n,r;let t=(r=(n=Y.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Pr=()=>{var e;return((e=Dr())==null?void 0:e.activationStart)||0},Pn=(e,t)=>{var a,i;let n=Dr(),r="navigate";return n&&((a=Y.document)!=null&&a.prerendering||Pr()>0?r="prerender":(i=Y.document)!=null&&i.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:vy(),navigationType:r}},sn=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(a=>{Promise.resolve().then(()=>{t(a.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(r){}},Fn=e=>{let t=n=>{var r;(n.type==="pagehide"||((r=Y.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};Y.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Xa=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Or=-1,by=()=>Y.document.visibilityState==="hidden"&&!Y.document.prerendering?0:1/0,Ka=e=>{Y.document.visibilityState==="hidden"&&Or>-1&&(Or=e.type==="visibilitychange"?e.timeStamp:0,wy())},Sy=()=>{addEventListener("visibilitychange",Ka,!0),addEventListener("prerenderingchange",Ka,!0)},wy=()=>{removeEventListener("visibilitychange",Ka,!0),removeEventListener("prerenderingchange",Ka,!0)},Za=()=>(Y.document&&Or<0&&(Or=by(),Sy()),{get firstHiddenTime(){return Or}}),Fr=e=>{var t;(t=Y.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Ey=[1800,3e3],ky=(e,t={})=>{Fr(()=>{let n=Za(),r=Pn("FCP"),a,i=sn("paint",s=>{s.forEach(o=>{o.name==="first-contentful-paint"&&(i.disconnect(),o.startTime<n.firstHiddenTime&&(r.value=Math.max(o.startTime-Pr(),0),r.entries.push(o),a(!0)))})});i&&(a=Dn(e,r,Ey,t.reportAllChanges))})},Ty=[.1,.25],Iy=(e,t={})=>{ky(Xa(()=>{let n=Pn("CLS",0),r,a=0,i=[],s=l=>{l.forEach(c=>{if(!c.hadRecentInput){let d=i[0],u=i[i.length-1];a&&d&&u&&c.startTime-u.startTime<1e3&&c.startTime-d.startTime<5e3?(a+=c.value,i.push(c)):(a=c.value,i=[c])}}),a>n.value&&(n.value=a,n.entries=i,r())},o=sn("layout-shift",s);o&&(r=Dn(e,n,Ty,t.reportAllChanges),Fn(()=>{s(o.takeRecords()),r(!0)}),setTimeout(r,0))}))},xy=[100,300],Cy=(e,t={})=>{Fr(()=>{let n=Za(),r=Pn("FID"),a,i=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),a(!0))},s=l=>{l.forEach(i)},o=sn("first-input",s);a=Dn(e,r,xy,t.reportAllChanges),o&&Fn(Xa(()=>{s(o.takeRecords()),o.disconnect()}))})},hd=0,Ks=1/0,qa=0,Ry=e=>{e.forEach(t=>{t.interactionId&&(Ks=Math.min(Ks,t.interactionId),qa=Math.max(qa,t.interactionId),hd=qa?(qa-Ks)/7+1:0)})},to,My=()=>to?hd:performance.interactionCount||0,Ay=()=>{"interactionCount"in performance||to||(to=sn("event",Ry,{type:"event",buffered:!0,durationThreshold:0}))},Mt=[],Js=new Map,Oy=40,Ny=0,Ly=()=>My()-Ny,Dy=()=>{let e=Math.min(Mt.length-1,Math.floor(Ly()/50));return Mt[e]},Xs=10,Py=[],Fy=e=>{var r;if(Py.forEach(a=>a(e)),!(e.interactionId||e.entryType==="first-input"))return;let t=Mt[Mt.length-1],n=Js.get(e.interactionId);if(n||Mt.length<Xs||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===((r=n.entries[0])==null?void 0:r.startTime)&&n.entries.push(e);else{let a={id:e.interactionId,latency:e.duration,entries:[e]};Js.set(a.id,a),Mt.push(a)}Mt.sort((a,i)=>i.latency-a.latency),Mt.length>Xs&&Mt.splice(Xs).forEach(a=>Js.delete(a.id))}},md=e=>{var r;let t=Y.requestIdleCallback||Y.setTimeout,n=-1;return e=Xa(e),((r=Y.document)==null?void 0:r.visibilityState)==="hidden"?e():(n=t(e),Fn(e)),n},$y=[200,500],Uy=(e,t={})=>{"PerformanceEventTiming"in Y&&"interactionId"in PerformanceEventTiming.prototype&&Fr(()=>{Ay();let n=Pn("INP"),r,a=s=>{md(()=>{s.forEach(Fy);let o=Dy();o&&o.latency!==n.value&&(n.value=o.latency,n.entries=o.entries,r())})},i=sn("event",a,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:Oy});r=Dn(e,n,$y,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Fn(()=>{a(i.takeRecords()),r(!0)}))})},By=[2500,4e3],cd={},Hy=(e,t={})=>{Fr(()=>{let n=Za(),r=Pn("LCP"),a,i=o=>{t.reportAllChanges||(o=o.slice(-1)),o.forEach(l=>{l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Pr(),0),r.entries=[l],a())})},s=sn("largest-contentful-paint",i);if(s){a=Dn(e,r,By,t.reportAllChanges);let o=Xa(()=>{cd[r.id]||(i(s.takeRecords()),s.disconnect(),cd[r.id]=!0,a(!0))});["keydown","click"].forEach(l=>{Y.document&&addEventListener(l,()=>md(o),{once:!0,capture:!0})}),Fn(o)}})},jy=[800,1800],no=e=>{var t,n;(t=Y.document)!=null&&t.prerendering?Fr(()=>no(e)):((n=Y.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>no(e),!0):setTimeout(e,0)},zy=(e,t={})=>{let n=Pn("TTFB"),r=Dn(e,n,jy,t.reportAllChanges);no(()=>{let a=Dr();a&&(n.value=Math.max(a.responseStart-Pr(),0),n.entries=[a],r(!0))})},Nr={},Ja={},gd,_d,yd,vd,bd;function Qa(e,t=!1){return $r("cls",e,Wy,gd,t)}function io(e,t=!1){return $r("lcp",e,Yy,yd,t)}function so(e){return $r("fid",e,Gy,_d)}function qy(e){return $r("ttfb",e,Vy,vd)}function oo(e){return $r("inp",e,Ky,bd)}function Wt(e,t){return Sd(e,t),Ja[e]||(Jy(e),Ja[e]=!0),wd(e,t)}function $n(e,t){let n=Nr[e];if(n!=null&&n.length)for(let r of n)try{r(t)}catch(a){Lr&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ot(r)}
Error:`,a)}}function Wy(){return Iy(e=>{$n("cls",{metric:e}),gd=e},{reportAllChanges:!0})}function Gy(){return Cy(e=>{$n("fid",{metric:e}),_d=e})}function Yy(){return Hy(e=>{$n("lcp",{metric:e}),yd=e},{reportAllChanges:!0})}function Vy(){return zy(e=>{$n("ttfb",{metric:e}),vd=e})}function Ky(){return Uy(e=>{$n("inp",{metric:e}),bd=e})}function $r(e,t,n,r,a=!1){Sd(e,t);let i;return Ja[e]||(i=n(),Ja[e]=!0),r&&t({metric:r}),wd(e,t,a?i:void 0)}function Jy(e){let t={};e==="event"&&(t.durationThreshold=0),sn(e,n=>{$n(e,{entries:n})},t)}function Sd(e,t){Nr[e]=Nr[e]||[],Nr[e].push(t)}function wd(e,t,n){return()=>{n&&n();let r=Nr[e];if(!r)return;let a=r.indexOf(t);a!==-1&&r.splice(a,1)}}function Xy(e){return"duration"in e}function Zs(e){return typeof e=="number"&&isFinite(e)}function At(e,t,n,a){var r=Dt(a,[]);let i=F(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),an(e,()=>{let s=Rt(h({startTime:t},r));return s&&s.end(n),s})}function Ed(e){var g,y;let t=T();if(!t)return;let{name:n,transaction:r,attributes:a,startTime:i}=e,{release:s,environment:o,sendDefaultPii:l}=t.getOptions(),c=(g=t.getIntegrationByName("Replay"))==null?void 0:g.getReplayId(),d=U(),u=d.getUser(),p=u!==void 0?u.email||u.id||u.ip_address:void 0,f;try{f=d.getScopeData().contexts.profile.profile_id}catch(v){}let m=h({release:s,environment:o,user:p||void 0,profile_id:f||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":(y=Y.navigator)==null?void 0:y.userAgent,"client.address":l?"{{auto}}":void 0},a);return Rt({name:n,attributes:m,startTime:i,experimental:{standalone:!0}})}function lo(){return Y.addEventListener&&Y.performance}function Se(e){return e/1e3}function co(e){let t="unknown",n="unknown",r="";for(let a of e){if(a==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(a))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=a}return r===e&&(t=r),{name:t,version:n}}function Zy(){let e=0,t,n;if(!ev())return;let r=!1;function a(){r||(r=!0,n&&Qy(e,t,n),i())}let i=Qa(({metric:s})=>{let o=s.entries[s.entries.length-1];o&&(e=s.value,t=o)},!0);Fn(()=>{a()}),setTimeout(()=>{let s=T();if(!s)return;let o=s.on("startNavigationSpan",()=>{a(),o==null||o()}),l=de();if(l){let c=ue(l);F(c).op==="pageload"&&(n=c.spanContext().spanId)}},0)}function Qy(e,t,n){var l;Lr&&_.log(`Sending CLS span (${e})`);let r=Se((be()||0)+((t==null?void 0:t.startTime)||0)),a=U().getScopeData().transactionName,i=t?ze((l=t.sources[0])==null?void 0:l.node):"Layout shift",s={[ae]:"auto.http.browser.cls",[Ne]:"ui.webvital.cls",[rn]:(t==null?void 0:t.duration)||0,"sentry.pageload.span_id":n},o=Ed({name:i,transaction:a,attributes:s,startTime:r});o&&(o.addEvent("cls",{[Mn]:"",[An]:e}),o.end(r))}function ev(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch(e){return!1}}var tv=2147483647,ud=0,Ae={},We,Ln;function kd({recordClsStandaloneSpans:e}){let t=lo();if(t&&be()){t.mark&&Y.performance.mark("sentry-tracing-init");let n=av(),r=rv(),a=iv(),i=e?Zy():nv();return()=>{n(),r(),a(),i==null||i()}}return()=>{}}function Td(){Wt("longtask",({entries:e})=>{let t=de();if(!t)return;let{op:n,start_timestamp:r}=F(t);for(let a of e){let i=Se(be()+a.startTime),s=Se(a.duration);n==="navigation"&&r&&i<r||At(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ae]:"auto.ui.browser.metrics"}})}})}function Id(){new PerformanceObserver(e=>{let t=de();if(t)for(let n of e.getEntries()){if(!n.scripts[0])continue;let r=Se(be()+n.startTime),{start_timestamp:a,op:i}=F(t);if(i==="navigation"&&a&&r<a)continue;let s=Se(n.duration),o={[ae]:"auto.ui.browser.metrics"},l=n.scripts[0],{invoker:c,invokerType:d,sourceURL:u,sourceFunctionName:p,sourceCharPosition:f}=l;o["browser.script.invoker"]=c,o["browser.script.invoker_type"]=d,u&&(o["code.filepath"]=u),p&&(o["code.function"]=p),f!==-1&&(o["browser.script.source_char_position"]=f),At(t,r,r+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:o})}}).observe({type:"long-animation-frame",buffered:!0})}function xd(){Wt("event",({entries:e})=>{let t=de();if(t){for(let n of e)if(n.name==="click"){let r=Se(be()+n.startTime),a=Se(n.duration),i={name:ze(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ae]:"auto.ui.browser.metrics"}},s=ka(n.target);s&&(i.attributes["ui.component_name"]=s),At(t,r,r+a,i)}}})}function nv(){return Qa(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Ae.cls={value:e.value,unit:""},Ln=t)},!0)}function rv(){return io(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Ae.lcp={value:e.value,unit:"millisecond"},We=t)},!0)}function av(){return so(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=Se(be()),r=Se(t.startTime);Ae.fid={value:e.value,unit:"millisecond"},Ae["mark.fid"]={value:n+r,unit:"second"}})}function iv(){return qy(({metric:e})=>{e.entries[e.entries.length-1]&&(Ae.ttfb={value:e.value,unit:"millisecond"})})}function Cd(e,t){let n=lo(),r=be();if(!(n!=null&&n.getEntries)||!r)return;let a=Se(r),i=n.getEntries(),{op:s,start_timestamp:o}=F(e);if(i.slice(ud).forEach(l=>{let c=Se(l.startTime),d=Se(Math.max(0,l.duration));if(!(s==="navigation"&&o&&a+c<o))switch(l.entryType){case"navigation":{ov(e,l,a);break}case"mark":case"paint":case"measure":{sv(e,l,c,d,a,t.ignorePerformanceApiSpans);let u=Za(),p=l.startTime<u.firstHiddenTime;l.name==="first-paint"&&p&&(Ae.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&p&&(Ae.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{uv(e,l,l.name,c,d,a,t.ignoreResourceSpans);break}}}),ud=Math.max(i.length-1,0),dv(e),s==="pageload"){fv(Ae);let l=Ae["mark.fid"];l&&Ae.fid&&(At(e,l.value,l.value+Se(Ae.fid.value),{name:"first input delay",op:"ui.action",attributes:{[ae]:"auto.ui.browser.metrics"}}),delete Ae["mark.fid"]),(!("fcp"in Ae)||!t.recordClsOnPageloadSpan)&&delete Ae.cls,Object.entries(Ae).forEach(([c,d])=>{xa(c,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",a),e.setAttribute("performance.activationStart",Pr()),pv(e)}We=void 0,Ln=void 0,Ae={}}function sv(e,t,n,r,a,i){if(["mark","measure"].includes(t.entryType)&&Fe(t.name,i))return;let s=Dr(!1),o=Se(s?s.requestStart:0),l=a+Math.max(n,o),c=a+n,d=c+r,u={[ae]:"auto.resource.browser.metrics"};l!==c&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=l),l<=d&&At(e,l,d,{name:t.name,op:t.entryType,attributes:u})}function ov(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Wa(e,t,r,n)}),Wa(e,t,"secureConnection",n,"TLS/SSL"),Wa(e,t,"fetch",n,"cache"),Wa(e,t,"domainLookup",n,"DNS"),cv(e,t,n)}function Wa(e,t,n,r,a=n){let i=lv(n),s=t[i],o=t[`${n}Start`];!o||!s||At(e,r+Se(o),r+Se(s),{op:`browser.${a}`,name:t.name,attributes:h({[ae]:"auto.ui.browser.metrics"},n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{})})}function lv(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function cv(e,t,n){let r=n+Se(t.requestStart),a=n+Se(t.responseEnd),i=n+Se(t.responseStart);t.responseEnd&&(At(e,r,a,{op:"browser.request",name:t.name,attributes:{[ae]:"auto.ui.browser.metrics"}}),At(e,i,a,{op:"browser.response",name:t.name,attributes:{[ae]:"auto.ui.browser.metrics"}}))}function uv(e,t,n,r,a,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let o=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s!=null&&s.includes(o))return;let l=_t(n),c={[ae]:"auto.resource.browser.metrics"};Qs(c,t,"transferSize","http.response_transfer_size"),Qs(c,t,"encodedBodySize","http.response_content_length"),Qs(c,t,"decodedBodySize","http.decoded_response_content_length");let d=t.deliveryType;d!=null&&(c["http.response_delivery_type"]=d);let u=t.renderBlockingStatus;u&&(c["resource.render_blocking_status"]=u),l.protocol&&(c["url.scheme"]=l.protocol.split(":").pop()),l.host&&(c["server.address"]=l.host),c["url.same_origin"]=n.includes(Y.location.origin);let{name:p,version:f}=co(t.nextHopProtocol);c["network.protocol.name"]=p,c["network.protocol.version"]=f;let m=i+r,g=m+a;At(e,m,g,{name:n.replace(Y.location.origin,""),op:o,attributes:c})}function dv(e){let t=Y.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Zs(n.rtt)&&(Ae["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Zs(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Zs(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function pv(e){We&&(We.element&&e.setAttribute("lcp.element",ze(We.element)),We.id&&e.setAttribute("lcp.id",We.id),We.url&&e.setAttribute("lcp.url",We.url.trim().slice(0,200)),We.loadTime!=null&&e.setAttribute("lcp.loadTime",We.loadTime),We.renderTime!=null&&e.setAttribute("lcp.renderTime",We.renderTime),e.setAttribute("lcp.size",We.size)),Ln!=null&&Ln.sources&&Ln.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,ze(t.node)))}function Qs(e,t,n,r){let a=t[n];a!=null&&a<tv&&(e[r]=a)}function fv(e){let t=Dr(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}var hv=1e3,dd,ro,ao;function ei(e){let t="dom";lt(t,e),ct(t,mv)}function mv(){if(!Y.document)return;let e=De.bind(null,"dom"),t=pd(e,!0);Y.document.addEventListener("click",t,!1),Y.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var a,i;let r=(a=Y[n])==null?void 0:a.prototype;(i=r==null?void 0:r.hasOwnProperty)!=null&&i.call(r,"addEventListener")&&(we(r,"addEventListener",function(s){return function(o,l,c){if(o==="click"||o=="keypress")try{let d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},u=d[o]=d[o]||{refCount:0};if(!u.handler){let p=pd(e);u.handler=p,s.call(this,o,p,c)}u.refCount++}catch(d){}return s.call(this,o,l,c)}}),we(r,"removeEventListener",function(s){return function(o,l,c){if(o==="click"||o=="keypress")try{let d=this.__sentry_instrumentation_handlers__||{},u=d[o];u&&(u.refCount--,u.refCount<=0&&(s.call(this,o,u.handler,c),u.handler=void 0,delete d[o]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch(d){}return s.call(this,o,l,c)}}))})}function gv(e){if(e.type!==ro)return!1;try{if(!e.target||e.target._sentryId!==ao)return!1}catch(t){}return!0}function _v(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function pd(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=yv(n);if(_v(n.type,r))return;Me(n,"_sentryCaptured",!0),r&&!r._sentryId&&Me(r,"_sentryId",ke());let a=n.type==="keypress"?"input":n.type;gv(n)||(e({event:n,name:a,global:t}),ro=n.type,ao=r?r._sentryId:void 0),clearTimeout(dd),dd=Y.setTimeout(()=>{ao=void 0,ro=void 0},hv)}}function yv(e){try{return e.target}catch(t){return null}}var Ga;function Gt(e){let t="history";lt(t,e),ct(t,vv)}function vv(){if(Y.addEventListener("popstate",()=>{let t=Y.location.href,n=Ga;Ga=t,n!==t&&De("history",{from:n,to:t})}),!ad())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let a=Ga,i=bv(String(r));if(Ga=i,a===i)return t.apply(this,n);De("history",{from:a,to:i})}return t.apply(this,n)}}we(Y.history,"pushState",e),we(Y.history,"replaceState",e)}function bv(e){try{return new URL(e,Y.location.origin).toString()}catch(t){return e}}var Ya={};function Ur(e){let t=Ya[e];if(t)return t;let n=Y[e];if(Sa(n))return Ya[e]=n.bind(Y);let r=Y.document;if(r&&typeof r.createElement=="function")try{let a=r.createElement("iframe");a.hidden=!0,r.head.appendChild(a);let i=a.contentWindow;i!=null&&i[e]&&(n=i[e]),r.head.removeChild(a)}catch(a){Lr&&_.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,a)}return n&&(Ya[e]=n.bind(Y))}function uo(e){Ya[e]=void 0}function on(...e){return Ur("setTimeout")(...e)}var Ge="__sentry_xhr_v3__";function Un(e){let t="xhr";lt(t,e),ct(t,Sv)}function Sv(){if(!Y.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let a=new Error,i=_e()*1e3,s=je(r[0])?r[0].toUpperCase():void 0,o=wv(r[1]);if(!s||!o)return t.apply(n,r);n[Ge]={method:s,url:o,request_headers:{}},s==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let l=()=>{let c=n[Ge];if(c&&n.readyState===4){try{c.status_code=n.status}catch(u){}let d={endTimestamp:_e()*1e3,startTimestamp:i,xhr:n,virtualError:a};De("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,d,u){return l(),c.apply(d,u)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,d,u){let[p,f]=u,m=d[Ge];return m&&je(p)&&je(f)&&(m.request_headers[p.toLowerCase()]=f),c.apply(d,u)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let a=n[Ge];if(!a)return t.apply(n,r);r[0]!==void 0&&(a.body=r[0]);let i={startTimestamp:_e()*1e3,xhr:n};return De("xhr",i),t.apply(n,r)}})}function wv(e){if(je(e))return e;try{return e.toString()}catch(t){}}function po(e){return new URLSearchParams(e).toString()}function Bn(e,t=_){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[po(e)];if(!e)return[void 0]}catch(n){return Lr&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Lr&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Br(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var eo=[],Va=new Map,Ev=60;function Rd(){if(lo()&&be()){let e=kv();return()=>{e()}}return()=>{}}var fd={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function kv(){return oo(Tv)}var Tv=({metric:e})=>{if(e.value==null)return;let t=Se(e.value);if(t>Ev)return;let n=e.entries.find(f=>f.duration===e.value&&fd[f.name]);if(!n)return;let{interactionId:r}=n,a=fd[n.name],i=Se(be()+n.startTime),s=de(),o=s?ue(s):void 0,l=(r!=null?Va.get(r):void 0)||o,c=l?F(l).description:U().getScopeData().transactionName,d=ze(n.target),u={[ae]:"auto.http.browser.inp",[Ne]:`ui.interaction.${a}`,[rn]:n.duration},p=Ed({name:d,transaction:c,attributes:u,startTime:i});p&&(p.addEvent("inp",{[Mn]:"millisecond",[An]:e.value}),p.end(i+t))};function Md(){let e=({entries:t})=>{let n=de(),r=n&&ue(n);t.forEach(a=>{if(!Xy(a)||!r)return;let i=a.interactionId;if(i!=null&&!Va.has(i)){if(eo.length>10){let s=eo.shift();Va.delete(s)}eo.push(i),Va.set(i,r)}})};Wt("event",e),Wt("first-input",e)}var fe=N,Io="sentryReplaySession",Iv="replay_event",xo="Unable to send Replay",xv=3e5,Cv=9e5,Rv=5e3,Mv=5500,Av=6e4,Ov=5e3,Nv=3,Ad=15e4,ti=5e3,Lv=3e3,Dv=300,Co=2e7,Pv=4999,Fv=15e3,Od=36e5,$v=Object.defineProperty,Uv=(e,t,n)=>t in e?$v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nd=(e,t,n)=>Uv(e,typeof t!="symbol"?t+"":t,n),Te=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Te||{});function Bv(e){return e.nodeType===e.ELEMENT_NODE}function zr(e){var t;return((t=e==null?void 0:e.host)==null?void 0:t.shadowRoot)===e}function qr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Hv(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function jv(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function si(e){try{let t=e.rules||e.cssRules;return t?Hv(Array.from(t,rp).join("")):null}catch(t){return null}}function zv(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,a=r[n],i=r.getPropertyPriority(a);t+=`${a}:${r.getPropertyValue(a)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function rp(e){let t;if(Wv(e))try{t=si(e.styleSheet)||jv(e)}catch(n){}else if(Gv(e)){let n=e.cssText,r=e.selectorText.includes(":"),a=typeof e.style.all=="string"&&e.style.all;if(a&&(n=zv(e)),r&&(n=qv(n)),r||a)return n}return t||e.cssText}function qv(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Wv(e){return"styleSheet"in e}function Gv(e){return"selectorText"in e}var ap=class{constructor(){Nd(this,"idNodeMap",new Map),Nd(this,"nodeMetaMap",new WeakMap)}getId(e){var t,n;return e&&(n=(t=this.getMeta(e))==null?void 0:t.id)!=null?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Yv(){return new ap}function mi({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Gr({isMasked:e,element:t,value:n,maskInputFn:r}){let a=n||"";return e?(r&&(a=r(a,t)),"*".repeat(a.length)):a}function Yn(e){return e.toLowerCase()}function _o(e){return e.toUpperCase()}var Ld="__rrweb_original__";function Vv(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let a=0;a<e.height;a+=n){let i=t.getImageData,s=Ld in i?i[Ld]:i;if(new Uint32Array(s.call(t,r,a,Math.min(n,e.width-r),Math.min(n,e.height-a)).data.buffer).some(o=>o!==0))return!1}return!0}function Ro(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Yn(t):null}function oi(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function ip(e,t){var a,i;let n;try{n=new URL(e,t!=null?t:window.location.href)}catch(s){return null}let r=/\.([0-9a-z]+)(?:$)/i;return(i=(a=n.pathname.match(r))==null?void 0:a[1])!=null?i:null}var Dd={};function sp(e){let t=Dd[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);let i=a.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(a)}catch(a){}return Dd[e]=r.bind(window)}function yo(...e){return sp("setTimeout")(...e)}function op(...e){return sp("clearTimeout")(...e)}function lp(e){try{return e.contentDocument}catch(t){}}var Kv=1,Jv=new RegExp("[^a-z0-9-_:]"),Yr=-2;function Mo(){return Kv++}function Xv(e){if(e instanceof HTMLFormElement)return"form";let t=Yn(e.tagName);return Jv.test(t)?"div":t}function Zv(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Hn,Pd,Qv=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,eb=/^(?:[a-z+]+:)?\/\//i,tb=/^www\..*/i,nb=/^(data:)([^,]*),(.*)/i;function li(e,t){return(e||"").replace(Qv,(n,r,a,i,s,o)=>{let l=a||s||o,c=r||i||"";if(!l)return n;if(eb.test(l)||tb.test(l))return`url(${c}${l}${c})`;if(nb.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${Zv(t)+l}${c})`;let d=t.split("/"),u=l.split("/");d.pop();for(let p of u)p!=="."&&(p===".."?d.pop():d.push(p));return`url(${c}${d.join("/")}${c})`})}var rb=/^[^ \t\n\r\u000c]+/,ab=/^[, \t\n\r\u000c]+/;function ib(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,o=i.exec(t.substring(n));return o?(s=o[0],n+=s.length,s):""}let a=[];for(;r(ab),!(n>=t.length);){let i=r(rb);if(i.slice(-1)===",")i=ci(e,i.substring(0,i.length-1)),a.push(i);else{let s="";i=ci(e,i);let o=!1;for(;;){let l=t.charAt(n);if(l===""){a.push((i+s).trim());break}else if(o)l===")"&&(o=!1);else if(l===","){n+=1,a.push((i+s).trim());break}else l==="("&&(o=!0);s+=l,n+=1}}}return a.join(", ")}var Fd=new WeakMap;function ci(e,t){return!t||t.trim()===""?t:gi(e,t)}function sb(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function gi(e,t){let n=Fd.get(e);if(n||(n=e.createElement("a"),Fd.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function cp(e,t,n,r,a,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?ci(e,r):n==="srcset"?ib(e,r):n==="style"?li(r,gi(e)):t==="object"&&n==="data"?ci(e,r):typeof i=="function"?i(n,r,a):r)}function up(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function dp(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let a=e.classList.length;a--;){let i=e.classList[a];if(t.test(i))return!0}if(n)return e.matches(n)}catch(a){}return!1}function ob(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function ln(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ln(e.parentNode,t,n,r+1)}function qn(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(ob(r,e))return!0}return!!(t&&r.matches(t))}catch(a){return!1}}}function Vn(e,t,n,r,a,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let c=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(c))return!0}let o=-1,l=-1;if(i){if(l=ln(s,qn(r,a)),l<0)return!0;o=ln(s,qn(t,n),l>=0?l:1/0)}else{if(o=ln(s,qn(t,n)),o<0)return!1;l=ln(s,qn(r,a),o>=0?o:1/0)}return o>=0?l>=0?o<=l:!0:l>=0?!1:!!i}catch(s){}return!!i}function lb(e,t,n){let r=e.contentWindow;if(!r)return;let a=!1,i;try{i=r.document.readyState}catch(o){return}if(i!=="complete"){let o=yo(()=>{a||(t(),a=!0)},n);e.addEventListener("load",()=>{op(o),a=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return yo(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function cb(e,t,n){let r=!1,a;try{a=e.sheet}catch(s){return}if(a)return;let i=yo(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{op(i),r=!0,t()})}function ub(e,t){let{doc:n,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:m={},maskTextFn:g,maskInputFn:y,dataURLOptions:v={},inlineImages:w,recordCanvas:M,keepIframeSrcFn:L,newlyAddedElement:O=!1}=t,b=db(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Te.Document,childNodes:[],compatMode:e.compatMode}:{type:Te.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Te.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return fb(e,{doc:n,blockClass:a,blockSelector:i,unblockSelector:s,inlineStylesheet:f,maskAttributeFn:l,maskInputOptions:m,maskInputFn:y,dataURLOptions:v,inlineImages:w,recordCanvas:M,keepIframeSrcFn:L,newlyAddedElement:O,rootId:b,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p});case e.TEXT_NODE:return pb(e,{doc:n,maskAllText:o,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p,maskTextFn:g,maskInputOptions:m,maskInputFn:y,rootId:b});case e.CDATA_SECTION_NODE:return{type:Te.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:Te.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function db(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function pb(e,t){var v;let{maskAllText:n,maskTextClass:r,unmaskTextClass:a,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:o,maskInputOptions:l,maskInputFn:c,rootId:d}=t,u=e.parentNode&&e.parentNode.tagName,p=e.textContent,f=u==="STYLE"?!0:void 0,m=u==="SCRIPT"?!0:void 0,g=u==="TEXTAREA"?!0:void 0;if(f&&p){try{e.nextSibling||e.previousSibling||(v=e.parentNode.sheet)!=null&&v.cssRules&&(p=si(e.parentNode.sheet))}catch(w){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${w}`,e)}p=li(p,gi(t.doc))}m&&(p="SCRIPT_PLACEHOLDER");let y=Vn(e,r,i,a,s,n);if(!f&&!m&&!g&&p&&y&&(p=o?o(p,e.parentElement):p.replace(/[\S]/g,"*")),g&&p&&(l.textarea||y)&&(p=c?c(p,e.parentNode):p.replace(/[\S]/g,"*")),u==="OPTION"&&p){let w=mi({type:null,tagName:u,maskInputOptions:l});p=Gr({isMasked:Vn(e,r,i,a,s,w),element:e,value:p,maskInputFn:c})}return{type:Te.Text,textContent:p||"",isStyle:f,rootId:d}}function fb(e,t){let{doc:n,blockClass:r,blockSelector:a,unblockSelector:i,inlineStylesheet:s,maskInputOptions:o={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:d={},inlineImages:u,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:m=!1,rootId:g,maskTextClass:y,unmaskTextClass:v,maskTextSelector:w,unmaskTextSelector:M}=t,L=dp(e,r,a,i),O=Xv(e),b={},I=e.attributes.length;for(let S=0;S<I;S++){let R=e.attributes[S];R.name&&!up(O,R.name,R.value)&&(b[R.name]=cp(n,O,Yn(R.name),R.value,e,l))}if(O==="link"&&s){let S=Array.from(n.styleSheets).find(x=>x.href===e.href),R=null;S&&(R=si(S)),R&&(b.rel=null,b.href=null,b.crossorigin=null,b._cssText=li(R,S.href))}if(O==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let S=si(e.sheet);S&&(b._cssText=li(S,gi(n)))}if(O==="input"||O==="textarea"||O==="select"||O==="option"){let S=e,R=Ro(S),x=oi(S,_o(O),R),k=S.checked;if(R!=="submit"&&R!=="button"&&x){let C=Vn(S,y,w,v,M,mi({type:R,tagName:_o(O),maskInputOptions:o}));b.value=Gr({isMasked:C,element:S,value:x,maskInputFn:c})}k&&(b.checked=k)}if(O==="option"&&(e.selected&&!o.select?b.selected=!0:delete b.selected),O==="canvas"&&p){if(e.__context==="2d")Vv(e)||(b.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let S=e.toDataURL(d.type,d.quality),R=n.createElement("canvas");R.width=e.width,R.height=e.height;let x=R.toDataURL(d.type,d.quality);S!==x&&(b.rr_dataURL=S)}}if(O==="img"&&u){Hn||(Hn=n.createElement("canvas"),Pd=Hn.getContext("2d"));let S=e,R=S.currentSrc||S.getAttribute("src")||"<unknown-src>",x=S.crossOrigin,k=()=>{S.removeEventListener("load",k);try{Hn.width=S.naturalWidth,Hn.height=S.naturalHeight,Pd.drawImage(S,0,0),b.rr_dataURL=Hn.toDataURL(d.type,d.quality)}catch(C){if(S.crossOrigin!=="anonymous"){S.crossOrigin="anonymous",S.complete&&S.naturalWidth!==0?k():S.addEventListener("load",k);return}else console.warn(`Cannot inline img src=${R}! Error: ${C}`)}S.crossOrigin==="anonymous"&&(x?b.crossOrigin=x:S.removeAttribute("crossorigin"))};S.complete&&S.naturalWidth!==0?k():S.addEventListener("load",k)}if((O==="audio"||O==="video")&&(b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),L){let{width:S,height:R}=e.getBoundingClientRect();b={class:b.class,rr_width:`${S}px`,rr_height:`${R}px`}}O==="iframe"&&!f(b.src)&&(!L&&!lp(e)&&(b.rr_src=b.src),delete b.src);let W;try{customElements.get(O)&&(W=!0)}catch(S){}return{type:Te.Element,tagName:O,attributes:b,childNodes:[],isSVG:sb(e)||void 0,needBlock:L,rootId:g,isCustom:W}}function pe(e){return e==null?"":e.toLowerCase()}function hb(e,t){return!!(t.comment&&e.type===Te.Comment||e.type===Te.Element&&(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&ip(e.attributes.href)==="js")||t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(pe(e.attributes.name).match(/^msapplication-tile(image|color)$/)||pe(e.attributes.name)==="application-name"||pe(e.attributes.rel)==="icon"||pe(e.attributes.rel)==="apple-touch-icon"||pe(e.attributes.rel)==="shortcut icon"))||e.tagName==="meta"&&(t.headMetaDescKeywords&&pe(e.attributes.name).match(/^description|keywords$/)||t.headMetaSocial&&(pe(e.attributes.property).match(/^(og|twitter|fb):/)||pe(e.attributes.name).match(/^(og|twitter):/)||pe(e.attributes.name)==="pinterest")||t.headMetaRobots&&(pe(e.attributes.name)==="robots"||pe(e.attributes.name)==="googlebot"||pe(e.attributes.name)==="bingbot")||t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0||t.headMetaAuthorship&&(pe(e.attributes.name)==="author"||pe(e.attributes.name)==="generator"||pe(e.attributes.name)==="framework"||pe(e.attributes.name)==="publisher"||pe(e.attributes.name)==="progid"||pe(e.attributes.property).match(/^article:/)||pe(e.attributes.property).match(/^product:/))||t.headMetaVerification&&(pe(e.attributes.name)==="google-site-verification"||pe(e.attributes.name)==="yandex-verification"||pe(e.attributes.name)==="csrf-token"||pe(e.attributes.name)==="p:domain_verify"||pe(e.attributes.name)==="verify-v1"||pe(e.attributes.name)==="verification"||pe(e.attributes.name)==="shopify-checkout-api-token"))))}function Wn(e,t){let{doc:n,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:M={},inlineImages:L=!1,recordCanvas:O=!1,onSerialize:b,onIframeLoad:I,iframeLoadTimeout:W=5e3,onStylesheetLoad:S,stylesheetLoadTimeout:R=5e3,keepIframeSrcFn:x=()=>!1,newlyAddedElement:k=!1}=t,{preserveWhiteSpace:C=!0}=t,$=ub(e,{doc:n,mirror:r,blockClass:a,blockSelector:i,maskAllText:o,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,dataURLOptions:M,inlineImages:L,recordCanvas:O,keepIframeSrcFn:x,newlyAddedElement:k});if(!$)return console.warn(e,"not serialized"),null;let G;r.hasNode(e)?G=r.getId(e):hb($,w)||!C&&$.type===Te.Text&&!$.isStyle&&!$.textContent.replace(/^\s+|\s+$/gm,"").length?G=Yr:G=Mo();let D=Object.assign($,{id:G});if(r.add(e,D),G===Yr)return null;b&&b(e);let X=!p;if(D.type===Te.Element){X=X&&!D.needBlock,delete D.needBlock;let H=e.shadowRoot;H&&qr(H)&&(D.isShadowHost=!0)}if((D.type===Te.Document||D.type===Te.Element)&&X){w.headWhitespace&&D.type===Te.Element&&D.tagName==="head"&&(C=!1);let H={doc:n,mirror:r,blockClass:a,blockSelector:i,maskAllText:o,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:p,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:M,inlineImages:L,recordCanvas:O,preserveWhiteSpace:C,onSerialize:b,onIframeLoad:I,iframeLoadTimeout:W,onStylesheetLoad:S,stylesheetLoadTimeout:R,keepIframeSrcFn:x};for(let he of Array.from(e.childNodes)){let te=Wn(he,H);te&&D.childNodes.push(te)}if(Bv(e)&&e.shadowRoot)for(let he of Array.from(e.shadowRoot.childNodes)){let te=Wn(he,H);te&&(qr(e.shadowRoot)&&(te.isShadow=!0),D.childNodes.push(te))}}return e.parentNode&&zr(e.parentNode)&&qr(e.parentNode)&&(D.isShadow=!0),D.type===Te.Element&&D.tagName==="iframe"&&!dp(e,a,i,s)&&lb(e,()=>{let H=lp(e);if(H&&I){let he=Wn(H,{doc:H,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:M,inlineImages:L,recordCanvas:O,preserveWhiteSpace:C,onSerialize:b,onIframeLoad:I,iframeLoadTimeout:W,onStylesheetLoad:S,stylesheetLoadTimeout:R,keepIframeSrcFn:x});he&&I(e,he)}},W),D.type===Te.Element&&D.tagName==="link"&&typeof D.attributes.rel=="string"&&(D.attributes.rel==="stylesheet"||D.attributes.rel==="preload"&&typeof D.attributes.href=="string"&&ip(D.attributes.href)==="css")&&cb(e,()=>{if(S){let H=Wn(e,{doc:n,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:M,inlineImages:L,recordCanvas:O,preserveWhiteSpace:C,onSerialize:b,onIframeLoad:I,iframeLoadTimeout:W,onStylesheetLoad:S,stylesheetLoadTimeout:R,keepIframeSrcFn:x});H&&S(e,H)}},R),D}function mb(e,t){let{mirror:n=new ap,blockClass:r="rr-block",blockSelector:a=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:o="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:d=null,inlineStylesheet:u=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOM:w=!1,dataURLOptions:M,preserveWhiteSpace:L,onSerialize:O,onIframeLoad:b,iframeLoadTimeout:I,onStylesheetLoad:W,stylesheetLoadTimeout:S,keepIframeSrcFn:R=()=>!1}=t||{};return Wn(e,{doc:e,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,maskAllText:s,maskTextClass:o,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:u,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:w===!0||w==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:w==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:w===!1?{}:w,dataURLOptions:M,inlineImages:p,recordCanvas:f,preserveWhiteSpace:L,onSerialize:O,onIframeLoad:b,iframeLoadTimeout:I,onStylesheetLoad:W,stylesheetLoadTimeout:S,keepIframeSrcFn:R,newlyAddedElement:!1})}function Be(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var jn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,$d={map:{},getId(){return console.error(jn),-1},getNode(){return console.error(jn),null},removeNodeFromMap(){console.error(jn)},has(){return console.error(jn),!1},reset(){console.error(jn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&($d=new Proxy($d,{get(e,t,n){return t==="map"&&console.error(jn),Reflect.get(e,t,n)}}));function Vr(e,t,n={}){let r=null,a=0;return function(...i){let s=Date.now();!a&&n.leading===!1&&(a=s);let o=t-(s-a),l=this;o<=0||o>t?(r&&(wb(r),r=null),a=s,e.apply(l,i)):!r&&n.trailing!==!1&&(r=_i(()=>{a=n.leading===!1?0:Date.now(),r=null,e.apply(l,i)},o))}}function pp(e,t,n,r,a=window){let i=a.Object.getOwnPropertyDescriptor(e,t);return a.Object.defineProperty(e,t,r?n:{set(s){_i(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>pp(e,t,i||{},!0)}function Ao(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],a=n(r);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=a,()=>{e[t]=r}}catch(r){return()=>{}}}var ui=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ui=()=>new Date().getTime());function fp(e){var n,r,a,i,s,o;let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((a=t==null?void 0:t.body)==null?void 0:a.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((s=(i=t==null?void 0:t.body)==null?void 0:i.parentElement)==null?void 0:s.scrollTop)||((o=t==null?void 0:t.body)==null?void 0:o.scrollTop)||0}}function hp(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function mp(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function gp(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function Je(e,t,n,r,a){if(!e)return!1;let i=gp(e);if(!i)return!1;let s=qn(t,n);if(!a){let c=r&&i.matches(r);return s(i)&&!c}let o=ln(i,s),l=-1;return o<0?!1:(r&&(l=ln(i,qn(null,r))),o>-1&&l<0?!0:o<l)}function gb(e,t){return t.getId(e)!==-1}function fo(e,t){return t.getId(e)===Yr}function _p(e,t){if(zr(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?_p(e.parentNode,t):!0:!0}function vo(e){return!!e.changedTouches}function _b(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function yp(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function vp(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function bo(e){return!!(e!=null&&e.shadowRoot)}var yb=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return(t=this.styleIDMap.get(e))!=null?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return t===void 0?n=this.id++:n=t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function bp(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function vb(e){let t=e,n;for(;n=bp(t);)t=n;return t}function bb(e){let t=e.ownerDocument;if(!t)return!1;let n=vb(e);return t.contains(n)}function Sp(e){let t=e.ownerDocument;return t?t.contains(e)||bb(e):!1}var Ud={};function Oo(e){let t=Ud[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);let i=a.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(a)}catch(a){}return Ud[e]=r.bind(window)}function Sb(...e){return Oo("requestAnimationFrame")(...e)}function _i(...e){return Oo("setTimeout")(...e)}function wb(...e){return Oo("clearTimeout")(...e)}var V=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(V||{}),q=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(q||{}),Ue=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ue||{}),Ot=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ot||{}),zn=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(zn||{});function No(e){try{return e.contentDocument}catch(t){}}function Eb(e){try{return e.contentWindow}catch(t){}}function Bd(e){return"__ln"in e}var kb=class{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(t==null?void 0:t.next)||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Bd(e.previousSibling)){let n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Bd(e.nextSibling)&&e.nextSibling.__ln.previous){let n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;t.next===null&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}},Hd=(e,t)=>`${e}@${t}`,Tb=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,n=new kb,r=o=>{let l=o,c=Yr;for(;c===Yr;)l=l&&l.nextSibling,c=l&&this.mirror.getId(l);return c},a=o=>{if(!o.parentNode||!Sp(o))return;let l=zr(o.parentNode)?this.mirror.getId(bp(o)):this.mirror.getId(o.parentNode),c=r(o);if(l===-1||c===-1)return n.addNode(o);let d=Wn(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:u=>{yp(u,this.mirror)&&!Je(u,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(u),vp(u,this.mirror)&&this.stylesheetManager.trackLinkElement(u),bo(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(u,p)=>{Je(u,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(u,p),u.contentWindow&&this.canvasManager.addWindow(u.contentWindow),this.shadowDomManager.observeAttachShadow(u))},onStylesheetLoad:(u,p)=>{this.stylesheetManager.attachLinkElement(u,p)}});d&&(e.push({parentId:l,nextId:c,node:d}),t.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let o of this.movedSet)jd(this.removes,o,this.mirror)&&!this.movedSet.has(o.parentNode)||a(o);for(let o of this.addedSet)!zd(this.droppedSet,o)&&!jd(this.removes,o,this.mirror)||zd(this.movedSet,o)?a(o):this.droppedSet.add(o);let i=null;for(;n.length;){let o=null;if(i){let l=this.mirror.getId(i.value.parentNode),c=r(i.value);l!==-1&&c!==-1&&(o=i)}if(!o){let l=n.tail;for(;l;){let c=l;if(l=l.previous,c){let d=this.mirror.getId(c.value.parentNode);if(r(c.value)===-1)continue;if(d!==-1){o=c;break}else{let u=c.value;if(u.parentNode&&u.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let p=u.parentNode.host;if(this.mirror.getId(p)!==-1){o=c;break}}}}}}if(!o){for(;n.head;)n.removeNode(n.head.value);break}i=o.previous,n.removeNode(o.value),a(o.value)}let s={texts:this.texts.map(o=>({id:this.mirror.getId(o.node),value:o.value})).filter(o=>!t.has(o.id)).filter(o=>this.mirror.has(o.id)),attributes:this.attributes.map(o=>{let{attributes:l}=o;if(typeof l.style=="string"){let c=JSON.stringify(o.styleDiff),d=JSON.stringify(o._unchangedStyles);c.length<l.style.length&&(c+d).split("var(").length===l.style.split("var(").length&&(l.style=o.styleDiff)}return{id:this.mirror.getId(o.node),attributes:l}}).filter(o=>!t.has(o.id)).filter(o=>this.mirror.has(o.id)),removes:this.removes,adds:e};!s.texts.length&&!s.attributes.length&&!s.removes.length&&!s.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!fo(e.target,this.mirror))switch(e.type){case"characterData":{let t=e.target.textContent;!Je(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&t!==e.oldValue&&this.texts.push({value:Vn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,gp(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,n=e.attributeName,r=e.target.getAttribute(n);if(n==="value"){let i=Ro(t),s=t.tagName;r=oi(t,s,i);let o=mi({maskInputOptions:this.maskInputOptions,tagName:s,type:i}),l=Vn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o);r=Gr({isMasked:l,element:t,value:r,maskInputFn:this.maskInputFn})}if(Je(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let a=this.attributeMap.get(e.target);if(t.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(r))if(!No(t))n="rr_src";else return;if(a||(a={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(a),this.attributeMap.set(e.target,a)),n==="type"&&t.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&t.setAttribute("data-rr-is-password","true"),!up(t.tagName,n)&&(a.attributes[n]=cp(this.doc,Yn(t.tagName),Yn(n),r,t,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(s){this.unattachedDoc=this.doc}let i=this.unattachedDoc.createElement("span");e.oldValue&&i.setAttribute("style",e.oldValue);for(let s of Array.from(t.style)){let o=t.style.getPropertyValue(s),l=t.style.getPropertyPriority(s);o!==i.style.getPropertyValue(s)||l!==i.style.getPropertyPriority(s)?l===""?a.styleDiff[s]=o:a.styleDiff[s]=[o,l]:a._unchangedStyles[s]=[o,l]}for(let s of Array.from(i.style))t.style.getPropertyValue(s)===""&&(a.styleDiff[s]=!1)}break}case"childList":{if(Je(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let n=this.mirror.getId(t),r=zr(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Je(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||fo(t,this.mirror)||!gb(t,this.mirror)||(this.addedSet.has(t)?(So(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&n===-1||_p(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Hd(n,r)]?So(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:zr(e.target)&&qr(e.target)?!0:void 0})),this.mapRemoves.push(t))});break}}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(fo(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&n!==-1&&(this.movedMap[Hd(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Je(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(n=>this.genAdds(n)),bo(e)&&e.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function So(e,t){e.delete(t),t.childNodes.forEach(n=>So(e,n))}function jd(e,t,n){return e.length===0?!1:Ib(e,t,n)}function Ib(e,t,n){let r=t.parentNode;for(;r;){let a=n.getId(r);if(e.some(i=>i.id===a))return!0;r=r.parentNode}return!1}function zd(e,t){return e.size===0?!1:wp(e,t)}function wp(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:wp(e,n):!1}var Wr;function xb(e){Wr=e}function Cb(){Wr=void 0}var Q=e=>Wr?(...t)=>{try{return e(...t)}catch(n){if(Wr&&Wr(n)===!0)return()=>{};throw n}}:e,Gn=[];function Jr(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function Ep(e,t){var s,o;let n=new Tb;Gn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,a=(o=(s=window==null?void 0:window.Zone)==null?void 0:s.__symbol__)==null?void 0:o.call(s,"MutationObserver");a&&window[a]&&(r=window[a]);let i=new r(Q(l=>{e.onMutation&&e.onMutation(l)===!1||n.processMutations.bind(n)(l)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Rb({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let a=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],o,l=Vr(Q(u=>{let p=Date.now()-o;e(s.map(f=>(f.timeOffset-=p,f)),u),s=[],o=null}),i),c=Q(Vr(Q(u=>{let p=Jr(u),{clientX:f,clientY:m}=vo(u)?u.changedTouches[0]:u;o||(o=ui()),s.push({x:f,y:m,id:r.getId(p),timeOffset:ui()-o}),l(typeof DragEvent<"u"&&u instanceof DragEvent?q.Drag:u instanceof MouseEvent?q.MouseMove:q.TouchMove)}),a,{trailing:!1})),d=[Be("mousemove",c,n),Be("touchmove",c,n),Be("drag",c,n)];return Q(()=>{d.forEach(u=>u())})}function Mb({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let o=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,l=[],c=null,d=u=>p=>{let f=Jr(p);if(Je(f,r,a,i,!0))return;let m=null,g=u;if("pointerType"in p){switch(p.pointerType){case"mouse":m=Ot.Mouse;break;case"touch":m=Ot.Touch;break;case"pen":m=Ot.Pen;break}m===Ot.Touch?Ue[u]===Ue.MouseDown?g="TouchStart":Ue[u]===Ue.MouseUp&&(g="TouchEnd"):Ot.Pen}else vo(p)&&(m=Ot.Touch);m!==null?(c=m,(g.startsWith("Touch")&&m===Ot.Touch||g.startsWith("Mouse")&&m===Ot.Mouse)&&(m=null)):Ue[u]===Ue.Click&&(m=c,c=null);let y=vo(p)?p.changedTouches[0]:p;if(!y)return;let v=n.getId(f),{clientX:w,clientY:M}=y;Q(e)(h({type:Ue[g],id:v,x:w,y:M},m!==null&&{pointerType:m}))};return Object.keys(Ue).filter(u=>Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&o[u]!==!1).forEach(u=>{let p=Yn(u),f=d(u);if(window.PointerEvent)switch(Ue[u]){case Ue.MouseDown:case Ue.MouseUp:p=p.replace("mouse","pointer");break;case Ue.TouchStart:case Ue.TouchEnd:return}l.push(Be(p,f,t))}),Q(()=>{l.forEach(u=>u())})}function kp({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,sampling:s}){let o=Q(Vr(Q(l=>{let c=Jr(l);if(!c||Je(c,r,a,i,!0))return;let d=n.getId(c);if(c===t&&t.defaultView){let u=fp(t.defaultView);e({id:d,x:u.left,y:u.top})}else e({id:d,x:c.scrollLeft,y:c.scrollTop})}),s.scroll||100));return Be("scroll",o,t)}function Ab({viewportResizeCb:e},{win:t}){let n=-1,r=-1,a=Q(Vr(Q(()=>{let i=hp(),s=mp();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return Be("resize",a,t)}var Ob=["INPUT","TEXTAREA","SELECT"],qd=new WeakMap;function Nb({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,ignoreClass:s,ignoreSelector:o,maskInputOptions:l,maskInputFn:c,sampling:d,userTriggeredOnInput:u,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g}){function y(b){let I=Jr(b),W=b.isTrusted,S=I&&_o(I.tagName);if(S==="OPTION"&&(I=I.parentElement),!I||!S||Ob.indexOf(S)<0||Je(I,r,a,i,!0))return;let R=I;if(R.classList.contains(s)||o&&R.matches(o))return;let x=Ro(I),k=oi(R,S,x),C=!1,$=mi({maskInputOptions:l,tagName:S,type:x}),G=Vn(I,p,m,f,g,$);(x==="radio"||x==="checkbox")&&(C=I.checked),k=Gr({isMasked:G,element:I,value:k,maskInputFn:c}),v(I,u?{text:k,isChecked:C,userTriggered:W}:{text:k,isChecked:C});let D=I.name;x==="radio"&&D&&C&&t.querySelectorAll(`input[type="radio"][name="${D}"]`).forEach(X=>{if(X!==I){let H=Gr({isMasked:G,element:X,value:oi(X,S,x),maskInputFn:c});v(X,u?{text:H,isChecked:!C,userTriggered:!1}:{text:H,isChecked:!C})}})}function v(b,I){let W=qd.get(b);if(!W||W.text!==I.text||W.isChecked!==I.isChecked){qd.set(b,I);let S=n.getId(b);Q(e)(E(h({},I),{id:S}))}}let w=(d.input==="last"?["change"]:["input","change"]).map(b=>Be(b,Q(y),t)),M=t.defaultView;if(!M)return()=>{w.forEach(b=>b())};let L=M.Object.getOwnPropertyDescriptor(M.HTMLInputElement.prototype,"value"),O=[[M.HTMLInputElement.prototype,"value"],[M.HTMLInputElement.prototype,"checked"],[M.HTMLSelectElement.prototype,"value"],[M.HTMLTextAreaElement.prototype,"value"],[M.HTMLSelectElement.prototype,"selectedIndex"],[M.HTMLOptionElement.prototype,"selected"]];return L&&L.set&&w.push(...O.map(b=>pp(b[0],b[1],{set(){Q(y)({target:this,isTrusted:!1})}},!1,M))),Q(()=>{w.forEach(b=>b())})}function di(e){let t=[];function n(r,a){if(ni("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||ni("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||ni("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||ni("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let i=Array.from(r.parentRule.cssRules).indexOf(r);a.unshift(i)}else if(r.parentStyleSheet){let i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);a.unshift(i)}return a}return n(e,t)}function Yt(e,t,n){let r,a;return e?(e.ownerNode?r=t.getId(e.ownerNode):a=n.getId(e),{styleId:a,id:r}):{}}function Lb({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let a=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:Q((d,u,p)=>{let[f,m]=p,{id:g,styleId:y}=Yt(u,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:f,index:m}]}),d.apply(u,p)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Q((d,u,p)=>{let[f]=p,{id:m,styleId:g}=Yt(u,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:f}]}),d.apply(u,p)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Q((d,u,p)=>{let[f]=p,{id:m,styleId:g}=Yt(u,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:f}),d.apply(u,p)})}));let o;r.CSSStyleSheet.prototype.replaceSync&&(o=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(o,{apply:Q((d,u,p)=>{let[f]=p,{id:m,styleId:g}=Yt(u,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:f}),d.apply(u,p)})}));let l={};ri("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(ri("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),ri("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),ri("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));let c={};return Object.entries(l).forEach(([d,u])=>{c[d]={insertRule:u.prototype.insertRule,deleteRule:u.prototype.deleteRule},u.prototype.insertRule=new Proxy(c[d].insertRule,{apply:Q((p,f,m)=>{let[g,y]=m,{id:v,styleId:w}=Yt(f.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||w&&w!==-1)&&e({id:v,styleId:w,adds:[{rule:g,index:[...di(f),y||0]}]}),p.apply(f,m)})}),u.prototype.deleteRule=new Proxy(c[d].deleteRule,{apply:Q((p,f,m)=>{let[g]=m,{id:y,styleId:v}=Yt(f.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||v&&v!==-1)&&e({id:y,styleId:v,removes:[{index:[...di(f),g]}]}),p.apply(f,m)})})}),Q(()=>{r.CSSStyleSheet.prototype.insertRule=a,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),o&&(r.CSSStyleSheet.prototype.replaceSync=o),Object.entries(l).forEach(([d,u])=>{u.prototype.insertRule=c[d].insertRule,u.prototype.deleteRule=c[d].deleteRule})})}function Tp({mirror:e,stylesheetManager:t},n){var s,o,l;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let a=n.nodeName==="#document"?(s=n.defaultView)==null?void 0:s.Document:(l=(o=n.ownerDocument)==null?void 0:o.defaultView)==null?void 0:l.ShadowRoot,i=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!a||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){var c;return(c=i.get)==null?void 0:c.call(this)},set(c){var u;let d=(u=i.set)==null?void 0:u.call(this,c);if(r!==null&&r!==-1)try{t.adoptStyleSheets(c,r)}catch(p){}return d}}),Q(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function Db({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:a}){let i=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Q((o,l,c)=>{var g;let[d,u,p]=c;if(n.has(d))return i.apply(l,[d,u,p]);let{id:f,styleId:m}=Yt((g=l.parentRule)==null?void 0:g.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||m&&m!==-1)&&e({id:f,styleId:m,set:{property:d,value:u,priority:p},index:di(l.parentRule)}),o.apply(l,c)})});let s=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Q((o,l,c)=>{var f;let[d]=c;if(n.has(d))return s.apply(l,[d]);let{id:u,styleId:p}=Yt((f=l.parentRule)==null?void 0:f.parentStyleSheet,t,r.styleMirror);return(u&&u!==-1||p&&p!==-1)&&e({id:u,styleId:p,remove:{property:d},index:di(l.parentRule)}),o.apply(l,c)})}),Q(()=>{a.CSSStyleDeclaration.prototype.setProperty=i,a.CSSStyleDeclaration.prototype.removeProperty=s})}function Pb({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:a,sampling:i,doc:s}){let o=Q(c=>Vr(Q(d=>{let u=Jr(d);if(!u||Je(u,t,n,r,!0))return;let{currentTime:p,volume:f,muted:m,playbackRate:g}=u;e({type:c,id:a.getId(u),currentTime:p,volume:f,muted:m,playbackRate:g})}),i.media||500)),l=[Be("play",o(zn.Play),s),Be("pause",o(zn.Pause),s),Be("seeked",o(zn.Seeked),s),Be("volumechange",o(zn.VolumeChange),s),Be("ratechange",o(zn.RateChange),s)];return Q(()=>{l.forEach(c=>c())})}function Fb({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],a=new WeakMap,i=n.FontFace;n.FontFace=function(o,l,c){let d=new i(o,l,c);return a.set(d,{family:o,buffer:typeof l!="string",descriptors:c,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),d};let s=Ao(t.fonts,"add",function(o){return function(l){return _i(Q(()=>{let c=a.get(l);c&&(e(c),a.delete(l))}),0),o.apply(this,[l])}});return r.push(()=>{n.FontFace=i}),r.push(s),Q(()=>{r.forEach(o=>o())})}function $b(e){let{doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,selectionCb:s}=e,o=!0,l=Q(()=>{let c=t.getSelection();if(!c||o&&(c!=null&&c.isCollapsed))return;o=c.isCollapsed||!1;let d=[],u=c.rangeCount||0;for(let p=0;p<u;p++){let f=c.getRangeAt(p),{startContainer:m,startOffset:g,endContainer:y,endOffset:v}=f;Je(m,r,a,i,!0)||Je(y,r,a,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(y),endOffset:v})}s({ranges:d})});return l(),Be("selectionchange",l)}function Ub({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:Ao(n.customElements,"define",function(r){return function(a,i,s){try{t({define:{name:a}})}catch(o){}return r.apply(this,[a,i,s])}})}function Bb(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Ep(e,e.doc));let a=Rb(e),i=Mb(e),s=kp(e),o=Ab(e,{win:n}),l=Nb(e),c=Pb(e),d=()=>{},u=()=>{},p=()=>{},f=()=>{};e.recordDOM&&(d=Lb(e,{win:n}),u=Tp(e,e.doc),p=Db(e,{win:n}),e.collectFonts&&(f=Fb(e)));let m=$b(e),g=Ub(e),y=[];for(let v of e.plugins)y.push(v.observer(v.callback,n,v.options));return Q(()=>{Gn.forEach(v=>v.reset()),r==null||r.disconnect(),a(),i(),s(),o(),l(),c(),d(),u(),p(),f(),m(),g(),y.forEach(v=>v())})}function ni(e){return typeof window[e]<"u"}function ri(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var wo=class{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){let a=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e),s=a.get(t);return s||(s=this.generateIdFn(),a.set(t,s),i.set(s,t)),s}getIds(e,t){let n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(a=>this.getId(e,a,n,r))}getRemoteId(e,t,n){let r=n||this.getRemoteIdToIdMap(e);return typeof t!="number"?t:r.get(t)||-1}getRemoteIds(e,t){let n=this.getRemoteIdToIdMap(e);return t.map(r=>this.getRemoteId(e,r,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}},Hb=class{constructor(){this.crossOriginIframeMirror=new wo(Mo),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},jb=class{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new wo(Mo),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new wo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var r,a;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((r=e.contentWindow)==null||r.addEventListener("message",this.handleMessage.bind(this))),(a=this.loadListener)==null||a.call(this,e);let n=No(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){let t=e;if(t.data.type!=="rrweb"||t.origin!==t.data.origin||!e.source)return;let n=this.crossOriginIframeMap.get(e.source);if(!n)return;let r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case V.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let r=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(t.data.node,r),{timestamp:t.timestamp,type:V.IncrementalSnapshot,data:{source:q.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case V.Meta:case V.Load:case V.DomContentLoaded:return!1;case V.Plugin:return t;case V.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case V.IncrementalSnapshot:switch(t.data.source){case q.Mutation:return t.data.adds.forEach(r=>{this.replaceIds(r,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,e);let a=this.crossOriginIframeRootIdMap.get(e);a&&this.patchRootIdOnNode(r.node,a)}),t.data.removes.forEach(r=>{this.replaceIds(r,e,["parentId","id"])}),t.data.attributes.forEach(r=>{this.replaceIds(r,e,["id"])}),t.data.texts.forEach(r=>{this.replaceIds(r,e,["id"])}),t;case q.Drag:case q.TouchMove:case q.MouseMove:return t.data.positions.forEach(r=>{this.replaceIds(r,e,["id"])}),t;case q.ViewportResize:return!1;case q.MediaInteraction:case q.MouseInteraction:case q.Scroll:case q.CanvasMutation:case q.Input:return this.replaceIds(t.data,e,["id"]),t;case q.StyleSheetRule:case q.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case q.Font:return t;case q.Selection:return t.data.ranges.forEach(r=>{this.replaceIds(r,e,["start","end"])}),t;case q.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),(n=t.data.styles)==null||n.forEach(r=>{this.replaceStyleIds(r,e,["styleId"])}),t}}return!1}replace(e,t,n,r){for(let a of r)!Array.isArray(t[a])&&typeof t[a]!="number"||(Array.isArray(t[a])?t[a]=e.getIds(n,t[a]):t[a]=e.getId(n,t[a]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(n=>{this.replaceIdOnNode(n,t)})}patchRootIdOnNode(e,t){e.type!==Te.Document&&!e.rootId&&(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(n=>{this.patchRootIdOnNode(n,t)})}},zb=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},qb=class{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!qr(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);let n=Ep(E(h({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(kp(E(h({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),_i(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Tp({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){let t=No(e),n=Eb(e);!t||!n||this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){let n=this;this.restoreHandlers.push(Ao(e.prototype,"attachShadow",function(r){return function(a){let i=r.call(this,a);return this.shadowRoot&&Sp(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},Wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Hr=0;Hr<Wd.length;Hr++)Wb[Wd.charCodeAt(Hr)]=Hr;var Hr,Gd=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},Gb=class{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new yb,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(e.length===0)return;let n={id:t,styleIds:[]},r=[];for(let a of e){let i;this.styleMirror.has(a)?i=this.styleMirror.getId(a):(i=this.styleMirror.add(a),r.push({styleId:i,rules:Array.from(a.rules||CSSRule,(s,o)=>({rule:rp(s),index:o}))})),n.styleIds.push(i)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}},Yb=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){let n=this.nodeMap.get(e);return n&&Array.from(n).some(r=>r!==t)}add(e,t){this.active||(this.active=!0,Sb(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}},ye,pi,np;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=((np=e.contentWindow)==null?void 0:np.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var dt=Yv();function Nt(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:a="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:o="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:d="rr-mask",unmaskTextClass:u=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:v,maskAttributeFn:w,maskInputFn:M,maskTextFn:L,maxCanvasSize:O=null,packFn:b,sampling:I={},dataURLOptions:W={},mousemoveWait:S,recordDOM:R=!0,recordCanvas:x=!1,recordCrossOriginIframes:k=!1,recordAfter:C=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:$=!1,collectFonts:G=!1,inlineImages:D=!1,plugins:X,keepIframeSrcFn:H=()=>!1,ignoreCSSAttributes:he=new Set([]),errorHandler:te,onMutation:Le,getCanvasManager:hn}=e;xb(te);let Ie=k?window.parent===window:!0,xe=!1;if(!Ie)try{window.parent.document&&(xe=!1)}catch(ee){xe=!0}if(Ie&&!t)throw new Error("emit function is required");if(!Ie&&!xe)return()=>{};S!==void 0&&I.mousemove===void 0&&(I.mousemove=S),dt.reset();let bt=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},mn=v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:v==="all",headMetaDescKeywords:v==="all"}:v||{};_b();let gn,_n=0,yn=ee=>{for(let rt of X||[])rt.eventProcessor&&(ee=rt.eventProcessor(ee));return b&&!xe&&(ee=b(ee)),ee};ye=(ee,rt)=>{var Qe;let Z=ee;if(Z.timestamp=ui(),(Qe=Gn[0])!=null&&Qe.isFrozen()&&Z.type!==V.FullSnapshot&&!(Z.type===V.IncrementalSnapshot&&Z.data.source===q.Mutation)&&Gn.forEach(ft=>ft.unfreeze()),Ie)t==null||t(yn(Z),rt);else if(xe){let ft={type:"rrweb",event:yn(Z),origin:window.location.origin,isCheckout:rt};window.parent.postMessage(ft,"*")}if(Z.type===V.FullSnapshot)gn=Z,_n=0;else if(Z.type===V.IncrementalSnapshot){if(Z.data.source===q.Mutation&&Z.data.isAttachIframe)return;_n++;let ft=r&&_n>=r,se=n&&gn&&Z.timestamp-gn.timestamp>n;(ft||se)&&Hi(!0)}};let aa=ee=>{ye({type:V.IncrementalSnapshot,data:h({source:q.Mutation},ee)})},ne=ee=>ye({type:V.IncrementalSnapshot,data:h({source:q.Scroll},ee)}),Ee=ee=>ye({type:V.IncrementalSnapshot,data:h({source:q.CanvasMutation},ee)}),Ze=ee=>ye({type:V.IncrementalSnapshot,data:h({source:q.AdoptedStyleSheet},ee)}),ve=new Gb({mutationCb:aa,adoptedStyleSheetCb:Ze}),ie=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Hb:new jb({mirror:dt,mutationCb:aa,stylesheetManager:ve,recordCrossOriginIframes:k,wrappedEmit:ye});for(let ee of X||[])ee.getMirror&&ee.getMirror({nodeMirror:dt,crossOriginIframeMirror:ie.crossOriginIframeMirror,crossOriginIframeStyleMirror:ie.crossOriginIframeStyleMirror});let Ce=new Yb,Zt=Kb(hn,{mirror:dt,win:window,mutationCb:ee=>ye({type:V.IncrementalSnapshot,data:h({source:q.CanvasMutation},ee)}),recordCanvas:x,blockClass:a,blockSelector:i,unblockSelector:s,maxCanvasSize:O,sampling:I.canvas,dataURLOptions:W,errorHandler:te}),St=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new zb:new qb({mutationCb:aa,scrollCb:ne,bypassOptions:{onMutation:Le,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:bt,dataURLOptions:W,maskAttributeFn:w,maskTextFn:L,maskInputFn:M,recordCanvas:x,inlineImages:D,sampling:I,slimDOMOptions:mn,iframeManager:ie,stylesheetManager:ve,canvasManager:Zt,keepIframeSrcFn:H,processedNodeManager:Ce},mirror:dt}),Hi=(ee=!1)=>{if(!R)return;ye({type:V.Meta,data:{href:window.location.href,width:mp(),height:hp()}},ee),ve.reset(),St.init(),Gn.forEach(Z=>Z.lock());let rt=mb(document,{mirror:dt,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskAllInputs:bt,maskAttributeFn:w,maskInputFn:M,maskTextFn:L,slimDOM:mn,dataURLOptions:W,recordCanvas:x,inlineImages:D,onSerialize:Z=>{yp(Z,dt)&&ie.addIframe(Z),vp(Z,dt)&&ve.trackLinkElement(Z),bo(Z)&&St.addShadowRoot(Z.shadowRoot,document)},onIframeLoad:(Z,Qe)=>{ie.attachIframe(Z,Qe),Z.contentWindow&&Zt.addWindow(Z.contentWindow),St.observeAttachShadow(Z)},onStylesheetLoad:(Z,Qe)=>{ve.attachLinkElement(Z,Qe)},keepIframeSrcFn:H});if(!rt)return console.warn("Failed to snapshot the document");ye({type:V.FullSnapshot,data:{node:rt,initialOffset:fp(window)}}),Gn.forEach(Z=>Z.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ve.adoptStyleSheets(document.adoptedStyleSheets,dt.getId(document))};pi=Hi;try{let ee=[],rt=Qe=>{var ft;return Q(Bb)({onMutation:Le,mutationCb:aa,mousemoveCb:(se,ji)=>ye({type:V.IncrementalSnapshot,data:{source:ji,positions:se}}),mouseInteractionCb:se=>ye({type:V.IncrementalSnapshot,data:h({source:q.MouseInteraction},se)}),scrollCb:ne,viewportResizeCb:se=>ye({type:V.IncrementalSnapshot,data:h({source:q.ViewportResize},se)}),inputCb:se=>ye({type:V.IncrementalSnapshot,data:h({source:q.Input},se)}),mediaInteractionCb:se=>ye({type:V.IncrementalSnapshot,data:h({source:q.MediaInteraction},se)}),styleSheetRuleCb:se=>ye({type:V.IncrementalSnapshot,data:h({source:q.StyleSheetRule},se)}),styleDeclarationCb:se=>ye({type:V.IncrementalSnapshot,data:h({source:q.StyleDeclaration},se)}),canvasMutationCb:Ee,fontCb:se=>ye({type:V.IncrementalSnapshot,data:h({source:q.Font},se)}),selectionCb:se=>{ye({type:V.IncrementalSnapshot,data:h({source:q.Selection},se)})},customElementCb:se=>{ye({type:V.IncrementalSnapshot,data:h({source:q.CustomElement},se)})},blockClass:a,ignoreClass:o,ignoreSelector:l,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:bt,inlineStylesheet:m,sampling:I,recordDOM:R,recordCanvas:x,inlineImages:D,userTriggeredOnInput:$,collectFonts:G,doc:Qe,maskAttributeFn:w,maskInputFn:M,maskTextFn:L,keepIframeSrcFn:H,blockSelector:i,unblockSelector:s,slimDOMOptions:mn,dataURLOptions:W,mirror:dt,iframeManager:ie,stylesheetManager:ve,shadowDomManager:St,processedNodeManager:Ce,canvasManager:Zt,ignoreCSSAttributes:he,plugins:((ft=X==null?void 0:X.filter(se=>se.observer))==null?void 0:ft.map(se=>({observer:se.observer,options:se.options,callback:ji=>ye({type:V.Plugin,data:{plugin:se.name,payload:ji}})})))||[]},{})};ie.addLoadListener(Qe=>{try{ee.push(rt(Qe.contentDocument))}catch(ft){console.warn(ft)}});let Z=()=>{Hi(),ee.push(rt(document))};return document.readyState==="interactive"||document.readyState==="complete"?Z():(ee.push(Be("DOMContentLoaded",()=>{ye({type:V.DomContentLoaded,data:{}}),C==="DOMContentLoaded"&&Z()})),ee.push(Be("load",()=>{ye({type:V.Load,data:{}}),C==="load"&&Z()},window))),()=>{ee.forEach(Qe=>Qe()),Ce.destroy(),pi=void 0,Cb()}}catch(ee){console.warn(ee)}}function Vb(e){if(!pi)throw new Error("please take full snapshot after start recording");pi(e)}Nt.mirror=dt;Nt.takeFullSnapshot=Vb;function Kb(e,t){try{return e?e(t):new Gd}catch(n){return console.warn("Unable to initialize CanvasManager"),new Gd}}var Yd;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Yd||(Yd={}));var Jb=3,Xb=5;function Lo(e){return e>9999999999?e:e*1e3}function ho(e){return e>9999999999?e/1e3:e}function Xr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:V.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ye(t,10,1e3)}}),t.category==="console")))}var Zb="button,a";function Ip(e){return e.closest(Zb)||e}function xp(e){let t=Cp(e);return!t||!(t instanceof Element)?t:Ip(t)}function Cp(e){return Qb(e)?e.target:e}function Qb(e){return typeof e=="object"&&!!e&&"target"in e}var Vt;function e0(e){return Vt||(Vt=[],t0()),Vt.push(e),()=>{let t=Vt?Vt.indexOf(e):-1;t>-1&&Vt.splice(t,1)}}function t0(){we(fe,"open",function(e){return function(...t){if(Vt)try{Vt.forEach(n=>n())}catch(n){}return e.apply(fe,t)}})}var n0=new Set([q.Mutation,q.StyleSheetRule,q.StyleDeclaration,q.AdoptedStyleSheet,q.CanvasMutation,q.Selection,q.MediaInteraction]);function r0(e,t,n){e.handleClick(t,n)}var a0=class{constructor(e,t,n=Xr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){let e=e0(()=>{this._lastMutation=Vd()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(s0(t,this._ignoreSelector)||!o0(e))return;let n={timestamp:ho(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(r=>r.node===n.node&&Math.abs(r.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=ho(e)}registerScroll(e=Date.now()){this._lastScroll=ho(e)}registerClick(e){let t=Ip(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(t=>{t.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){let e=[],t=Vd();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)});for(let n of e){let r=this._clicks.indexOf(n);r>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(r,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){let t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,a=!n&&!r,{clickCount:i,clickBreadcrumb:s}=e;if(a){let o=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,l=o<this._timeout*1e3?"mutation":"timeout",c={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:E(h({},s.data),{url:fe.location.href,route:t.getCurrentRoute(),timeAfterClickMs:o,endReason:l,clickCount:i||1})};this._addBreadcrumbEvent(t,c);return}if(i>1){let o={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:E(h({},s.data),{url:fe.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0})};this._addBreadcrumbEvent(t,o)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=on(()=>this._checkClicks(),1e3)}},i0=["A","BUTTON","INPUT"];function s0(e,t){return!!(!i0.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function o0(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Vd(){return Date.now()/1e3}function l0(e,t){try{if(!c0(t))return;let{source:n}=t.data;if(n0.has(n)&&e.registerMutation(t.timestamp),n===q.Scroll&&e.registerScroll(t.timestamp),u0(t)){let{type:r,id:a}=t.data,i=Nt.mirror.getNode(a);i instanceof HTMLElement&&r===Ue.Click&&e.registerClick(i)}}catch(n){}}function c0(e){return e.type===Jb}function u0(e){return e.data.source===q.MouseInteraction}function yt(e){return h({timestamp:Date.now()/1e3,type:"default"},e)}var Do=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Do||{}),d0=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function p0(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(d0.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var f0=e=>t=>{if(!e.isEnabled())return;let n=h0(t);if(!n)return;let r=t.name==="click",a=r?t.event:void 0;r&&e.clickDetector&&a&&a.target&&!a.altKey&&!a.metaKey&&!a.ctrlKey&&!a.shiftKey&&r0(e.clickDetector,n,xp(t.event)),Xr(e,n)};function Rp(e,t){let n=Nt.mirror.getId(e),r=n&&Nt.mirror.getNode(n),a=r&&Nt.mirror.getMeta(r),i=a&&g0(a)?a:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===Do.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:p0(i.attributes)}}:{}}}function h0(e){let{target:t,message:n}=m0(e);return yt(h({category:`ui.${e.name}`},Rp(t,n)))}function m0(e){let t=e.name==="click",n,r=null;try{r=t?xp(e.event):Cp(e.event),n=ze(r,{maxStringLength:200})||"<unknown>"}catch(a){n="<unknown>"}return{target:r,message:n}}function g0(e){return e.type===Do.Element}function _0(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=y0(t);n&&Xr(e,n)}function y0(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:a,key:i,target:s}=e;if(!s||v0(s)||!i)return null;let o=t||r||a,l=i.length===1;if(!o&&l)return null;let c=ze(s,{maxStringLength:200})||"<unknown>",d=Rp(s,c);return yt({category:"ui.keyDown",message:c,data:E(h({},d.data),{metaKey:t,shiftKey:n,ctrlKey:r,altKey:a,key:i})})}function v0(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var b0={resource:T0,paint:E0,navigation:k0};function ai(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function S0(e){return e.map(w0).filter(Boolean)}function w0(e){let t=b0[e.entryType];return t?t(e):null}function Kn(e){return((be()||fe.performance.timeOrigin)+e)/1e3}function E0(e){let{duration:t,entryType:n,name:r,startTime:a}=e,i=Kn(a);return{type:n,name:r,start:i,end:i+t,data:void 0}}function k0(e){let{entryType:t,name:n,decodedBodySize:r,duration:a,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:d,loadEventEnd:u,redirectCount:p,startTime:f,transferSize:m,type:g}=e;return a===0?null:{type:`${t}.${g}`,start:Kn(f),end:Kn(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:a,domInteractive:c,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,loadEventStart:d,loadEventEnd:u,domComplete:i,redirectCount:p}}}function T0(e){let{entryType:t,initiatorType:n,name:r,responseEnd:a,startTime:i,decodedBodySize:s,encodedBodySize:o,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Kn(i),end:Kn(a),name:r,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:o}}}function I0(e){let t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return yi(e,"largest-contentful-paint",n)}function x0(e){return e.sources!==void 0}function C0(e){let t=[],n=[];for(let r of e.entries)if(x0(r)){let a=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=Nt.mirror.getId(i.node);s&&a.push(s)}t.push({value:r.value,nodeIds:a.length?a:void 0})}return yi(e,"cumulative-layout-shift",n,t)}function R0(e){let t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return yi(e,"first-input-delay",n)}function M0(e){let t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return yi(e,"interaction-to-next-paint",n)}function yi(e,t,n,r){let a=e.value,i=e.rating,s=Kn(a);return{type:"web-vital",name:t,start:s,end:s,data:{value:a,size:a,rating:i,nodeIds:n?n.map(o=>Nt.mirror.getId(o)):void 0,attributions:r}}}function A0(e){function t(a){e.performanceEntries.includes(a)||e.performanceEntries.push(a)}function n({entries:a}){a.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(a=>{r.push(Wt(a,n))}),r.push(io(ai(I0,e)),Qa(ai(C0,e)),so(ai(R0,e)),oo(ai(M0,e))),()=>{r.forEach(a=>a())}}var j=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,O0='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function N0(){let e=new Blob([O0]);return URL.createObjectURL(e)}var Kd=["info","warn","error","log"],ii="[Replay] ";function mo(e,t="info"){Ke({category:"console",data:{logger:"replay"},level:t,message:`${ii}${e}`},{level:t})}function L0(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return j?(Kd.forEach(r=>{n[r]=(...a)=>{_[r](ii,...a),t&&mo(a.join(""),Mr(r))}}),n.exception=(r,...a)=>{a.length&&n.error&&n.error(...a),_.error(ii,r),e?gt(r):t&&mo(r,"error")},n.infoTick=(...r)=>{_.info(ii,...r),t&&setTimeout(()=>mo(r[0]),0)}):Kd.forEach(r=>{n[r]=()=>{}}),n}var z=L0(),Po=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Co}.`)}},Mp=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(e){return P(this,null,function*(){let t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>Co)throw new Po;this.events.push(e)})}finish(){return new Promise(e=>{let t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let e=this.events.map(t=>t.timestamp).sort()[0];return e?Lo(e):null}},D0=class{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t()},{once:!0}),this._worker.addEventListener("error",n=>{t(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){j&&z.info("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){let n=this._getAndIncrementId();return new Promise((r,a)=>{let i=({data:s})=>{let o=s;if(o.method===e&&o.id===n){if(this._worker.removeEventListener("message",i),!o.success){j&&z.error("Error in compression worker: ",o.response),a(new Error("Error in compression worker"));return}r(o.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}},P0=class{constructor(e){this._worker=new D0(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){let t=Lo(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);let n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>Co?Promise.reject(new Po):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{j&&z.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}_finishRequest(){return P(this,null,function*(){let e=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e})}},F0=class{constructor(e){this._fallback=new Mp,this._compression=new P0(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}finish(){return P(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return P(this,null,function*(){try{yield this._compression.ensureReady()}catch(e){j&&z.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return P(this,null,function*(){let{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(let a of e)r.push(this._compression.addEvent(a));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{yield Promise.all(r),this._fallback.clear()}catch(a){j&&z.exception(a,"Failed to add events when switching buffers.")}})}};function $0({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=U0(t);if(n)return n}return j&&z.info("Using simple buffer"),new Mp}function U0(e){try{let t=e||B0();if(!t)return;j&&z.info(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new F0(n)}catch(t){j&&z.exception(t,"Failed to create compression worker")}}function B0(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?N0():""}function Fo(){try{return"sessionStorage"in fe&&!!fe.sessionStorage}catch(e){return!1}}function H0(e){j0(),e.session=void 0}function j0(){if(Fo())try{fe.sessionStorage.removeItem(Io)}catch(e){}}function Ap(e){return e===void 0?!1:Math.random()<e}function $o(e){if(Fo())try{fe.sessionStorage.setItem(Io,JSON.stringify(e))}catch(t){}}function Op(e){let t=Date.now(),n=e.id||ke(),r=e.started||t,a=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,o=e.previousSessionId;return{id:n,started:r,lastActivity:a,segmentId:i,sampled:s,previousSessionId:o}}function z0(e,t){return Ap(e)?"session":t?"buffer":!1}function Jd({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let a=z0(e,t),i=Op({sampled:a,previousSessionId:r});return n&&$o(i),i}function q0(){if(!Fo())return null;try{let e=fe.sessionStorage.getItem(Io);if(!e)return null;let t=JSON.parse(e);return j&&z.infoTick("Loading existing session"),Op(t)}catch(e){return null}}function Eo(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Np(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Eo(e.started,t,r)||Eo(e.lastActivity,n,r)}function Lp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Np(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function go({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let a=r.stickySession&&q0();return a?Lp(a,{sessionIdleExpire:e,maxReplayDuration:t})?(j&&z.infoTick("Session in sessionStorage is expired, creating new one..."),Jd(r,{previousSessionId:a.id})):a:(j&&z.infoTick("Creating new session"),Jd(r,{previousSessionId:n}))}function W0(e){return e.type===V.Custom}function Uo(e,t,n){return Pp(e,t)?(Dp(e,t,n),!0):!1}function G0(e,t,n){return Pp(e,t)?Dp(e,t,n):Promise.resolve(null)}function Dp(e,t,n){return P(this,null,function*(){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let a=e.recordingMode==="buffer";try{n&&a&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=Y0(t,i.beforeAddRecordingEvent);return s?yield r.addEvent(s):void 0}catch(i){let s=i&&i instanceof Po,o=s?"addEventSizeExceeded":"addEvent";if(s&&a)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),yield e.stop({reason:o});let l=T();l&&l.recordDroppedEvent("internal_sdk_error","replay")}})}function Pp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=Lo(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(j&&z.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Y0(e,t){try{if(typeof t=="function"&&W0(e))return t(e)}catch(n){return j&&z.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Bo(e){return!e.type}function ko(e){return e.type==="transaction"}function V0(e){return e.type==="replay_event"}function Xd(e){return e.type==="feedback"}function K0(e){return(t,n)=>{if(!e.isEnabled()||!Bo(t)&&!ko(t))return;let r=n==null?void 0:n.statusCode;if(!(!r||r<200||r>=300)){if(ko(t)){J0(e,t);return}X0(e,t)}}}function J0(e,t){var r,a;let n=e.getContext();(a=(r=t.contexts)==null?void 0:r.trace)!=null&&a.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function X0(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||on(()=>P(this,null,function*(){try{yield e.sendBufferedReplayOrFlush()}catch(a){e.handleException(a)}}))}function Z0(e){return t=>{!e.isEnabled()||!Bo(t)||Q0(e,t)}}function Q0(e,t){var r,a,i;let n=(i=(a=(r=t.exception)==null?void 0:r.values)==null?void 0:a[0])==null?void 0:i.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let s=yt({category:"replay.hydrate-error",data:{url:qe()}});Xr(e,s)}}function eS(e){let t=T();t&&t.on("beforeAddBreadcrumb",n=>tS(e,n))}function tS(e,t){if(!e.isEnabled()||!Fp(t))return;let n=nS(t);n&&Xr(e,n)}function nS(e){return!Fp(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?rS(e):yt(e)}function rS(e){var a;let t=(a=e.data)==null?void 0:a.arguments;if(!Array.isArray(t)||t.length===0)return yt(e);let n=!1,r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>ti?(n=!0,`${i.slice(0,ti)}\u2026`):i;if(typeof i=="object")try{let s=Ye(i,7);return JSON.stringify(s).length>ti?(n=!0,`${JSON.stringify(s,null,2).slice(0,ti)}\u2026`):s}catch(s){}return i});return yt(E(h({},e),{data:h(E(h({},e.data),{arguments:r}),n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function Fp(e){return!!e.category}function aS(e,t){var n;return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!((n=t.originalException)!=null&&n.__rrweb__)}function $p(){let e=U().getPropagationContext().dsc;e&&delete e.replay_id;let t=de();if(t){let n=Ve(t);delete n.replay_id}}function iS(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:V.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function sS(e,t){return e.recordingMode!=="buffer"||t.message===xo||!t.exception||t.type?!1:Ap(e.getOptions().errorSampleRate)}function oS(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:V0(t)?(delete t.breadcrumbs,t):!Bo(t)&&!ko(t)&&!Xd(t)?t:e.checkAndHandleExpiredSession()?Xd(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),iS(e,t),t):aS(t,n)&&!e.getOptions()._experiments.captureExceptions?(j&&z.log("Ignoring error from rrweb internals",t),null):((sS(e,t)||e.recordingMode==="session")&&(t.tags=E(h({},t.tags),{replayId:e.getSessionId()})),t):($p(),t),{id:"Replay"})}function vi(e,t){return t.map(({type:n,start:r,end:a,name:i,data:s})=>{let o=e.throttledAddEvent({type:V.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:a,data:s}}});return typeof o=="string"?Promise.resolve(null):o})}function lS(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function cS(e){return t=>{if(!e.isEnabled())return;let n=lS(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(vi(e,[n]),!1)))}}function uS(e,t){return j&&e.getOptions()._experiments.traceInternals?!1:Da(t,T())}function Up(e,t){e.isEnabled()&&t!==null&&(uS(e,t.name)||e.addUpdate(()=>(vi(e,[t]),!0)))}function bi(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=po(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(n){}}function Bp(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function fi(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n=h({},e._meta),r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Hp(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:a,method:i,statusCode:s,request:o,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:a,data:{method:i,statusCode:s,request:o,response:l}}}function Kr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Kt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:a,warnings:i}=dS(n);return r.body=a,i!=null&&i.length&&(r._meta={warnings:i}),r}function To(e,t){return Object.entries(e).reduce((n,[r,a])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=a),n},{})}function dS(e){if(!e||typeof e!="string")return{body:e};let t=e.length>Ad,n=pS(e);if(t){let r=e.slice(0,Ad);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(r){}return{body:e}}function pS(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function hi(e,t){let n=fS(e);return Fe(n,t)}function fS(e,t=fe.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(fe.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}function hS(e,t,n){return P(this,null,function*(){try{let r=yield gS(e,t,n),a=Hp("resource.fetch",r);Up(n.replay,a)}catch(r){j&&z.exception(r,"Failed to capture fetch breadcrumb")}})}function mS(e,t){let{input:n,response:r}=t,a=n?Br(n):void 0,i=bi(a),s=r?Bp(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function gS(e,t,n){return P(this,null,function*(){let r=Date.now(),{startTimestamp:a=r,endTimestamp:i=r}=t,{url:s,method:o,status_code:l=0,request_body_size:c,response_body_size:d}=e.data,u=hi(s,n.networkDetailAllowUrls)&&!hi(s,n.networkDetailDenyUrls),p=u?_S(n,t.input,c):Kr(c),f=yield yS(u,n,t.response,d);return{startTimestamp:a,endTimestamp:i,url:s,method:o,statusCode:l,request:p,response:f}})}function _S({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let a=n?SS(n,t):{};if(!e)return Kt(a,r,void 0);let i=Br(n),[s,o]=Bn(i,z),l=Kt(a,r,s);return o?fi(l,o):l}function yS(i,s,o,l){return P(this,arguments,function*(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,a){if(!e&&a!==void 0)return Kr(a);let c=r?jp(r.headers,n):{};if(!r||!t&&a!==void 0)return Kt(c,a,void 0);let[d,u]=yield bS(r),p=vS(d,{networkCaptureBodies:t,responseBodySize:a,captureDetails:e,headers:c});return u?fi(p,u):p})}function vS(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:a}){try{let i=e!=null&&e.length&&n===void 0?bi(e):n;return r?t?Kt(a,i,e):Kt(a,i,void 0):Kr(i)}catch(i){return j&&z.exception(i,"Failed to serialize response body"),Kt(a,n,void 0)}}function bS(e){return P(this,null,function*(){let t=wS(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[yield ES(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(j&&z.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(j&&z.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}})}function jp(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function SS(e,t){return e.length===1&&typeof e[0]!="string"?Zd(e[0],t):e.length===2?Zd(e[1],t):{}}function Zd(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?jp(n,t):Array.isArray(n)?{}:To(n,t):{}}function wS(e){try{return e.clone()}catch(t){j&&z.exception(t,"Failed to clone response body")}}function ES(e){return new Promise((t,n)=>{let r=on(()=>n(new Error("Timeout while trying to read response body")),500);kS(e).then(a=>t(a),a=>n(a)).finally(()=>clearTimeout(r))})}function kS(e){return P(this,null,function*(){return yield e.text()})}function TS(e,t,n){return P(this,null,function*(){try{let r=xS(e,t,n),a=Hp("resource.xhr",r);Up(n.replay,a)}catch(r){j&&z.exception(r,"Failed to capture xhr breadcrumb")}})}function IS(e,t){let{xhr:n,input:r}=t;if(!n)return;let a=bi(r),i=n.getResponseHeader("content-length")?Bp(n.getResponseHeader("content-length")):AS(n.response,n.responseType);a!==void 0&&(e.data.request_body_size=a),i!==void 0&&(e.data.response_body_size=i)}function xS(e,t,n){let r=Date.now(),{startTimestamp:a=r,endTimestamp:i=r,input:s,xhr:o}=t,{url:l,method:c,status_code:d=0,request_body_size:u,response_body_size:p}=e.data;if(!l)return null;if(!o||!hi(l,n.networkDetailAllowUrls)||hi(l,n.networkDetailDenyUrls)){let b=Kr(u),I=Kr(p);return{startTimestamp:a,endTimestamp:i,url:l,method:c,statusCode:d,request:b,response:I}}let f=o[Ge],m=f?To(f.request_headers,n.networkRequestHeaders):{},g=To(CS(o),n.networkResponseHeaders),[y,v]=n.networkCaptureBodies?Bn(s,z):[void 0],[w,M]=n.networkCaptureBodies?RS(o):[void 0],L=Kt(m,u,y),O=Kt(g,p,w);return{startTimestamp:a,endTimestamp:i,url:l,method:c,statusCode:d,request:v?fi(L,v):L,response:M?fi(O,M):O}}function CS(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[a,i]=r.split(": ");return i&&(n[a.toLowerCase()]=i),n},{}):{}}function RS(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return MS(e.response,e.responseType)}catch(n){t.push(n)}return j&&z.warn("Failed to get xhr response body",...t),[void 0]}function MS(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return j&&z.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return j&&z.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function AS(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return bi(n)}catch(n){return}}function OS(e){let t=T();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:a,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),o={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:a,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(l,c)=>NS(o,l,c))}catch(n){}}function NS(e,t,n){if(t.data)try{LS(t)&&PS(n)&&(IS(t,n),TS(t,n,e)),DS(t)&&FS(n)&&(mS(t,n),hS(t,n,e))}catch(r){j&&z.exception(r,"Error when enriching network breadcrumb")}}function LS(e){return e.category==="xhr"}function DS(e){return e.category==="fetch"}function PS(e){return e==null?void 0:e.xhr}function FS(e){return e==null?void 0:e.response}function $S(e,{autoFlushOnFeedback:t}){let n=T();ei(f0(e)),Gt(cS(e)),eS(e),OS(e);let r=oS(e);Oa(r),n&&(n.on("beforeSendEvent",Z0(e)),n.on("afterSendEvent",K0(e)),n.on("createDsc",a=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(a.replay_id=i)}),n.on("spanStart",a=>{e.lastActiveSpan=a}),n.on("spanEnd",a=>{e.lastActiveSpan=a}),n.on("beforeSendFeedback",(a,i)=>P(this,null,function*(){var o;let s=e.getSessionId();i!=null&&i.includeReplay&&e.isEnabled()&&s&&((o=a.contexts)!=null&&o.feedback)&&(a.contexts.feedback.source==="api"&&t&&(yield e.flush()),a.contexts.feedback.replay_id=s)})),t&&n.on("openFeedbackWidget",()=>P(this,null,function*(){yield e.flush()})))}function US(e){return P(this,null,function*(){try{return Promise.all(vi(e,[BS(fe.performance.memory)]))}catch(t){return[]}})}function BS(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,a=Date.now()/1e3;return{type:"memory",name:"memory",start:a,end:a,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function HS(e,t,n){let r,a,i,s=n!=null&&n.maxWait?Math.max(n.maxWait,t):0;function o(){return l(),r=e(),r}function l(){a!==void 0&&clearTimeout(a),i!==void 0&&clearTimeout(i),a=i=void 0}function c(){return a!==void 0||i!==void 0?o():r}function d(){return a&&clearTimeout(a),a=on(o,t),s&&i===void 0&&(i=on(o,s)),r}return d.cancel=l,d.flush=c,d}var tt=N.navigator;function jS(){var e,t;return/iPhone|iPad|iPod/i.test((e=tt==null?void 0:tt.userAgent)!=null?e:"")||/Macintosh/i.test((t=tt==null?void 0:tt.userAgent)!=null?t:"")&&(tt!=null&&tt.maxTouchPoints)&&(tt==null?void 0:tt.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function zS(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){j&&z.warn("Received replay event after session expired.");return}let a=r||!t;t=!0,e.clickDetector&&l0(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&a&&e.setInitialState(),!Uo(e,n,a))return!0;if(!a)return!1;let i=e.session;if(WS(e,a),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(j&&z.info(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&$o(i))}return i!=null&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function qS(e){let t=e.getOptions();return{type:V.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function WS(e,t){!t||!e.session||e.session.segmentId!==0||Uo(e,qS(e),!1)}function GS(e,t,n,r){return ut(As(e,Ia(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function YS({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let a=new TextEncoder().encode(r);n=new Uint8Array(a.length+e.length),n.set(a),n.set(e,a.length)}return n}function VS(a){return P(this,arguments,function*({client:e,scope:t,replayId:n,event:r}){let i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);let o=yield $s(e.getOptions(),r,s,t,e,me());if(!o)return null;e.emit("postprocessEvent",o,s),o.platform=o.platform||"javascript";let l=e.getSdkMetadata(),{name:c,version:d}=(l==null?void 0:l.sdk)||{};return o.sdk=E(h({},o.sdk),{name:c||"sentry.javascript.unknown",version:d||"0.0.0"}),o})}function KS(s){return P(this,arguments,function*({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:a,session:i}){let o=YS({recordingData:e,headers:{segment_id:n}}),{urls:l,errorIds:c,traceIds:d,initialTimestamp:u}=r,p=T(),f=U(),m=p==null?void 0:p.getTransport(),g=p==null?void 0:p.getDsn();if(!p||!m||!g||!i.sampled)return it({});let y={type:Iv,replay_start_timestamp:u/1e3,timestamp:a/1e3,error_ids:c,trace_ids:d,urls:l,replay_id:t,segment_id:n,replay_type:i.sampled},v=yield VS({scope:f,client:p,replayId:t,event:y});if(!v)return p.recordDroppedEvent("event_processor","replay"),j&&z.info("An event processor returned `null`, will not send event."),it({});delete v.sdkProcessingMetadata;let w=GS(v,o,g,p.getOptions().tunnel),M;try{M=yield m.send(w)}catch(O){let b=new Error(xo);try{b.cause=O}catch(I){}throw b}if(typeof M.statusCode=="number"&&(M.statusCode<200||M.statusCode>=300))throw new zp(M.statusCode);let L=js({},M);if(Hs(L,"replay"))throw new Ho(L);return M})}var zp=class extends Error{constructor(e){super(`Transport returned status code ${e}`)}},Ho=class extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}};function qp(n){return P(this,arguments,function*(e,t={count:0,interval:Ov}){let{recordingData:r,onError:a}=e;if(r.length)try{return yield KS(e),!0}catch(i){if(i instanceof zp||i instanceof Ho)throw i;if(Ra("Replays",{_retryCount:t.count}),a&&a(i),t.count>=Nv){let s=new Error(`${xo} - max retries exceeded`);try{s.cause=i}catch(o){}throw s}return t.interval*=++t.count,new Promise((s,o)=>{on(()=>P(this,null,function*(){try{yield qp(e,t),s(!0)}catch(l){o(l)}}),t.interval)})}})}var Wp="__THROTTLED",JS="__SKIPPED";function XS(e,t,n){let r=new Map,a=o=>{let l=o-n;r.forEach((c,d)=>{d<l&&r.delete(d)})},i=()=>[...r.values()].reduce((o,l)=>o+l,0),s=!1;return(...o)=>{let l=Math.floor(Date.now()/1e3);if(a(l),i()>=t){let d=s;return s=!0,d?JS:Wp}s=!1;let c=r.get(l)||0;return r.set(l,c+1),e(...o)}}var ZS=class{constructor({options:e,recordingOptions:t}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:xv,sessionIdleExpire:Cv},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=HS(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=XS((i,s)=>G0(this,i,s),300,5);let{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),a=n?{threshold:Math.min(Lv,n),timeout:n,scrollTimeout:Dv,ignoreSelector:r?r.join(","):""}:void 0;if(a&&(this.clickDetector=new a0(this,a)),j){let i=e._experiments;z.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{fe.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let i=yt({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{let i=yt({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{_0(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){j&&z.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){let{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;if(this._requiresManualStart=r,!r){if(this._initializeSessionForSampling(e),!this.session){j&&z.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",j&&z.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){j&&z.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){j&&z.info("Buffering is in progress, call `flush()` to save the replay");return}j&&z.infoTick("Starting replay in session mode"),this._updateUserActivity();let e=go({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled){j&&z.info("Buffering is in progress, call `flush()` to save the replay");return}j&&z.infoTick("Starting replay in buffer mode");let e=go({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let e=this._canvas;this._stopRecording=Nt(h(E(h(E(h(h({},this._recordingOptions),this.recordingMode==="buffer"?{checkoutEveryNms:Av}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),{emit:zS(this)}),jS()),{onMutation:this._onMutationHandler.bind(this)}),e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}stop(){return P(this,arguments,function*({forceFlush:e=!1,reason:t}={}){var n;if(this._isEnabled){this._isEnabled=!1;try{j&&z.info(`Stopping Replay${t?` triggered by ${t}`:""}`),$p(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&(yield this._flush({force:!0})),(n=this.eventBuffer)==null||n.destroy(),this.eventBuffer=null,H0(this)}catch(r){this.handleException(r)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),j&&z.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),j&&z.info("Resuming replay"))}sendBufferedReplayOrFlush(){return P(this,arguments,function*({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let t=Date.now();j&&z.info("Converting buffer to session"),yield this.flushImmediate();let n=this.stopRecording();!e||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())})}addUpdate(e){let t=e();this.recordingMode!=="buffer"&&t!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var e;return(e=this.session)==null?void 0:e.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Eo(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let e=`${fe.location.pathname}${fe.location.hash}${fe.location.search}`,t=`${fe.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){let n=this._throttledAddEvent(e,t);if(n===Wp){let r=yt({category:"replay.throttled"});this.addUpdate(()=>!Uo(this,{type:Xb,timestamp:r.timestamp||0,data:{tag:"breadcrumb",payload:r,metric:!0}}))}return n}getCurrentRoute(){let e=this.lastActiveSpan||de(),t=e&&ue(e),n=(t&&F(t).data||{})[Pe];if(!(!t||!n||!["route","custom"].includes(n)))return F(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=$0({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){let t=this._options.errorSampleRate>0,n=go({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;let e=this.session;return Lp(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}_refreshSession(e){return P(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(e.id))})}_addListeners(){try{fe.document.addEventListener("visibilitychange",this._handleVisibilityChange),fe.addEventListener("blur",this._handleWindowBlur),fe.addEventListener("focus",this._handleWindowFocus),fe.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||($S(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=A0(this)}_removeListeners(){try{fe.document.removeEventListener("visibilitychange",this._handleVisibilityChange),fe.removeEventListener("blur",this._handleWindowBlur),fe.removeEventListener("focus",this._handleWindowFocus),fe.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||Np(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(this.session){if(!this.checkAndHandleExpiredSession()){j&&z.info("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:V.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=S0(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let t=this._context.initialTimestamp/1e3;e=e.filter(n=>n.start>=t)}return Promise.all(vi(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart||e.segmentId)return;let n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}_runFlush(){return P(this,null,function*(){var t;let e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){j&&z.error("No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!!((t=this.eventBuffer)!=null&&t.hasEvents)&&(yield US(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),a=this.session.segmentId++;this._maybeSaveSession();let i=yield this.eventBuffer.finish();yield qp({replayId:e,recordingData:i,segmentId:a,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=T();if(r){let a=n instanceof Ho?"ratelimit_backoff":"send_error";r.recordDroppedEvent(a,"replay")}}})}_flush(){return P(this,arguments,function*({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){j&&z.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();let r=n<this._options.minReplayDuration,a=n>this._options.maxReplayDuration+5e3;if(r||a){j&&z.info(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),r&&this._debouncedFlush();return}let i=this.eventBuffer;i&&this.session.segmentId===0&&!i.hasCheckout&&j&&z.info("Flushing initial segment without checkout.");let s=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{yield this._flushLock}catch(o){this.handleException(o)}finally{this._flushLock=void 0,s&&this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&$o(this.session)}_onMutationHandler(e){let t=e.length,n=this._options.mutationLimit,r=this._options.mutationBreadcrumbLimit,a=n&&t>n;if(t>r||a){let i=yt({category:"replay.mutations",data:{count:t,limit:a}});this._createCustomBreadcrumb(i)}return a?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function jr(e,t){return[...e,...t].join(",")}function QS({mask:e,unmask:t,block:n,unblock:r,ignore:a}){let i=["base","iframe[srcdoc]:not([src])"],s=jr(e,[".sentry-mask","[data-sentry-mask]"]),o=jr(t,[]);return{maskTextSelector:s,unmaskTextSelector:o,blockSelector:jr(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:jr(r,[]),ignoreSelector:jr(a,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function e1({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:a,value:i}){return!r||a.unmaskTextSelector&&e.matches(a.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var Qd='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',t1=["content-length","content-type","accept"],ep=!1,Gp=e=>new n1(e),n1=class{constructor({flushMinDelay:e=Rv,flushMaxDelay:t=Mv,minReplayDuration:n=Pv,maxReplayDuration:r=Od,stickySession:a=!0,useCompression:i=!0,workerUrl:s,_experiments:o={},maskAllText:l=!0,maskAllInputs:c=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:u=750,mutationLimit:p=1e4,slowClickTimeout:f=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:y=[],networkCaptureBodies:v=!0,networkRequestHeaders:w=[],networkResponseHeaders:M=[],mask:L=[],maskAttributes:O=["title","placeholder","aria-label"],unmask:b=[],block:I=[],unblock:W=[],ignore:S=[],maskFn:R,beforeAddRecordingEvent:x,beforeErrorSampling:k,onError:C}={}){this.name="Replay";let $=QS({mask:L,unmask:b,block:I,unblock:W,ignore:S});if(this._recordingOptions=E(h({maskAllInputs:c,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:R,maskInputFn:R,maskAttributeFn:(G,D,X)=>e1({maskAttributes:O,maskAllText:l,privacyOptions:$,key:G,value:D,el:X})},$),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:G=>{try{G.__rrweb__=!0}catch(D){}},recordCrossOriginIframes:!!o.recordCrossOriginIframes}),this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,Fv),maxReplayDuration:Math.min(r,Od),stickySession:a,useCompression:i,workerUrl:s,blockAllMedia:d,maskAllInputs:c,maskAllText:l,mutationBreadcrumbLimit:u,mutationLimit:p,slowClickTimeout:f,slowClickIgnoreSelectors:m,networkDetailAllowUrls:g,networkDetailDenyUrls:y,networkCaptureBodies:v,networkRequestHeaders:tp(w),networkResponseHeaders:tp(M),beforeAddRecordingEvent:x,beforeErrorSampling:k,onError:C,_experiments:o},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Qd}`:Qd),this._isInitialized&&Ar())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return ep}set _isInitialized(e){ep=e}afterAllSetup(e){!Ar()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var e;if((e=this._replay)!=null&&e.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var e;if((e=this._replay)!=null&&e.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){let t=r1(this._initialOptions,e);this._replay=new ZS({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{let t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(t){}}};function r1(e,t){let n=t.getOptions(),r=h({sessionSampleRate:0,errorSampleRate:0},e),a=Ut(n.replaysSessionSampleRate),i=Ut(n.replaysOnErrorSampleRate);return a==null&&i==null&&Ct(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),a!=null&&(r.sessionSampleRate=a),i!=null&&(r.errorSampleRate=i),r}function tp(e){return[...t1,...e.map(t=>t.toLowerCase())]}function Yp(){var e;return(e=T())==null?void 0:e.getIntegrationByName("Replay")}var a1=Object.defineProperty,i1=(e,t,n)=>t in e?a1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vp=(e,t,n)=>i1(e,typeof t!="symbol"?t+"":t,n),s1=class{constructor(){Vp(this,"idNodeMap",new Map),Vp(this,"nodeMetaMap",new WeakMap)}getId(e){var t,n;return e&&(n=(t=this.getMeta(e))==null?void 0:t.id)!=null?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function o1(){return new s1}function l1(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function zo(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:zo(e.parentNode,t,n,r+1)}function Kp(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(l1(r,e))return!0}return!!(t&&r.matches(t))}catch(a){return!1}}}var Jn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Jp={map:{},getId(){return console.error(Jn),-1},getNode(){return console.error(Jn),null},removeNodeFromMap(){console.error(Jn)},has(){return console.error(Jn),!1},reset(){console.error(Jn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Jp=new Proxy(Jp,{get(e,t,n){return t==="map"&&console.error(Jn),Reflect.get(e,t,n)}}));function qo(e,t,n,r,a=window){let i=a.Object.getOwnPropertyDescriptor(e,t);return a.Object.defineProperty(e,t,r?n:{set(s){sf(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>qo(e,t,i||{},!0)}function Wo(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],a=n(r);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=a,()=>{e[t]=r}}catch(r){return()=>{}}}Date.now().toString();function c1(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function ki(e,t,n,r,a){if(!e)return!1;let i=c1(e);if(!i)return!1;let s=Kp(t,n);if(!a){let c=r&&i.matches(r);return s(i)&&!c}let o=zo(i,s),l=-1;return o<0?!1:(r&&(l=zo(i,Kp(null,r))),o>-1&&l<0?!0:o<l)}var Xp={};function af(e){let t=Xp[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);let i=a.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(a)}catch(a){}return Xp[e]=r.bind(window)}function cn(...e){return af("requestAnimationFrame")(...e)}function sf(...e){return af("setTimeout")(...e)}var Zn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Zn||{}),wi;function u1(e){wi=e}var jo=e=>wi?(...t)=>{try{return e(...t)}catch(n){if(wi&&wi(n)===!0)return()=>{};throw n}}:e,Xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Zr=0;Zr<Xn.length;Zr++)d1[Xn.charCodeAt(Zr)]=Zr;var Zr,p1=function(e){var t=new Uint8Array(e),n,r=t.length,a="";for(n=0;n<r;n+=3)a+=Xn[t[n]>>2],a+=Xn[(t[n]&3)<<4|t[n+1]>>4],a+=Xn[(t[n+1]&15)<<2|t[n+2]>>6],a+=Xn[t[n+2]&63];return r%3===2?a=a.substring(0,a.length-1)+"=":r%3===1&&(a=a.substring(0,a.length-2)+"=="),a},Zp=new Map;function f1(e,t){let n=Zp.get(e);return n||(n=new Map,Zp.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var of=(e,t,n)=>{if(!e||!(cf(e,t)||typeof e=="object"))return;let r=e.constructor.name,a=f1(n,r),i=a.indexOf(e);return i===-1&&(i=a.length,a.push(e)),i};function Ei(e,t,n){if(e instanceof Array)return e.map(r=>Ei(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,a=p1(e);return{rr_type:r,base64:a}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Ei(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:a}=e;return{rr_type:r,src:a}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",a=e.toDataURL();return{rr_type:r,src:a}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Ei(e.data,t,n),e.width,e.height]};if(cf(e,t)||typeof e=="object"){let r=e.constructor.name,a=of(e,t,n);return{rr_type:r,index:a}}}}return e}var lf=(e,t,n)=>e.map(r=>Ei(r,t,n)),cf=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(n=>typeof t[n]=="function").find(n=>e instanceof t[n]);function h1(e,t,n,r,a){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let o of s)try{if(typeof t.CanvasRenderingContext2D.prototype[o]!="function")continue;let l=Wo(t.CanvasRenderingContext2D.prototype,o,function(c){return function(...d){return ki(this.canvas,n,r,a,!0)||sf(()=>{let u=lf(d,t,this);e(this.canvas,{type:Zn["2D"],property:o,args:u})},0),c.apply(this,d)}});i.push(l)}catch(l){let c=qo(t.CanvasRenderingContext2D.prototype,o,{set(d){e(this.canvas,{type:Zn["2D"],property:o,args:[d],setter:!0})}});i.push(c)}return()=>{i.forEach(o=>o())}}function m1(e){return e==="experimental-webgl"?"webgl":e}function Qp(e,t,n,r,a){let i=[];try{let s=Wo(e.HTMLCanvasElement.prototype,"getContext",function(o){return function(l,...c){if(!ki(this,t,n,r,!0)){let d=m1(l);if("__context"in this||(this.__context=d),a&&["webgl","webgl2"].includes(d))if(c[0]&&typeof c[0]=="object"){let u=c[0];u.preserveDrawingBuffer||(u.preserveDrawingBuffer=!0)}else c.splice(0,1,{preserveDrawingBuffer:!0})}return o.apply(this,[l,...c])}});i.push(s)}catch(s){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function ef(e,t,n,r,a,i,s,o){let l=[],c=Object.getOwnPropertyNames(e);for(let d of c)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let u=Wo(e,d,function(p){return function(...f){let m=p.apply(this,f);if(of(m,o,this),"tagName"in this.canvas&&!ki(this.canvas,r,a,i,!0)){let g=lf(f,o,this),y={type:t,property:d,args:g};n(this.canvas,y)}return m}});l.push(u)}catch(u){let p=qo(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});l.push(p)}return l}function g1(e,t,n,r,a,i){let s=[];return s.push(...ef(t.WebGLRenderingContext.prototype,Zn.WebGL,e,n,r,a,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...ef(t.WebGL2RenderingContext.prototype,Zn.WebGL2,e,n,r,a,i,t)),()=>{s.forEach(o=>o())}}var _1='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function y1(){let e=new Blob([_1]);return URL.createObjectURL(e)}var v1=class{constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(d,u)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(u)};let{sampling:t="all",win:n,blockClass:r,blockSelector:a,unblockSelector:i,maxCanvasSize:s,recordCanvas:o,dataURLOptions:l,errorHandler:c}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,c&&u1(c),(o&&typeof t=="number"||e.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(n),!e.enableManualSnapshot&&jo(()=>{o&&t==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),o&&typeof t=="number"&&this.initCanvasFPSObserver(t,r,a,i,s,{dataURLOptions:l})})()}reset(){var e;this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch(n){}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,(e=this.worker)==null||e.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(e){let{sampling:t="all",blockClass:n,blockSelector:r,unblockSelector:a,recordCanvas:i,enableManualSnapshot:s}=this.options;if(!this.windowsSet.has(e)){if(s){this.windowsSet.add(e),this.windows.push(new WeakRef(e));return}jo(()=>{if(i&&t==="all"&&this.initCanvasMutationObserver(e,n,r,a),i&&typeof t=="number"){let o=Qp(e,n,r,a,!0);this.restoreHandlers.push(()=>{o()})}})(),this.windowsSet.add(e),this.windows.push(new WeakRef(e))}}addShadowRoot(e){this.shadowDoms.add(new WeakRef(e))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){let e=new Worker(y1());return e.onmessage=t=>{let n=t.data,{id:r}=n;if(this.snapshotInProgressMap.set(r,!1),!("base64"in n))return;let{base64:a,type:i,width:s,height:o}=n;this.mutationCb({id:r,type:Zn["2D"],commands:[{property:"clearRect",args:[0,0,s,o]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:a}],type:i}]},0,0,s,o]}]})},e}initCanvasFPSObserver(e,t,n,r,a,i){let s=this.takeSnapshot(!1,e,t,n,r,a,i.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(s)})}initCanvasMutationObserver(e,t,n,r){let a=Qp(e,t,n,r,!1),i=h1(this.processMutation.bind(this),e,t,n,r),s=g1(this.processMutation.bind(this),e,t,n,r,this.mirror);this.restoreHandlers.push(()=>{a(),i(),s()})}snapshot(e){let{options:t}=this,n=this.takeSnapshot(!0,t.sampling==="all"?2:t.sampling||2,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.restoreHandlers.push(()=>{cancelAnimationFrame(n)})}takeSnapshot(e,t,n,r,a,i,s,o){let l=1e3/t,c,d=p=>{if(p)return[p];let f=[],m=g=>{g.querySelectorAll("canvas").forEach(y=>{ki(y,n,r,a,!0)||f.push(y)})};for(let g of this.windows){let y=g.deref(),v;try{v=y&&y.document}catch(w){}v&&m(v)}for(let g of this.shadowDoms){let y=g.deref();y&&m(y)}return f},u=p=>{if(this.windows.length){if(this.lastSnapshotTime&&p-this.lastSnapshotTime<l){c=cn(u);return}this.lastSnapshotTime=p,d(o).forEach(f=>{var g;if(!this.mirror.hasNode(f))return;let m=this.mirror.getId(f);if(!this.snapshotInProgressMap.get(m)&&!(!f.width||!f.height)){if(this.snapshotInProgressMap.set(m,!0),!e&&["webgl","webgl2"].includes(f.__context)){let y=f.getContext(f.__context);((g=y==null?void 0:y.getContextAttributes())==null?void 0:g.preserveDrawingBuffer)===!1&&y.clear(y.COLOR_BUFFER_BIT)}createImageBitmap(f).then(y=>{var v;(v=this.worker)==null||v.postMessage({id:m,bitmap:y,width:f.width,height:f.height,dataURLOptions:s,maxCanvasSize:i},[y])}).catch(y=>{jo(()=>{throw y})()})}}),e||(c=cn(u))}};return c=cn(u),c}startPendingCanvasMutationFlusher(){cn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let e=t=>{this.rafStamps.latestId=t,cn(e)};cn(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{let n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)}),cn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;let n=this.pendingCanvasMutations.get(e);if(!n||t===-1)return;let r=n.map(i=>{let l=i,{type:s}=l;return Dt(l,["type"])}),{type:a}=n[0];this.mutationCb({id:t,type:a,commands:r}),this.pendingCanvasMutations.delete(e)}},rf;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=((rf=e.contentWindow)==null?void 0:rf.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}o1();var tf;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(tf||(tf={}));var nf={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},b1="ReplayCanvas",Si=1280,S1=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Si):Si,n?Math.min(n,Si):Si]},a,i=new Promise(o=>a=o);return{name:b1,getOptions(){let{quality:o,enableManualSnapshot:l,maxCanvasSize:c}=r;return h({enableManualSnapshot:l,recordCanvas:!0,getCanvasManager:d=>{let u=new v1(E(h({},d),{enableManualSnapshot:l,maxCanvasSize:c,errorHandler:p=>{try{typeof p=="object"&&(p.__rrweb__=!0)}catch(f){}}}));return a(u),u}},nf[o]||nf.medium)},snapshot(o){return P(this,null,function*(){(yield i).snapshot(o)})}}},uf=S1;var pt=N,oe=pt.document,Qr=pt.navigator,xf="Report a Bug",w1="Cancel",E1="Send Bug Report",k1="Confirm",T1="Report a Bug",I1="your.email@example.org",x1="Email",C1="What's the bug? What did you expect?",R1="Description",M1="Your Name",A1="Name",O1="Thank you for your report!",N1="(required)",L1="Add a screenshot",D1="Remove screenshot",P1="widget",F1="api",$1=5e3,tl=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=T();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&U().setTags(e.tags);let r=za(h({source:F1,url:qe()},e),t);return new Promise((a,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),5e3),o=n.on("afterSendEvent",(l,c)=>{if(l.event_id===r)return clearTimeout(s),o(),c&&typeof c.statusCode=="number"&&c.statusCode>=200&&c.statusCode<300?a(r):c&&typeof c.statusCode=="number"&&c.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):c&&typeof c.statusCode=="number"&&c.statusCode===403?i("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},Ci=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function U1(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Qr.userAgent)||/Macintosh/i.test(Qr.userAgent)&&Qr.maxTouchPoints&&Qr.maxTouchPoints>1||!isSecureContext)}function Ti(e,t){return E(h(h({},e),t),{tags:h(h({},e.tags),t.tags),onFormOpen:()=>{var n,r;(n=t.onFormOpen)==null||n.call(t),(r=e.onFormOpen)==null||r.call(e)},onFormClose:()=>{var n,r;(n=t.onFormClose)==null||n.call(t),(r=e.onFormClose)==null||r.call(e)},onSubmitSuccess:n=>{var r,a;(r=t.onSubmitSuccess)==null||r.call(t,n),(a=e.onSubmitSuccess)==null||a.call(e,n)},onSubmitError:n=>{var r,a;(r=t.onSubmitError)==null||r.call(t,n),(a=e.onSubmitError)==null||a.call(e,n)},onFormSubmitted:()=>{var n,r;(n=t.onFormSubmitted)==null||n.call(t),(r=e.onFormSubmitted)==null||r.call(e)},themeDark:h(h({},e.themeDark),t.themeDark),themeLight:h(h({},e.themeLight),t.themeLight)})}function B1(e){let t=oe.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function Xe(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var Qn=20,H1="http://www.w3.org/2000/svg";function j1(){let e=o=>pt.document.createElementNS(H1,o),t=Xe(e("svg"),{width:`${Qn}`,height:`${Qn}`,viewBox:`0 0 ${Qn} ${Qn}`,fill:"var(--actor-color, var(--foreground))"}),n=Xe(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Xe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let a=e("defs"),i=Xe(e("clipPath"),{id:"clip0_57_80"}),s=Xe(e("rect"),{width:`${Qn}`,height:`${Qn}`,fill:"white"});return i.appendChild(s),a.appendChild(i),t.appendChild(a).appendChild(i).appendChild(s),t}function z1({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let a=oe.createElement("button");if(a.type="button",a.className="widget__actor",a.ariaHidden="false",a.ariaLabel=t||e||xf,a.appendChild(j1()),e){let s=oe.createElement("span");s.appendChild(oe.createTextNode(e)),a.appendChild(s)}let i=B1(r);return{el:a,appendToDom(){n.appendChild(i),n.appendChild(a)},removeFromDom(){a.remove(),i.remove()},show(){a.ariaHidden="false"},hide(){a.ariaHidden="true"}}}var Cf="rgba(88, 74, 192, 1)",q1={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Cf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},df={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Cf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function pf(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function W1({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let a=oe.createElement("style");return a.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${pf(e==="dark"?h(h({},df),t):h(h({},q1),n))}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${pf(h(h({},df),t))}
  }
}`:""}
}
`,r&&a.setAttribute("nonce",r),a}var Li=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:r="sentry-feedback",autoInject:a=!0,showBranding:i=!0,isEmailRequired:s=!1,isNameRequired:o=!1,showEmail:l=!0,showName:c=!0,enableScreenshot:d=!0,useSentryUser:u={email:"email",name:"username"},tags:p,styleNonce:f,scriptNonce:m,colorScheme:g="system",themeLight:y={},themeDark:v={},addScreenshotButtonLabel:w=L1,cancelButtonLabel:M=w1,confirmButtonLabel:L=k1,emailLabel:O=x1,emailPlaceholder:b=I1,formTitle:I=T1,isRequiredLabel:W=N1,messageLabel:S=R1,messagePlaceholder:R=C1,nameLabel:x=A1,namePlaceholder:k=M1,removeScreenshotButtonLabel:C=D1,submitButtonLabel:$=E1,successMessageText:G=O1,triggerLabel:D=xf,triggerAriaLabel:X="",onFormOpen:H,onFormClose:he,onSubmitSuccess:te,onSubmitError:Le,onFormSubmitted:hn}={})=>{let Ie={id:r,autoInject:a,showBranding:i,isEmailRequired:s,isNameRequired:o,showEmail:l,showName:c,enableScreenshot:d,useSentryUser:u,tags:p,styleNonce:f,scriptNonce:m,colorScheme:g,themeDark:v,themeLight:y,triggerLabel:D,triggerAriaLabel:X,cancelButtonLabel:M,submitButtonLabel:$,confirmButtonLabel:L,formTitle:I,emailLabel:O,emailPlaceholder:b,messageLabel:S,messagePlaceholder:R,nameLabel:x,namePlaceholder:k,successMessageText:G,isRequiredLabel:W,addScreenshotButtonLabel:w,removeScreenshotButtonLabel:C,onFormClose:he,onFormOpen:H,onSubmitError:Le,onSubmitSuccess:te,onFormSubmitted:hn},xe=null,bt=[],mn=ne=>{if(!xe){let Ee=oe.createElement("div");Ee.id=String(ne.id),oe.body.appendChild(Ee),xe=Ee.attachShadow({mode:"open"}),xe.appendChild(W1(ne))}return xe},gn=ne=>P(void 0,null,function*(){let Ee=ne.enableScreenshot&&U1(),Ze,ve;try{Ze=(t?t():yield e("feedbackModalIntegration",m))(),xr(Ze)}catch(Ce){throw Ci&&_.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let Ce=Ee?n?n():yield e("feedbackScreenshotIntegration",m):void 0;Ce&&(ve=Ce(),xr(ve))}catch(Ce){Ci&&_.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let ie=Ze.createDialog({options:E(h({},ne),{onFormClose:()=>{var Ce;ie==null||ie.close(),(Ce=ne.onFormClose)==null||Ce.call(ne)},onFormSubmitted:()=>{var Ce;ie==null||ie.close(),(Ce=ne.onFormSubmitted)==null||Ce.call(ne)}}),screenshotIntegration:ve,sendFeedback:tl,shadow:mn(ne)});return ie}),_n=(ne,Ee={})=>{let Ze=Ti(Ie,Ee),ve=typeof ne=="string"?oe.querySelector(ne):typeof ne.addEventListener=="function"?ne:null;if(!ve)throw Ci&&_.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ie=null,Ce=()=>P(void 0,null,function*(){ie||(ie=yield gn(E(h({},Ze),{onFormSubmitted:()=>{var St;ie==null||ie.removeFromDom(),(St=Ze.onFormSubmitted)==null||St.call(Ze)}}))),ie.appendToDom(),ie.open()});ve.addEventListener("click",Ce);let Zt=()=>{bt=bt.filter(St=>St!==Zt),ie==null||ie.removeFromDom(),ie=null,ve.removeEventListener("click",Ce)};return bt.push(Zt),Zt},yn=(ne={})=>{let Ee=Ti(Ie,ne),Ze=mn(Ee),ve=z1({triggerLabel:Ee.triggerLabel,triggerAriaLabel:Ee.triggerAriaLabel,shadow:Ze,styleNonce:f});return _n(ve.el,E(h({},Ee),{onFormOpen(){ve.hide()},onFormClose(){ve.show()},onFormSubmitted(){ve.show()}})),ve};return{name:"Feedback",setupOnce(){!Ar()||!Ie.autoInject||(oe.readyState==="loading"?oe.addEventListener("DOMContentLoaded",()=>yn().appendToDom()):yn().appendToDom())},attachTo:_n,createWidget(ne={}){let Ee=yn(Ti(Ie,ne));return Ee.appendToDom(),Ee},createForm(){return P(this,arguments,function*(ne={}){return gn(Ti(Ie,ne))})},remove(){var ne;xe&&((ne=xe.parentElement)==null||ne.remove(),xe=null),bt.forEach(Ee=>Ee()),bt=[]}}};function Rf(){var e;return(e=T())==null?void 0:e.getIntegrationByName("Feedback")}var Di,ce,Mf,un,ff,Af,Xo,ea={},nl=[],G1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,rl=Array.isArray;function Xt(e,t){for(var n in t)e[n]=t[n];return e}function Of(e){var t=e.parentNode;t&&t.removeChild(e)}function K(e,t,n){var r,a,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?a=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?Di.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return Ri(e,s,r,a,null)}function Ri(e,t,n,r,a){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a!=null?a:++Mf,__i:-1,__u:0};return a==null&&ce.vnode!=null&&ce.vnode(i),i}function ta(e){return e.children}function Mi(e,t){this.props=e,this.context=t}function tr(e,t){if(t==null)return e.__?tr(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?tr(e):null}function Y1(e,t,n){var r,a=e.__v,i=a.__e,s=e.__P;if(s)return(r=Xt({},a)).__v=a.__v+1,ce.vnode&&ce.vnode(r),al(s,r,a,e.__n,s.ownerSVGElement!==void 0,32&a.__u?[i]:null,t,i!=null?i:tr(a),!!(32&a.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&Nf(r),r}function Nf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Nf(e)}}function hf(e){(!e.__d&&(e.__d=!0)&&un.push(e)&&!Ni.__r++||ff!==ce.debounceRendering)&&((ff=ce.debounceRendering)||Af)(Ni)}function Ni(){var e,t,n,r=[],a=[];for(un.sort(Xo);e=un.shift();)e.__d&&(n=un.length,t=Y1(e,r,a)||t,n===0||un.length>n?(Zo(r,t,a),a.length=r.length=0,t=void 0,un.sort(Xo)):t&&ce.__c&&ce.__c(t,nl));t&&Zo(r,t,a),Ni.__r=0}function Lf(e,t,n,r,a,i,s,o,l,c,d){var u,p,f,m,g,y=r&&r.__k||nl,v=t.length;for(n.__d=l,V1(n,t,y),l=n.__d,u=0;u<v;u++)(f=n.__k[u])!=null&&typeof f!="boolean"&&typeof f!="function"&&(p=f.__i===-1?ea:y[f.__i]||ea,f.__i=u,al(e,f,p,a,i,s,o,l,c,d),m=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&il(p.ref,null,f),d.push(f.ref,f.__c||m,f)),g==null&&m!=null&&(g=m),65536&f.__u||p.__k===f.__k?l=Df(f,l,e):typeof f.type=="function"&&f.__d!==void 0?l=f.__d:m&&(l=m.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=l,n.__e=g}function V1(e,t,n){var r,a,i,s,o,l=t.length,c=n.length,d=c,u=0;for(e.__k=[],r=0;r<l;r++)(a=e.__k[r]=(a=t[r])==null||typeof a=="boolean"||typeof a=="function"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Ri(null,a,null,null,a):rl(a)?Ri(ta,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?Ri(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)!=null?(a.__=e,a.__b=e.__b+1,o=K1(a,n,s=r+u,d),a.__i=o,i=null,o!==-1&&(d--,(i=n[o])&&(i.__u|=131072)),i==null||i.__v===null?(o==-1&&u--,typeof a.type!="function"&&(a.__u|=65536)):o!==s&&(o===s+1?u++:o>s?d>l-s?u+=o-s:u--:u=o<s&&o==s-1?o-s:0,o!==r+u&&(a.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=tr(i)),Qo(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<c;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=tr(i)),Qo(i,i))}function Df(e,t,n){var r,a;if(typeof e.type=="function"){for(r=e.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=e,t=Df(r[a],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function K1(e,t,n,r){var a=e.key,i=e.type,s=n-1,o=n+1,l=t[n];if(l===null||l&&a==l.key&&i===l.type)return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;s>=0||o<t.length;){if(s>=0){if((l=t[s])&&!(131072&l.__u)&&a==l.key&&i===l.type)return s;s--}if(o<t.length){if((l=t[o])&&!(131072&l.__u)&&a==l.key&&i===l.type)return o;o++}}return-1}function mf(e,t,n){t[0]==="-"?e.setProperty(t,n!=null?n:""):e[t]=n==null?"":typeof n!="number"||G1.test(t)?n:n+"px"}function Ii(e,t,n,r,a){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||mf(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||mf(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?_f:gf,i)):e.removeEventListener(t,i?_f:gf,i);else{if(a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n!=null?n:"";break e}catch(s){}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function gf(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ce.event?ce.event(e):e)}}function _f(e){if(this.l)return this.l[e.type+!0](ce.event?ce.event(e):e)}function al(e,t,n,r,a,i,s,o,l,c){var d,u,p,f,m,g,y,v,w,M,L,O,b,I,W,S=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),i=[o=t.__e=n.__e]),(d=ce.__b)&&d(t);e:if(typeof S=="function")try{if(v=t.props,w=(d=S.contextType)&&r[d.__c],M=d?w?w.props.value:d.__:r,n.__c?y=(u=t.__c=n.__c).__=u.__E:("prototype"in S&&S.prototype.render?t.__c=u=new S(v,M):(t.__c=u=new Mi(v,M),u.constructor=S,u.render=X1),w&&w.sub(u),u.props=v,u.state||(u.state={}),u.context=M,u.__n=r,p=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),S.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Xt({},u.__s)),Xt(u.__s,S.getDerivedStateFromProps(v,u.__s))),f=u.props,m=u.state,u.__v=t,p)S.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(S.getDerivedStateFromProps==null&&v!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,M),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,M)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=v,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(R){R&&(R.__=t)}),L=0;L<u._sb.length;L++)u.__h.push(u._sb[L]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,M),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,m,g)})}if(u.context=M,u.props=v,u.__P=e,u.__e=!1,O=ce.__r,b=0,"prototype"in S&&S.prototype.render){for(u.state=u.__s,u.__d=!1,O&&O(t),d=u.render(u.props,u.state,u.context),I=0;I<u._sb.length;I++)u.__h.push(u._sb[I]);u._sb=[]}else do u.__d=!1,O&&O(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++b<25);u.state=u.__s,u.getChildContext!=null&&(r=Xt(Xt({},r),u.getChildContext())),p||u.getSnapshotBeforeUpdate==null||(g=u.getSnapshotBeforeUpdate(f,m)),Lf(e,rl(W=d!=null&&d.type===ta&&d.key==null?d.props.children:d)?W:[W],t,n,r,a,i,s,o,l,c),u.base=t.__e,t.__u&=-161,u.__h.length&&s.push(u),y&&(u.__E=u.__=null)}catch(R){t.__v=null,l||i!=null?(t.__e=o,t.__u|=l?160:32,i[i.indexOf(o)]=null):(t.__e=n.__e,t.__k=n.__k),ce.__e(R,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=J1(n.__e,t,n,r,a,i,s,l,c);(d=ce.diffed)&&d(t)}function Zo(e,t,n){for(var r=0;r<n.length;r++)il(n[r],n[++r],n[++r]);ce.__c&&ce.__c(t,e),e.some(function(a){try{e=a.__h,a.__h=[],e.some(function(i){i.call(a)})}catch(i){ce.__e(i,a.__v)}})}function J1(e,t,n,r,a,i,s,o,l){var c,d,u,p,f,m,g,y=n.props,v=t.props,w=t.type;if(w==="svg"&&(a=!0),i!=null){for(c=0;c<i.length;c++)if((f=i[c])&&"setAttribute"in f==!!w&&(w?f.localName===w:f.nodeType===3)){e=f,i[c]=null;break}}if(e==null){if(w===null)return document.createTextNode(v);e=a?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,v.is&&v),i=null,o=!1}if(w===null)y===v||o&&e.data===v||(e.data=v);else{if(i=i&&Di.call(e.childNodes),y=n.props||ea,!o&&i!=null)for(y={},c=0;c<e.attributes.length;c++)y[(f=e.attributes[c]).name]=f.value;for(c in y)f=y[c],c=="children"||(c=="dangerouslySetInnerHTML"?u=f:c==="key"||c in v||Ii(e,c,null,f,a));for(c in v)f=v[c],c=="children"?p=f:c=="dangerouslySetInnerHTML"?d=f:c=="value"?m=f:c=="checked"?g=f:c==="key"||o&&typeof f!="function"||y[c]===f||Ii(e,c,f,y[c],a);if(d)o||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),Lf(e,rl(p)?p:[p],t,n,r,a&&w!=="foreignObject",i,s,i?i[0]:n.__k&&tr(n,0),o,l),i!=null)for(c=i.length;c--;)i[c]!=null&&Of(i[c]);o||(c="value",m!==void 0&&(m!==e[c]||w==="progress"&&!m||w==="option"&&m!==y[c])&&Ii(e,c,m,y[c],!1),c="checked",g!==void 0&&g!==e[c]&&Ii(e,c,g,y[c],!1))}return e}function il(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ce.__e(r,n)}}function Qo(e,t,n){var r,a;if(ce.unmount&&ce.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||il(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){ce.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&Qo(r[a],t,n||typeof e.type!="function");n||e.__e==null||Of(e.__e),e.__=e.__e=e.__d=void 0}function X1(e,t,n){return this.constructor(e,n)}function Z1(e,t,n){var r,a,i,s;ce.__&&ce.__(e,t),a=(r=!1)?null:t.__k,i=[],s=[],al(t,e=t.__k=K(ta,null,[e]),a||ea,ea,t.ownerSVGElement!==void 0,a?null:t.firstChild?Di.call(t.childNodes):null,i,a?a.__e:t.firstChild,r,s),e.__d=void 0,Zo(i,e,s)}Di=nl.slice,ce={__e:function(e,t,n,r){for(var a,i,s;t=t.__;)if((a=t.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(e)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,r||{}),s=a.__d),s)return a.__E=a}catch(o){e=o}throw e}},Mf=0,Mi.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Xt({},this.state),typeof e=="function"&&(e=e(Xt({},n),this.props)),e&&Xt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),hf(this))},Mi.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),hf(this))},Mi.prototype.render=ta,un=[],Af=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Xo=function(e,t){return e.__v.__b-t.__v.__b},Ni.__r=0;var Lt,le,Go,yf,nr=0,Pf=[],Ai=[],ge=ce,vf=ge.__b,bf=ge.__r,Sf=ge.diffed,wf=ge.__c,Ef=ge.unmount,kf=ge.__;function pn(e,t){ge.__h&&ge.__h(le,e,nr||t),nr=0;var n=le.__H||(le.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Ai}),n.__[e]}function dn(e){return nr=1,Ff(Uf,e)}function Ff(e,t,n){var r=pn(Lt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Uf(void 0,t),function(o){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,o);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=le,!le.u)){var a=function(o,l,c){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!i||i.call(this,o,l,c);var u=!1;return d.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(u=!0)}}),!(!u&&r.__c.props===o)&&(!i||i.call(this,o,l,c))};le.u=!0;var i=le.shouldComponentUpdate,s=le.componentWillUpdate;le.componentWillUpdate=function(o,l,c){if(this.__e){var d=i;i=void 0,a(o,l,c),i=d}s&&s.call(this,o,l,c)},le.shouldComponentUpdate=a}return r.__N||r.__}function Q1(e,t){var n=pn(Lt++,3);!ge.__s&&sl(n.__H,t)&&(n.__=e,n.i=t,le.__H.__h.push(n))}function $f(e,t){var n=pn(Lt++,4);!ge.__s&&sl(n.__H,t)&&(n.__=e,n.i=t,le.__h.push(n))}function ew(e){return nr=5,na(function(){return{current:e}},[])}function tw(e,t,n){nr=6,$f(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function na(e,t){var n=pn(Lt++,7);return sl(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function er(e,t){return nr=8,na(function(){return e},t)}function nw(e){var t=le.context[e.__c],n=pn(Lt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(le)),t.props.value):e.__}function rw(e,t){ge.useDebugValue&&ge.useDebugValue(t?t(e):e)}function aw(e){var t=pn(Lt++,10),n=dn();return t.__=e,le.componentDidCatch||(le.componentDidCatch=function(r,a){t.__&&t.__(r,a),n[1](r)}),[n[0],function(){n[1](void 0)}]}function iw(){var e=pn(Lt++,11);if(!e.__){for(var t=le.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function sw(){for(var e;e=Pf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Oi),e.__H.__h.forEach(el),e.__H.__h=[]}catch(t){e.__H.__h=[],ge.__e(t,e.__v)}}ge.__b=function(e){le=null,vf&&vf(e)},ge.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),kf&&kf(e,t)},ge.__r=function(e){bf&&bf(e),Lt=0;var t=(le=e.__c).__H;t&&(Go===le?(t.__h=[],le.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Ai,n.__N=n.i=void 0})):(t.__h.forEach(Oi),t.__h.forEach(el),t.__h=[],Lt=0)),Go=le},ge.diffed=function(e){Sf&&Sf(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Pf.push(t)!==1&&yf===ge.requestAnimationFrame||((yf=ge.requestAnimationFrame)||ow)(sw)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Ai&&(n.__=n.__V),n.i=void 0,n.__V=Ai})),Go=le=null},ge.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Oi),n.__h=n.__h.filter(function(r){return!r.__||el(r)})}catch(r){t.some(function(a){a.__h&&(a.__h=[])}),t=[],ge.__e(r,n.__v)}}),wf&&wf(e,t)},ge.unmount=function(e){Ef&&Ef(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Oi(r)}catch(a){t=a}}),n.__H=void 0,t&&ge.__e(t,n.__v))};var Tf=typeof requestAnimationFrame=="function";function ow(e){var t,n=function(){clearTimeout(r),Tf&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Tf&&(t=requestAnimationFrame(n))}function Oi(e){var t=le,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),le=t}function el(e){var t=le;e.__c=e.__(),le=t}function sl(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Uf(e,t){return typeof t=="function"?t(e):t}var lw=Object.defineProperty({__proto__:null,useCallback:er,useContext:nw,useDebugValue:rw,useEffect:Q1,useErrorBoundary:aw,useId:iw,useImperativeHandle:tw,useLayoutEffect:$f,useMemo:na,useReducer:Ff,useRef:ew,useState:dn},Symbol.toStringTag,{value:"Module"}),cw="http://www.w3.org/2000/svg";function uw(){let e=r=>oe.createElementNS(cw,r),t=Xe(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Xe(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function dw({options:e}){let t=na(()=>({__html:uw().outerHTML}),[]);return K("h2",{class:"dialog__header"},K("span",{class:"dialog__title"},e.formTitle),e.showBranding?K("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function pw(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Yo(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function fw({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:a,onSubmitSuccess:i,onSubmitError:s,showEmail:o,showName:l,screenshotInput:c}){let{tags:d,addScreenshotButtonLabel:u,removeScreenshotButtonLabel:p,cancelButtonLabel:f,emailLabel:m,emailPlaceholder:g,isEmailRequired:y,isNameRequired:v,messageLabel:w,messagePlaceholder:M,nameLabel:L,namePlaceholder:O,submitButtonLabel:b,isRequiredLabel:I}=e,[W,S]=dn(!1),[R,x]=dn(null),[k,C]=dn(!1),$=c==null?void 0:c.input,[G,D]=dn(null),X=er(te=>{D(te),C(!1)},[]),H=er(te=>{let Le=pw(te,{emailLabel:m,isEmailRequired:y,isNameRequired:v,messageLabel:w,nameLabel:L});return Le.length>0?x(`Please enter in the following required fields: ${Le.join(", ")}`):x(null),Le.length===0},[m,y,v,w,L]),he=er(te=>P(this,null,function*(){S(!0);try{if(te.preventDefault(),!(te.target instanceof HTMLFormElement))return;let Le=new FormData(te.target),hn=yield c&&k?c.value():void 0,Ie={name:Yo(Le,"name"),email:Yo(Le,"email"),message:Yo(Le,"message"),attachments:hn?[hn]:void 0};if(!H(Ie))return;try{yield a({name:Ie.name,email:Ie.email,message:Ie.message,source:P1,tags:d},{attachments:Ie.attachments}),i(Ie)}catch(xe){Ci&&_.error(xe),x(xe),s(xe)}}finally{S(!1)}}),[c&&k,i,s]);return K("form",{class:"form",onSubmit:he},$&&k?K($,{onError:X}):null,K("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:W},K("div",{class:"form__top"},R?K("div",{class:"form__error-container"},R):null,l?K("label",{for:"name",class:"form__label"},K(Vo,{label:L,isRequiredLabel:I,isRequired:v}),K("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:O,required:v,type:"text"})):K("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),o?K("label",{for:"email",class:"form__label"},K(Vo,{label:m,isRequiredLabel:I,isRequired:y}),K("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:y,type:"email"})):K("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),K("label",{for:"message",class:"form__label"},K(Vo,{label:w,isRequiredLabel:I,isRequired:!0}),K("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:M,required:!0,rows:5})),$?K("label",{for:"screenshot",class:"form__label"},K("button",{class:"btn btn--default",disabled:W,type:"button",onClick:()=>{D(null),C(te=>!te)}},k?p:u),G?K("div",{class:"form__error-container"},G.message):null):null),K("div",{class:"btn-group"},K("button",{class:"btn btn--primary",disabled:W,type:"submit"},b),K("button",{class:"btn btn--default",disabled:W,type:"button",onClick:r},f))))}function Vo({label:e,isRequired:t,isRequiredLabel:n}){return K("span",{class:"form__label__text"},e,t&&K("span",{class:"form__label__text--required"},n))}var xi=16,If=17,hw="http://www.w3.org/2000/svg";function mw(){let e=l=>pt.document.createElementNS(hw,l),t=Xe(e("svg"),{width:`${xi}`,height:`${If}`,viewBox:`0 0 ${xi} ${If}`,fill:"inherit"}),n=Xe(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Xe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),a=Xe(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(a,r);let i=e("defs"),s=Xe(e("clipPath"),{id:"clip0_57_156"}),o=Xe(e("rect"),{width:`${xi}`,height:`${xi}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(o),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(o),t}function gw(r){var a=r,{open:e,onFormSubmitted:t}=a,n=Dt(a,["open","onFormSubmitted"]);let i=n.options,s=na(()=>({__html:mw().outerHTML}),[]),[o,l]=dn(null),c=er(()=>{o&&(clearTimeout(o),l(null)),t()},[o]),d=er(u=>{n.onSubmitSuccess(u),l(setTimeout(()=>{t(),l(null)},$1))},[t]);return K(ta,null,o?K("div",{class:"success__position",onClick:c},K("div",{class:"success__content"},i.successMessageText,K("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):K("dialog",{class:"dialog",onClick:i.onFormClose,open:e},K("div",{class:"dialog__position"},K("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},K(dw,{options:i}),K(fw,E(h({},n),{onSubmitSuccess:d}))))))}var _w=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,yw=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,vw=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,bw=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,Sw=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function ww(e){let t=oe.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${_w}
${yw}
${vw}
${bw}
${Sw}
`,e&&t.setAttribute("nonce",e),t}function Ew(){let e=U().getUser(),t=me().getUser(),n=Cn().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var Bf=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let a=r,i=e.useSentryUser,s=Ew(),o=oe.createElement("div"),l=ww(e.styleNonce),c="",d={get el(){return o},appendToDom(){!a.contains(l)&&!a.contains(o)&&(a.appendChild(l),a.appendChild(o))},removeFromDom(){o.remove(),l.remove(),oe.body.style.overflow=c},open(){var f,m;p(!0),(f=e.onFormOpen)==null||f.call(e),(m=T())==null||m.emit("openFeedbackWidget"),c=oe.body.style.overflow,oe.body.style.overflow="hidden"},close(){p(!1),oe.body.style.overflow=c}},u=t==null?void 0:t.createInput({h:K,hooks:lw,dialog:d,options:e}),p=f=>{Z1(K(gw,{options:e,screenshotInput:u,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s&&s[i.name]||"",defaultEmail:i&&s&&s[i.email]||"",onFormClose:()=>{var m;p(!1),(m=e.onFormClose)==null||m.call(e)},onSubmit:n,onSubmitSuccess:m=>{var g;p(!1),(g=e.onSubmitSuccess)==null||g.call(e,m)},onSubmitError:m=>{var g;(g=e.onSubmitError)==null||g.call(e,m)},onFormSubmitted:()=>{var m;(m=e.onFormSubmitted)==null||m.call(e)},open:f}),o)};return d}});function kw({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function Tw(e){let t=oe.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function Iw({h:e}){return function({action:t,setAction:n}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${t==="highlight"?"editor__tool--active":""}`,onClick:()=>{n(t==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:`editor__tool ${t==="hide"?"editor__tool--active":""}`,onClick:()=>{n(t==="hide"?"":"hide")}},"Hide")))}}function xw({hooks:e}){function t(){var a;let[n,r]=e.useState((a=pt.devicePixelRatio)!=null?a:1);return e.useEffect(()=>{let i=()=>{r(pt.devicePixelRatio)},s=matchMedia(`(resolution: ${pt.devicePixelRatio}dppx)`);return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},[]),n}return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:a,onError:i}){let s=t();e.useEffect(()=>{P(this,null,function*(){n();let o=yield Qr.mediaDevices.getDisplayMedia({video:{width:pt.innerWidth*s,height:pt.innerHeight*s},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),l=oe.createElement("video");yield new Promise((c,d)=>{l.srcObject=o,l.onloadedmetadata=()=>{r(l,s),o.getTracks().forEach(u=>u.stop()),c()},l.play().catch(d)}),a()}).catch(i)},[])}}function Cw(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function Jt(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function Ko(e,t){Jt(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function Jo(e,t,n){Jt(e,{alpha:!0},(r,a)=>{n.length&&(a.fillStyle="rgba(0, 0, 0, 0.25)",a.fillRect(0,0,r.width,r.height)),n.forEach(i=>{Cw(i,a,t)})})}function Rw({h:e,hooks:t,outputBuffer:n,dialog:r,options:a}){let i=xw({hooks:t}),s=Iw({h:e}),o=kw({h:e}),l={__html:Tw(a.styleNonce).innerText},c=r.el.style,d=({screenshot:u})=>{let[p,f]=t.useState("highlight"),[m,g]=t.useState([]),y=t.useRef(null),v=t.useRef(null),w=t.useRef(null),M=t.useRef(null),[L,O]=t.useState(1),b=t.useMemo(()=>{let k=oe.getElementById(a.id);if(!k)return"white";let C=getComputedStyle(k);return C.getPropertyValue("--button-primary-background")||C.getPropertyValue("--accent-background")},[a.id]);t.useLayoutEffect(()=>{let k=()=>{let C=y.current;C&&Jt(u.canvas,{alpha:!1},$=>{let G=Math.min(C.clientWidth/$.width,C.clientHeight/$.height);O(G)})};return k(),pt.addEventListener("resize",k),()=>{pt.removeEventListener("resize",k)}},[u]);let I=t.useCallback((k,C)=>{Jt(k,{alpha:!0},($,G)=>{G.scale(C,C),$.width=u.canvas.width,$.height=u.canvas.height})},[u]);t.useEffect(()=>{I(v.current,u.dpi),Ko(v.current,u.canvas)},[u]),t.useEffect(()=>{I(w.current,u.dpi),Jt(w.current,{alpha:!0},(k,C)=>{C.clearRect(0,0,k.width,k.height)}),Jo(w.current,b,m)},[m,b]),t.useEffect(()=>{I(n,u.dpi),Ko(n,u.canvas),Jt(oe.createElement("canvas"),{alpha:!0},(k,C)=>{C.scale(u.dpi,u.dpi),k.width=u.canvas.width,k.height=u.canvas.height,Jo(k,b,m),Ko(n,k)})},[m,u,b]);let W=k=>{if(!p||!M.current)return;let C=M.current.getBoundingClientRect(),$={type:p,x:k.offsetX/L,y:k.offsetY/L},G=(H,he)=>{let te=(he.clientX-C.x)/L,Le=(he.clientY-C.y)/L;return{type:H.type,x:Math.min(H.x,te),y:Math.min(H.y,Le),w:Math.abs(te-H.x),h:Math.abs(Le-H.y)}},D=H=>{Jt(w.current,{alpha:!0},(he,te)=>{te.clearRect(0,0,he.width,he.height)}),Jo(w.current,b,[...m,G($,H)])},X=H=>{let he=G($,H);he.w*L>=1&&he.h*L>=1&&g(te=>[...te,he]),oe.removeEventListener("mousemove",D),oe.removeEventListener("mouseup",X)};oe.addEventListener("mousemove",D),oe.addEventListener("mouseup",X)},S=t.useCallback(k=>C=>{C.preventDefault(),C.stopPropagation(),g($=>{let G=[...$];return G.splice(k,1),G})},[]),R={width:`${u.canvas.width*L}px`,height:`${u.canvas.height*L}px`},x=k=>{k.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:a.styleNonce,dangerouslySetInnerHTML:l}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:y},e("canvas",{ref:v,id:"background",style:R}),e("canvas",{ref:w,id:"foreground",style:R}),e("div",{ref:M,onMouseDown:W,style:R},m.map((k,C)=>e("div",{key:C,class:"editor__rect",style:{top:`${k.y*L}px`,left:`${k.x*L}px`,width:`${k.w*L}px`,height:`${k.h*L}px`}},e("button",{"aria-label":"Remove",onClick:S(C),onMouseDown:x,onMouseUp:x,type:"button"},e(o,null))))))),e(s,{action:p,setAction:f}))};return function({onError:u}){let[p,f]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{c.display="none"},[]),onScreenshot:t.useCallback((m,g)=>{Jt(oe.createElement("canvas"),{alpha:!1},(y,v)=>{v.scale(g,g),y.width=m.videoWidth,y.height=m.videoHeight,v.drawImage(m,0,0,y.width,y.height),f({canvas:y,dpi:g})}),n.width=m.videoWidth,n.height=m.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{c.display="block"},[]),onError:t.useCallback(m=>{c.display="block",u(m)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var Hf=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let a=oe.createElement("canvas");return{input:Rw({h:e,hooks:t,outputBuffer:a,dialog:n,options:r}),value:()=>P(void 0,null,function*(){let i=yield new Promise(s=>{a.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(yield i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}})}}});var Mw=Object.defineProperty,Aw=(e,t)=>{for(var n in t)Mw(e,n,{get:t[n],enumerable:!0})},B=N,ul=0;function nh(){return ul>0}function Ow(){ul++,setTimeout(()=>{ul--})}function rr(e,t={}){function n(a){return typeof a=="function"}if(!n(e))return e;try{let a=e.__sentry_wrapped__;if(a)return typeof a=="function"?a:e;if(gr(e))return e}catch(a){return e}let r=function(...a){try{let i=a.map(s=>rr(s,t));return e.apply(this,i)}catch(i){throw Ow(),$e(s=>{s.addEventProcessor(o=>(t.mechanism&&(_r(o,void 0,void 0),st(o,t.mechanism)),o.extra=E(h({},o.extra),{arguments:a}),o)),gt(i)}),i}};try{for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}catch(a){}ys(r,e),Me(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch(a){}return r}function dl(){let e=qe(),{referrer:t}=B.document||{},{userAgent:n}=B.navigator||{},r=h(h({},t&&{Referer:t}),n&&{"User-Agent":n});return{url:e,headers:r}}var Nw={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},jf=B;function rh(e,t){return P(this,null,function*(){let n=Nw[e],r=jf.Sentry=jf.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let a=r[e];if(typeof a=="function"&&!("_isShim"in a))return a;let i=Lw(n),s=B.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let o=new Promise((u,p)=>{s.addEventListener("load",()=>u()),s.addEventListener("error",p)}),l=B.document.currentScript,c=B.document.body||B.document.head||(l==null?void 0:l.parentElement);if(c)c.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{yield o}catch(u){throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d})}function Lw(e){var n,r;let t=((r=(n=T())==null?void 0:n.getOptions())==null?void 0:r.cdnBaseUrl)||"https://browser.sentry-cdn.com";return new URL(`/${at}/${e}.min.js`,t).toString()}var Dw=Li({lazyLoadIntegration:rh}),Pw=Li({getModalIntegration:()=>Bf,getScreenshotIntegration:()=>Hf}),ah={};Aw(ah,{debug:()=>$w,error:()=>Hw,fatal:()=>jw,fmt:()=>Fu,info:()=>Uw,trace:()=>Fw,warn:()=>Bw});function or(e,t,n,r){va({level:e,message:t,attributes:n,severityNumber:r})}function Fw(e,t){or("trace",e,t)}function $w(e,t){or("debug",e,t)}function Uw(e,t){or("info",e,t)}function Bw(e,t){or("warn",e,t)}function Hw(e,t){or("error",e,t)}function jw(e,t){or("fatal",e,t)}function $i(e,t){let n=ml(e,t),r={type:Yw(t),value:Vw(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function zw(e,t,n,r){var l;let a=(l=T())==null?void 0:l.getOptions().normalizeDepth,i=Xw(t),s={__serialized__:Ms(t,a)};if(i)return{exception:{values:[$i(e,i)]},extra:s};let o={exception:{values:[{type:hr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Kw(t,{isUnhandledRejection:r})}]},extra:s};if(n){let c=ml(e,n);c.length&&(o.exception.values[0].stacktrace={frames:c})}return o}function ol(e,t){return{exception:{values:[$i(e,t)]}}}function ml(e,t){let n=t.stacktrace||t.stack||"",r=Ww(t),a=Gw(t);try{return e(n,r,a)}catch(i){}return[]}var qw=/Minified React error #\d+;/i;function Ww(e){return e&&qw.test(e.message)?1:0}function Gw(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function ih(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Yw(e){let t=e==null?void 0:e.name;return!t&&ih(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Vw(e){let t=e==null?void 0:e.message;return ih(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function sh(e,t,n,r){let a=(n==null?void 0:n.syntheticException)||void 0,i=gl(e,t,a,r);return st(i),i.level="error",n!=null&&n.event_id&&(i.event_id=n.event_id),it(i)}function oh(e,t,n="info",r,a){let i=(r==null?void 0:r.syntheticException)||void 0,s=pl(e,t,i,a);return s.level=n,r!=null&&r.event_id&&(s.event_id=r.event_id),it(s)}function gl(e,t,n,r,a){let i;if(ms(t)&&t.error)return ol(e,t.error);if(gs(t)||kc(t)){let s=t;if("stack"in t)i=ol(e,t);else{let o=s.name||(gs(s)?"DOMError":"DOMException"),l=s.message?`${o}: ${s.message}`:o;i=pl(e,l,n,r),_r(i,l)}return"code"in s&&(i.tags=E(h({},i.tags),{"DOMException.code":`${s.code}`})),i}return Et(t)?ol(e,t):$t(t)||hr(t)?(i=zw(e,t,n,a),st(i,{synthetic:!0}),i):(i=pl(e,t,n,r),_r(i,`${t}`,void 0),st(i,{synthetic:!0}),i)}function pl(e,t,n,r){let a={};if(r&&n){let i=ml(e,n);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),st(a,{synthetic:!0})}if(fr(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return a.logentry={message:i,params:s},a}return a.message=t,a}function Kw(e,{isUnhandledRejection:t}){let n=Cc(e),r=t?"promise rejection":"exception";return ms(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:hr(e)?`Event \`${Jw(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Jw(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}function Xw(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var Zw=5e3,lh=class extends Cu{constructor(e){let t=Qw(e),n=B.SENTRY_SDK_SOURCE||ld();Bu(t,"browser",["browser"],n),super(t);let{sendDefaultPii:r,sendClientReports:a,_experiments:i}=this._options,s=i==null?void 0:i.enableLogs;B.document&&(a||s)&&B.document.addEventListener("visibilitychange",()=>{B.document.visibilityState==="hidden"&&(a&&this._flushOutcomes(),s&&Cr(this))}),s&&(this.on("flush",()=>{Cr(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Cr(this)},Zw)})),r&&(this.on("postprocessEvent",$u),this.on("beforeSendSession",Uu))}eventFromException(e,t){return sh(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return oh(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}};function Qw(e){var t;return h({release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=B.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0},e)}function _l(e,t=Ur("fetch")){let n=0,r=0;function a(i){let s=i.body.length;n+=s,r++;let o=h({body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);if(!t)return uo("fetch"),Er("No fetch implementation available");try{return t(e.url,o).then(l=>(n-=s,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return uo("fetch"),n-=s,r--,Er(l)}}return La(e,a)}var eE=10,tE=20,nE=30,rE=40,aE=50;function ar(e,t,n,r){let a={filename:e,function:t==="<anonymous>"?et:t,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}var iE=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,sE=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,oE=/\((\S*)(?::(\d+))(?::(\d+))\)/,lE=e=>{let t=iE.exec(e);if(t){let[,r,a,i]=t;return ar(r,et,+a,+i)}let n=sE.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let i=oE.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}let[r,a]=fh(n[1]||et,n[2]);return ar(a,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},ch=[nE,lE],cE=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,uE=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,dE=e=>{let t=cE.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let a=uE.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let n=t[3],r=t[1]||et;return[r,n]=fh(r,n),ar(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},uh=[aE,dE],pE=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fE=e=>{let t=pE.exec(e);return t?ar(t[2],t[1]||et,+t[3],t[4]?+t[4]:void 0):void 0},hE=[rE,fE],mE=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,gE=e=>{let t=mE.exec(e);return t?ar(t[2],t[3]||et,+t[1]):void 0},_E=[eE,gE],yE=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,vE=e=>{let t=yE.exec(e);return t?ar(t[5],t[3]||t[4]||et,+t[1],+t[2]):void 0},bE=[tE,vE],dh=[ch,uh],ph=Is(...dh),fh=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:et,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function SE(e,{metadata:t,tunnel:n,dsn:r}){let a=h(h({event_id:e.event_id,sent_at:new Date().toISOString()},(t==null?void 0:t.sdk)&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),!!n&&!!r&&{dsn:zt(r)}),i=wE(e);return ut(a,[i])}function wE(e){return[{type:"user_report"},e]}var J=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pi=1024,EE="Breadcrumbs",kE=(e={})=>{let t=h({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e);return{name:EE,setup(n){t.console&&$a(xE(n)),t.dom&&ei(IE(n,t.dom)),t.xhr&&Un(CE(n)),t.fetch&&Nn(RE(n)),t.history&&Gt(ME(n)),t.sentry&&n.on("beforeSendEvent",TE(n))}}},hh=kE;function TE(e){return function(t){T()===e&&Ke({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:Ft(t)},{event:t})}}function IE(e,t){return function(n){if(T()!==e)return;let r,a,i=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>Pi&&(J&&_.warn(`\`dom.maxStringLength\` cannot exceed ${Pi}, but a value of ${s} was configured. Sentry will use ${Pi} instead.`),s=Pi),typeof i=="string"&&(i=[i]);try{let l=n.event,c=AE(l)?l.target:l;r=ze(c,{keyAttrs:i,maxStringLength:s}),a=ka(c)}catch(l){r="<unknown>"}if(r.length===0)return;let o={category:`ui.${n.name}`,message:r};a&&(o.data={"ui.component_name":a}),Ke(o,{event:n.event,name:n.name,global:n.global})}}function xE(e){return function(t){if(T()!==e)return;let n={category:"console",data:{arguments:t.args,logger:"console"},level:Mr(t.level),message:wn(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)n.message=`Assertion failed: ${wn(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1);else return;Ke(n,{input:t.args,level:t.level})}}function CE(e){return function(t){if(T()!==e)return;let{startTimestamp:n,endTimestamp:r}=t,a=t.xhr[Ge];if(!n||!r||!a)return;let{method:i,url:s,status_code:o,body:l}=a,c={method:i,url:s,status_code:o},d={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r},u={category:"xhr",data:c,type:"http",level:Ys(o)};e.emit("beforeOutgoingRequestBreadcrumb",u,d),Ke(u,d)}}function RE(e){return function(t){if(T()!==e)return;let{startTimestamp:n,endTimestamp:r}=t;if(r&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.fetchData.method,t.fetchData.url,t.error){let a=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},s={category:"fetch",data:a,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",s,i),Ke(s,i)}else{let a=t.response,i=E(h({},t.fetchData),{status_code:a==null?void 0:a.status});t.fetchData.request_body_size,t.fetchData.response_body_size,a==null||a.status;let s={input:t.args,response:a,startTimestamp:n,endTimestamp:r},o={category:"fetch",data:i,type:"http",level:Ys(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",o,s),Ke(o,s)}}}function ME(e){return function(t){if(T()!==e)return;let n=t.from,r=t.to,a=_t(B.location.href),i=n?_t(n):void 0,s=_t(r);i!=null&&i.path||(i=a),a.protocol===s.protocol&&a.host===s.host&&(r=s.relative),a.protocol===i.protocol&&a.host===i.host&&(n=i.relative),Ke({category:"navigation",data:{from:n,to:r}})}}function AE(e){return!!e&&!!e.target}var OE=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],NE="BrowserApiErrors",LE=(e={})=>{let t=h({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1},e);return{name:NE,setupOnce(){t.setTimeout&&we(B,"setTimeout",zf),t.setInterval&&we(B,"setInterval",zf),t.requestAnimationFrame&&we(B,"requestAnimationFrame",DE),t.XMLHttpRequest&&"XMLHttpRequest"in B&&we(XMLHttpRequest.prototype,"send",PE);let n=t.eventTarget;n&&(Array.isArray(n)?n:OE).forEach(r=>FE(r,t))}}},mh=LE;function zf(e){return function(...t){let n=t[0];return t[0]=rr(n,{mechanism:{data:{function:ot(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function DE(e){return function(t){return e.apply(this,[rr(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ot(e)},handled:!1,type:"instrument"}})])}}function PE(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&we(n,r,function(a){let i={mechanism:{data:{function:r,handler:ot(a)},handled:!1,type:"instrument"}},s=gr(a);return s&&(i.mechanism.data.handler=ot(s)),rr(a,i)})}),e.apply(this,t)}}function FE(e,t){var r,a;let n=(r=B[e])==null?void 0:r.prototype;(a=n==null?void 0:n.hasOwnProperty)!=null&&a.call(n,"addEventListener")&&(we(n,"addEventListener",function(i){return function(s,o,l){try{$E(o)&&(o.handleEvent=rr(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ot(o),target:e},handled:!1,type:"instrument"}}))}catch(c){}return t.unregisterOriginalCallbacks&&UE(this,s,o),i.apply(this,[s,rr(o,{mechanism:{data:{function:"addEventListener",handler:ot(o),target:e},handled:!1,type:"instrument"}}),l])}}),we(n,"removeEventListener",function(i){return function(s,o,l){try{let c=o.__sentry_wrapped__;c&&i.call(this,s,c,l)}catch(c){}return i.call(this,s,o,l)}}))}function $E(e){return typeof e.handleEvent=="function"}function UE(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var gh=()=>({name:"BrowserSession",setupOnce(){if(typeof B.document>"u"){J&&_.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Tr({ignoreDuration:!0}),Ir(),Gt(({from:e,to:t})=>{e!==void 0&&e!==t&&(Tr({ignoreDuration:!0}),Ir())})}}),BE="GlobalHandlers",HE=(e={})=>{let t=h({onerror:!0,onunhandledrejection:!0},e);return{name:BE,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(jE(n),qf("onerror")),t.onunhandledrejection&&(zE(n),qf("onunhandledrejection"))}}},_h=HE;function jE(e){xs(t=>{let{stackParser:n,attachStacktrace:r}=yh();if(T()!==e||nh())return;let{msg:a,url:i,line:s,column:o,error:l}=t,c=GE(gl(n,l||a,void 0,r,!1),i,s,o);c.level="error",qt(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function zE(e){Cs(t=>{let{stackParser:n,attachStacktrace:r}=yh();if(T()!==e||nh())return;let a=qE(t),i=Ea(a)?WE(a):gl(n,a,void 0,r,!0);i.level="error",qt(i,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function qE(e){if(Ea(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return e}function WE(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function GE(e,t,n,r){let a=e.exception=e.exception||{},i=a.values=a.values||[],s=i[0]=i[0]||{},o=s.stacktrace=s.stacktrace||{},l=o.frames=o.frames||[],c=r,d=n,u=je(t)&&t.length>0?t:qe();return l.length===0&&l.push({colno:c,filename:u,function:et,in_app:!0,lineno:d}),e}function qf(e){J&&_.log(`Global Handler attached: ${e}`)}function yh(){var e;return((e=T())==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}var vh=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!B.navigator&&!B.location&&!B.document)return;let t=dl(),n=h(h({},t.headers),(r=e.request)==null?void 0:r.headers);e.request=E(h(h({},t),e.request),{headers:n})}}),YE="cause",VE=5,KE="LinkedErrors",JE=(e={})=>{let t=e.limit||VE,n=e.key||YE;return{name:KE,preprocessEvent(r,a,i){let s=i.getOptions();Hu($i,s.stackParser,n,t,r,a)}}},bh=JE;function XE(){return ZE()?(J&&Ct(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function ZE(){var r,a;if(typeof B.window>"u")return!1;let e=B;if(e.nw||!((a=(r=e.chrome||e.browser)==null?void 0:r.runtime)!=null&&a.id))return!1;let t=qe(),n=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(B===B.top&&n.some(i=>t.startsWith(`${i}://`)))}function Sh(e){return[Fa(),Pa(),mh(),hh(),_h(),bh(),Ua(),vh(),gh()]}function yl(e={}){let t=!e.skipBrowserExtensionCheck&&XE(),n=E(h({},e),{enabled:t?!1:e.enabled,stackParser:Jc(e.stackParser||ph),integrations:Eu({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Sh():e.defaultIntegrations}),transport:e.transport||_l});return Au(lh,n)}function QE(){}function ek(e){e()}function tk(e={}){var c;let t=B.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){J&&_.error("[showReportDialog] Global document not defined");return}let r=U(),a=(c=T())==null?void 0:c.getDsn();if(!a){J&&_.error("[showReportDialog] DSN not configured");return}let i=E(h({},e),{user:h(h({},r.getUser()),e.user),eventId:e.eventId||Aa()}),s=B.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=wu(a,i);let{onLoad:o,onClose:l}=i;if(o&&(s.onload=o),l){let d=u=>{if(u.data==="__sentry_reportdialog_closed__")try{l()}finally{B.removeEventListener("message",d)}};B.addEventListener("message",d)}n.appendChild(s)}var nk=N,rk="ReportingObserver",Wf=new WeakMap,ak=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(Wf.has(T()))for(let a of r)$e(i=>{i.setExtra("url",a.url);let s=`ReportingObserver [${a.type}]`,o="No details available";if(a.body){let l={};for(let c in a.body)l[c]=a.body[c];if(i.setExtra("body",l),a.type==="crash"){let c=a.body;o=[c.crashId||"",c.reason||""].join(" ").trim()||o}else o=a.body.message||o}Tn(`${s}: ${o}`)})}return{name:rk,setupOnce(){id()&&new nk.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Wf.set(r,!0)}}},ik=ak,sk="HttpClient",ok=(e={})=>{let t=h({failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/]},e);return{name:sk,setup(n){gk(n,t),_k(n,t)}}},lk=ok;function ck(e,t,n,r,a){if(Eh(e,n.status,n.url)){let i=yk(t,r),s,o,l,c;Th()&&([s,l]=Gf("Cookie",i),[o,c]=Gf("Set-Cookie",n));let d=kh({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:o,requestCookies:l,responseCookies:c,error:a});qt(d)}}function Gf(e,t){let n=pk(t.headers),r;try{let a=n[e]||n[e.toLowerCase()]||void 0;a&&(r=wh(a))}catch(a){}return[n,r]}function uk(e,t,n,r,a){if(Eh(e,t.status,t.responseURL)){let i,s,o;if(Th()){try{let c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(s=wh(c))}catch(c){}try{o=fk(t)}catch(c){}i=r}let l=kh({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:o,responseCookies:s,error:a});qt(l)}}function dk(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function wh(e){return e.split("; ").reduce((t,n)=>{let[r,a]=n.split("=");return r&&a&&(t[r]=a),t},{})}function pk(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function fk(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[a,i]=r.split(": ");return a&&i&&(n[a]=i),n},{}):{}}function hk(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function mk(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function gk(e,t){Vs()&&Nn(n=>{if(T()!==e)return;let{response:r,args:a,error:i,virtualError:s}=n,[o,l]=a;r&&ck(t,o,r,l,i||s)},!1)}function _k(e,t){"XMLHttpRequest"in N&&Un(n=>{if(T()!==e)return;let{error:r,virtualError:a}=n,i=n.xhr,s=i[Ge];if(!s)return;let{method:o,request_headers:l}=s;try{uk(t,i,o,l,r||a)}catch(c){J&&_.warn("Error while extracting response event form XHR response",c)}})}function Eh(e,t,n){return mk(e.failedRequestStatusCodes,t)&&hk(e.failedRequestTargets,n)&&!Da(n,T())}function kh(e){let t=T(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,a=`HTTP Client Error with status code: ${e.status}`,i={message:a,exception:{values:[{type:"Error",value:a,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:dk(e.responseHeaders)}}};return st(i,{type:"http.client",handled:!1}),i}function yk(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Th(){let e=T();return e?!!e.getOptions().sendDefaultPii:!1}var ll=N,vk=7,bk="ContextLines",Sk=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:vk;return{name:bk,processEvent(n){return Ek(n,t)}}},wk=Sk;function Ek(e,t){var o;let n=ll.document,r=ll.location&&ja(ll.location.href);if(!n||!r)return e;let a=(o=e.exception)==null?void 0:o.values;if(!(a!=null&&a.length))return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return a.forEach(l=>{let c=l.stacktrace;c!=null&&c.frames&&(c.frames=c.frames.map(d=>kk(d,s,r,t)))}),e}function kk(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Mc(t,e,r),e}var Tk="GraphQLClient",Ik=e=>({name:Tk,setup(t){xk(t,e),Ck(t,e)}});function xk(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let a=F(n).data||{};if(a[Ne]!=="http.client")return;let i=a[Dc]||a["http.url"],s=a[Lc]||a["http.method"];if(!je(i)||!je(s))return;let{endpoints:o}=t,l=Fe(i,o),c=xh(r);if(l&&c){let d=Ch(c);if(d){let u=Ih(d);n.updateName(`${s} ${i} (${u})`),n.setAttribute("graphql.document",c)}}})}function Ck(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:a,type:i,data:s}=n;if(i==="http"&&(a==="fetch"||a==="xhr")){let o=s==null?void 0:s.url,{endpoints:l}=t,c=Fe(o,l),d=xh(r);if(c&&s&&d){let u=Ch(d);if(!s.graphql&&u){let p=Ih(u);s["graphql.document"]=u.query,s["graphql.operation"]=p}}}})}function Ih(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:a}=Rk(t);return r?`${a} ${r}`:`${a}`}function xh(e){let t="xhr"in e,n;if(t){let r=e.xhr[Ge];n=r&&Bn(r.body)[0]}else{let r=Br(e.input);n=Bn(r)[0]}return n}function Rk(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let a=e.match(n);return a?{operationType:a[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function Ch(e){let t;try{let n=JSON.parse(e);n.query&&(t=n)}finally{return t}}var Mk=Ik,Yf=new WeakMap,cl=new Map,vl={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Rh(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:a,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:o,onRequestSpanStart:l}=h(h({},vl),t),c=typeof i=="function"?i:p=>!0,d=p=>Nk(p,o),u={};n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(f=>{if(f.op==="http.client"){let m=cl.get(f.span_id);m&&(f.timestamp=m/1e3,cl.delete(f.span_id))}}),p)),a&&sd(p=>{if(p.response){let f=Yf.get(p.response);f&&p.endTimestamp&&cl.set(f,p.endTimestamp)}}),Nn(p=>{let f=nd(p,c,d,u);if(p.response&&p.fetchData.__span&&Yf.set(p.response,p.fetchData.__span),f){let m=Mh(p.fetchData.url),g=m?_t(m).host:void 0;f.setAttributes({"http.url":m,"server.address":g}),s&&Vf(f),l==null||l(f,{headers:p.headers})}})),r&&Un(p=>{var m;let f=Lk(p,c,d,u);if(f){s&&Vf(f);let g;try{g=new Headers((m=p.xhr.__sentry_xhr_v3__)==null?void 0:m.request_headers)}catch(y){}l==null||l(f,{headers:g})}})}function Ak(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Vf(e){let{url:t}=F(e).data;if(!t||typeof t!="string")return;let n=Wt("resource",({entries:r})=>{r.forEach(a=>{Ak(a)&&a.name.endsWith(t)&&(Ok(a).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function vt(e=0){return((be()||performance.timeOrigin)+e)/1e3}function Ok(e){let{name:t,version:n}=co(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),be()?[...r,["http.request.redirect_start",vt(e.redirectStart)],["http.request.fetch_start",vt(e.fetchStart)],["http.request.domain_lookup_start",vt(e.domainLookupStart)],["http.request.domain_lookup_end",vt(e.domainLookupEnd)],["http.request.connect_start",vt(e.connectStart)],["http.request.secure_connection_start",vt(e.secureConnectionStart)],["http.request.connection_end",vt(e.connectEnd)],["http.request.request_start",vt(e.requestStart)],["http.request.response_start",vt(e.responseStart)],["http.request.response_end",vt(e.responseEnd)]]:r}function Nk(e,t){let n=qe();if(n){let r,a;try{r=new URL(e,n),a=new URL(n).origin}catch(s){return!1}let i=r.origin===a;return t?Fe(r.toString(),t)||i&&Fe(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?Fe(e,t):r}}function Lk(e,t,n,r){let a=e.xhr,i=a==null?void 0:a[Ge];if(!a||a.__sentry_own_request__||!i)return;let{url:s,method:o}=i,l=It()&&t(s);if(e.endTimestamp&&l){let g=a.__sentry_xhr_span_id__;if(!g)return;let y=r[g];y&&i.status_code!==void 0&&(nn(y,i.status_code),y.end(),delete r[g]);return}let c=Mh(s),d=c?_t(c):_t(s),u=ja(s),p=!!de(),f=l&&p?Rt({name:`${o} ${u}`,attributes:h(h({url:s,type:"xhr","http.method":o,"http.url":c,"server.address":d==null?void 0:d.host,[ae]:"auto.http.browser",[Ne]:"http.client"},(d==null?void 0:d.search)&&{"http.query":d==null?void 0:d.search}),(d==null?void 0:d.hash)&&{"http.fragment":d==null?void 0:d.hash})}):new mt;a.__sentry_xhr_span_id__=f.spanContext().spanId,r[a.__sentry_xhr_span_id__]=f,n(s)&&Dk(a,It()&&p?f:void 0);let m=T();return m&&m.emit("beforeOutgoingRequestSpan",f,e),f}function Dk(e,t){let{"sentry-trace":n,baggage:r}=Rr({span:t});n&&Pk(e,n,r)}function Pk(e,t,n){var a;let r=(a=e.__sentry_xhr_v3__)==null?void 0:a.request_headers;if(!(r!=null&&r["sentry-trace"]))try{if(e.setRequestHeader("sentry-trace",t),n){let i=r==null?void 0:r.baggage;(!i||!Fk(i))&&e.setRequestHeader("baggage",n)}}catch(i){}}function Fk(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Mh(e){try{return new URL(e,B.location.origin).href}catch(t){return}}function $k(){B.document?B.document.addEventListener("visibilitychange",()=>{let e=de();if(!e)return;let t=ue(e);if(B.document.hidden&&t){let n="cancelled",{op:r,status:a}=F(t);J&&_.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),a||t.setStatus({code:Fc,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):J&&_.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Uk=3600,Ah="sentry_previous_trace",Bk="sentry.previous_trace";function Hk(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",a=r?qk():void 0;e.on("spanStart",s=>{if(ue(s)!==s)return;let o=U().getPropagationContext();a=jk(a,s,o),r&&zk(a)});let i=!0;n&&e.on("beforeSampling",s=>{if(!a)return;let o=U(),l=o.getPropagationContext();if(i&&l.parentSpanId){i=!1;return}o.setPropagationContext(E(h({},l),{dsc:E(h({},l.dsc),{sample_rate:String(a.sampleRate),sampled:String(fl(a.spanContext))}),sampleRand:a.sampleRand})),s.parentSampled=fl(a.spanContext),s.parentSampleRate=a.sampleRate,s.spanAttributes=E(h({},s.spanAttributes),{[vs]:a.sampleRate})})}function jk(e,t,n){let r=F(t);function a(){var o,l,c;try{return(c=Number((o=n.dsc)==null?void 0:o.sample_rate))!=null?c:Number((l=r.data)==null?void 0:l[Rn])}catch(d){return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:a(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=Uk&&(J&&_.info(`Adding previous_trace ${s} link to span ${h({op:r.op},t.spanContext())}`),t.addLink({context:s,attributes:{[Pc]:"previous_trace"}}),t.setAttribute(Bk,`${s.traceId}-${s.spanId}-${fl(s)?1:0}`)),i)}function zk(e){try{B.sessionStorage.setItem(Ah,JSON.stringify(e))}catch(t){J&&_.warn("Could not store previous trace in sessionStorage",t)}}function qk(){var e;try{let t=(e=B.sessionStorage)==null?void 0:e.getItem(Ah);return JSON.parse(t)}catch(t){return}}function fl(e){return e.traceFlags===1}var Wk="BrowserTracing",Gk=h(E(h({},lr),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{}}),vl),bl=(e={})=>{let t={name:void 0,source:void 0},n=B.document,{enableInp:r,enableLongTask:a,enableLongAnimationFrame:i,_experiments:{enableInteractions:s,enableStandaloneClsSpans:o},beforeStartSpan:l,idleTimeout:c,finalTimeout:d,childSpanTimeout:u,markBackgroundSpan:p,traceFetch:f,traceXHR:m,trackFetchStreamPerformance:g,shouldCreateSpanForRequest:y,enableHTTPTimings:v,ignoreResourceSpans:w,ignorePerformanceApiSpans:M,instrumentPageLoad:L,instrumentNavigation:O,linkPreviousTrace:b,consistentTraceSampling:I,onRequestSpanStart:W}=h(h({},Gk),e),S;function R(x,k){let C=k.op==="pageload",$=l?l(k):k,G=$.attributes||{};k.name!==$.name&&(G[Pe]="custom",$.attributes=G),t.name=$.name,t.source=G[Pe];let D=Fs($,{idleTimeout:c,finalTimeout:d,childSpanTimeout:u,disableAutoFinish:C,beforeSpanEnd:H=>{S==null||S(),Cd(H,{recordClsOnPageloadSpan:!o,ignoreResourceSpans:w,ignorePerformanceApiSpans:M}),Jf(x,void 0);let he=U(),te=he.getPropagationContext();he.setPropagationContext(E(h({},te),{traceId:D.spanContext().traceId,sampled:jt(D),dsc:Ve(H)}))}});Jf(x,D);function X(){n&&["interactive","complete"].includes(n.readyState)&&x.emit("idleSpanEnableAutoFinish",D)}C&&n&&(n.addEventListener("readystatechange",()=>{X()}),X())}return{name:Wk,setup(x){Ta(),S=kd({recordClsStandaloneSpans:o||!1}),r&&Rd(),i&&N.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Id():a&&Td(),s&&xd();function k(){let C=Ui(x);C&&!F(C).timestamp&&(J&&_.log(`[Tracing] Finishing current active span with op: ${F(C).op}`),C.setAttribute(dr,"cancelled"),C.end())}x.on("startNavigationSpan",C=>{if(T()!==x)return;k(),me().setPropagationContext({traceId:ht(),sampleRand:Math.random()});let $=U();$.setPropagationContext({traceId:ht(),sampleRand:Math.random()}),$.setSDKProcessingMetadata({normalizedRequest:void 0}),R(x,h({op:"navigation"},C))}),x.on("startPageLoadSpan",(C,$={})=>{if(T()!==x)return;k();let G=$.sentryTrace||Kf("sentry-trace"),D=$.baggage||Kf("baggage"),X=Es(G,D),H=U();H.setPropagationContext(X),H.setSDKProcessingMetadata({normalizedRequest:dl()}),R(x,h({op:"pageload"},C))})},afterAllSetup(x){let k=qe();if(b!=="off"&&Hk(x,{linkPreviousTrace:b,consistentTraceSampling:I}),B.location){if(L){let C=be();Oh(x,{name:B.location.pathname,startTime:C?C/1e3:void 0,attributes:{[Pe]:"url",[ae]:"auto.pageload.browser"}})}O&&Gt(({to:C,from:$})=>{if($===void 0&&(k==null?void 0:k.indexOf(C))!==-1){k=void 0;return}k=void 0;let G=Gs(C);Nh(x,{name:(G==null?void 0:G.pathname)||B.location.pathname,attributes:{[Pe]:"url",[ae]:"auto.navigation.browser"}}),U().setSDKProcessingMetadata({normalizedRequest:E(h({},dl()),{url:C})})})}p&&$k(),s&&Yk(x,c,d,u,t),r&&Md(),Rh(x,{traceFetch:f,traceXHR:m,trackFetchStreamPerformance:g,tracePropagationTargets:x.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:y,enableHTTPTimings:v,onRequestSpanStart:W})}}};function Oh(e,t,n){return e.emit("startPageLoadSpan",t,n),U().setTransactionName(t.name),Ui(e)}function Nh(e,t){return e.emit("startNavigationSpan",t),U().setTransactionName(t.name),Ui(e)}function Kf(e){var t,n;return((n=(t=B.document)==null?void 0:t.querySelector(`meta[name=${e}]`))==null?void 0:n.getAttribute("content"))||void 0}function Yk(e,t,n,r,a){let i=B.document,s,o=()=>{let l="ui.action.click",c=Ui(e);if(c){let d=F(c).op;if(["navigation","pageload"].includes(d)){J&&_.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(dr,"interactionInterrupted"),s.end(),s=void 0),!a.name){J&&_.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}s=Fs({name:a.name,op:l,attributes:{[Pe]:a.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",o,{once:!1,capture:!0})}var Lh="_sentry_idleSpan";function Ui(e){return e[Lh]}function Jf(e,t){Me(e,Lh,t)}function ir(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Vk(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=ir(n);return a=>r.then(i=>a(i.transaction(t,"readwrite").objectStore(t)))}function Sl(e){return ir(e.getAllKeys())}function Kk(e,t,n){return e(r=>Sl(r).then(a=>{if(!(a.length>=n))return r.put(t,Math.max(...a,0)+1),ir(r.transaction)}))}function Jk(e,t,n){return e(r=>Sl(r).then(a=>{if(!(a.length>=n))return r.put(t,Math.min(...a,0)-1),ir(r.transaction)}))}function Xk(e){return e(t=>Sl(t).then(n=>{let r=n[0];if(r!=null)return ir(t.get(r)).then(a=>(t.delete(r),ir(t.transaction).then(()=>a)))}))}function Zk(e){let t;function n(){return t==null&&(t=Vk(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:r=>P(this,null,function*(){try{let a=yield On(r);yield Kk(n(),a,e.maxQueueSize||30)}catch(a){}}),unshift:r=>P(this,null,function*(){try{let a=yield On(r);yield Jk(n(),a,e.maxQueueSize||30)}catch(a){}}),shift:()=>P(this,null,function*(){try{let r=yield Xk(n());if(r)return au(r)}catch(r){}})}}function Qk(e){return t=>{let n=e(E(h({},t),{createStore:Zk}));return B.addEventListener("online",r=>P(this,null,function*(){yield n.flush()})),n}}function eT(e=_l){return Qk(Lu(e))}var Xf=1e6,Fi=String(0),tT="main",nt=B.navigator,Dh="",Ph="",Fh="",hl=(nt==null?void 0:nt.userAgent)||"",$h="",th,nT=(nt==null?void 0:nt.language)||((th=nt==null?void 0:nt.languages)==null?void 0:th[0])||"";function rT(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var Zf=nt==null?void 0:nt.userAgentData;rT(Zf)&&Zf.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{var t;if(Dh=e.platform||"",Fh=e.architecture||"",$h=e.model||"",Ph=e.platformVersion||"",(t=e.fullVersionList)==null?void 0:t.length){let n=e.fullVersionList[e.fullVersionList.length-1];hl=`${n.brand} ${n.version}`}}).catch(e=>{});function aT(e){return!("thread_metadata"in e)}function iT(e){return aT(e)?lT(e):e}function sT(e){var n,r;let t=(r=(n=e.contexts)==null?void 0:n.trace)==null?void 0:r.trace_id;return typeof t=="string"&&t.length!==32&&J&&_.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function oT(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let a=sT(r),i=iT(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:_e()*1e3),o=typeof r.timestamp=="number"?r.timestamp*1e3:_e()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Sr,runtime:{name:"javascript",version:B.navigator.userAgent},os:{name:Dh,version:Ph,build_number:hl},device:{locale:nT,model:$h,manufacturer:hl,architecture:Fh,is_emulator:!1},debug_meta:{images:dT(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||ke(),trace_id:a,active_thread_id:Fi,relative_start_ns:"0",relative_end_ns:((o-s)*1e6).toFixed(0)}]}}function Uh(e){return F(e).op==="pageload"}function lT(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[Fi]:{name:tT}}},a=e.samples[0];if(!a)return r;let i=a.timestamp,s=be(),o=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,l=o-(s||o);return e.samples.forEach((c,d)=>{if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((c.timestamp+l-i)*Xf).toFixed(0),stack_id:t,thread_id:Fi};return}let u=e.stacks[c.stackId],p=[];for(;u;){p.push(u.frameId);let m=e.frames[u.frameId];m&&r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}let f={elapsed_since_start_ns:((c.timestamp+l-i)*Xf).toFixed(0),stack_id:n,thread_id:Fi};r.stacks[n]=p,r.samples[d]=f,n++}),r}function cT(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function uT(e){let t=[];return Bt(e,(n,r)=>{if(r==="transaction")for(let a=1;a<n.length;a++){let i=n[a];i!=null&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[a])}}),t}function dT(e){var n,r;let t=(r=(n=T())==null?void 0:n.getOptions())==null?void 0:r.stackParser;return t?du(t,e):[]}function pT(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(J&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(J&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function fT(e){return e.samples.length<2?(J&&_.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(J&&_.log("[Profiling] Discarding profile because it contains no frames"),!1)}var Bh=!1,Hh=3e4;function hT(e){return typeof e=="function"}function mT(){let e=B.Profiler;if(!hT(e)){J&&_.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Hh/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch(r){J&&(_.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),_.log("[Profiling] Disabling profiling for current user session.")),Bh=!0}}function Qf(e){var r;if(Bh)return J&&_.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return J&&_.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=(r=T())==null?void 0:r.getOptions();if(!t)return J&&_.log("[Profiling] Profiling disabled, no options found."),!1;let n=t.profilesSampleRate;return pT(n)?n?n===!0||Math.random()<n?!0:(J&&_.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(J&&_.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(J&&_.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function gT(e,t,n,r){return fT(n)?oT(e,t,n,r):null}var fn=new Map;function _T(){return fn.size}function yT(e){let t=fn.get(e);return t&&fn.delete(e),t}function vT(e,t){if(fn.set(e,t),fn.size>30){let n=fn.keys().next().value;fn.delete(n)}}function eh(e){let t;Uh(e)&&(t=_e()*1e3);let n=mT();if(!n)return;J&&_.log(`[Profiling] started profiling span: ${F(e).description}`);let r=ke();U().setContext("profile",{profile_id:r,start_timestamp:t});function a(){return P(this,null,function*(){if(e&&n)return n.stop().then(l=>{if(i&&(B.clearTimeout(i),i=void 0),J&&_.log(`[Profiling] stopped profiling of span: ${F(e).description}`),!l){J&&_.log(`[Profiling] profiler returned null profile for: ${F(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}vT(r,l)}).catch(l=>{J&&_.log("[Profiling] error while stopping profiler:",l)})})}let i=B.setTimeout(()=>{J&&_.log("[Profiling] max profile duration elapsed, stopping profiling for:",F(e).description),a()},Hh),s=e.end.bind(e);function o(){return e?(a().then(()=>{s()},()=>{s()}),e):s()}e.end=o}var bT="BrowserProfiling",ST=()=>({name:bT,setup(e){let t=de(),n=t&&ue(t);n&&Uh(n)&&Qf(n)&&eh(n),e.on("spanStart",r=>{r===ue(r)&&Qf(r)&&eh(r)}),e.on("beforeEnvelope",r=>{var s,o;if(!_T())return;let a=uT(r);if(!a.length)return;let i=[];for(let l of a){let c=l==null?void 0:l.contexts,d=(s=c==null?void 0:c.profile)==null?void 0:s.profile_id,u=(o=c==null?void 0:c.profile)==null?void 0:o.start_timestamp;if(typeof d!="string"){J&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!d){J&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}c!=null&&c.profile&&delete c.profile;let p=yT(d);if(!p){J&&_.log(`[Profiling] Could not retrieve profile for span: ${d}`);continue}let f=gT(d,u,p,l);f&&i.push(f)}cT(r,i)})}}),wT=ST,ET="SpotlightBrowser",kT=(e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:ET,setup:()=>{J&&_.log("Using Sidecar URL",t)},processEvent:n=>xT(n)?null:n,afterAllSetup:n=>{TT(n,t)}}};function TT(e,t){let n=Ur("fetch"),r=0;e.on("beforeEnvelope",a=>{if(r>3){_.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:On(a),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,_.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var IT=kT;function xT(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t==null?void 0:t.includes("#sentry-spotlight")))}var CT=100;function ra(e){let t=U().getScopeData().contexts.flags,n=t?t.values:[];return n.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...n]}),e}function sr(e,t,n=CT){let r=U().getScopeData().contexts;r.flags||(r.flags={values:[]});let a=r.flags.values;RT(a,e,t,n)}function RT(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){J&&_.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let a=e.findIndex(i=>i.flag===t);a!==-1&&e.splice(a,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}var MT=()=>({name:"FeatureFlags",processEvent(e,t,n){return ra(e)},addFeatureFlag(e,t){sr(e,t)}}),AT=()=>({name:"LaunchDarkly",processEvent(e,t,n){return ra(e)}});function OT(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{sr(e,t.value)}}}var NT=()=>({name:"OpenFeature",processEvent(e,t,n){return ra(e)}}),LT=class{after(e,t){sr(t.flagKey,t.value)}error(e,t,n){sr(e.flagKey,e.defaultValue)}},DT=({featureFlagClientClass:e})=>({name:"Unleash",processEvent(t,n,r){return ra(t)},setupOnce(){let t=e.prototype;we(t,"isEnabled",PT)}});function PT(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?sr(n,r):J&&_.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var FT=({featureFlagClient:e})=>({name:"Statsig",processEvent(t,n,r){return ra(t)},setup(){e.on("gate_evaluation",t=>{sr(t.gate.name,t.gate.value)})}});function $T(){return P(this,null,function*(){let e=T();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{yield fetch("https://o447951.ingest.sentry.io/api/1337/envelope/?sentry_version=7&sentry_key=1337&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"})}catch(t){return"sentry-unreachable"}})}var zh=/(\.dev|www-[a-z0-9]+)\.archive\.org$/.test(window.location.origin)?"review":"production",El=document.querySelector("head"),UT=El.getAttribute("data-release")||"unset",BT=El.getAttribute("data-node")||"unknown",HT="https://1975dc711a374a438885e671105ce869@sink.archive.org/6",Bi=zh==="production",jT=Bi?.01:1,zT=Bi?.05:1;function jh(e){let t=e.split("/").slice(1);if(/^\/(details|download)\/.+/.test(e)){let n=El.querySelector('meta[property="mediatype"]').getAttribute("content");return`/${t[0]}/<${n}>`}return/^\/post\/\d+/.test(e)?`/${t[0]}/<id>`:e}yl({dsn:HT,attachStacktrace:!0,autoSessionTracking:!Bi,debug:!Bi,environment:zh,release:UT,tracesSampleRate:jT,integrations:[bl({beforeStartSpan:e=>E(h({},e),{name:jh(location.pathname)})})],beforeSend(e){let t=jh(location.pathname);return t!==location.pathname&&(e.transaction=t),e},sampleRate:zT});Ma("server_name",BT);window.Sentry=wl;})();
// @license-end
//# sourceMappingURL=ia-sentry.min.js.map
